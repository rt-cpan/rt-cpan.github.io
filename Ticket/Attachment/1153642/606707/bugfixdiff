diff /tmp/IPv4.pm IPv4.pm
50,51c50,57
<   return unless $bits =~ /^(1*)0*$/;
<   return length( $1 ) - 8;
---
>   return unless $bits =~ /^(1*)(0*)$/;
>   my $b_1 = $1;
>   my $b_0 = $2;
>   my $netp = ( $lo & $mask );
>   my $netp_bits = unpack 'B*', $netp;
>   my $highest = substr($netp_bits, 0, (length($netp_bits) - (length($b_0)))) . "1" x length($b_0);
>   return if($highest ne unpack('B*', $hi));
>   return length( $b_1 ) - 8; 
