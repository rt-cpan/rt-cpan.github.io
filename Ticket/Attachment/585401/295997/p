Index: DBD-Pg/dbdimp.c
===================================================================
RCS file: /sysdata/cvs/DBD-Pg/dbdimp.c,v
retrieving revision 1.1.1.1
retrieving revision 1.1.1.1.2.1
diff -u -r1.1.1.1 -r1.1.1.1.2.1
--- DBD-Pg/dbdimp.c	1 Apr 2009 15:18:00 -0000	1.1.1.1
+++ DBD-Pg/dbdimp.c	1 Apr 2009 15:49:05 -0000	1.1.1.1.2.1
@@ -2113,9 +2113,9 @@
 
 		TRACE_PQPREPARE;
 		result = PQprepare(imp_dbh->conn, imp_sth->prepare_name, statement, params, imp_sth->PQoids);
+		status = _sqlstate(aTHX_ imp_dbh, result);
+		
 		if (result) {
-			TRACE_PQRESULTSTATUS;
-			status = PQresultStatus(result);
 			TRACE_PQCLEAR;
 			PQclear(result);
 		}
