cpanm (App::cpanminus) 1.7039 on perl 5.022000 built for i686-linux
Work directory is /root/.cpanm/work/1444634429.24075
You have make /usr/bin/make
You have LWP 6.13
You have /bin/tar: tar (GNU tar) 1.27.1
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
Searching DBD::Pg () on cpanmetadb ...
--> Working on DBD::Pg
Fetching http://www.cpan.org/authors/id/T/TU/TURNSTEP/DBD-Pg-3.5.3.tar.gz
-> OK
Unpacking DBD-Pg-3.5.3.tar.gz
Entering DBD-Pg-3.5.3
Checking configure dependencies from META.yml
Checking if you have DBI 1.614 ... Yes (1.634)
Checking if you have version 0 ... Yes (0.9909)
Configuring DBD-Pg-3.5.3
Running Makefile.PL
Configuring DBD::Pg 3.5.3
PostgreSQL version: 90404 (default port: 5432)
POSTGRES_HOME: (not set)
POSTGRES_INCLUDE: /usr/include/postgresql
POSTGRES_LIB: /usr/lib/i386-linux-gnu
OS: linux
Checking if your kit is complete...
Looks good
Using DBI 1.634 (for perl 5.022000 on i686-linux) installed in /home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI/
Generating a Unix-style Makefile
Writing Makefile for DBD::Pg
Writing MYMETA.yml and MYMETA.json
-> OK
Checking dependencies from MYMETA.json ...
Checking if you have Time::HiRes 0 ... Yes (1.9726)
Checking if you have version 0 ... Yes (0.9909)
Checking if you have ExtUtils::MakeMaker 6.11 ... Yes (7.04_01)
Checking if you have Test::More 0.88 ... Yes (1.001014)
Checking if you have DBI 1.614 ... Yes (1.634)
Building and testing DBD-Pg-3.5.3
cp lib/Bundle/DBD/Pg.pm blib/lib/Bundle/DBD/Pg.pm
cp Pg.pm blib/lib/DBD/Pg.pm
Running Mkbootstrap for DBD::Pg ()
chmod 644 "Pg.bs"
"/home/vagrant/localperl/bin/perl" -p -e "s/~DRIVER~/Pg/g; s/^do\(/dontdo\(/" /home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI/Driver.xst > Pg.xsi
"/home/vagrant/localperl/bin/perl" "/home/vagrant/localperl/lib/5.22.0/ExtUtils/xsubpp"  -typemap "/home/vagrant/localperl/lib/5.22.0/ExtUtils/typemap"  Pg.xs > Pg.xsc && mv Pg.xsc Pg.c
cc -c  -I/usr/include/postgresql -I/home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DPGLIBVERSION=90404 -DPGDEFPORT=5432 -O2  -DPERL_EXTMALLOC_DEF -Dmalloc=Perl_malloc -Dfree=Perl_mfree -Drealloc=Perl_realloc -Dcalloc=Perl_calloc -DVERSION=\"3.5.3\" -DXS_VERSION=\"3.5.3\" -fPIC "-I/home/vagrant/localperl/lib/5.22.0/i686-linux/CORE"   Pg.c
cc -c  -I/usr/include/postgresql -I/home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DPGLIBVERSION=90404 -DPGDEFPORT=5432 -O2  -DPERL_EXTMALLOC_DEF -Dmalloc=Perl_malloc -Dfree=Perl_mfree -Drealloc=Perl_realloc -Dcalloc=Perl_calloc -DVERSION=\"3.5.3\" -DXS_VERSION=\"3.5.3\" -fPIC "-I/home/vagrant/localperl/lib/5.22.0/i686-linux/CORE"   dbdimp.c
cc -c  -I/usr/include/postgresql -I/home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DPGLIBVERSION=90404 -DPGDEFPORT=5432 -O2  -DPERL_EXTMALLOC_DEF -Dmalloc=Perl_malloc -Dfree=Perl_mfree -Drealloc=Perl_realloc -Dcalloc=Perl_calloc -DVERSION=\"3.5.3\" -DXS_VERSION=\"3.5.3\" -fPIC "-I/home/vagrant/localperl/lib/5.22.0/i686-linux/CORE"   quote.c
cc -c  -I/usr/include/postgresql -I/home/vagrant/localperl/lib/site_perl/5.22.0/i686-linux/auto/DBI -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DPGLIBVERSION=90404 -DPGDEFPORT=5432 -O2  -DPERL_EXTMALLOC_DEF -Dmalloc=Perl_malloc -Dfree=Perl_mfree -Drealloc=Perl_realloc -Dcalloc=Perl_calloc -DVERSION=\"3.5.3\" -DXS_VERSION=\"3.5.3\" -fPIC "-I/home/vagrant/localperl/lib/5.22.0/i686-linux/CORE"   types.c
rm -f blib/arch/auto/DBD/Pg/Pg.so
LD_RUN_PATH="/usr/lib/i386-linux-gnu" cc  -shared -O2 -L/usr/local/lib -fstack-protector-strong Pg.o dbdimp.o quote.o types.o  -o blib/arch/auto/DBD/Pg/Pg.so 	\
   -L/usr/lib/i386-linux-gnu -lpq -lm  	\
  
chmod 755 blib/arch/auto/DBD/Pg/Pg.so
"/home/vagrant/localperl/bin/perl" -MExtUtils::Command::MM -e 'cp_nonempty' -- Pg.bs blib/arch/auto/DBD/Pg/Pg.bs 644
Manifying 2 pod documents
Running Mkbootstrap for DBD::Pg ()
chmod 644 "Pg.bs"
PGINITDB="/usr/lib/postgresql/9.4/bin/initdb" PERL_DL_NONLAZY=1 "/home/vagrant/localperl/bin/perl" "-MExtUtils::Command::MM" "-MTest::Harness" "-e" "undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')" t/*.t
t/00_signature.t .... skipped: Set the environment variable TEST_SIGNATURE to enable this test
t/00basic.t ......... ok
Please wait, creating new database for testing
pg_resetxlog: cannot be executed by "root"
You must run pg_resetxlog as the PostgreSQL superuser.
# 
# DBI                         Version 1.634
# DBD::Pg                     Version 3.5.3
# Perl                        Version 5.22.0
# OS                          linux
# PostgreSQL (compiled)       90404
# PostgreSQL (target)         90404
# PostgreSQL (reported)       PostgreSQL 9.4.4 on i686-pc-linux-gnu, compiled by gcc (Ubuntu 4.9.2-10ubuntu13) 4.9.2, 32-bit
# Default port                5432
# DBI_DSN                     dbi:Pg:db="postgres";client_encoding=utf8;port=5440;host=/tmp/dbdpg_testdatabase_04Brnd/data/socket
# DBI_USER                    vagrant
# Test schema                 dbd_pg_testschema
# LANG                        C
# array_nulls                 on
# backslash_quote             safe_encoding
# client_encoding             UTF8
# server_encoding             UTF8
# standard_conforming_strings on
# Adjusted:                   initdb
t/01connect.t ....... ok
t/01constants.t ..... ok

#   Failed test 'Ping fails after the child has exited ("AutoInactiveDestroy" = 0)'
#   at t/02attribs.t line 1590.
#          got: '1'
#     expected: '0'

#   Failed test 'pg_ping gives an error code of -2 after the child has exited ("AutoInactiveDestroy" = 0)'
#   at t/02attribs.t line 1593.
#          got: '1'
#     expected: '-2'
	(in cleanup) DBD::Pg::st DESTROY failed: no connection to the server at t/02attribs.t line 1624.
# Looks like you failed 2 tests of 259.
t/02attribs.t ....... 
Dubious, test returned 2 (wstat 512, 0x200)
Failed 2/259 subtests 
t/03dbmethod.t ...... ok
t/03smethod.t ....... ok
NOTICE:  RAISE NOTICE FROM dbdpg_test_error_handler
WARNING:  RAISE WARNING FROM dbdpg_test_error_handler
# Checking pg_st_split_statement. This may take a while...
t/04misc.t .......... ok
t/06bytea.t ......... ok
t/07copy.t .......... ok
t/08async.t ......... ok
t/09arrays.t ........ ok
t/12placeholders.t .. ok
t/20savepoints.t .... ok
t/30unicode.t ....... ok
t/99cleanup.t ....... ok

Test Summary Report
-------------------
t/02attribs.t     (Wstat: 512 Tests: 259 Failed: 2)
  Failed tests:  244-245
  Non-zero exit status: 2
Files=16, Tests=2110, 33 wallclock secs ( 0.17 usr  0.12 sys +  4.05 cusr  1.34 csys =  5.68 CPU)
Result: FAIL
Failed 1/16 test programs. 2/2110 subtests failed.
Makefile:967: recipe for target 'test_dynamic' failed
make: *** [test_dynamic] Error 255
-> FAIL Installing DBD::Pg failed. See /root/.cpanm/work/1444634429.24075/build.log for details. Retry with --force to force install it.
