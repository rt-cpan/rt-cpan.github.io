commit 39f70e44a883a7b9291a05c65608a8c67557f2d7
Author: Cindy Wang (CindyLinz) <cindylinz@gmail.com>
Date:   Wed Dec 10 15:52:22 2014 +0800

    patch to compatible with 5.8.9, 5.10.1, 5.12.2, 5.12.5, 5.14.4, 5.16.3

diff --git a/DestructAssign.xs b/DestructAssign.xs
index 63a89d1..a444156 100644
--- a/DestructAssign.xs
+++ b/DestructAssign.xs
@@ -336,11 +336,10 @@ static OP * my_pp_anonhash_alias(pTHX){
 }
 
 #ifndef PadlistARRAY
-typedef AV PADNAMELIST
-typedef SV PADNAME
-#  define PadnamePV SvPV
-#  define PadnameLEN SvCUR
+typedef AV PADNAMELIST;
+typedef SV PADNAME;
 #endif
+
 #ifndef padnamelist_fetch
 #  define padnamelist_fetch(a,b) *av_fetch(a,b,FALSE)
 #endif
@@ -363,8 +362,15 @@ static OP* my_pp_fetch_next_padname(pTHX){
             PL_op->op_sibling->op_targ
         );
 
-        STRLEN const padnamelen = PadnameLEN(padname_sv);
-        char * padname = PadnamePV(padname_sv);
+        STRLEN padnamelen;
+        char * padname;
+#ifdef PadlistARRAY
+        padnamelen = PadnameLEN(padname_sv);
+        padname = PadnamePV(padname_sv);
+#else
+        padname = SvPV(padname_sv, padnamelen);
+#endif
+
         if( padnamelen>=3 && padname[0]=='$' && padname[1]=='#' ){
 #ifdef DEBUG
             printf("got name: %s\n", padname+2);
