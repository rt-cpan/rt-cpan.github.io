From 891c3e93f0224b5939b7fe742ab0b23919db1fdc Mon Sep 17 00:00:00 2001
From: Max Maischein <corion@corion.net>
Date: Sun, 19 Jul 2015 19:21:03 +0200
Subject: [PATCH 2/5] Be content if `rsync --version` works to find if the
 rsync command is available

---
 test.pl | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

diff --git a/test.pl b/test.pl
index c47f272..6a6f1e1 100644
--- a/test.pl
+++ b/test.pl
@@ -97,6 +97,10 @@ exit 1 if $fail;
 
 sub whence {
    my $cmd = shift;
-   -x "$_/$cmd" && return "$_/$cmd" for (split /:/, $ENV{PATH});
-   return;
+   my $rsync_version = `$cmd --version`;
+   if( $? ) {
+      return
+   } else {
+      return $cmd
+   };
 }
-- 
1.8.1.msysgit.1

