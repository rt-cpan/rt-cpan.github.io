$NetBSD$

--- lib/Sys/Hostname/Long.pm.orig	Sat Sep 22 08:23:46 2001
+++ lib/Sys/Hostname/Long.pm
@@ -35,8 +35,9 @@ sub hostname_long {
 		#		. Linux
 		#		. FreeBSD
 		#	- MacOS X (Rhapsody/Darwin)
-		$hostlong = `hostname --fqdn`;
-		$hostlong =~ tr/\0\r\n//d;
+		# Emulate `hostname --fqdn` with Perl; more portable
+		$hostlong = Sys::Hostname::hostname();
+		($hostlong) = gethostbyname($hostlong);
 	}
 
 	return $hostlong;
