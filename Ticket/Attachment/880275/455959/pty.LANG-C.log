	PERL_DL_NONLAZY=1 /perl/5.10/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(1, 'blib/lib', 'blib/arch')" t/pty.t
# IO::Tty 1.10, IO::Pty 1.10
IPC::Run 0000 0123--67---- [#1(1188094)]: debugging fd is 3
IPC::Run 0000 0123--67---- [#1(1188094)]: ****** harnessing *****
IPC::Run 0000 0123--67---- [#1(1188094)]: parsing [ '/perl/5.10/bin/perl', '-e', '$| = 1;
IPC::Run 0000 0123--67---- [#1(1188094)]: $s = select STDERR; $| = 1; select $s;
IPC::Run 0000 0123--67---- [#1(1188094)]: while (<>) {
IPC::Run 0000 0123--67---- [#1(1188094)]:    print STDERR uc $_;
IPC::Run 0000 0123--67---- [#1(1188094)]:    print;
IPC::Run 0000 0123--67---- [#1(1188094)]:    last if /quit/;
IPC::Run 0000 0123--67---- [#1(1188094)]: }
IPC::Run 0000 0123--67---- [#1(1188094)]: ' ]
IPC::Run 0000 0123--67---- [#1(1188094)]: parsing SCALAR
IPC::Run 0000 0123--67---- [#1(1188094)]: assuming '0<'
IPC::Run 0000 0123--67---- [#1(1188094)]: parsing '>pty>'
IPC::Run 0000 0123--67---- [#1(1188094)]: ** starting
IPC::Run 0000 0123--67---- [#1(1188094)]: opening pty '0'
IPC::Run 0000 01234567---- [#1(1188094)]: pty() = ( 4, 5 )
IPC::Run 0000 01234567---- [#1(1188094)]: '/perl/5.10/bin/perl' is absolute
IPC::Run 0000 01234567---- [#1(1188094)]: kid 1 to read 0 from SCALAR
IPC::Run 0000 0123456789-- [#1(1188094)]: pipe_nb pipe() = ( 8, 9 )
IPC::Run 0000 0123456789-- [#1(1188094)]: fcntl( 9, F_SETFL, O_NONBLOCK )
IPC::Run 0000 01234567890- [#1(1188094)]: dup( 8 ) = 10
IPC::Run 0000 012345678901 [#1(1188094)]: dup( 9 ) = 11
IPC::Run 0000 012345678901 [#1(1188094)]: pipe_nb() = ( 10, 11 )
IPC::Run 0000 01234567--01 [#1(1188094)]: kid 1 to write 1 to SCALAR via pty '0'
IPC::Run 0000 01234567--01 [#1(1188094)]: kid 1[]'s 0 is my 11
IPC::Run 0000 01234567--01 [#1(1188094)]: kid 1[]'s 1 is my 4
IPC::Run 0000 01234567--01 [#1(1188094)]: child: `'/perl/5.10/bin/perl' -e '$| = 1;
IPC::Run 0000 01234567--01 [#1(1188094)]: $s = select STDERR; $| = 1; select $s;
IPC::Run 0000 01234567--01 [#1(1188094)]: while (<>) {
IPC::Run 0000 01234567--01 [#1(1188094)]:    print STDERR uc $_;
IPC::Run 0000 01234567--01 [#1(1188094)]:    print;
IPC::Run 0000 01234567--01 [#1(1188094)]:    last if /quit/;
IPC::Run 0000 01234567--01 [#1(1188094)]: }
IPC::Run 0000 01234567--01 [#1(1188094)]: '`
IPC::Run 0000 01234567--01 [#1(1188094)]: opening sync pipe 
IPC::Run 0000 012345678901 [#1(1188094)]: pipe() = ( 8, 9 ) 
IPC::Run 0000 012345678901 [#1(2977846) perl]: Cleaning up parent's ptty '0'
IPC::Run 0000 012345678901 [#1(1188094)]: fork() = 2977846
IPC::Run 0000 0123-5678901 [#1(2977846) perl]: closing stdin, out, err
IPC::Run 0000 012345678-01 [#1(1188094)]: close( 9 ) = 0
IPC::Run 0000 ---3-5678901 [#1(2977846) perl]: open fds: 8 11 4 9 10 5
IPC::Run 0000 ---3-567-901 [#1(2977846) perl]: close( 8 ) = 0
IPC::Run 0000 ---3-567-90- [#1(2977846) perl]: close( 11 ) = 0
IPC::Run 0000 0--3-567-90- [#1(2977846) perl]: dup2( 10, 0 ) = 0
IPC::Run 0000 01-3-567-90- [#1(2977846) perl]: dup2( 5, 1 ) = 1
IPC::Run 0000 0123-567-90- [#1(2977846) perl]: dup2( 1, 2 ) = 2
IPC::Run 0000 0123-567-9-- [#1(2977846) perl]: close( 10 ) = 0
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: close( 5 ) = 0
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: execing /perl/5.10/bin/perl -e '$| = 1;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: $s = select STDERR; $| = 1; select $s;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: while (<>) {
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    print STDERR uc $_;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    print;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    last if /quit/;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: }
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: '
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: exec()ing '/perl/5.10/bin/perl' '-e' '$| = 1;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: $s = select STDERR; $| = 1; select $s;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: while (<>) {
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    print STDERR uc $_;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    print;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]:    last if /quit/;
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: }
IPC::Run 0000 0123--67-9-- [#1(2977846) perl]: '
IPC::Run 0000 012345678-01 [#1(1188094)]: read( 8 ) = 0 but true chars ''
IPC::Run 0000 01234567--01 [#1(1188094)]: close( 8 ) = 0
IPC::Run 0000 01234-67---1 [#1(1188094)]: close( 10 ) = 0
IPC::Run 0000 01234-67---1 [#1(1188094)]: ** pumping
IPC::Run 0000 01234-67---1 [#1(1188094)]: fds for select: ----r------w
IPC::Run 0000 01234-67---1 [#1(1188094)]: timeout=forever
IPC::Run 0000 01234-67---1 [#1(1188094)]: selected  -----------w
IPC::Run 0000 01234-67---1 [#1(1188094)]: filtering data to fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: writing to fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: write( 11, 'hello
IPC::Run 0000 01234-67---1 [#1(1188094)]: ' ) = 6
IPC::Run 0000 01234-67---1 [#1(1188094)]: exiting _select(): io occured and break_on_io set
IPC::Run 0000 01234-67---1 [#1(1188094)]: ** pumping
IPC::Run 0000 01234-67---1 [#1(1188094)]: fds for select: ----r------w
IPC::Run 0000 01234-67---1 [#1(1188094)]: timeout=forever
IPC::Run 0000 01234-67---1 [#1(1188094)]: selected  ----r------w
IPC::Run 0000 01234-67---1 [#1(1188094)]: filtering data to fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: pausing fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: filtering data from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---1 [#1(1188094)]: reading from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---1 [#1(1188094)]: read( 4 ) = 14 chars 'HELLO
IPC::Run 0000 01234-67---1 [#1(1188094)]: hello
IPC::Run 0000 01234-67---1 [#1(1188094)]: '
IPC::Run 0000 01234-67---1 [#1(1188094)]: exiting _select(): io occured and break_on_io set
IPC::Run 0000 01234-67---1 [#1(1188094)]: ** pumping
IPC::Run 0000 01234-67---1 [#1(1188094)]: checking for more input fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: writing to fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: write( 11, 'world
IPC::Run 0000 01234-67---1 [#1(1188094)]: ' ) = 6
IPC::Run 0000 01234-67---1 [#1(1188094)]: fds for select: ----r------p
IPC::Run 0000 01234-67---1 [#1(1188094)]: timeout=forever
IPC::Run 0000 01234-67---1 [#1(1188094)]: selected  ----r-------
IPC::Run 0000 01234-67---1 [#1(1188094)]: filtering data from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---1 [#1(1188094)]: reading from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---1 [#1(1188094)]: read( 4 ) = 14 chars 'WORLD
IPC::Run 0000 01234-67---1 [#1(1188094)]: world
IPC::Run 0000 01234-67---1 [#1(1188094)]: '
IPC::Run 0000 01234-67---1 [#1(1188094)]: exiting _select(): io occured and break_on_io set
IPC::Run 0000 01234-67---1 [#1(1188094)]: ** finishing
IPC::Run 0000 01234-67---1 [#1(1188094)]: checking for more input fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: writing to fd 11 (kid's stdin)
IPC::Run 0000 01234-67---1 [#1(1188094)]: write( 11, 'quit
IPC::Run 0000 01234-67---1 [#1(1188094)]: ' ) = 5
IPC::Run 0000 01234-67---1 [#1(1188094)]: closing fd 11 (kid's stdin)
IPC::Run 0000 01234-67---- [#1(1188094)]: close( 11 ) = 0
IPC::Run 0000 01234-67---- [#1(1188094)]: fds for select: ----r-------
IPC::Run 0000 01234-67---- [#1(1188094)]: timeout=0.01
IPC::Run 0000 01234-67---- [#1(1188094)]: selected  ----r-------
IPC::Run 0000 01234-67---- [#1(1188094)]: filtering data from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---- [#1(1188094)]: reading from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---- [#1(1188094)]: read( 4 ) = 12 chars 'QUIT
IPC::Run 0000 01234-67---- [#1(1188094)]: quit
IPC::Run 0000 01234-67---- [#1(1188094)]: '
IPC::Run 0000 01234-67---- [#1(1188094)]: fds for select: ----r-------
IPC::Run 0000 01234-67---- [#1(1188094)]: timeout=forever
IPC::Run 0000 01234-67---- [#1(1188094)]: selected  ----r-------
IPC::Run 0000 01234-67---- [#1(1188094)]: filtering data from fd 4 (kid's stdout)
IPC::Run 0000 01234-67---- [#1(1188094)]: reading from fd 4 (kid's stdout)
ack I/O error: read( 4 ) at /perl/Packages/IPC-Run-0.89/blib/lib/IPC/Run/IO.pm line 558
# Looks like you planned 32 tests but ran 13.
# Looks like your test exited with 5 just after 13.
t/pty.t .. 
1..32
ok 1 # skip aix deadlocks on this test
ok 2 # skip aix deadlocks on this test
ok 3 # skip aix deadlocks on this test
ok 4 # skip aix deadlocks on this test
ok 5 # skip aix deadlocks on this test
ok 6 # skip aix deadlocks on this test
ok 7 # skip aix deadlocks on this test
ok 8 # skip aix deadlocks on this test
ok 9 # skip aix deadlocks on this test
ok 10
ok 11
ok 12
ok 13
Dubious, test returned 5 (wstat 1280, 0x500)
Failed 19/32 subtests 
	(less 9 skipped subtests: 4 okay)

Test Summary Report
-------------------
t/pty.t (Wstat: 1280 Tests: 13 Failed: 0)
  Non-zero exit status: 5
  Parse errors: Bad plan.  You planned 32 tests but ran 13.
Files=1, Tests=13,  0 wallclock secs ( 0.04 usr  0.01 sys +  0.10 cusr  0.01 csys =  0.16 CPU)
Result: FAIL
Failed 1/1 test programs. 0/13 subtests failed.
make: The error code from the last command is 5.


Stop.
