--- UUID.h.old	2003-08-27 20:38:35.000000000 +0100
+++ UUID.h	2005-08-10 14:40:15.000000000 +0100
@@ -4,7 +4,9 @@
 #include <string.h>
 #include <stdio.h>
 #include <stdlib.h>
+#ifndef WIN32
 #include <unistd.h>
+#endif
 #include <time.h>
 #include "md5.h"
 
--- UUID.xs.old	2003-08-27 20:38:35.000000000 +0100
+++ UUID.xs	2005-08-10 14:40:19.000000000 +0100
@@ -105,7 +105,7 @@
 }
 
 static void get_system_time(uuid_time_t *uuid_time) {
-#if defined __CYGWIN__ || __MINGW32__
+#if defined __CYGWIN__ || __MINGW32__ || WIN32
    /* ULARGE_INTEGER time; */
    LARGE_INTEGER time;
 
@@ -129,7 +129,7 @@
 
 static void get_random_info(unsigned char seed[16]) {
    MD5_CTX c;
-#if defined __CYGWIN__ || __MINGW32__
+#if defined __CYGWIN__ || __MINGW32__ || WIN32
    typedef struct {
       MEMORYSTATUS  m;
       SYSTEM_INFO   s;
@@ -150,7 +150,7 @@
 
    MD5Init(&c);
 
-#if defined __CYGWIN__ || __MINGW32__
+#if defined __CYGWIN__ || __MINGW32__ || WIN32
    GlobalMemoryStatus(&r.m);
    GetSystemInfo(&r.s);
    GetSystemTimeAsFileTime(&r.t);
