$ prove -v -b t/hash.t t/hash_redef.t 
t/hash.t ........ 
ok 1 - list:   dorefameredo
not ok 2 - scalar: dorefameredo
ok 3 - no-cap:  dorefameredo
ok 4 - list:   dorefamell
not ok 5 - scalar: dorefamell
ok 6 - no-cap:  dorefamell
ok 7 - list:   zzzzz
ok 8 - scalar: zzzzz
ok 9 - no-cap:  zzzzz
Use of uninitialized value $first_only in regexp compilation at t/hash.t line 39, <DATA> line 1.

#   Failed test 'scalar: dorefameredo'
#   at t/hash.t line 40.
#          got: 'ARRAY(0x88f3b0)'
#     expected: 'dore'
Use of uninitialized value $first_only in regexp compilation at t/hash.t line 39, <DATA> line 2.

#   Failed test 'scalar: dorefamell'
#   at t/hash.t line 40.
#          got: 'ARRAY(0x88f3f0)'
#     expected: 'dore'
Use of uninitialized value $first_only in regexp compilation at t/hash.t line 39, <DATA> line 3.
ok 10 - list:   zzzdoremezzz
not ok 11 - scalar: zzzdoremezzz
ok 12 - no-cap:  zzzdoremezzz
1..12
Use of uninitialized value $first_only in regexp compilation at t/hash.t line 39, <DATA> line 4.

#   Failed test 'scalar: zzzdoremezzz'
#   at t/hash.t line 40.
#          got: 'ARRAY(0x88fb60)'
#     expected: 'dore'
# Looks like you failed 3 tests of 12.
Dubious, test returned 3 (wstat 768, 0x300)
Failed 3/12 subtests 
t/hash_redef.t .. 
ok 1 - list:   dorefameredo
not ok 2 - scalar: dorefameredo
ok 3 - no-cap:  dorefameredo
ok 4 - list:   dorefamell
not ok 5 - scalar: dorefamell
ok 6 - no-cap:  dorefamell
ok 7 - list:   zzzzz
ok 8 - scalar: zzzzz
ok 9 - no-cap:  zzzzz
ok 10 - list:   zzzdoremezzz
not ok 11 - scalar: zzzdoremezzz
Use of uninitialized value $first_only in regexp compilation at t/hash_redef.t line 37, <DATA> line 1.

#   Failed test 'scalar: dorefameredo'
#   at t/hash_redef.t line 38.
#          got: 'ARRAY(0x885930)'
#     expected: 'fa'
Use of uninitialized value $first_only in regexp compilation at t/hash_redef.t line 37, <DATA> line 2.

#   Failed test 'scalar: dorefamell'
#   at t/hash_redef.t line 38.
#          got: 'ARRAY(0x885930)'
#     expected: 'fa'
Use of uninitialized value $first_only in regexp compilation at t/hash_redef.t line 37, <DATA> line 3.
Use of uninitialized value $first_only in regexp compilation at t/hash_redef.t line 37, <DATA> line 4.

#   Failed test 'scalar: zzzdoremezzz'
#   at t/hash_redef.t line 38.
#          got: 'ARRAY(0x8972e0)'
#     expected: 'me'
ok 12 - no-cap:  zzzdoremezzz
1..12
# Looks like you failed 3 tests of 12.
Dubious, test returned 3 (wstat 768, 0x300)
Failed 3/12 subtests 

Test Summary Report
-------------------
t/hash.t      (Wstat: 768 Tests: 12 Failed: 3)
  Failed tests:  2, 5, 11
  Non-zero exit status: 3
t/hash_redef.t (Wstat: 768 Tests: 12 Failed: 3)
  Failed tests:  2, 5, 11
  Non-zero exit status: 3
Files=2, Tests=24,  1 wallclock secs ( 0.04 usr  0.02 sys +  0.13 cusr  0.02 csys =  0.21 CPU)
Result: FAIL
