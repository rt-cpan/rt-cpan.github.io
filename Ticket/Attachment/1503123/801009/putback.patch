Index: src/modules/perl/modperl_error.h
===================================================================
--- src/modules/perl/modperl_error.h	(revision 1683243)
+++ src/modules/perl/modperl_error.h	(working copy)
@@ -37,6 +37,7 @@
 
 void modperl_croak(pTHX_ apr_status_t rc, const char* func);
 
+#ifdef USE_ITHREADS
 #define MP_PUTBACK_IF_USED() STMT_START                                 \
     {                                                                   \
         modperl_interp_t *interp = modperl_thx_interp_get(aTHX);        \
@@ -44,6 +45,9 @@
             modperl_interp_unselect(interp);                            \
         }                                                               \
     } STMT_END
+#else
+#define MP_PUTBACK_IF_USED() NOOP
+#endif
 
 #define MP_CROAK_PUTBACK(rc, func) STMT_START                           \
     {                                                                   \
