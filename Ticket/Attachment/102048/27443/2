#!/usr/bin/perl

use utf8;

use DBI;

binmode STDOUT, ':encoding(iso-8859-2)';

my $dbh = DBI->connect("dbi:SQLite:dbname=test.sqlite", '', '', {
	RaiseError => 1,
	AutoCommit => 1,
    });

$dbh->do('create temp table foo (bar)');

$kun = "Žluťoučký kůň úpěl ďábelské kódy";

$dbh->do('insert into foo values (?)', undef, $kun);

print "$kun\n";

print join("\n", $dbh->selectrow_array('select * from foo'), '');

print join("\n", map { utf8::decode($_); $_; } $dbh->selectrow_array('select * from foo'), '');

# vim: set ft=perl:
