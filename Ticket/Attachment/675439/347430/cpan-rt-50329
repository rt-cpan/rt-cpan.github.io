#!/usr/bin/perl -w

use strict;

use Config::General;
use File::Temp;
use File::Spec;
use Data::Dumper;

my $tpl = File::Spec -> catfile(
	File::Spec->tmpdir,
	'cpan-rt-50329-XXXXX',
);

my $cfile = File::Temp -> new(
	TEMPLATE => $tpl,
	SUFFIX => '.cfg',
	UNLINK => 1,
);

open FILE, ">$cfile";
print FILE qq(
testflag
a=1
);
close FILE;

my $cg = Config::General->new(
	-ConfigFile => $cfile -> filename,
	-IncludeDirectories => 0,
	-IncludeRelative => 1,
	-IncludeAgain => 1,
	-IncludeGlob => 1,
	-InterPolateVars => 1,
);

print Dumper $cg -> getall;

1;

