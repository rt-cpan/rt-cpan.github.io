Binary files orig_trunk/.rnd and trunk/.rnd differ
Only in trunk/: Makefile.old
Only in trunk/Net-SSLeay-Handle-0.50: Makefile.old
diff -u -d -r orig_trunk/SSLeay.xs trunk/SSLeay.xs
--- orig_trunk/SSLeay.xs	2006-01-21 21:59:54.000000000 +0100
+++ trunk/SSLeay.xs	2006-01-21 22:50:49.000000000 +0100
@@ -2583,6 +2583,13 @@
     X509_STORE_CTX *ctx
     long flags
 
+#if OPENSSL_VERSION_NUMBER >= 0x0090800fL
+
+void 
+X509_STORE_set_trust(ctx, trust)
+    X509_STORE *ctx
+    int trust
+
 void 
 X509_STORE_set_flags(ctx, flags)
     X509_STORE *ctx
@@ -2593,13 +2600,6 @@
     X509_STORE *ctx
     int purpose
 
-#if OPENSSL_VERSION_NUMBER >= 0x0090800fL
-
-void 
-X509_STORE_set_trust(ctx, trust)
-    X509_STORE *ctx
-    int trust
-
 #endif
 
 int 
Only in trunk/examples: cert.pem
Only in trunk/examples: f8a3be98.0
Only in trunk/examples: key.pem
Only in trunk/examples: key.pem.e
Only in trunk/: makecert.err
Only in trunk/: makecert.out
Only in trunk/: openssl_path
Only in trunk/: ptrcasttst
Only in trunk/: sslecho.log
diff -u -d -r orig_trunk/t/07_sslecho.t trunk/t/07_sslecho.t
--- orig_trunk/t/07_sslecho.t	2006-01-21 21:59:44.000000000 +0100
+++ trunk/t/07_sslecho.t	2006-01-21 23:26:32.000000000 +0100
@@ -20,9 +20,9 @@
 	my $ip = "\x7F\0\0\x01";
 	my $serv_params = pack ('S n a4 x8', AF_INET, $port, $ip);
 	$sock = gensym();
-	socket($sock, AF_INET, SOCK_STREAM, 0) or die;
-	bind($sock, $serv_params) or die;
-	listen($sock, 2) or die;
+	socket($sock, AF_INET, SOCK_STREAM, 0) or die "$!";
+	bind($sock, $serv_params) or die "$!";
+	listen($sock, 2) or die "$!";
 
 	Net::SSLeay::load_error_strings();
 	Net::SSLeay::SSLeay_add_ssl_algorithms();
@@ -87,8 +87,8 @@
 	my $dest_serv_params = sockaddr_in($port, $dest_ip);
 
 	my $s = gensym();
-	socket($s, AF_INET, SOCK_STREAM, 0) or die;
-	connect($s, $dest_serv_params) or die;
+	socket($s, AF_INET, SOCK_STREAM, 0) or die "$!";
+	connect($s, $dest_serv_params) or die "$!";
 
 	{
 		my $old_out = select($s);
Only in trunk/: tcpecho.log
