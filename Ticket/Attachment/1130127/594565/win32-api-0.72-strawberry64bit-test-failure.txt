  CPAN.pm: Building C/CO/COSIMO/Win32-API-0.72.tar.gz

cp Type.pm blib\lib\Win32/API/Type.pm
cp Callback.pm blib\lib\Win32/API/Callback.pm
cp Test.pm blib\lib\Win32/API/Test.pm
cp Struct.pm blib\lib\Win32/API/Struct.pm
cp API.pm blib\lib\Win32/API.pm
cp IATPatch.pod blib\lib\Win32/API/Callback/IATPatch.pod
Z:\strawberry64_5161\perl\bin\perl.exe Z:\strawberry64_5161\perl\lib\ExtUtils\xsubpp  -typemap Z:\strawberry64_5161\perl\lib\ExtUtils\typemap  Callback.xs > Callback.xsc && Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e mv -- Callback.xsc Callback.c
gcc -c -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -s -O2 -DVERSION=\"0.72\"    -DXS_VERSION=\"0.72\"  "-IZ:\strawberry64_5161\perl\lib\CORE"   Callback.c
Running Mkbootstrap for Win32::API::Callback ()
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 Callback.bs
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Mksymlists \
     -e "Mksymlists('NAME'=>\"Win32::API::Callback\", 'DLBASE' => 'Callback', 'DL_FUNCS' => {  }, 'FUNCLIST' => [], 'IMPORTS' => {  }, 'DL_VARS' => []);"
dlltool --def Callback.def --output-exp dll.exp
g++ -o ..\blib\arch\auto\Win32\API\Callback\Callback.dll -Wl,--base-file -Wl,dll.base -mdll -s -L"Z:\strawberry64_5161\perl\lib\CORE" -L"Z:\strawberry64_5161\c\lib" Callback.o   Z:\strawberry64_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
dlltool --def Callback.def --base-file dll.base --output-exp dll.exp
g++ -o ..\blib\arch\auto\Win32\API\Callback\Callback.dll -mdll -s -L"Z:\strawberry64_5161\perl\lib\CORE" -L"Z:\strawberry64_5161\c\lib" Callback.o   Z:\strawberry64_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 755 ..\blib\arch\auto\Win32\API\Callback\Callback.dll
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e cp -- Callback.bs ..\blib\arch\auto\Win32\API\Callback\Callback.bs
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 ..\blib\arch\auto\Win32\API\Callback\Callback.bs
Z:\strawberry64_5161\perl\bin\perl.exe Z:\strawberry64_5161\perl\lib\ExtUtils\xsubpp  -nolinenumbers  -typemap Z:\strawberry64_5161\perl\lib\ExtUtils\typemap -typemap typemap  API.xs > API.xsc && Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e mv -- API.xsc API.c
gcc -c -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -s -O2 -DVERSION=\"0.72\"    -DXS_VERSION=\"0.72\"  "-IZ:\strawberry64_5161\perl\lib\CORE"   API.c
as  call_asm_x64_gnu.s -o call_asm_x64_gnu.o
Running Mkbootstrap for Win32::API ()
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 API.bs
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Mksymlists \
     -e "Mksymlists('NAME'=>\"Win32::API\", 'DLBASE' => 'API', 'DL_FUNCS' => {  }, 'FUNCLIST' => [], 'IMPORTS' => {  }, 'DL_VARS' => []);"
dlltool --def API.def --output-exp dll.exp
g++ -o blib\arch\auto\Win32\API\API.dll -Wl,--base-file -Wl,dll.base -mdll -s -L"Z:\strawberry64_5161\perl\lib\CORE" -L"Z:\strawberry64_5161\c\lib" API.o call_asm_x64_gnu.o   Z:\strawberry64_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
dlltool --def API.def --base-file dll.base --output-exp dll.exp
g++ -o blib\arch\auto\Win32\API\API.dll -mdll -s -L"Z:\strawberry64_5161\perl\lib\CORE" -L"Z:\strawberry64_5161\c\lib" API.o call_asm_x64_gnu.o   Z:\strawberry64_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 755 blib\arch\auto\Win32\API\API.dll
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e cp -- API.bs blib\arch\auto\Win32\API\API.bs
Z:\strawberry64_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 blib\arch\auto\Win32\API\API.bs
  COSIMO/Win32-API-0.72.tar.gz
  Z:\strawberry64_5161\c\bin\dmake.exe -- OK
Running make test
Z:\strawberry64_5161\perl\bin\perl.exe "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib\lib', 'blib\arch')" t/*.t
t/00_API.t .......... 1/48 # API test dll found at (API_test64.dll)
t/00_API.t .......... ok
t/01_Struct.t ....... 1/18 # $^E=
# leaked mem warning intentional
Win32::API::Struct::Unpack struct pointer member "wlan" was changed by C function, possible resource leak at t/01_Struct.t line 173.
Use of uninitialized value in subroutine entry at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 267.
Win32::API::Struct::Unpack struct pointer member "pDot11Ssid" was changed by C function, possible resource leak at t/01_Struct.t line 173.
Win32::API::Struct::Unpack struct pointer member "wlan" was changed by C function, possible resource leak at t/01_Struct.t line 182.
# unknown type is intentional
Win32::API::Struct::new: unknown type="LPEIGHT_CHAR_ARR" at t/01_Struct.t line 233.
Win32::API::Struct::new: unknown type="LPEIGHT_CHAR_ARR" at t/01_Struct.t line 251.
t/01_Struct.t ....... ok
t/02_GetProcess.t ... 1/3 # $result=6356
# $$=6356
t/02_GetProcess.t ... ok
t/03_undef.t ........ # Win32::API 0.72
# Import: Neplatnř popisovaŔ
t/03_undef.t ........ ok
t/04_rt_48006.t ..... 1/4

Uninit warnings are intentional

Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Struct.pm line 317.
# Size is 296. Should be 296
t/04_rt_48006.t ..... ok
t/05_more_struct.t .. ok
t/06_rt_74578.t ..... 1/3 # @pack=(LLLLLLLlLa260, ARRAY(0x25d8700), ARRAY(0x25d8820), 296, ARRAY(0x25cdb90))
t/06_rt_74578.t ..... ok
t/pod-coverage.t .... skipped: Test::Pod::Coverage required for testing pod coverage
t/pod.t ............. skipped: Test::Pod 1.14 required for testing POD
t/v69.t ............. 1/36 # API test dll found at (API_test64.dll)
Win32::API::parse_prototype: bad prototype 'HANDLE  GetProcessHeap( void ** ptr )' at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API.pm line 532.
t/v69.t ............. ok
t/v70.t ............. ok
t/v71.t ............. 1/23 # API test dll found at (API_test64.dll)
t/v71.t ............. ok
All tests successful.
Files=12, Tests=181,  3 wallclock secs ( 0.09 usr +  0.09 sys =  0.19 CPU)
Result: PASS
Z:\strawberry64_5161\perl\bin\perl.exe "-MExtUtils::Command::MM" "-e" "test_harness(0, '..\blib\lib', '..\blib\arch')" t/*.t
t/02_Callback.t ...... 1/21
#   Failed test 'use Win32::API::Callback;'
#   at t/02_Callback.t line 24.
#     Tried to use 'Win32::API::Callback'.
#     Error:  Can't load 'Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\arch/auto/Win32/API/Callback/Callback.dll' for module Win32::API::Callback: load_file:Proces inicializace dynamicky p°ipojovanÚ knihovny (DLL) se nezda°il at Z:/strawberry64_5161/perl/lib/DynaLoader.pm line 190.
#  at (eval 10) line 2.
# Compilation failed in require at (eval 10) line 2.
# BEGIN failed--compilation aborted at (eval 10) line 2.
# Compiler name:gcc
# Compiler version:0
Undefined subroutine &Win32::API::Callback::PackedRVTarget called at Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\lib/Win32/API/Callback.pm line 287.
# Looks like you planned 21 tests but ran 5.
# Looks like you failed 1 test of 5 run.
# Looks like your test exited with 255 just after 5.
t/02_Callback.t ...... Dubious, test returned 255 (wstat 65280, 0xff00)
Failed 17/21 subtests
t/03_Jim_Shaw.t ...... Can't load 'Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\arch/auto/Win32/API/Callback/Callback.dll' for module Win32::API::Callback: load_file:Proces inicializace dynamicky p°ipojovanÚ knihovny (DLL) se nezda°il at Z:/strawberry64_5161/perl/lib/DynaLoader.pm line 190.
 at t/03_Jim_Shaw.t line 45.
Compilation failed in require at t/03_Jim_Shaw.t line 45.
BEGIN failed--compilation aborted at t/03_Jim_Shaw.t line 45.
t/03_Jim_Shaw.t ...... Dubious, test returned 2 (wstat 512, 0x200)
No subtests run
t/04_rt_53914.t ...... skipped: GenerateConsoleCtrlEvent() crashes consistently. Reason unknown so far.
t/iat.t .............. Can't load 'Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\arch/auto/Win32/API/Callback/Callback.dll' for module Win32::API::Callback: load_file:Proces inicializace dynamicky p°ipojovanÚ knihovny (DLL) se nezda°il at Z:/strawberry64_5161/perl/lib/DynaLoader.pm line 190.
 at t/iat.t line 23.
Compilation failed in require at t/iat.t line 23.
BEGIN failed--compilation aborted at t/iat.t line 23.
t/iat.t .............. Dubious, test returned 2 (wstat 512, 0x200)
No subtests run
t/ithreads.t ......... Can't load 'Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\arch/auto/Win32/API/Callback/Callback.dll' for module Win32::API::Callback: load_file:Proces inicializace dynamicky p°ipojovanÚ knihovny (DLL) se nezda°il at Z:/strawberry64_5161/perl/lib/DynaLoader.pm line 190.
 at t/ithreads.t line 5.
Compilation failed in require at t/ithreads.t line 5.
BEGIN failed--compilation aborted at t/ithreads.t line 5.
t/ithreads.t ......... Dubious, test returned 2 (wstat 512, 0x200)
No subtests run
t/threading_fails.t .. Can't load 'Z:\strawberry64_5161\cpan\build\Win32-API-0.72-H6GP7Z\blib\arch/auto/Win32/API/Callback/Callback.dll' for module Win32::API::Callback: load_file:Proces inicializace dynamicky p°ipojovanÚ knihovny (DLL) se nezda°il at Z:/strawberry64_5161/perl/lib/DynaLoader.pm line 190.
 at t/threading_fails.t line 7.
Compilation failed in require at t/threading_fails.t line 7.
BEGIN failed--compilation aborted at t/threading_fails.t line 7.
t/threading_fails.t .. Dubious, test returned 2 (wstat 512, 0x200)
No subtests run

Test Summary Report
-------------------
t/02_Callback.t    (Wstat: 65280 Tests: 5 Failed: 1)
  Failed test:  2
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 21 tests but ran 5.
t/03_Jim_Shaw.t    (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/iat.t            (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/ithreads.t       (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/threading_fails.t (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
Files=6, Tests=5,  1 wallclock secs ( 0.09 usr +  0.02 sys =  0.11 CPU)
Result: FAIL
Failed 5/6 test programs. 1/5 subtests failed.
dmake:  Error code 130, while making 'test_dynamic'
dmake.exe:  Error code 255, while making 'subdirs-test'
  COSIMO/Win32-API-0.72.tar.gz
  Z:\strawberry64_5161\c\bin\dmake.exe test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports COSIMO/Win32-API-0.72.tar.gz
Running make install
  make test had returned bad status, won't install without force
Stopping: 'install' failed for 'C/CO/COSIMO/Win32-API-0.72.tar.gz'.