cpanm (App::cpanminus) 1.7042 on perl 5.010001 built for MSWin32-x86-multi-thread
Work directory is c:\home\tennis/.cpanm/work/1491014153.5436
You have make C:\Strawberry\c\bin\dmake.exe
You have LWP 5.837
Falling back to Archive::Tar 1.76
Searching EV::ADNS () on cpanmetadb ...
--> Working on EV::ADNS
Fetching http://www.cpan.org/authors/id/M/ML/MLEHMANN/EV-ADNS-3.0.tar.gz
-> OK
Unpacking EV-ADNS-3.0.tar.gz
Entering EV-ADNS-3.0
Checking configure dependencies from META.json
Checking if you have ExtUtils::MakeMaker 6.58 ... Yes (6.98)
Checking if you have EV 2 ... No
Checking if you have Canary::Stability 0 ... Yes (2011)
==> Found dependencies: EV
Searching EV (2) on cpanmetadb ...
--> Working on EV
Fetching http://www.cpan.org/authors/id/M/ML/MLEHMANN/EV-4.22.tar.gz
-> OK
Unpacking EV-4.22.tar.gz
Entering EV-4.22
Checking configure dependencies from META.json
Checking if you have ExtUtils::MakeMaker 6.58 ... Yes (6.98)
Checking if you have Canary::Stability 0 ... Yes (2011)
Configuring EV-4.22
Running Makefile.PL

***
*** Canary::Stability COMPATIBILITY AND SUPPORT CHECK
*** =================================================
***
*** Hi!
***
*** I do my best to provide predictable and reliable software.
***
*** However, in recent releases, P5P (who maintain perl) have been
*** introducing regressions that are sometimes subtle and at other times
*** catastrophic, often for personal preferences with little or no concern
*** for existing code, most notably CPAN.
***
*** For this reason, it has become very hard for me to maintain the level
*** of reliability and support I have committed myself to in the past, at
*** least with some perl versions: I simply can't keep up working around new
*** bugs or gratituous incompatibilities, and in turn you might suffer from
*** unanticipated problems.
***
*** Therefore I have introduced a support and compatibility check, the results
*** of which follow below, together with a FAQ and some recommendations.
***
*** This check is just to let you know that there might be a risk, so you can
*** make judgement calls on how to proceed - it will not keep the module from
*** installing or working.
***
*** The stability canary says: chirp! chirp! (it seems to be quite happy)
***
*** Your version of perl (5.010001) is quite supported by EV, nothing
*** else to be said, hope it comes in handy.

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Welcome to EV configuration. If you are in a hurry, just press return here
and hope for the best. The defaults should usually do.

Skip further questions and use defaults (y/n)? [y] y

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


POSIX optionally offers support for a monotonic clock source. EV
can take advantage of this clock source to detect time jumps more
reliably. Unfortunately, some systems are bound to be broken, so you can
disable this here: you can completely disable the detection and use of
the monotonic clock by answering 'n' here. Support for this clock type
will otherwise be autodetected at both compile- and runtime. (this setting
currently affects the use of nanosleep over select as well).

Enable optional support for CLOCK_MONOTONIC (y/n)? [y] y

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


POSIX optionally offers support for a (potentially) high-resolution
realtime clock interface. In a good implementation, using it is faster
than the normal method of using gettimeofday. Unfortunately, this option
is also bound to be broken on some systems, and current EV versions do not
actually call gettimeofday very often, so it defaults to no.

Prefer clock_gettime (CLOCK_REALTIME) over gettimeofday (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


EV can use various backends with various portability issues. The select
backend is the most portable and makes for a good fallback, but it can be
limited to a low number of file descriptors and/or might not compile. If
you have problems with compiling ev_select.c, you might try to play around
with disabling it here, or forcing it to use the fd_set provided by your
OS, via the next question. I highly recommend keeping it in.

Enable select backend (y/n)? [y] y

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


The select backend can operate in two modes. One uses the system-provided
fd_set and is usually limited to 1024 file descriptors (64 on windows),
the other requires your header files to define NFDBITS and declare a
suitable fd_mask type. If you run into problems compiling ev_select.c, you
can try forcing the use of the system fd_set here.

Force use of system fd_set for select backend (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


The second very portable backend is poll(2). It does not exist on windows
and various versions of Mac OS X (and on the other versions it simply
doesn't work), but works basically everywhere else. It is recommended to use
the default here unless you run into compile problems in ev_poll.c.

Enable poll backend (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Select and poll make it hard to write efficient servers, especially if the
number of active connections is much lower than the watched ones. GNU/Linux
systems have a more scalable method called "epoll", which EV can use. For
this to work, both your kernel and glibc have to support epoll, but if you
can compile it, the detection will be done at runtime, and EV will safely
fall back to using select when epoll isn't available. If unsure, accept
the default.

Enable epoll backend (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Similarly to the epoll backend above, EV can take advantage of kqueue on
many BSD systems. Support for kqueue will be detected at runtime, with a
safe fallback to other methods when it cannot be used.

Note that kqueue is broken on most operating systems, so by default it
won't be used on many platforms, but you can still create your own event
loop with kqueue backend if you ask specifically for it.

Here is what we know:

NetBSD:  partially working in at least 3.1 and later. Yeah! :)
FreeBSD: broken on at least 6.2-STABLE, spotty in later versions,
         sockets *likely* work, ptys definitely don't.
OpenBSD: reports indicate that it likely doesn't work
         (similar problems as on FreeBSD).
OS X:    completely, utterly broken on at least <= 10.6.

Enable kqueue backend (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Similarly to the kqueue backend above, EV can take advantage of the
solaris 10 event port interface. Support for event ports will be detected
at runtime, with a safe fallback to other methods when it cannot be used.

Enable event port backend (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


EV needs the functions pthread_atfork and clock_gettime. On most systems
you need some special libraries for this (such as -lrt and -lpthread). You
can specify additional libraries to provide these calls (and any other
required by EV) now, or accept the default.

On GNU/Linux systems, EV uses the LSB 3.1 __register_atfork function
to avoid the dependency on libpthread, and directly uses the clock_gettime
syscall to avoid a dependency on librt.

Extra libraries for pthread_atfork and clock_gettime? [-lpthread -lrt ] -lpthread -lrt 

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


A backend of a different kind is the Linux inotify(7) interface, which can
be used to speed up (and reduce resource consumption) of stat watchers. If
you have the include file and libc support for it, it is usually a good
idea to enable it, as kernel availability is detected at runtime.

Enable inotify support (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Another useful bit of functionality is the Linux eventfd, which is useful
for faster signal handling (don't care) and intra-thread communications
(more relevant). Kernel support for this will be probed at runtime, but
your libc must contain the necessary wrapper. Glibc 2.7 and later should
have this wrapper.

Enable linux eventfd support (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Another sometimes useful bit of functionality is the Linux signalfd, which
is useful for faster signal handling (don't care). Kernel support for
this will be probed at runtime, but your libc must contain the necessary
wrapper. Glibc 2.7 and later should have this wrapper.

Enable linux signalfd support (y/n)? [n] n

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Very rarely, people want to tweak EV even more, e.g. to exclude
or include certain watcher types or backends. This can be done by adding
extra -D options here, or via the EV_EXTRA_DEFS environment variable.

For example, if you run into compile problems because of missing memory
fences (or you just want extra performance), you can tell EV to not support
smp and threads via -DEV_NO_THREADS.

Normal persons just press enter.

Any extra -D options? [] 

*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***


Checking if your kit is complete...
Looks good
Warning (mostly harmless): No library found for -lpthread
Warning (mostly harmless): No library found for -lrt
Generating a dmake-style Makefile
Writing Makefile for EV
Writing MYMETA.yml and MYMETA.json
-> OK
Checking dependencies from MYMETA.json ...
Checking if you have ExtUtils::MakeMaker 0 ... Yes (6.98)
Checking if you have common::sense 0 ... Yes (3.74)
Building and testing EV-4.22
cp EV/MakeMaker.pm blib\lib/EV/MakeMaker.pm
cp libev/ev.pod blib\lib/EV/libev.pod
cp EV/EVAPI.h blib\lib/EV/EVAPI.h
cp libev/ev.h blib\lib/EV/ev.h
cp EV.pm blib\lib/EV.pm
Running Mkbootstrap for EV ()
C:\Strawberry\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 EV.bs
C:\Strawberry\perl\bin\perl.exe C:\home\tennis\perl5\lib\perl5\ExtUtils\xsubpp  -typemap C:\strawberry\perl\lib\ExtUtils\typemap -typemap typemap  EV.xs > EV.xsc && C:\Strawberry\perl\bin\perl.exe -MExtUtils::Command -e mv -- EV.xsc EV.c
gcc -c  -Ilibev 	-s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -DPERL_MSVCRT_READFIX -s -O2 	  -DVERSION=\"4.22\" 	-DXS_VERSION=\"4.22\"  "-IC:\strawberry\perl\lib\CORE"  -DEV_USE_REALTIME=0 -DEV_USE_SELECT=1 -DEV_USE_POLL=0 -DEV_USE_EPOLL=0 -DEV_USE_KQUEUE=0 -DEV_USE_PORT=0 -DEV_USE_INOTIFY=0 -DEV_USE_EVENTFD=0 -DEV_USE_SIGNALFD=0 EV.c
In file included from EV.xs:40:
libev/ev.c:559: error: redefinition of typedef 'uintptr_t'
C:/strawberry/perl/lib/CORE/win32.h:273: error: previous declaration of 'uintptr_t' was here
In file included from libev/ev.c:1574,
                 from EV.xs:40:
libev/ev_win32.c: In function `ev_time':
libev/ev_win32.c:158: warning: integer constant is too large for "long" type
In file included from EV.xs:40:
libev/ev.c: In function `evpipe_write':
libev/ev.c:2462: warning: assignment from incompatible pointer type
dmake.exe:  Error code 129, while making 'EV.o'
-> FAIL Installing EV failed. See C:\home\tennis\.cpanm\work\1491014153.5436\build.log for details. Retry with --force to force install it.
-> FAIL Installing the dependencies failed: Module 'EV' is not installed
-> FAIL Bailing out the installation for EV-ADNS-3.0.
