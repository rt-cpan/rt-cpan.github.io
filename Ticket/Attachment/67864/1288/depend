#!/usr/bin/perl -w

use strict;
use Module::Info;

my @pending;
my %modules;
my $counter = 0;

die "You must supply a module\n" unless @ARGV;

$modules{10} = 1;

push @pending, shift @ARGV;

while (@pending)
{
	my $module = shift @pending; 
	next if $modules{$module}++;
	my $mod = Module::Info->new_from_module($module);
	next unless ($mod);

	print $module,"\n";
	push @pending, $mod->modules_used();

}


exit 0;
