diff --git a/t/io.t b/t/io.t
index 82a8314..c9f5c65 100644
--- a/t/io.t
+++ b/t/io.t
@@ -86,7 +86,7 @@ Event->io(timeout => 2, repeat => 0,
 loop();
 
 my $bogus_fd_detection;
-if ($Config{osname} eq 'darwin' or $Config{osname} eq 'gnu' or
+if ($Config{osname} =~ m/^darwin/ or $Config{osname} eq 'gnu' or
     $Config{archname} =~ m/^armv5tejl/) {
     $bogus_fd_detection = 'Cannot detect bogus file descriptors';
 }
