PERL_DL_NONLAZY=1 /var/imb/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(1, 'blib/lib', 'blib/arch')" t/setrlimit.t
t/setrlimit.t .. 
1..14
# lim = RLIMIT_AS
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 1 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_CORE
# old_soft = 0, old_hard = -1
# try_soft = 0, try_hard = -1
# Rounding down to 4096 byte boundary
# try_soft = 0, try_hard = 0
# setrlimit(RLIMIT_CORE, 0) = OK
# getrlimit(RLIMIT_CORE) = 0
ok 2 # 0 <= 0
# lim = RLIMIT_CPU
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 3 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_DATA
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 4 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_FSIZE
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 5 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_LOCKS
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 6 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_MEMLOCK
# old_soft = 65536, old_hard = 65536
# try_soft = 49152, try_hard = 49152
# Rounding down to 4096 byte boundary
# try_soft = 49152, try_hard = 49152
# setrlimit(RLIMIT_MEMLOCK, 49152) = OK
# getrlimit(RLIMIT_MEMLOCK) = 49152
ok 7 # 49152 <= 49152
# lim = RLIMIT_NOFILE
# old_soft = 1024, old_hard = 4096
# try_soft = 768, try_hard = 3072
# try_soft = 768, try_hard = 3072
# setrlimit(RLIMIT_NOFILE, 768) = OK
# getrlimit(RLIMIT_NOFILE) = 768
ok 8 # 768 <= 768
# lim = RLIMIT_NPROC
# old_soft = 63840, old_hard = 63840
# try_soft = 47880, try_hard = 47880
# try_soft = 47880, try_hard = 47880
# setrlimit(RLIMIT_NPROC, 47880) = OK
# getrlimit(RLIMIT_NPROC) = 47880
ok 9 # 47880 <= 47880
# lim = RLIMIT_OFILE
# old_soft = 768, old_hard = 3072
# try_soft = 576, try_hard = 2304
# try_soft = 576, try_hard = 2304
# setrlimit(RLIMIT_OFILE, 576) = OK
# getrlimit(RLIMIT_OFILE) = 576
ok 10 # 576 <= 576
# lim = RLIMIT_OPEN_MAX
# old_soft = 576, old_hard = 2304
# try_soft = 432, try_hard = 1728
# try_soft = 432, try_hard = 1728
# setrlimit(RLIMIT_OPEN_MAX, 432) = OK
# getrlimit(RLIMIT_OPEN_MAX) = 432
ok 11 # 432 <= 432
# lim = RLIMIT_RSS
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 12 # SKIP soft_limit == RLIM_INFINITY
# lim = RLIMIT_STACK
# old_soft = 8388608, old_hard = -1
# try_soft = 6291456, try_hard = -1
# Rounding down to 4096 byte boundary
# try_soft = 6291456, try_hard = 0
not ok 13 # setrlimit(RLIMIT_STACK, 6291456, 0) failed: Invalid argument
# lim = RLIMIT_VMEM
# old_soft = -1, old_hard = -1
# try_soft = -1, try_hard = -1
ok 14 # SKIP soft_limit == RLIM_INFINITY
Failed 1/14 subtests 
	(less 7 skipped subtests: 6 okay)

Test Summary Report
-------------------
t/setrlimit.t (Wstat: 0 Tests: 14 Failed: 1)
  Failed test:  13
Files=1, Tests=14,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.01 cusr  0.00 csys =  0.04 CPU)
Result: FAIL
