--- DCC.pm.orig	2004-12-17 17:40:08.000000000 +0200
+++ DCC.pm	2005-12-17 17:15:16.301609999 +0200
@@ -145,7 +145,7 @@
     # Only do the Disconnection Dance of Death if the socket is still
     # live. Duplicate dcc_close events would be a Bad Thing.
     
-    if ($self->{_socket}->opened) {
+    if ($self->{_socket}->opened and $self->{_parent}->can('handler')) {
 	$self->{_parent}->handler(Net::IRC::Event->new('dcc_close',
 						       $self->{_nick},
 						       $self->{_socket},
