./test-net-ftpssl.pl

Net-FTPSSL Version: 0.17

Perl: 5.010000  [5.10.0],  OS: darwin

Server (port): test.ftps-server.com (21)

SKT <<< 220 ftpshost:6021 FTP server (webMethods Integration Server version 6.5) ready.
SKT >>> AUTH SSL
SKT <<< 234 AUTH SSL OK.
DEBUG: .../IO/Socket/SSL.pm:1482: new ctx 4312696016
DEBUG: .../IO/Socket/SSL.pm:945: start handshake
DEBUG: .../IO/Socket/SSL.pm:349: ssl handshake not started
DEBUG: .../IO/Socket/SSL.pm:379: set socket to non-blocking to enforce timeout=120
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> -1
DEBUG: .../IO/Socket/SSL.pm:402: ssl handshake in progress
DEBUG: .../IO/Socket/SSL.pm:412: waiting for fd to become ready: SSL wants a read first
DEBUG: .../IO/Socket/SSL.pm:432: socket ready, retrying connect
DEBUG: .../IO/Socket/SSL.pm:392: Net::SSLeay::connect -> 1
DEBUG: .../IO/Socket/SSL.pm:447: ssl handshake done

Object SSL Details ... (test.ftps-server.com:21 - E)
  io_socket_proto ==> 6
  last_ftp_msg ==> 234 AUTH SSL OK.
  io_socket_domain ==> 2
  dcsc_mode ==> 1
  _SSL_last_err ==> SSL wants a read first
  FixPutTs ==> 0
  _SSL_arguments ==> HASH(0x100805020)
        -- Proto ===> tcp
        -- SSL_version ===> SSLv3
        -- SSL_key_file ===> 53-private.pem
        -- SSL_cert_file ===> 53-pubkey.pem
        -- PeerPort ===> 21
        -- SSL_check_crl ===> 0
        -- SSL_server ===> 0
        -- SSL_verify_mode ===> 0
        -- SSL_use_cert ===> 1
        -- PeerAddr ===> 11.22.33.44
        -- SSL_passwd_cb ===> CODE(0x100935980)
  OverridePASV ==> (undef)
  trace ==> 0
  timeout ==> 120
  _SSL_object ==> 4312708928
  data_prot ==> P
  buf_size ==> 10240
  debug ==> 1
  _SSL_fileno ==> 3
  io_socket_timeout ==> 120
  _SSL_opened ==> 1
  io_socket_type ==> 1
  _SSL_ctx ==> IO::Socket::SSL::SSL_Context=HASH(0x1009a67e8)
        -- context ===> 4312696016
  FixGetTs ==> 0
  Croak ==> 1
  Crypt ==> E
  type ==> A
  _SSL_ioclass_upgraded ==> IO::Socket::INET
  Host ==> test.ftps-server.com

>>> USER anonymous
<<< 331 Password required for anonymous.
>>> PASS *******
<<< 230 User CHSM logged in.
>>> CWD /ns/sftp/inbound/
<<< 250 CWD command successful.
>>> CWD /CHSM/outbound/
<<< 250 CWD command successful.
>>> PBSZ 0
<<< 200 PBSZ Command successful. (PBSZ=0)
>>> PROT P
<<< 200 PROT set to P.
>>> PASV
<<< 227 Entering Passive Mode (11.22.33.44,25,187)
>>> LIST
<<< 150 ASCII mode SSL  data connection for /bin/ls (68.98.2.133,0).
SSL_read 47805: 1 - error:14094412:SSL routines:SSL3_READ_BYTES:sslv3 alert bad certificate
<<< 550 Client certificate rejected by ChainVerifier.
>>> ABOR
<<< 500 'ABOR': command not understood.
>>> QUIT
<<< 221 Goodbye.
550 Client certificate rejected by ChainVerifier.
 at ./test-net-ftpssl.pl line 31
DEBUG: .../IO/Socket/SSL.pm:1519: free ctx 4312696016 open=4312696016
DEBUG: .../IO/Socket/SSL.pm:1527: OK free ctx 4312696016

