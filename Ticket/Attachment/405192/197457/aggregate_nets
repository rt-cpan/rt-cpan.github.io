#!/usr/bin/perl -w
# vi:ts=4:sw=4

use strict;
use warnings;
use Net::CIDR::Compare;

my $nets = Net::CIDR::Compare->new();
my $list = $nets->new_list();
my $net;

while (<>) {
	chomp;
	s/^\s+//;
	s/\s+$//;
	next unless length;
	$nets->add_range( $list, $_, 1 );
}

$nets->process_intersection();
while ( $net = $nets->get_next_intersection_range() ) {
	print $net, "\n";
}

$nets->remove_list($list);

