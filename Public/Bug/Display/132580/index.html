<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #132580 for Text-CSV_XS: How to ignore comment lines/blank lines?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #132580 for Text-CSV_XS: How to ignore comment lines/blank lines?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Text-CSV_XS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Text-CSV_XS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Text-CSV_XS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Text-CSV_XS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Text-CSV_XS">Text-CSV_XS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">132580</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Text-CSV_XS">Text-CSV_XS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SVW [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-31868-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31869-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=132580">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1897718" href="/Public/Bug/Display.html?id=132580#txn-1897718">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;14&nbsp;10:20:13&nbsp;2020</span>
    <span class="description">SVW [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> How to ignore comment lines/blank lines?</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1897718/1017245/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1017245">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 590b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">We have a pipe separated configuration file at our end that we want to manage with this module. In the end we want to manage it with DBD::CSV. Besides the real CSV style data lines comment lines and blank lines are present.

Is it possible to configure this module in a way that these lines are ignored &#34;while parsing&#34; but still dumped as is at the original place &#34;while writing&#34;?

At the moment blank lines are interpreted and written as

||

if the CSV style configuration file has for example 3 columns. For comment lines these 2 pipes would be appended to the end of each comment.

Thx.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898051" href="/Public/Bug/Display.html?id=132580#txn-1898051">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;02:54:50&nbsp;2020</span>
    <span class="description">h.m.brand [...] xs4all.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132580] How to ignore comment lines/blank lines?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 May 2020 08:53:20 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Text-CSV_XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;H.Merijn Brand&#34; &lt;h.m.brand [...] xs4all.nl&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898051/1017435/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1017435">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, 14 May 2020 10:20:14 -0400, &#34;Sven Willenbuecher via RT&#34;
&lt;bug-Text-CSV_XS@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; We have a pipe separated configuration file at our end that we want
&gt; to manage with this module. In the end we want to manage it with
&gt; DBD::CSV. Besides the real CSV style data lines comment lines and
&gt; blank lines are present.
&gt; 
&gt; Is it possible to configure this module in a way that these lines are
&gt; ignored &#34;while parsing&#34; but still dumped as is at the original place
&gt; &#34;while writing&#34;?
&gt; 
&gt; At the moment blank lines are interpreted and written as
&gt; 
&gt; ||
&gt; 
&gt; if the CSV style configuration file has for example 3 columns. For
&gt; comment lines these 2 pipes would be appended to the end of each
&gt; comment.
</div>
As this is hardly &#34;a bug&#34;, a better place to discuss this might be on
github in an issue: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Tux/Text-CSV_XS/issues">https://github.com/Tux/Text-CSV_XS/issues</a></span>

With what you write, I seriously have no idea what your requirements
are exactly. Could you add an anonymized example of what you have as
data, how you want it written, and how you want it read back?

-- 
H.Merijn Brand  <span class="clickylink"><a target="new" rel="nofollow" href="http://tux.nl">http://tux.nl</a></span>   Perl Monger  <span class="clickylink"><a target="new" rel="nofollow" href="http://amsterdam.pm.org/">http://amsterdam.pm.org/</a></span>
using perl5.00307 .. 5.31      porting perl5 on HP-UX, AIX, and Linux
<span class="clickylink"><a target="new" rel="nofollow" href="https://useplaintext.email">https://useplaintext.email</a></span>  <span class="clickylink"><a target="new" rel="nofollow" href="https://tux.nl">https://tux.nl</a></span>  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.test-smoke.org">http://www.test-smoke.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://qa.perl.org">http://qa.perl.org</a></span>   <span class="clickylink"><a target="new" rel="nofollow" href="http://www.goldmark.org/jeff/stupid-disclaimers/">http://www.goldmark.org/jeff/stupid-disclaimers/</a></span>
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898051/1017436/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">application/pgp-signature 488b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898052" href="/Public/Bug/Display.html?id=132580#txn-1898052">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;02:54:50&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898801" href="/Public/Bug/Display.html?id=132580#txn-1898801">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;19&nbsp;05:22:08&nbsp;2020</span>
    <span class="description">SVW [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898801/1017814/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1017814">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Fr 15. Mai 2020, 02:54:50, h.m.brand@xs4all.nl schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu, 14 May 2020 10:20:14 -0400, &#34;Sven Willenbuecher via RT&#34;
&gt; &lt;bug-Text-CSV_XS@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; We have a pipe separated configuration file at our end that we want
&gt; &gt; to manage with this module. In the end we want to manage it with
&gt; &gt; DBD::CSV. Besides the real CSV style data lines comment lines and
&gt; &gt; blank lines are present.
&gt; &gt; 
&gt; &gt; Is it possible to configure this module in a way that these lines are
&gt; &gt; ignored &#34;while parsing&#34; but still dumped as is at the original place
&gt; &gt; &#34;while writing&#34;?
&gt; &gt; 
&gt; &gt; At the moment blank lines are interpreted and written as
&gt; &gt; 
&gt; &gt; ||
&gt; &gt; 
&gt; &gt; if the CSV style configuration file has for example 3 columns. For
&gt; &gt; comment lines these 2 pipes would be appended to the end of each
&gt; &gt; comment.
</div>&gt; 
&gt; As this is hardly &#34;a bug&#34;, a better place to discuss this might be on
&gt; github in an issue: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Tux/Text-CSV_XS/issues">https://github.com/Tux/Text-CSV_XS/issues</a></span>
&gt; 
&gt; With what you write, I seriously have no idea what your requirements
&gt; are exactly. Could you add an anonymized example of what you have as
&gt; data, how you want it written, and how you want it read back?
&gt; 
</div>
I thought changing the severity to &#34;wishlist&#34; makes &#34;a bug&#34; a feature request. Next time I know when to use CPAN RT and when to use GitHub issue tracker.

Here is an example of a pipe separated CSV configuration file that we want to process &#40;query, update&#41; with DBD::CSV.

&lt;file&gt;

# --- description of the foo download scenario
foo|TARGET|/partnerA
foo|GENERICNAME|.*\.txt
foo|FTP_MODE|binary

# --- description of the bar download scenario
bar|TARGET|/partnerB
bar|GENERICNAME|.*
bar|SEM_SUFFIX|.ok
bar|DEL_INDICATOR|YES

&lt;file&gt;

Configuration sections are separated by zero or more empty lines and have multiple descriptive headers. Each section has three columns. When we query the file the empty lines and the comment lines should be ignored but writing the file should preserve these lines. At the moment the written file looks like this

&lt;file&gt;
||^M
# --- description of the foo download scenario||^M
foo|TARGET|/partnerA^M
foo|GENERICNAME|.*\.txt^M
foo|FTP_MODE|binary^M
||^M
# --- description of the bar download scenario||^M
bar|TARGET|/partnerB^M
bar|GENERICNAME|.*^M
bar|SEM_SUFFIX|.ok^M
bar|DEL_INDICATOR|YES^M
||^M
&lt;file&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898861" href="/Public/Bug/Display.html?id=132580#txn-1898861">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;19&nbsp;11:16:30&nbsp;2020</span>
    <span class="description">h.m.brand [...] xs4all.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132580] How to ignore comment lines/blank lines?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 May 2020 17:16:08 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Text-CSV_XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;H.Merijn Brand&#34; &lt;h.m.brand [...] xs4all.nl&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898861/1017860/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1017860">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 19 May 2020 05:22:09 -0400, &#34;Sven Willenbuecher via RT&#34;
&lt;bug-Text-CSV_XS@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I thought changing the severity to &#34;wishlist&#34; makes &#34;a bug&#34; a feature
&gt; request. Next time I know when to use CPAN RT and when to use GitHub
&gt; issue tracker.
</div>
You are probably right, but on GitHub, there is more room for others to
chime in with ideas and feedback on feature requests.

In the case you described, I am positive that the request is out of
scope of the parser itself, as it will for sure cause an unacceptable
slowdown of the normal parsing: the procedure you describe will need a
lookahead. This will require additional buffering and processing, which
will be a strain on processing streams and will also slowdown regular
parsing.

My suggestion would be to add the steering data in meta-files, certainly
if you are using this with DBD::CSV, as that supports multiple locations
by the use of f_dir_search &#40;alongside f_dir&#41;. In this, meta-files are no
more than other CSV files in the set of locations that can be queried to
fetch what would have been in the now clean data-files.

So, I think I will reject this request for the parser itself, as it will
be better to move this to a higher level. You might consider subclassing
DBD::CSV or make your own version of it.

-- 
H.Merijn Brand  <span class="clickylink"><a target="new" rel="nofollow" href="http://tux.nl">http://tux.nl</a></span>   Perl Monger  <span class="clickylink"><a target="new" rel="nofollow" href="http://amsterdam.pm.org/">http://amsterdam.pm.org/</a></span>
using perl5.00307 .. 5.31      porting perl5 on HP-UX, AIX, and Linux
<span class="clickylink"><a target="new" rel="nofollow" href="https://useplaintext.email">https://useplaintext.email</a></span>  <span class="clickylink"><a target="new" rel="nofollow" href="https://tux.nl">https://tux.nl</a></span>  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.test-smoke.org">http://www.test-smoke.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://qa.perl.org">http://qa.perl.org</a></span>   <span class="clickylink"><a target="new" rel="nofollow" href="http://www.goldmark.org/jeff/stupid-disclaimers/">http://www.goldmark.org/jeff/stupid-disclaimers/</a></span>
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898861/1017861/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">application/pgp-signature 488b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898923" href="/Public/Bug/Display.html?id=132580#txn-1898923">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;10:28:20&nbsp;2020</span>
    <span class="description">SVW [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1898923/1017888/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1017888">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Di 19. Mai 2020, 11:16:30, h.m.brand@xs4all.nl schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue, 19 May 2020 05:22:09 -0400, &#34;Sven Willenbuecher via RT&#34;
&gt; &lt;bug-Text-CSV_XS@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; I thought changing the severity to &#34;wishlist&#34; makes &#34;a bug&#34; a feature
&gt; &gt; request. Next time I know when to use CPAN RT and when to use GitHub
&gt; &gt; issue tracker.
</div>&gt; 
&gt; You are probably right, but on GitHub, there is more room for others to
&gt; chime in with ideas and feedback on feature requests.
&gt; 
&gt; In the case you described, I am positive that the request is out of
&gt; scope of the parser itself, as it will for sure cause an unacceptable
&gt; slowdown of the normal parsing: the procedure you describe will need a
&gt; lookahead. This will require additional buffering and processing, which
&gt; will be a strain on processing streams and will also slowdown regular
&gt; parsing.
&gt; 
&gt; My suggestion would be to add the steering data in meta-files, certainly
&gt; if you are using this with DBD::CSV, as that supports multiple locations
&gt; by the use of f_dir_search &#40;alongside f_dir&#41;. In this, meta-files are no
&gt; more than other CSV files in the set of locations that can be queried to
&gt; fetch what would have been in the now clean data-files.
&gt; 
&gt; So, I think I will reject this request for the parser itself, as it will
&gt; be better to move this to a higher level. You might consider subclassing
&gt; DBD::CSV or make your own version of it.
&gt; 
</div>
Understood. Thanks for the feedback and suggestion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1898925" href="/Public/Bug/Display.html?id=132580#txn-1898925">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;10:28:20&nbsp;2020</span>
    <span class="description">SVW [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.426443</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
