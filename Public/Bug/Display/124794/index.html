<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #124794 for Tk: WidgetDemo.pm indexed but not in @INC</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #124794 for Tk: WidgetDemo.pm indexed but not in @INC</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Tk/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Tk/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Tk/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Tk/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk">Tk CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">124794</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Tk/Active/">Tk</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33610-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33611-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;16&nbsp;22:20:30&nbsp;2018</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> WidgetDemo.pm indexed but not in @INC</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza"><span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/permission/distribution/Tk">https://metacpan.org/permission/distribution/Tk</a></span><br>

<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;<br>
</div>	
		
			
				<a href="https://metacpan.org/pod/WidgetDemo">WidgetDemo</a>
			
				<a href="https://metacpan.org/author/TKML">TKML</a>
			
				<a href="https://metacpan.org/author/NI-S">NI-S</a> <a href="https://metacpan.org/author/SREZIC">SREZIC</a>
		
	

<br>

This however installs to $INC[...]/demos/widget_lib/ , which is not in any standard @INC<br>

<br>

The demo in <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-0.4/demos/cursor.pl">https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-0.4/demos/cursor.pl</a></span> uses this library, but its not arranged to actually work as it doesn&#39;t do any @INC fiddling to make it possible, but it clearly has some sort of weak-dependency on the one in Tk.<br>

<br>

Not sure where the right place for this to get fixed is.<br>

<br>

Its also worth pointing out that as a vendor packager, I&#39;d typically nuke Tk/demos/* from installing to @INC at all, and make them install in our vendor directory for those sorts of things, besides where we store documentation and soforth.<br>

<br>

In such a scenario, promoting WidgetDemo to a real @INC library would be helpful, given the horse has kind of bolted on it being indexed.<br>

<br>

--&nbsp;<br>

- CPAN kentnl@cpan.org<br>

- Gentoo Perl Maintainer kentnl@gentoo.org ( perl@gentoo.org )<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;16&nbsp;22:30:48&nbsp;2018</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><p>
	mm, I see how it works now, but its still of zero use beyond install-time, which really makes all the effort to stash the script in question in @INC kinda useless:</p>

<p>
	&nbsp;</p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-0.4/Makefile.PL#L34-35">https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-0.4/Makefile.PL#L34-35</a></span></p>

<p>
	&nbsp;</p>

<p>
	If you can&#39;t realy run the program without the makefile around, why install the program?<br>

	<br>

	<br>

	--&nbsp;<br>

	- CPAN kentnl@cpan.org<br>

	- Gentoo Perl Maintainer kentnl@gentoo.org ( perl@gentoo.org )<br>

	&nbsp;</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;06:44:07&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-16 22:30:48, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; mm, I see how it works now, but its still of zero use beyond install-
&gt; time,
&gt; which really makes all the effort to stash the script in question in
&gt; @INC kinda
&gt; useless:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-">https://metacpan.org/source/DUNNIGANJ/Tk-CursorControl-</a></span>
&gt; 0.4/Makefile.PL#L34-35
&gt; 
&gt; If you can&#39;t realy run the program without the makefile around, why
&gt; install the
&gt; program?
</div>
WidgetDemo is used by the &#34;widget&#34; demonstration program, which is normally installed together with Tk. 3rd party modules may add their own demonstrations to this program. This is explained in &#34;widget&#34; itself &#40;under &#34;User Contributed Demonstrations&#34; &gt; &#34;1. Learn how to write your own widget demonstration.&#34;&#41;. And Tk::CursorControl&#39;s own demo is visible as &#34;CursorControl, Manipulate the cursor programmatically.&#34; after full installation.

-- Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;06:44:09&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;03:35:29&nbsp;2018</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><p>
	On 2018-03-17 23:44:07, SREZIC wrote:<br>

	&gt; WidgetDemo is used by the &quot;widget&quot; demonstration program, which is<br>

	&gt; normally installed together with Tk. 3rd party modules may add their<br>

	&gt; own demonstrations to this program. This is explained in &quot;widget&quot;<br>

	&gt; itself (under &quot;User Contributed Demonstrations&quot; &gt; &quot;1. Learn how to<br>

	&gt; write your own widget demonstration.&quot;). And Tk::CursorControl&#39;s own<br>

	&gt; demo is visible as &quot;CursorControl, Manipulate the cursor<br>

	&gt; programmatically.&quot; after full installation.<br>

	&gt;<br>

	&gt; -- Slaven<br>

	<br>

	Ah. I see, that changes things. I&#39;ll have to muse over this to work out how to best please our users requirements.<br>

	<br>

	Do you have any opinion on this demo system not being available conditionally?<br>

	<br>

	Because we&#39;re source based, I *could* provide a toggle switch that defaults &quot;off&quot;, which when &quot;off&quot; would strip the demo system, that way only users who actively want the demos would turn it on, and users who simply install pTk as a dependency save a few bytes.<br>

	<br>

	I get the impression also that a different location might be &quot;nice&quot; if we&#39;re trying to organise things more along linux standards, instead of being restricted to the sorts of paths available to the CPAN installer toolkit, .... but doing so would probably be more work for me than its worth.<br>

	<br>

	Part of this motivation is to avoid package collisions, because our package manager system forbids two packages from overwriting each others files, but:</p>

<p>
	Tk-CursorControl installs &quot;widtrib/cursor.pl&quot;, which Tk also installs. ( This is presently resolved by renaming to cursor_control.pl during install )<br>

	<br>

	Tk-TableMatrix attempts to install an auto/Tk/pTK/extralibs.ld file, which is also in Tk as well ( a blank file ), and we currently work around this by nuking it from the Tk-TableMatrix preinstall image.<br>

	<br>

	I get the impression some sort of libexec-like location would normally be in order, and it might be helpful to organise demo files by their providing package name in a sort of layout that the widgetdemo program can make sense of, eg:</p>

<p>
	&nbsp;</p>

<p>
	libexec/TkWidgetDemo/Tk /&nbsp;&nbsp; &lt;current contents of Tk/demos&gt;<br>

	libexec/TkWidgetDemo/Tk-CursorControl/&nbsp;&nbsp; .....<br>

	libexec/TkWidgetDemo/Tk-TableMatrix/&nbsp; ....<br>

	<br>

	I&#39;m probably overthinking a lot of this, but something I&#39;ve said might be a starting point for a good idea.<br>

	<br>

	<br>

	--&nbsp;<br>

	- CPAN kentnl@cpan.org<br>

	- Gentoo Perl Maintainer kentnl@gentoo.org ( perl@gentoo.org )<br>

	&nbsp;</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;13:16:23&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-18 03:35:29, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2018-03-17 23:44:07, SREZIC wrote:
<div class="message-stanza open">&gt; &gt; WidgetDemo is used by the &#34;widget&#34; demonstration program, which is
&gt; &gt; normally installed together with Tk. 3rd party modules may add their
&gt; &gt; own demonstrations to this program. This is explained in &#34;widget&#34;
&gt; &gt; itself &#40;under &#34;User Contributed Demonstrations&#34; &gt; &#34;1. Learn how to
&gt; &gt; write your own widget demonstration.&#34;&#41;. And Tk::CursorControl&#39;s own
&gt; &gt; demo is visible as &#34;CursorControl, Manipulate the cursor
&gt; &gt; programmatically.&#34; after full installation.
&gt; &gt;
&gt; &gt; -- Slaven
</div>&gt; 
&gt; Ah. I see, that changes things. I&#39;ll have to muse over this to work
&gt; out how to
&gt; best please our users requirements.
&gt; 
&gt; Do you have any opinion on this demo system not being available
&gt; conditionally?
&gt; 
&gt; Because we&#39;re source based, I *could* provide a toggle switch that
&gt; defaults
&gt; &#34;off&#34;, which when &#34;off&#34; would strip the demo system, that way only
&gt; users who
&gt; actively want the demos would turn it on, and users who simply install
&gt; pTk as a
&gt; dependency save a few bytes.
&gt; 
&gt; I get the impression also that a different location might be &#34;nice&#34; if
&gt; we&#39;re
&gt; trying to organise things more along linux standards, instead of being
&gt; restricted to the sorts of paths available to the CPAN installer
&gt; toolkit, ....
&gt; but doing so would probably be more work for me than its worth.
&gt; 
&gt; Part of this motivation is to avoid package collisions, because our
&gt; package
&gt; manager system forbids two packages from overwriting each others
&gt; files, but:
&gt; 
&gt; Tk-CursorControl installs &#34;widtrib/cursor.pl&#34;, which Tk also installs.
&gt; &#40; This
&gt; is presently resolved by renaming to cursor_control.pl during install
&gt; &#41;
</div>
Tk introduced cursor.pl in 2006, while Tk-CursorControl did it much earlier. So I think I should rename Tk&#39;s version to something else &#40;predefined-cursors.pl or so&#41;.

Also, it&#39;s probably a good idea to recommend that CPAN module authors should name their demo file in an unambiguous way, e.g. by prepending the distribution name as a prefix or so &#40;Tk-Getopt&#39;s demonstration file is named tk-getopt.pl, which is probably safe from collisions&#41;.  I&#39;ll put this also on my TODO list. Probably it&#39;s a little bit overkill to add a hierarchical structure here, and probably it&#39;s also a little bit late, as there&#39;s currently not much work on Tk modules these days.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tk-TableMatrix attempts to install an auto/Tk/pTK/extralibs.ld file,
&gt; which is
&gt; also in Tk as well &#40; a blank file &#41;, and we currently work around this
&gt; by
&gt; nuking it from the Tk-TableMatrix preinstall image.
&gt; 
&gt; I get the impression some sort of libexec-like location would normally
&gt; be in
&gt; order, and it might be helpful to organise demo files by their
&gt; providing
&gt; package name in a sort of layout that the widgetdemo program can make
&gt; sense of,
&gt; eg:
&gt; 
&gt; libexec/TkWidgetDemo/Tk / &lt;current contents of Tk/demos&gt;
&gt; libexec/TkWidgetDemo/Tk-CursorControl/ .....
&gt; libexec/TkWidgetDemo/Tk-TableMatrix/ ....
&gt; 
&gt; I&#39;m probably overthinking a lot of this, but something I&#39;ve said might
&gt; be a
&gt; starting point for a good idea.
&gt; 
&gt; 
&gt; --
&gt; - CPAN kentnl@cpan.org
&gt; - Gentoo Perl Maintainer kentnl@gentoo.org &#40; perl@gentoo.org &#41;
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
