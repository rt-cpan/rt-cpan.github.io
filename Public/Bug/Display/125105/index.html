<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #125105 for Regexp-Grammars: Segmentation fault at 2 GB of memeory</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #125105 for Regexp-Grammars: Segmentation fault at 2 GB of memeory</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Regexp-Grammars/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Regexp-Grammars/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Regexp-Grammars/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Regexp-Grammars/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Regexp-Grammars">Regexp-Grammars CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">125105</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Regexp-Grammars/Active/">Regexp-Grammars</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
alexchandel [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-228600-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-228601-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;17&nbsp;16:34:13&nbsp;2018</span>
    <span class="description">alexchandel [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Segmentation fault at 2 GB of memeory</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Parsing a large file &#40;about 317 lines, about 19670 bytes&#41; results in a segmentation fault as soon as Perl hits ~2 GB of memory usage. It&#39;s hard to tell, but memory allocation seemed to accelerate the further along the parser got in the file.

Is there any way to force Regexp::Grammars to treat a list-like subrule as non-backtracking or atomic, like &#34;&lt;[statements=block_stmt]&gt;*+&#34; instead of &#34;&lt;[statements=block_stmt]&gt;*&#34;? Wouldn&#39;t that save on memory if Regexp::Grammars knew to fail instead of saving backtracking locations?

Tested in Perl 5.26.1, macOS 10.13.4, Regexp::Grammars 1.048.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;17&nbsp;19:49:54&nbsp;2018</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 17 16:34:13 2018, alexchandel@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Parsing a large file &#40;about 317 lines, about 19670 bytes&#41; results in a
&gt; segmentation fault as soon as Perl hits ~2 GB of memory usage. It&#39;s
&gt; hard to tell, but memory allocation seemed to accelerate the further
&gt; along the parser got in the file.
&gt; 
&gt; Is there any way to force Regexp::Grammars to treat a list-like
&gt; subrule as non-backtracking or atomic, like
&gt; &#34;&lt;[statements=block_stmt]&gt;*+&#34; instead of &#34;&lt;[statements=block_stmt]&gt;*&#34;?
&gt; Wouldn&#39;t that save on memory if Regexp::Grammars knew to fail instead
&gt; of saving backtracking locations?
&gt; 
&gt; Tested in Perl 5.26.1, macOS 10.13.4, Regexp::Grammars 1.048.
</div>
Note that this happens *even with* &lt;nocontext:&gt;, plus the liberal use of possessive &#38; atomic expressions in tokens to limit backtracking at the small scale.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;08:34:14&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 22:33:22 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Alex,

I agree that it would certainly be better if non-backtracking repetitions
could be
applied to subrule calls. It would indeed reduce the parser&#39;s memory
footprint
in some cases.

Unfortunately, I am not aware of any way to make something like &lt;subrule&gt;*+
work correctly.

There is a long-standing issue with how in-regex variable localizations are
implemented
which means that they do not unwind correctly when a call to an independent
subpattern is part of a non-backtracking repetition. And because R::G uses
localized variables to implement its parse-tree stack, this issue makes it
impossible to implement &lt;subrule&gt;*+ properly.

I raised this issue with P5P several years ago but have been unable to
convince
them to change the current behaviour in such a way as to ensure that
repeated
localizations unwind correctly.

I certainly understand your frustration, and I am very sorry that I have no
better option
to offer you. :-&#40;

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;08:34:15&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;09:16:34&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 15:16:19 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 18 April 2018 at 14:34, damian@conway.org via RT
&lt;bug-Regexp-Grammars@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
&gt; Hi Alex,
&gt;
&gt; I agree that it would certainly be better if non-backtracking repetitions
&gt; could be
&gt; applied to subrule calls. It would indeed reduce the parser&#39;s memory
&gt; footprint
&gt; in some cases.
&gt;
&gt; Unfortunately, I am not aware of any way to make something like &lt;subrule&gt;*+
&gt; work correctly.
&gt;
&gt; There is a long-standing issue with how in-regex variable localizations are
&gt; implemented
&gt; which means that they do not unwind correctly when a call to an independent
&gt; subpattern is part of a non-backtracking repetition. And because R::G uses
&gt; localized variables to implement its parse-tree stack, this issue makes it
&gt; impossible to implement &lt;subrule&gt;*+ properly.
&gt;
&gt; I raised this issue with P5P several years ago but have been unable to
&gt; convince
&gt; them to change the current behaviour in such a way as to ensure that
&gt; repeated
&gt; localizations unwind correctly.
</div>
Can you point me at any of this discussion?

Yves

-- 
perl -Mre=debug -e &#34;/just|another|perl|hacker/&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;09:36:44&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 23:34:32 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Yves,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you point me at any of this discussion?
</div>
Most of it was in person between Rik Signes &#40;who was Pumpking at the time&#41;
and myself.

The formal report was much more recent, via Hugo van der Sanden:
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Public/Bug/Display.html?id=132277">https://rt.perl.org/Public/Bug/Display.html?id=132277</a></span>

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;09:45:33&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 13:44:47 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is the first I have heard of this. Perhaps there is something we can
do.

Yves

On Wed, 18 Apr 2018, 15:37 damian@conway.org via RT, &lt;
bug-Regexp-Grammars@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
&gt; Hi Yves,
&gt;
<div class="message-stanza open">&gt; &gt; Can you point me at any of this discussion?
</div>&gt;
&gt; Most of it was in person between Rik Signes &#40;who was Pumpking at the time&#41;
&gt; and myself.
&gt;
&gt; The formal report was much more recent, via Hugo van der Sanden:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Public/Bug/Display.html?id=132277">https://rt.perl.org/Public/Bug/Display.html?id=132277</a></span>
&gt;
&gt; Damian
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;09:49:36&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 23:48:45 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is the first I have heard of this.
&gt; Perhaps there is something we can do.
</div>
It would be awesome if there were.

Hugo’s sample code demonstrates one manifestation
of the problem, but I’ll be happy to provide further examples
of the issue if you need them.

Thanks, Yves.

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;11:30:45&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 15:30:15 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes some tests would be very helpful

On Wed, 18 Apr 2018, 15:49 damian@conway.org via RT, &lt;
bug-Regexp-Grammars@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
<div class="message-stanza open">&gt; &gt; This is the first I have heard of this.
&gt; &gt; Perhaps there is something we can do.
</div>&gt;
&gt; It would be awesome if there were.
&gt;
&gt; Hugo’s sample code demonstrates one manifestation
&gt; of the problem, but I’ll be happy to provide further examples
&gt; of the issue if you need them.
&gt;
&gt; Thanks, Yves.
&gt;
&gt; Damian
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;12:24:40&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Apr 2018 02:23:47 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yves,

Here is the simplest test suite I could devise that demonstrates
the problem. In my testing, it fails identically under every release
from 5.10 to 5.26

Damian

-----cut----------cut----------cut----------cut----------cut----------cut----------cut-----


#! /usr/bin/env perl
use warnings;

#
# The pattern matching code in each pair of subtests is identical,
# except that the second subtest replaces a backtracking quantifier
# with its non-backtracking equivalent.
#
# In each case, the non-backtracking version should pass, but it fails
#

use Test::More;
plan tests =&gt; 12;

our $count;

################

subtest &#39;Backtracking *&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;*    # This quantifier is backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking *+&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;*+   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################

subtest &#39;Backtracking &#40;?:*&#41;&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?: &#40;?&#38;A&#41;* &#41;   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking &#40;?&gt;*&#41;&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&gt; &#40;?&#38;A&#41;* &#41;   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################

subtest &#39;Backtracking +&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;+    # This quantifier is backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking ++&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;++   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################

subtest &#39;Backtracking {3}&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;{3}    # This quantifier is backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking {3}+&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;{3}+   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################

subtest &#39;Backtracking {1,3}&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;{1,3}    # This quantifier is backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking {1,3}+&#39; =&gt; sub {
    $count = 0;
    ok &#34;aaa&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;{1,3}+   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################

subtest &#39;Backtracking ?&#39; =&gt; sub {
    $count = 0;
    ok &#34;a&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;?    # This quantifier is backtracking
                    \z
                    &#40;?{ is $count, 1 =&gt; &#34;Found 1 a&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

subtest &#39;Non-backtracking ?+&#39; =&gt; sub {
    $count = 0;
    ok &#34;a&#34; =~ m{
                    \A
                    &#40;?&#38;A&#41;?+   # This quantifier is non-backtracking
                    \z
                    &#40;?{ is $count, 1 =&gt; &#34;Found 1 a&#34; }&#41;

                    &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&#41; &#41;
                }x =&gt; &#39;Regex matched&#39;;
};

################
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;12:50:58&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2018 18:50:25 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 18 April 2018 at 18:24, damian@conway.org via RT
&lt;bug-Regexp-Grammars@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
&gt; Yves,
&gt;
&gt; Here is the simplest test suite I could devise that demonstrates
&gt; the problem. In my testing, it fails identically under every release
&gt; from 5.10 to 5.26
</div>
That is awesome. Thanks Damian. Sorry for the terse replies earlier,
was on a dratted phone.

Hope you well!
Yves

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; -----cut----------cut----------cut----------cut----------cut----------cut----------cut-----
&gt;
&gt;
&gt; #! /usr/bin/env perl
&gt; use warnings;
&gt;
&gt; #
&gt; # The pattern matching code in each pair of subtests is identical,
&gt; # except that the second subtest replaces a backtracking quantifier
&gt; # with its non-backtracking equivalent.
&gt; #
&gt; # In each case, the non-backtracking version should pass, but it fails
&gt; #
&gt;
&gt; use Test::More;
&gt; plan tests =&gt; 12;
&gt;
&gt; our $count;
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking *&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;*    # This quantifier is backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking *+&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;*+   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking &#40;?:*&#41;&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?: &#40;?&#38;A&#41;* &#41;   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking &#40;?&gt;*&#41;&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&gt; &#40;?&#38;A&#41;* &#41;   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking +&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;+    # This quantifier is backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking ++&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;++   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking {3}&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;{3}    # This quantifier is backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking {3}+&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;{3}+   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking {1,3}&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;{1,3}    # This quantifier is backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking {1,3}+&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;aaa&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;{1,3}+   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 3 =&gt; &#34;Found 3 a&#39;s&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
&gt;
&gt; subtest &#39;Backtracking ?&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;a&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;?    # This quantifier is backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 1 =&gt; &#34;Found 1 a&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; subtest &#39;Non-backtracking ?+&#39; =&gt; sub {
&gt;     $count = 0;
&gt;     ok &#34;a&#34; =~ m{
&gt;                     \A
&gt;                     &#40;?&#38;A&#41;?+   # This quantifier is non-backtracking
&gt;                     \z
&gt;                     &#40;?{ is $count, 1 =&gt; &#34;Found 1 a&#34; }&#41;
&gt;
&gt;                     &#40;?&#40;DEFINE&#41;  &#40;?&lt;A&gt;  a  &#40;?{ local $count = $count + 1 }&#41;
&gt; &#41; &#41;
&gt;                 }x =&gt; &#39;Regex matched&#39;;
&gt; };
&gt;
&gt; ################
</div>


-- 
perl -Mre=debug -e &#34;/just|another|perl|hacker/&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;14:22:44&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Apr 2018 04:21:52 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry for the terse replies earlier, was on a dratted phone.
</div>
No problem at all. Thanks for your interest in the problem!


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hope you well!
</div>
Very well. Hope you are likewise. :-&#41;

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;24&nbsp;17:19:30&nbsp;2018</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 18 14:22:44 2018, damian@conway.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Sorry for the terse replies earlier, was on a dratted phone.
</div>&gt; 
&gt; No problem at all. Thanks for your interest in the problem!
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; Hope you well!
</div>&gt; 
&gt; Very well. Hope you are likewise. :-&#41;
&gt; 
&gt; Damian
</div>
Possessive quantifiers and atomic grouping would be nice. But in the mean time, is there any way I can cut down on Regexp::Grammars&#39; explosive memory usage?

The grammar that triggers this has binary expression trees, with different rules used to encode operator precedence, and each rule is an objtoken.

Would &#34;optimizing&#34; the object tree, which often looks something like or&#40;xor&#40;and&#40;compare&#40;add&#40;mult&#40;factor&#40;power&#40;2&#41;&#41;&#41;, 2&#41;&#41;&#41;&#41;&#41;, to add&#40;2,2&#41;, by deleting unnecessary children in the constructor that Regexp::Grammars calls save significant memory? Or does Regexp::Grammars keep references to these objects?

Where do these 100s of megabytes of memory come from, in matching a couple hundred short lines?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;25&nbsp;08:44:37&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Apr 2018 22:43:25 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Alex,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Where do these 100s of megabytes of memory come from,
&gt; in matching a couple hundred short lines?
</div>
That&#39;s the huge mystery here. I simply don&#39;t know.

You reported falling over at 2GB, which strongly implies
a serious memory leak, not a huge object tree.

Each node object is likely to be less that 1kB, so that would
imply a tree of well over a million nodes, which is absurd.

Optimizing the tree would, of course, reduce the memory usage,
but I doubt it will solve the problem, because I doubt a big tree
is causing the problem in the first place.

If you can send me a self-contained example of the grammar
and the data that causing this issue, I&#39;ll take a look at it
myself and see if I can see anything obviously amiss.

But it&#39;s more likely, I fear, that we&#39;re tripping some internal
issue that&#39;s resulting in a huge memory leak. So I can&#39;t promise
I&#39;ll be able to solve this for you.

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;14:31:55&nbsp;2018</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 25 08:44:37 2018, damian@conway.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Alex,
&gt; 
<div class="message-stanza open">&gt; &gt; Where do these 100s of megabytes of memory come from,
&gt; &gt; in matching a couple hundred short lines?
</div>&gt; 
&gt; That&#39;s the huge mystery here. I simply don&#39;t know.
&gt; 
&gt; You reported falling over at 2GB, which strongly implies
&gt; a serious memory leak, not a huge object tree.
&gt; 
&gt; Each node object is likely to be less that 1kB, so that would
&gt; imply a tree of well over a million nodes, which is absurd.
&gt; 
&gt; Optimizing the tree would, of course, reduce the memory usage,
&gt; but I doubt it will solve the problem, because I doubt a big tree
&gt; is causing the problem in the first place.
&gt; 
&gt; If you can send me a self-contained example of the grammar
&gt; and the data that causing this issue, I&#39;ll take a look at it
&gt; myself and see if I can see anything obviously amiss.
&gt; 
&gt; But it&#39;s more likely, I fear, that we&#39;re tripping some internal
&gt; issue that&#39;s resulting in a huge memory leak. So I can&#39;t promise
&gt; I&#39;ll be able to solve this for you.
&gt; 
&gt; Damian
</div>
Damian,

I&#39;ve sent you a simplified grammar and an test file that result in this issue. Running it invariably results in an error similar to:

[1]    12343 segmentation fault  ./simple.pl test.cl

Alex
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;09:54:15&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 27 Apr 2018 23:53:23 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the example file, Alex.

I&#39;ve confirmed that it segfaults under any version of Perl &gt;= 5.18
and runs perfectly on any version of Perl between 5.10 and 5.16.

So it&#39;s an internal issue of some kind in the revamped regex engine
&#40;the revamping process began in 5.18&#41;.

The bad news is that this is not something I can fix in the module&#39;s
code.

The less bad news is that this is definitely something I can report
as a Perl bug, and which someone else may eventually be able to fix.
I will do this as soon as I can reduce the problem to something
small enough to make an actionable bug report.

For the moment, the only workaround seems to be to run it
under Perl 5.16 or earlier &#40;via perlbrew, for example&#41;.

The alternative would be to look at porting your grammar to Marpa::R2
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/distribution/Marpa-R2/pod/Marpa_R2.pod&#41;">https://metacpan.org/pod/distribution/Marpa-R2/pod/Marpa_R2.pod&#41;</a></span>.

Or, less painfully, to use one of the Marpa helper modules:

    <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/MarpaX::Simple">https://metacpan.org/pod/MarpaX::Simple</a></span>
    <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Grammar::Marpa">https://metacpan.org/pod/Grammar::Marpa</a></span>

I&#39;m sorry I don&#39;t have a better answer for you than this, Alex.
If I happen to come across a simpler workaround whilst I&#39;m
creating the bug report, I&#39;ll certainly post it here.

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;10:41:41&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 28 Apr 2018 00:40:50 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On further investigation, this grammar segfaults
under pre-5.18 versions of Perl as well, if it is fed
longer input.

Therefore the problem is inherent in either the way
the grammar is written &#40;the tail-recursions might be an issue,
maybe try &lt;[subrule]&gt; % SEPARATOR instead?&#41;
or else it is intrinsic to the regex engine itself, but
not able to be bisected &#40;which means it almost
certainly can&#39;t be fixed&#41;.

Once again, the only Perl 5 solution I can currently suggest is
to try Marpa::R2 &#40;via one of the helper modules&#41;.

Alternatively, you could perhaps look at converting it to a
Perl 6 grammar.

I freely admit that neither of these is a particularly
easy option, and I apologize again that Regexp::Grammars
doesn&#39;t seem to be able to handle this task as we would
both wish.

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;14:16:08&nbsp;2018</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 10:41:41 2018, damian@conway.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On further investigation, this grammar segfaults
&gt; under pre-5.18 versions of Perl as well, if it is fed
&gt; longer input.
&gt; 
&gt; Therefore the problem is inherent in either the way
&gt; the grammar is written &#40;the tail-recursions might be an issue,
&gt; maybe try &lt;[subrule]&gt; % SEPARATOR instead?&#41;
&gt; or else it is intrinsic to the regex engine itself, but
&gt; not able to be bisected &#40;which means it almost
&gt; certainly can&#39;t be fixed&#41;.
&gt; 
&gt; Once again, the only Perl 5 solution I can currently suggest is
&gt; to try Marpa::R2 &#40;via one of the helper modules&#41;.
&gt; 
&gt; Alternatively, you could perhaps look at converting it to a
&gt; Perl 6 grammar.
&gt; 
&gt; I freely admit that neither of these is a particularly
&gt; easy option, and I apologize again that Regexp::Grammars
&gt; doesn&#39;t seem to be able to handle this task as we would
&gt; both wish.
&gt; 
&gt; Damian
</div>
I don&#39;t know of a public debugging interface, but is there any way you could step through Regexp::Grammars&#39; matching to see what triggers the segfault?

Even if it&#39;s inherent in how the program is written, memory shouldn&#39;t be a problem, as my computer &#40;&#38; address space&#41; have far more than 2GB of memory.

I can&#39;t use separators in most cases, because I have multiple separators of equal precedence that I need to preserve. For example, &lt;[factor]&gt; % [-+] doesn&#39;t preserve whether the tail factors were added or subtracted, and I don&#39;t see anything in the documentation on how to preserve them.

But I&#39;m not sure this is the problem. First, the trees are generally narrow. A value might parse to or&#40;xor&#40;and&#40;comp&#40;add&#40;mult&#40;factor&#40;power&#40;value&#40;number&#40;42&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;. However, more importantly, in code removed from the simplified case I send you, I optimize the entire tree to just number&#40;42&#41;.

You can test this yourself by modifying the new&#40;&#41; sub in the Foo class to delete $self-&gt;{head} and $self-&gt;{tail} if they&#39;re present. The same segmentation fault occurs.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;28&nbsp;05:16:27&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 28 Apr 2018 09:16:05 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 27 Apr 2018, 20:16 Alex via RT, &lt;bug-Regexp-Grammars@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
&gt; On Fri Apr 27 10:41:41 2018, damian@conway.org wrote:
<div class="message-stanza open">&gt; &gt; On further investigation, this grammar segfaults
&gt; &gt; under pre-5.18 versions of Perl as well, if it is fed
&gt; &gt; longer input.
&gt; &gt;
&gt; &gt; Therefore the problem is inherent in either the way
&gt; &gt; the grammar is written &#40;the tail-recursions might be an issue,
&gt; &gt; maybe try &lt;[subrule]&gt; % SEPARATOR instead?&#41;
&gt; &gt; or else it is intrinsic to the regex engine itself, but
&gt; &gt; not able to be bisected &#40;which means it almost
&gt; &gt; certainly can&#39;t be fixed&#41;.
&gt; &gt;
&gt; &gt; Once again, the only Perl 5 solution I can currently suggest is
&gt; &gt; to try Marpa::R2 &#40;via one of the helper modules&#41;.
&gt; &gt;
&gt; &gt; Alternatively, you could perhaps look at converting it to a
&gt; &gt; Perl 6 grammar.
&gt; &gt;
&gt; &gt; I freely admit that neither of these is a particularly
&gt; &gt; easy option, and I apologize again that Regexp::Grammars
&gt; &gt; doesn&#39;t seem to be able to handle this task as we would
&gt; &gt; both wish.
&gt; &gt;
&gt; &gt; Damian
</div>&gt;
&gt; I don&#39;t know of a public debugging interface, but is there any way you
&gt; could step through Regexp::Grammars&#39; matching to see what triggers the
&gt; segfault?
&gt;
&gt; Even if it&#39;s inherent in how the program is written, memory shouldn&#39;t be a
&gt; problem, as my computer &#40;&#38; address space&#41; have far more than 2GB of memory.
&gt;
&gt; I can&#39;t use separators in most cases, because I have multiple separators
&gt; of equal precedence that I need to preserve. For example, &lt;[factor]&gt; % [-+]
&gt; doesn&#39;t preserve whether the tail factors were added or subtracted, and I
&gt; don&#39;t see anything in the documentation on how to preserve them.
&gt;
&gt; But I&#39;m not sure this is the problem. First, the trees are generally
&gt; narrow. A value might parse to
&gt; or&#40;xor&#40;and&#40;comp&#40;add&#40;mult&#40;factor&#40;power&#40;value&#40;number&#40;42&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;. However,
&gt; more importantly, in code removed from the simplified case I send you, I
&gt; optimize the entire tree to just number&#40;42&#41;.
&gt;
&gt; You can test this yourself by modifying the new&#40;&#41; sub in the Foo class to
&gt; delete $self-&gt;{head} and $self-&gt;{tail} if they&#39;re present. The same
&gt; segmentation fault occurs.
&gt;
</div>
The 2gb thing is suspicious, it suggests some 32bit counter, possibly
signed.

But the problem you are seeing probably has to do with when temporaries are
freed. It may simply be we are missing a call to free things at the right
time.

Yves

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;28&nbsp;11:14:32&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 29 Apr 2018 01:13:40 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t know of a public debugging interface, but is there any way you
&gt; could step through Regexp::Grammars&#39; matching to see what triggers the
&gt; segfault?
</div>
As Yves subsequently suggested, it&#39;s likely this issue is down in guts of
Perl
and not a response to any particular component of Regexp::Grammars. So
stepping through the grammar parse is unlikely to help determine the
problem. Unless someone stepped through it with gdb or some other
interpreter-level debugger.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Even if it&#39;s inherent in how the program is written, memory shouldn&#39;t
&gt; be a problem, as my computer &#40;&#38; address space&#41; have far more than 2GB
&gt; of memory.
</div>
Agreed. As does mine. But, again as Yves suggested, something is hitting
the 32-bit limit even if it&#39;s not malloc.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can&#39;t use separators in most cases, because I have multiple
&gt; separators of equal precedence that I need to preserve. For example,
&gt; &lt;[factor]&gt; % [-+] doesn&#39;t preserve whether the tail factors were added
&gt; or subtracted, and I don&#39;t see anything in the documentation on how to
&gt; preserve them.
</div>
You can remove the recursion by named-capturing the separators as well &#40;as
a list&#41;:

    &lt;[factor]&gt;+ % &lt;[operator=&#40;[-+]&#41;]&gt;

But, yes, this will only defer the problem, not prevent it.
It will cause fewer subrule calls, but eventually the 2GB
limit will still be reached and the segfault will occur.

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;28&nbsp;11:17:38&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 29 Apr 2018 01:16:48 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the insights, Yves.

Would you like me to send you Alex&#39;s example
for you to explore?

I completely understand that you may have no interest
in doing so, but I thought I should at least beg^H^H^Hoffer ;-&#41;

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;28&nbsp;12:47:13&nbsp;2018</span>
    <span class="description">demerphq [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 28 Apr 2018 16:46:52 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> demerphq &lt;demerphq [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, 28 Apr 2018, 17:17 damian@conway.org via RT, &lt;
bug-Regexp-Grammars@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Regexp-Grammars
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125105">https://rt.cpan.org/Ticket/Display.html?id=125105</a></span> &gt;
&gt;
&gt; Thanks for the insights, Yves.
&gt;
&gt; Would you like me to send you Alex&#39;s example
&gt; for you to explore?
&gt;
&gt; I completely understand that you may have no interest
&gt; in doing so, but I thought I should at least beg^H^H^Hoffer ;-&#41;
&gt;
</div>
Can&#39;t hurt. But it&#39;ll be some days before I get to it. On a laptop free
holiday in Rome just now....

Yves

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;28&nbsp;13:13:16&nbsp;2018</span>
    <span class="description">damian [...] conway.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125105] Segmentation fault at 2 GB of memeory</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 29 Apr 2018 03:12:26 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Regexp-Grammars [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Damian Conway &lt;damian [...] conway.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can&#39;t hurt.
</div>
Much obliged! I&#39;ll send it directly to you.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But it&#39;ll be some days before I get to it. On a laptop free
&gt; holiday in Rome just now....
</div>
Excellent. Have a great time and forget all about those
annoying regexes. :-&#41;

Damian
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
