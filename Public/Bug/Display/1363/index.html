<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #1363 for GDGraph: Multiple bar graphs in a mixed graph will not render side by side</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #1363 for GDGraph: Multiple bar graphs in a mixed graph will not render side by side</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=GDGraph">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=GDGraph">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=GDGraph">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=GDGraph">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GDGraph">GDGraph CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>There are plenty of good ideas of what people can do published here on the queue. Turning a patch from the tracker into a pull request is not one of them. In order to get maintainers' attention way more quickier, PR should have at least a sample included. We know it's hard to test images generating software, but it doesn't mean we can not test numbers produced by intermediate algorithms used to generate these images, so either a test or a sample.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">1363</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=GDGraph">GDGraph</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">bwarfield [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
parussel [...] yahoo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-14346-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.35    </td>
  </tr>
  <tr id="CF-14347-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.4305    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




E:\dev\eprocess\enotify-v6\try1.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/72078/5100/E%3A%5Cdev%5Ceprocess%5Cenotify-v6%5Ctry1.pl">
Tue Jul 30 16:58:47 2002 (2.2k) by 
</a>
</font></li>
</ul>


mixed_graph_patch.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/72080/17036/mixed_graph_patch.txt">
Mon Mar 08 21:39:46 2004 (3.3k) by 
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=1363">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-72078" href="/Public/Bug/Display.html?id=1363#txn-72078">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;30&nbsp;16:58:47&nbsp;2002</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Multiple bar graphs in a mixed graph will not render side by side</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/72078/5099/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/5099">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Using GDGraph-1.35 &#40;perl v5.6.1&#41; on Windows 2000 Professional.

When drawing mixed charts with multiple bar charts and a line chart, the bar charts do not render side by side. 

The following script is a combination of the provided sample scripts &#40;sample14.pl and sample 61.pl&#41;. The resulting .png renders as expected, with the two bars on each date rendered in the same space, and the line over the entire graph. &#40;I say as expected because you elude to this issue in the documentation.&#41;

The intent of the script is to render two bars side by side for each date, and a line over the entire graph. Based on your documentation, it appears that you are already aware of this issue. 


I just wanted to get this one on the wish list, as the fix would make my life much easier. GD::Graph is a great tool, thanks for putting it out there!

Paul Russell &lt;parussel@yahoo.com&gt;



use strict;
use GD::Graph::mixed;

my @data = &#40; 
               [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
               [    1,    2,    5,    6,    7,  8,   9,    10,    11],
               [   2,   2,    1,    1,   3, 2,   2,    4,     0],
               [    9,    8,    9, 5,  7,  7,    8,     3,    3]  &#41;;


my $my_graph = new GD::Graph::mixed&#40;&#41;;

$my_graph-&gt;set&#40; 
               types =&gt; [ qw&#40; lines&#41; ],
               default_type =&gt; &#39;bars&#39;,
               &#41;;



$my_graph-&gt;set&#40; 
                  
                  x_label         =&gt; &#39;X Label&#39;,
                  y_label         =&gt; &#39;Y label&#39;,
                  title           =&gt; &#39;A Mixed Type Graph&#39;,
                  
                  y1_max_value        =&gt; 40,
                  y2_max_value        =&gt; 8,
                  y_min_value     =&gt; 0,
                  y_tick_number   =&gt; 8,
                  y_label_skip    =&gt; 1,
                  x_plot_values   =&gt; 0,
                  y_plot_values   =&gt; 0,
                  
                  long_ticks      =&gt; 1,
                  x_ticks         =&gt; 0,
                  
                  legend_marker_width =&gt; 24,
                  line_width      =&gt; 3,
                  marker_size     =&gt; 5,
                  
                  bar_width       =&gt; 4,
                  #bar_spacing     =&gt; 1,
                  
                  transparent     =&gt; 0,
                  
                  
                  values_vertical     =&gt; 1,
                  values_format       =&gt; &#34;%4.1f&#34;,
                  x_label_position    =&gt; 1/2,
                  cumulate            =&gt; 0,
                  overwrite           =&gt; 1      &#41;;
                  
   
   
   $my_graph-&gt;set_legend&#40; qw&#40; incomming outgoing total &#41; &#41;;
   $my_graph-&gt;plot&#40;\@data&#41; or die $my_graph-&gt;error;
   save_chart&#40;$my_graph, &#39;bars_all_over_each_other&#39;&#41;;
    



sub save_chart&#40;$$&#41;
{
        my $chart = shift or die &#34;Need a chart!&#34;;
        my $name = shift or die &#34;Need a name!&#34;;
        local&#40;*OUT&#41;;

        my $ext = $chart-&gt;export_format;

        open&#40;OUT, &#34;&gt; $name.$ext&#34;&#41; or 
                die &#34;Cannot open $name.$ext for write: $!&#34;;
        binmode OUT;
        print OUT $chart-&gt;gd-&gt;$ext&#40;&#41;;
        close OUT;
}
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/72078/5100/E%3A%5Cdev%5Ceprocess%5Cenotify-v6%5Ctry1.pl">Download E:\dev\eprocess\enotify-v6\try1.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;


use GD::Graph::mixed;







## define your data set
my @data = &#40; 
               [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
               [    1,    2,    5,    6,    7,  8,   9,    10,    11],
               [   2,   2,    1,    1,   3, 2,   2,    4,     0],
               [    9,    8,    9, 5,  7,  7,    8,     3,    3]  &#41;;


my $my_graph = new GD::Graph::mixed&#40;&#41;;

$my_graph-&gt;set&#40; 
               types =&gt; [ qw&#40; lines&#41; ],
               default_type =&gt; &#39;bars&#39;,
               &#41;;



$my_graph-&gt;set&#40; 
                  
                  x_label         =&gt; &#39;X Label&#39;,
                  y_label         =&gt; &#39;Y label&#39;,
                  title           =&gt; &#39;A Mixed Type Graph&#39;,
                  
                  y1_max_value        =&gt; 40,
                  y2_max_value        =&gt; 8,
                  y_min_value     =&gt; 0,
                  y_tick_number   =&gt; 8,
                  y_label_skip    =&gt; 1,
                  x_plot_values   =&gt; 0,
                  y_plot_values   =&gt; 0,
                  
                  long_ticks      =&gt; 1,
                  x_ticks         =&gt; 0,
                  
                  legend_marker_width =&gt; 24,
                  line_width      =&gt; 3,
                  marker_size     =&gt; 5,
                  
                  bar_width       =&gt; 4,
                  #bar_spacing     =&gt; 1,
                  
                  transparent     =&gt; 0,
                  
                  
                  values_vertical     =&gt; 1,
                  values_format       =&gt; &#34;%4.1f&#34;,
                  x_label_position    =&gt; 1/2,
                  cumulate            =&gt; 0,
                  overwrite           =&gt; 1      &#41;;
                  
   
   
   $my_graph-&gt;set_legend&#40; qw&#40; incomming outgoing total &#41; &#41;;
   $my_graph-&gt;plot&#40;\@data&#41; or die $my_graph-&gt;error;
   save_chart&#40;$my_graph, &#39;bars_all_over_each_other&#39;&#41;;
    



sub save_chart&#40;$$&#41;
{
	my $chart = shift or die &#34;Need a chart!&#34;;
	my $name = shift or die &#34;Need a name!&#34;;
	local&#40;*OUT&#41;;

	my $ext = $chart-&gt;export_format;

	open&#40;OUT, &#34;&gt; $name.$ext&#34;&#41; or 
		die &#34;Cannot open $name.$ext for write: $!&#34;;
	binmode OUT;
	print OUT $chart-&gt;gd-&gt;$ext&#40;&#41;;
	close OUT;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-72079" href="/Public/Bug/Display.html?id=1363#txn-72079">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;22&nbsp;07:20:19&nbsp;2003</span>
    <span class="description">mverb [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-72080" href="/Public/Bug/Display.html?id=1363#txn-72080">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;08&nbsp;21:39:46&nbsp;2004</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PATCH] Multiple bar graphs in a mixed graph will not render side
    by side</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ben_Warfield [...] nrgn.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/72080/17035/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/17035">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached is a patchset that seems to me to fix this issue.  Note that
it&#39;s generated against an already-patched version of GD::Graph, based on
the patch I submitted in Bug #3346
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/Bug.html?id=3346&#41;">http://rt.cpan.org/NoAuth/Bug.html?id=3346&#41;</a></span>: the changes interlock a
fair amount, and it seemed simpler &#40;if a bit optimistic&#41; to do it this
way.  I numbered them 1.4301 and 1.4302 to make it clear what the order
of patch application should be.

Possibly I should have backported this change to the original 1.43
source as well, but speaking for myself, I *like* that change, so I&#39;m
going to assume &#40;until he tells me otherwise&#41; that Martien likes it too.
 I&#39;m happy to provide a combined patch if needed, and able &#40;if less
happy&#41; to produce the backport if it&#39;s called for.

Notes on the patch: I tried briefly to make this work with &#34;hbars&#34;, then
realized it made no sense to try &#40;and that hbars was not a valid type in
the normal mixed case&#41;, so I gave up.  I also made a couple of changes
that might seem gratuitous in Graph/mixed.pm, changing some direct
access of internals to use a new &#34;types&#34; method.  These are obviously
pretty easy to back out if need be, I just wanted to limit the number of
places I could screw up by mistyping a hash key or forgetting what the
base array index was.

    --Ben Warfield
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/72080/17036/mixed_graph_patch.txt">Download mixed_graph_patch.txt</a><br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -u --exclude samples --exclude &#39;*blib&#39; --exclude &#39;Makefile*&#39; --exclude &#39;*~&#39; -r GDGraph-1.4301/Graph/bars.pm GDGraph-1.43-A/Graph/bars.pm
--- GDGraph-1.4301/Graph/bars.pm	2004-03-08 20:32:32.000000000 -0500
+++ GDGraph-1.43-A/Graph/bars.pm	2004-03-08 20:40:36.000000000 -0500
@@ -233,6 +233,13 @@
 
     my $topvalues = $self-&gt;_top_values;
 
+    my &#40;$bar_sets,$ds_adj&#41; = &#40; $self-&gt;{_data}-&gt;num_sets , $ds &#41;;
+    if &#40; $self-&gt;isa&#40; &#39;GD::Graph::mixed&#39; &#41; &#41; {
+        my @types =  $self-&gt;types;
+        $bar_sets =  grep { $_  eq &#39;bars&#39; } @types;
+        $ds_adj   =  grep { $_  eq &#39;bars&#39; } @types[0..$ds-1];
+    }
+
     for &#40;my $i = 0; $i &lt; @values; $i++&#41; 
     {
         my $value = $values[$i];
@@ -258,7 +265,7 @@
         my &#40;$l, $r&#41;;
         my $window = $self-&gt;{x_step} - $self-&gt;{group_spacing};
 
-        if &#40;ref $self eq &#39;GD::Graph::mixed&#39; || $self-&gt;{overwrite}&#41;
+        if &#40;$self-&gt;{overwrite}&#41;
         {
             $l = $xp - $window/2 + $bar_s + 1;
             $r = $xp + $window/2 - $bar_s;
@@ -267,11 +274,11 @@
         {
             $l = $xp 
                 - $window/2
-                + &#40;$ds - 1&#41; * $window/$self-&gt;{_data}-&gt;num_sets
+                + &#40;$ds_adj - 1&#41; * $window/$bar_sets
                 + $bar_s + 1;
             $r = $xp 
                 - $window/2
-                + $ds * $window/$self-&gt;{_data}-&gt;num_sets
+                + $ds_adj * $window/$bar_sets
                 - $bar_s;
         }
 
diff -u --exclude samples --exclude &#39;*blib&#39; --exclude &#39;Makefile*&#39; --exclude &#39;*~&#39; -r GDGraph-1.4301/Graph/mixed.pm GDGraph-1.43-A/Graph/mixed.pm
--- GDGraph-1.4301/Graph/mixed.pm	2003-02-10 17:12:41.000000000 -0500
+++ GDGraph-1.43-A/Graph/mixed.pm	2004-03-08 21:17:53.000000000 -0500
@@ -60,7 +60,7 @@
 
     my $rc;
 
-    my $type = $self-&gt;{types}-&gt;[$ds-1] || $self-&gt;{default_type};
+    my $type = $self-&gt;types&#40;$ds&#41;;
 
     # Try to execute the draw_data_set function in the package
     # specified by type
@@ -88,7 +88,7 @@
     my $self = shift;
     my $ds = $_[0];
 
-    my $type = $self-&gt;{types}-&gt;[$ds-1] || $self-&gt;{default_type};
+    my $type = $self-&gt;types&#40;$ds&#41;;
 
     eval &#39;$self-&gt;GD::Graph::&#39;.$type.&#39;::draw_legend_marker&#40;@_&#41;&#39;;
 
@@ -96,4 +96,23 @@
         $self-&gt;{default_type}.&#39;::draw_legend_marker&#40;@_&#41;&#39; if $@;
 }
 
+# undocumented as can be: returns the type-list &#40;with the default
+# inserted as appropriate&#41;, or the type associated with a particular
+# &#40;1-indexed&#41; dataset number &#40;undef if there is no such dataset&#41;.  The
+# range check means that this cannot be called when there is no
+# GD::Graph::Data object in $self-&gt;{_data}.
+
+sub types
+{
+    my $self = shift;
+    if &#40; defined $_[0] &#41; {
+        $_[0] &gt; 0 &#38;&#38; $_[0] &lt;= $self-&gt;{_data}-&gt;num_sets
+          ? $self-&gt;{types}-&gt;[$_[0] - 1] || $self-&gt;{default_type}
+          : undef
+    } else {
+        map { $self-&gt;{types}-&gt;[$_ - 1] || $self-&gt;{default_type} }
+          1 .. $self-&gt;{_data}-&gt;num_sets;
+    }
+}
+
 &#34;Just another true value&#34;;
diff -u --exclude samples --exclude &#39;*blib&#39; --exclude &#39;Makefile*&#39; --exclude &#39;*~&#39; -r GDGraph-1.4301/Graph.pm GDGraph-1.43-A/Graph.pm
--- GDGraph-1.4301/Graph.pm	2004-03-08 20:32:32.000000000 -0500
+++ GDGraph-1.43-A/Graph.pm	2004-03-08 20:46:55.000000000 -0500
@@ -32,7 +32,7 @@
 package GD::Graph;
 
 &#40;$GD::Graph::prog_version&#41; = &#39;$Revision: 1.53 $&#39; =~ /\s&#40;[\d.]+&#41;/;
-$GD::Graph::VERSION = &#39;1.4301&#39;;
+$GD::Graph::VERSION = &#39;1.4302&#39;;
 
 use strict;
 use GD;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164104" href="/Public/Bug/Display.html?id=1363#txn-164104">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:32:18&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164106" href="/Public/Bug/Display.html?id=1363#txn-164106">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:32:19&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Given to BWARFIELD</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164107" href="/Public/Bug/Display.html?id=1363#txn-164107">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:32:19&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Fixed in 1.4305 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164115" href="/Public/Bug/Display.html?id=1363#txn-164115">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:53:37&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Dependency by ticket #3346 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.444505</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
