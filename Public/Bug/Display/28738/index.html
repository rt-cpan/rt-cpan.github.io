<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28738 for Audio-aKodePlayer: crashes in FreeBSD</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28738 for Audio-aKodePlayer: crashes in FreeBSD</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Audio-aKodePlayer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Audio-aKodePlayer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Audio-aKodePlayer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Audio-aKodePlayer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Audio-aKodePlayer">Audio-aKodePlayer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28738</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Audio-aKodePlayer/Active/">Audio-aKodePlayer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ol [...] csa.ru

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44782-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44783-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;08&nbsp;16:02:30&nbsp;2007</span>
    <span class="description">ol [...] csa.ru -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> crashes in FreeBSD</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 09 Aug 2007 00:01:39 +0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-audio-akodeplayer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Oleg Baranov &lt;ol [...] csa.ru&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!
I&#39;m trying to use your just released perl module which interface looks 
very nice for me, but I cannot get anything but perl crashes :&#40;
akodeplayer binary works fine on this system.

What I have is:
--------------------------------------------------------------------------------------------------------

cli# uname -a
FreeBSD cli.maris.local 6.2-STABLE FreeBSD 6.2-STABLE #9: Thu Aug  2 
21:08:52 UTC 2007     root@cli.maris.local:/usr/src 
/sys/i386/compile/CLI  i386

cli# akode-config --libs
-L/usr/local/lib -lakode

cli# akode-config --cflags
-I/usr/local/include

cli# akode-config --version
2.0.2

cli# ldd /usr/local/bin/akodeplay
/usr/local/bin/akodeplay:
        libakode.so.2 =&gt; /usr/local/lib/libakode.so.2 &#40;0x2807b000&#41;
        libpthread.so.2 =&gt; /lib/libpthread.so.2 &#40;0x28097000&#41;
        libltdl.so.4 =&gt; /usr/local/lib/libltdl.so.4 &#40;0x280bc000&#41;
        libstdc++.so.5 =&gt; /usr/lib/libstdc++.so.5 &#40;0x280c4000&#41;
        libm.so.4 =&gt; /lib/libm.so.4 &#40;0x2818f000&#41;
        libc.so.6 =&gt; /lib/libc.so.6 &#40;0x281a5000&#41;

cli# ldd /usr/local/lib/libakode.so.2
/usr/local/lib/libakode.so.2:
        libpthread.so.2 =&gt; /lib/libpthread.so.2 &#40;0x2817f000&#41;
        libltdl.so.4 =&gt; /usr/local/lib/libltdl.so.4 &#40;0x281a4000&#41;
        libstdc++.so.5 =&gt; /usr/lib/libstdc++.so.5 &#40;0x281ac000&#41;
        libm.so.4 =&gt; /lib/libm.so.4 &#40;0x28277000&#41;

--------------------------------------------------------------------------------------------------------
I install Audio-aKodePlayer via CPAN shell:


cpan[2]&gt; install Audio::aKodePlayer
Running install for module &#39;Audio::aKodePlayer&#39;
Running make for P/PA/PAJAS/Audio-aKodePlayer-0.01.tar.gz
CPAN: Digest::SHA loaded ok &#40;v5.45&#41;
Checksum for 
/root/.cpan/sources/authors/id/P/PA/PAJAS/Audio-aKodePlayer-0.01.tar.gz ok
Scanning cache /root/.cpan/build for sizes
...........................................................-----------------DONE
DEL&#40;1/4&#41;: /root/.cpan/build/TermReadKey-2.30
DEL&#40;2/4&#41;: /root/.cpan/build/Term-ReadLine-Perl-1.0302
DEL&#40;3/4&#41;: /root/.cpan/build/YAML-0.65
DEL&#40;4/4&#41;: /root/.cpan/build/Text-Glob-0.08
x Audio-aKodePlayer-0.01/
x Audio-aKodePlayer-0.01/example/
x Audio-aKodePlayer-0.01/example/sample.ogg
x Audio-aKodePlayer-0.01/example/player.pl
x Audio-aKodePlayer-0.01/example/sample.wav
x Audio-aKodePlayer-0.01/example/sample.mp3
x Audio-aKodePlayer-0.01/t/
x Audio-aKodePlayer-0.01/t/01-sinks.pl
x Audio-aKodePlayer-0.01/t/boilerplate.t
x Audio-aKodePlayer-0.01/t/pod-coverage.t
x Audio-aKodePlayer-0.01/t/00-load.t
x Audio-aKodePlayer-0.01/t/10-player.t
x Audio-aKodePlayer-0.01/t/pod.t
x Audio-aKodePlayer-0.01/lib/
x Audio-aKodePlayer-0.01/lib/Audio/
x Audio-aKodePlayer-0.01/lib/Audio/aKodePlayer.pm
x Audio-aKodePlayer-0.01/Changes
x Audio-aKodePlayer-0.01/player.pl
x Audio-aKodePlayer-0.01/MANIFEST
x Audio-aKodePlayer-0.01/typemap
x Audio-aKodePlayer-0.01/aKodePlayer.xs
x Audio-aKodePlayer-0.01/.cvsignore
x Audio-aKodePlayer-0.01/perlobject.map
x Audio-aKodePlayer-0.01/Makefile.PL
x Audio-aKodePlayer-0.01/README
x Audio-aKodePlayer-0.01/META.yml
CPAN: File::Temp loaded ok &#40;v0.18&#41;

  CPAN.pm: Going to build P/PA/PAJAS/Audio-aKodePlayer-0.01.tar.gz

Using libs:   -L/usr/local/lib -lakode

Using cflags: -I/usr/local/include

Checking if your kit is complete...
Looks good
Writing Makefile for Audio::aKodePlayer
CPAN: YAML loaded ok &#40;v0.65&#41;
cp lib/Audio/aKodePlayer.pm blib/lib/Audio/aKodePlayer.pm
cp player.pl blib/lib/Audio/player.pl
/usr/bin/perl /usr/local/lib/perl5/5.8.8/ExtUtils/xsubpp  -C++ 
-prototypes -typemap /usr/local/lib/perl5/5.8.8/ExtUtils/
typemap -typemap perlobject.map -typemap typemap  aKodePlayer.xs &gt; 
aKodePlayer.xsc &#38;&#38; mv aKodePlayer.xsc aKodePlayer.c
c++ -c  -I/usr/local/include  
-DAPPLLIB_EXP=&#34;/usr/local/lib/perl5/5.8.8/BSDPAN&#34; -DHAS_FPSETMASK 
-DHAS_FLOATINGPOINT_H -f
no-strict-aliasing -pipe -Wdeclaration-after-statement 
-I/usr/local/include -O2 -fno-strict-aliasing -pipe    -DVERSION=
\&#34;0.01\&#34;  -DXS_VERSION=\&#34;0.01\&#34; -DPIC -fPIC 
&#34;-I/usr/local/lib/perl5/5.8.8/mach/CORE&#34;   aKodePlayer.c
cc1plus: warning: command line option &#34;-Wdeclaration-after-statement&#34; is 
valid for C/ObjC but not for C++
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_open&#40;CV*&#41;&#39;:
aKodePlayer.c:66: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_DESTROY&#40;CV*&#41;&#39;:
aKodePlayer.c:90: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_close&#40;CV*&#41;&#39;:
aKodePlayer.c:112: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_load&#40;CV*&#41;&#39;:
aKodePlayer.c:136: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void 
XS_Audio__aKodePlayer_setDecoderPlugin&#40;CV*&#41;&#39;:
aKodePlayer.c:161: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void 
XS_Audio__aKodePlayer_setResamplerPlugin&#40;CV*&#41;&#39;:
aKodePlayer.c:184: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_unload&#40;CV*&#41;&#39;:
aKodePlayer.c:206: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_play&#40;CV*&#41;&#39;:
aKodePlayer.c:228: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_stop&#40;CV*&#41;&#39;:
aKodePlayer.c:250: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_wait&#40;CV*&#41;&#39;:
aKodePlayer.c:272: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_detach&#40;CV*&#41;&#39;:
aKodePlayer.c:294: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_pause&#40;CV*&#41;&#39;:
aKodePlayer.c:316: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_resume&#40;CV*&#41;&#39;:
aKodePlayer.c:338: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_setVolume&#40;CV*&#41;&#39;:
aKodePlayer.c:361: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_volume&#40;CV*&#41;&#39;:
aKodePlayer.c:385: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_state&#40;CV*&#41;&#39;:
aKodePlayer.c:410: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_seek&#40;CV*&#41;&#39;:
aKodePlayer.c:435: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_length&#40;CV*&#41;&#39;:
aKodePlayer.c:466: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_position&#40;CV*&#41;&#39;:
aKodePlayer.c:496: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_seekable&#40;CV*&#41;&#39;:
aKodePlayer.c:525: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_eof&#40;CV*&#41;&#39;:
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_open&#40;CV*&#41;&#39;:
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_decoderError&#40;CV*&#41;&#39;:
aKodePlayer.c:585: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_setSampleRate&#40;CV*&#41;&#39;:
aKodePlayer.c:615: warning: cast to pointer from integer of different size
aKodePlayer.c: In function `void XS_Audio__aKodePlayer_setSpeed&#40;CV*&#41;&#39;:
aKodePlayer.c:641: warning: cast to pointer from integer of different size
Running Mkbootstrap for Audio::aKodePlayer &#40;&#41;

chmod 644 aKodePlayer.bs
rm -f blib/arch/auto/Audio/aKodePlayer/aKodePlayer.so
LD_RUN_PATH=&#34;/usr/local/lib&#34; c++  -shared  -L/usr/local/lib 
aKodePlayer.o  -o blib/arch/auto/Audio/aKodePlayer/aKodePlay
er.so     -L/usr/local/lib -lakode
chmod 755 blib/arch/auto/Audio/aKodePlayer/aKodePlayer.so
cp aKodePlayer.bs blib/arch/auto/Audio/aKodePlayer/aKodePlayer.bs
chmod 644 blib/arch/auto/Audio/aKodePlayer/aKodePlayer.bs
Manifying blib/man3/Audio::aKodePlayer.3
Manifying blib/man3/Audio::player.3
  PAJAS/Audio-aKodePlayer-0.01.tar.gz
  /usr/bin/make -- OK
Running make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load.........ok 1/1# Testing Audio::aKodePlayer 0.01, Perl 
5.008008, /usr/bin/perl
t/00-load.........ok
t/10-player.......dubious
        Test returned status 0 &#40;wstat 140, 0x8c&#41;
DIED. FAILED tests 2-46
        Failed 45/46 tests, 2.17% okay
t/boilerplate.....ok
t/pod-coverage....skipped
        all skipped: Test::Pod::Coverage 1.04 required for testing POD 
coverage
t/pod.............skipped
        all skipped: Test::Pod 1.14 required for testing POD
Failed Test   Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/10-player.t    0   140    46   90  2-46
2 tests skipped.
Failed 1/5 test scripts. 45/50 subtests failed.
Files=5, Tests=50,  1 wallclock secs &#40; 0.23 cusr +  0.11 csys =  0.34 CPU&#41;
Failed 1/5 test programs. 45/50 subtests failed.
*** Error code 255

Stop in /root/.cpan/build/Audio-aKodePlayer-0.01-6pq51a.
  PAJAS/Audio-aKodePlayer-0.01.tar.gz
  /usr/bin/make test -- NOT OK
Running make install
  make test had returned bad status, won&#39;t install without force
Failed during this command:
 PAJAS/Audio-aKodePlayer-0.01.tar.gz          : make_test NO

------------------------------------------------------------------------------------------------------------------------
And if I force-install the module

cli# perl player.pl
Bad system call &#40;core dumped&#41;


First-look investigation showed crash on
my $player = Audio::aKodePlayer-&gt;new;
line.



to repeat:
1&#41; set up FreeBSD, add perl from ports
2&#41; set up aKodePlayer from ports &#40;binary or build from source - the same 
result&#41;
3&#41; use CPAN to install Audio::aKodePlayer
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;08&nbsp;16:31:42&nbsp;2007</span>
    <span class="description">ol [...] csa.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28738] AutoReply: crashes in FreeBSD</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 09 Aug 2007 00:31:05 +0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Audio-aKodePlayer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Oleg Baranov &lt;ol [...] csa.ru&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Heads UP!

FreeBSD kernel requires
options         P1003_1B_SEMAPHORES
to be included manually on kernel rebuild. this option is not even 
included commented in GENERIC configuration file, so it&#39;s not obvious.
I suppose the issue has to be at least described in the manual.

Now I get the following:
----------------------------------------------------------------

cli# gmake test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load.........ok 1/1# Testing Audio::aKodePlayer 0.01, Perl 
5.008008, /usr/bin/perl
t/00-load.........ok
t/10-player.......ok 1/46akode: Guessed format: wav
t/10-player.......NOK 17/46
#   Failed test &#39;length&#39;
#   at t/10-player.t line 53.
#          got: 873
#     expected: 0
akode: Guessed format: xiph
akode: Guessed format: mpeg

#   Failed test &#39;length of mp3&#39;
#   at t/10-player.t line 48.
t/10-player.......ok 42/46
#   Failed test &#39;length&#39;
#   at t/10-player.t line 53.
#          got: 888
#     expected: 940
# Looks like you failed 3 tests of 46.
t/10-player.......dubious
        Test returned status 3 &#40;wstat 768, 0x300&#41;
DIED. FAILED tests 17, 41, 43
        Failed 3/46 tests, 93.48% okay
t/boilerplate.....ok
t/pod-coverage....skipped
        all skipped: Test::Pod::Coverage 1.04 required for testing POD 
coverage
t/pod.............skipped
        all skipped: Test::Pod 1.14 required for testing POD
Failed Test   Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/10-player.t    3   768    46    3  17 41 43
2 tests skipped.
Failed 1/5 test scripts. 3/50 subtests failed.
Files=5, Tests=50,  4 wallclock secs &#40; 0.35 cusr +  0.04 csys =  0.39 CPU&#41;
Failed 1/5 test programs. 3/50 subtests failed.
gmake: *** [test_dynamic] Error 255



And included example player.pl plays MP3 and WAV for me with following 
output:

cli# perl player.pl ../02.mp3
status: 0
akode: Guessed format: mpeg
detaching
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
-0.001 of -0.001 sec
&lt;..... so on&gt;
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
