<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #123867 for Module-Install: M:I:DSL fix required for 5.27.7</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #123867 for Module-Install: M:I:DSL fix required for 5.27.7</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Module-Install">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Module-Install">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Module-Install">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Module-Install">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Install">Module-Install CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">123867</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Module-Install">Module-Install</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ether [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
zefram [...] fysh.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-21632-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-21633-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=123867">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761937" href="/Public/Bug/Display.html?id=123867#txn-1761937">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;14:20:58&nbsp;2017</span>
    <span class="description">zefram [...] fysh.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> M:I:DSL fix required for 5.27.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 12 Dec 2017 19:20:48 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Install [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Zefram &lt;zefram [...] fysh.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1761937/948227/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948227">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 810b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Module-Install is failing its test suite on current blead, since
commit 0301e899536a22752f40481d8a1d141b7a7dda82.  Specifically it&#39;s
Module::Install::DSL that&#39;s broken.  The convoluted way in which
it arranges to execute some generated code while exiting depended on
buggy handling of exit&#40;0&#41; from a BEGIN block, which has now been fixed.
The change is that exit&#40;0&#41; in a BEGIN block will no longer execute INIT
blocks before actually exiting.  M:I:DSL puts its generated code in an
INIT block.

As far as I can see, M:I:DSL has no need to delay execution of its
generated code via an INIT block.  If the word &#34;INIT&#34; is deleted,
turning the INIT block into a bare block that runs immediately, then
Module-Install&#39;s test suite passes.

This breakage is being tracked on the core side as [perl #132577].

-zefram
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761940" href="/Public/Bug/Display.html?id=123867#txn-1761940">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;14:47:57&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1761940/948230/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948230">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-12-12 11:20:58, zefram@fysh.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Module-Install is failing its test suite on current blead, since
&gt; commit 0301e899536a22752f40481d8a1d141b7a7dda82.  Specifically it&#39;s
&gt; Module::Install::DSL that&#39;s broken.  The convoluted way in which
&gt; it arranges to execute some generated code while exiting depended on
&gt; buggy handling of exit&#40;0&#41; from a BEGIN block, which has now been fixed.
&gt; The change is that exit&#40;0&#41; in a BEGIN block will no longer execute INIT
&gt; blocks before actually exiting.  M:I:DSL puts its generated code in an
&gt; INIT block.
&gt; 
&gt; As far as I can see, M:I:DSL has no need to delay execution of its
&gt; generated code via an INIT block.  If the word &#34;INIT&#34; is deleted,
&gt; turning the INIT block into a bare block that runs immediately, then
&gt; Module-Install&#39;s test suite passes.
&gt; 
&gt; This breakage is being tracked on the core side as [perl #132577].
&gt; 
&gt; -zefram
</div>
That sounds like an easy fix, so unless something surprising appears I should be able to get that fix out quickly for the sake of smokers testing the distribution.

Unfortunately, fixing the distribution itself will not fix all the users of Module::Install::DSL, due to MI&#39;s nature of packing itself into inc/ in the shipped dist. It seems likely that plugins using the DSL plugin will not be installable on 5.27.7. &#40;are there any BBC reports that confirm this?&#41;

Here is a list of those distributions. It would be good to identify which of these are &#34;signficant&#34; to the cpan river so we can determine an upgrade plan. &#40;I have already obtained permission from ADAMK to add myself as comaintainer to any of his distributions for the sake of release management updates, but there are hundreds of these distributions, so I am triaging heavily.&#41;

from <span class="clickylink"><a target="new" rel="nofollow" href="https://grep.cpan.me/?q=Module%3A%3AInstall%3A%3ADSL+file%3AMakefile.PL">https://grep.cpan.me/?q=Module%3A%3AInstall%3A%3ADSL+file%3AMakefile.PL</a></span>:


ADAMK/ADAMK-Release-0.02
ADAMK/Acme-Mom-Yours-0.02
ADAMK/Acme-SuperCollider-Programming-0.02
ADAMK/Algorithm-Dependency-1.110
ADAMK/Algorithm-Dependency-MapReduce-0.03
ADAMK/Archive-Builder-1.16
ADAMK/Aspect-1.04
ADAMK/Aspect-Library-Memoize-1.00
ADAMK/Aspect-Library-NYTProf-1.00
ADAMK/Aspect-Library-Profiler-1.00
ADAMK/Aspect-Library-TestClass-1.00
ADAMK/Aspect-Library-Timer-1.10
ADAMK/Aspect-Library-Trace-1.00
ADAMK/Business-AU-ABN-1.09
ADAMK/CGI-Capture-1.14
ADAMK/CPAN-Mini-Extract-1.23
ADAMK/CPAN-Mini-Visit-1.15
ADAMK/CPAN-WWW-Top100-Generator-0.10
ADAMK/CPANDB-0.18
ADAMK/CPANDB-Generator-0.19
ADAMK/CPANTS-Weight-0.15
ADAMK/Chart-Math-Axis-1.06
ADAMK/Class-Adapter-1.08
ADAMK/Class-Autouse-2.01
ADAMK/DBIx-Export-0.01
ADAMK/Data-JavaScript-Anon-1.03
ADAMK/Devel-Dumpvar-1.06
ADAMK/Devel-Eval-1.01
ADAMK/Devel-Leak-Module-0.02
ADAMK/Devel-Leak-Object-1.01
ADAMK/FBP-0.41
ADAMK/FBP-Demo-0.03
ADAMK/FBP-Perl-0.78
ADAMK/File-BLOB-1.08
ADAMK/File-Find-Rule-PPI-1.06
ADAMK/File-Find-Rule-VCS-1.08
ADAMK/File-LocalizeNewlines-1.12
ADAMK/GitHub-Extract-0.02
ADAMK/Graph-XGMML-0.01
ADAMK/HTML-InfoVis-0.03
ADAMK/HTTP-Online-0.02
ADAMK/Imager-Search-1.01
ADAMK/JSAN-Client-0.29
ADAMK/JSAN-Mini-1.04
ADAMK/JSAN-Shell-2.04
ADAMK/LWP-Online-1.08
ADAMK/Module-Changes-ADAMK-0.11
ADAMK/Module-Manifest-1.08
ADAMK/MooseX-Atom-0.02
ADAMK/ORDB-AU-Census2006-0.01
ADAMK/ORDB-CPANMeta-0.10
ADAMK/ORDB-CPANMeta-Generator-0.12
ADAMK/ORDB-CPANRT-0.04
ADAMK/ORDB-CPANRelease-0.01
ADAMK/ORDB-CPANTS-0.05
ADAMK/ORDB-CPANTSWeight-0.03
ADAMK/ORDB-CPANTesters-0.09
ADAMK/ORDB-CPANUploads-1.08
ADAMK/ORDB-JSAN-0.01
ADAMK/ORLite-1.98
ADAMK/ORLite-Migrate-1.10
ADAMK/ORLite-Mirror-1.24
ADAMK/ORLite-PDL-0.02
ADAMK/ORLite-Pod-0.11
ADAMK/ORLite-Profile-0.01
ADAMK/ORLite-Statistics-0.03
ADAMK/Object-Destroyer-2.01
ADAMK/Object-Signature-1.07
ADAMK/OpenGL-List-0.01
ADAMK/OpenGL-RWX-0.02
ADAMK/Oz-0.01
ADAMK/PITA-0.60
ADAMK/PITA-Image-0.60
ADAMK/PITA-Scheme-0.43
ADAMK/PITA-XML-0.52
ADAMK/POE-Declare-0.59
ADAMK/POE-Declare-HTTP-Client-0.05
ADAMK/POE-Declare-HTTP-Online-0.02
ADAMK/POE-Declare-HTTP-Server-0.05
ADAMK/POE-Declare-Log-File-0.01
ADAMK/PPI-PowerToys-0.14
ADAMK/PPI-Tester-0.15
ADAMK/Padre-Plugin-FormBuilder-0.04
ADAMK/Perl-Shell-0.04
ADAMK/Perl-Squish-1.06
ADAMK/Politics-AU-Geo-0.01
ADAMK/Process-0.30
ADAMK/SDL-Tutorial-3DWorld-0.33
ADAMK/SMS-Send-1.06
ADAMK/Test-ClassAPI-1.06
ADAMK/Test-POE-Stopping-1.09
ADAMK/Test-SubCalls-1.09
ADAMK/Win32-Env-Path-0.03
ADAMK/Xtract-0.16
ADAMK/YAML-Tiny-Stream-0.01
ADAMK/asa-1.03
ADAMK/pler-1.06
ADAMK/prefork-1.04
AUDREYT/Convert-EastAsianWidth-1.02
AUDREYT/Devel-Hints-0.21
AUDREYT/YiJing-0.10
AZAWAWI/Locale-Msgfmt-0.15
BOWTIE/App-Midgen-0.34
BOWTIE/Padre-Plugin-Autodia-0.04
BOWTIE/Padre-Plugin-Git-0.12
BOWTIE/Padre-Plugin-Nopaste-0.08
BOWTIE/Padre-Plugin-SpellCheck-1.33
BOWTIE/Padre-Plugin-YAML-0.10
BRAMBLE/Padre-Plugin-Swarm-0.2
CHORNY/Text-FindIndent-0.11
CSJEWELL/Module-Install-PerlTar-1.001
DAGOLDEN/PPI-XS-0.904
JDENNES/Net-CampaignMonitor-v2.2.1
JEFFERY/Geo-MapInfo-MIF-0.02
JEFFERY/Net-MySourceMatrix-0.04
KMX/Portable-1.22
PMAKHOLM/ORLite-Array-0.02
SDOWIDEIT/Module-Install-ORLite2Pod-1.000
STIGTSP/Template-Plugin-File-StaticURL-0.02
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761941" href="/Public/Bug/Display.html?id=123867#txn-1761941">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;14:47:58&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761944" href="/Public/Bug/Display.html?id=123867#txn-1761944">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;14:54:03&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761945" href="/Public/Bug/Display.html?id=123867#txn-1761945">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;15:08:45&nbsp;2017</span>
    <span class="description">zefram [...] fysh.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123867] M:I:DSL fix required for 5.27.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 12 Dec 2017 20:08:35 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Karen Etheridge via RT &lt;bug-Module-Install [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Zefram &lt;zefram [...] fysh.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1761945/948233/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948233">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 597b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Karen Etheridge via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;It seems likely that plugins using the DSL plugin will not be installable
&gt;on 5.27.7. &#40;are there any BBC reports that confirm this?&#41;
</div>
I haven&#39;t had any BBC reports other than that for Module-Install itself.
However, I can confirm that this mode of breakage does happen.  I&#39;ve
just now tried Module-Manifest, as a lightweight representative user
of M:I:DSL.  It installs happily on 5.27.6, but on blead, sure enough,
it fails to create a Makefile, which CPAN picks up as a fatal error.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Here is a list of those distributions.
</div>
That is quite a few.  Bummer.

-zefram
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761947" href="/Public/Bug/Display.html?id=123867#txn-1761947">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;15:17:00&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Reference to perl ticket #132577 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762010" href="/Public/Bug/Display.html?id=123867#txn-1762010">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;13&nbsp;00:18:49&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762010/948264/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948264">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 185b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Something is wrong about the list. ADAMK/Test-SubCalls-1.09.tar.gz passes just fine with current bleadperl for me. It was the one that would probably have the most impact on this list.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762013" href="/Public/Bug/Display.html?id=123867#txn-1762013">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;13&nbsp;00:23:40&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762013/948267/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948267">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 124b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Same for ADAMK/Algorithm-Dependency-1.110.tar.gz and ADAMK/Test-ClassAPI-1.06.tar.gz. Could you re-evaluate the list, Ether?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762016" href="/Public/Bug/Display.html?id=123867#txn-1762016">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;13&nbsp;01:05:07&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762016/948270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948270">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-12-12 21:18:49, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Something is wrong about the list. ADAMK/Test-SubCalls-1.09.tar.gz
&gt; passes just fine with current bleadperl for me. It was the one that
&gt; would probably have the most impact on this list.
</div>
The Makefile.PL very much uses Module::Install::DSL, with syntax that plain perl would not parse:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ADAMK/Test-SubCalls-1.09/Makefile.PL">https://metacpan.org/source/ADAMK/Test-SubCalls-1.09/Makefile.PL</a></span>

It looks like the version of Module::Install::DSL included here &#40;version 0.85&#41; does not use INIT, therefore there is no bug with blead:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ADAMK/Test-SubCalls-1.09/inc/Module/Install/DSL.pm">https://metacpan.org/source/ADAMK/Test-SubCalls-1.09/inc/Module/Install/DSL.pm</a></span>


Digging into the history, the use of INIT was added in commit b77ed16c which first appeared in Module::Install::DSL 0.93 &#40;which first shipped in Module-Install-1.08&#41;.


So, I can refine the list of affected modules somewhat, with:

<span class="clickylink"><a target="new" rel="nofollow" href="https://grep.cpan.me/?q=%5C%24VERSION%5Cs%3D%5Cs%27%281%5C...%7C0%5C.9%5B3-9%5D%29%27+file%3Dinc%2FModule%2FInstall%2FDSL.pm">https://grep.cpan.me/?q=%5C%24VERSION%5Cs%3D%5Cs%27%281%5C...%7C0%5C.9%5B3-9%5D%29%27+file%3Dinc%2FModule%2FInstall%2FDSL.pm</a></span>
in regex form: \$VERSION\s=\s&#39;&#40;1\...|0\.9[3-9]&#41;&#39; file=inc/Module/Install/DSL.pm


ADAMK/ADAMK-Release-0.02
ADAMK/Archive-Builder-1.16
ADAMK/Aspect-1.04
ADAMK/Aspect-Library-Memoize-1.00
ADAMK/Aspect-Library-NYTProf-1.00
ADAMK/Aspect-Library-Profiler-1.00
ADAMK/Aspect-Library-TestClass-1.00
ADAMK/Aspect-Library-Timer-1.10
ADAMK/Aspect-Library-Trace-1.00
ADAMK/Business-AU-ABN-1.09
ADAMK/CPAN-Mini-Extract-1.23
ADAMK/CPAN-Mini-Visit-1.15
ADAMK/CPAN-WWW-Top100-Generator-0.10
ADAMK/CPANDB-0.18
ADAMK/Chart-Math-Axis-1.06
ADAMK/Class-Adapter-1.08
ADAMK/Class-Autouse-2.01
ADAMK/Devel-Leak-Module-0.02
ADAMK/Devel-Leak-Object-1.01
ADAMK/FBP-0.41
ADAMK/FBP-Demo-0.03
ADAMK/FBP-Perl-0.78
ADAMK/File-BLOB-1.08
ADAMK/File-Find-Rule-PPI-1.06
ADAMK/File-Find-Rule-VCS-1.08
ADAMK/GitHub-Extract-0.02
ADAMK/HTML-InfoVis-0.03
ADAMK/HTTP-Online-0.02
ADAMK/Imager-Search-1.01
ADAMK/JSAN-Shell-2.04
ADAMK/LWP-Online-1.08
ADAMK/Module-Manifest-1.08
ADAMK/ORDB-CPANMeta-Generator-0.12
ADAMK/ORDB-CPANRT-0.04
ADAMK/ORDB-CPANRelease-0.01
ADAMK/ORDB-CPANTS-0.05
ADAMK/ORDB-CPANUploads-1.08
ADAMK/ORLite-1.98
ADAMK/ORLite-Migrate-1.10
ADAMK/ORLite-Mirror-1.24
ADAMK/ORLite-Pod-0.11
ADAMK/Object-Destroyer-2.01
ADAMK/Object-Signature-1.07
ADAMK/OpenGL-List-0.01
ADAMK/OpenGL-RWX-0.02
ADAMK/Oz-0.01
ADAMK/PITA-0.60
ADAMK/PITA-Image-0.60
ADAMK/PITA-Scheme-0.43
ADAMK/PITA-XML-0.52
ADAMK/POE-Declare-0.59
ADAMK/POE-Declare-HTTP-Client-0.05
ADAMK/POE-Declare-HTTP-Online-0.02
ADAMK/POE-Declare-HTTP-Server-0.05
ADAMK/POE-Declare-Log-File-0.01
ADAMK/Padre-Plugin-FormBuilder-0.04
ADAMK/Perl-Shell-0.04
ADAMK/Process-0.30
ADAMK/SDL-Tutorial-3DWorld-0.33
ADAMK/SMS-Send-1.06
ADAMK/Test-POE-Stopping-1.09
ADAMK/Xtract-0.16
ADAMK/YAML-Tiny-Stream-0.01
ADAMK/asa-1.03
ADAMK/pler-1.06
AUDREYT/Convert-EastAsianWidth-1.02
AUDREYT/Devel-Hints-0.21
AUDREYT/YiJing-0.10
AZAWAWI/Locale-Msgfmt-0.15
BHEISIG/RT-Extension-MandatoryFields-0.6
BHEISIG/RT-Extension-ReferenceIDoitObjects-1.00
BOWTIE/App-Midgen-0.34
BOWTIE/Padre-Plugin-Autodia-0.04
BOWTIE/Padre-Plugin-Git-0.12
BOWTIE/Padre-Plugin-Nopaste-0.08
BOWTIE/Padre-Plugin-SpellCheck-1.33
BOWTIE/Padre-Plugin-YAML-0.10
BRAMBLE/Padre-Plugin-Swarm-0.2
CHORNY/Text-FindIndent-0.11
CSJEWELL/Module-Install-PerlTar-1.001
DAGOLDEN/PPI-XS-0.904
JDENNES/Net-CampaignMonitor-v2.2.1
SDOWIDEIT/Module-Install-ORLite2Pod-1.000
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762134" href="/Public/Bug/Display.html?id=123867#txn-1762134">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;13&nbsp;23:36:24&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762134/948347/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948347">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 40b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve released a fixed version of PPI-XS.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762137" href="/Public/Bug/Display.html?id=123867#txn-1762137">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;00:26:22&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762137/948350/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948350">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 86b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, but now ADAMK/MooseX-Atom-0.02.tar.gz is missing but it fails with bleadperl.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762154" href="/Public/Bug/Display.html?id=123867#txn-1762154">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;00:56:34&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762154/948359/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948359">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 243b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-12-13 21:26:22, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks, but now ADAMK/MooseX-Atom-0.02.tar.gz is missing but it fails
&gt; with bleadperl.
</div>

It has no cpan dependencies. Are you using it in a darkpan?  I would be inclined to let it pass into the afterlife.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762223" href="/Public/Bug/Display.html?id=123867#txn-1762223">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;17:08:15&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762223/948397/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948397">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 339b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It has no cpan dependencies. Are you using it in a darkpan?  I would
&gt; be inclined to let it pass into the afterlife.
</div>
Most probably I&#39;m not using it, but that&#39;s beside the point. I did not have the impression the list above is based on dependencies but solely on whether they pass or fail after 0301e899536a22752f40481d8a1d141b7a7dda82.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762770" href="/Public/Bug/Display.html?id=123867#txn-1762770">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;18:33:12&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762770/948673/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948673">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 235b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have released Module-Install 1.19 which fixes MI::DSL to not use an INIT block.

If there are any high-river cpan distributions that use MI::DSL that I can release I shall do those as well, but I suspect that PPI::XS is the only one.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762773" href="/Public/Bug/Display.html?id=123867#txn-1762773">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;18:33:18&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.642772</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
