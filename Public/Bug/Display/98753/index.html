<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #98753 for Sub-Identify: 0.05 requires perl 5.14.1, breaking compatibility</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #98753 for Sub-Identify: 0.05 requires perl 5.14.1, breaking compatibility</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Sub-Identify/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Sub-Identify/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Sub-Identify/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Sub-Identify/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Sub-Identify">Sub-Identify CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">98753</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Sub-Identify/Active/">Sub-Identify</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RGARCIA [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dolmen [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-30106-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-30107-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.08    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:16:31&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0.05 requires perl 5.14.1, breaking compatibility</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza">0.05 breaks compatibility with older perls without warning:<br>

- not even a major version number change<br>

- no documented migration path for perl &lt; 5.14.1 users<br>

<br>

--&nbsp;<br>

Olivier Mengu&eacute; - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span> - <span class="clickylink"><a target="new" rel="nofollow" href="https://gratipay.com/dolmen/">https://gratipay.com/dolmen/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:28:05&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 05:16:31 2014, DOLMEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 0.05 breaks compatibility with older perls without warning:
&gt; - not even a major version number change
&gt; - no documented migration path for perl &lt; 5.14.1 users
</div>
Indeed test files 20 and 21 rely on a bugfix available on 5.14.1 or later.
Moreover CvPROTO new in 0.05 is not available on ancient perls, although the pure perl version will work.
Sorry then, the module just does not work on ancient perls, hence the version requirement.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:28:06&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:32:07&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">The workaround is probably to use Sub::Util::subname.<br>

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Sub::Util#subname">https://metacpan.org/pod/Sub::Util#subname</a></span><br>

<br>

This should be documented.<br>

<br>

--&nbsp;<br>

Olivier Mengu&eacute; - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span> - <span class="clickylink"><a target="new" rel="nofollow" href="https://gratipay.com/dolmen/">https://gratipay.com/dolmen/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:47:21&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:47:22&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:48:59&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 05:32:07 2014, DOLMEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The workaround is probably to use Sub::Util::subname.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Sub::Util#subname">https://metacpan.org/pod/Sub::Util#subname</a></span>
&gt; 
&gt; This should be documented.
</div>
Sub::Util and Sub::Name are now in SEE ALSO, and I believe they&#39;ll crash likewise on subs being compiled.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:54:01&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Le 2014-09-10 11:48:59, RGARCIA a &eacute;crit&nbsp;:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sub::Util and Sub::Name are now in SEE ALSO, and I believe they&#39;ll<br>

&gt; crash likewise on subs being compiled.<br>
</div><br>

It looks like I do not fully understand.<br>

Do you mean that no workaround is possible?<br>

If the issue is a particular kind of subs, is it not possible to detect it and fail in that case on old perls?<br>

<br>

In any case, we need more gory details in the POD.<br>

<br>

--&nbsp;<br>

Olivier Mengu&eacute; - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span> - <span class="clickylink"><a target="new" rel="nofollow" href="https://gratipay.com/dolmen/">https://gratipay.com/dolmen/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:57:42&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 11:28:05 2014, RGARCIA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Sorry then, the module just does not work on ancient perls, hence the
&gt; version requirement.
</div>
This is not true. There are two things that make the version bump unacceptable:

1&#41; The XS portion requires newer macros yes, but nothing prevents you from having a couple of IFDEF&#39;s. Moreover extra PPPort application is likely to make the problem go away altogether

2&#41; &#40;much more importantly&#41; The module always had a pure-perl implmentation which works all the way back to what *I* consider ancient. If you are not interested in doing the work required for &#40;1&#41;, which is entirely your right, you must modify your builder to skip building XS on &lt; 5.14. This way you get the C code in whatever shape you prefer, and yet nobody gets broken deployments.

Please consider rectifying the situation sooner rather than later. I could provide a patch for &#40;2&#41; but didn&#39;t want to do the legwork in case you reconsider and do the proper fix of &#40;1&#41;.

Thank you
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;06:00:39&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The pure perl version will crash as well on the attribute tests.
I have no RT reference, but the bug was originally reported on <span class="clickylink"><a target="new" rel="nofollow" href="http://www.fukurama.org/wordpress/2007/11/20/modul-zum-auflosen-von-methodennamen/">http://www.fukurama.org/wordpress/2007/11/20/modul-zum-auflosen-von-methodennamen/</a></span> and then on P5P.

I suppose I could re-mark this test as SKIP TODO on ancient perls. Your suggestion sounds good. Provide a patch ? :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;06:00:54&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;06:03:46&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 12:00:39 2014, RGARCIA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The pure perl version will crash as well on the attribute tests.
&gt; I have no RT reference, but the bug was originally reported on
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.fukurama.org/wordpress/2007/11/20/modul-zum-auflosen-von-">http://www.fukurama.org/wordpress/2007/11/20/modul-zum-auflosen-von-</a></span>
&gt; methodennamen/ and then on P5P.
&gt; 
&gt; I suppose I could re-mark this test as SKIP TODO on ancient perls.
&gt; Your suggestion sounds good. Provide a patch ? :&#41;
</div>
There is one more issue I was made aware of - <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a set of patches doing clean separation of the entire thing - will you be willing to work them in?

There is prior art - we split Devel::GlobalDestruction the same way about 2 years ago with 0 fallout.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;06:04:02&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;07:47:42&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 06:03:46 2014, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There is one more issue I was made aware of -
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a
&gt; set of patches doing clean separation of the entire thing - will you
&gt; be willing to work them in?
&gt; 
&gt; There is prior art - we split Devel::GlobalDestruction the same way
&gt; about 2 years ago with 0 fallout.
</div>
I don&#39;t think that splitting XS code in a separated distribution is a good idea
&#40;unless the pure-perl distribution requires the XS one, which renders the
whole separation moot.&#41; I&#39;d rather move the pure-perl code into a ::PP
module.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;07:51:56&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98753] 0.05 requires perl 5.14.1, breaking compatibility</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 10 Sep 2014 13:51:43 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Identify [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 09/10/2014 01:47 PM, Rafaël Garcia-Suarez via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt;
&gt; On Wed Sep 10 06:03:46 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt;&gt; There is one more issue I was made aware of -
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a
&gt;&gt; set of patches doing clean separation of the entire thing - will you
&gt;&gt; be willing to work them in?
&gt;&gt;
&gt;&gt; There is prior art - we split Devel::GlobalDestruction the same way
&gt;&gt; about 2 years ago with 0 fallout.
</div>&gt; I don&#39;t think that splitting XS code in a separated distribution is a good idea
&gt; &#40;unless the pure-perl distribution requires the XS one, which renders the
&gt; whole separation moot.&#41; I&#39;d rather move the pure-perl code into a ::PP
&gt; module.
</div>The ::XS dist is required in practice. Observe:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/HAARG/Devel-GlobalDestruction-0.13/Makefile.PL#L39">https://metacpan.org/source/HAARG/Devel-GlobalDestruction-0.13/Makefile.PL#L39</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-0.10010/Makefile.PL#L24">https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-0.10010/Makefile.PL#L24</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.13/Makefile.PL#L21">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.13/Makefile.PL#L21</a></span>

This is not a new problem, nor it is unusual. This is where the 
toolchain is moving as a whole: XS is required when the underlying 
environment allows it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;07:58:16&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 07:51:56 2014, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 09/10/2014 01:47 PM, Rafaël Garcia-Suarez via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt; &gt;
&gt; &gt; On Wed Sep 10 06:03:46 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt;&gt; There is one more issue I was made aware of -
&gt; &gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a
&gt; &gt;&gt; set of patches doing clean separation of the entire thing - will you
&gt; &gt;&gt; be willing to work them in?
&gt; &gt;&gt;
&gt; &gt;&gt; There is prior art - we split Devel::GlobalDestruction the same way
&gt; &gt;&gt; about 2 years ago with 0 fallout.
</div>&gt; &gt; I don&#39;t think that splitting XS code in a separated distribution is a
&gt; &gt; good idea
&gt; &gt; &#40;unless the pure-perl distribution requires the XS one, which renders
&gt; &gt; the
&gt; &gt; whole separation moot.&#41; I&#39;d rather move the pure-perl code into a
&gt; &gt; ::PP
&gt; &gt; module.
</div>&gt; The ::XS dist is required in practice. Observe:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/HAARG/Devel-GlobalDestruction-">https://metacpan.org/source/HAARG/Devel-GlobalDestruction-</a></span>
&gt; 0.13/Makefile.PL#L39
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-">https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-</a></span>
&gt; 0.10010/Makefile.PL#L24
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-</a></span>
&gt; 0.13/Makefile.PL#L21
&gt; 
&gt; This is not a new problem, nor it is unusual. This is where the
&gt; toolchain is moving as a whole: XS is required when the underlying
&gt; environment allows it.
</div>
Sorry, but this approach is misguided. It&#39;s not the job of the tool
chain to manage dependencies other than purely build-time
dependencies. A clean separation is required for proper deployment
audit and reproductibility. None of those hacks scale.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;08:02:10&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98753] 0.05 requires perl 5.14.1, breaking compatibility</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 10 Sep 2014 14:01:37 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Identify [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 09/10/2014 01:58 PM, Rafaël Garcia-Suarez via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt;
&gt; On Wed Sep 10 07:51:56 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt;&gt; On 09/10/2014 01:47 PM, Rafaël Garcia-Suarez via RT wrote:
<div class="message-stanza open">&gt;&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Wed Sep 10 06:03:46 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt;&gt;&gt;&gt; There is one more issue I was made aware of -
&gt;&gt;&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a
&gt;&gt;&gt;&gt; set of patches doing clean separation of the entire thing - will you
&gt;&gt;&gt;&gt; be willing to work them in?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; There is prior art - we split Devel::GlobalDestruction the same way
&gt;&gt;&gt;&gt; about 2 years ago with 0 fallout.
</div>&gt;&gt;&gt; I don&#39;t think that splitting XS code in a separated distribution is a
&gt;&gt;&gt; good idea
&gt;&gt;&gt; &#40;unless the pure-perl distribution requires the XS one, which renders
&gt;&gt;&gt; the
&gt;&gt;&gt; whole separation moot.&#41; I&#39;d rather move the pure-perl code into a
&gt;&gt;&gt; ::PP
&gt;&gt;&gt; module.
</div>&gt;&gt; The ::XS dist is required in practice. Observe:
&gt;&gt;
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/HAARG/Devel-GlobalDestruction-">https://metacpan.org/source/HAARG/Devel-GlobalDestruction-</a></span>
&gt;&gt; 0.13/Makefile.PL#L39
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-">https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-</a></span>
&gt;&gt; 0.10010/Makefile.PL#L24
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-</a></span>
&gt;&gt; 0.13/Makefile.PL#L21
&gt;&gt;
&gt;&gt; This is not a new problem, nor it is unusual. This is where the
&gt;&gt; toolchain is moving as a whole: XS is required when the underlying
&gt;&gt; environment allows it.
</div>&gt; Sorry, but this approach is misguided. It&#39;s not the job of the tool
&gt; chain to manage dependencies other than purely build-time
&gt; dependencies. A clean separation is required for proper deployment
&gt; audit and reproductibility. None of those hacks scale.
</div>I completely disagree with your qualification of &#34;hacks&#34;, and disagree 
with the &#34;doesn&#39;t scale&#34; claim - CPAN is a proof this approach does scale.

Thank you for considering this and clearly outlining your position. I 
will start work on removing S::I from my dependency chains due to the 
above vision incompatibilities.

A PR to fix the &lt; 5.14 failures will be coming your way nevertheless, 
within a day.

Cheers
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;08:08:28&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 08:02:10 2014, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 09/10/2014 01:58 PM, Rafaël Garcia-Suarez via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt; &gt;
&gt; &gt; On Wed Sep 10 07:51:56 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt;&gt; On 09/10/2014 01:47 PM, Rafaël Garcia-Suarez via RT wrote:
<div class="message-stanza open">&gt; &gt;&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98753">https://rt.cpan.org/Ticket/Display.html?id=98753</a></span> &gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Wed Sep 10 06:03:46 2014, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt; There is one more issue I was made aware of -
&gt; &gt;&gt;&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93296">https://rt.cpan.org/Ticket/Display.html?id=93296</a></span>. If you are given a
&gt; &gt;&gt;&gt;&gt; set of patches doing clean separation of the entire thing - will you
&gt; &gt;&gt;&gt;&gt; be willing to work them in?
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; There is prior art - we split Devel::GlobalDestruction the same way
&gt; &gt;&gt;&gt;&gt; about 2 years ago with 0 fallout.
</div>&gt; &gt;&gt;&gt; I don&#39;t think that splitting XS code in a separated distribution is a
&gt; &gt;&gt;&gt; good idea
&gt; &gt;&gt;&gt; &#40;unless the pure-perl distribution requires the XS one, which renders
&gt; &gt;&gt;&gt; the
&gt; &gt;&gt;&gt; whole separation moot.&#41; I&#39;d rather move the pure-perl code into a
&gt; &gt;&gt;&gt; ::PP
&gt; &gt;&gt;&gt; module.
</div>&gt; &gt;&gt; The ::XS dist is required in practice. Observe:
&gt; &gt;&gt;
&gt; &gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/HAARG/Devel-GlobalDestruction-">https://metacpan.org/source/HAARG/Devel-GlobalDestruction-</a></span>
&gt; &gt;&gt; 0.13/Makefile.PL#L39
&gt; &gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-">https://metacpan.org/source/RIBASUSHI/Class-Accessor-Grouped-</a></span>
&gt; &gt;&gt; 0.10010/Makefile.PL#L24
&gt; &gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-</a></span>
&gt; &gt;&gt; 0.13/Makefile.PL#L21
&gt; &gt;&gt;
&gt; &gt;&gt; This is not a new problem, nor it is unusual. This is where the
&gt; &gt;&gt; toolchain is moving as a whole: XS is required when the underlying
&gt; &gt;&gt; environment allows it.
</div>&gt; &gt; Sorry, but this approach is misguided. It&#39;s not the job of the tool
&gt; &gt; chain to manage dependencies other than purely build-time
&gt; &gt; dependencies. A clean separation is required for proper deployment
&gt; &gt; audit and reproductibility. None of those hacks scale.
</div>&gt; I completely disagree with your qualification of &#34;hacks&#34;, and disagree 
&gt; with the &#34;doesn&#39;t scale&#34; claim - CPAN is a proof this approach does scale.
</div>
Clarification : I meant scale to configuration management systems,
not to manual installs. I don&#39;t like to add ::XS modules to
my puppet manifests every time XS is split out from a distribution,
just to keep it working at an expected performance level. And
manual upgrades don&#39;t work at scale, which was the original meaning
of my remark.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you for considering this and clearly outlining your position. I 
&gt; will start work on removing S::I from my dependency chains due to the 
&gt; above vision incompatibilities.
</div>
I would personally recommend Sub::Util which is going to be a core
module, since I expect that alternatives will be progressively out
of fashion &#40;due to Sub::Util coming with 5.22&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; A PR to fix the &lt; 5.14 failures will be coming your way nevertheless, 
&gt; within a day.
</div>
Thank you for that!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;12:33:37&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just found this ticket after performing an update on my $work environment and hitting a build failure.

Congratulations, you just broke Moose and everything in the cpan and darkpan that uses it!

Please please please could you revert this change while appropriate alternatives are discussed?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;12:33:47&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Severity Critical added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;12:45:44&nbsp;2014</span>
    <span class="description">rt-cpan [...] trout.me.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 08:08:28 2014, RGARCIA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Clarification : I meant scale to configuration management systems,
&gt; not to manual installs. I don&#39;t like to add ::XS modules to
&gt; my puppet manifests every time XS is split out from a distribution,
&gt; just to keep it working at an expected performance level. And
&gt; manual upgrades don&#39;t work at scale, which was the original meaning
&gt; of my remark.
</div>
You shouldn&#39;t need to do that in the first place.

The standard approach is for the baseline module to require the XS dist if a compiler is detected, so the change is transparent. If your configuration management system isn&#39;t following dependencies, then it&#39;s going to blow up any time a transitive dependency gets added somewhere, so the problem already exists.

Every large scale perl deployment I&#39;ve ever built would handle this change fine - and in fact, most of those deployments have handled the prior art riba describes fine.

Basically, you&#39;re imagining problems that, in practice, have turned out not to exist :&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I would personally recommend Sub::Util which is going to be a core
&gt; module, since I expect that alternatives will be progressively out
&gt; of fashion &#40;due to Sub::Util coming with 5.22&#41;
</div>
Yes, we&#39;re co-ordinating with LeoNerd on that already. Which makes it even more important that Sub::Identify stays as a working solution for older perls, from my POV.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; A PR to fix the &lt; 5.14 failures will be coming your way nevertheless, 
&gt; &gt; within a day.
</div>&gt; 
&gt; Thank you for that!
</div>
This needs a fast turnaround, btw - you&#39;ve trashed Moose, Catalyst and everything downstream of them with this release. I&#39;m aware you&#39;re not an idiot so I&#39;m not going to yell at you over it but I do reserve the right to say &#34;dude, PLEASE never do that again&#34; in a pained voice to you the next time we have a beer together :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;12:52:47&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-09-10 02:57:42, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Sep 10 11:28:05 2014, RGARCIA wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Sorry then, the module just does not work on ancient perls, hence the
&gt; &gt; version requirement.
</div></div>
Pre-5.14 is, regrettably, not yet ancient. The Perl-Toolchain-Gang is still committed to supporting down to perl 5.8 in normal cases, and even accepting non-disruptive patches for earlier versions if anyone is willing to write them.  The Moose project has a stated policy of supporting 5.10+ and accepting patches for 5.8.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is not true. There are two things that make the version bump
&gt; unacceptable:
&gt; 
&gt; 1&#41; The XS portion requires newer macros yes, but nothing prevents you
&gt; from having a couple of IFDEF&#39;s. Moreover extra PPPort application is
&gt; likely to make the problem go away altogether
</div>
I would request that a newer ppport.h be applied to see if this is sufficient, as it sounds like the simplest solution of all.  And, then, adding IFDEFs in code.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2&#41; &#40;much more importantly&#41; The module always had a pure-perl
&gt; implmentation which works all the way back to what *I* consider
&gt; ancient. If you are not interested in doing the work required for &#40;1&#41;,
&gt; which is entirely your right, you must modify your builder to skip
&gt; building XS on &lt; 5.14. This way you get the C code in whatever shape
&gt; you prefer, and yet nobody gets broken deployments.
</div>
I would consider it acceptable for the distribution to fall back to a pure-perl implementation for pre-5.14 installations, if this is documented.

What *isn&#39;t* acceptable is for the code to simply stop installing on pre-5.14 perls, as this breaks all upstream dependencies which have stated goals of continuing to work on these versions, which includes Moose.  Leaving the dependency chain broken is *NOT* an option.

Please, in future, make breaking changes in an alpha release first so you can safely gauge the impact before disrupting everyone downstream.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;12:57:59&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-09-10 04:47:42, RGARCIA wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t think that splitting XS code in a separated distribution is a
&gt; good idea
&gt; &#40;unless the pure-perl distribution requires the XS one, which renders
&gt; the
&gt; whole separation moot.&#41; I&#39;d rather move the pure-perl code into a ::PP
&gt; module.
</div>
The PP dist can conditionally require the XS one if a compiler is available. This is very easy to do with just a few lines in Makefile.PL. I can even write the code for you.   &#40;The XS dist just needs to be stand-alone, and not depend on things in the PP dist, or a circular dependency will arise.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;17:12:39&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have now uploaded 0.06 to CPAN which removes the build requirement on 5.14.1.
Please note that this is an emergency-fix release that *should* work mostly everywhere but that I plan to polish further in the coming days. So I&#39;m keeping that ticket open for followup.
Why wasn&#39;t I informed that my little toy module was used by half of CPAN &#40;tm&#41; ? :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;17:15:21&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 12:57:59 2014, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The PP dist can conditionally require the XS one if a compiler is
&gt; available. This is very easy to do with just a few lines in
&gt; Makefile.PL. I can even write the code for you.   &#40;The XS dist just
&gt; needs to be stand-alone, and not depend on things in the PP dist, or a
&gt; circular dependency will arise.&#41;
</div>
I was not speaking about build dependencies but installation dependencies.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;11&nbsp;03:47:00&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have now uploaded 0.07 to CPAN that fixes a failing test on versions &lt;5.16 due to a coding mistake on my part.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;11&nbsp;14:18:28&nbsp;2014</span>
    <span class="description">rt-cpan [...] trout.me.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 17:12:39 2014, RGARCIA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Why wasn&#39;t I informed that my little toy module was used by half of
&gt; CPAN &#40;tm&#41; ? :&#41;
</div>
You were a freaking pumpking. Of course we assumed yours was the right one to use for this level of internals fuckery.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;16&nbsp;10:21:42&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing due to more testing showing that the compatibility is restored.
Moreover next upcoming release will have a prominent notice advertising Sub::Util instead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;16&nbsp;10:21:43&nbsp;2014</span>
    <span class="description">RGARCIA [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;18&nbsp;04:25:58&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Le 2014-09-16 16:21:42, RGARCIA a &eacute;crit&nbsp;:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Closing due to more testing showing that the compatibility is<br>

&gt; restored.<br>

&gt; Moreover next upcoming release will have a prominent notice<br>

&gt; advertising Sub::Util instead.<br>
</div><br>

Thanks for the fixes!<br>

<br>

--&nbsp;<br>

Olivier Mengu&eacute; - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span> - <span class="clickylink"><a target="new" rel="nofollow" href="https://gratipay.com/dolmen/">https://gratipay.com/dolmen/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;18&nbsp;04:25:58&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Fixed in 0.08 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
