<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42801 for ExtUtils-CBuilder: Leaking symbols from one XS build to another</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42801 for ExtUtils-CBuilder: Leaking symbols from one XS build to another</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-CBuilder">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-CBuilder">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-CBuilder">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-CBuilder">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please email the <a href="mailto:perlbug@perl.org">preferred bug tracker</a> to report your issue.</div>
</p>
<p>
<div>Please visit the <a href="http://rt.perl.org/rt3/">preferred bug tracker</a> to report your issue.</div>
</p>
</div>


<div class="error">
  <div class="titlebox error " id="">
  <div class="titlebox-title">
    <span class="left">Queue is disabled</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--error----UXVldWUgaXMgZGlzYWJsZWQ_---0">


This queue is disabled and you may not create new tickets in it.  Disabled queues are usually because the distribution was merged with another or changed names.  Sometimes they are the end result of a bad autocreate from PAUSE data before anyone noticed.
    <hr class="clear" />
  </div>
</div>




</div>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>ExtUtils::CBuilder is now maintained by the Perl 5 core.  Please report bugs via the 'perlbug' tool included with Perl and do not add new tickets here.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42801</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-CBuilder">ExtUtils-CBuilder</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
leonerd-cpan [...] leonerd.org.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-12462-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.24    </td>
  </tr>
  <tr id="CF-12463-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Refcount-broken.c<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/559996/282694/Refcount-broken.c">
Mon Jan 26 09:36:03 2009 (1.6k) by leonerd-cpan [...] leonerd.org.uk
</a>
</font></li>
</ul>


Refcount-ok.c<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/559996/282691/Refcount-ok.c">
Mon Jan 26 09:36:03 2009 (1.4k) by leonerd-cpan [...] leonerd.org.uk
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=42801">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-559943" href="/Public/Bug/Display.html?id=42801#txn-559943">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;26&nbsp;06:02:06&nbsp;2009</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Leaking symbols from one XS build to another</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/559943/282662/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/282662">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve managed to track down an odd build failure, when CPANPLUS is
building more than one XS-based module which uses ExtUtils::CBuilder.

I have two XS-based modules, Devel::Refcount and Socket::GetAddrInfo.
These can each build successfully on their own:

  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/08/msg2038816.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/08/msg2038816.html</a></span>

  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/10/msg2476761.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/10/msg2476761.html</a></span>

Some of my other modules &#40;e.g. IO::Async&#41; require both of these, so
often happens that a CPAN Testers smoke test machine&#39;s build queue will
include them both.

When both of these modules are built together in a single queue, it fails:

  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/10/msg2476768.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/10/msg2476768.html</a></span>

  [MSG] [Thu Oct 23 01:32:17 2008]
t/00use......../home/cpan/pit/rel/perl-5.10.0/bin/perl: symbol lookup
error:
/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-Refcount-0.03/blib/arch/auto/Devel/Refcount/Refcount.so:
undefined symbol: setup_constants

Devel::Refcount does not have the name &#34;setup_constants&#34; anywhere in its
source code, but Socket::GetAddrInfo does. It seems that Devel::Refcount
has erroneously picked up the name from Socket::GetAddrInfo.

In particular, observe the way that during Devel::Refcount&#39;s build,
PERL5LIB included the Socket::GetAddrInfo directory:

    PERL5LIB =
:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Heap-0.80/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Socket-GetAddrInfo-0.10/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Socket-GetAddrInfo-0.10/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Socket-GetAddrInfo-0.10/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Socket-GetAddrInfo-0.10/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Sub-Uplevel-0.2002/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Test-Exception-0.27/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib/lib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib/arch:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-FindRef-1.31/blib:/home/cpan/pit/rel/conf/perl-5.10.0/.cpanplus/5.10.0/build/Devel-Refcount-0.03/blib/lib

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-559996" href="/Public/Bug/Display.html?id=42801#txn-559996">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;26&nbsp;09:36:03&nbsp;2009</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/559996/282688/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/282688">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 747b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For reference, find attached two copies of the built Refcount.c file -
one from a standalone build where it succeeded, one from a combined
build where it failed.

Specfically, observe:

--- Refcount-ok.c       2009-01-26 14:27:22.000000000 +0000
+++ Refcount-broken.c   2009-01-26 14:27:05.000000000 +0000
@@ -61,6 +61,16 @@
     XS_VERSION_BOOTCHECK ;
 
         newXS&#40;&#34;Devel::Refcount::refcount&#34;, XS_Devel__Refcount_refcount,
file&#41;;
+
+    /* Initialisation Section */
+
+#line 106 &#34;lib/Socket/GetAddrInfo.xs&#34;
+  setup_constants&#40;&#41;;
+
+#line 71 &#34;lib/Devel/Refcount.c&#34;
+
+    /* End of Initialisation Section */
+
     if &#40;PL_unitcheckav&#41;
          call_list&#40;PL_scopestack_ix, PL_unitcheckav&#41;;
     XSRETURN_YES;

Hope that helps,

-- 

Paul Evans
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/559996/282691/Refcount-ok.c">Download Refcount-ok.c</a><br />
<span class="downloadcontenttype">text/x-csrc 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">/*
 * This file was generated automatically by ExtUtils::ParseXS version 2.19 from the
 * contents of Refcount.xs. Do not edit this file, edit Refcount.xs instead.
 *
 *	ANY CHANGES MADE HERE WILL BE LOST! 
 *
 */

#line 1 &#34;lib/Devel/Refcount.xs&#34;
#include &#34;EXTERN.h&#34;
#include &#34;perl.h&#34;
#include &#34;XSUB.h&#34;

#ifndef PERL_UNUSED_VAR
#  define PERL_UNUSED_VAR&#40;var&#41; if &#40;0&#41; var = var
#endif

#line 19 &#34;lib/Devel/Refcount.c&#34;

XS&#40;XS_Devel__Refcount_refcount&#41;; /* prototype to pass -Wmissing-prototypes */
XS&#40;XS_Devel__Refcount_refcount&#41;
{
#ifdef dVAR
    dVAR; dXSARGS;
#else
    dXSARGS;
#endif
    if &#40;items != 1&#41;
       Perl_croak&#40;aTHX_ &#34;Usage: %s&#40;%s&#41;&#34;, &#34;Devel::Refcount::refcount&#34;, &#34;ref&#34;&#41;;
    PERL_UNUSED_VAR&#40;cv&#41;; /* -W */
    {
	SV *	ref = ST&#40;0&#41;;
	int	RETVAL;
	dXSTARG;
#line 12 &#34;lib/Devel/Refcount.xs&#34;
    if&#40;!SvROK&#40;ref&#41;&#41; {
      croak&#40;&#34;ref is not a reference&#34;&#41;;
    }
    RETVAL = SvREFCNT&#40;SvRV&#40;ref&#41;&#41;;
#line 41 &#34;lib/Devel/Refcount.c&#34;
	XSprePUSH; PUSHi&#40;&#40;IV&#41;RETVAL&#41;;
    }
    XSRETURN&#40;1&#41;;
}

#ifdef __cplusplus
extern &#34;C&#34;
#endif
XS&#40;boot_Devel__Refcount&#41;; /* prototype to pass -Wmissing-prototypes */
XS&#40;boot_Devel__Refcount&#41;
{
#ifdef dVAR
    dVAR; dXSARGS;
#else
    dXSARGS;
#endif
    char* file = __FILE__;

    PERL_UNUSED_VAR&#40;cv&#41;; /* -W */
    PERL_UNUSED_VAR&#40;items&#41;; /* -W */
    XS_VERSION_BOOTCHECK ;

        newXS&#40;&#34;Devel::Refcount::refcount&#34;, XS_Devel__Refcount_refcount, file&#41;;
    if &#40;PL_unitcheckav&#41;
         call_list&#40;PL_scopestack_ix, PL_unitcheckav&#41;;
    XSRETURN_YES;
}

</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/559996/282694/Refcount-broken.c">Download Refcount-broken.c</a><br />
<span class="downloadcontenttype">text/x-csrc 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">/*
 * This file was generated automatically by ExtUtils::ParseXS version 2.19 from the
 * contents of Refcount.xs. Do not edit this file, edit Refcount.xs instead.
 *
 *	ANY CHANGES MADE HERE WILL BE LOST! 
 *
 */

#line 1 &#34;lib/Devel/Refcount.xs&#34;
#include &#34;EXTERN.h&#34;
#include &#34;perl.h&#34;
#include &#34;XSUB.h&#34;

#ifndef PERL_UNUSED_VAR
#  define PERL_UNUSED_VAR&#40;var&#41; if &#40;0&#41; var = var
#endif

#line 19 &#34;lib/Devel/Refcount.c&#34;

XS&#40;XS_Devel__Refcount_refcount&#41;; /* prototype to pass -Wmissing-prototypes */
XS&#40;XS_Devel__Refcount_refcount&#41;
{
#ifdef dVAR
    dVAR; dXSARGS;
#else
    dXSARGS;
#endif
    if &#40;items != 1&#41;
       Perl_croak&#40;aTHX_ &#34;Usage: %s&#40;%s&#41;&#34;, &#34;Devel::Refcount::refcount&#34;, &#34;ref&#34;&#41;;
    PERL_UNUSED_VAR&#40;cv&#41;; /* -W */
    {
	SV *	ref = ST&#40;0&#41;;
	int	RETVAL;
	dXSTARG;
#line 12 &#34;lib/Devel/Refcount.xs&#34;
    if&#40;!SvROK&#40;ref&#41;&#41; {
      croak&#40;&#34;ref is not a reference&#34;&#41;;
    }
    RETVAL = SvREFCNT&#40;SvRV&#40;ref&#41;&#41;;
#line 41 &#34;lib/Devel/Refcount.c&#34;
	XSprePUSH; PUSHi&#40;&#40;IV&#41;RETVAL&#41;;
    }
    XSRETURN&#40;1&#41;;
}

#ifdef __cplusplus
extern &#34;C&#34;
#endif
XS&#40;boot_Devel__Refcount&#41;; /* prototype to pass -Wmissing-prototypes */
XS&#40;boot_Devel__Refcount&#41;
{
#ifdef dVAR
    dVAR; dXSARGS;
#else
    dXSARGS;
#endif
    char* file = __FILE__;

    PERL_UNUSED_VAR&#40;cv&#41;; /* -W */
    PERL_UNUSED_VAR&#40;items&#41;; /* -W */
    XS_VERSION_BOOTCHECK ;

        newXS&#40;&#34;Devel::Refcount::refcount&#34;, XS_Devel__Refcount_refcount, file&#41;;

    /* Initialisation Section */

#line 106 &#34;lib/Socket/GetAddrInfo.xs&#34;
  setup_constants&#40;&#41;;

#line 71 &#34;lib/Devel/Refcount.c&#34;

    /* End of Initialisation Section */

    if &#40;PL_unitcheckav&#41;
         call_list&#40;PL_scopestack_ix, PL_unitcheckav&#41;;
    XSRETURN_YES;
}

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-559998" href="/Public/Bug/Display.html?id=42801#txn-559998">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;26&nbsp;09:36:04&nbsp;2009</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-582138" href="/Public/Bug/Display.html?id=42801#txn-582138">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;24&nbsp;06:41:50&nbsp;2009</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/582138/294153/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/294153">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 103b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Is there any progress on this issue yet? Any more information I can help
by providing?

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-637516" href="/Public/Bug/Display.html?id=42801#txn-637516">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;23:27:44&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/637516/325125/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/325125">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 155b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 24 06:41:50 2009, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is there any progress on this issue yet? Any more information I can help
&gt; by providing?
</div>
What&#39;s your perl -V?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-637519" href="/Public/Bug/Display.html?id=42801#txn-637519">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;23:27:55&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Severity Normal added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.492045</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
