<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #69318 for ExtUtils-MakeMaker: EU:MM rejects necessary link library</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #69318 for ExtUtils-MakeMaker: EU:MM rejects necessary link library</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-MakeMaker">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-MakeMaker">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-MakeMaker">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-MakeMaker">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">69318</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-MakeMaker">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
perlbug-followup [...] perl.org

<br />
zefram [...] fysh.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=69318">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-953043" href="/Public/Bug/Display.html?id=69318#txn-953043">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;06&nbsp;13:36:03&nbsp;2011</span>
    <span class="description">zefram [...] fysh.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 6 Jul 2011 18:35:43 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Zefram &lt;zefram [...] fysh.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/953043/495692/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/495692">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 15.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-961590" href="/Public/Bug/Display.html?id=69318#txn-961590">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;29&nbsp;11:40:29&nbsp;2011</span>
    <span class="description">perlbug-followup [...] perl.org - Ticket #69891:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [perl #95884] ExtUtils::MakeMaker removes valid libraries from LIBS on debian </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Jul 2011 08:40:20 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;OtherRecipients of perl Ticket #95884&#34;:;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Father Chrysostomos via RT&#34; &lt;perlbug-followup [...] perl.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/961590/500379/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/500379">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Forwarding to the CPAN RT queue....

On Fri Jul 29 02:21:46 2011, schmorp@schmorp.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; This is a bug report for perl from schmorp@schmorp.de,
&gt; generated with the help of perlbug 1.39 running under perl 5.12.3.
&gt; 
&gt; 
&gt; -----------------------------------------------------------------
&gt; [Please describe your issue here]
&gt; 
&gt; ExtUtils::MakeMaker removes valid libraries from LIBS, e.g.:
&gt; 
&gt;    LIBS =&gt; [&#34;-lpthread -ldb&#34;]
&gt; 
&gt; results in:
&gt; 
&gt;    Note &#40;probably harmless&#41;: No library found for -ldb
&gt; 
&gt; Even though the library is installed in the configured compiler search
&gt;    path.
&gt; 
&gt; This seems to happen due to multiarch support, i.e. gcc&#40;ld&#41; looks into
&gt; /usr/lib/x86_64-linux-gnu, but perl does not because it doesn&#39;t know
&gt;    about
&gt; the real library path.
&gt; 
&gt; The suggested fix would be to use the compiler to try to link against
&gt; the library to see if it&#39;s there &#40;as opposed to yet another layer of
&gt; comaptibility hacking :&#41;&#41;
&gt; 
&gt; [Please do not change anything below this line]
&gt; -----------------------------------------------------------------
&gt; ---
&gt; Flags:
&gt;     category=library
&gt;     severity=low
&gt;     module=ExtUtils::Liblist::Kid
&gt; ---
&gt; Site configuration information for perl 5.12.3:
&gt; 
&gt; Configured by Marc Lehmann at Wed Feb 23 06:21:02 CET 2011.
&gt; 
&gt; Summary of my perl5 &#40;revision 5 version 12 subversion 3&#41;
&gt;    configuration:
&gt; 
&gt;   Platform:
&gt;     osname=linux, osvers=2.6.32-5-amd64, archname=x86_64-linux
&gt;     uname=&#39;linux cerebro 2.6.32-5-amd64 #1 smp wed jan 12 03:40:32 utc
&gt;    2011 x86_64 gnulinux &#39;
&gt;     config_args=&#39;-Duselargefiles -Duse64bitint -Dusemymalloc=n
&gt;    -Dstatic_ext=Fcntl -Dcc=gcc -Dccflags=-DPERL_DISABLE_PMC
&gt;    -DPERL_ARENA_SIZE=16376 -USITEARCH_EXP -USITELIB_EXP -UARCHLIB_EXP
&gt;    -D_GNU_SOURCE  -I/opt/include -ggdb -gdwarf-2 -g3 -Doptimize=-O6
&gt;    -fno-strict-aliasing -Dcccdlflags=-fPIC -Dldflags=-L/opt/perl/lib
&gt;    -L/opt/lib -Dlibs=-ldl -lm -lcrypt -lgdbm -Dprefix=/opt/perl
&gt;    -Dprivlib=/opt/perl/lib/perl5 -Darchlib=/opt/perl/lib/perl5
&gt;    -Uusevendorprefix -Dsiteprefix=/opt/perl
&gt;    -Dsitelib=/opt/perl/lib/perl5 -Dsitearch=/opt/perl/lib/perl5
&gt;    -Dsitebin=/opt/perl/bin -Dman1dir=/opt/perl/man/man1
&gt;    -Dman3dir=/opt/perl/man/man3 -Dsiteman1dir=/opt/perl/man/man1
&gt;    -Dsiteman3dir=/opt/perl/man/man3 -Dman1ext=1 -Dman3ext=3
&gt;    -Dpager=/usr/bin/less -Uafs -Uusesfio -Uusenm -Uuseshrplib
&gt;    -Ud_dosuid -Dusethreads=undef -Duse5005threads=undef
&gt;    -Duseithreads=undef -Dusemultiplicity=undef
&gt;    -Demail=perl-binary@plan9.de -Dcf_email=perl-binary@plan9.de
&gt;    -Dcf_by=Marc Lehmann -Dlocincpth=/opt/perl/include /opt/include
&gt;    -Dmyhostname=localhost -Dmultiarch=undef -Dbin=/opt/perl/bin
&gt;    -Dxxxusedevel -DxxxDEBUGGING -Dxxxuse_debugging_perl
&gt;    -Dxxxuse_debugmalloc -dEs&#39;
&gt;     hint=recommended, useposix=true, d_sigaction=define
&gt;     useithreads=undef, usemultiplicity=undef
&gt;     useperlio=define, d_sfio=undef, uselargefiles=define,
&gt;    usesocks=undef
&gt;     use64bitint=define, use64bitall=define, uselongdouble=undef
&gt;     usemymalloc=n, bincompat5005=undef
&gt;   Compiler:
&gt;     cc=&#39;gcc&#39;, ccflags =&#39;-DPERL_DISABLE_PMC -DPERL_ARENA_SIZE=16376
&gt;    -USITEARCH_EXP -USITELIB_EXP -UARCHLIB_EXP -D_GNU_SOURCE
&gt;    -I/opt/include -ggdb -gdwarf-2 -g3 -fno-strict-aliasing -pipe
&gt;    -I/opt/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
&gt;     optimize=&#39;-O6 -fno-strict-aliasing&#39;,
&gt;     cppflags=&#39;-DPERL_DISABLE_PMC -DPERL_ARENA_SIZE=16376
&gt;    -USITEARCH_EXP -USITELIB_EXP -UARCHLIB_EXP -D_GNU_SOURCE
&gt;    -I/opt/include -ggdb -gdwarf-2 -g3 -fno-strict-aliasing -pipe
&gt;    -I/opt/include&#39;
&gt;     ccversion=&#39;&#39;, gccversion=&#39;4.4.5&#39;, gccosandvers=&#39;&#39;
&gt;     intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
&gt;     d_longlong=define, longlongsize=8, d_longdbl=define,
&gt;    longdblsize=16
&gt;     ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
&gt;    lseeksize=8
&gt;     alignbytes=8, prototype=define
&gt;   Linker and Libraries:
&gt;     ld=&#39;gcc&#39;, ldflags =&#39;-L/opt/perl/lib -L/opt/lib -L/usr/local/lib&#39;
&gt;     libpth=/usr/local/lib /lib /usr/lib /lib64 /usr/lib64
&gt;     libs=-ldl -lm -lcrypt -lgdbm
&gt;     perllibs=-ldl -lm -lcrypt
&gt;     libc=/lib/libc-2.11.2.so, so=so, useshrplib=false,
&gt;    libperl=libperl.a
&gt;     gnulibc_version=&#39;2.11.2&#39;
&gt;   Dynamic Linking:
&gt;     dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
&gt;     cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O6 -fno-strict-aliasing
&gt;    -L/opt/perl/lib -L/opt/lib -L/usr/local/lib&#39;
&gt; 
&gt; Locally applied patches:
&gt; 
&gt; 
&gt; ---
&gt; @INC for perl 5.12.3:
&gt;     /root/src/sex
&gt;     /opt/perl/lib/perl5
&gt;     /opt/perl/lib/perl5
&gt;     .
&gt; 
&gt; ---
&gt; Environment for perl 5.12.3:
&gt;     HOME=/root
&gt;     LANG &#40;unset&#41;
&gt;     LANGUAGE &#40;unset&#41;
&gt;     LC_CTYPE=en_US.UTF-8
&gt;     LD_LIBRARY_PATH &#40;unset&#41;
&gt;     LOGDIR &#40;unset&#41;
&gt;    
</div>PATH=/root/s2:/root/s:/opt/bin:/opt/sbin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/X11/bin:/usr/games:/usr/local/bin:/usr/local/sbin:/root/pserv:.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     PERL5LIB=/root/src/sex
&gt;     PERL5_CPANPLUS_CONFIG=/root/.cpanplus/config
&gt;     PERLDB_OPTS=ornaments=0
&gt;     PERL_ANYEVENT_DBI_TESTS=1
&gt;     PERL_ANYEVENT_EDNS0=1
&gt;     PERL_ANYEVENT_NET_TESTS=1
&gt;     PERL_ANYEVENT_PROTOCOLS=ipv4,ipv6
&gt;     PERL_ANYEVENT_STRICT=1
&gt;     PERL_BADLANG &#40;unset&#41;
&gt;     PERL_UNICODE=E
&gt;     SHELL=/bin/bash
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-962730" href="/Public/Bug/Display.html?id=69318#txn-962730">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;02&nbsp;09:24:52&nbsp;2011</span>
    <span class="description">perlbug-comment [...] perl.org - Ticket #69891:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [perl #95884] [rt.cpan.org #69891] ExtUtils::MakeMaker removes valid libraries from LIBS on debian </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 02 Aug 2011 06:24:40 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;OtherRecipients of perl Ticket #95884&#34;:;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Father Chrysostomos via RT&#34; &lt;perlbug-comment [...] perl.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/962730/500979/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/500979">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Aug 02 05:55:16 2011, doughera wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, 29 Jul 2011, schmorp @ schmorp . de wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; # New Ticket Created by  schmorp@schmorp.de
&gt; &gt; # Please include the string:  [perl #95884]
&gt; &gt; # in the subject line of all future correspondence about this issue.
&gt; &gt; # &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org:443/rt3/Ticket/Display.html?id=95884">https://rt.perl.org:443/rt3/Ticket/Display.html?id=95884</a></span> &gt;
&gt; &gt;
&gt; &gt; This is a bug report for perl from schmorp@schmorp.de,
&gt; &gt; generated with the help of perlbug 1.39 running under perl 5.12.3.
&gt; &gt;
&gt; &gt;
&gt; &gt; -----------------------------------------------------------------
&gt; &gt; [Please describe your issue here]
&gt; &gt;
&gt; &gt; ExtUtils::MakeMaker removes valid libraries from LIBS, e.g.:
&gt; &gt;
&gt; &gt;    LIBS =&gt; [&#34;-lpthread -ldb&#34;]
&gt; &gt;
&gt; &gt; results in:
&gt; &gt;
&gt; &gt;    Note &#40;probably harmless&#41;: No library found for -ldb
&gt; &gt;
&gt; &gt; Even though the library is installed in the configured compiler
</div>&gt; search path.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; This seems to happen due to multiarch support, i.e. gcc&#40;ld&#41; looks
</div>&gt; into
<div class="message-stanza open">&gt; &gt; /usr/lib/x86_64-linux-gnu, but perl does not because it doesn&#39;t know
</div>&gt; about
<div class="message-stanza open">&gt; &gt; the real library path.
&gt; &gt;
&gt; &gt; The suggested fix would be to use the compiler to try to link
</div>&gt; against
<div class="message-stanza open">&gt; &gt; the library to see if it&#39;s there &#40;as opposed to yet another layer of
&gt; &gt; comaptibility hacking :&#41;&#41;
</div>&gt; 
&gt; Thanks for the report and the concise diagnosis.
&gt; 
&gt; This should already be fixed in version 5.12.4.  The manual workaround
&gt; is
&gt; to hand-edit the &#34;libpth&#34; entries in $archlib/Config.pm and
&gt; $archlib/Config_heavy.pl to include the correct directories for your
&gt; system.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-962733" href="/Public/Bug/Display.html?id=69318#txn-962733">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;02&nbsp;09:24:54&nbsp;2011</span>
    <span class="description">The RT System itself - Ticket #69891:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981322" href="/Public/Bug/Display.html?id=69318#txn-981322">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;01:15:04&nbsp;2011</span>
    <span class="description">mschwern [...] cpan.org - Ticket #69891:  Merged into ticket #69318</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981323" href="/Public/Bug/Display.html?id=69318#txn-981323">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;01:15:04&nbsp;2011</span>
    <span class="description">mschwern [...] cpan.org -  Merged into ticket #69318</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981326" href="/Public/Bug/Display.html?id=69318#txn-981326">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;01:16:03&nbsp;2011</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/981326/510980/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/510980">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 86b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">No idea what to do about this.  That whole subsystem is inscrutable to
me.  Any ideas?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981329" href="/Public/Bug/Display.html?id=69318#txn-981329">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;01:16:05&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981663" href="/Public/Bug/Display.html?id=69318#txn-981663">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;26&nbsp;06:27:02&nbsp;2011</span>
    <span class="description">fawaka [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> perlbug-followup [...] perl.org, zefram [...] fysh.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 26 Sep 2011 12:26:54 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leon Timmermans &lt;fawaka [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/981663/511161/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511161">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 410b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Sep 25, 2011 at 7:16 AM, Michael G Schwern via RT
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=69318">https://rt.cpan.org/Ticket/Display.html?id=69318</a></span> &gt;
&gt;
&gt; No idea what to do about this.  That whole subsystem is inscrutable to
&gt; me.  Any ideas?
</div>
I think MakeMaker needs to use $Config{plibpth} instead of or in
addition to $Config{libpth} when it checks the availability of certain
libraries.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-981667" href="/Public/Bug/Display.html?id=69318#txn-981667">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;26&nbsp;06:45:56&nbsp;2011</span>
    <span class="description">MITHALDU [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/981667/511164/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511164">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Sep 25 01:16:03 2011, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; No idea what to do about this.  That whole subsystem is inscrutable to
&gt; me.  Any ideas?
</div>
Which subsystem? Liblist?

What it does, in short, is this:

1. take the list of linker parameters provided by Makefile.PL
2. try to resolve that list, by going through it and looking for each 
library mentioned in it, including the directory parameters and what not
2. a&#41; if the lib is found, append that directive to a new linker 
parameter string
2. b&#41; if the lib is not found, warn and skip
3. pass the new linker parameter string to the compiler

As schmorp rightly says, that&#39;s actually a bit stupid. Due to EUMM 
emulating the compiler actions, there&#39;s potential for both false 
positives &#40;when eumm can find the lib, but compiler can&#39;t&#41; and false 
negatives &#40;when eumm can&#39;t find the lib and removes it from the list, 
but the compiler could&#41;.

So, the optimum way of handling this would be to actually use the 
compiler itself to verify the lib list, but i personally have no idea 
how that could be done.

Meanwhile, an option is: Debug through Liblist, figure out why it can&#39;t 
find that lib, and change the code so it can find it. Or maybe change 
it so it just warns, but adds the directive anyhow.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982346" href="/Public/Bug/Display.html?id=69318#txn-982346">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;27&nbsp;22:10:56&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 27 Sep 2011 19:10:44 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/982346/511500/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511500">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.9.26 3:45 AM, Christian Walde via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As schmorp rightly says, that&#39;s actually a bit stupid. Due to EUMM 
&gt; emulating the compiler actions, there&#39;s potential for both false 
&gt; positives &#40;when eumm can find the lib, but compiler can&#39;t&#41; and false 
&gt; negatives &#40;when eumm can&#39;t find the lib and removes it from the list, 
&gt; but the compiler could&#41;.
&gt; 
&gt; So, the optimum way of handling this would be to actually use the 
&gt; compiler itself to verify the lib list, but i personally have no idea 
&gt; how that could be done.
</div>
I think the general way to accomplish that is to just try to compile a small
program.  Isn&#39;t that what Configure does?

I wonder if delegating to ExtUtils::CBuilder would be sufficient.  I&#39;d love to
see all that nasty Liblist code go away.

Alternatively... do we need to go through that process at all?  Why is
MakeMaker taking responsibility for pruning the library list?  Why not just
let the compiler/linker handle it?  I suspect the answer might have originally
been &#34;to produce a friendlier error message&#34; but it seems to me not worth all
the trouble and bugs.

Christian, I think of anyone you know Liblist the most.  Or if nothing else
you&#39;re brave enough to mess with it.  What do you think?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Meanwhile, an option is: Debug through Liblist, figure out why it can&#39;t 
&gt; find that lib, and change the code so it can find it. Or maybe change 
&gt; it so it just warns, but adds the directive anyhow.
</div>
That seems to be the usual way.


-- 
We do what we must because we can.
For the good of all of us,
Except the ones who are dead.
    -- Jonathan Coulton, &#34;Still Alive&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982418" href="/Public/Bug/Display.html?id=69318#txn-982418">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;28&nbsp;05:56:28&nbsp;2011</span>
    <span class="description">MITHALDU [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/982418/511537/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511537">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Weird, RT didn&#39;t mail me your last reply. Anyhow:

Note ahead: I know almost nothing about C. It&#39;s been almost a decade 
since i last wrote a C program.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think the general way to accomplish that is to just try to compile a
&gt; small program.  Isn&#39;t that what Configure does?
</div>
No idea. Completely outside of my expertise.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if delegating to ExtUtils::CBuilder would be sufficient.  I&#39;d
&gt; love to see all that nasty Liblist code go away.
</div>
Again, I have no idea and do not know the module. Though, casual 
looking reveals:

&#34;However, it is not intended as a general cross-platform interface to 
all your C building needs.&#34;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Alternatively... do we need to go through that process at all?
</div>
Good question! Why indeed. I personally have no clue why that is 
necessary. I can only guess at it being meant to make it possible for 
authors to indicate multiple libraries with EUMM choosing the one that 
actually exists.

But that&#39;s a wild guess.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Christian, I think of anyone you know Liblist the most.  Or if nothing
&gt; else you&#39;re brave enough to mess with it.  What do you think?
</div>
I can, by virtue of perl -d, understand what it does. Sadly this does 
not mean i know why it does that.

Even the initial commit in the git repo on the 16th january of 2002 
only says:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ExtUtils::Liblist - determine libraries to use and how to use them
&gt; 
&gt; This utility takes a list of libraries in the form C&lt;-llib1 -llib2
&gt; -llib3&gt; and returns lines suitable for inclusion in an extension
&gt; Makefile.
</div>
But does not qualify why it does so.

What I&#39;m thinking right now is that first of all we need to find the 
why of the matter. Only then can an informed decision be made.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982487" href="/Public/Bug/Display.html?id=69318#txn-982487">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;28&nbsp;07:04:26&nbsp;2011</span>
    <span class="description">nick [...] ccl4.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> perlbug-followup [...] perl.org, zefram [...] fysh.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 28 Sep 2011 12:04:17 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Walde via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nicholas Clark &lt;nick [...] ccl4.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/982487/511568/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511568">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Sep 28, 2011 at 05:56:30AM -0400, Christian Walde via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=69318">https://rt.cpan.org/Ticket/Display.html?id=69318</a></span> &gt;
&gt; 
&gt; Weird, RT didn&#39;t mail me your last reply. Anyhow:
&gt; 
&gt; Note ahead: I know almost nothing about C. It&#39;s been almost a decade 
&gt; since i last wrote a C program.
&gt; 
<div class="message-stanza open">&gt; &gt; I think the general way to accomplish that is to just try to compile a
&gt; &gt; small program.  Isn&#39;t that what Configure does?
</div>&gt; 
&gt; No idea. Completely outside of my expertise.
&gt; 
<div class="message-stanza open">&gt; &gt; I wonder if delegating to ExtUtils::CBuilder would be sufficient.  I&#39;d
&gt; &gt; love to see all that nasty Liblist code go away.
</div>&gt; 
&gt; Again, I have no idea and do not know the module. Though, casual 
&gt; looking reveals:
&gt; 
&gt; &#34;However, it is not intended as a general cross-platform interface to 
&gt; all your C building needs.&#34;
&gt; 
<div class="message-stanza open">&gt; &gt; Alternatively... do we need to go through that process at all?
</div>&gt; 
&gt; Good question! Why indeed. I personally have no clue why that is 
&gt; necessary. I can only guess at it being meant to make it possible for 
&gt; authors to indicate multiple libraries with EUMM choosing the one that 
&gt; actually exists.
&gt; 
&gt; But that&#39;s a wild guess.
</div>
Which corresponds to the actual documentation:

=item LIBS

An anonymous array of alternative library
specifications to be searched for &#40;in order&#41; until
at least one library is found. E.g.

  &#39;LIBS&#39; =&gt; [&#34;-lgdbm&#34;, &#34;-ldbm -lfoo&#34;, &#34;-L/path -ldbm.nfs&#34;]

Mind, that any element of the array
contains a complete set of arguments for the ld
command. So do not specify

  &#39;LIBS&#39; =&gt; [&#34;-ltcl&#34;, &#34;-ltk&#34;, &#34;-lX11&#34;]

See ODBM_File/Makefile.PL for an example, where an array is needed. If
you specify a scalar as in

  &#39;LIBS&#39; =&gt; &#34;-ltcl -ltk -lX11&#34;

MakeMaker will turn it into an array with one element.

=cut

Nicholas Clark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982761" href="/Public/Bug/Display.html?id=69318#txn-982761">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;28&nbsp;23:30:31&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;H.Merijn Brand&#34; &lt;h.m.brand [...] xs4all.nl&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 28 Sep 2011 20:30:19 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/982761/511724/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511724">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.9.28 4:04 AM, Nicholas Clark via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed, Sep 28, 2011 at 05:56:30AM -0400, Christian Walde via RT wrote:
<div class="message-stanza open">&gt;&gt; Good question! Why indeed. I personally have no clue why that is 
&gt;&gt; necessary. I can only guess at it being meant to make it possible for 
&gt;&gt; authors to indicate multiple libraries with EUMM choosing the one that 
&gt;&gt; actually exists.
&gt;&gt;
&gt;&gt; But that&#39;s a wild guess.
</div>&gt; 
&gt; Which corresponds to the actual documentation:
&gt; 
&gt; =item LIBS
&gt; 
&gt; An anonymous array of alternative library
&gt; specifications to be searched for &#40;in order&#41; until
&gt; at least one library is found. E.g.
&gt; 
&gt;   &#39;LIBS&#39; =&gt; [&#34;-lgdbm&#34;, &#34;-ldbm -lfoo&#34;, &#34;-L/path -ldbm.nfs&#34;]
</div>
I&#39;m going to propose that only a very, very small subset of modules need that
functionality.

I&#39;m also going to propose that it would be far simpler and more robust to
compile a small program with each flag.  Somebody that knows Configure could
help with this, maybe Merijn could help.  ExtUtils::CBuilder would come into
play here to do the compiling and linking.

If we go down that route, I&#39;d propose leaving LIBS as a legacy interface for
backwards compatibility.  It will still search for working libraries, but it
would use CBuilder instead of Liblist &#40;a goal being to delete Liblist&#41;.  We&#39;d
then create a second key for &#34;just use these libraries&#34; and perhaps provide a
method which can do the searching.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982854" href="/Public/Bug/Display.html?id=69318#txn-982854">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;29&nbsp;05:26:28&nbsp;2011</span>
    <span class="description">zefram [...] fysh.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 29 Sep 2011 10:26:08 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Zefram &lt;zefram [...] fysh.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/982854/511769/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511769">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 575b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Michael G Schwern via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;                                          ExtUtils::CBuilder would come into
&gt;play here to do the compiling and linking.
</div>
EU:CB is poor on this aspect of linking.  See, for example, the gyrations
that I go through with Devel::CallChecker and Scope::Escape::Sugar,
where the latter imports functions from the former.  &#40;This because I use
Module::Build, which uses EU:CB.&#41;  Having got this to work with chewing
gum and baling wire, the next step, which I haven&#39;t yet attempted,
is to build good interfaces for this into EU:CB and M:B.

-zefram
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-982857" href="/Public/Bug/Display.html?id=69318#txn-982857">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;29&nbsp;06:14:21&nbsp;2011</span>
    <span class="description">fawaka [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> perlbug-followup [...] perl.org, zefram [...] fysh.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 29 Sep 2011 12:14:13 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leon Timmermans &lt;fawaka [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/982857/511772/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511772">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 661b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Sep 29, 2011 at 5:30 AM, Michael G Schwern via RT
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ExtUtils::CBuilder would come into
&gt; play here to do the compiling and linking.
&gt;
&gt; If we go down that route, I&#39;d propose leaving LIBS as a legacy interface for
&gt; backwards compatibility.  It will still search for working libraries, but it
&gt; would use CBuilder instead of Liblist &#40;a goal being to delete Liblist&#41;.  We&#39;d
&gt; then create a second key for &#34;just use these libraries&#34; and perhaps provide a
&gt; method which can do the searching.
</div>
I&#39;m not so sure ExtUtils::CBuilder really is in a better shape than
ExtUtils;:MakeMaker, specially on Windows.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-983106" href="/Public/Bug/Display.html?id=69318#txn-983106">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;29&nbsp;17:34:59&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 29 Sep 2011 14:34:45 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/983106/511911/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/511911">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.9.29 2:26 AM, Zefram via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; EU:CB is poor on this aspect of linking.  See, for example, the gyrations
&gt; that I go through with Devel::CallChecker and Scope::Escape::Sugar,
&gt; where the latter imports functions from the former.  &#40;This because I use
&gt; Module::Build, which uses EU:CB.&#41;  Having got this to work with chewing
&gt; gum and baling wire, the next step, which I haven&#39;t yet attempted,
&gt; is to build good interfaces for this into EU:CB and M:B.
</div>
You&#39;re absolutely correct that CBuilder will not be able to do things
MakeMaker can.  And vice versa.  I imagine plotting CBuilder and MakeMaker&#39;s
respective strengths/weaknesses/bugs would make an interesting Venn diagram.
Building that diagram isn&#39;t necessary right now, but it will be very necessary
later.

Now, if I&#39;m wrong and CBuilder fundamentally can&#39;t do what MakeMaker does,
apples and oranges, that&#39;s a different matter and should be brought to
immediately.

I would rather transplant MakeMaker knowledge into CBuilder for others to
benefit from than to continue to patch MakeMaker&#39;s mess that nobody else can
use or understand or test. [1]  CBuilder is a separate package which has an
interface and is in active use.  Internals can be fixed.  That&#39;s progressing
Perl, not just running to stay in the same place.


[1] This is the point where somebody will point out that on odd Thursdays
while sacrificing the third born of a rooster that crows backwards, you can
use MakeMaker&#39;s compiler code in other libraries.  Great.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-983325" href="/Public/Bug/Display.html?id=69318#txn-983325">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;30&nbsp;09:31:45&nbsp;2011</span>
    <span class="description">fawaka [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> perlbug-followup [...] perl.org, zefram [...] fysh.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Sep 2011 15:31:36 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leon Timmermans &lt;fawaka [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/983325/512036/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/512036">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 867b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Sep 29, 2011 at 11:35 PM, Michael G Schwern via RT
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You&#39;re absolutely correct that CBuilder will not be able to do things
&gt; MakeMaker can.  And vice versa.  I imagine plotting CBuilder and MakeMaker&#39;s
&gt; respective strengths/weaknesses/bugs would make an interesting Venn diagram.
&gt; Building that diagram isn&#39;t necessary right now, but it will be very necessary
&gt; later.
&gt;
&gt; Now, if I&#39;m wrong and CBuilder fundamentally can&#39;t do what MakeMaker does,
&gt; apples and oranges, that&#39;s a different matter and should be brought to
&gt; immediately.
</div>
EU::CB is barely maintained within its current limited featureset.
There&#39;s no reason it can&#39;t be extended, but the right people with the
right knowledge &#40;e.g. a Windows linking expert would be most welcome
to clean up the mess we have right now&#41; have to be available.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-983431" href="/Public/Bug/Display.html?id=69318#txn-983431">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;30&nbsp;21:53:14&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69318] EU:MM rejects necessary link library</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Sep 2011 18:53:00 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/983431/512087/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/512087">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 429b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.9.30 6:31 AM, Leon Timmermans via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; EU::CB is barely maintained within its current limited featureset.
&gt; There&#39;s no reason it can&#39;t be extended, but the right people with the
&gt; right knowledge &#40;e.g. a Windows linking expert would be most welcome
&gt; to clean up the mess we have right now&#41; have to be available.
</div>
Acceptable.  Sounds about the same as MakeMaker.  Better, there&#39;s no
&#34;MakeMaker&#34; to worry about. :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1013347" href="/Public/Bug/Display.html?id=69318#txn-1013347">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;20&nbsp;09:03:03&nbsp;2011</span>
    <span class="description">cavac [...] cavac.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1013347/528302/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528302">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jul 29 11:40:29 2011, perlbug-followup@perl.org wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; This seems to happen due to multiarch support, i.e. gcc&#40;ld&#41; looks
</div>&gt; into
<div class="message-stanza open">&gt; &gt; /usr/lib/x86_64-linux-gnu, but perl does not because it doesn&#39;t know
&gt; &gt;    about
&gt; &gt; the real library path.
</div></div>
Here&#39;s a temporary workaround &#40;globally disabling the checks in 
MakeMaker&#41;.

So, find the file Kid.pm in */lib/ExtUtils/Liblist and find the 
following lines &#40;somewhere around line 170 in my MakeMaker version&#41;:

 1             }
 2             else {
 3                 warn &#34;$thislib not found in $thispth\n&#34; if $verbose;
 4                 next;
 5             }
 6             warn &#34;&#39;-l$thislib&#39; found at $fullname\n&#34; if $verbose;
 7             push @libs, $fullname unless $libs_seen{$fullname}++;
 8             $found++;
 9             $found_lib++;
10 

We&#39;ll disabling using the &#34;results&#34; of this checks, just comment out 
four lines:

 1             }
 2             else {
 3                 #warn &#34;$thislib not found in $thispth\n&#34; if $verbose;
 4                 #next;
 5             }
 6             #warn &#34;&#39;-l$thislib&#39; found at $fullname\n&#34; if $verbose;
 7             #push @libs, $fullname unless $libs_seen{$fullname}++;
 8             $found++;
 9             $found_lib++;
10 
11             # Now update library lists

Of course, a nicer workaround is checking for an environment variable:

 1             }
 2             else {
 3                 if&#40;!defined&#40;$ENV{MM_DISABLE_LIBCHECKS}&#41; || 
$ENV{MM_DISABLE_LIBCHECKS} == 0&#41; {
 4                     warn &#34;$thislib not found in $thispth\n&#34; if 
$verbose;
 5                     next;
 6                 }
 7             }
 8             if&#40;!defined&#40;$ENV{MM_DISABLE_LIBCHECKS}&#41; || 
$ENV{MM_DISABLE_LIBCHECKS} == 0&#41; {
 9                 warn &#34;&#39;-l$thislib&#39; found at $fullname\n&#34; if $verbose;
10                 push @libs, $fullname unless $libs_seen{$fullname}++;
11             }
12             $found++;
13             $found_lib++;
14 
15             # Now update library lists

Now, you can overide failing library checks by setting the environment 
variable MM_DISABLE_LIBCHECKS to a non-zero value, for example:

MM_DISABLE_LIBCHECKS=1 perl Makefile.PL

This should do it. Since &#40;most&#41; Makefile.PL&#39;s use checks with &#34;pkg-
config&#34; in addition to internal MakeMaker checks anyway, you should 
still see all missing dependencies from your operating system.

Tested this with Gtk3, Gtk3::WebKit and their dependencies. It&#39;s not 
quite nice and sometimes needs reading gcc errors to find missing 
dependencies - but it basically works.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1071333" href="/Public/Bug/Display.html?id=69318#txn-1071333">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;25&nbsp;07:42:14&nbsp;2012</span>
    <span class="description">lxp [...] cpan.org -  Reference by ticket #76753 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.918333</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
