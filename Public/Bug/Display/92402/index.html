<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #92402 for CPAN: modules ask interactive question -- but don&#39;t take dflt</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #92402 for CPAN: modules ask interactive question -- but don&#39;t take dflt</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CPAN">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CPAN">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CPAN">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CPAN">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPAN">CPAN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">92402</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CPAN">CPAN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
pause [...] tlinx.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
CHORNY [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-8164-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8165-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=92402">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316545" href="/Public/Bug/Display.html?id=92402#txn-1316545">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;00:24:28&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Inline asks interactive question -- but doesn&#39;t have keyboard</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1316545/697982/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/697982">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Example:


Checking if your kit is complete...
Looks good

Inline::C is packaged with Inline.pm because it is the most commonly used
Inline Language Support Module &#40;ILSM&#41;.

See also: Inline::ASM, ::Awk, ::BC, ::Basic, ::Befunge, ::CPP &#40;C++&#41;, ::CPR,
          ::Foo, ::Guile, ::Java, ::Octave, ::PERL, ::Python, ::Ruby, ::TT,
          ::Tcl and ::WebChat.

Config.pm indicates that your version of Perl was built with this C compiler:

    gcc

I have located this compiler on your system.

Do you want to install Inline::C? [y] y
&#40;/home/perl/perl-5.16.3/bin/perl Makefile.PL exited with 9&#41;

CPAN::Reporter: test results were not valid, Command interrupted.

No &#39;Makefile&#39; created  SISYPHUS/Inline-0.53.tar.gz
  /home/perl/perl-5.16.3/bin/perl Makefile.PL -- NOT OK
Running make test
  Make had some problems, won&#39;t test
Running make install
  Make had some problems, won&#39;t install
---------------------

Very frustrating -- I tried to type &#39;y&#39;, bt it was ignored, as STDIN seems to be taken over by CPAN.

Running the make manually, however, works fine...

&#40;maybe a CPAN deficiency?  Though the make of this module was done as a pre-req in a long line of automatic build/installs -- wasn&#39;t until I looked back later that I found the cause.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316583" href="/Public/Bug/Display.html?id=92402#txn-1316583">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;01:25:12&nbsp;2014</span>
    <span class="description">davido [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1316583/698007/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698007">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 22 21:24:28 2014, LAWALSH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Example:
&gt; 
&gt; 
&gt; Checking if your kit is complete...
&gt; Looks good
&gt; 
&gt; Inline::C is packaged with Inline.pm because it is the most commonly
&gt; used
&gt; Inline Language Support Module &#40;ILSM&#41;.
&gt; 
&gt; See also: Inline::ASM, ::Awk, ::BC, ::Basic, ::Befunge, ::CPP &#40;C++&#41;,
&gt; ::CPR,
&gt; : :Foo, ::Guile, ::Java, ::Octave, ::PERL, ::Python, ::Ruby, ::TT,
&gt; : :Tcl and ::WebChat.
&gt; 
&gt; Config.pm indicates that your version of Perl was built with this C
&gt; compiler:
&gt; 
&gt; gcc
&gt; 
&gt; I have located this compiler on your system.
&gt; 
&gt; Do you want to install Inline::C? [y] y
</div>
At this point you&#39;re experiencing the Makefile.PL for Inline::C, as the CPAN installer runs all Makefile.PL&#39;s within the distribution recursively.  The prompting is handled by ExtUtils::MakeMaker&#39;s prompt&#40;&#41; function.  And as you see within the &#34;[y]&#34; square brackets, prompt&#40;&#41; is being directed to supply a default.

prompt&#40;&#41; detects whether Makefile.PL has been invoked interactively, or non-interactively &#40;as is the case when running the &#39;cpan&#39; installer&#41;.  When it&#39;s invoked non-interactively, the default is used.  Inline::C supplies the &#34;y&#34; default, which seems to be what you would have selected anyway, had you been in interactive mode.  If Inline::C&#39;s Makefile.PL didn&#39;t supply a default, prompt&#40;&#41; would use the empty string as a default in non-interactive mode, which would cause Inline::C&#39;s Makefile.PL to enter an endless loop &#40;you can look at the source to see what I mean&#41;.  Fortunately, Inline::C&#39;s Makefile.PL does the right thing; it supplies a default.

So the prompting problem you&#39;re describing is actually &#34;how things are done&#34;: Makefile.PL is making correct use of prompt&#40;&#41;, supplied by ExtUtils::MakeMaker.  If you don&#39;t like how ExtUtils::MakeMaker::prompt works, and for the most part, prompt&#40;&#41; works flawlessly across a broad range of systems and configurations; it has to, being part of EU::MM.

The next issue to consider is how the cpan installer works.  The basic &#39;cpan&#39; installer &#40;provided by App::cpan&#41; doesn&#39;t &#40;to my knowledge&#41; provide an option for interactive installations.  So if you want to install automatically using the &#39;cpan&#39; installer, you&#39;re going to have to accept Inline::C&#39;s defaults, which is exactly why defaults are provided.  It would be nice to see an &#34;interactive mode&#34; feature implemented for App::cpan / CPAN.pm, but that&#39;s someone else&#39;s jurisdiction, not Inline&#39;s.  

However, if you would like a degree of automation, but still want to be able to hit the &#34;y&#34; key yourself &#40;without waiting around for someone to implement the feature in App::cpan / CPAN.pm&#41;, you may use &#39;cpanm&#39; &#40;App::cpanm, or cpanminus&#41; to install Inline and Inline::C.  &#39;cpanm&#39; provides an &#34;--interactive&#34; option.  If you invoke this command:  &#39;cpanm --interactive Inline&#39; you will get an automated installation of Inline, along with blocking prompting that you can respond to manually before Inline::C gets installed.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;/home/perl/perl-5.16.3/bin/perl Makefile.PL exited with 9&#41;
&gt; 
&gt; CPAN::Reporter: test results were not valid, Command interrupted.
&gt; 
&gt; No &#39;Makefile&#39; created  SISYPHUS/Inline-0.53.tar.gz
&gt;   /home/perl/perl-5.16.3/bin/perl Makefile.PL -- NOT OK
&gt; Running make test
&gt;   Make had some problems, won&#39;t test
&gt; Running make install
&gt;   Make had some problems, won&#39;t install
&gt; ---------------------
</div>
This problem, I haven&#39;t seen before.  But it&#39;s not related to prompting.  The fact that you&#39;re able to achieve a successful install manually &#40;make, make test, make install&#41; indicates that your setup is capable of installing Inline and Inline::C.  And as indicated earlier, the prompting is working as intended.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316584" href="/Public/Bug/Display.html?id=92402#txn-1316584">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;01:25:13&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316592" href="/Public/Bug/Display.html?id=92402#txn-1316592">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;02:00:31&nbsp;2014</span>
    <span class="description">sisyphus1 [...] optusnet.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92402] Inline asks interactive question -- but doesn&#39;t have keyboard</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Jan 2014 17:55:06 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Inline [...] rt.cpan.org&gt;, &lt;inline [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;sisyphus1 [...] optusnet.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1316592/698014/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698014">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 873b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message----- 
From: Linda A Walsh via RT

<div class="message-stanza open">&gt; Do you want to install Inline::C? [y] y
&gt; &#40;/home/perl/perl-5.16.3/bin/perl Makefile.PL exited with 9&#41;
</div>
<div class="message-stanza open">&gt; Very frustrating -- I tried to type &#39;y&#39;, bt it was ignored, as STDIN seems
&gt; to be taken over by CPAN.
</div>
Yes, I would find that very annoying.
I don&#39;t use any of the CPAN family of modules very much - I avoid them
unless there&#39;s a very long dependency chain.
Consequently, I don&#39;t know much about the options they provide, or about the
details of the way in which they&#39;re supposed to work.

Did David&#39;s reply help ?

The only thing I can think of adding to what David provided is that, if
you&#39;re happy to accept the default, then setting the PERL_MM_USE_DEFAULT
environment variable to 1 should enable that. &#40;The default will be &#39;y&#39; if a
compiler is found, and &#39;n&#39; if a compiler is not found.&#41;

Cheers,
Rob 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316670" href="/Public/Bug/Display.html?id=92402#txn-1316670">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;08:29:39&nbsp;2014</span>
    <span class="description">xyf.xiao [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> inline &lt;inline [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92402] Inline asks interactive question -- but doesn&#39;t have keyboard</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Jan 2014 21:29:07 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Inline [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Xiao Yafeng &lt;xyf.xiao [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1316670/698054/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698054">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve tried reinstall Inline via cpan and seems work fine:

xyf@AndyHome:~$ cpan -f -i Inline
CPAN: Storable loaded ok &#40;v2.34&#41;
Reading &#39;/home/xyf/.cpan/Metadata&#39;
  Database was generated on Thu, 23 Jan 2014 10:17:02 GMT
CPAN: Module::CoreList loaded ok &#40;v2.76&#41;
Running install for module &#39;Inline&#39;
Running make for S/SI/SISYPHUS/Inline-0.53.tar.gz
CPAN: LWP::UserAgent loaded ok &#40;v6.05&#41;
CPAN: Time::HiRes loaded ok &#40;v1.9725&#41;
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.btte.net/CPAN/authors/id/S/SI/SISYPHUS/Inline-0.53.tar.gz">http://mirrors.btte.net/CPAN/authors/id/S/SI/SISYPHUS/Inline-0.53.tar.gz</a></span>
CPAN: YAML loaded ok &#40;v0.88&#41;
CPAN: Digest::SHA loaded ok &#40;v5.71&#41;
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.btte.net/CPAN/authors/id/S/SI/SISYPHUS/CHECKSUMS">http://mirrors.btte.net/CPAN/authors/id/S/SI/SISYPHUS/CHECKSUMS</a></span>
CPAN: Compress::Zlib loaded ok &#40;v2.048&#41;
Checksum for /home/xyf/.cpan/sources/authors/id/S/SI/SISYPHUS/Inline-0.53.tar.gz
ok
CPAN: File::Temp loaded ok &#40;v0.22&#41;
CPAN: CPAN::Meta loaded ok &#40;v2.130880&#41;

  CPAN.pm: Building S/SI/SISYPHUS/Inline-0.53.tar.gz

Checking if your kit is complete...
Looks good

Inline::C is packaged with Inline.pm because it is the most commonly used
Inline Language Support Module &#40;ILSM&#41;.

See also: Inline::ASM, ::Awk, ::BC, ::Basic, ::Befunge, ::CPP &#40;C++&#41;, ::CPR,
          ::Foo, ::Guile, ::Java, ::Octave, ::PERL, ::Python, ::Ruby, ::TT,
          ::Tcl and ::WebChat.

Config.pm indicates that your version of Perl was built with this C compiler:

    cc

I have located this compiler on your system.

Do you want to install Inline::C? [y] y
Writing Makefile for Inline::C
Writing MYMETA.yml and MYMETA.json
Writing Makefile for Inline
Writing MYMETA.yml and MYMETA.json
cp Inline.pod blib/lib/Inline.pod
cp lib/Inline/MakeMaker/Changes blib/lib/Inline/MakeMaker/Changes
cp lib/Inline/denter.pm blib/lib/Inline/denter.pm
....
....
SISYPHUS/Inline-0.53.tar.gz
  /usr/bin/make install  -- OK


uname -a
Linux AndyHome 3.2.0-4-686-pae #1 SMP Debian 3.2.51-1 i686 GNU/Linux

On Thu, Jan 23, 2014 at 3:00 PM, sisyphus1@optusnet.com.au via RT
&lt;bug-Inline@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Jan 23 02:00:31 2014: Request 92402 was acted upon.
&gt; Transaction: Correspondence added by sisyphus1@optusnet.com.au
&gt;        Queue: Inline
&gt;      Subject: Re: [rt.cpan.org #92402] Inline asks interactive question -- but doesn&#39;t have keyboard
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: Important
&gt;        Owner: Nobody
&gt;   Requestors: pause@tlinx.org
&gt;       Status: open
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=92402">https://rt.cpan.org/Ticket/Display.html?id=92402</a></span> &gt;
&gt;
&gt;
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: Linda A Walsh via RT
&gt;
<div class="message-stanza open">&gt;&gt; Do you want to install Inline::C? [y] y
&gt;&gt; &#40;/home/perl/perl-5.16.3/bin/perl Makefile.PL exited with 9&#41;
</div>&gt;
<div class="message-stanza open">&gt;&gt; Very frustrating -- I tried to type &#39;y&#39;, bt it was ignored, as STDIN seems
&gt;&gt; to be taken over by CPAN.
</div>&gt;
&gt; Yes, I would find that very annoying.
&gt; I don&#39;t use any of the CPAN family of modules very much - I avoid them
&gt; unless there&#39;s a very long dependency chain.
&gt; Consequently, I don&#39;t know much about the options they provide, or about the
&gt; details of the way in which they&#39;re supposed to work.
&gt;
&gt; Did David&#39;s reply help ?
&gt;
&gt; The only thing I can think of adding to what David provided is that, if
&gt; you&#39;re happy to accept the default, then setting the PERL_MM_USE_DEFAULT
&gt; environment variable to 1 should enable that. &#40;The default will be &#39;y&#39; if a
&gt; compiler is found, and &#39;n&#39; if a compiler is not found.&#41;
&gt;
&gt; Cheers,
&gt; Rob
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1316997" href="/Public/Bug/Display.html?id=92402#txn-1316997">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;19:06:00&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1316997/698249/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698249">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 23 01:25:12 2014, DAVIDO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Do you want to install Inline::C? [y] y
</div>&gt; 
&gt; At this point you&#39;re experiencing the Makefile.PL for Inline::C, as
&gt; the CPAN installer runs all Makefile.PL&#39;s within the distribution
&gt; recursively.  The prompting is handled by ExtUtils::MakeMaker&#39;s
&gt; prompt&#40;&#41; function.  And as you see within the &#34;[y]&#34; square brackets,
&gt; prompt&#40;&#41; is being directed to supply a default.
</div>----
Right -- but then it **waits*** for input.

The input never comes, because my input is being redirected &#34;elsewhere&#34;  &#40;dunno&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ExtUtils::MakeMaker.  If you don&#39;t like how
&gt; ExtUtils::MakeMaker::prompt works, and for the most part, prompt&#40;&#41;
&gt; works flawlessly across a broad range of systems and configurations;
&gt; it has to, being part of EU::MM.
</div>----
It&#39;s not a matter of &#34;like&#34; -- it&#39;s a matter of it stopping at any interactive prompt &#40;most have some default&#41;, and waiting for input.  Then it &#34;pseudo-dies&#34;-- due to hitting the timeout value in my CPAN config file. &#40;usually set to 15 seconds&#41;.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; The next issue to consider is how the cpan installer works.  The basic
&gt; &#39;cpan&#39; installer &#40;provided by App::cpan&#41; doesn&#39;t &#40;to my knowledge&#41;
&gt; provide an option for interactive installations.  
</div>----
The rest of this seems not relevant, as I don&#39;t want interactive, but during non-interactive build, 
1&#41; CPAN pauses at any such point to wait for input &#40;even w/a default&#41; until it hits the &#39;inactivity timeout value.
2&#41; Then the exit via signal is detected by CPAN as an error and no default is taken.





<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &#40;/home/perl/perl-5.16.3/bin/perl Makefile.PL exited with 9&#41;
&gt; &gt; ---------------------
</div>&gt; 
&gt; This problem, I haven&#39;t seen before.  But it&#39;s not related to
&gt; prompting.
</div>----
It is only Makefile.PL&#39;s that prompt that have this problem.

To say that it isn&#39;t related to prompting isn&#39;t supported by the evidence.

I don&#39;t know if it would help, but maybe 
the makefile.pl needs to check to see if /dev/stdin is a character device.  If it is
a pipe &#40;which I&#39;m guessing is the case here, as /dev/stdin isn&#39;t being read from the /dev/tty input&#41;, then just do the default -- don&#39;t prompt.



  The fact that you&#39;re able to achieve a successful install
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; manually &#40;make, make test, make install&#41; indicates that your setup is
&gt; capable of installing Inline and Inline::C.  And as indicated earlier,
&gt; the prompting is working as intended.
</div>----
Only when it receives input -- which it does in manual mode.  But when run automatically,
the prompting waits instead of immediately taking the default, and eventually times out returning an error in the Makefile.PL run to CPAN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1317002" href="/Public/Bug/Display.html?id=92402#txn-1317002">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;19:27:15&nbsp;2014</span>
    <span class="description">davido [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1317002/698254/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698254">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 23 16:06:00 2014, LAWALSH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jan 23 01:25:12 2014, DAVIDO wrote:
<div class="message-stanza open">&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Do you want to install Inline::C? [y] y
</div>&gt; &gt;
&gt; &gt; At this point you&#39;re experiencing the Makefile.PL for Inline::C, as
&gt; &gt; the CPAN installer runs all Makefile.PL&#39;s within the distribution
&gt; &gt; recursively.  The prompting is handled by ExtUtils::MakeMaker&#39;s
&gt; &gt; prompt&#40;&#41; function.  And as you see within the &#34;[y]&#34; square brackets,
&gt; &gt; prompt&#40;&#41; is being directed to supply a default.
</div>&gt; ----
&gt; Right -- but then it **waits*** for input.
&gt; 
&gt; The input never comes, because my input is being redirected
&gt; &#34;elsewhere&#34;  &#40;dunno&#41;.
</div>
I myself have taken a pretty close look at how prompt&#40;&#41; works, because I&#39;ve stolen much of its guts into IO::Prompt::Hooked &#40;one of my modules on CPAN&#41;.  If you are getting blocking behavior, that&#39;s a problem, but not an Inline problem.  From the prompt&#40;&#41; documentation in EU::MM:

    &#34;If prompt&#40;&#41; detects that it is not running interactively and there is nothing 
     on STDIN or if the PERL_MM_USE_DEFAULT environment variable is set to true, the 
     $default will be used without prompting. This prevents automated processes from 
     blocking on user input.&#34;

So the question comes down to why is *your* automated process allowing *prompt&#40;&#41;* to block for user input?  This line from EU::MM::prompt&#39;s source makes me wonder....

if &#40;$ENV{PERL_MM_USE_DEFAULT} || &#40;!$isa_tty &#38;&#38; eof STDIN&#41;&#41; {

Is it possible that you&#39;ve got something waiting on STDIN, so the &#34;eof STDIN&#34; test fails?  Or is there a problem a few lines earlier when prompt&#40;&#41; attempts to detect if it&#39;s got a tty or not?  One way to test this theory would be to set the environment variable PERL_MM_USE_DEFAULT and see if you still get the blocking behavior.  Setting it to a true value will short-circuit the test of STDIN being at an eof condition, and I suspect you will no longer block.

Either way, this seems to me to be an interaction between your configuration and EU::MM::prompt. I don&#39;t see how it could be something relating to Inline::C&#39;s Makefile.PL.  If you know otherwise, please do point to the code in Inline::C&#39;s Makefile.PL that is blocking... but we already know from the dump of your run that prompt&#40;&#41; is blocking.... so the finger points back at prompt&#40;&#41;, and how it&#39;s interacting with your system.  Inline::C&#39;s makefile doesn&#39;t have control over this, unless we decide that there&#39;s some more reliable version of prompt that we could be using, which, given EU::MM&#39;s ubiquity, is unlikely.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It&#39;s not a matter of &#34;like&#34; -- it&#39;s a matter of it stopping at any
&gt; interactive prompt &#40;most have some default&#41;, and waiting for input.
&gt; Then it &#34;pseudo-dies&#34;-- due to hitting the timeout value in my CPAN
&gt; config file. &#40;usually set to 15 seconds&#41;.
</div>
Yes, &#34;like&#34; was the wrong word.  It&#39;s blocking for you, and that&#39;s irritating at best, and definitely not what we have in mind.  ...but the question is &#34;why?&#34;  And as you dive into the layers of code involved, everything I&#39;m seeing points to how ExtUtils::MakeMaker prompt interacts with your environment.  I haven&#39;t even looked at the EU::MM bug queue lately to see if others are mentioning such issues... but if they are, that&#39;s where I&#39;d expect to see them mentioned.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; The next issue to consider is how the cpan installer works.  The
&gt; &gt; basic
&gt; &gt; &#39;cpan&#39; installer &#40;provided by App::cpan&#41; doesn&#39;t &#40;to my knowledge&#41;
&gt; &gt;   provide an option for interactive installations.
</div>&gt; ----
&gt; The rest of this seems not relevant, as I don&#39;t want interactive, but
&gt; during non-interactive build,
&gt; 1&#41; CPAN pauses at any such point to wait for input &#40;even w/a default&#41;
&gt; until it hits the &#39;inactivity timeout value.
&gt; 2&#41; Then the exit via signal is detected by CPAN as an error and no
&gt; default is taken.
</div>

Yes, I agree. If you want non-interactive to progress without blocking, setting cpanminus to interactive mode isnt what you need.  When I first read your post you mentioned hitting &#34;y&#34; and not getting response from the keyboard, which is where I derived the relevancy of the --interactive mode in cpanminus.  But you just want it to stop blocking.  I would too.  There are a limited number of places to look for that problem; Makefile.PL, which uses prompt, which comes from EU::MM.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1317071" href="/Public/Bug/Display.html?id=92402#txn-1317071">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;23:40:23&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92402] Inline asks interactive question -- but doesn&#39;t have keyboard</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Jan 2014 20:40:13 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Inline [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;L. A. Walsh&#34; &lt;pause [...] tlinx.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1317071/698300/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/698300">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

David J. Oswald via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; if &#40;$ENV{PERL_MM_USE_DEFAULT} || &#40;!$isa_tty &#38;&#38; eof STDIN&#41;&#41; {
</div>----
Why is it testing eof on STDIN?  That seems wrong.

my setup is in regenerating modules that need to be reinstalled/upgraded or
whatever...

usually something like:

cat /tmp/outdatedmodules|&#40;either a while look if I want to do them 1 at
a time, or .. lately been trying xargs -- the blockages happen either way&#41;.

in xarg case:
cat /tmp/mods|xargs -n1 -P8 cpan -i

would be a sample line... I&#39;m not sure what xargs does...but a similar
cat /tmp/mods|while read mod;do
cpan -i &#34;$mod&#34;
done

will create the same type of error &#40;Inline hasn&#39;t been the only mod I&#39;ve
seen this on -- wasn&#39;t until I looked into it to try to see why.

I don&#39;t see a CPAN option to &#34;take the default&#34; in the config  or in cpan&#39;s
o config options.  Is it documented somewhere?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is it possible that you&#39;ve got something waiting on STDIN, so the &#34;eof STDIN&#34; test fails?
</div>---
    Given there is stdin supplying the list of mods to be built, it is
not impossible -- but I wouldn&#39;t think stdin from the input file would be
passed unaltered directly into cpan...


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1327751" href="/Public/Bug/Display.html?id=92402#txn-1327751">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;17&nbsp;18:11:02&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1327751/704224/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/704224">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 269b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">FWIW -- I tested this with all &#39;site&#39; libs removed &#40;trying to only use core mods&#41; and got the same result &#40;I thought it might be due to some module I installed.

Also, no vendor files are installed --  &#40;though this same problem happens on the vendor version as well&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1327755" href="/Public/Bug/Display.html?id=92402#txn-1327755">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;17&nbsp;18:12:44&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Subject changed from &#39;Inline asks interactive question -- but doesn&#39;t have keyboard&#39; to &#39;modules ask interactive question -- but don&#39;t take dflt&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1327756" href="/Public/Bug/Display.html?id=92402#txn-1327756">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;17&nbsp;18:12:44&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Queue changed from Inline to CPAN</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1340105" href="/Public/Bug/Display.html?id=92402#txn-1340105">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;19&nbsp;03:21:33&nbsp;2014</span>
    <span class="description">CHORNY [...] cpan.org -  Cc CHORNY added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1340107" href="/Public/Bug/Display.html?id=92402#txn-1340107">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;19&nbsp;03:22:27&nbsp;2014</span>
    <span class="description">CHORNY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1340107/711056/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/711056">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 172b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Try removing timeout in CPAN config - I had a similar problem with CPAN::Reporter <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=62310">https://rt.cpan.org/Ticket/Display.html?id=62310</a></span>

-- 
Alexandr Ciornii, <span class="clickylink"><a target="new" rel="nofollow" href="http://chorny.net">http://chorny.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1340529" href="/Public/Bug/Display.html?id=92402#txn-1340529">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;19&nbsp;18:11:33&nbsp;2014</span>
    <span class="description">pause [...] tlinx.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1340529/711255/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/711255">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 724b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Mar 19 03:22:27 2014, CHORNY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Try removing timeout in CPAN config - I had a similar problem with
&gt; CPAN::Reporter <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=62310">https://rt.cpan.org/Ticket/Display.html?id=62310</a></span>
</div>
---------------------
Hah.  was just going to cross reference that.

Problem with that is that some tests DO hang... 
The timeout is needed -- so that&#39;s not a solution -- I&#39;ve tried it with the default of of 300s having it wait and it still doesn&#39;t work.

With no timeout, some things would hang &#39;forever&#39;...   That&#39;s defeats the purpose of having the timeout feature in the first place.

Which would be a better solution -- removing the timeout feature from all build/testings or fixing the few cases that don&#39;t work correctly w/a timeout?
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.608827</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
