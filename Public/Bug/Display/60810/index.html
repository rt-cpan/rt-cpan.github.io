<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #60810 for POE-API-Peek: Bug#593014: FTBFS: test t/03-event.t fails with libpoe-perl &#40;2:1.2920-1&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #60810 for POE-API-Peek: Bug#593014: FTBFS: test t/03-event.t fails with libpoe-perl &#40;2:1.2920-1&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/POE-API-Peek/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/POE-API-Peek/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/POE-API-Peek/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/POE-API-Peek/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/POE-API-Peek">POE-API-Peek CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">60810</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/POE-API-Peek/Active/">POE-API-Peek</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
CARNIL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26352-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26353-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;27&nbsp;14:33:27&nbsp;2010</span>
    <span class="description">CARNIL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug#593014: FTBFS: test t/03-event.t fails with libpoe-perl &#40;2:1.2920-1&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 27 Aug 2010 20:33:02 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE-API-Peek [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;carnil [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

I&#39;m forwarding the bugreport from Debian Bugtracker here too, see [1].
These failures show up too from cpan testers.

 [1] <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/593014">http://bugs.debian.org/593014</a></span>

Thanks for looking into this!
Bests
Salvatore

---&#40;snip&#41;---------------------------------------------------------------
Source: libpoe-api-peek-perl
Version: 1.3400-1
Justification: ftbfs
Severity: serious
Tags: sid

Hi

libpoe-api-peek-perl 1.3400-1 FTBFS in sid, but not in squeeze. The
difference I see is libpoe 2:1.2920-1 in unstable:

Taging this only affecting squeeze as libpoe-perl is blocked by
freeze.

The failure is:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    dh_auto_test
&gt; make[1]: Entering directory `/build/salvi-libpoe-api-peek-perl_1.3400-1-amd64-ploNrl/libpoe-api-peek-perl-1.3400-1&#39;
&gt; PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
&gt; t/00-basic.t .......... ok
&gt; t/000-distribution.t .. ok
&gt; t/01-session.t ........ ok
&gt; t/02-alias.t .......... ok
&gt; 
&gt; #   Failed test &#39;event_queue_dump&#40;&#41; returns the right number of items&#39;
&gt; #   at t/03-event.t line 70.
&gt; #          got: &#39;0&#39;
&gt; #     expected: &#39;1&#39;
&gt; 
&gt; #   Failed test &#39;event_queue_dump&#40;&#41; item has proper type&#39;
&gt; #   at t/03-event.t line 73.
&gt; #          got: undef
&gt; #     expected: &#39;User&#39;
&gt; 
&gt; #   Failed test &#39;event_queue_dump&#40;&#41; item has proper event name&#39;
&gt; #   at t/03-event.t line 74.
&gt; #          got: undef
&gt; #     expected: &#39;dummy&#39;
&gt; # Looks like you failed 3 tests of 12.
&gt; t/03-event.t .......... 
&gt; Dubious, test returned 3 &#40;wstat 768, 0x300&#41;
&gt; Failed 3/12 subtests 
&gt; t/04-extref.t ......... ok
&gt; t/05-filehandle.t ..... ok
&gt; t/06-signals.t ........ ok
&gt; t/07-kernel.t ......... ok
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/03-event.t        &#40;Wstat: 768 Tests: 12 Failed: 3&#41;
&gt;   Failed tests:  9-11
&gt;   Non-zero exit status: 3
&gt; Files=9, Tests=111,  1 wallclock secs &#40; 0.03 usr  0.01 sys +  0.75 cusr  0.06 csys =  0.85 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/9 test programs. 3/111 subtests failed.
&gt; make[1]: *** [test_dynamic] Error 255
&gt; make[1]: Leaving directory `/build/salvi-libpoe-api-peek-perl_1.3400-1-amd64-ploNrl/libpoe-api-peek-perl-1.3400-1&#39;
&gt; dh_auto_test: make -j1 test returned exit code 2
&gt; make: *** [build-stamp] Error 29
&gt; dpkg-buildpackage: error: debian/rules build gave error exit status 2
&gt; ******************************************************************************
&gt; Build finished at 20100815-0707
&gt; FAILED [dpkg-buildpackage died]
</div>
---&#40;snap&#41;---------------------------------------------------------------
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;27&nbsp;14:43:28&nbsp;2010</span>
    <span class="description">SUNGO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">yeah. the latest version of poe broke this module. It&#39;s on my list of
things to loook at this weekend. Thanks for the report. You should hear
back from me soon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;27&nbsp;14:43:29&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;28&nbsp;20:30:45&nbsp;2010</span>
    <span class="description">sungo [...] sungo.us -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #60810] Bug#593014: FTBFS: test t/03-event.t fails with libpoe-perl &#40;2:1.2920-1&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 28 Aug 2010 20:30:30 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Salvatore Bonaccorso via RT &lt;bug-POE-API-Peek [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sungo &lt;sungo [...] sungo.us&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


There&#39;s a major internal change in POE v1.289 that broke the event queue
from an external perspective. There are now two event queues, one I can&#39;t
get access to currently. I&#39;ve filed a rant with the POE maintainer and
a rollback is theoretically coming soon. 

In the meantime, I will be releasing a new version that notes these
errors, skips the broken tests, and warns the first time an event queue
related method is used.

While this is technically going to be the stable version, I strongly
recommend not updating the debian package until the POE rollback is
complete and I can release a new version where the whole api works
again.

- --
sungo
<span class="clickylink"><a target="new" rel="nofollow" href="http://sungo.us">http://sungo.us</a></span>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 &#40;GNU/Linux&#41;

iEYEARECAAYFAkx5qiUACgkQ3wph+sE0MUuuGgCfYEfpqLPYPSg0S6rAKJES++o/
n3YAnRik+92rFD7FP7SAm91rYqQk/LnA
=1ega
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;05&nbsp;22:16:43&nbsp;2010</span>
    <span class="description">sungo [...] sungo.us -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #60810] Bug#593014: FTBFS: test t/03-event.t fails with libpoe-perl &#40;2:1.2920-1&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 5 Sep 2010 22:16:32 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> sungo via RT &lt;bug-POE-API-Peek [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sungo &lt;sungo [...] sungo.us&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
POE::API::Peek v2.16_2 is on its way to CPAN. It requires POE v1.293,
the latest. That POE fixes the event related errors you reported but it
adds new signal related ones. 2.16_2 contains fixes, as per my
contracted API but it does not yet contain methods to access the new
data.

2.16_3 and hopefully 2.16 will come tomorrow containing fixes for
everything.

--
sungo
<span class="clickylink"><a target="new" rel="nofollow" href="http://sungo.us">http://sungo.us</a></span>
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
