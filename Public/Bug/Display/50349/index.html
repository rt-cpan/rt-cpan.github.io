<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50349 for OpenGL: Another Compile Error</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50349 for OpenGL: Another Compile Error</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/OpenGL/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/OpenGL/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/OpenGL/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/OpenGL/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://sourceforge.net/tracker/?group_id=562483&#38;atid=2281758">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/OpenGL">OpenGL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50349</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/OpenGL/Active/">OpenGL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bitcard [...] skewray.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-24198-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.59    </td>
  </tr>
  <tr id="CF-24199-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;01:01:52&nbsp;2009</span>
    <span class="description">bitcard [...] skewray.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Another Compile Error</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am unable to compile 0.59 on Ubuntu 9.04, Perl v5.10.0.  The
output from &#34;perl Makefile.PL verbose&#34; is attached as E1.txt.  The
problem is obviously that include/GL/is not being searched for
include files, since this is the wrong path for the files in utils/.  I
edited utils/Makefile to include &#34;-I../include&#34; in INC, and then I got the
errors in E2.txt.  &#34;APIENTRY&#34; is not defined, but since this can be
found in at least four different include files, I gave up at this point.

If I can help with the debugging, please let me know.

Brian
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> E1.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$verbose set to 1
found libs:
    GL = &#39;GL&#39;
    GLU = &#39;GLU&#39;
    GLUT = &#39;glut&#39;
Testing for OpenGL Extensions
Testing GLUT version
glversion: cd utils;make -f Makefile GLUT_LIB=glut GLUT_DEF=HAVE_GLUT  clean;make -f Makefile GLUT_LIB=glut GLUT_DEF=HAVE_GLUT 
glversion.c:13:21: error: GL/glut.h: No such file or directory
glversion.c: In function ‘main’:
glversion.c:25: error: ‘GLuint’ undeclared &#40;first use in this function&#41;
glversion.c:25: error: &#40;Each undeclared identifier is reported only once
glversion.c:25: error: for each function it appears in.&#41;
glversion.c:25: error: expected ‘;’ before ‘idWindow’
glversion.c:30: error: ‘GLUT_RGBA’ undeclared &#40;first use in this function&#41;
glversion.c:31: error: ‘idWindow’ undeclared &#40;first use in this function&#41;
glversion.c:35: error: ‘GL_VERSION’ undeclared &#40;first use in this function&#41;
glversion.c:35: warning: cast to pointer from integer of different size
glversion.c:36: error: ‘GL_VENDOR’ undeclared &#40;first use in this function&#41;
glversion.c:36: warning: cast to pointer from integer of different size
glversion.c:37: error: ‘GL_RENDERER’ undeclared &#40;first use in this function&#41;
glversion.c:37: warning: cast to pointer from integer of different size
glversion.c:38: error: ‘GL_EXTENSIONS’ undeclared &#40;first use in this function&#41;
glversion.c:38: warning: cast to pointer from integer of different size
make: *** [glversion.o] Error 1

rm -f glversion.txt
rm -f glversion
rm -f glversion.o
cc -I/usr/include -I/usr/X11R6/include -I/usr/local/include -I/usr/openwin/include -DHAVE_GLUT -c glversion.c


get_extensions: could not open utils/glversion.txt: No such file or directory
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> E2.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$verbose set to 1
found libs:
    GL = &#39;GL&#39;
    GLU = &#39;GLU&#39;
    GLUT = &#39;glut&#39;
Testing for OpenGL Extensions
Testing GLUT version
glversion: cd utils;make -f Makefile GLUT_LIB=glut GLUT_DEF=HAVE_GLUT  clean;make -f Makefile GLUT_LIB=glut GLUT_DEF=HAVE_GLUT 
In file included from ../include/GL/freeglut_std.h:85,
                 from ../include/GL/glut.h:17,
                 from glversion.c:13:
../include/GL/glu.h:63: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token
../include/GL/glu.h:231: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:271: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:354: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:360: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:363: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:364: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:365: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:366: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:367: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:368: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:372: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:373: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:374: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:375: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:376: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:377: error: expected ‘&#41;’ before ‘*’ token
../include/GL/glu.h:384: error: expected ‘&#41;’ before ‘*’ token
make: *** [glversion.o] Error 1

rm -f glversion.txt
rm -f glversion
rm -f glversion.o
cc -I../include -I/usr/include -I/usr/X11R6/include -I/usr/local/include -I/usr/openwin/include -DHAVE_GLUT -c glversion.c


get_extensions: could not open utils/glversion.txt: No such file or directory
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;01:04:55&nbsp;2009</span>
    <span class="description">bitcard [...] skewray.com -  Severity Critical changed to Important</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;09:29:09&nbsp;2009</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 09 01:01:52 2009, skewray wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am unable to compile 0.59 on Ubuntu 9.04, Perl v5.10.0.  The
&gt; output from &#34;perl Makefile.PL verbose&#34; is attached as E1.txt.  The
&gt; problem is obviously that include/GL/is not being searched for
&gt; include files, since this is the wrong path for the files in utils/.
</div>
The key to building the OpenGL module is configuring the locations of 
the OpenGL, GLU, and FreeGLUT header files to compile and the locations 
of the corresponding libraries libGL.xx, libGLU.xx libglut.xx with 
various combinations of upper and lower case and what .xx is by 
platform.  The first step is compiling glversion in utils/ in order to 
probe the configuration of the OpenGL environment.

You&#39;ll need to confirm that you have the packages for opengl, opengl-
dev, freeglut, freeglut-dev, and whatever it takes to install a valid 
opengl compile environment on your system.  One way to check is to do a 
search for the various include files first.  From a bash shell in a 
terminal window I have used:

  find /usr -name gl.h -o -name freeglut.h -o -name glu.h

The ones you&#39;ll want are those in a GL/ directory.  On my system,
I get this output:

  /usr/include/FL/gl.h
  /usr/include/FL/glu.h
* /usr/include/GL/freeglut.h
* /usr/include/GL/gl.h
* /usr/include/GL/glu.h
  /usr/include/w32api/GL/gl.h
  /usr/include/w32api/GL/glu.h

where I have indicated the locations needed to compile under X11 which 
is the way linux support hardware accelerated OpenGL rendering.  If you 
don&#39;t have these on your system, then OpenGL and the needed developers 
packages are not installed.

Similarly, you can look for the libraries with

  find /usr -iname &#39;libgl.*&#39; -o -iname &#39;libglut.*&#39; -o -iname &#39;libglu.*&#39;

which gives on my system

* /usr/lib/libGL.dll.a
* /usr/lib/libGLU.dll.a
  /usr/lib/libglut.a
* /usr/lib/libglut.dll.a
  /usr/lib/libglut.la

where I have indicated the shared libraries on my cygwin platform.  On 
linux, the shared libraries will end in .so instead of .dll.a.  If you 
don&#39;t find these libraries, then you are missing the needed OpenGL 
development environment.

Once you have determined their locations, you should be able to run the 
glversion compile command manually putting in the additional include 
path with -Idir/to/include/widhout/GL and the library with -
Ldir/to/library so if my glversion compile did not work with the 
default makefile &#40;but it does&#41;:

  make -f Makefile.cygwin      
  gcc -DHAVE_FREEGLUT -c glversion.c
  g++ -o glversion glversion.o -lGL -lglut

then I could hand run the compile and link commands as

  gcc -DHAVE_FREEGLUT -I/usr/include -c glversion.c
  g++ -o glversion glversion.o -L/usr/lib -lGL -lglut

where I have added the directories where the include headers were found 
above in the compile line and the library directory to the link line.

Once you get a set of paths and a compile/link that works,
check that you can run glversion to get output, and let me
know the paths you needed and we can see why the build process
did not find them.

--Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;09:29:10&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;11:02:10&nbsp;2009</span>
    <span class="description">bitcard [...] skewray.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bitcard [...] skewray.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was missing the freeglut development files.  It computes now,
although with the test.pl missing font problem.

I would like to make the suggestion that either the Makefile.PL or
the Makefile check for the appropriate include files, and if they are
not found, report which packages might be missing.  I had no idea
why it would not compile, when the fix was actually trivial.

Thanks for a  great package!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;13:37:48&nbsp;2009</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 09 11:02:10 2009, skewray wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I was missing the freeglut development files.  It computes now,
&gt; although with the test.pl missing font problem.
</div>
OK

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I would like to make the suggestion that either the Makefile.PL or
&gt; the Makefile check for the appropriate include files, and if they are
&gt; not found, report which packages might be missing.  I had no idea
&gt; why it would not compile, when the fix was actually trivial.
</div>
I guess that is a symptom of our success.  We&#39;ve been working toward 
improving the portability and buildability of OpenGL across platforms.
However, now that it works more places, more easily, more folks are 
trying to build it without installing the prerequisites in the README.

Improved &#40;helpful&#41; diagnostics are planned.  One thing that might be 
helpful would be a platform-by-platform description of how to get the 
required libraries and development environment configured.  For 
example, for your platform, what packages were installed and how do you 
get them if they are not already there...

Glad you are up and running,
Chris
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for a  great package!
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;09&nbsp;13:37:50&nbsp;2009</span>
    <span class="description">chm [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
