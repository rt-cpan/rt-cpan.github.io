<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #30215 for Net-DNS-SEC: Net::DNS::RR::DS-&gt;string bubblebabble error</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #30215 for Net-DNS-SEC: Net::DNS::RR::DS-&gt;string bubblebabble error</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-DNS-SEC/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-DNS-SEC/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-DNS-SEC/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-DNS-SEC/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS-SEC">Net-DNS-SEC CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">30215</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-DNS-SEC/Active/">Net-DNS-SEC</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Ulrich.Wisser [...] iis.se

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22472-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22473-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;23&nbsp;06:04:36&nbsp;2007</span>
    <span class="description">Ulrich.Wisser [...] iis.se -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::DNS::RR::DS-&gt;string bubblebabble error</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 23 Oct 2007 11:57:35 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Net-DNS-SEC [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ulrich Wisser&#34; &lt;Ulrich.Wisser [...] iis.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello,

while trying some new code for the .se zone I found an error in the Net::DNS::RR::DS package.

When the string method of a Net::DNS:RR::DS object is called, and the digestbin is not given the package will enter an endless loop. Because AUTOLOAD will fail to load digestbin and will call the string method once again for the error message. 

I included a small script to reproduce the error. And I also included perl -V.

Regards,

Ulrich



use Net::DNS::RR;

$|=1;

my $ds1 = Net::DNS::RR-&gt;new&#40;
   &#39;algorithm&#39; =&gt; 3,
   &#39;class&#39; =&gt; &#39;IN&#39;,
   &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
   &#39;digtype&#39; =&gt; 5,
   &#39;keytag&#39; =&gt; 123,
   &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
   &#39;ttl&#39; =&gt; 43200,
   &#39;type&#39; =&gt; &#39;DS&#39;,
&#39;digestbin&#39; =&gt; &#39;&#39;
                           &#41;;
#error only occurs when next line is commented
#print &#39;Digest 1: &#39;.$ds1-&gt;string.&#34;\n&#34;;

my $ds2 = Net::DNS::RR-&gt;new&#40;
   &#39;algorithm&#39; =&gt; 3,
   &#39;class&#39; =&gt; &#39;IN&#39;,
   &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
   &#39;digtype&#39; =&gt; 5,
   &#39;keytag&#39; =&gt; 123,
   &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
   &#39;ttl&#39; =&gt; 43200,
   &#39;type&#39; =&gt; &#39;DS&#39;,
                        &#41;;
print &#39;Digest 2: &#39;.$ds2-&gt;string.&#34;\n&#34;;







Summary of my perl5 &#40;revision 5 version 8 subversion 7&#41; configuration:
  Platform:
    osname=linux, osvers=2.6.10, archname=i486-linux-gnu-thread-multi
    uname=&#39;linux rothera 2.6.10 #1 smp fri may 13 09:24:22 utc 2005 i686 gnulinux &#39;
    config_args=&#39;-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN -Dcccdlflags=-fPIC -Darchname=i486-linux-gnu -Dprefix=/usr -Dprivlib=/usr/share/perl/5.8 -Darchlib=/usr/lib/perl/5.8 -Dvendorprefix=/usr -Dvendorlib=/usr/share/perl5 -Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local -Dsitelib=/usr/local/share/perl/5.8.7 -Dsitearch=/usr/local/lib/perl/5.8.7 -Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1 -Dsiteman3dir=/usr/local/man/man3 -Dman1ext=1 -Dman3ext=3perl -Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Uusesfio -Uusenm -Duseshrplib -Dlibperl=libperl.so.5.8.7 -Dd_dosuid -des&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.0.3 20051204 &#40;prerelease&#41; &#40;Ubuntu 4.0.2-5ubuntu2&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt
    perllibs=-ldl -lm -lpthread -lc -lcrypt
    libc=/lib/libc-2.3.5.so, so=so, useshrplib=true, libperl=libperl.so.5.8.7
    gnulibc_version=&#39;2.3.5&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY USE_ITHREADS USE_LARGE_FILES
                        PERL_IMPLICIT_CONTEXT
  Locally applied patches:
        SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962
  Built under linux
  Compiled at Dec 16 2005 07:48:39
  %ENV:
    PERLLIB=&#34;/home/ulrich/services/SEServ/lib/&#34;
  @INC:
    /home/ulrich/services/SEServ/lib/
    /etc/perl
    /usr/local/lib/perl/5.8.7
    /usr/local/share/perl/5.8.7
    /usr/lib/perl5
    /usr/share/perl5
    /usr/lib/perl/5.8
    /usr/share/perl/5.8
    /usr/local/lib/site_perl
    .
-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBRx3Fjy9yrDO0wHQwEQIm/QCbBBO3jaKbfrbRnleK8Q4NBCX1/C8AmgKp
81NayV+OwArH6sj8b6TDnLrI
=lPTZ
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:38:37&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 23 06:04:36 2007, Ulrich.Wisser@iis.se wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt; 
&gt; Hello,
&gt; 
&gt; while trying some new code for the .se zone I found an error in the
&gt;    Net::DNS::RR::DS package.
&gt; 
&gt; When the string method of a Net::DNS:RR::DS object is called, and the
&gt;    digestbin is not given the package will enter an endless loop.
&gt;    Because AUTOLOAD will fail to load digestbin and will call the
&gt;    string method once again for the error message.
&gt; 
</div>
I can&#39;t reproduce the error with the piece of code supplied.

I am puzzled.

Because the string method uses the rdatastr method of Net::DNS::RR::DS which does not call 
the digestbin method. 



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I included a small script to reproduce the error. And I also included
&gt;    perl -V.
&gt; 
&gt; Regards,
&gt; 
&gt; Ulrich
&gt; 
&gt; 
&gt; 
&gt; use Net::DNS::RR;
&gt; 
&gt; $|=1;
&gt; 
&gt; my $ds1 = Net::DNS::RR-&gt;new&#40;
&gt;    &#39;algorithm&#39; =&gt; 3,
&gt;    &#39;class&#39; =&gt; &#39;IN&#39;,
&gt;    &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
&gt;    &#39;digtype&#39; =&gt; 5,
&gt;    &#39;keytag&#39; =&gt; 123,
&gt;    &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
&gt;    &#39;ttl&#39; =&gt; 43200,
&gt;    &#39;type&#39; =&gt; &#39;DS&#39;,
&gt; &#39;digestbin&#39; =&gt; &#39;&#39;
&gt;                            &#41;;
&gt; #error only occurs when next line is commented
&gt; #print &#39;Digest 1: &#39;.$ds1-&gt;string.&#34;\n&#34;;
&gt; 
&gt; my $ds2 = Net::DNS::RR-&gt;new&#40;
&gt;    &#39;algorithm&#39; =&gt; 3,
&gt;    &#39;class&#39; =&gt; &#39;IN&#39;,
&gt;    &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
&gt;    &#39;digtype&#39; =&gt; 5,
&gt;    &#39;keytag&#39; =&gt; 123,
&gt;    &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
&gt;    &#39;ttl&#39; =&gt; 43200,
&gt;    &#39;type&#39; =&gt; &#39;DS&#39;,
&gt;                         &#41;;
&gt; print &#39;Digest 2: &#39;.$ds2-&gt;string.&#34;\n&#34;;
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Summary of my perl5 &#40;revision 5 version 8 subversion 7&#41; configuration:
&gt;   Platform:
&gt;     osname=linux, osvers=2.6.10, archname=i486-linux-gnu-thread-multi
&gt;     uname=&#39;linux rothera 2.6.10 #1 smp fri may 13 09:24:22 utc 2005
&gt;    i686 gnulinux &#39;
&gt;     config_args=&#39;-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN
&gt;    -Dcccdlflags=-fPIC -Darchname=i486-linux-gnu -Dprefix=/usr
&gt;    -Dprivlib=/usr/share/perl/5.8 -Darchlib=/usr/lib/perl/5.8
&gt;    -Dvendorprefix=/usr -Dvendorlib=/usr/share/perl5
&gt;    -Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local
&gt;    -Dsitelib=/usr/local/share/perl/5.8.7
&gt;    -Dsitearch=/usr/local/lib/perl/5.8.7 -Dman1dir=/usr/share/man/man1
&gt;    -Dman3dir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1
&gt;    -Dsiteman3dir=/usr/local/man/man3 -Dman1ext=1 -Dman3ext=3perl
&gt;    -Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Uusesfio -Uusenm
&gt;    -Duseshrplib -Dlibperl=libperl.so.5.8.7 -Dd_dosuid -des&#39;
&gt;     hint=recommended, useposix=true, d_sigaction=define
&gt;     usethreads=define use5005threads=undef useithreads=define
&gt;    usemultiplicity=define
&gt;     useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
&gt;     use64bitint=undef use64bitall=undef uselongdouble=undef
&gt;     usemymalloc=n, bincompat5005=undef
&gt;   Compiler:
&gt;     cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
&gt;    -DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include
&gt;    -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
&gt;     optimize=&#39;-O2&#39;,
&gt;     cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN
&gt;    -fno-strict-aliasing -pipe -I/usr/local/include&#39;
&gt;     ccversion=&#39;&#39;, gccversion=&#39;4.0.3 20051204 &#40;prerelease&#41; &#40;Ubuntu
&gt;    4.0.2-5ubuntu2&#41;&#39;, gccosandvers=&#39;&#39;
&gt;     intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
&gt;     d_longlong=define, longlongsize=8, d_longdbl=define,
&gt;    longdblsize=12
&gt;     ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
&gt;    lseeksize=8
&gt;     alignbytes=4, prototype=define
&gt;   Linker and Libraries:
&gt;     ld=&#39;cc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
&gt;     libpth=/usr/local/lib /lib /usr/lib
&gt;     libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt
&gt;     perllibs=-ldl -lm -lpthread -lc -lcrypt
&gt;     libc=/lib/libc-2.3.5.so, so=so, useshrplib=true,
&gt;    libperl=libperl.so.5.8.7
&gt;     gnulibc_version=&#39;2.3.5&#39;
&gt;   Dynamic Linking:
&gt;     dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
&gt;     cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;
&gt; 
&gt; 
&gt; Characteristics of this binary &#40;from libperl&#41;:
&gt;   Compile-time options: MULTIPLICITY USE_ITHREADS USE_LARGE_FILES
&gt;                         PERL_IMPLICIT_CONTEXT
&gt;   Locally applied patches:
&gt;         SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962
&gt;   Built under linux
&gt;   Compiled at Dec 16 2005 07:48:39
&gt;   %ENV:
&gt;     PERLLIB=&#34;/home/ulrich/services/SEServ/lib/&#34;
&gt;   @INC:
&gt;     /home/ulrich/services/SEServ/lib/
&gt;     /etc/perl
&gt;     /usr/local/lib/perl/5.8.7
&gt;     /usr/local/share/perl/5.8.7
&gt;     /usr/lib/perl5
&gt;     /usr/share/perl5
&gt;     /usr/lib/perl/5.8
&gt;     /usr/share/perl/5.8
&gt;     /usr/local/lib/site_perl
&gt;     .
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: PGP 8.1
&gt; 
&gt; iQA/AwUBRx3Fjy9yrDO0wHQwEQIm/QCbBBO3jaKbfrbRnleK8Q4NBCX1/C8AmgKp
&gt; 81NayV+OwArH6sj8b6TDnLrI
&gt; =lPTZ
&gt; -----END PGP SIGNATURE-----
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:38:45&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 23 06:04:36 2007, Ulrich.Wisser@iis.se wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt; Hash: SHA1
&gt; 
&gt; Hello,
&gt; 
&gt; while trying some new code for the .se zone I found an error in the
&gt;    Net::DNS::RR::DS package.
&gt; 
&gt; When the string method of a Net::DNS:RR::DS object is called, and the
&gt;    digestbin is not given the package will enter an endless loop.
&gt;    Because AUTOLOAD will fail to load digestbin and will call the
&gt;    string method once again for the error message.
&gt; 
</div>
I can&#39;t reproduce the error with the piece of code supplied.

I am puzzled.

Because the string method uses the rdatastr method of Net::DNS::RR::DS which does not call 
the digestbin method. 



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I included a small script to reproduce the error. And I also included
&gt;    perl -V.
&gt; 
&gt; Regards,
&gt; 
&gt; Ulrich
&gt; 
&gt; 
&gt; 
&gt; use Net::DNS::RR;
&gt; 
&gt; $|=1;
&gt; 
&gt; my $ds1 = Net::DNS::RR-&gt;new&#40;
&gt;    &#39;algorithm&#39; =&gt; 3,
&gt;    &#39;class&#39; =&gt; &#39;IN&#39;,
&gt;    &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
&gt;    &#39;digtype&#39; =&gt; 5,
&gt;    &#39;keytag&#39; =&gt; 123,
&gt;    &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
&gt;    &#39;ttl&#39; =&gt; 43200,
&gt;    &#39;type&#39; =&gt; &#39;DS&#39;,
&gt; &#39;digestbin&#39; =&gt; &#39;&#39;
&gt;                            &#41;;
&gt; #error only occurs when next line is commented
&gt; #print &#39;Digest 1: &#39;.$ds1-&gt;string.&#34;\n&#34;;
&gt; 
&gt; my $ds2 = Net::DNS::RR-&gt;new&#40;
&gt;    &#39;algorithm&#39; =&gt; 3,
&gt;    &#39;class&#39; =&gt; &#39;IN&#39;,
&gt;    &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
&gt;    &#39;digtype&#39; =&gt; 5,
&gt;    &#39;keytag&#39; =&gt; 123,
&gt;    &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
&gt;    &#39;ttl&#39; =&gt; 43200,
&gt;    &#39;type&#39; =&gt; &#39;DS&#39;,
&gt;                         &#41;;
&gt; print &#39;Digest 2: &#39;.$ds2-&gt;string.&#34;\n&#34;;
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Summary of my perl5 &#40;revision 5 version 8 subversion 7&#41; configuration:
&gt;   Platform:
&gt;     osname=linux, osvers=2.6.10, archname=i486-linux-gnu-thread-multi
&gt;     uname=&#39;linux rothera 2.6.10 #1 smp fri may 13 09:24:22 utc 2005
&gt;    i686 gnulinux &#39;
&gt;     config_args=&#39;-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN
&gt;    -Dcccdlflags=-fPIC -Darchname=i486-linux-gnu -Dprefix=/usr
&gt;    -Dprivlib=/usr/share/perl/5.8 -Darchlib=/usr/lib/perl/5.8
&gt;    -Dvendorprefix=/usr -Dvendorlib=/usr/share/perl5
&gt;    -Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local
&gt;    -Dsitelib=/usr/local/share/perl/5.8.7
&gt;    -Dsitearch=/usr/local/lib/perl/5.8.7 -Dman1dir=/usr/share/man/man1
&gt;    -Dman3dir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1
&gt;    -Dsiteman3dir=/usr/local/man/man3 -Dman1ext=1 -Dman3ext=3perl
&gt;    -Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Uusesfio -Uusenm
&gt;    -Duseshrplib -Dlibperl=libperl.so.5.8.7 -Dd_dosuid -des&#39;
&gt;     hint=recommended, useposix=true, d_sigaction=define
&gt;     usethreads=define use5005threads=undef useithreads=define
&gt;    usemultiplicity=define
&gt;     useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
&gt;     use64bitint=undef use64bitall=undef uselongdouble=undef
&gt;     usemymalloc=n, bincompat5005=undef
&gt;   Compiler:
&gt;     cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
&gt;    -DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include
&gt;    -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
&gt;     optimize=&#39;-O2&#39;,
&gt;     cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN
&gt;    -fno-strict-aliasing -pipe -I/usr/local/include&#39;
&gt;     ccversion=&#39;&#39;, gccversion=&#39;4.0.3 20051204 &#40;prerelease&#41; &#40;Ubuntu
&gt;    4.0.2-5ubuntu2&#41;&#39;, gccosandvers=&#39;&#39;
&gt;     intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
&gt;     d_longlong=define, longlongsize=8, d_longdbl=define,
&gt;    longdblsize=12
&gt;     ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
&gt;    lseeksize=8
&gt;     alignbytes=4, prototype=define
&gt;   Linker and Libraries:
&gt;     ld=&#39;cc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
&gt;     libpth=/usr/local/lib /lib /usr/lib
&gt;     libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt
&gt;     perllibs=-ldl -lm -lpthread -lc -lcrypt
&gt;     libc=/lib/libc-2.3.5.so, so=so, useshrplib=true,
&gt;    libperl=libperl.so.5.8.7
&gt;     gnulibc_version=&#39;2.3.5&#39;
&gt;   Dynamic Linking:
&gt;     dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
&gt;     cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;
&gt; 
&gt; 
&gt; Characteristics of this binary &#40;from libperl&#41;:
&gt;   Compile-time options: MULTIPLICITY USE_ITHREADS USE_LARGE_FILES
&gt;                         PERL_IMPLICIT_CONTEXT
&gt;   Locally applied patches:
&gt;         SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962
&gt;   Built under linux
&gt;   Compiled at Dec 16 2005 07:48:39
&gt;   %ENV:
&gt;     PERLLIB=&#34;/home/ulrich/services/SEServ/lib/&#34;
&gt;   @INC:
&gt;     /home/ulrich/services/SEServ/lib/
&gt;     /etc/perl
&gt;     /usr/local/lib/perl/5.8.7
&gt;     /usr/local/share/perl/5.8.7
&gt;     /usr/lib/perl5
&gt;     /usr/share/perl5
&gt;     /usr/lib/perl/5.8
&gt;     /usr/share/perl/5.8
&gt;     /usr/local/lib/site_perl
&gt;     .
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: PGP 8.1
&gt; 
&gt; iQA/AwUBRx3Fjy9yrDO0wHQwEQIm/QCbBBO3jaKbfrbRnleK8Q4NBCX1/C8AmgKp
&gt; 81NayV+OwArH6sj8b6TDnLrI
&gt; =lPTZ
&gt; -----END PGP SIGNATURE-----
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:38:46&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:38:54&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;01&nbsp;11:23:37&nbsp;2007</span>
    <span class="description">Ulrich.Wisser [...] iis.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SV: [rt.cpan.org #30215] Net::DNS::RR::DS-&gt;string bubblebabble error </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 1 Nov 2007 14:10:30 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Net-DNS-SEC [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ulrich Wisser&#34; &lt;Ulrich.Wisser [...] iis.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

luckily I still can reproduce the error. So I will run some 
more tests and report my results back. 

/Ulrich
-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBRynQRi9yrDO0wHQwEQLzBACeIdgcBFS7g077cEFul4HbvYG8rPIAmwZu
4kU6nY3UY0yTmCBrZBgWTROP
=mDdd
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;12&nbsp;10:11:31&nbsp;2007</span>
    <span class="description">Ulrich.Wisser [...] iis.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #30215] Net::DNS::RR::DS-&gt;string bubblebabble error </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Nov 2007 16:08:36 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Net-DNS-SEC [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ulrich Wisser&#34; &lt;Ulrich.Wisser [...] iis.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Hello,
&gt;&gt; 
&gt;&gt; while trying some new code for the .se zone I found an error in the
&gt;&gt;    Net::DNS::RR::DS package.
&gt;&gt; 
&gt;&gt; When the string method of a Net::DNS:RR::DS object is called, and the
&gt;&gt;    digestbin is not given the package will enter an endless loop.
&gt;&gt;    Because AUTOLOAD will fail to load digestbin and will call the
&gt;&gt;    string method once again for the error message.
&gt;&gt; 
</div>&gt;
&gt;I can&#39;t reproduce the error with the piece of code supplied.
&gt;
&gt;I am puzzled.
&gt;
&gt;Because the string method uses the rdatastr method of Net::DNS::RR::DS which does not call 
&gt;the digestbin method. 
</div>
rdatastr calls babble and babble calls digestbin.

I tried on several of our servers and all show the same result. 
I verified we have Net::DNS 0.53 and Net::DNS::SEC 0.14 installed.

Here is the code again but this time it&#39;s only the error reproducing part

use Net::DNS::RR;

my $ds2 = Net::DNS::RR-&gt;new&#40;
   &#39;algorithm&#39; =&gt; 3,
   &#39;class&#39; =&gt; &#39;IN&#39;,
   &#39;digest&#39; =&gt; &#39;1234567890ABCDEF&#39;,
   &#39;digtype&#39; =&gt; 5,
   &#39;keytag&#39; =&gt; 123,
   &#39;name&#39; =&gt; &#39;test1dom1.se&#39;,
   &#39;ttl&#39; =&gt; 43200,
   &#39;type&#39; =&gt; &#39;DS&#39;,
&#41;;
print &#39;Digest 2: &#39;.$ds2-&gt;string.&#34;\n&#34;;


Please let me know if I can be of any further assistance.

/Ulrich

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.1

iQA/AwUBRzhsdC9yrDO0wHQwEQIQGgCeKwMpxBkOLcQZG7OZ7ZgJtjhK5ywAnAoB
dKC7kOm7N4OTvoACXKaX/vkA
=xhLe
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;27&nbsp;08:07:29&nbsp;2009</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Administrative: This was resolved in 0.15 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;27&nbsp;08:07:32&nbsp;2009</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
