<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28912 for B-Generate: B-Generate-0.10 Win32 5.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28912 for B-Generate: B-Generate-0.10 Win32 5.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/B-Generate/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/B-Generate/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/B-Generate/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/B-Generate/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/B-Generate">B-Generate CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28912</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1.2 hours (70 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/B-Generate/Active/">B-Generate</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RURBAN [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Ulrich.Reimuth [...] iz.bwl.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3478-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3479-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;20&nbsp;09:26:35&nbsp;2007</span>
    <span class="description">Ulrich.Reimuth [...] iz.bwl.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> B-Generate-0.10 Win32 5.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 20 Aug 2007 15:04:39 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-B-Generate [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Reimuth, Ulrich &#40;IZLBW&#41;&#34; &lt;Ulrich.Reimuth [...] iz.bwl.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;11:07:02&nbsp;2009</span>
    <span class="description">RURBAN [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;11:19:00&nbsp;2009</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> perl5-porters [...] perl.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Certain PERL_CORE functions are not exported into libperl on MSWin32
only, Activeperl and mingw. 
We need Perl_pad_alloc, Perl_cv_clone and Perl_fold_constants.

This is a core problem,
1. that those functions ARE exported, and
2. that those functions should be added to the public API

This needs to be added to core to be able to use certain critical
functions such as setting op-&gt;targ, using CV-&gt;NEW_with_start and
op-&gt;convert. 
They used to work in all previous releases before on all other platforms.

In the meantime I&#39;ll make a crippled MSWin32 version for B::Generate.
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;11:19:01&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;11:19:02&nbsp;2009</span>
    <span class="description">RURBAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;13:10:50&nbsp;2009</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> perl5-porters [...] perl.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">MSVC and mingw fixed with B-Generate-0.20, just uploaded to CPAN.

1.20 - &#40;Reini Urban&#41;
  - Remove certain features for MSWin32: disable CV-&gt;NEW_with_start,
    setting op-&gt;targ, and folding constants with op-&gt;convert.
    Reason: Perl_pad_alloc, Perl_fold_constants, Perl_cv_clone
    not exported with MSVC and mingw perls. CPAN #28912
  - fixed __svop_new for MSVC. cl is stricter
  - fixed t/inspect-this.t for MSWin32: file regex =&gt; eq test
  - t/inspect-this.t requires B::Concise 0.64
  - fix t/op_list.t for perl-5.6.2

-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;13:10:51&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;13:10:53&nbsp;2009</span>
    <span class="description">RURBAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;19:38:06&nbsp;2009</span>
    <span class="description">nick [...] ccl4.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28912] B-Generate-0.10 Win32 5.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 18 Jan 2009 23:34:51 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Reini Urban via RT &lt;bug-B-Generate [...] rt.cpan.org&gt;, perl5-porters [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nicholas Clark &lt;nick [...] ccl4.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jan 18, 2009 at 11:32:23PM +0000, Nicholas Clark wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, Jan 18, 2009 at 11:19:01AM -0500, Reini Urban via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=28912">https://rt.cpan.org/Ticket/Display.html?id=28912</a></span> &gt;
&gt; &gt; 
&gt; &gt; Certain PERL_CORE functions are not exported into libperl on MSWin32
&gt; &gt; only, Activeperl and mingw. 
&gt; &gt; We need Perl_pad_alloc, Perl_cv_clone and Perl_fold_constants.
</div>&gt; 
&gt; PERL_CORE is for the use of the Perl core C code only. Even modules in ext/ in
</div>                                                         ^Not

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; the core, let alone modules on CPAN, should be using such private APIs.
</div>
Nicholas Clark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;19:38:07&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;19:38:17&nbsp;2009</span>
    <span class="description">nick [...] ccl4.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> perl5-porters [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28912] B-Generate-0.10 Win32 5.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 18 Jan 2009 23:32:23 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Reini Urban via RT &lt;bug-B-Generate [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nicholas Clark &lt;nick [...] ccl4.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jan 18, 2009 at 11:19:01AM -0500, Reini Urban via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=28912">https://rt.cpan.org/Ticket/Display.html?id=28912</a></span> &gt;
&gt; 
&gt; Certain PERL_CORE functions are not exported into libperl on MSWin32
&gt; only, Activeperl and mingw. 
&gt; We need Perl_pad_alloc, Perl_cv_clone and Perl_fold_constants.
</div>
PERL_CORE is for the use of the Perl core C code only. Even modules in ext/ in
the core, let alone modules on CPAN, should be using such private APIs.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is a core problem,
&gt; 1. that those functions ARE exported, and
&gt; 2. that those functions should be added to the public API
</div>
None are documented, and I don&#39;t know what their specific purpose is, or their
correct usage. Are you able to provide a documentation patch for them?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This needs to be added to core to be able to use certain critical
&gt; functions such as setting op-&gt;targ, using CV-&gt;NEW_with_start and
&gt; op-&gt;convert. 
&gt; They used to work in all previous releases before on all other platforms.
</div>
And they still do, rightly or wrongly.
But they have never been part of the public API.
So any code that happens to use them has been relying on undocumented features.

I have no problem with documented, testable, stable, supportable functions
being made part of the API. Do these functions meet those criteria?

Nicholas Clark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;19&nbsp;02:25:01&nbsp;2009</span>
    <span class="description">h.m.brand [...] xs4all.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-B-Generate [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28912] B-Generate-0.10 Win32 5.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Jan 2009 08:22:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> perl5-porters [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;H.Merijn Brand&#34; &lt;h.m.brand [...] xs4all.nl&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 18 Jan 2009 11:19:01 -0500, &#34;Reini Urban via RT&#34;
&lt;bug-B-Generate@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=28912">https://rt.cpan.org/Ticket/Display.html?id=28912</a></span> &gt;
&gt; 
&gt; Certain PERL_CORE functions are not exported into libperl on MSWin32
&gt; only, Activeperl and mingw.
</div>
or AIX. see all those listed in makedef.pl

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; We need Perl_pad_alloc, Perl_cv_clone and Perl_fold_constants.
&gt; 
&gt; This is a core problem,
&gt; 1. that those functions ARE exported, and
&gt; 2. that those functions should be added to the public API
</div>
I at this moment think I care more about a guarantee that all functions
in the public defined API are indeed exported. The two problems are
very much related.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This needs to be added to core to be able to use certain critical
&gt; functions such as setting op-&gt;targ, using CV-&gt;NEW_with_start and
&gt; op-&gt;convert. 
&gt; They used to work in all previous releases before on all other platforms.
&gt; 
&gt; In the meantime I&#39;ll make a crippled MSWin32 version for B::Generate.
</div>
On Mon, 20 Oct 2008 14:16:30 +0200, &#34;H.Merijn Brand&#34;
&lt;h.m.brand@xs4all.nl&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; embed.pl generates global.sym, which contains a list of all the
&gt; functions that are documented to be in the perl API. There is currently
&gt; however no test to check if all those are actually available, and it
&gt; turns out that if you build with -Duseshrplib, many are indeed not
&gt; available. Example:
&gt; 
&gt; $ grep signbit embed.fnc
&gt; AMdnoP  |int    |Perl_signbit   |NV f
&gt; $ grep signbit global.sym
&gt; Perl_signbit
&gt; $ nm libperl.so | grep signbit
&gt; Exit 1
&gt; $
&gt; 
&gt; and Perl_signbit is not explicitly skipped in makedef.pl - that is
&gt; only used for aix win32 wince os2 MacOS netware - so I expect it to be
&gt; in libperl.{so|sl|a|dll}
&gt; 
&gt; An &#40;unportable&#41; simple test case:
&gt; --8&lt;--- globals.pl
&gt; #!/pro/bin/perl
&gt; 
&gt; qx{make global.sym};
&gt; 
&gt; my $nm;
&gt; if &#40;my @lp = glob &#34;libperl.*&#34;&#41; {
&gt;     $nm = $lp[0];
&gt;     }
&gt; else {
&gt;     $nm = &#34;perl&#34;;
&gt;     }
&gt; my %sym;
&gt; open my $nl, &#34;-|&#34;, &#34;nm $nm&#34; or die &#34;Cannot execute $nm: $!\n&#34;;
&gt; while &#40;&lt;$nl&gt;&#41; {
&gt;     m/ [DT] &#40;.*&#41;/ and $sym{$1}++;
&gt;     }
&gt; 
&gt; open my $gs, &#34;&lt;&#34;, &#34;global.sym&#34; or die &#34;global.sym: $!\n&#34;;
&gt; while &#40;&lt;$gs&gt;&#41; {
&gt;     m/^\s*#/ and next;
&gt;     chomp;
&gt;     exists $sym{$_} or print &#34;Symbol $_ not found in $nm\n&#34;;
&gt;     }
&gt; --&gt;8---
&gt; 
&gt; showed me a complete list on Linux and AIX:
&gt; 
&gt; Linux $ /pro/bin/perl global.pl
&gt; Symbol perl_alloc_using not found in libperl.so
&gt; Symbol perl_clone not found in libperl.so
&gt; Symbol perl_clone_using not found in libperl.so
&gt; Symbol Perl_my_chsize not found in libperl.so
&gt; Symbol Perl_croak_nocontext not found in libperl.so
&gt; Symbol Perl_die_nocontext not found in libperl.so
&gt; Symbol Perl_deb_nocontext not found in libperl.so
&gt; Symbol Perl_form_nocontext not found in libperl.so
&gt; Symbol Perl_load_module_nocontext not found in libperl.so
&gt; Symbol Perl_mess_nocontext not found in libperl.so
&gt; Symbol Perl_warn_nocontext not found in libperl.so
&gt; Symbol Perl_warner_nocontext not found in libperl.so
&gt; Symbol Perl_newSVpvf_nocontext not found in libperl.so
&gt; Symbol Perl_sv_catpvf_nocontext not found in libperl.so
&gt; Symbol Perl_sv_setpvf_nocontext not found in libperl.so
&gt; Symbol Perl_sv_catpvf_mg_nocontext not found in libperl.so
&gt; Symbol Perl_sv_setpvf_mg_nocontext not found in libperl.so
&gt; Symbol Perl_do_aspawn not found in libperl.so
&gt; Symbol Perl_do_spawn not found in libperl.so
&gt; Symbol Perl_do_spawn_nowait not found in libperl.so
&gt; Symbol Perl_dump_fds not found in libperl.so
&gt; Symbol Perl_my_bcopy not found in libperl.so
&gt; Symbol Perl_my_bzero not found in libperl.so
&gt; Symbol Perl_my_memcmp not found in libperl.so
&gt; Symbol Perl_my_memset not found in libperl.so
&gt; Symbol Perl_my_swap not found in libperl.so
&gt; Symbol Perl_my_htonl not found in libperl.so
&gt; Symbol Perl_my_ntohl not found in libperl.so
&gt; Symbol Perl_newPADOP not found in libperl.so
&gt; Symbol Perl_regdupe_internal not found in libperl.so
&gt; Symbol Perl_unlnk not found in libperl.so
&gt; Symbol Perl_dump_mstats not found in libperl.so
&gt; Symbol Perl_get_mstats not found in libperl.so
&gt; Symbol Perl_GetVars not found in libperl.so
&gt; Symbol Perl_init_global_struct not found in libperl.so
&gt; Symbol Perl_free_global_struct not found in libperl.so
&gt; Symbol Perl_cx_dup not found in libperl.so
&gt; Symbol Perl_si_dup not found in libperl.so
&gt; Symbol Perl_ss_dup not found in libperl.so
&gt; Symbol Perl_any_dup not found in libperl.so
&gt; Symbol Perl_he_dup not found in libperl.so
&gt; Symbol Perl_hek_dup not found in libperl.so
&gt; Symbol Perl_re_dup_guts not found in libperl.so
&gt; Symbol Perl_fp_dup not found in libperl.so
&gt; Symbol Perl_dirp_dup not found in libperl.so
&gt; Symbol Perl_gp_dup not found in libperl.so
&gt; Symbol Perl_mg_dup not found in libperl.so
&gt; Symbol Perl_sv_dup not found in libperl.so
&gt; Symbol Perl_rvpv_dup not found in libperl.so
&gt; Symbol Perl_parser_dup not found in libperl.so
&gt; Symbol Perl_sys_intern_dup not found in libperl.so
&gt; Symbol Perl_sys_intern_clear not found in libperl.so
&gt; Symbol Perl_sys_intern_init not found in libperl.so
&gt; Symbol Perl_Slab_Alloc not found in libperl.so
&gt; Symbol Perl_Slab_Free not found in libperl.so
&gt; Symbol Perl_sv_setsv_cow not found in libperl.so
&gt; Symbol Perl_stashpv_hvname_match not found in libperl.so
&gt; Symbol Perl_my_sprintf not found in libperl.so
&gt; Symbol Perl_my_cxt_init not found in libperl.so
&gt; Symbol Perl_my_cxt_index not found in libperl.so
&gt; Symbol Perl_signbit not found in libperl.so
&gt; Linux $
&gt; 
&gt; And on AIX:
&gt; 
&gt; $ /pro/bin/perl /tmp/global.pl
&gt; Symbol perl_alloc_using not found in libperl.a
&gt; Symbol perl_clone_using not found in libperl.a
&gt; Symbol Perl_my_chsize not found in libperl.a
&gt; Symbol Perl_do_aspawn not found in libperl.a
&gt; Symbol Perl_do_spawn not found in libperl.a
&gt; Symbol Perl_do_spawn_nowait not found in libperl.a
&gt; Symbol Perl_dump_fds not found in libperl.a
&gt; Symbol Perl_my_bcopy not found in libperl.a
&gt; Symbol Perl_my_bzero not found in libperl.a
&gt; Symbol Perl_my_memcmp not found in libperl.a
&gt; Symbol Perl_my_memset not found in libperl.a
&gt; Symbol Perl_my_swap not found in libperl.a
&gt; Symbol Perl_my_htonl not found in libperl.a
&gt; Symbol Perl_my_ntohl not found in libperl.a
&gt; Symbol Perl_unlnk not found in libperl.a
&gt; Symbol Perl_dump_mstats not found in libperl.a
&gt; Symbol Perl_get_mstats not found in libperl.a
&gt; Symbol Perl_GetVars not found in libperl.a
&gt; Symbol Perl_init_global_struct not found in libperl.a
&gt; Symbol Perl_free_global_struct not found in libperl.a
&gt; Symbol Perl_sys_intern_dup not found in libperl.a
&gt; Symbol Perl_sys_intern_clear not found in libperl.a
&gt; Symbol Perl_sys_intern_init not found in libperl.a
&gt; Symbol Perl_Slab_Alloc not found in libperl.a
&gt; Symbol Perl_Slab_Free not found in libperl.a
&gt; Symbol Perl_sv_setsv_cow not found in libperl.a
&gt; Symbol Perl_my_sprintf not found in libperl.a
&gt; Symbol Perl_my_cxt_index not found in libperl.a
&gt; Symbol Perl_signbit not found in libperl.a
&gt; $
&gt; 
&gt; Note that the list on AIX is actually shorter
&gt; 
&gt; BTW I&#39;m extremely interested in a way to portably do this on win32
</div>-- 
H.Merijn Brand  <span class="clickylink"><a target="new" rel="nofollow" href="http://tux.nl">http://tux.nl</a></span>      Perl Monger  <span class="clickylink"><a target="new" rel="nofollow" href="http://amsterdam.pm.org/">http://amsterdam.pm.org/</a></span>
using &#38; porting perl 5.6.2, 5.8.x, 5.10.x, 5.11.x on HP-UX 10.20, 11.00,
11.11, 11.23, and 11.31, SuSE 10.1, 10.3, and 11.0, AIX 5.2, and Cygwin.
<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.develooper.com/hpux/">http://mirrors.develooper.com/hpux/</a></span>           <span class="clickylink"><a target="new" rel="nofollow" href="http://www.test-smoke.org/">http://www.test-smoke.org/</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://qa.perl.org">http://qa.perl.org</a></span>      <span class="clickylink"><a target="new" rel="nofollow" href="http://www.goldmark.org/jeff/stupid-disclaimers/">http://www.goldmark.org/jeff/stupid-disclaimers/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;19&nbsp;16:52:25&nbsp;2011</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">All required API functions are correctly checked and used since about 1.3201
Current version 1.37
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;19&nbsp;16:52:26&nbsp;2011</span>
    <span class="description">RURBAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
