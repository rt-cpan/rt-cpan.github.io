<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28847 for dmake: dmake does not understand whitespace in paths?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28847 for dmake: dmake does not understand whitespace in paths?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=dmake">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=dmake">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=dmake">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=dmake">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/dmake">dmake CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28847</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=dmake">dmake</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
corion [...] corion.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-11640-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-11641-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Makefile<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/358355/161934/Makefile">
Tue Sep 04 05:36:49 2007 (268b) by shay [...] cpan.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/357835/161483/Makefile">
Mon Sep 03 16:22:45 2007 (27.8k) by corion [...] corion.net
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/357613/161368/Makefile">
Mon Sep 03 05:04:45 2007 (87b) by SteveHay [...] planit.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/353613/159230/Makefile">
Wed Aug 15 16:13:15 2007 (26.7k) by corion [...] corion.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=28847">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-353613" href="/Public/Bug/Display.html?id=28847#txn-353613">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;15&nbsp;16:13:15&nbsp;2007</span>
    <span class="description">corion [...] corion.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> dmake does not understand whitespace in paths?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 15 Aug 2007 22:22:51 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bugs-dmake [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Max Maischein &lt;corion [...] corion.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/353613/159229/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/159229">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello dmake maintainers,

I&#39;m currently trying to build bleadperl in a directory that contains 
whitespace. I&#39;m aware that this practice is discouraged, but the Perl 
core so far works and miniperl.exe gets built. But when building 
WIN32CORE, dmake does not want to work, while it works once I substitute 
the 8.3 directory name for the whitespace-containing directory.

I think dmake should have no problems with a quoted command containing 
whitespace, but seemingly it does - the problematic makefile is attached 
to this mail, but I&#39;ll repeat the crux here:

I&#39;m building blead perl in a directory evilly named &#34;fresh blead&#34; 
&#40;originally, I was building it under &#34;Documents and Settings&#34;&#41;.

The created Makefile contains:

ABSPERL = C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\miniperl.exe

&#40;you note the missing quotes, but that&#39;s a problem to be attacked later, 
once I get the manual fixup to work&#41;. Running this Makefile via `dmake` 
yields:

C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\ext\Win32CORE&gt;dmake
gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT 
-DPERL_IMPLICIT_SYS -fno-st
rict-aliasing -DPERL_MSVCRT_READFIX -DPERLDLL -s -O2 
-DVERSION=\&#34;0.02\&#34;    -DXS_VERSION=\&#34;0.02\
&#34;  &#34;-I..\..\lib\CORE&#34;   Win32CORE.c
C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\miniperl.exe &#34;-I..\..\lib&#34; 
&#34;-I..\..\lib&#34; -MExtUtils::C
ommand -e rm_rf ..\..\lib\auto\Win32CORE\Win32CORE.a
Der Befehl &#34;C:\Projekte\perl-5.8.8\fresh&#34; ist entweder falsch 
geschrieben oder
konnte nicht gefunden werden.
dmake:  Error code 129, while making &#39;..\..\lib\auto\Win32CORE\Win32CORE.a&#39;

- dmake did not find the command. No surprise, as the command was not 
properly quoted. So, let&#39;s do that:

ABSPERL = &#34;C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\miniperl.exe&#34;

C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\ext\Win32CORE&gt;dmake
gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DPERL_IMPLICIT_CONTEXT 
-DPERL_IMPLICIT_SYS -fno-st
rict-aliasing -DPERL_MSVCRT_READFIX -DPERLDLL -s -O2 
-DVERSION=\&#34;0.02\&#34;    -DXS_VERSION=\&#34;0.02\
&#34;  &#34;-I..\..\lib\CORE&#34;   Win32CORE.c
&#34;C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\miniperl.exe&#34; 
&#34;-I..\..\lib&#34; &#34;-I..\..\lib&#34; -MExtUtils:
:Command -e rm_rf ..\..\lib\auto\Win32CORE\Win32CORE.a
Der Befehl &#34;C:\Projekte\perl-5.8.8\fresh&#34; ist entweder falsch 
geschrieben oder
konnte nicht gefunden werden.
dmake:  Error code 129, while making &#39;..\..\lib\auto\Win32CORE\Win32CORE.a&#39;

Hmmm - so it seems to strip the quotes and forget about them. Pasting 
the same &#40;quoted&#41; command into the console window works, so it seems to 
be a problem with dmake.exe itself.

C:\Projekte\perl-5.8.8\fresh blead\perl-5.9.5\ext\Win32CORE&gt;dmake -V
dmake - Version 4.8-20070327-SHAY &#40;Windows / MS Visual C++&#41;
Copyright &#40;c&#41; 1990,...,1997 by WTI Corp.

Default Configuration:
         MAXLINELENGTH := 32766
         MAXPROCESSLIMIT := 4
         MAXPROCESS := 1
         .IMPORT .IGNORE: DMAKEROOT
         .MAKEFILES : makefile.mk makefile
         .SOURCE    : .NULL
         DMAKEROOT *= $&#40;ABSMAKECMD:d&#41;startup
         MAKESTARTUP := $&#40;DMAKEROOT&#41;\startup.mk

Please read the NEWS file for the latest release notes.

This is the latest dmake version I found...

I hope it&#39;s an easy fix so we can have dmake work even with build 
directories containing whitespace &#40;like the local temp directory below 
&#34;Documents and Settings\$profile\Temporary Files&#34;&#41;...

Thanks
-max
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/353613/159230/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">text/plain 26.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357613" href="/Public/Bug/Display.html?id=28847#txn-357613">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;03&nbsp;05:04:20&nbsp;2007</span>
    <span class="description">SteveHay [...] planit.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SteveHay [...] planit.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/357613/161365/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161365">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Max,

Sorry for the slow reply, but I didn&#39;t receive any notification of this
ticket from rt.cpan.org. I think the system is having some difficulties
with my having changed email address from steve.hay@uk.radan.com to
SteveHay@planit.com.


On Wed Aug 15 16:13:15 2007, corion@corion.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello dmake maintainers,
&gt; 
&gt; I&#39;m currently trying to build bleadperl in a directory that contains 
&gt; whitespace. I&#39;m aware that this practice is discouraged, but the Perl 
&gt; core so far works and miniperl.exe gets built. But when building 
&gt; WIN32CORE, dmake does not want to work, while it works once I substitute 
&gt; the 8.3 directory name for the whitespace-containing directory.
&gt; 
&gt; I think dmake should have no problems with a quoted command containing 
&gt; whitespace, but seemingly it does - the problematic makefile is attached 
&gt; to this mail, but I&#39;ll repeat the crux here:
</div>
I haven&#39;t had a close look at your attached makefile yet, except that I
couldn&#39;t see any mention of &#34;fresh blead&#34; anywhere in it. Did you
definitely attached the correct file?

I did quickly try out using dmake &#40;and nmake&#41; to run a command in a
directory with spaces and I didn&#39;t find any problems. With the attached
makefile, if I simply run &#34;dmake&#34; then I get the output:

&#34;C:\Temp\directory with spaces\hello.exe&#34;
Hello, world.

&#40;where &#34;C:\Temp\directory with spaces\hello.exe&#34; is a compiled C program
that outputs &#34;Hello, world.\n&#34;&#41;. I get the same result when running
&#34;nmake&#34; &#40;from VC6&#41;. So you can see that the quotes are still present in
the value of the macro that gets echoed, and the command runs successfully.

If I remove the double-quotes from the value of the HELLO macro in that
makefile then &#34;dmake&#34; now outputs:

C:\Temp\directory with spaces\hello.exe
dmake:  Error: -- C:\Temp\directory: Invalid argument

Here, you can see that the macro value no longer contains the quotes and
the command doesn&#39;t run any more.

So I can&#39;t help wondering if your problem actually lies elsewhere. I&#39;ll
try to take a closer look later.

Steve
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357613/161368/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">application/octet-stream 87b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357614" href="/Public/Bug/Display.html?id=28847#txn-357614">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;03&nbsp;05:05:50&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357835" href="/Public/Bug/Display.html?id=28847#txn-357835">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;03&nbsp;16:22:44&nbsp;2007</span>
    <span class="description">corion [...] corion.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28847] dmake does not understand whitespace in paths?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 03 Sep 2007 22:20:14 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-dmake [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Max Maischein &lt;corion [...] corion.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/357835/161482/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161482">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Steve,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry for the slow reply, but I didn&#39;t receive any notification of this
&gt; ticket from rt.cpan.org. I think the system is having some difficulties
&gt; with my having changed email address from steve.hay@uk.radan.com to
&gt; SteveHay@planit.com.
</div>No worries - it didn&#39;t fall through the cracks ;&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I haven&#39;t had a close look at your attached makefile yet, except that I
&gt; couldn&#39;t see any mention of &#34;fresh blead&#34; anywhere in it. Did you
&gt; definitely attached the correct file?
</div>I suspect I attached the main Perl win32\Makefile.mk and not the 
troublesome one, ext\Win32CORE\Makefile.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I did quickly try out using dmake &#40;and nmake&#41; to run a command in a
&gt; directory with spaces and I didn&#39;t find any problems. With the attached
&gt; makefile, if I simply run &#34;dmake&#34; then I get the output:
&gt; 
&gt; &#34;C:\Temp\directory with spaces\hello.exe&#34;
&gt; Hello, world.
</div>That sounds promising. But I can&#39;t replicate your findings locally, 
unfortunately &#40;see below for the &#40;German&#41; session&#41;. This exhibits the 
same problem as the Perl stuff for me. Quoting things in two places does 
not work, neither does quoting in one place...

This is on Windows 2000, with cmd.exe as the shell, on an NTFS volume, 
run as Administrator, so I don&#39;t think the setup is too esoteric...

-max

C:\Projekte\Directory With Whitespace&gt;dir
  DatentrÃ¤ger in Laufwerk C: hat keine Bezeichnung.
  DatentrÃ¤gernummer: 6C76-F753

  Verzeichnis von C:\Projekte\Directory With Whitespace

03.09.2007  22:11       &lt;DIR&gt;          .
03.09.2007  22:11       &lt;DIR&gt;          ..
03.09.2007  22:11                   87 Makefile
                1 Datei&#40;en&#41;             87 Bytes
                2 Verzeichnis&#40;se&#41;,   9.291.988.992 Bytes frei

C:\Projekte\Directory With Whitespace&gt;type Makefile
HELLO=&#34;C:\Temp\directory with spaces\hello.exe&#34;

all :
         @echo $&#40;HELLO&#41;
         @$&#40;HELLO&#41;

C:\Projekte\Directory With Whitespace&gt;dmake
&#34;C:\Temp\directory with spaces\hello.exe&#34;
Der Befehl &#34;C:\Temp\directory&#34; ist entweder falsch geschrieben oder
konnte nicht gefunden werden.
dmake:  Error code 129, while making &#39;all&#39;

C:\Projekte\Directory With Whitespace&gt;dmake -V
dmake - Version 4.8-20070327-SHAY &#40;Windows / MS Visual C++&#41;
Copyright &#40;c&#41; 1990,...,1997 by WTI Corp.

Default Configuration:
         MAXLINELENGTH := 32766
         MAXPROCESSLIMIT := 4
         MAXPROCESS := 1
         .IMPORT .IGNORE: DMAKEROOT
         .MAKEFILES : makefile.mk makefile
         .SOURCE    : .NULL
         DMAKEROOT *= $&#40;ABSMAKECMD:d&#41;startup
         MAKESTARTUP := $&#40;DMAKEROOT&#41;\startup.mk

Please read the NEWS file for the latest release notes.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357835/161483/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">text/plain 27.8k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358355" href="/Public/Bug/Display.html?id=28847#txn-358355">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;05:36:48&nbsp;2007</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/358355/161931/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161931">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Sep 03 16:22:44 2007, corion@corion.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I haven&#39;t had a close look at your attached makefile yet, except that I
&gt; &gt; couldn&#39;t see any mention of &#34;fresh blead&#34; anywhere in it. Did you
&gt; &gt; definitely attached the correct file?
</div>&gt; I suspect I attached the main Perl win32\Makefile.mk and not the 
&gt; troublesome one, ext\Win32CORE\Makefile.
</div>
OK, I&#39;ve got your new attachment now, and I&#39;ve also tried building blead
myself in &#34;C:\Temp\fresh blead\perl-5.9.5&#34;. You&#39;ll be glad to hear that
I get the same problem, and quoting the value of ABSPERL doesn&#39;t fix it
for me either.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; I did quickly try out using dmake &#40;and nmake&#41; to run a command in a
&gt; &gt; directory with spaces and I didn&#39;t find any problems. With the attached
&gt; &gt; makefile, if I simply run &#34;dmake&#34; then I get the output:
&gt; &gt; 
&gt; &gt; &#34;C:\Temp\directory with spaces\hello.exe&#34;
&gt; &gt; Hello, world.
</div>&gt; That sounds promising. But I can&#39;t replicate your findings locally, 
</div>
Very strange. I, in turn, can&#39;t replicate your findings on my English
&#40;UK&#41; setup! I&#39;m running Windows XP SP2 / cmd.exe / NTFS /
dmake-4.8-20070327-SHAY, which is very similar to your own setup.

I&#39;m going to ignore that for now and concentrate on the main problem. &#40;I
might come back to the other problem later, but it&#39;s not so important.&#41;
It seems that dmake is happy to run a command given by a MACRO with a
double-quoted value, but not if that command has a double-quoted
argument! Thus, the attached makefile produces the following output for me:

&#34;C:\Temp\directory with spaces\hello.exe&#34;
Hello, world.
&#34;C:\Temp\directory with spaces\hello.exe&#34; arg
Hello, world.
&#34;C:\Temp\directory with spaces\hello.exe&#34; &#34;arg&#34;
&#39;C:\Temp\directory&#39; is not recognized as an internal or external command,
operable program or batch file.
dmake:  Error code 129, while making &#39;all&#39;

I&#39;m going to report this bug to the real dmake maintainers, i.e. those
that work on the source code: I simply build binaries and put them up on
CPAN periodically.

I&#39;ll keep you posted with progress.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358355/161934/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">application/octet-stream 268b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358362" href="/Public/Bug/Display.html?id=28847#txn-358362">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;06:30:51&nbsp;2007</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/358362/161937/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161937">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 114b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve now raised a new OpenOffice.org &#34;issue&#34; for this bug:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.openoffice.org/issues/show_bug.cgi?id=81252">http://www.openoffice.org/issues/show_bug.cgi?id=81252</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-387552" href="/Public/Bug/Display.html?id=28847#txn-387552">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;27&nbsp;04:30:50&nbsp;2007</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHAY [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/387552/177934/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/177934">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 993b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 04 06:30:51 2007, SHAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve now raised a new OpenOffice.org &#34;issue&#34; for this bug:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.openoffice.org/issues/show_bug.cgi?id=81252">http://www.openoffice.org/issues/show_bug.cgi?id=81252</a></span>
</div>
This dmake bug has now been fixed in dmake-4.11, which I&#39;ve released a
binary build of on CPAN as dmake-4.11-SHAY.

I can now build bleadperl in a directory with spaces in the path if I
manually hack the Makefile generated for each extension to double-quote
the ABSPERL macro&#39;s value.

Please confirm that this works for you and I&#39;ll close down this bug report.

Then we can set about fixing ExtUtils-MakeMaker to write out Makefiles
with ABSPERL double-quoted...

&#40;Note that dmake-4.11 produces numerous warnings about targets being
made but their timestamps not getting updated, and files corresponding
to virtual targets existing. I&#39;ll look closer at these sometime and
decide whether perl&#39;s Makefiles need further improvement or whether
dmake is being over-zealous and should perhaps only emit those warnings
in verbose mode.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-387598" href="/Public/Bug/Display.html?id=28847#txn-387598">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;27&nbsp;08:13:38&nbsp;2007</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHAY [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/387598/177950/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/177950">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 692b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 27 04:30:50 2007, SHAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;Note that dmake-4.11 produces numerous warnings about targets being
&gt; made but their timestamps not getting updated, and files corresponding
&gt; to virtual targets existing. I&#39;ll look closer at these sometime and
&gt; decide whether perl&#39;s Makefiles need further improvement or whether
&gt; dmake is being over-zealous and should perhaps only emit those warnings
&gt; in verbose mode.&#41;
</div>
I think dmake-4.11 was being over-zealous. All but two of the warnings
are now gone from dmake-4.12-cvs, so this should be resolved too in the
next release.

See the thread here for more detail:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-11/msg00929.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2007-11/msg00929.html</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-406251" href="/Public/Bug/Display.html?id=28847#txn-406251">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;07&nbsp;12:18:43&nbsp;2008</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/406251/198001/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/198001">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 113b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Now resolved in dmake-4.11-20080107-SHAY, which also removes the
spurious warnings that dmake-4.11 was producing.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-406254" href="/Public/Bug/Display.html?id=28847#txn-406254">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;07&nbsp;12:18:47&nbsp;2008</span>
    <span class="description">shay [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.779552</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
