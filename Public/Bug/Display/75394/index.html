<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75394 for DBIx-Class-Migration: weird debugging output &#40;SV = IV&#40;0x102458e38&#41; at 0x102458e48&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75394 for DBIx-Class-Migration: weird debugging output &#40;SV = IV&#40;0x102458e38&#41; at 0x102458e48&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBIx-Class-Migration">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBIx-Class-Migration">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBIx-Class-Migration">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBIx-Class-Migration">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/jjn1056/DBIx-Class-Migration/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBIx-Class-Migration">DBIx-Class-Migration CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75394</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBIx-Class-Migration">DBIx-Class-Migration</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
felliott [...] virginia.edu

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Unimportant    </td>
  </tr>
  <tr id="CF-242612-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242613-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=75394">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044007" href="/Public/Bug/Display.html?id=75394#txn-1044007">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;20:24:19&nbsp;2012</span>
    <span class="description">felliott [...] virginia.edu -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> weird debugging output &#40;SV = IV&#40;0x102458e38&#41; at 0x102458e48&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044007/545368/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545368">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I think I&#39;ve tracked down the source of the weird debugging output
mentioned in the FAQ.  The problem is that a schema with a live database
handle is being serialized into 001-auto.yml and 001-auto__VERSION.yml.
 When SQLT::Parser::YAML runs Load&#40;&#41; on this file, it seems to be
creating a phantom DBI object that produces the output when it gets
destroyed.  I was able to test this by adding the following at the end
of DBICDH::DeployMethod::SQL::Translator::prepare_protoschema&#40;&#41;

  use Test::More;
  diag &#34;Ctrl-Z now! file is: $filename&#34;;
  sleep 10;

I then ran the DBIC::Migration tests, Ctrl-Z&#39;d it when I got the
message, and manually deleted the translator.parser_args.package.storage
key from the file.  When I did this the weird output never showed up.

As for the fix.... um, I dunno. DBICDH avoids this in its tests by never
calling prepare_protoschema&#40;&#41; with a connected schema. I see four
possibilities:

 1. DBIC::Migration::prepare should not connect the schema before
calling prepare_install&#40;&#41;

 2. DBICDH should warn or clone a schema before handing it off to SQLT::DBIC

 3. SQLT::Parser::DBIC shouldn&#39;t serialize a live DBIC::Schema::Storage
object

 4. I am an insane person and way off base.

I lean towards &#40;3&#41; since I can&#39;t imagine what use a serialized DBI
connection would be, but I don&#39;t know any of these modules well enough
to say.  I&#39;m submitting it to your bug queue, b/c I figured you would
know better.  I&#39;d be happy to resubmit it somewhere else if that would
be appropriate.

Thank you for your code and have a great day!


Cheers,
Fitz
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044091" href="/Public/Bug/Display.html?id=75394#txn-1044091">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;22:21:56&nbsp;2012</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044091/545432/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545432">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Wow,

Your the ace!  What&#39;s your choice of brew, I&#39;ll tote a six pack to the next YAPC we both attend.

I do think you are onto something here.  I am going to share your suspicious with the DBIC 
cabal and see if we can end this madness once and for all.  I&#39;ll give you a shout out if we find 
something.

John

On Tue Feb 28 20:24:19 2012, felliott wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; I think I&#39;ve tracked down the source of the weird debugging output
&gt; mentioned in the FAQ.  The problem is that a schema with a live database
&gt; handle is being serialized into 001-auto.yml and 001-auto__VERSION.yml.
&gt;  When SQLT::Parser::YAML runs Load&#40;&#41; on this file, it seems to be
&gt; creating a phantom DBI object that produces the output when it gets
&gt; destroyed.  I was able to test this by adding the following at the end
&gt; of DBICDH::DeployMethod::SQL::Translator::prepare_protoschema&#40;&#41;
&gt; 
&gt;   use Test::More;
&gt;   diag &#34;Ctrl-Z now! file is: $filename&#34;;
&gt;   sleep 10;
&gt; 
&gt; I then ran the DBIC::Migration tests, Ctrl-Z&#39;d it when I got the
&gt; message, and manually deleted the translator.parser_args.package.storage
&gt; key from the file.  When I did this the weird output never showed up.
&gt; 
&gt; As for the fix.... um, I dunno. DBICDH avoids this in its tests by never
&gt; calling prepare_protoschema&#40;&#41; with a connected schema. I see four
&gt; possibilities:
&gt; 
&gt;  1. DBIC::Migration::prepare should not connect the schema before
&gt; calling prepare_install&#40;&#41;
&gt; 
&gt;  2. DBICDH should warn or clone a schema before handing it off to SQLT::DBIC
&gt; 
&gt;  3. SQLT::Parser::DBIC shouldn&#39;t serialize a live DBIC::Schema::Storage
&gt; object
&gt; 
&gt;  4. I am an insane person and way off base.
&gt; 
&gt; I lean towards &#40;3&#41; since I can&#39;t imagine what use a serialized DBI
&gt; connection would be, but I don&#39;t know any of these modules well enough
&gt; to say.  I&#39;m submitting it to your bug queue, b/c I figured you would
&gt; know better.  I&#39;d be happy to resubmit it somewhere else if that would
&gt; be appropriate.
&gt; 
&gt; Thank you for your code and have a great day!
&gt; 
&gt; 
&gt; Cheers,
&gt; Fitz
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044093" href="/Public/Bug/Display.html?id=75394#txn-1044093">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;22:21:57&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044476" href="/Public/Bug/Display.html?id=75394#txn-1044476">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;29&nbsp;11:31:12&nbsp;2012</span>
    <span class="description">felliott [...] virginia.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75394] weird debugging output &#40;SV = IV&#40;0x102458e38&#41; at 0x102458e48&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 29 Feb 2012 11:31:00 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBIx-Class-Migration [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Fitz Elliott &lt;felliott [...] virginia.edu&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044476/545621/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545621">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 593b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75394">https://rt.cpan.org/Ticket/Display.html?id=75394</a></span> &gt;
&gt; 
&gt; Wow,
&gt; 
&gt; Your the ace!  What&#39;s your choice of brew, I&#39;ll tote a six pack to the next YAPC we both attend.
&gt; 
&gt; I do think you are onto something here.  I am going to share your suspicious with the DBIC 
&gt; cabal and see if we can end this madness once and for all.  I&#39;ll give you a shout out if we find 
&gt; something.
</div>
Thank you!  I don&#39;t think I&#39;ll be making it YAPC any time soon, but feel free to hook up yourself and the cabal for all your great work on DBIC.  It and the ecosystem around it are truly amazing.

Cheers,
Fitz
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1181918" href="/Public/Bug/Display.html?id=75394#txn-1181918">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;16&nbsp;13:01:55&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> joel.a.berger [...] gmail.com, frioux [...] gmail.com, jjnapiork [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1181918/623534/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/623534">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 28 20:24:19 2012, felliott wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; I think I&#39;ve tracked down the source of the weird debugging output
&gt; mentioned in the FAQ.  The problem is that a schema with a live database
&gt; handle is being serialized into 001-auto.yml and 001-auto__VERSION.yml.
&gt;  When SQLT::Parser::YAML runs Load&#40;&#41; on this file, it seems to be
&gt; creating a phantom DBI object that produces the output when it gets
&gt; destroyed.  I was able to test this by adding the following at the end
&gt; of DBICDH::DeployMethod::SQL::Translator::prepare_protoschema&#40;&#41;
&gt; 
&gt;   use Test::More;
&gt;   diag &#34;Ctrl-Z now! file is: $filename&#34;;
&gt;   sleep 10;
&gt; 
&gt; I then ran the DBIC::Migration tests, Ctrl-Z&#39;d it when I got the
&gt; message, and manually deleted the translator.parser_args.package.storage
&gt; key from the file.  When I did this the weird output never showed up.
&gt; 
&gt; As for the fix.... um, I dunno. DBICDH avoids this in its tests by never
&gt; calling prepare_protoschema&#40;&#41; with a connected schema. I see four
&gt; possibilities:
&gt; 
&gt;  1. DBIC::Migration::prepare should not connect the schema before
&gt; calling prepare_install&#40;&#41;
&gt; 
&gt;  2. DBICDH should warn or clone a schema before handing it off to
</div>SQLT::DBIC
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt;  3. SQLT::Parser::DBIC shouldn&#39;t serialize a live DBIC::Schema::Storage
&gt; object
&gt; 
&gt;  4. I am an insane person and way off base.
&gt; 
&gt; I lean towards &#40;3&#41; since I can&#39;t imagine what use a serialized DBI
&gt; connection would be, but I don&#39;t know any of these modules well enough
&gt; to say.  I&#39;m submitting it to your bug queue, b/c I figured you would
&gt; know better.  I&#39;d be happy to resubmit it somewhere else if that would
&gt; be appropriate.
</div>
Your analysis and hunch were spot-on. 3&#41; is indeed the proper place to
fix it &#40;not because it is conceptually correct, but because it is the
least disruptive way&#41;. I submitted the fix for cabal review [1]. When a
new version of DBIC ships including this fix, all of this crap will go
away. Full description of the issue can be found here [2]

Cheers

[1]
<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.scsys.co.uk/pipermail/dbix-class-devel/2013-February/000284.html">http://lists.scsys.co.uk/pipermail/dbix-class-devel/2013-February/000284.html</a></span>
[2] <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/dbsrgits/dbix-class/commit/b3f891879">https://github.com/dbsrgits/dbix-class/commit/b3f891879</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1181944" href="/Public/Bug/Display.html?id=75394#txn-1181944">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;16&nbsp;13:41:49&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1183486" href="/Public/Bug/Display.html?id=75394#txn-1183486">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;20&nbsp;12:59:58&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1183486/624404/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/624404">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 89b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bumping the dep on DBIC::DH to 0.002205 should solve the problem in this
ticket entirely.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1810456" href="/Public/Bug/Display.html?id=75394#txn-1810456">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;18&nbsp;23:02:40&nbsp;2018</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1810456/974392/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/974392">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 249b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 20 12:59:58 2013, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Bumping the dep on DBIC::DH to 0.002205 should solve the problem in this
&gt; ticket entirely.
</div>
Since the dep is now at 0.002221, I am closing this ticket. Any problems, please open a new issue on GitHub.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1810459" href="/Public/Bug/Display.html?id=75394#txn-1810459">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;18&nbsp;23:02:41&nbsp;2018</span>
    <span class="description">ETJ [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.434269</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
