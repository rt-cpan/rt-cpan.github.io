<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #34047 for Data-Serializer: retrieve broken with XML::Dumper</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #34047 for Data-Serializer: retrieve broken with XML::Dumper</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Data-Serializer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Data-Serializer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Data-Serializer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Data-Serializer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Data-Serializer">Data-Serializer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">34047</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Data-Serializer/Active/">Data-Serializer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
charles.gowing [...] novainfo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9312-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9313-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;10:45:56&nbsp;2008</span>
    <span class="description">charles.gowing [...] novainfo.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> retrieve broken with XML::Dumper</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Mar 2008 10:44:47 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-Data-Serializer [...] rt.cpan.org&#39;&#34; &lt;bug-Data-Serializer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Gowing, Charles&#34; &lt;charles.gowing [...] novainfo.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This may be related to bug #23901.  First the basic info:
Module version info
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; i Data::Serializer
</div>CPAN: Storable loaded ok &#40;v2.15&#41;
Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
  Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
Strange distribution name [Data::Serializer]
Module id = Data::Serializer
    DESCRIPTION  Generic interface to serializer modules
    CPAN_USERID  NEELY &#40;Neil A. Neely &lt;neil@neely.cx&gt;&#41;
    CPAN_VERSION 0.43
    CPAN_FILE    N/NE/NEELY/Data-Serializer-0.43.tar.gz
    UPLOAD_DATE  2007-12-20
    DSLIP_STATUS RdpOp &#40;released,developer,perl,object-oriented,Standard-Perl&#41;
    MANPAGE      Data::Serializer:: - Modules that serialize data structures
    INST_FILE    C:\strawberry-perl\perl\site\lib\Data\Serializer.pm
    INST_VERSION 0.43



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; i XML::Dumper
</div>Strange distribution name [XML::Dumper]
Module id = XML::Dumper
    DESCRIPTION  Converts XML from/to Perl code
    CPAN_USERID  MIKEWONG &#40;Mike Wong &lt;mike_w3@pacbell.net&gt;&#41;
    CPAN_VERSION 0.81
    CPAN_FILE    M/MI/MIKEWONG/XML-Dumper-0.81.tar.gz
    UPLOAD_DATE  2006-04-05
    DSLIP_STATUS ampO? &#40;alpha,mailing-list,perl,object-oriented,&#41;
    MANPAGE      XML::Dumper - Perl module for dumping Perl objects from/to XML
    INST_FILE    C:\strawberry-perl\perl\site\lib\XML\Dumper.pm
    INST_VERSION 0.81



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; i XML::Parser
</div>CPAN: Storable loaded ok &#40;v2.15&#41;
Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
  Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
Strange distribution name [XML::Parser]
Module id = XML::Parser
    DESCRIPTION  Flexible fast parser with plug-in styles
    CPAN_USERID  COOPERCL &#40;Clark Cooper &lt;clark@coopercc.net&gt;&#41;
    CPAN_VERSION 2.36
    CPAN_FILE    M/MS/MSERGEANT/XML-Parser-2.36.tar.gz
    UPLOAD_DATE  2007-11-20
    DSLIP_STATUS bmcO? &#40;beta,mailing-list,C,object-oriented,&#41;
    MANPAGE      XML::Parser - A perl module for parsing XML documents
    INST_FILE    C:\strawberry-perl\perl\site\lib\XML\Parser.pm
    INST_VERSION 2.36

Perl version info
I&#39;m usign Strawberry Perl:
C:\chas_sandbox\grammars&gt;perl -v

This is perl, v5.8.8 built for MSWin32-x86-multi-thread

Copyright 1987-2006, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.

I have expat installed from expat-win32bin-2.0.1.exe &#40;no small feat in itself - check out <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-and-you/&#41;">http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-and-you/&#41;</a></span>

OS Vendor and Version
I&#39;m on Windows XP:
C:\strawberry-perl\expat\Bin&gt;ver

Microsoft Windows XP [Version 5.1.2600]

Now for the bug
I&#39;m trying to use store/retrieve with the XML::Dumper serializer and get:
no element found at line 1, column 10, byte 10 at C:/strawberry-perl/perl/site/l
ib/XML/Parser.pm line 187

I&#39;m using this fairly straightforward harness to test it:
#/usr/bin/perl -Wl

use strict;
use warnings;
use Data::Dumper;
use Data::Serializer;

my $datatostore = [&#39;samplecomplexdata&#39;,
                    [&#39;list&#39;,&#39;of&#39;,&#39;strings&#39;],
                    {hash=&gt;&#39;of&#39;,more=&gt;&#39;data&#39;}
];
my $datafromretrieve;
my $Dserializer = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt; &#39;Data::Dumper&#39;&#41;;
my $outfile = &#39;data.out&#39;;

print Dumper&#40;$datatostore&#41;;
$Dserializer-&gt;store&#40;
    $datatostore,
    $outfile,
    &#39;&gt;&gt;&#39;
&#41;;
$datafromretrieve = $Dserializer-&gt;retrieve&#40;
    $outfile
&#41;;
print Dumper&#40;$datafromretrieve&#41;;


#######################################
#now as xml
my $Xserializer = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt; &#39;XML::Dumper&#39;&#41;;
$outfile = &#39;data.xml&#39;;

print Dumper&#40;$datatostore&#41;;
$Xserializer-&gt;store&#40;
    $datatostore,
    $outfile,
    &#39;&gt;&gt;&#39;
&#41;;
$datafromretrieve = $Xserializer-&gt;retrieve&#40;
    $outfile
&#41;;
print Dumper&#40;$datafromretrieve&#41;;

and getting the following output:
C:\chas_sandbox\grammars&gt;retrievedemo.pl
$VAR1 = [
          &#39;samplecomplexdata&#39;,
          [
            &#39;list&#39;,
            &#39;of&#39;,
            &#39;strings&#39;
          ],
          {
            &#39;hash&#39; =&gt; &#39;of&#39;,
            &#39;more&#39; =&gt; &#39;data&#39;
          }
        ];
$VAR1 = [
          &#39;samplecomplexdata&#39;,
          [
            &#39;list&#39;,
            &#39;of&#39;,
            &#39;strings&#39;
          ],
          {
            &#39;hash&#39; =&gt; &#39;of&#39;,
            &#39;more&#39; =&gt; &#39;data&#39;
          }
        ];
$VAR1 = [
          &#39;samplecomplexdata&#39;,
          [
            &#39;list&#39;,
            &#39;of&#39;,
            &#39;strings&#39;
          ],
          {
            &#39;hash&#39; =&gt; &#39;of&#39;,
            &#39;more&#39; =&gt; &#39;data&#39;
          }
        ];

no element found at line 1, column 10, byte 10 at C:/strawberry-perl/perl/site/l
ib/XML/Parser.pm line 187

C:\chas_sandbox\grammars&gt;




-----------------------------------------
Note:  The information contained in this email and in any
attachments is intended only for the person or entity to which it
is addressed and may contain confidential and/or privileged
material.  Any review, retransmission, dissemination or other use
of, or taking of any action in reliance upon, this information by
persons or entities other than the intended recipient is
prohibited.  The recipient should check this email and any
attachments for the presence of viruses.  Sender accepts no
liability for any damages caused by any virus transmitted by this
email. If you have received this email in error, please notify us
immediately by replying to the message and delete the email from
your computer.  This e-mail is and any response to it will be
unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
Information Systems, Inc.
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;11:24:52&nbsp;2008</span>
    <span class="description">neil [...] neely.cx -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> neil [...] neely.cx</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Looks like the bug is in the interaction of store/retrieve and setting portable = 0.  The 
current store/retrieve code is naive in that it only reads in the first line from the file - when 
portable is set to 0 and a structure is serialized its output can contain many more lines.  This 
will definitely cause retrieve to fail.  

A work around is to leave portable enabled for now.

I also note you were trying to append multiple structures &#40;via &#39;&gt;&gt;&#39;&#41; to the same file.  With the 
current implementation of retrieve that is only ever going to try to read in the first line and 
probably not do what you wish it to.

What is your purpose for setting portable to 0 for this?  I&#39;d like to understand what you are 
trying to do with this before I making any changes.

Thanks,
Neil


On Thu Mar 13 10:45:56 2008, charles.gowing@novainfo.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This may be related to bug #23901.  First the basic info:
&gt; Module
&gt; version info
<div class="message-stanza open">&gt; cpan&gt; i Data::Serializer
</div>&gt; CPAN: Storable loaded ok
&gt; &#40;v2.15&#41;
&gt; Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
&gt; Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
&gt; Strange
&gt; distribution name [Data::Serializer]
&gt; Module id = Data::Serializer
&gt; DESCRIPTION  Generic interface to serializer modules
&gt;     CPAN_USERID
&gt; NEELY &#40;Neil A. Neely &lt;neil@neely.cx&gt;&#41;
&gt;     CPAN_VERSION 0.43
&gt; CPAN_FILE    N/NE/NEELY/Data-Serializer-0.43.tar.gz
&gt;     UPLOAD_DATE
&gt; 2007-12-20
&gt;     DSLIP_STATUS RdpOp &#40;released,developer,perl,object-
&gt; oriented,Standard-Perl&#41;
&gt;     MANPAGE      Data::Serializer:: - Modules
&gt; that serialize data structures
&gt;     INST_FILE    C:\strawberry-
&gt; perl\perl\site\lib\Data\Serializer.pm
&gt;     INST_VERSION 0.43
<div class="message-stanza open">&gt; cpan&gt; i XML::Dumper
</div>&gt; Strange distribution name [XML::Dumper]
&gt; Module
&gt; id = XML::Dumper
&gt;     DESCRIPTION  Converts XML from/to Perl code
&gt; CPAN_USERID  MIKEWONG &#40;Mike Wong &lt;mike_w3@pacbell.net&gt;&#41;
&gt; CPAN_VERSION 0.81
&gt;     CPAN_FILE    M/MI/MIKEWONG/XML-Dumper-
&gt; 0.81.tar.gz
&gt;     UPLOAD_DATE  2006-04-05
&gt;     DSLIP_STATUS ampO?
&gt; &#40;alpha,mailing-list,perl,object-oriented,&#41;
&gt;     MANPAGE
&gt; XML::Dumper - Perl module for dumping Perl objects from/to XML
&gt; INST_FILE    C:\strawberry-perl\perl\site\lib\XML\Dumper.pm
&gt; INST_VERSION 0.81
&gt; 
&gt; 
&gt; 
<div class="message-stanza open">&gt; cpan&gt; i XML::Parser
</div>&gt; CPAN: Storable loaded ok
&gt; &#40;v2.15&#41;
&gt; Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
&gt; Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
&gt; Strange
&gt; distribution name [XML::Parser]
&gt; Module id = XML::Parser
&gt; DESCRIPTION  Flexible fast parser with plug-in styles
&gt;     CPAN_USERID
&gt; COOPERCL &#40;Clark Cooper &lt;clark@coopercc.net&gt;&#41;
&gt;     CPAN_VERSION 2.36
&gt; CPAN_FILE    M/MS/MSERGEANT/XML-Parser-2.36.tar.gz
&gt;     UPLOAD_DATE
&gt; 2007-11-20
&gt;     DSLIP_STATUS bmcO? &#40;beta,mailing-list,C,object-
&gt; oriented,&#41;
&gt;     MANPAGE      XML::Parser - A perl module for parsing
&gt; XML documents
&gt;     INST_FILE    C:\strawberry-
&gt; perl\perl\site\lib\XML\Parser.pm
&gt;     INST_VERSION 2.36
&gt; 
&gt; Perl
&gt; version info
&gt; I&#39;m usign Strawberry Perl:
&gt; C:\chas_sandbox\grammars&gt;perl -v
&gt; 
&gt; This is perl, v5.8.8 built for
&gt; MSWin32-x86-multi-thread
&gt; 
&gt; Copyright 1987-2006, Larry Wall
&gt; 
&gt; Perl
&gt; may be copied only under the terms of either the Artistic License or
&gt; the
&gt; GNU General Public License, which may be found in the Perl 5
&gt; source kit.
&gt; 
&gt; Complete documentation for Perl, including FAQ lists,
&gt; should be found on
&gt; this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.
&gt; If you have access to the
&gt; Internet, point your browser at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
&gt; 
&gt; I have expat installed
&gt; from expat-win32bin-2.0.1.exe &#40;no small feat in itself - check out
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-">http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-</a></span>
&gt; and-you/&#41;
&gt; 
&gt; OS Vendor and Version
&gt; I&#39;m on Windows XP:
&gt; C:\strawberry-
&gt; perl\expat\Bin&gt;ver
&gt; 
&gt; Microsoft Windows XP [Version 5.1.2600]
&gt; 
&gt; Now
&gt; for the bug
&gt; I&#39;m trying to use store/retrieve with the XML::Dumper
&gt; serializer and get:
&gt; no element found at line 1, column 10, byte 10 at
&gt; C:/strawberry-perl/perl/site/l
&gt; ib/XML/Parser.pm line 187
&gt; 
&gt; I&#39;m using
&gt; this fairly straightforward harness to test it:
&gt; #/usr/bin/perl -Wl
&gt; use strict;
&gt; use warnings;
&gt; use Data::Dumper;
&gt; use Data::Serializer;
&gt; my $datatostore = [&#39;samplecomplexdata&#39;,
&gt; [&#39;list&#39;,&#39;of&#39;,&#39;strings&#39;],
&gt; {hash=&gt;&#39;of&#39;,more=&gt;&#39;data&#39;}
&gt; ];
&gt; my $datafromretrieve;
&gt; my $Dserializer
&gt; = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt;
&gt; &#39;Data::Dumper&#39;&#41;;
&gt; my $outfile = &#39;data.out&#39;;
&gt; 
&gt; print
&gt; Dumper&#40;$datatostore&#41;;
&gt; $Dserializer-&gt;store&#40;
&gt;     $datatostore,
&gt; $outfile,
&gt;     &#39;&gt;&gt;&#39;
&gt; &#41;;
&gt; $datafromretrieve = $Dserializer-&gt;retrieve&#40;
&gt; $outfile
&gt; &#41;;
&gt; print Dumper&#40;$datafromretrieve&#41;;
&gt; #######################################
&gt; #now as xml
&gt; my $Xserializer
&gt; = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt;
&gt; &#39;XML::Dumper&#39;&#41;;
&gt; $outfile = &#39;data.xml&#39;;
&gt; 
&gt; print Dumper&#40;$datatostore&#41;;
&gt; $Xserializer-&gt;store&#40;
&gt;     $datatostore,
&gt;     $outfile,
&gt;     &#39;&gt;&gt;&#39;
&gt; &#41;;
&gt; $datafromretrieve = $Xserializer-&gt;retrieve&#40;
&gt;     $outfile
&gt; &#41;;
&gt; print
&gt; Dumper&#40;$datafromretrieve&#41;;
&gt; 
&gt; and getting the following output:
&gt; C:\chas_sandbox\grammars&gt;retrievedemo.pl
&gt; $VAR1 = [
&gt; &#39;samplecomplexdata&#39;,
&gt;           [
&gt;             &#39;list&#39;,
&gt; &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt;           {
&gt; &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt;           }
&gt;         ];
&gt; $VAR1 = [
&gt;           &#39;samplecomplexdata&#39;,
&gt;           [
&gt; &#39;list&#39;,
&gt;             &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt; {
&gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; }
&gt;         ];
&gt; $VAR1 = [
&gt;           &#39;samplecomplexdata&#39;,
&gt;           [
&gt; &#39;list&#39;,
&gt;             &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt; {
&gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; }
&gt;         ];
&gt; 
&gt; no element found at line 1, column 10, byte 10 at
&gt; C:/strawberry-perl/perl/site/l
&gt; ib/XML/Parser.pm line 187
&gt; C:\chas_sandbox\grammars&gt;
&gt; -----------------------------------------
&gt; Note:  The information
&gt; contained in this email and in any
&gt; attachments is intended only for the person or entity to which it
&gt; is addressed and may contain confidential and/or privileged
&gt; material.  Any review, retransmission, dissemination or other use
&gt; of, or taking of any action in reliance upon, this information by
&gt; persons or entities other than the intended recipient is
&gt; prohibited.  The recipient should check this email and any
&gt; attachments for the presence of viruses.  Sender accepts no
&gt; liability for any damages caused by any virus transmitted by this
&gt; email. If you have received this email in error, please notify us
&gt; immediately by replying to the message and delete the email from
&gt; your computer.  This e-mail is and any response to it will be
&gt; unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
&gt; Information Systems, Inc.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;11:24:54&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;11:32:09&nbsp;2008</span>
    <span class="description">charles.gowing [...] novainfo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34047] retrieve broken with XML::Dumper </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Mar 2008 11:31:21 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-Data-Serializer [...] rt.cpan.org&#39;&#34; &lt;bug-Data-Serializer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Gowing, Charles&#34; &lt;charles.gowing [...] novainfo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the propmt response.  No worries on the &#39;&gt;&gt;&#39;; that was just for the quick-n-dirty harness.

Re: protable, I was hoping to have Data::Serializer dump my data to XML in a way an admin could tweak it for his purposes, then deserialize the modified XML into different data of the same format.  Portable=&gt;&#39;1&#39; makes data.xml, well, not XML.  If it weren&#39;t for the human readable requirement &#40;well, nice-to-have feature&#41;, I&#39;d use Data::Dumper.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Neil A. Neely via RT [mailto:bug-Data-Serializer@rt.cpan.org]
Sent: Thursday, March 13, 2008 11:25 AM
To: Gowing, Charles
Subject: [rt.cpan.org #34047] retrieve broken with XML::Dumper



&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34047">http://rt.cpan.org/Ticket/Display.html?id=34047</a></span> &gt;


Looks like the bug is in the interaction of store/retrieve and setting portable = 0.  The
current store/retrieve code is naive in that it only reads in the first line from the file - when
portable is set to 0 and a structure is serialized its output can contain many more lines.  This
will definitely cause retrieve to fail.

A work around is to leave portable enabled for now.

I also note you were trying to append multiple structures &#40;via &#39;&gt;&gt;&#39;&#41; to the same file.  With the
current implementation of retrieve that is only ever going to try to read in the first line and
probably not do what you wish it to.

What is your purpose for setting portable to 0 for this?  I&#39;d like to understand what you are
trying to do with this before I making any changes.

Thanks,
Neil


On Thu Mar 13 10:45:56 2008, charles.gowing@novainfo.com wrote:
<div class="message-stanza open">&gt; This may be related to bug #23901.  First the basic info:
&gt; Module
&gt; version info
<div class="message-stanza open">&gt; cpan&gt; i Data::Serializer
</div>&gt; CPAN: Storable loaded ok
&gt; &#40;v2.15&#41;
&gt; Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
&gt; Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
&gt; Strange
&gt; distribution name [Data::Serializer]
&gt; Module id = Data::Serializer
&gt; DESCRIPTION  Generic interface to serializer modules
&gt;     CPAN_USERID
&gt; NEELY &#40;Neil A. Neely &lt;neil@neely.cx&gt;&#41;
&gt;     CPAN_VERSION 0.43
&gt; CPAN_FILE    N/NE/NEELY/Data-Serializer-0.43.tar.gz
&gt;     UPLOAD_DATE
&gt; 2007-12-20
&gt;     DSLIP_STATUS RdpOp &#40;released,developer,perl,object-
&gt; oriented,Standard-Perl&#41;
&gt;     MANPAGE      Data::Serializer:: - Modules
&gt; that serialize data structures
&gt;     INST_FILE    C:\strawberry-
&gt; perl\perl\site\lib\Data\Serializer.pm
&gt;     INST_VERSION 0.43
<div class="message-stanza open">&gt; cpan&gt; i XML::Dumper
</div>&gt; Strange distribution name [XML::Dumper]
&gt; Module
&gt; id = XML::Dumper
&gt;     DESCRIPTION  Converts XML from/to Perl code
&gt; CPAN_USERID  MIKEWONG &#40;Mike Wong &lt;mike_w3@pacbell.net&gt;&#41;
&gt; CPAN_VERSION 0.81
&gt;     CPAN_FILE    M/MI/MIKEWONG/XML-Dumper-
&gt; 0.81.tar.gz
&gt;     UPLOAD_DATE  2006-04-05
&gt;     DSLIP_STATUS ampO?
&gt; &#40;alpha,mailing-list,perl,object-oriented,&#41;
&gt;     MANPAGE
&gt; XML::Dumper - Perl module for dumping Perl objects from/to XML
&gt; INST_FILE    C:\strawberry-perl\perl\site\lib\XML\Dumper.pm
&gt; INST_VERSION 0.81
&gt;
&gt;
&gt;
<div class="message-stanza open">&gt; cpan&gt; i XML::Parser
</div>&gt; CPAN: Storable loaded ok
&gt; &#40;v2.15&#41;
&gt; Going to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
&gt; Database was generated on Wed, 12 Mar 2008 18:30:48 GMT
&gt; Strange
&gt; distribution name [XML::Parser]
&gt; Module id = XML::Parser
&gt; DESCRIPTION  Flexible fast parser with plug-in styles
&gt;     CPAN_USERID
&gt; COOPERCL &#40;Clark Cooper &lt;clark@coopercc.net&gt;&#41;
&gt;     CPAN_VERSION 2.36
&gt; CPAN_FILE    M/MS/MSERGEANT/XML-Parser-2.36.tar.gz
&gt;     UPLOAD_DATE
&gt; 2007-11-20
&gt;     DSLIP_STATUS bmcO? &#40;beta,mailing-list,C,object-
&gt; oriented,&#41;
&gt;     MANPAGE      XML::Parser - A perl module for parsing
&gt; XML documents
&gt;     INST_FILE    C:\strawberry-
&gt; perl\perl\site\lib\XML\Parser.pm
&gt;     INST_VERSION 2.36
&gt;
&gt; Perl
&gt; version info
&gt; I&#39;m usign Strawberry Perl:
&gt; C:\chas_sandbox\grammars&gt;perl -v
&gt;
&gt; This is perl, v5.8.8 built for
&gt; MSWin32-x86-multi-thread
&gt;
&gt; Copyright 1987-2006, Larry Wall
&gt;
&gt; Perl
&gt; may be copied only under the terms of either the Artistic License or
&gt; the
&gt; GNU General Public License, which may be found in the Perl 5
&gt; source kit.
&gt;
&gt; Complete documentation for Perl, including FAQ lists,
&gt; should be found on
&gt; this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.
&gt; If you have access to the
&gt; Internet, point your browser at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
&gt;
&gt; I have expat installed
&gt; from expat-win32bin-2.0.1.exe &#40;no small feat in itself - check out
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-">http://www.mike-a-roni.com/2008/01/04/strawberry-perl-expat-xmlparser-</a></span>
&gt; and-you/&#41;
&gt;
&gt; OS Vendor and Version
&gt; I&#39;m on Windows XP:
&gt; C:\strawberry-
&gt; perl\expat\Bin&gt;ver
&gt;
&gt; Microsoft Windows XP [Version 5.1.2600]
&gt;
&gt; Now
&gt; for the bug
&gt; I&#39;m trying to use store/retrieve with the XML::Dumper
&gt; serializer and get:
&gt; no element found at line 1, column 10, byte 10 at
&gt; C:/strawberry-perl/perl/site/l
&gt; ib/XML/Parser.pm line 187
&gt;
&gt; I&#39;m using
&gt; this fairly straightforward harness to test it:
&gt; #/usr/bin/perl -Wl
&gt; use strict;
&gt; use warnings;
&gt; use Data::Dumper;
&gt; use Data::Serializer;
&gt; my $datatostore = [&#39;samplecomplexdata&#39;,
&gt; [&#39;list&#39;,&#39;of&#39;,&#39;strings&#39;],
&gt; {hash=&gt;&#39;of&#39;,more=&gt;&#39;data&#39;}
&gt; ];
&gt; my $datafromretrieve;
&gt; my $Dserializer
&gt; = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt;
&gt; &#39;Data::Dumper&#39;&#41;;
&gt; my $outfile = &#39;data.out&#39;;
&gt;
&gt; print
&gt; Dumper&#40;$datatostore&#41;;
&gt; $Dserializer-&gt;store&#40;
&gt;     $datatostore,
&gt; $outfile,
&gt;     &#39;&gt;&gt;&#39;
&gt; &#41;;
&gt; $datafromretrieve = $Dserializer-&gt;retrieve&#40;
&gt; $outfile
&gt; &#41;;
&gt; print Dumper&#40;$datafromretrieve&#41;;
&gt; #######################################
&gt; #now as xml
&gt; my $Xserializer
&gt; = Data::Serializer-&gt;new&#40;portable   =&gt; &#39;0&#39;,serializer =&gt;
&gt; &#39;XML::Dumper&#39;&#41;;
&gt; $outfile = &#39;data.xml&#39;;
&gt;
&gt; print Dumper&#40;$datatostore&#41;;
&gt; $Xserializer-&gt;store&#40;
&gt;     $datatostore,
&gt;     $outfile,
&gt;     &#39;&gt;&gt;&#39;
&gt; &#41;;
&gt; $datafromretrieve = $Xserializer-&gt;retrieve&#40;
&gt;     $outfile
&gt; &#41;;
&gt; print
&gt; Dumper&#40;$datafromretrieve&#41;;
&gt;
&gt; and getting the following output:
&gt; C:\chas_sandbox\grammars&gt;retrievedemo.pl
&gt; $VAR1 = [
&gt; &#39;samplecomplexdata&#39;,
&gt;           [
&gt;             &#39;list&#39;,
&gt; &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt;           {
&gt; &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt;           }
&gt;         ];
&gt; $VAR1 = [
&gt;           &#39;samplecomplexdata&#39;,
&gt;           [
&gt; &#39;list&#39;,
&gt;             &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt; {
&gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; }
&gt;         ];
&gt; $VAR1 = [
&gt;           &#39;samplecomplexdata&#39;,
&gt;           [
&gt; &#39;list&#39;,
&gt;             &#39;of&#39;,
&gt;             &#39;strings&#39;
&gt;           ],
&gt; {
&gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; }
&gt;         ];
&gt;
&gt; no element found at line 1, column 10, byte 10 at
&gt; C:/strawberry-perl/perl/site/l
&gt; ib/XML/Parser.pm line 187
&gt; C:\chas_sandbox\grammars&gt;
&gt; -----------------------------------------
&gt; Note:  The information
&gt; contained in this email and in any
&gt; attachments is intended only for the person or entity to which it
&gt; is addressed and may contain confidential and/or privileged
&gt; material.  Any review, retransmission, dissemination or other use
&gt; of, or taking of any action in reliance upon, this information by
&gt; persons or entities other than the intended recipient is
&gt; prohibited.  The recipient should check this email and any
&gt; attachments for the presence of viruses.  Sender accepts no
&gt; liability for any damages caused by any virus transmitted by this
&gt; email. If you have received this email in error, please notify us
&gt; immediately by replying to the message and delete the email from
&gt; your computer.  This e-mail is and any response to it will be
&gt; unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
&gt; Information Systems, Inc.
</div>





-----------------------------------------
Note:  The information contained in this email and in any
attachments is intended only for the person or entity to which it
is addressed and may contain confidential and/or privileged
material.  Any review, retransmission, dissemination or other use
of, or taking of any action in reliance upon, this information by
persons or entities other than the intended recipient is
prohibited.  The recipient should check this email and any
attachments for the presence of viruses.  Sender accepts no
liability for any damages caused by any virus transmitted by this
email. If you have received this email in error, please notify us
immediately by replying to the message and delete the email from
your computer.  This e-mail is and any response to it will be
unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
Information Systems, Inc.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;12:38:42&nbsp;2008</span>
    <span class="description">neil [...] neely.cx -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Your goal makes a lot of sense, and more generically the functionality you are looking for is 
in raw_serialize and raw_deserialize, they work in the native data type with no 
Data::Serializer markup involved.

What you need on top of this is some new methods: raw_store and raw_retrieve which would 
utilize the raw_serialize and raw_deserialize functionality and manage the file storage 
aspects as well.  

I&#39;ll try to get those methods in and a new version uploaded to CPAN by tomorrow &#40;Friday 
3/14&#41;.


On Thu Mar 13 11:32:09 2008, charles.gowing@novainfo.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the propmt response.  No worries on the &#39;&gt;&gt;&#39;; that was just
&gt;    for the quick-n-dirty harness.
&gt; 
&gt; Re: protable, I was hoping to
&gt;    have Data::Serializer dump my data to XML in a way an admin could
&gt;    tweak it for his purposes, then deserialize the modified XML into
&gt;    different data of the same format.  Portable=&gt;&#39;1&#39; makes data.xml,
&gt;    well, not XML.  If it weren&#39;t for the human readable requirement
&gt;    &#40;well, nice-to-have feature&#41;, I&#39;d use Data::Dumper.
&gt;    -----Original Message-----
&gt; From: Neil A. Neely via RT [mailto:bug-
&gt;    Data-Serializer@rt.cpan.org]
&gt; Sent: Thursday, March 13, 2008 11:25
&gt;    AM
&gt; To: Gowing, Charles
&gt; Subject: [rt.cpan.org #34047] retrieve
&gt;    broken with XML::Dumper
&gt; 
&gt; 
&gt; 
&gt; &lt;URL:
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34047">http://rt.cpan.org/Ticket/Display.html?id=34047</a></span> &gt;
&gt; 
&gt; 
&gt; Looks like
&gt;    the bug is in the interaction of store/retrieve and setting
&gt;    portable = 0.  The
&gt; current store/retrieve code is naive in that it
&gt;    only reads in the first line from the file - when
&gt; portable is set
&gt;    to 0 and a structure is serialized its output can contain many more
&gt;    lines.  This
&gt; will definitely cause retrieve to fail.
&gt; 
&gt; A work
&gt;    around is to leave portable enabled for now.
&gt; 
&gt; I also note you
&gt;    were trying to append multiple structures &#40;via &#39;&gt;&gt;&#39;&#41; to the same
&gt;    file.  With the
&gt; current implementation of retrieve that is only
&gt;    ever going to try to read in the first line and
&gt; probably not do
&gt;    what you wish it to.
&gt; 
&gt; What is your purpose for setting portable
&gt;    to 0 for this?  I&#39;d like to understand what you are
&gt; trying to do
&gt;    with this before I making any changes.
&gt; 
&gt; Thanks,
&gt; Neil
&gt; 
&gt; 
&gt; On Thu
&gt;    Mar 13 10:45:56 2008, charles.gowing@novainfo.com wrote:
<div class="message-stanza open">&gt; &gt; This
</div>&gt;    may be related to bug #23901.  First the basic info:
<div class="message-stanza open">&gt; &gt; Module
&gt; &gt;
</div>&gt;    version info
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; cpan&gt; i Data::Serializer
</div>&gt; &gt; CPAN: Storable loaded
</div>&gt;    ok
<div class="message-stanza open">&gt; &gt; &#40;v2.15&#41;
&gt; &gt; Going to read
</div>&gt;    C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
<div class="message-stanza open">&gt; &gt; Database was
</div>&gt;    generated on Wed, 12 Mar 2008 18:30:48 GMT
<div class="message-stanza open">&gt; &gt; Strange
&gt; &gt;
</div>&gt;    distribution name [Data::Serializer]
<div class="message-stanza open">&gt; &gt; Module id =
</div>&gt;    Data::Serializer
<div class="message-stanza open">&gt; &gt; DESCRIPTION  Generic interface to serializer
</div>&gt;    modules
<div class="message-stanza open">&gt; &gt;     CPAN_USERID
&gt; &gt; NEELY &#40;Neil A. Neely &lt;neil@neely.cx&gt;&#41;
</div><div class="message-stanza open">&gt;    &gt;     CPAN_VERSION 0.43
</div><div class="message-stanza open">&gt; &gt; CPAN_FILE    N/NE/NEELY/Data-Serializer-
</div>&gt;    0.43.tar.gz
<div class="message-stanza open">&gt; &gt;     UPLOAD_DATE
&gt; &gt; 2007-12-20
&gt; &gt;     DSLIP_STATUS
</div>&gt;    RdpOp &#40;released,developer,perl,object-
<div class="message-stanza open">&gt; &gt; oriented,Standard-Perl&#41;
</div><div class="message-stanza open">&gt;    &gt;     MANPAGE      Data::Serializer:: - Modules
</div><div class="message-stanza open">&gt; &gt; that serialize
</div>&gt;    data structures
<div class="message-stanza open">&gt; &gt;     INST_FILE    C:\strawberry-
&gt; &gt;
</div>&gt;    perl\perl\site\lib\Data\Serializer.pm
<div class="message-stanza open">&gt; &gt;     INST_VERSION 0.43
&gt; &gt;
</div><div class="message-stanza open">&gt;    cpan&gt; i XML::Dumper
</div><div class="message-stanza open">&gt; &gt; Strange distribution name [XML::Dumper]
&gt; &gt;
</div>&gt;    Module
<div class="message-stanza open">&gt; &gt; id = XML::Dumper
&gt; &gt;     DESCRIPTION  Converts XML from/to
</div>&gt;    Perl code
<div class="message-stanza open">&gt; &gt; CPAN_USERID  MIKEWONG &#40;Mike Wong
</div>&gt;    &lt;mike_w3@pacbell.net&gt;&#41;
<div class="message-stanza open">&gt; &gt; CPAN_VERSION 0.81
&gt; &gt;     CPAN_FILE
</div>&gt;    M/MI/MIKEWONG/XML-Dumper-
<div class="message-stanza open">&gt; &gt; 0.81.tar.gz
&gt; &gt;     UPLOAD_DATE  2006-
</div>&gt;    04-05
<div class="message-stanza open">&gt; &gt;     DSLIP_STATUS ampO?
&gt; &gt; &#40;alpha,mailing-list,perl,object-
</div>&gt;    oriented,&#41;
<div class="message-stanza open">&gt; &gt;     MANPAGE
&gt; &gt; XML::Dumper - Perl module for dumping
</div>&gt;    Perl objects from/to XML
<div class="message-stanza open">&gt; &gt; INST_FILE    C:\strawberry-
</div>&gt;    perl\perl\site\lib\XML\Dumper.pm
<div class="message-stanza open">&gt; &gt; INST_VERSION 0.81
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
</div><div class="message-stanza open">&gt;    cpan&gt; i XML::Parser
</div><div class="message-stanza open">&gt; &gt; CPAN: Storable loaded ok
&gt; &gt; &#40;v2.15&#41;
&gt; &gt; Going
</div>&gt;    to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
<div class="message-stanza open">&gt; &gt; Database
</div>&gt;    was generated on Wed, 12 Mar 2008 18:30:48 GMT
<div class="message-stanza open">&gt; &gt; Strange
&gt; &gt;
</div>&gt;    distribution name [XML::Parser]
<div class="message-stanza open">&gt; &gt; Module id = XML::Parser
&gt; &gt;
</div>&gt;    DESCRIPTION  Flexible fast parser with plug-in styles
<div class="message-stanza open">&gt; &gt;
</div>&gt;    CPAN_USERID
<div class="message-stanza open">&gt; &gt; COOPERCL &#40;Clark Cooper &lt;clark@coopercc.net&gt;&#41;
&gt; &gt;
</div>&gt;    CPAN_VERSION 2.36
<div class="message-stanza open">&gt; &gt; CPAN_FILE    M/MS/MSERGEANT/XML-Parser-
</div>&gt;    2.36.tar.gz
<div class="message-stanza open">&gt; &gt;     UPLOAD_DATE
&gt; &gt; 2007-11-20
&gt; &gt;     DSLIP_STATUS
</div>&gt;    bmcO? &#40;beta,mailing-list,C,object-
<div class="message-stanza open">&gt; &gt; oriented,&#41;
&gt; &gt;     MANPAGE
</div>&gt;    XML::Parser - A perl module for parsing
<div class="message-stanza open">&gt; &gt; XML documents
&gt; &gt;
</div>&gt;    INST_FILE    C:\strawberry-
<div class="message-stanza open">&gt; &gt; perl\perl\site\lib\XML\Parser.pm
&gt; &gt;
</div>&gt;    INST_VERSION 2.36
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Perl
&gt; &gt; version info
&gt; &gt; I&#39;m usign
</div>&gt;    Strawberry Perl:
<div class="message-stanza open">&gt; &gt; C:\chas_sandbox\grammars&gt;perl -v
&gt; &gt;
&gt; &gt; This is
</div>&gt;    perl, v5.8.8 built for
<div class="message-stanza open">&gt; &gt; MSWin32-x86-multi-thread
&gt; &gt;
&gt; &gt; Copyright
</div>&gt;    1987-2006, Larry Wall
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Perl
&gt; &gt; may be copied only under the
</div>&gt;    terms of either the Artistic License or
<div class="message-stanza open">&gt; &gt; the
&gt; &gt; GNU General
</div>&gt;    Public License, which may be found in the Perl 5
<div class="message-stanza open">&gt; &gt; source kit.
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; Complete documentation for Perl, including FAQ lists,
</div><div class="message-stanza open">&gt; &gt; should
</div>&gt;    be found on
<div class="message-stanza open">&gt; &gt; this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.
&gt; &gt;
</div>&gt;    If you have access to the
<div class="message-stanza open">&gt; &gt; Internet, point your browser at
&gt; &gt;
</div>&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; I have expat
</div>&gt;    installed
<div class="message-stanza open">&gt; &gt; from expat-win32bin-2.0.1.exe &#40;no small feat in itself
</div>&gt;    - check out
<div class="message-stanza open">&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mike-a-roni.com/2008/01/04/strawberry-">http://www.mike-a-roni.com/2008/01/04/strawberry-</a></span>
</div>&gt;    perl-expat-xmlparser-
<div class="message-stanza open">&gt; &gt; and-you/&#41;
&gt; &gt;
&gt; &gt; OS Vendor and Version
&gt; &gt;
</div>&gt;    I&#39;m on Windows XP:
<div class="message-stanza open">&gt; &gt; C:\strawberry-
&gt; &gt; perl\expat\Bin&gt;ver
&gt; &gt;
&gt; &gt;
</div>&gt;    Microsoft Windows XP [Version 5.1.2600]
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Now
&gt; &gt; for the bug
&gt; &gt;
</div>&gt;    I&#39;m trying to use store/retrieve with the XML::Dumper
<div class="message-stanza open">&gt; &gt; serializer
</div>&gt;    and get:
<div class="message-stanza open">&gt; &gt; no element found at line 1, column 10, byte 10 at
&gt; &gt;
</div>&gt;    C:/strawberry-perl/perl/site/l
<div class="message-stanza open">&gt; &gt; ib/XML/Parser.pm line 187
&gt; &gt;
&gt; &gt;
</div>&gt;    I&#39;m using
<div class="message-stanza open">&gt; &gt; this fairly straightforward harness to test it:
&gt; &gt;
</div>&gt;    #/usr/bin/perl -Wl
<div class="message-stanza open">&gt; &gt; use strict;
&gt; &gt; use warnings;
&gt; &gt; use
</div>&gt;    Data::Dumper;
<div class="message-stanza open">&gt; &gt; use Data::Serializer;
&gt; &gt; my $datatostore =
</div>&gt;    [&#39;samplecomplexdata&#39;,
<div class="message-stanza open">&gt; &gt; [&#39;list&#39;,&#39;of&#39;,&#39;strings&#39;],
&gt; &gt;
</div>&gt;    {hash=&gt;&#39;of&#39;,more=&gt;&#39;data&#39;}
<div class="message-stanza open">&gt; &gt; ];
&gt; &gt; my $datafromretrieve;
&gt; &gt; my
</div>&gt;    $Dserializer
<div class="message-stanza open">&gt; &gt; = Data::Serializer-&gt;new&#40;portable   =&gt;
</div>&gt;    &#39;0&#39;,serializer =&gt;
<div class="message-stanza open">&gt; &gt; &#39;Data::Dumper&#39;&#41;;
&gt; &gt; my $outfile = &#39;data.out&#39;;
</div><div class="message-stanza open">&gt;    &gt;
</div><div class="message-stanza open">&gt; &gt; print
&gt; &gt; Dumper&#40;$datatostore&#41;;
&gt; &gt; $Dserializer-&gt;store&#40;
&gt; &gt;
</div>&gt;    $datatostore,
<div class="message-stanza open">&gt; &gt; $outfile,
&gt; &gt;     &#39;&gt;&gt;&#39;
&gt; &gt; &#41;;
&gt; &gt; $datafromretrieve =
</div>&gt;    $Dserializer-&gt;retrieve&#40;
<div class="message-stanza open">&gt; &gt; $outfile
&gt; &gt; &#41;;
&gt; &gt; print
</div>&gt;    Dumper&#40;$datafromretrieve&#41;;
<div class="message-stanza open">&gt; &gt;
</div>&gt;    #######################################
<div class="message-stanza open">&gt; &gt; #now as xml
&gt; &gt; my
</div>&gt;    $Xserializer
<div class="message-stanza open">&gt; &gt; = Data::Serializer-&gt;new&#40;portable   =&gt;
</div>&gt;    &#39;0&#39;,serializer =&gt;
<div class="message-stanza open">&gt; &gt; &#39;XML::Dumper&#39;&#41;;
&gt; &gt; $outfile = &#39;data.xml&#39;;
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; print Dumper&#40;$datatostore&#41;;
</div><div class="message-stanza open">&gt; &gt; $Xserializer-&gt;store&#40;
&gt; &gt;
</div>&gt;    $datatostore,
<div class="message-stanza open">&gt; &gt;     $outfile,
&gt; &gt;     &#39;&gt;&gt;&#39;
&gt; &gt; &#41;;
&gt; &gt;
</div>&gt;    $datafromretrieve = $Xserializer-&gt;retrieve&#40;
<div class="message-stanza open">&gt; &gt;     $outfile
&gt; &gt; &#41;;
</div><div class="message-stanza open">&gt;    &gt; print
</div><div class="message-stanza open">&gt; &gt; Dumper&#40;$datafromretrieve&#41;;
&gt; &gt;
&gt; &gt; and getting the
</div>&gt;    following output:
<div class="message-stanza open">&gt; &gt; C:\chas_sandbox\grammars&gt;retrievedemo.pl
&gt; &gt;
</div>&gt;    $VAR1 = [
<div class="message-stanza open">&gt; &gt; &#39;samplecomplexdata&#39;,
&gt; &gt;           [
&gt; &gt;
</div>&gt;    &#39;list&#39;,
<div class="message-stanza open">&gt; &gt; &#39;of&#39;,
&gt; &gt;             &#39;strings&#39;
&gt; &gt;           ],
&gt; &gt;
</div>&gt;    {
<div class="message-stanza open">&gt; &gt; &#39;hash&#39; =&gt; &#39;of&#39;,
&gt; &gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; &gt;           }
</div><div class="message-stanza open">&gt;    &gt;         ];
</div><div class="message-stanza open">&gt; &gt; $VAR1 = [
&gt; &gt;           &#39;samplecomplexdata&#39;,
&gt; &gt;
</div>&gt;    [
<div class="message-stanza open">&gt; &gt; &#39;list&#39;,
&gt; &gt;             &#39;of&#39;,
&gt; &gt;             &#39;strings&#39;
&gt; &gt;
</div>&gt;    ],
<div class="message-stanza open">&gt; &gt; {
&gt; &gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt; &gt;             &#39;more&#39; =&gt;
</div>&gt;    &#39;data&#39;
<div class="message-stanza open">&gt; &gt; }
&gt; &gt;         ];
&gt; &gt; $VAR1 = [
&gt; &gt;
</div>&gt;    &#39;samplecomplexdata&#39;,
<div class="message-stanza open">&gt; &gt;           [
&gt; &gt; &#39;list&#39;,
&gt; &gt;             &#39;of&#39;,
</div><div class="message-stanza open">&gt;    &gt;             &#39;strings&#39;
</div><div class="message-stanza open">&gt; &gt;           ],
&gt; &gt; {
&gt; &gt;             &#39;hash&#39;
</div>&gt;    =&gt; &#39;of&#39;,
<div class="message-stanza open">&gt; &gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; &gt; }
&gt; &gt;         ];
&gt; &gt;
&gt; &gt;
</div>&gt;    no element found at line 1, column 10, byte 10 at
<div class="message-stanza open">&gt; &gt; C:/strawberry-
</div>&gt;    perl/perl/site/l
<div class="message-stanza open">&gt; &gt; ib/XML/Parser.pm line 187
&gt; &gt;
</div>&gt;    C:\chas_sandbox\grammars&gt;
<div class="message-stanza open">&gt; &gt;
</div>&gt;    -----------------------------------------
<div class="message-stanza open">&gt; &gt; Note:  The information
</div><div class="message-stanza open">&gt;    &gt; contained in this email and in any
</div><div class="message-stanza open">&gt; &gt; attachments is intended
</div>&gt;    only for the person or entity to which it
<div class="message-stanza open">&gt; &gt; is addressed and may
</div>&gt;    contain confidential and/or privileged
<div class="message-stanza open">&gt; &gt; material.  Any review,
</div>&gt;    retransmission, dissemination or other use
<div class="message-stanza open">&gt; &gt; of, or taking of any
</div>&gt;    action in reliance upon, this information by
<div class="message-stanza open">&gt; &gt; persons or entities
</div>&gt;    other than the intended recipient is
<div class="message-stanza open">&gt; &gt; prohibited.  The recipient
</div>&gt;    should check this email and any
<div class="message-stanza open">&gt; &gt; attachments for the presence of
</div>&gt;    viruses.  Sender accepts no
<div class="message-stanza open">&gt; &gt; liability for any damages caused by
</div>&gt;    any virus transmitted by this
<div class="message-stanza open">&gt; &gt; email. If you have received this
</div>&gt;    email in error, please notify us
<div class="message-stanza open">&gt; &gt; immediately by replying to the
</div>&gt;    message and delete the email from
<div class="message-stanza open">&gt; &gt; your computer.  This e-mail is
</div>&gt;    and any response to it will be
<div class="message-stanza open">&gt; &gt; unencrypted and, therefore,
</div>&gt;    potentially unsecure.  Thank you.  NOVA
<div class="message-stanza open">&gt; &gt; Information Systems,
</div>&gt;    Inc.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -----------------------------------------
&gt; Note:
&gt;    The information contained in this email and in any
&gt; attachments is intended only for the person or entity to which it
&gt; is addressed and may contain confidential and/or privileged
&gt; material.  Any review, retransmission, dissemination or other use
&gt; of, or taking of any action in reliance upon, this information by
&gt; persons or entities other than the intended recipient is
&gt; prohibited.  The recipient should check this email and any
&gt; attachments for the presence of viruses.  Sender accepts no
&gt; liability for any damages caused by any virus transmitted by this
&gt; email. If you have received this email in error, please notify us
&gt; immediately by replying to the message and delete the email from
&gt; your computer.  This e-mail is and any response to it will be
&gt; unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
&gt; Information Systems, Inc.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;14:20:32&nbsp;2008</span>
    <span class="description">charles.gowing [...] novainfo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34047] retrieve broken with XML::Dumper </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Mar 2008 14:19:39 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-Data-Serializer [...] rt.cpan.org&#39;&#34; &lt;bug-Data-Serializer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Gowing, Charles&#34; &lt;charles.gowing [...] novainfo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Excellent.  I agree with your design.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Neil A. Neely via RT [mailto:bug-Data-Serializer@rt.cpan.org]
Sent: Thursday, March 13, 2008 12:39 PM
To: Gowing, Charles
Subject: [rt.cpan.org #34047] retrieve broken with XML::Dumper



&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34047">http://rt.cpan.org/Ticket/Display.html?id=34047</a></span> &gt;

Your goal makes a lot of sense, and more generically the functionality you are looking for is
in raw_serialize and raw_deserialize, they work in the native data type with no
Data::Serializer markup involved.

What you need on top of this is some new methods: raw_store and raw_retrieve which would
utilize the raw_serialize and raw_deserialize functionality and manage the file storage
aspects as well.

I&#39;ll try to get those methods in and a new version uploaded to CPAN by tomorrow &#40;Friday
3/14&#41;.


On Thu Mar 13 11:32:09 2008, charles.gowing@novainfo.com wrote:
<div class="message-stanza open">&gt; Thanks for the propmt response.  No worries on the &#39;&gt;&gt;&#39;; that was just
&gt;    for the quick-n-dirty harness.
&gt;
&gt; Re: protable, I was hoping to
&gt;    have Data::Serializer dump my data to XML in a way an admin could
&gt;    tweak it for his purposes, then deserialize the modified XML into
&gt;    different data of the same format.  Portable=&gt;&#39;1&#39; makes data.xml,
&gt;    well, not XML.  If it weren&#39;t for the human readable requirement
&gt;    &#40;well, nice-to-have feature&#41;, I&#39;d use Data::Dumper.
&gt;    -----Original Message-----
&gt; From: Neil A. Neely via RT [mailto:bug-
&gt;    Data-Serializer@rt.cpan.org]
&gt; Sent: Thursday, March 13, 2008 11:25
&gt;    AM
&gt; To: Gowing, Charles
&gt; Subject: [rt.cpan.org #34047] retrieve
&gt;    broken with XML::Dumper
&gt;
&gt;
&gt;
&gt; &lt;URL:
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34047">http://rt.cpan.org/Ticket/Display.html?id=34047</a></span> &gt;
&gt;
&gt;
&gt; Looks like
&gt;    the bug is in the interaction of store/retrieve and setting
&gt;    portable = 0.  The
&gt; current store/retrieve code is naive in that it
&gt;    only reads in the first line from the file - when
&gt; portable is set
&gt;    to 0 and a structure is serialized its output can contain many more
&gt;    lines.  This
&gt; will definitely cause retrieve to fail.
&gt;
&gt; A work
&gt;    around is to leave portable enabled for now.
&gt;
&gt; I also note you
&gt;    were trying to append multiple structures &#40;via &#39;&gt;&gt;&#39;&#41; to the same
&gt;    file.  With the
&gt; current implementation of retrieve that is only
&gt;    ever going to try to read in the first line and
&gt; probably not do
&gt;    what you wish it to.
&gt;
&gt; What is your purpose for setting portable
&gt;    to 0 for this?  I&#39;d like to understand what you are
&gt; trying to do
&gt;    with this before I making any changes.
&gt;
&gt; Thanks,
&gt; Neil
&gt;
&gt;
&gt; On Thu
&gt;    Mar 13 10:45:56 2008, charles.gowing@novainfo.com wrote:
<div class="message-stanza open">&gt; &gt; This
</div>&gt;    may be related to bug #23901.  First the basic info:
<div class="message-stanza open">&gt; &gt; Module
&gt; &gt;
</div>&gt;    version info
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; cpan&gt; i Data::Serializer
</div>&gt; &gt; CPAN: Storable loaded
</div>&gt;    ok
<div class="message-stanza open">&gt; &gt; &#40;v2.15&#41;
&gt; &gt; Going to read
</div>&gt;    C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
<div class="message-stanza open">&gt; &gt; Database was
</div>&gt;    generated on Wed, 12 Mar 2008 18:30:48 GMT
<div class="message-stanza open">&gt; &gt; Strange
&gt; &gt;
</div>&gt;    distribution name [Data::Serializer]
<div class="message-stanza open">&gt; &gt; Module id =
</div>&gt;    Data::Serializer
<div class="message-stanza open">&gt; &gt; DESCRIPTION  Generic interface to serializer
</div>&gt;    modules
<div class="message-stanza open">&gt; &gt;     CPAN_USERID
&gt; &gt; NEELY &#40;Neil A. Neely &lt;neil@neely.cx&gt;&#41;
</div><div class="message-stanza open">&gt;    &gt;     CPAN_VERSION 0.43
</div><div class="message-stanza open">&gt; &gt; CPAN_FILE    N/NE/NEELY/Data-Serializer-
</div>&gt;    0.43.tar.gz
<div class="message-stanza open">&gt; &gt;     UPLOAD_DATE
&gt; &gt; 2007-12-20
&gt; &gt;     DSLIP_STATUS
</div>&gt;    RdpOp &#40;released,developer,perl,object-
<div class="message-stanza open">&gt; &gt; oriented,Standard-Perl&#41;
</div><div class="message-stanza open">&gt;    &gt;     MANPAGE      Data::Serializer:: - Modules
</div><div class="message-stanza open">&gt; &gt; that serialize
</div>&gt;    data structures
<div class="message-stanza open">&gt; &gt;     INST_FILE    C:\strawberry-
&gt; &gt;
</div>&gt;    perl\perl\site\lib\Data\Serializer.pm
<div class="message-stanza open">&gt; &gt;     INST_VERSION 0.43
&gt; &gt;
</div><div class="message-stanza open">&gt;    cpan&gt; i XML::Dumper
</div><div class="message-stanza open">&gt; &gt; Strange distribution name [XML::Dumper]
&gt; &gt;
</div>&gt;    Module
<div class="message-stanza open">&gt; &gt; id = XML::Dumper
&gt; &gt;     DESCRIPTION  Converts XML from/to
</div>&gt;    Perl code
<div class="message-stanza open">&gt; &gt; CPAN_USERID  MIKEWONG &#40;Mike Wong
</div>&gt;    &lt;mike_w3@pacbell.net&gt;&#41;
<div class="message-stanza open">&gt; &gt; CPAN_VERSION 0.81
&gt; &gt;     CPAN_FILE
</div>&gt;    M/MI/MIKEWONG/XML-Dumper-
<div class="message-stanza open">&gt; &gt; 0.81.tar.gz
&gt; &gt;     UPLOAD_DATE  2006-
</div>&gt;    04-05
<div class="message-stanza open">&gt; &gt;     DSLIP_STATUS ampO?
&gt; &gt; &#40;alpha,mailing-list,perl,object-
</div>&gt;    oriented,&#41;
<div class="message-stanza open">&gt; &gt;     MANPAGE
&gt; &gt; XML::Dumper - Perl module for dumping
</div>&gt;    Perl objects from/to XML
<div class="message-stanza open">&gt; &gt; INST_FILE    C:\strawberry-
</div>&gt;    perl\perl\site\lib\XML\Dumper.pm
<div class="message-stanza open">&gt; &gt; INST_VERSION 0.81
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
</div><div class="message-stanza open">&gt;    cpan&gt; i XML::Parser
</div><div class="message-stanza open">&gt; &gt; CPAN: Storable loaded ok
&gt; &gt; &#40;v2.15&#41;
&gt; &gt; Going
</div>&gt;    to read C:\DOCUME~1\CGowing\LOCALS~1\Temp\cpan\Metadata
<div class="message-stanza open">&gt; &gt; Database
</div>&gt;    was generated on Wed, 12 Mar 2008 18:30:48 GMT
<div class="message-stanza open">&gt; &gt; Strange
&gt; &gt;
</div>&gt;    distribution name [XML::Parser]
<div class="message-stanza open">&gt; &gt; Module id = XML::Parser
&gt; &gt;
</div>&gt;    DESCRIPTION  Flexible fast parser with plug-in styles
<div class="message-stanza open">&gt; &gt;
</div>&gt;    CPAN_USERID
<div class="message-stanza open">&gt; &gt; COOPERCL &#40;Clark Cooper &lt;clark@coopercc.net&gt;&#41;
&gt; &gt;
</div>&gt;    CPAN_VERSION 2.36
<div class="message-stanza open">&gt; &gt; CPAN_FILE    M/MS/MSERGEANT/XML-Parser-
</div>&gt;    2.36.tar.gz
<div class="message-stanza open">&gt; &gt;     UPLOAD_DATE
&gt; &gt; 2007-11-20
&gt; &gt;     DSLIP_STATUS
</div>&gt;    bmcO? &#40;beta,mailing-list,C,object-
<div class="message-stanza open">&gt; &gt; oriented,&#41;
&gt; &gt;     MANPAGE
</div>&gt;    XML::Parser - A perl module for parsing
<div class="message-stanza open">&gt; &gt; XML documents
&gt; &gt;
</div>&gt;    INST_FILE    C:\strawberry-
<div class="message-stanza open">&gt; &gt; perl\perl\site\lib\XML\Parser.pm
&gt; &gt;
</div>&gt;    INST_VERSION 2.36
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Perl
&gt; &gt; version info
&gt; &gt; I&#39;m usign
</div>&gt;    Strawberry Perl:
<div class="message-stanza open">&gt; &gt; C:\chas_sandbox\grammars&gt;perl -v
&gt; &gt;
&gt; &gt; This is
</div>&gt;    perl, v5.8.8 built for
<div class="message-stanza open">&gt; &gt; MSWin32-x86-multi-thread
&gt; &gt;
&gt; &gt; Copyright
</div>&gt;    1987-2006, Larry Wall
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Perl
&gt; &gt; may be copied only under the
</div>&gt;    terms of either the Artistic License or
<div class="message-stanza open">&gt; &gt; the
&gt; &gt; GNU General
</div>&gt;    Public License, which may be found in the Perl 5
<div class="message-stanza open">&gt; &gt; source kit.
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; Complete documentation for Perl, including FAQ lists,
</div><div class="message-stanza open">&gt; &gt; should
</div>&gt;    be found on
<div class="message-stanza open">&gt; &gt; this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.
&gt; &gt;
</div>&gt;    If you have access to the
<div class="message-stanza open">&gt; &gt; Internet, point your browser at
&gt; &gt;
</div>&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; I have expat
</div>&gt;    installed
<div class="message-stanza open">&gt; &gt; from expat-win32bin-2.0.1.exe &#40;no small feat in itself
</div>&gt;    - check out
<div class="message-stanza open">&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mike-a-roni.com/2008/01/04/strawberry-">http://www.mike-a-roni.com/2008/01/04/strawberry-</a></span>
</div>&gt;    perl-expat-xmlparser-
<div class="message-stanza open">&gt; &gt; and-you/&#41;
&gt; &gt;
&gt; &gt; OS Vendor and Version
&gt; &gt;
</div>&gt;    I&#39;m on Windows XP:
<div class="message-stanza open">&gt; &gt; C:\strawberry-
&gt; &gt; perl\expat\Bin&gt;ver
&gt; &gt;
&gt; &gt;
</div>&gt;    Microsoft Windows XP [Version 5.1.2600]
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Now
&gt; &gt; for the bug
&gt; &gt;
</div>&gt;    I&#39;m trying to use store/retrieve with the XML::Dumper
<div class="message-stanza open">&gt; &gt; serializer
</div>&gt;    and get:
<div class="message-stanza open">&gt; &gt; no element found at line 1, column 10, byte 10 at
&gt; &gt;
</div>&gt;    C:/strawberry-perl/perl/site/l
<div class="message-stanza open">&gt; &gt; ib/XML/Parser.pm line 187
&gt; &gt;
&gt; &gt;
</div>&gt;    I&#39;m using
<div class="message-stanza open">&gt; &gt; this fairly straightforward harness to test it:
&gt; &gt;
</div>&gt;    #/usr/bin/perl -Wl
<div class="message-stanza open">&gt; &gt; use strict;
&gt; &gt; use warnings;
&gt; &gt; use
</div>&gt;    Data::Dumper;
<div class="message-stanza open">&gt; &gt; use Data::Serializer;
&gt; &gt; my $datatostore =
</div>&gt;    [&#39;samplecomplexdata&#39;,
<div class="message-stanza open">&gt; &gt; [&#39;list&#39;,&#39;of&#39;,&#39;strings&#39;],
&gt; &gt;
</div>&gt;    {hash=&gt;&#39;of&#39;,more=&gt;&#39;data&#39;}
<div class="message-stanza open">&gt; &gt; ];
&gt; &gt; my $datafromretrieve;
&gt; &gt; my
</div>&gt;    $Dserializer
<div class="message-stanza open">&gt; &gt; = Data::Serializer-&gt;new&#40;portable   =&gt;
</div>&gt;    &#39;0&#39;,serializer =&gt;
<div class="message-stanza open">&gt; &gt; &#39;Data::Dumper&#39;&#41;;
&gt; &gt; my $outfile = &#39;data.out&#39;;
</div><div class="message-stanza open">&gt;    &gt;
</div><div class="message-stanza open">&gt; &gt; print
&gt; &gt; Dumper&#40;$datatostore&#41;;
&gt; &gt; $Dserializer-&gt;store&#40;
&gt; &gt;
</div>&gt;    $datatostore,
<div class="message-stanza open">&gt; &gt; $outfile,
&gt; &gt;     &#39;&gt;&gt;&#39;
&gt; &gt; &#41;;
&gt; &gt; $datafromretrieve =
</div>&gt;    $Dserializer-&gt;retrieve&#40;
<div class="message-stanza open">&gt; &gt; $outfile
&gt; &gt; &#41;;
&gt; &gt; print
</div>&gt;    Dumper&#40;$datafromretrieve&#41;;
<div class="message-stanza open">&gt; &gt;
</div>&gt;    #######################################
<div class="message-stanza open">&gt; &gt; #now as xml
&gt; &gt; my
</div>&gt;    $Xserializer
<div class="message-stanza open">&gt; &gt; = Data::Serializer-&gt;new&#40;portable   =&gt;
</div>&gt;    &#39;0&#39;,serializer =&gt;
<div class="message-stanza open">&gt; &gt; &#39;XML::Dumper&#39;&#41;;
&gt; &gt; $outfile = &#39;data.xml&#39;;
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; print Dumper&#40;$datatostore&#41;;
</div><div class="message-stanza open">&gt; &gt; $Xserializer-&gt;store&#40;
&gt; &gt;
</div>&gt;    $datatostore,
<div class="message-stanza open">&gt; &gt;     $outfile,
&gt; &gt;     &#39;&gt;&gt;&#39;
&gt; &gt; &#41;;
&gt; &gt;
</div>&gt;    $datafromretrieve = $Xserializer-&gt;retrieve&#40;
<div class="message-stanza open">&gt; &gt;     $outfile
&gt; &gt; &#41;;
</div><div class="message-stanza open">&gt;    &gt; print
</div><div class="message-stanza open">&gt; &gt; Dumper&#40;$datafromretrieve&#41;;
&gt; &gt;
&gt; &gt; and getting the
</div>&gt;    following output:
<div class="message-stanza open">&gt; &gt; C:\chas_sandbox\grammars&gt;retrievedemo.pl
&gt; &gt;
</div>&gt;    $VAR1 = [
<div class="message-stanza open">&gt; &gt; &#39;samplecomplexdata&#39;,
&gt; &gt;           [
&gt; &gt;
</div>&gt;    &#39;list&#39;,
<div class="message-stanza open">&gt; &gt; &#39;of&#39;,
&gt; &gt;             &#39;strings&#39;
&gt; &gt;           ],
&gt; &gt;
</div>&gt;    {
<div class="message-stanza open">&gt; &gt; &#39;hash&#39; =&gt; &#39;of&#39;,
&gt; &gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; &gt;           }
</div><div class="message-stanza open">&gt;    &gt;         ];
</div><div class="message-stanza open">&gt; &gt; $VAR1 = [
&gt; &gt;           &#39;samplecomplexdata&#39;,
&gt; &gt;
</div>&gt;    [
<div class="message-stanza open">&gt; &gt; &#39;list&#39;,
&gt; &gt;             &#39;of&#39;,
&gt; &gt;             &#39;strings&#39;
&gt; &gt;
</div>&gt;    ],
<div class="message-stanza open">&gt; &gt; {
&gt; &gt;             &#39;hash&#39; =&gt; &#39;of&#39;,
&gt; &gt;             &#39;more&#39; =&gt;
</div>&gt;    &#39;data&#39;
<div class="message-stanza open">&gt; &gt; }
&gt; &gt;         ];
&gt; &gt; $VAR1 = [
&gt; &gt;
</div>&gt;    &#39;samplecomplexdata&#39;,
<div class="message-stanza open">&gt; &gt;           [
&gt; &gt; &#39;list&#39;,
&gt; &gt;             &#39;of&#39;,
</div><div class="message-stanza open">&gt;    &gt;             &#39;strings&#39;
</div><div class="message-stanza open">&gt; &gt;           ],
&gt; &gt; {
&gt; &gt;             &#39;hash&#39;
</div>&gt;    =&gt; &#39;of&#39;,
<div class="message-stanza open">&gt; &gt;             &#39;more&#39; =&gt; &#39;data&#39;
&gt; &gt; }
&gt; &gt;         ];
&gt; &gt;
&gt; &gt;
</div>&gt;    no element found at line 1, column 10, byte 10 at
<div class="message-stanza open">&gt; &gt; C:/strawberry-
</div>&gt;    perl/perl/site/l
<div class="message-stanza open">&gt; &gt; ib/XML/Parser.pm line 187
&gt; &gt;
</div>&gt;    C:\chas_sandbox\grammars&gt;
<div class="message-stanza open">&gt; &gt;
</div>&gt;    -----------------------------------------
<div class="message-stanza open">&gt; &gt; Note:  The information
</div><div class="message-stanza open">&gt;    &gt; contained in this email and in any
</div><div class="message-stanza open">&gt; &gt; attachments is intended
</div>&gt;    only for the person or entity to which it
<div class="message-stanza open">&gt; &gt; is addressed and may
</div>&gt;    contain confidential and/or privileged
<div class="message-stanza open">&gt; &gt; material.  Any review,
</div>&gt;    retransmission, dissemination or other use
<div class="message-stanza open">&gt; &gt; of, or taking of any
</div>&gt;    action in reliance upon, this information by
<div class="message-stanza open">&gt; &gt; persons or entities
</div>&gt;    other than the intended recipient is
<div class="message-stanza open">&gt; &gt; prohibited.  The recipient
</div>&gt;    should check this email and any
<div class="message-stanza open">&gt; &gt; attachments for the presence of
</div>&gt;    viruses.  Sender accepts no
<div class="message-stanza open">&gt; &gt; liability for any damages caused by
</div>&gt;    any virus transmitted by this
<div class="message-stanza open">&gt; &gt; email. If you have received this
</div>&gt;    email in error, please notify us
<div class="message-stanza open">&gt; &gt; immediately by replying to the
</div>&gt;    message and delete the email from
<div class="message-stanza open">&gt; &gt; your computer.  This e-mail is
</div>&gt;    and any response to it will be
<div class="message-stanza open">&gt; &gt; unencrypted and, therefore,
</div>&gt;    potentially unsecure.  Thank you.  NOVA
<div class="message-stanza open">&gt; &gt; Information Systems,
</div>&gt;    Inc.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; -----------------------------------------
&gt; Note:
&gt;    The information contained in this email and in any
&gt; attachments is intended only for the person or entity to which it
&gt; is addressed and may contain confidential and/or privileged
&gt; material.  Any review, retransmission, dissemination or other use
&gt; of, or taking of any action in reliance upon, this information by
&gt; persons or entities other than the intended recipient is
&gt; prohibited.  The recipient should check this email and any
&gt; attachments for the presence of viruses.  Sender accepts no
&gt; liability for any damages caused by any virus transmitted by this
&gt; email. If you have received this email in error, please notify us
&gt; immediately by replying to the message and delete the email from
&gt; your computer.  This e-mail is and any response to it will be
&gt; unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
&gt; Information Systems, Inc.
</div>




-----------------------------------------
Note:  The information contained in this email and in any
attachments is intended only for the person or entity to which it
is addressed and may contain confidential and/or privileged
material.  Any review, retransmission, dissemination or other use
of, or taking of any action in reliance upon, this information by
persons or entities other than the intended recipient is
prohibited.  The recipient should check this email and any
attachments for the presence of viruses.  Sender accepts no
liability for any damages caused by any virus transmitted by this
email. If you have received this email in error, please notify us
immediately by replying to the message and delete the email from
your computer.  This e-mail is and any response to it will be
unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
Information Systems, Inc.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;18:44:10&nbsp;2008</span>
    <span class="description">neil [...] neely.cx -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just uploaded Data::Serializer version .44 to CPAN with several changes in place.  It should 
be publicly available shortly.

First off:  retrieve now reads in the whole file instead of just the first line.  This is reverse 
compatible with the default use of store.

Secondly:  The constructor can now have a flag of raw that you can set to a true value in 
order for the output to be in the native serializer format.  So to pull off what you are looking 
for:

my $xml = Data::Serializer-&gt;new&#40;serializer =&gt; &#39;XML::Dumper&#39;, raw =&gt; 1&#41;;
$xml-&gt;store&#40;$data,$file&#41;;

and to retrieve it, use the same constructor and:

$thawed = $xml-&gt;retrieve&#40;$file&#41;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;18:44:12&nbsp;2008</span>
    <span class="description">neil [...] neely.cx -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;14&nbsp;13:30:22&nbsp;2008</span>
    <span class="description">charles.gowing [...] novainfo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34047] retrieve broken with XML::Dumper </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 14 Mar 2008 13:29:20 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-Data-Serializer [...] rt.cpan.org&#39;&#34; &lt;bug-Data-Serializer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Gowing, Charles&#34; &lt;charles.gowing [...] novainfo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks again for the prompt reaponse. Is there any place I should go to &#34;rate&#34; you as module maintainer?

-----------------------------------------
Note:  The information contained in this email and in any
attachments is intended only for the person or entity to which it
is addressed and may contain confidential and/or privileged
material.  Any review, retransmission, dissemination or other use
of, or taking of any action in reliance upon, this information by
persons or entities other than the intended recipient is
prohibited.  The recipient should check this email and any
attachments for the presence of viruses.  Sender accepts no
liability for any damages caused by any virus transmitted by this
email. If you have received this email in error, please notify us
immediately by replying to the message and delete the email from
your computer.  This e-mail is and any response to it will be
unencrypted and, therefore, potentially unsecure.  Thank you.  NOVA
Information Systems, Inc.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;14&nbsp;13:30:23&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;14&nbsp;13:43:36&nbsp;2008</span>
    <span class="description">neil [...] neely.cx -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
