<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #51218 for HTML-Template-Pro: built-in find_file pro.xs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #51218 for HTML-Template-Pro: built-in find_file pro.xs</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/HTML-Template-Pro/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/HTML-Template-Pro/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/HTML-Template-Pro/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/HTML-Template-Pro/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTML-Template-Pro">HTML-Template-Pro CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">51218</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/HTML-Template-Pro/Active/">HTML-Template-Pro</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cnighswonger [...] foundations.edu

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Unimportant    </td>
  </tr>
  <tr id="CF-16106-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16107-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




HTML-Template-2.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/687986/354152/HTML-Template-2.t">
Tue Nov 10 12:32:13 2009 (533b) by vlasenko [...] imath.kiev.ua
</a>
</font></li>
</ul>


HTML-Template-Pro-0.93.rar<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/693698/357477/HTML-Template-Pro-0.93.rar">
Thu Nov 19 19:59:31 2009 (201.5k) by cnighswonger [...] foundations.edu
</a>
</font></li>
</ul>


HTML-Template-Pro-0.93.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/694429/357932/HTML-Template-Pro-0.93.tar.gz">
Sat Nov 21 09:05:22 2009 (163k) by vlasenko [...] imath.kiev.ua
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/692187/356365/HTML-Template-Pro-0.93.tar.gz">
Tue Nov 17 14:36:48 2009 (162.9k) by vlasenko [...] imath.kiev.ua
</a>
</font></li>
</ul>


Pro.xs.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/688106/354213/Pro.xs.diff">
Tue Nov 10 21:00:49 2009 (666b) by cnighswonger [...] foundations.edu
</a>
</font></li>
</ul>


screen.copy<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/690922/355711/screen.copy">
Sat Nov 14 17:35:30 2009 (5.1k) by vlasenko [...] imath.kiev.ua
</a>
</font></li>
</ul>


test-perl-env.zip<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/690806/355639/test-perl-env.zip">
Sat Nov 14 15:15:39 2009 (12.6k) by vlasenko [...] imath.kiev.ua
</a>
</font></li>
</ul>


test-perl-env2.zip<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/690876/355681/test-perl-env2.zip">
Sat Nov 14 16:54:49 2009 (20.3k) by vlasenko [...] imath.kiev.ua
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;08&nbsp;22:58:46&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> built-in find_file pro.xs</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">T::P build under Strawberry 10.0.1 on Win32 fails HTML-Template.t. It
appears to be an issue with pathing and a built in &#39;file_find&#39; function.

Let me know if you need anything else.

Chris

-----------------------

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;perl
HTML-Template.t
ok 1 - use HTML::Template::Pro;
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 2
Died at HTML-Template.t line 19.
1..2
# Looks like your test exited with 2 just after 2.

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;perl
HTML-Template.t
ok 1 - use HTML::Template::Pro;
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 2
built-in find_file: can&#39;t find file medium.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 3
built-in find_file: can&#39;t find file simple-loop.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 4
#   Failed test at HTML-Template.t line 61.
built-in find_file: can&#39;t find file simple-loop-nonames.tmpl with path =
[ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 5
#   Failed test at HTML-Template.t line 72.
built-in find_file: can&#39;t find file long_loops.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 6
built-in find_file: can&#39;t find file include.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 7
#   Failed test at HTML-Template.t line 90.
built-in find_file: can&#39;t find file include.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 8
#   Failed test at HTML-Template.t line 101.
built-in find_file: can&#39;t find file include.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 9
#   Failed test at HTML-Template.t line 114.
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 10
#   Failed test at HTML-Template.t line 132.
built-in find_file: can&#39;t find file other-loop.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 11
built-in find_file: can&#39;t find file if.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 12
built-in find_file: can&#39;t find file if.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 13
#   Failed test at HTML-Template.t line 166.
built-in find_file: can&#39;t find file ifelse.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 14
#   Failed test at HTML-Template.t line 176.
built-in find_file: can&#39;t find file ifelse.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 15
#   Failed test at HTML-Template.t line 187.
built-in find_file: can&#39;t find file double_loop.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 16
#   Failed test at HTML-Template.t line 202.
built-in find_file: can&#39;t find file escape.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 17
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 18
#   Failed test at HTML-Template.t line 227.
ok 19 # skip Skipping die test. Not supported in Pro
#
built-in find_file: can&#39;t find file unless.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 20
#   Failed test at HTML-Template.t line 254.
built-in find_file: can&#39;t find file unless.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 21
#   Failed test at HTML-Template.t line 266.
built-in find_file: can&#39;t find file context.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 22
#   Failed test at HTML-Template.t line 286.
built-in find_file: can&#39;t find file loop-if.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 23
#   Failed test at HTML-Template.t line 295.
built-in find_file: can&#39;t find file loop-if.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 24
ok 25 # skip Skipping shared memory cache test.  See README to enable
#
ok 26 # skip Skipping shared memory cache test.  See README to enable
#
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 27
#   Failed test at HTML-Template.t line 371.
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 28
#   Failed test at HTML-Template.t line 382.
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates/&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 29
#   Failed test at HTML-Template.t line 401.
built-in find_file: can&#39;t find file urlescape.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
ok 30
ok 31 # skip Skipping query test. Not supported in Pro
#
ok 32 # skip Skipping query test. Not supported in Pro
#
built-in find_file: can&#39;t find file globals.tmpl with path = [ &#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 33
#   Failed test at HTML-Template.t line 457.
ok 34 # skip Skipping vanguard test. Not supported in Pro
#
built-in find_file: can&#39;t find file loop-context.tmpl with path = [
&#39;templates&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 35
#   Failed test at HTML-Template.t line 480.
built-in find_file: can&#39;t find file include.tmpl with path = [
&#39;templates/searchpath/&#39; &#39;templates/&#39;
]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 36
#   Failed test at HTML-Template.t line 490.
ok 37 # skip Skipping die test. Not supported in Pro
#
built-in find_file: can&#39;t find file simple.tmpl with path = [ &#39;templates/&#39; ]
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 38
#   Failed test at HTML-Template.t line 525.
built-in find_file: can&#39;t find file templates/simple-loop.tmpl with
empty path list
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 39
#   Failed test at HTML-Template.t line 545.
built-in find_file: can&#39;t find file ./templates/include_path/a.tmpl with
empty path list
Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
not ok 40
#   Failed test at HTML-Template.t line 549.
No such file or directory at HTML-Template.t line 551.
1..40
# Looks like you failed 24 tests of 40.
# Looks like your test exited with 2 just after 40.

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:09&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;perl
&gt; HTML-Template.t
</div>You are showing me an invalid command :&#40;
there is no &#39;templates&#39; dir in t, isn&#39;t it?
try perl t/HTML-Template.t from upper level directory.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:10&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:12&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:20&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Severity Critical changed to Unimportant</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:27:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Broken in 0.92 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:49:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Пнд. Ноя. 09 06:27:09 2009, VIY писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;perl
&gt; &gt; HTML-Template.t
</div>&gt; You are showing me an invalid command :&#40;
&gt; there is no &#39;templates&#39; dir in t, isn&#39;t it?
&gt; try perl t/HTML-Template.t from upper level directory.
</div>
If everything is OK, feel free to report.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;06:49:51&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;08:02:13&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 9 Nov 2009 08:01:12 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,

On Mon, Nov 9, 2009 at 6:49 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Пнд. Ноя. 09 06:27:09 2009, VIY писал:
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt; &gt; C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\t&gt;perl
&gt;&gt; &gt; HTML-Template.t
</div>&gt;&gt; You are showing me an invalid command :&#40;
&gt;&gt; there is no &#39;templates&#39; dir in t, isn&#39;t it?
&gt;&gt; try perl t/HTML-Template.t from upper level directory.
</div>&gt;
&gt; If everything is OK, feel free to report.
</div>
The test fails the same way when run via &#39;dmake test&#39;

I&#39;ll be glad to supply output if you would like it later this evening
as I&#39;m not near my win32 machine atm.

Kind Regards,
Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;08:02:31&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The test fails the same way when run via &#39;dmake test&#39;

I&#39;ll be glad to supply output if you would like it later this evening
as I&#39;m not near my win32 machine atm.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;09:10:46&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Пнд. Ноя. 09 08:02:31 2009, cnighswonger писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The test fails the same way when run via &#39;dmake test&#39;
&gt; 
&gt; I&#39;ll be glad to supply output if you would like it later this evening
&gt; as I&#39;m not near my win32 machine atm.
</div>
Тhank you. Please, try it then from project root directory.

This test should be run from project root directory only.
It is expected that it fails if called from somewhere else.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;10:04:40&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 9 Nov 2009 10:03:47 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Nov 9, 2009 at 9:10 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Пнд. Ноя. 09 08:02:31 2009, cnighswonger писал:
<div class="message-stanza open">&gt;&gt; The test fails the same way when run via &#39;dmake test&#39;
&gt;&gt;
&gt;&gt; I&#39;ll be glad to supply output if you would like it later this evening
&gt;&gt; as I&#39;m not near my win32 machine atm.
</div>&gt;
&gt; Тhank you. Please, try it then from project root directory.
&gt;
&gt; This test should be run from project root directory only.
&gt; It is expected that it fails if called from somewhere else.
</div>
Thanks for the assistance.

As mentioned above, the test fails when run via &#39;dmake test&#39;.

Here is the output:

Microsoft Windows XP [Version 5.1.2600]
&#40;C&#41; Copyright 1985-2001 Microsoft Corp.

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;dmake test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\ar
ch&#39;&#41;&#34; t/*.t
t/01coderefs.t .................. ok
t/02basic.t ..................... ok
t/02random.t .................... ok
t/03complex.t ................... ok
t/04register.t .................. ok
t/05path_like_variable_scope.t .. ok
t/HTML-Template-Expr.t .......... ok
t/HTML-Template-Pro.t ........... ok
t/HTML-Template.t ............... 1/? built-in find_file: can&#39;t find
file three.tmpl with path = [ &#39;
searchpath&#39; ]
Pro.xs: non-zero exit code 2 at
C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\blib\lib/HTML
/Template/Pro.pm line 198.

#   Failed test at t/HTML-Template.t line 736.
# Looks like you failed 1 test of 74.
t/HTML-Template.t ............... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/74 subtests
        &#40;less 9 skipped subtests: 64 okay&#41;
t/magic.t ....................... ok
t/pod.t ......................... ok
t/realloc.t ..................... ok

Test Summary Report
-------------------
t/HTML-Template.t             &#40;Wstat: 256 Tests: 74 Failed: 1&#41;
  Failed test:  56
  Non-zero exit status: 1
Files=12, Tests=475,  5 wallclock secs &#40; 0.19 usr +  0.06 sys =  0.25 CPU&#41;
Result: FAIL
Failed 1/12 test programs. 1/475 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;10:15:44&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">thank you! It is definitely a bug.
I&#39;d also like to ask you to provide output from modified HTML-Template.t
just, please, add &#39;verbose&#39; option.

diff --git a/t/HTML-Template.t b/t/HTML-Template.t
index 73189dc..e5fd74a 100644
--- a/t/HTML-Template.t
+++ b/t/HTML-Template.t
@@ -729,6 +729,7 @@ ok&#40;$output =~ /ONE/ and $output =~ /TWO/ and $output
=~ /THREE/&#41;;
 {
     local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
     $template = HTML::Template-&gt;new&#40;
+                                    verbose =&gt; 7,
                                     path =&gt; [&#39;searchpath&#39;],
                                     filename =&gt; &#39;three.tmpl&#39;,
                                    &#41;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;09&nbsp;10:51:08&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 9 Nov 2009 10:50:25 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Nov 9, 2009 at 10:15 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; thank you! It is definitely a bug.
&gt; I&#39;d also like to ask you to provide output from modified HTML-Template.t
&gt; just, please, add &#39;verbose&#39; option.
&gt;
&gt; diff --git a/t/HTML-Template.t b/t/HTML-Template.t
&gt; index 73189dc..e5fd74a 100644
&gt; --- a/t/HTML-Template.t
&gt; +++ b/t/HTML-Template.t
&gt; @@ -729,6 +729,7 @@ ok&#40;$output =~ /ONE/ and $output =~ /TWO/ and $output
&gt; =~ /THREE/&#41;;
&gt;  {
&gt;     local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt;     $template = HTML::Template-&gt;new&#40;
&gt; +                                    verbose =&gt; 7,
&gt;                                     path =&gt; [&#39;searchpath&#39;],
&gt;                                     filename =&gt; &#39;three.tmpl&#39;,
&gt;                                    &#41;;
&gt;
</div>
I added the requested line and here is the output: &#40;though it looks
the same to me...&#41;


C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;dmake test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\ar
ch&#39;&#41;&#34; t/*.t
t/01coderefs.t .................. ok
t/02basic.t ..................... ok
t/02random.t .................... ok
t/03complex.t ................... ok
t/04register.t .................. ok
t/05path_like_variable_scope.t .. ok
t/HTML-Template-Expr.t .......... ok
t/HTML-Template-Pro.t ........... ok
t/HTML-Template.t ............... 1/? built-in find_file: can&#39;t find
file three.tmpl with path = [ &#39;
searchpath&#39; ]
Pro.xs: non-zero exit code 2 at
C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm\blib\lib/HTML
/Template/Pro.pm line 198.

#   Failed test at t/HTML-Template.t line 737.
# Looks like you failed 1 test of 74.
t/HTML-Template.t ............... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/74 subtests
        &#40;less 9 skipped subtests: 64 okay&#41;
t/magic.t ....................... ok
t/pod.t ......................... ok
t/realloc.t ..................... ok

Test Summary Report
-------------------
t/HTML-Template.t             &#40;Wstat: 256 Tests: 74 Failed: 1&#41;
  Failed test:  56
  Non-zero exit status: 1
Files=12, Tests=475,  3 wallclock secs &#40; 0.33 usr +  0.06 sys =  0.39 CPU&#41;
Result: FAIL
Failed 1/12 test programs. 1/475 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;10&nbsp;12:32:13&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">sorry for the delay, the bug seems to be specific to win32 platform.
Still I am uncertan what it is, either it is some kind of
memory corruption or an error in find_file under win32.
the suspictious part is that it looks like there is a strange newline 
before searchpath. 

Please, try the shortened version of the test with the only test that
failed &#40;I attached it&#41;.


Also, I would like to try reproducing the bug. I have VirtualBox emulator.
could you give me links how to set up win32 mashine to build a module
for Strawberry perl?
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl -w
use strict;
use Test::More qw&#40;no_plan&#41;;

use_ok&#40;&#39;HTML::Template::Pro&#39;&#41;;

my &#40;$output, $template, $result&#41;;

# test using HTML_TEMPLATE_ROOT with path
{
    local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
    $template = HTML::Template-&gt;new&#40;
                                    verbose =&gt; 7,
                                    path =&gt; [&#39;searchpath&#39;],
                                    filename =&gt; &#39;three.tmpl&#39;,
                                   &#41;;
    $output =  $template-&gt;output;
    ok&#40;$output =~ /THREE/&#41;;
}

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;10&nbsp;18:42:12&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 Nov 2009 18:41:37 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,

On Tue, Nov 10, 2009 at 12:32 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; sorry for the delay, the bug seems to be specific to win32 platform.
&gt; Still I am uncertan what it is, either it is some kind of
&gt; memory corruption or an error in find_file under win32.
&gt; the suspictious part is that it looks like there is a strange newline
&gt; before searchpath.
</div>
It must be a regression as T::P 0.70 works fine. I&#39;ll try to do a
binary search to locate when the bug was introduced.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Please, try the shortened version of the test with the only test that
&gt; failed &#40;I attached it&#41;.
</div>
This test alone works fine. Here&#39;s the output:

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;perl t/HTML-Template-2.t
ok 1 - use HTML::Template::Pro;
ok 2
1..2

C:\strawberry\cpan\build\HTML-Template-Pro-0.92-os8Txm&gt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;
&gt; Also, I would like to try reproducing the bug. I have VirtualBox emulator.
&gt; could you give me links how to set up win32 mashine to build a module
&gt; for Strawberry perl?
</div>
It is very easy to setup. Download and run the following:

<span class="clickylink"><a target="new" rel="nofollow" href="http://strawberry-perl.googlecode.com/files/strawberry-perl-5.10.1.0.msi">http://strawberry-perl.googlecode.com/files/strawberry-perl-5.10.1.0.msi</a></span>

Once installed, you should have a menu item for Strawberry Perl. In
that menu there is a cpan client. You can start it and install T::P
from there.

You can also just download and extract the tarball into the
c:\strawberry\cpan\build directory. Then open a cmd.exe prompt and cd
into the T::P directory. From there you can &#39;perl Makefile.PL&#39;,
&#39;dmake&#39;, dmake test&#39;, dmake install&#39;.

I use WinRAR for extracting tarballs on win32: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.rarlab.com/">http://www.rarlab.com/</a></span>

Let me know if I can do anything else. My C is extremely rusty, so
I&#39;ll not be much help with the C libraries.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;10&nbsp;21:00:48&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 Nov 2009 20:59:47 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Nov 10, 2009 at 6:41 PM, Chris Nighswonger
&lt;cnighswonger@foundations.edu&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; sorry for the delay, the bug seems to be specific to win32 platform.
&gt;&gt; Still I am uncertan what it is, either it is some kind of
&gt;&gt; memory corruption or an error in find_file under win32.
&gt;&gt; the suspictious part is that it looks like there is a strange newline
&gt;&gt; before searchpath.
</div>&gt;
&gt; It must be a regression as T::P 0.70 works fine. I&#39;ll try to do a
&gt; binary search to locate when the bug was introduced.
</div>
Below is a summary of my tests. It appears that the present bug was
introduced during the update from 0.86 to 0.90. There were also issues
between 0.75 and 0.86, but I seem to recall some notes in the
change.log about a win32 problem that was fixed during that period.

0.90 compiles ok, but fails the same test as 0.92. The test output is below.
0.86 compiles ok and passes all tests
0.83 will not compile complaining about syntax errors in tmplpro.h and Pro.xs
0.82 will not compile complaining about syntax errors in tmplpro.h and Pro.xs
0.81 compiles ok, but fails a test. The output is below.
0.75 compiles ok and passes all tests

After further debugging:

File_find was disabled in 0.86. At line 468 of Pro.xs I read this
comment: &#34;  /* enable to use buit-in find_file */&#34; and the if block
condition is false. Making the condition true and re-compiling causes
0.86 to fail on exactly the same test as 0.90 and 0.92. So it does
indeed seem to be an issue with file_find.

More work:

I find in the changelog:

0.87 Wed Aug 26 22:08:41 EEST 2009
        - perl: by default, built-in find_file implementation is used.
          the old perl find_file implementation can be re-enabled with
          __use_perl_find_file option.
          Please, report any misbehavior of built-in find_file implementation

This seems to confirm that the use of the built-in file_find breaks
T::P on win32.

And if I modify Pro.xs to force the use of the &#34;old perl find_file
implementation&#34; &#40;see attached diff&#41; the tests all pass.

I hope this helps.


0.90 &#39;dmake test&#39; output:
------------------
C:\strawberry\cpan\build\HTML-Template-Pro-0.90&gt;dmake test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\ar
ch&#39;&#41;&#34; t/*.t
t/01coderefs.t .................. ok
t/02basic.t ..................... ok
t/02random.t .................... ok
t/03complex.t ................... ok
t/04register.t .................. ok
t/05path_like_variable_scope.t .. ok
t/HTML-Template-Expr.t .......... ok
t/HTML-Template-Pro.t ........... ok
t/HTML-Template.t ............... 1/? built-in find_file: can&#39;t find
file three.tmpl with path = [ &#39;
searchpath&#39; ]
Pro.xs: non-zero exit code 2 at
C:\strawberry\cpan\build\HTML-Template-Pro-0.90\blib\lib/HTML/Templa
te/Pro.pm line 198.

#   Failed test at t/HTML-Template.t line 736.
# Looks like you failed 1 test of 74.
t/HTML-Template.t ............... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/74 subtests
        &#40;less 9 skipped subtests: 64 okay&#41;
t/magic.t ....................... ok
t/pod.t ......................... ok
t/realloc.t ..................... ok

Test Summary Report
-------------------
t/HTML-Template.t             &#40;Wstat: 256 Tests: 74 Failed: 1&#41;
  Failed test:  56
  Non-zero exit status: 1
Files=12, Tests=475,  3 wallclock secs &#40; 0.25 usr +  0.13 sys =  0.38 CPU&#41;
Result: FAIL
Failed 1/12 test programs. 1/475 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;

C:\strawberry\cpan\build\HTML-Template-Pro-0.90&gt;
------------------

0.81 &#39;dmake test&#39; output:
------------------
C:\strawberry\cpan\build\HTML-Template-Pro-0.81&gt;dmake test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\ar
ch&#39;&#41;&#34; t/*.t
t/01coderefs.t .................. ok
t/02basic.t ..................... ok
t/02random.t .................... ok
t/03complex.t ................... ok
t/04register.t .................. ok
t/05path_like_variable_scope.t .. ok
t/HTML-Template-Expr.t .......... 1/21
Comparing files test_expr8.out and TEST_EXPR8.RAW
***** test_expr8.out
&lt;b&gt;70&lt;/b&gt;
&lt;b&gt;200001000000&lt;/b&gt;
&lt;b&gt;70&lt;/b&gt;
***** TEST_EXPR8.RAW
&lt;b&gt;70&lt;/b&gt;
&lt;b&gt;-1862462912&lt;/b&gt;
&lt;b&gt;70&lt;/b&gt;
*****

# Failed test 16 in t/HTML-Template-Expr.t at line 88 fail #8
#  t/HTML-Template-Expr.t line 88 is:     ok &#40;defined $output and
$output eq &#38;catfile&#40;&#34;$file.out&#34;&#41;&#41;;

t/HTML-Template-Expr.t .......... Failed 2/21 subtests
t/HTML-Template-Pro.t ........... ok
t/HTML-Template.t ............... ok
t/pod.t ......................... ok
t/realloc.t ..................... ok

Test Summary Report
-------------------
t/HTML-Template-Expr.t        &#40;Wstat: 0 Tests: 20 Failed: 1&#41;
  Failed test:  16
  Parse errors: Bad plan.  You planned 21 tests but ran 20.
Files=11, Tests=400,  2 wallclock secs &#40; 0.17 usr +  0.14 sys =  0.31 CPU&#41;
Result: FAIL
Failed 1/11 test programs. 1/400 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;

C:\strawberry\cpan\build\HTML-Template-Pro-0.81&gt;

------------------
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;11&nbsp;11:33:21&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">so it looks like a memory corruption bug.
I am in process of setting up Strawberry perl,
thank you for advice, 
meanwhile the following patch should help
&#40;it switches off built-in find_file&#41;.
diff --git a/lib/HTML/Template/Pro.pm b/lib/HTML/Template/Pro.pm
index f6355e7..9367d1a 100644
--- a/lib/HTML/Template/Pro.pm
+++ b/lib/HTML/Template/Pro.pm
@@ -84,6 +84,7 @@ sub new {
                associate =&gt; [],
                case_sensitive =&gt; 0,
                __strict_compatibility =&gt; 1,
+               __use_perl_find_file =&gt; 1,
                force_untaint =&gt; 0,
                # ---- unsupported distinct -------
                die_on_bad_params =&gt; 0,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;11&nbsp;15:12:39&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">thank you for help, I successfully installed Strawberry Perl 
and reproduced the bug. Now just wait for 0.93 release,
it will be definitely fixed there.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;11&nbsp;15:46:45&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 11 Nov 2009 15:46:02 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Nov 11, 2009 at 3:12 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; thank you for help, I successfully installed Strawberry Perl
&gt; and reproduced the bug. Now just wait for 0.93 release,
&gt; it will be definitely fixed there.
</div>
No problem!

I&#39;ll look forward to 0.93.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;09:16:21&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд. Ноя. 11 15:12:39 2009, VIY писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; thank you for help, I successfully installed Strawberry Perl 
&gt; and reproduced the bug. Now just wait for 0.93 release,
&gt; it will be definitely fixed there.
</div>
sorry, It is again that I need your help.
I found that it is likely due to the Strawberry perl.

test below fails,
----------------------------------
#!/usr/bin/perl -w
use strict;
use Test::More qw&#40;no_plan&#41;;

use_ok&#40;&#39;HTML::Template::Pro&#39;&#41;;

my &#40;$output, $template, $result&#41;;

# test using HTML_TEMPLATE_ROOT with path
{
    local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
    $template = HTML::Template-&gt;new&#40;
                                    debug =&gt; 7,
                                    path =&gt; [&#39;searchpath&#39;],
                                    filename =&gt; &#39;three.tmpl&#39;,
                                   &#41;;
    $output =  $template-&gt;output;
    ok&#40;$output =~ /THREE/&#41;;
}
-------------------------------------
but if I set the variable manually
SET HTML_TEMPLATE_ROOT=templates
from the command line, it works as expected.

So it is the problem of the test itself,
namely, both 
local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
and
$ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
do not work as expected.

Could you recommend me a correct way?
Or is it a bug in Strawberry perl?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;09:19:55&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Чтв. Ноя. 12 09:16:21 2009, VIY писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So it is the problem of the test itself,
&gt; namely, both 
&gt; local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; and
&gt; $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; do not work as expected.
&gt; 
&gt; Could you recommend me a correct way?
&gt; Or is it a bug in Strawberry perl?
</div>
The trick there is that the environment variable
should be set in perl but the set value should be accessed
from C code un.sing getenv function.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;13&nbsp;08:28:12&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 13 Nov 2009 08:27:37 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Nov 12, 2009 at 9:19 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Чтв. Ноя. 12 09:16:21 2009, VIY писал:
<div class="message-stanza open">&gt;&gt; So it is the problem of the test itself,
&gt;&gt; namely, both
&gt;&gt; local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt;&gt; and
&gt;&gt; $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt;&gt; do not work as expected.
&gt;&gt;
&gt;&gt; Could you recommend me a correct way?
&gt;&gt; Or is it a bug in Strawberry perl?
</div>&gt;
&gt; The trick there is that the environment variable
&gt; should be set in perl but the set value should be accessed
&gt; from C code un.sing getenv function.
&gt;
</div>
Sorry for the delay.

I&#39;m going to try to get some of the guys from the Strawberry project
to take a look at this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;12:11:46&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Nov 13 08:28:12 2009, cnighswonger wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu, Nov 12, 2009 at 9:19 AM, Igor Yu. Vlasenko via RT
&gt; &lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt; &gt;
&gt; &gt; Чтв. Ноя. 12 09:16:21 2009, VIY писал:
<div class="message-stanza open">&gt; &gt;&gt; So it is the problem of the test itself,
&gt; &gt;&gt; namely, both
&gt; &gt;&gt; local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; &gt;&gt; and
&gt; &gt;&gt; $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; &gt;&gt; do not work as expected.
&gt; &gt;&gt;
&gt; &gt;&gt; Could you recommend me a correct way?
&gt; &gt;&gt; Or is it a bug in Strawberry perl?
</div>&gt; &gt;
&gt; &gt; The trick there is that the environment variable
&gt; &gt; should be set in perl but the set value should be accessed
&gt; &gt; from C code un.sing getenv function.
&gt; &gt;
</div>&gt; 
&gt; Sorry for the delay.
&gt; 
&gt; I&#39;m going to try to get some of the guys from the Strawberry project
&gt; to take a look at this.
</div>

They say the getenv should work as you expect.

I notice that if I run &#39;perl t/HTML-Template.t&#39; alone all tests pass fine.

However, going on and installing T::P with the built-in find_file
function results in failures during usage. So there must be some subtle bug.

I&#39;ll keep hacking at it. Maybe it will show up.

For now, compiling T::P without the built-in file_find function is an
acceptable work-around.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;12:14:32&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 14 12:11:46 2009, cnighswonger wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Nov 13 08:28:12 2009, cnighswonger wrote:
<div class="message-stanza open">&gt; &gt; On Thu, Nov 12, 2009 at 9:19 AM, Igor Yu. Vlasenko via RT
&gt; &gt; &lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Чтв. Ноя. 12 09:16:21 2009, VIY писал:
<div class="message-stanza open">&gt; &gt; &gt;&gt; So it is the problem of the test itself,
&gt; &gt; &gt;&gt; namely, both
&gt; &gt; &gt;&gt; local $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; &gt; &gt;&gt; and
&gt; &gt; &gt;&gt; $ENV{HTML_TEMPLATE_ROOT} = &#34;templates&#34;;
&gt; &gt; &gt;&gt; do not work as expected.
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt; Could you recommend me a correct way?
&gt; &gt; &gt;&gt; Or is it a bug in Strawberry perl?
</div>&gt; &gt; &gt;
&gt; &gt; &gt; The trick there is that the environment variable
&gt; &gt; &gt; should be set in perl but the set value should be accessed
&gt; &gt; &gt; from C code un.sing getenv function.
&gt; &gt; &gt;
</div>&gt; &gt; 
&gt; &gt; Sorry for the delay.
&gt; &gt; 
&gt; &gt; I&#39;m going to try to get some of the guys from the Strawberry project
&gt; &gt; to take a look at this.
</div>&gt; 
&gt; 
&gt; They say the getenv should work as you expect.
&gt; 
&gt; I notice that if I run &#39;perl t/HTML-Template.t&#39; alone all tests pass fine.
&gt; 
&gt; However, going on and installing T::P with the built-in find_file
&gt; function results in failures during usage. So there must be some
</div>subtle bug.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I&#39;ll keep hacking at it. Maybe it will show up.
&gt; 
&gt; For now, compiling T::P without the built-in file_find function is an
&gt; acceptable work-around.
</div>
When enabling debug, where should I look for the debug log referred to
in Pro.xs?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;14:01:46&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; However, going on and installing T::P with the built-in find_file
&gt; &gt; function results in failures during usage. So there must be some
</div>&gt; subtle bug.
</div>
feel free to report any bug you have found.
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I&#39;ll keep hacking at it. Maybe it will show up.
&gt; &gt; 
&gt; &gt; For now, compiling T::P without the built-in file_find function is an
&gt; &gt; acceptable work-around.
</div>&gt; 
&gt; When enabling debug, where should I look for the debug log referred to
&gt; in Pro.xs?
</div>
by default, debug log is printed to stderr.
In my experience, it works fine with plain perl.exe
 from cmd.exe &#34;Command Prompt&#34; window.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;15:15:39&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I wrote a simple test &#40;attached&#41; and it worked on both linux and win32.
So %ENV does work, at least sometimes. 
Well, I will dig further.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/690806/355639/test-perl-env.zip">Download test-perl-env.zip</a><br />
<span class="downloadcontenttype">application/octet-stream 12.6k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;15:32:52&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Суб. Ноя. 14 15:15:39 2009, VIY писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wrote a simple test &#40;attached&#41; and it worked on both linux and win32.
&gt; So %ENV does work, at least sometimes. 
&gt; Well, I will dig further.
</div>
I found that it is another test that fails, on line 490. I am sorry.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;16:11:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I found that it is another test that fails, on line 490. I am sorry.
</div>It was due to SET HTML_TEMPLATE_ROOT.
I&#39;ll continue tomorrow, as nothing good will come from the sleepy head.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;16:54:48&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Chris, thank you for all the help and patience.
Now I have located the problem.

Attached file is the simplest test case for the Strawberry perl.
it shows that environment variables set through %ENV
are do accessible from the Perl/XS code &#40;Perl.h included&#41;,
&#40;test 3 passes&#41;.
but are not accessible from pure C code &#40;via getenv from stdlib.h&#41;.
&#40;test 4 fails on Win32 but passes on Linux&#41;.

I guess that Strawberry perl provides its own getenv
to emulate its behaviour.

It would be wise to ask Strawberry perl upstream
though I afraid they will say that it is a feature,
there might be some kind of workaround.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/690876/355681/test-perl-env2.zip">Download test-perl-env2.zip</a><br />
<span class="downloadcontenttype">application/octet-stream 20.3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;17:12:38&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Nov 2009 17:12:04 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,

On Sat, Nov 14, 2009 at 4:54 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Chris, thank you for all the help and patience.
&gt; Now I have located the problem.
</div>
No problem. I&#39;m enjoying the challenge.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Attached file is the simplest test case for the Strawberry perl.
&gt; it shows that environment variables set through %ENV
&gt; are do accessible from the Perl/XS code &#40;Perl.h included&#41;,
&gt; &#40;test 3 passes&#41;.
&gt; but are not accessible from pure C code &#40;via getenv from stdlib.h&#41;.
&gt; &#40;test 4 fails on Win32 but passes on Linux&#41;.
</div>
I cannot seem to get it to build. Here is the results of dmake:

C:\strawberry\cpan\build\test-perl-env.git&gt;dmake
Makefile out-of-date with respect to Makefile.PL
Cleaning current config before rebuilding Makefile...
dmake -f Makefile.old clean &gt; NUL
C:\strawberry\perl\bin\perl.exe Makefile.PL
Writing Makefile for TestENV
==&gt; Your Makefile has been rebuilt. &lt;==
==&gt; Please rerun the dmake command.  &lt;==
C:\strawberry\perl\bin\perl.exe  -e &#34;exit 1&#34; --
dmake:  Error code 129, while making &#39;Makefile&#39;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; I guess that Strawberry perl provides its own getenv
&gt; to emulate its behaviour.
&gt;
&gt; It would be wise to ask Strawberry perl upstream
&gt; though I afraid they will say that it is a feature,
&gt; there might be some kind of workaround.
</div>
I&#39;ll do this as soon as I can duplicate your tests.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;17:17:27&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Суб. Ноя. 14 17:12:38 2009, cnighswonger писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Igor,
&gt; 
&gt; On Sat, Nov 14, 2009 at 4:54 PM, Igor Yu. Vlasenko via RT
&gt; &lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt; &gt;
&gt; &gt; Chris, thank you for all the help and patience.
&gt; &gt; Now I have located the problem.
</div>&gt; 
&gt; No problem. I&#39;m enjoying the challenge.
&gt; 
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Attached file is the simplest test case for the Strawberry perl.
&gt; &gt; it shows that environment variables set through %ENV
&gt; &gt; are do accessible from the Perl/XS code &#40;Perl.h included&#41;,
&gt; &gt; &#40;test 3 passes&#41;.
&gt; &gt; but are not accessible from pure C code &#40;via getenv from stdlib.h&#41;.
&gt; &gt; &#40;test 4 fails on Win32 but passes on Linux&#41;.
</div>&gt; 
&gt; I cannot seem to get it to build. Here is the results of dmake:
&gt; 
&gt; C:\strawberry\cpan\build\test-perl-env.git&gt;dmake
&gt; Makefile out-of-date with respect to Makefile.PL
&gt; Cleaning current config before rebuilding Makefile...
&gt; dmake -f Makefile.old clean &gt; NUL
&gt; C:\strawberry\perl\bin\perl.exe Makefile.PL
&gt; Writing Makefile for TestENV
&gt; ==&gt; Your Makefile has been rebuilt. &lt;==
&gt; ==&gt; Please rerun the dmake command.  &lt;==
&gt; C:\strawberry\perl\bin\perl.exe  -e &#34;exit 1&#34; --
&gt; dmake:  Error code 129, while making &#39;Makefile&#39;
</div>
hm, that Makefile.old is for Linux/gcc/gmake.
just remove it
it worked as follows:
perl makefile.PL
dmake test
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;17:23:47&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Nov 2009 17:23:10 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Nov 14, 2009 at 5:17 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
<div class="message-stanza open">&gt;&gt;
&gt;&gt; C:\strawberry\cpan\build\test-perl-env.git&gt;dmake
&gt;&gt; Makefile out-of-date with respect to Makefile.PL
&gt;&gt; Cleaning current config before rebuilding Makefile...
&gt;&gt; dmake -f Makefile.old clean &gt; NUL
&gt;&gt; C:\strawberry\perl\bin\perl.exe Makefile.PL
&gt;&gt; Writing Makefile for TestENV
&gt;&gt; ==&gt; Your Makefile has been rebuilt. &lt;==
&gt;&gt; ==&gt; Please rerun the dmake command.  &lt;==
&gt;&gt; C:\strawberry\perl\bin\perl.exe  -e &#34;exit 1&#34; --
&gt;&gt; dmake:  Error code 129, while making &#39;Makefile&#39;
</div>&gt;
&gt; hm, that Makefile.old is for Linux/gcc/gmake.
&gt; just remove it
&gt; it worked as follows:
&gt; perl makefile.PL
&gt; dmake test
&gt;
</div>
Sorry, but am I missing something here:

C:\strawberry\cpan\build\test-perl-env.git&gt;dir
 Volume in drive C has no label.
 Volume Serial Number is 6C8C-968A

 Directory of C:\strawberry\cpan\build\test-perl-env.git

11/14/2009  05:21 PM    &lt;DIR&gt;          .
11/14/2009  05:21 PM    &lt;DIR&gt;          ..
12/02/2007  05:59 PM             6,111 ARTISTIC
11/14/2009  11:35 PM               470 Makefile.PL
11/14/2009  11:34 PM               334 myenv.c
08/20/2009  09:05 PM            29,828 ppport.h
11/14/2009  05:07 PM    &lt;DIR&gt;          t
11/14/2009  09:58 PM               190 TestENV.pm
11/14/2009  11:37 PM               676 TestENV.xs
               6 File&#40;s&#41;         37,609 bytes
               3 Dir&#40;s&#41;  44,205,899,776 bytes free

C:\strawberry\cpan\build\test-perl-env.git&gt;perl Makefile.PL
Writing Makefile for TestENV

C:\strawberry\cpan\build\test-perl-env.git&gt;dmake test
Makefile out-of-date with respect to Makefile.PL
Cleaning current config before rebuilding Makefile...
dmake -f Makefile.old clean &gt; NUL
C:\strawberry\perl\bin\perl.exe Makefile.PL
Writing Makefile for TestENV
==&gt; Your Makefile has been rebuilt. &lt;==
==&gt; Please rerun the dmake command.  &lt;==
C:\strawberry\perl\bin\perl.exe  -e &#34;exit 1&#34; --
dmake:  Error code 129, while making &#39;Makefile&#39;

C:\strawberry\cpan\build\test-perl-env.git&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;17:35:30&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am not familiar with Windows, here is my copy of terminal
--------------------------------------------------------
Microsoft Windows XP [Version 5.1.2600]
&#40;C&#41; Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\L&gt;cd c:\

C:\&gt;cd strawberry

C:\strawberry&gt;cd cpan

C:\strawberry\cpan&gt;cd build

C:\strawberry\cpan\build&gt;cd test-perl-env.git

C:\strawberry\cpan\build\test-perl-env.git&gt;dmake clean
dmake:  Error: -- Don&#39;t know how to make `clean&#39;

C:\strawberry\cpan\build\test-perl-env.git&gt;dir
 Volume in drive C has no label.
 Volume Serial Number is F489-8512

 Directory of C:\strawberry\cpan\build\test-perl-env.git

11/14/2009  01:39 PM    &lt;DIR&gt;          .
11/14/2009  01:39 PM    &lt;DIR&gt;          ..
12/02/2007  07:59 AM             6,111 ARTISTIC
11/14/2009  01:39 PM            28,636 Makefile.old
11/14/2009  01:35 PM               470 Makefile.PL
11/14/2009  01:34 PM               334 myenv.c
08/20/2009  10:05 AM            29,828 ppport.h
11/14/2009  01:38 PM    &lt;DIR&gt;          t
11/14/2009  11:58 AM               190 TestENV.pm
11/14/2009  01:37 PM               676 TestENV.xs
               7 File&#40;s&#41;         66,245 bytes
               3 Dir&#40;s&#41;   5,579,251,712 bytes free

C:\strawberry\cpan\build\test-perl-env.git&gt;del Makefile.old

C:\strawberry\cpan\build\test-perl-env.git&gt;dir
 Volume in drive C has no label.
 Volume Serial Number is F489-8512

 Directory of C:\strawberry\cpan\build\test-perl-env.git

11/14/2009  02:29 PM    &lt;DIR&gt;          .
11/14/2009  02:29 PM    &lt;DIR&gt;          ..
12/02/2007  07:59 AM             6,111 ARTISTIC
11/14/2009  01:35 PM               470 Makefile.PL
11/14/2009  01:34 PM               334 myenv.c
08/20/2009  10:05 AM            29,828 ppport.h
11/14/2009  01:38 PM    &lt;DIR&gt;          t
11/14/2009  11:58 AM               190 TestENV.pm
11/14/2009  01:37 PM               676 TestENV.xs
               6 File&#40;s&#41;         37,609 bytes
               3 Dir&#40;s&#41;   5,579,251,712 bytes free

C:\strawberry\cpan\build\test-perl-env.git&gt;
C:\strawberry\cpan\build\test-perl-env.git&gt;perl Makefile.PL
Writing Makefile for TestENV

C:\strawberry\cpan\build\test-perl-env.git&gt;dmake test
cp TestENV.pm blib\lib\TestENV.pm
C:\strawberry\perl\bin\perl.exe C:\strawberry\perl\lib\ExtUtils\xsubpp 
-typemap
 C:\strawberry\perl\lib\ExtUtils\typemap  TestENV.xs &gt; TestENV.xsc &#38;&#38;
C:\strawbe
rry\perl\bin\perl.exe -MExtUtils::Command -e &#34;mv&#34; -- TestENV.xsc TestENV.c
Please specify prototyping behavior for TestENV.xs &#40;see perlxs manual&#41;
gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DUSE_SITECUSTOMIZE
-DPERL_IMPL
ICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing
-DPERL_MSVCRT_READFIX -s -
O2        -DVERSION=\&#34;0.01\&#34;    -DXS_VERSION=\&#34;0.01\&#34; 
&#34;-IC:\strawberry\perl\lib
\CORE&#34;   TestENV.c
gcc -c          -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DUSE_SITECUSTOMIZE
-DPERL_IMPL
ICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing
-DPERL_MSVCRT_READFIX -s -
O2        -DVERSION=\&#34;0.01\&#34;    -DXS_VERSION=\&#34;0.01\&#34; 
&#34;-IC:\strawberry\perl\lib
\CORE&#34;   myenv.c
Running Mkbootstrap for TestENV &#40;&#41;
C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e &#34;chmod&#34; -- 644
TestENV.bs

C:\strawberry\perl\bin\perl.exe -MExtUtils::Mksymlists \
     -e &#34;Mksymlists&#40;&#39;NAME&#39;=&gt;\&#34;TestENV\&#34;, &#39;DLBASE&#39; =&gt; &#39;TestENV&#39;,
&#39;DL_FUNCS&#39; =&gt; {
 }, &#39;FUNCLIST&#39; =&gt; [], &#39;IMPORTS&#39; =&gt; {  }, &#39;DL_VARS&#39; =&gt; []&#41;;&#34;
dlltool --def TestENV.def --output-exp dll.exp
g++ -o blib\arch\auto\TestENV\TestENV.dll -Wl,--base-file -Wl,dll.base
-mdll -s
-L&#34;C:\strawberry\perl\lib\CORE&#34; -L&#34;C:\strawberry\c\lib&#34; TestENV.o      
myenv.o
-Wl,--image-base,0x112b0000  C:\strawberry\perl\lib\CORE\libperl510.a
-lmoldname
 -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32
-lole32
-loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32
-lodbccp3
2 dll.exp
dlltool --def TestENV.def --base-file dll.base --output-exp dll.exp
g++ -o blib\arch\auto\TestENV\TestENV.dll -mdll -s
-L&#34;C:\strawberry\perl\lib\COR
E&#34; -L&#34;C:\strawberry\c\lib&#34; TestENV.o    myenv.o
-Wl,--image-base,0x112b0000  C:\
strawberry\perl\lib\CORE\libperl510.a -lmoldname -lkernel32 -luser32
-lgdi32 -lw
inspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32
-luuid -lw
s2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 dll.exp
C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e &#34;chmod&#34; -- 755
blib\arch\
auto\TestENV\TestENV.dll
C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e &#34;cp&#34; --
TestENV.bs blib\a
rch\auto\TestENV\TestENV.bs
C:\strawberry\perl\bin\perl.exe -MExtUtils::Command -e &#34;chmod&#34; -- 644
blib\arch\
auto\TestENV\TestENV.bs
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0,
&#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/02basic.t .. Use of uninitialized value in string eq at t/02basic.t
line 7.
t/02basic.t .. 1/4
#   Failed test at t/02basic.t line 7.
# Looks like you failed 1 test of 4.
t/02basic.t .. Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/4 subtests

Test Summary Report
-------------------
t/02basic.t &#40;Wstat: 256 Tests: 4 Failed: 1&#41;
  Failed test:  4
  Non-zero exit status: 1
Files=1, Tests=4,  1 wallclock secs &#40; 0.05 usr +  0.02 sys =  0.07 CPU&#41;
Result: FAIL
Failed 1/1 test programs. 1/4 subtests failed.
dmake:  Error code 129, while making &#39;test_dynamic&#39;

C:\strawberry\cpan\build\test-perl-env.git&gt;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/690922/355711/screen.copy">Download screen.copy</a><br />
<span class="downloadcontenttype">application/octet-stream 5.1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;17:40:39&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Nov 2009 17:40:05 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Nov 14, 2009 at 5:35 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; I am not familiar with Windows, here is my copy of terminal
&gt; --------------------------------------------------------
&gt; Microsoft Windows XP [Version 5.1.2600]
&gt; &#40;C&#41; Copyright 1985-2001 Microsoft Corp.
</div>
ok, I&#39;m stuck for the moment. I have to run and eat. I&#39;ll look at this
again tomorrow afternoon.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;14&nbsp;21:38:11&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Nov 2009 21:37:36 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Nov 14, 2009 at 5:40 PM, Chris Nighswonger
&lt;cnighswonger@foundations.edu&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat, Nov 14, 2009 at 5:35 PM, Igor Yu. Vlasenko via RT
&gt; &lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;&gt;
&gt;&gt; I am not familiar with Windows, here is my copy of terminal
&gt;&gt; --------------------------------------------------------
&gt;&gt; Microsoft Windows XP [Version 5.1.2600]
&gt;&gt; &#40;C&#41; Copyright 1985-2001 Microsoft Corp.
</div>&gt;
&gt; ok, I&#39;m stuck for the moment. I have to run and eat. I&#39;ll look at this
&gt; again tomorrow afternoon.
&gt;
</div>
The problem here turned out to be the date stamp on Makefile.PL

As you can see below, the date stamp bears 11:35PM as the time the
file was last written to. My local time was much earlier being GMT -5.
Once the timestamp was corrected, the test compiled and ran as you
said it should.

I&#39;ll take this back to the Strawberry maintainers.




C:\strawberry\cpan\build\test-perl-env.git&gt;dir /T:W
 Volume in drive C has no label.
 Volume Serial Number is 6C8C-968A

 Directory of C:\strawberry\cpan\build\test-perl-env.git

11/14/2009  09:27 PM    &lt;DIR&gt;          .
11/14/2009  09:27 PM    &lt;DIR&gt;          ..
12/02/2007  05:59 PM             6,111 ARTISTIC
11/14/2009  09:27 PM            28,636 Makefile
11/14/2009  09:27 PM            28,636 Makefile.old
11/14/2009  11:35 PM               470 Makefile.PL
11/14/2009  11:34 PM               334 myenv.c
08/20/2009  09:05 PM            29,828 ppport.h
11/14/2009  05:07 PM    &lt;DIR&gt;          t
11/14/2009  09:58 PM               190 TestENV.pm
11/14/2009  11:37 PM               676 TestENV.xs
               8 File&#40;s&#41;         94,881 bytes
               3 Dir&#40;s&#41;  44,192,878,592 bytes free
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;14:36:48&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ll take this back to the Strawberry maintainers.
</div>Hello, Chris,
I have my doubts whether they can fix the problem under Windows
&#40;this platform is always rumored to be the hell for sinful programmers&#41;
I guess this strange behavior is some kind of workaround
against Win oddities.

so I added a hackaround/workaround to H::T::P 0.93 --.
a handle to forcefully overwrite HTML_TEMPLATE_ROOT.

Now it works everywhere.

You can try 0.93 prerelease attached, it works fine.
If it will work for you, it will be in 0.93 release.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/692187/356365/HTML-Template-Pro-0.93.tar.gz">Download HTML-Template-Pro-0.93.tar.gz</a><br />
<span class="downloadcontenttype">application/gzip 162.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;14:36:50&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;19:48:32&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 17 Nov 2009 19:47:55 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,

On Tue, Nov 17, 2009 at 2:36 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
<div class="message-stanza open">&gt;&gt; I&#39;ll take this back to the Strawberry maintainers.
</div>&gt; Hello, Chris,
&gt; I have my doubts whether they can fix the problem under Windows
&gt; &#40;this platform is always rumored to be the hell for sinful programmers&#41;
&gt; I guess this strange behavior is some kind of workaround
&gt; against Win oddities.
&gt;
&gt; so I added a hackaround/workaround to H::T::P 0.93 --.
&gt; a handle to forcefully overwrite HTML_TEMPLATE_ROOT.
&gt;
&gt; Now it works everywhere.
&gt;
&gt; You can try 0.93 prerelease attached, it works fine.
&gt; If it will work for you, it will be in 0.93 release.
</div>
All tests pass with this &#34;hack&#34;, but I&#39;m sad to report that it does
not work in production.

Perhaps just using the perl find file is the best workaround for use
on Win32. Maybe you could add a check in Pro.pm for platform &#40;$^O&#41; and
condition the flavor of find_file based on that.

Thanks for all of the time you&#39;ve taken with this issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;19:48:33&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;05:34:44&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Втр. Ноя. 17 19:48:32 2009, cnighswonger писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Igor,
&gt; All tests pass with this &#34;hack&#34;, but I&#39;m sad to report that it does
&gt; not work in production.
</div>Could you reduce it to the test case?
Is it related to HTML_TEMPLATE_ROOT usage?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;06:28:27&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Nov 2009 06:27:47 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Nov 18, 2009 at 5:34 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Втр. Ноя. 17 19:48:32 2009, cnighswonger писал:
<div class="message-stanza open">&gt;&gt; Hi Igor,
&gt;&gt; All tests pass with this &#34;hack&#34;, but I&#39;m sad to report that it does
&gt;&gt; not work in production.
</div>&gt; Could you reduce it to the test case?
</div>
I&#39;ll try to build a test for it later today.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is it related to HTML_TEMPLATE_ROOT usage?
&gt;
</div>
Here are the lines from the application error log:

[Tue Nov 17 19:37:43 2009] [error] [client 127.0.0.1] [Tue Nov 17
19:37:43 2009] mainpage.pl: Pro.xs: non-zero exit code 2 at
C:/strawberry/perl/site/lib/HTML/Template/Pro.pm line 198.
[Tue Nov 17 19:37:43 2009] [error] [client 127.0.0.1] built-in
find_file: can&#39;t find file
C:\\progra~1\\koha\\intranet\\htdocs\\intranet-tmpl/prog/en/modules/auth.tmpl
with path = [ &#39;C:\\progra~1\\koha\\intranet\\htdocs\\intranet-tmpl/prog/en/includes&#39;
]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;09:44:41&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Nov 2009 09:36:48 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is some new info from a conversation I had with the lead C
programmer on Strawberry Perl:


&lt;chris_n2&gt; kmx: is there a difference in the way that strawberry
handles getenv in xs versus the way *nix perl handles the same
function?
&lt;kmx&gt; chris_n2: getenv&#40;..&#41; in xs = how mingw c-runtime &#40;not
strawberry&#41; does it; however I am not aware of any big difference from
UNIX &#40;apart from the issue you have pointed me to&#41;
&lt;kmx&gt; there are ENV issues like variable names in Win32 always beeing
upper-case but ...
&lt;chris_n2&gt; kmx: regarding the $ENV issue I&#39;ve been trying to help with
on the Template::Pro module, the maintainer has built a test which
seems to show some difference between perl&#39;s getenv and c&#39;s getenv on
strawberry which does not exist on unix perl
&lt;chris_n2&gt; is this a matter to take to the mingw maintainers?
* chris_n2 is trying to help in an area he is not real familiar with
&lt;kmx&gt; could you please point me to the test you are talking about?
&lt;chris_n2&gt; om
&lt;chris_n2&gt; kmx: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=51218#txn-690876">https://rt.cpan.org/Public/Bug/Display.html?id=51218#txn-690876</a></span>
&lt;dipsy&gt; [ #51218: built-in find_file pro.xs ]
* pece2 &#40;~pczerkas@4.suw.abpl.pl&#41; has joined #win32
* pece has quit &#40;Ping timeout: 360 seconds&#41;
&lt;kmx&gt; chris_n2: the problem in your example is that in TestENV.xs
calling getenv&#40;&#41; does not call c-runtime getenv&#40;&#41; but in fact
PerlEnv_getenv&#40;&#41; from perl core &#40;see XSUB.h  - #define getenv
PerlEnv_getenv&#41;
&lt;kmx&gt; and perl core does some &#34;magic&#34; with env
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div>
So it appears that Pro.xs may not be calling the &#34;real&#34; C getenv&#40;&#41;,
but rather an overridden version referred to in XSUB.h. My C is
extremely old and out of use, but I&#39;m wondering if there is not a way
to call the C runtime version of getenv&#40;&#41; in TestENV.xs and see how
that behaves in Strawberry.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;10:57:05&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Nov 2009 10:56:21 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">More of the conversation which took place later is below.

On Wed, Nov 18, 2009 at 9:36 AM, Chris Nighswonger
&lt;cnighswonger@foundations.edu&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is some new info from a conversation I had with the lead C
&gt; programmer on Strawberry Perl:
&gt;
&gt;
&gt; &lt;chris_n2&gt; kmx: is there a difference in the way that strawberry
&gt; handles getenv in xs versus the way *nix perl handles the same
&gt; function?
&gt; &lt;kmx&gt; chris_n2: getenv&#40;..&#41; in xs = how mingw c-runtime &#40;not
&gt; strawberry&#41; does it; however I am not aware of any big difference from
&gt; UNIX &#40;apart from the issue you have pointed me to&#41;
&gt; &lt;kmx&gt; there are ENV issues like variable names in Win32 always beeing
&gt; upper-case but ...
&gt; &lt;chris_n2&gt; kmx: regarding the $ENV issue I&#39;ve been trying to help with
&gt; on the Template::Pro module, the maintainer has built a test which
&gt; seems to show some difference between perl&#39;s getenv and c&#39;s getenv on
&gt; strawberry which does not exist on unix perl
&gt; &lt;chris_n2&gt; is this a matter to take to the mingw maintainers?
&gt; * chris_n2 is trying to help in an area he is not real familiar with
&gt; &lt;kmx&gt; could you please point me to the test you are talking about?
&gt; &lt;chris_n2&gt; om
&gt; &lt;chris_n2&gt; kmx: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=51218#txn-690876">https://rt.cpan.org/Public/Bug/Display.html?id=51218#txn-690876</a></span>
&gt; &lt;dipsy&gt; [ #51218: built-in find_file pro.xs ]
&gt; * pece2 &#40;~pczerkas@4.suw.abpl.pl&#41; has joined #win32
&gt; * pece has quit &#40;Ping timeout: 360 seconds&#41;
&gt; &lt;kmx&gt; chris_n2: the problem in your example is that in TestENV.xs
&gt; calling getenv&#40;&#41; does not call c-runtime getenv&#40;&#41; but in fact
&gt; PerlEnv_getenv&#40;&#41; from perl core &#40;see XSUB.h  - #define getenv
&gt; PerlEnv_getenv&#41;
&gt; &lt;kmx&gt; and perl core does some &#34;magic&#34; with env
<div class="message-stanza open">&gt;&gt;
</div>&gt;
&gt; So it appears that Pro.xs may not be calling the &#34;real&#34; C getenv&#40;&#41;,
&gt; but rather an overridden version referred to in XSUB.h. My C is
&gt; extremely old and out of use, but I&#39;m wondering if there is not a way
&gt; to call the C runtime version of getenv&#40;&#41; in TestENV.xs and see how
&gt; that behaves in Strawberry.
&gt;
</div>
&lt;kmx&gt; chris_n2: inclusion of XSUB.h overrides getenv&#40;&#41; function - so
calling getenv&#40;&#41; after including XSUB.h does not call real c-runtime
getenv&#40;&#41;
&lt;chris_n2&gt; kmx: so no way to access overridden functions in C?
&lt;kmx&gt; chris_n2: beware - you do not want to access the overriden
c-runtime function &#40;it will return an empty value on env variable set
vie $ENV{VAR}&#41;, you need to access the value that perl stored into its
internal structures - from XS you simply call getenv&#40;&#41; - which is at
that point fake &#40;it is Perl_getenv&#40;&#41;&#41;
&lt;chris_n2&gt; kmx: so if the &#34;magic&#34; done by perl core is causing the
issues I see, there is no fix apart from fixing the part of the perl
core which does the magic?
&lt;kmx&gt; chris_n2: I am afraid that this is a feature, perl simply keeps
all env changes done via $ENV{xxx} in its internal structures, if you
for example call some external command from perl via system&#40;&#34;command&#34;&#41;
it uses env values from internal structures when launching this
command.
&lt;kmx&gt; it is also good to mention that it might work differently on
non-Win32 platforms where the perl is compiled without setting
PERL_IMPLICIT_SYS
&lt;kmx&gt; you simply has to deal with values set via $ENV{xx} at XS level
and pass it to c-code as a param or so

So it does appear that there may be no &#34;easy&#34; fix.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;07:42:40&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд. Ноя. 18 10:57:05 2009, cnighswonger писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;kmx&gt; you simply has to deal with values set via $ENV{xx} at XS level
&gt; and pass it to c-code as a param or so
</div>It is exactly the hack I implemented.
It fixes the tests, but yet not good  --
you have reported that there are other bugs with built-in find_file.
I guess that there are some windows filemname specific bugs.
Please, could you give me a test case?
I will readily fix them all :&#41;
The less perl code will be left, the faster it will be.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;19:21:58&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Nov 2009 19:21:01 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,
On Thu, Nov 19, 2009 at 7:42 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; Срд. Ноя. 18 10:57:05 2009, cnighswonger писал:
<div class="message-stanza open">&gt;&gt; &lt;kmx&gt; you simply has to deal with values set via $ENV{xx} at XS level
&gt;&gt; and pass it to c-code as a param or so
</div>&gt; It is exactly the hack I implemented.
&gt; It fixes the tests, but yet not good  --
&gt; you have reported that there are other bugs with built-in find_file.
&gt; I guess that there are some windows filemname specific bugs.
&gt; Please, could you give me a test case?
&gt; I will readily fix them all :&#41;
&gt; The less perl code will be left, the faster it will be.
</div>
Perhaps this will help us find what is wrong. Here is how we create a
new H::T::P object:

    my $template       = HTML::Template::Pro-&gt;new&#40;
        filename          =&gt;
&#34;C:/progra~1/koha/intranet/htdocs/intranet-tmpl/prog/en/modules/intranet-main.tmpl&#34;,
        die_on_bad_params =&gt; 1,
        global_vars       =&gt; 1,
        case_sensitive    =&gt; 1,
        loop_context_vars =&gt; 1, # enable: __first__, __last__,
__inner__, __odd__, __counter__
        path              =&gt;
[&#34;C:/progra~1/koha/intranet/htdocs/intranet-tmpl/prog/en/includes&#34;],
        search_path_on_include =&gt; 1
    &#41;;

1. In this code, we do not invoke the &#34;path =&gt; [&#39;searchpath&#39;]&#34; option.

2. It appears that &#34;searchpath&#34; is invoked at some point because this
code results in the failure logged as mentioned in my previous post.

3. This exact code works fine on *nix installs.

I have found that the following code works on Strawberry on Win32:

    my $template       = HTML::Template::Pro-&gt;new&#40;
        filename          =&gt;
&#34;C:/progra~1/koha/intranet/htdocs/intranet-tmpl/prog/en/modules/intranet-main.tmpl&#34;,
        die_on_bad_params =&gt; 1,
        global_vars       =&gt; 1,
        case_sensitive    =&gt; 1,
        loop_context_vars =&gt; 1, # enable: __first__, __last__,
__inner__, __odd__, __counter__
        path              =&gt;
[&#34;C:/progra~1/koha/intranet/htdocs/intranet-tmpl/prog/en/modules&#34;,
&#34;C:/progra~1/koha/intranet/htdocs/intranet-tmpl/prog/en/includes&#34;],
        search_path_on_include =&gt; 1
    &#41;;

So the question is: Is the first method of creating a template object
incorrect and just happens to work on *nix? Should we be invoking the
HTML::Template::Pro-&gt;new&#40;&#41; method the second way?

I am a bit confused as to how H::T::P handles pathing at this point.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;19:59:31&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Nov 2009 19:58:44 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Nov 19, 2009 at 7:21 PM, Chris Nighswonger
&lt;cnighswonger@foundations.edu&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Igor,
&gt; On Thu, Nov 19, 2009 at 7:42 AM, Igor Yu. Vlasenko via RT
&gt; &lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;&gt;
&gt;&gt; Срд. Ноя. 18 10:57:05 2009, cnighswonger писал:
<div class="message-stanza open">&gt;&gt;&gt; &lt;kmx&gt; you simply has to deal with values set via $ENV{xx} at XS level
&gt;&gt;&gt; and pass it to c-code as a param or so
</div>&gt;&gt; It is exactly the hack I implemented.
&gt;&gt; It fixes the tests, but yet not good  --
&gt;&gt; you have reported that there are other bugs with built-in find_file.
&gt;&gt; I guess that there are some windows filemname specific bugs.
&gt;&gt; Please, could you give me a test case?
&gt;&gt; I will readily fix them all :&#41;
&gt;&gt; The less perl code will be left, the faster it will be.
</div>&gt;
</div>
I have modified t/HTML-Template.t to include a test which tests the
exact method currently used in Koha to call a new H::T::P object.

If you decompress the attached RAR file, run Makefile.PL, then &#39;dmake&#39;
and &#39;dmake test&#39; you will see the test fail in the same manner when
find_file is resorted to.

Note that generally the direction of slashes in the path does not
matter to cmd.exe.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/693698/357477/HTML-Template-Pro-0.93.rar">Download HTML-Template-Pro-0.93.rar</a><br />
<span class="downloadcontenttype">application/octet-stream 201.5k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;21&nbsp;09:05:21&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have modified t/HTML-Template.t to include a test which tests the
&gt; exact method currently used in Koha to call a new H::T::P object.
</div>
thank you!
I have attached 0.93 RC2, it fixes the bug in find_file that was specific 
to WIN platform.

detailed timeline is available in .git.
<span class="clickylink"><a target="new" rel="nofollow" href="http://git.altlinux.org/people/viy/packages/?p=HTML-Template-Pro.git;a=summary">http://git.altlinux.org/people/viy/packages/?p=HTML-Template-Pro.git;a=summary</a></span>
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/694429/357932/HTML-Template-Pro-0.93.tar.gz">Download HTML-Template-Pro-0.93.tar.gz</a><br />
<span class="downloadcontenttype">application/gzip 163k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;21&nbsp;09:57:34&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 21 Nov 2009 09:56:59 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Igor,

On Sat, Nov 21, 2009 at 9:05 AM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=51218">https://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
<div class="message-stanza open">&gt;&gt; I have modified t/HTML-Template.t to include a test which tests the
&gt;&gt; exact method currently used in Koha to call a new H::T::P object.
</div>&gt;
&gt; thank you!
&gt; I have attached 0.93 RC2, it fixes the bug in find_file that was specific
&gt; to WIN platform.
&gt;
&gt; detailed timeline is available in .git.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://git.altlinux.org/people/viy/packages/?p=HTML-Template-Pro.git;a=summary">http://git.altlinux.org/people/viy/packages/?p=HTML-Template-Pro.git;a=summary</a></span>
</div>
I can confirm that this fix works fine in production on Win32.

Again, thank-you so much for sticking with me on this and taking the
time to work through it.

Kind Regards,
Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;21&nbsp;10:58:00&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Суб. Ноя. 21 09:57:34 2009, cnighswonger писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can confirm that this fix works fine in production on Win32.
</div>
Thank you, Chris!
I have a few thing to polish in 0.93 yet, so I think
the official release of 0.93 will be in a week or so.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;21&nbsp;10:58:23&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">fixed
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;21&nbsp;10:58:25&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;23&nbsp;16:33:54&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 Nov 2009 23:33:34 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Chris Nighswonger via RT &lt;bug-HTML-Template-Pro [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Igor Vlasenko &lt;vlasenko [...] imath.kiev.ua&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Nov 21, 2009 at 09:57:35AM -0500, Chris Nighswonger via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can confirm that this fix works fine in production on Win32.
</div>
Dear Chris, 
I&#39;ve released 0.93 on CPAN and SF with the fixes.

By the way, could you add Rate and Review
to the SF project page?

<span class="clickylink"><a target="new" rel="nofollow" href="https://sourceforge.net/projects/html-tmpl-pro/">https://sourceforge.net/projects/html-tmpl-pro/</a></span>


-- 

Dr. Igor Vlasenko
--------------------
Topology Department
Institute of Math
Kiev, Ukraine
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;23&nbsp;16:33:54&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;23&nbsp;22:49:46&nbsp;2009</span>
    <span class="description">cnighswonger [...] foundations.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 Nov 2009 22:49:11 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Template-Pro [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nighswonger &lt;cnighswonger [...] foundations.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Nov 23, 2009 at 4:33 PM, Igor Yu. Vlasenko via RT
&lt;bug-HTML-Template-Pro@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=51218">http://rt.cpan.org/Ticket/Display.html?id=51218</a></span> &gt;
&gt;
&gt; On Sat, Nov 21, 2009 at 09:57:35AM -0500, Chris Nighswonger via RT wrote:
<div class="message-stanza open">&gt;&gt; I can confirm that this fix works fine in production on Win32.
</div>&gt;
&gt; Dear Chris,
&gt; I&#39;ve released 0.93 on CPAN and SF with the fixes.
</div>
Thanks!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; By the way, could you add Rate and Review
&gt; to the SF project page?
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://sourceforge.net/projects/html-tmpl-pro/">https://sourceforge.net/projects/html-tmpl-pro/</a></span>
</div>
Done.

Kind Regards,
Chris

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;
&gt; --
&gt;
&gt; Dr. Igor Vlasenko
&gt; --------------------
&gt; Topology Department
&gt; Institute of Math
&gt; Kiev, Ukraine
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;05:14:49&nbsp;2009</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #51218] built-in find_file pro.xs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 24 Nov 2009 12:14:27 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Chris Nighswonger via RT &lt;bug-HTML-Template-Pro [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Igor Vlasenko &lt;vlasenko [...] imath.kiev.ua&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Nov 23, 2009 at 10:49:47PM -0500, Chris Nighswonger via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Done.
</div>Thanks!

-- 

Dr. Igor Vlasenko
--------------------
Topology Department
Institute of Math
Kiev, Ukraine
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;29&nbsp;01:36:27&nbsp;2012</span>
    <span class="description">vlasenko [...] imath.kiev.ua -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
