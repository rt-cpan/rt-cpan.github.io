<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #37877 for CGI-Session: Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #37877 for CGI-Session: Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CGI-Session/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CGI-Session/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CGI-Session/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CGI-Session/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CGI-Session">CGI-Session CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">37877</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CGI-Session/Active/">CGI-Session</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
greanie [...] yahoo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-5872-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
4.35    </td>
  </tr>
  <tr id="CF-5873-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;23&nbsp;07:52:48&nbsp;2008</span>
    <span class="description">greanie [...] yahoo.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I am moving from Apache::Session to CGI::Session because of
CGI::Session&#39;s ability to automatically start a new instance if an id to
an expired one is passed, as well as the ability to change the
serializer.  I am using a wrapper class, passing in the session id to
the contructor, using the new method to load the session, as follows:

my $session = CGI::Session-&gt;new&#40;
    &#34;driver:mysql;serializer:storable&#34;,
    $sid,  #passed into constructor
    { Handle =&gt; $_dbh }
&#41; or die CGI::Session-&gt;errstr&#40;&#41;;

My application is dying with the following error message:

Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;
 at /usr/lib/perl5/site_perl/5.8.8/CGI/Session.pm line 812

My system is:

perl 5.8.8
CGI::Session 4.35 &#40;downloaded today&#41;
Linux Gentoo 2.6.22 running on i686
Modperl 2


Thanks for the support!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;23&nbsp;10:05:36&nbsp;2008</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #37877] Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 23 Jul 2008 10:03:50 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am moving from Apache::Session to CGI::Session because of
&gt; CGI::Session&#39;s ability to automatically start a new instance if an id to
&gt; an expired one is passed, as well as the ability to change the
&gt; serializer.  I am using a wrapper class, passing in the session id to
&gt; the contructor, using the new method to load the session, as follows:
&gt; 
&gt; my $session = CGI::Session-&gt;new&#40;
&gt;     &#34;driver:mysql;serializer:storable&#34;,
&gt;     $sid,  #passed into constructor
&gt;     { Handle =&gt; $_dbh }
&gt; &#41; or die CGI::Session-&gt;errstr&#40;&#41;;
&gt; 
&gt; My application is dying with the following error message:
&gt; 
&gt; Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;
&gt;  at /usr/lib/perl5/site_perl/5.8.8/CGI/Session.pm line 812
&gt; 
&gt; My system is:
&gt; 
&gt; perl 5.8.8
&gt; CGI::Session 4.35 &#40;downloaded today&#41;
&gt; Linux Gentoo 2.6.22 running on i686
&gt; Modperl 2
</div>
Just guessing:

If line 812 has a call to $class-&gt;errstr, try changing into it to

CGI::Session-&gt;errstr

If that&#39;s the case, let us know how that works!

   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;23&nbsp;10:05:42&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;23&nbsp;13:42:06&nbsp;2008</span>
    <span class="description">greanie [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #37877] Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 23 Jul 2008 10:41:19 -0700 &#40;PDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Greenish &lt;greanie [...] yahoo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Mark,

That seems to have taken care of that error.  I get a different error:

new&#40;&#41;: failed: load&#40;&#41; can&#39;t thaw&#40;&#41; data using CGI::Session::Serialize::storable at /path/to/web-app/classes/session_wrapper.pm line xx

So it fails at the new call in my session wrapper.

Funny thing is that I cleared the session cookie before reloading the page so I am not sure what session it is trying to load.  I did just update Storable via CPAN but if sid is undef, it should create a new session, not try to load one.


If I use the Default serializer, I have no problems.  However, I have other classes and that interact with the sessio nthat are dependent on Storable.pm  so I would much prefer to use Storable.pm.

Thanks for the support.

Mike

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">----- Original Message ----
From: &#34;mark@summersault.com via RT&#34; &lt;bug-CGI-Session@rt.cpan.org&gt;
To: greanie@yahoo.com
Sent: Wednesday, July 23, 2008 2:05:43 PM
Subject: Re: [rt.cpan.org #37877] Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=37877">http://rt.cpan.org/Ticket/Display.html?id=37877</a></span> &gt;


<div class="message-stanza open">&gt; I am moving from Apache::Session to CGI::Session because of
&gt; CGI::Session&#39;s ability to automatically start a new instance if an id to
&gt; an expired one is passed, as well as the ability to change the
&gt; serializer.  I am using a wrapper class, passing in the session id to
&gt; the contructor, using the new method to load the session, as follows:
&gt; 
&gt; my $session = CGI::Session-&gt;new&#40;
&gt;     &#34;driver:mysql;serializer:storable&#34;,
&gt;     $sid,  #passed into constructor
&gt;     { Handle =&gt; $_dbh }
&gt; &#41; or die CGI::Session-&gt;errstr&#40;&#41;;
&gt; 
&gt; My application is dying with the following error message:
&gt; 
&gt; Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;
&gt;  at /usr/lib/perl5/site_perl/5.8.8/CGI/Session.pm line 812
&gt; 
&gt; My system is:
&gt; 
&gt; perl 5.8.8
&gt; CGI::Session 4.35 &#40;downloaded today&#41;
&gt; Linux Gentoo 2.6.22 running on i686
&gt; Modperl 2
</div>
Just guessing:

If line 812 has a call to $class-&gt;errstr, try changing into it to

CGI::Session-&gt;errstr

If that&#39;s the case, let us know how that works!

   Mark


      
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;23&nbsp;14:06:53&nbsp;2008</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #37877] Can&#39;t locate errstr via package &#34;CGI::Session::Serialize::storable&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 23 Jul 2008 14:06:36 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That seems to have taken care of that error.  
</div>
Thanks. We&#39;ll think about the best way to patch this properly.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I get a different error:
&gt; 
&gt; new&#40;&#41;: failed: load&#40;&#41; can&#39;t thaw&#40;&#41; data using
&gt; CGI::Session::Serialize::storable at
&gt; /path/to/web-app/classes/session_wrapper.pm line xx
&gt; 
&gt; So it fails at the new call in my session wrapper.
&gt; 
&gt; Funny thing is that I cleared the session cookie before reloading the page so
&gt; I am not sure what session it is trying to load.  I did just update Storable
&gt; via CPAN but if sid is undef, it should create a new session, not try to load
&gt; one.
&gt; 
&gt; 
&gt; If I use the Default serializer, I have no problems.  However, I have other
&gt; classes and that interact with the sessio nthat are dependent on Storable.pm
&gt; so I would much prefer to use Storable.pm.
</div>
Mike,

The format that Storable uses may not be compatible from one machine to
another. Have you moved the session files between architectures recently?

You might also checked the ChangeLog for Storable for incompatible changes, or
try downgrading to see if that fixes it.

Try to write a new test for our test suite that reproduces the error. If you
can&#39;t get the reduced test case to fail, the problem is with your use of it, or
your application or environment. If you can write a new test that fails, we&#39;re
happy to look into further. 


    Mark

-- 
 . . . . . . . . . . . . . . . . . . . . . . . . . . . 
   Mark Stosberg            Principal Developer  
   mark@summersault.com     Summersault, LLC     
   765-939-9301 ext 202     database driven websites
 . . . . . <span class="clickylink"><a target="new" rel="nofollow" href="http://www.summersault.com/">http://www.summersault.com/</a></span> . . . . . . . .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;31&nbsp;21:56:10&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I found this bug. Thanks for the report. It should be fixed in 4.38. 

   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;31&nbsp;21:56:12&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
