<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #92267 for Module-CPANTS-Analyse: use_strict metric issues uninitialized warning when modules are missing</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #92267 for Module-CPANTS-Analyse: use_strict metric issues uninitialized warning when modules are missing</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-CPANTS-Analyse">Module-CPANTS-Analyse CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">92267</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Module-CPANTS-Analyse/Active/">Module-CPANTS-Analyse</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-38184-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38185-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;19&nbsp;13:18:49&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> use_strict metric issues uninitialized warning when modules are
 missing</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">xt/release/kwalitee.t ............. 1/?
#   Failed test &#39;use_strict&#39;
#   at xt/release/kwalitee.t line 4.
# Error: This distribution does not &#39;use strict;&#39; &#40;or its equivalents&#41; in all of its modules. Note that this is not about the actual strictness of the modules. It&#39;s bad if nobody can tell whether the modules are strictly written or no
t, without reading the source code of your favorite clever module that actually enforces strictness. In other words, it&#39;s bad if someone feels the need to add &#39;use strict&#39; to the modules.
Use of uninitialized value in concatenation &#40;.&#41; or string at /Users/ether/.perlbrew/libs/19.7@std/lib/perl5/Module/CPANTS/Kwalitee/Uses.pm line 158.
# Details:
# The following modules don&#39;t use strict &#40;or equivalents&#41;:
# Remedy: Add &#39;use strict&#39; to all modules, or convince us that your favorite module is well-known enough and people can easily see the modules are strictly written.
# Looks like you failed 1 test of 14.


The root problem here was that the &#39;provides&#39; field in metadata was empty, so MCA thought there were no modules.

The use_strict code in Module/CPANTS/Kwalitee/Uses.pm returns 0 if $d-&gt;{modules} is empty, but in this case there is no $d-&gt;{error}{use_strict} set, so the actual error message is not correct.

Better would be to have a separate metric for &#34;has modules present&#34; &#40;as every distribution should have at least one&#41;, and return success for the use_strict metric in that case.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;00:29:07&nbsp;2014</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the report. I suppose the following commit should fix this:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cpants/Module-CPANTS-Analyse/commit/cec39be9edb64404045bcc81dc3e30951415b0dc">https://github.com/cpants/Module-CPANTS-Analyse/commit/cec39be9edb64404045bcc81dc3e30951415b0dc</a></span>


On Mon Jan 20 03:18:49 2014, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; xt/release/kwalitee.t ............. 1/?
&gt; #   Failed test &#39;use_strict&#39;
&gt; #   at xt/release/kwalitee.t line 4.
&gt; # Error: This distribution does not &#39;use strict;&#39; &#40;or its equivalents&#41;
&gt; in all of its modules. Note that this is not about the actual
&gt; strictness of the modules. It&#39;s bad if nobody can tell whether the
&gt; modules are strictly written or no
&gt; t, without reading the source code of your favorite clever module that
&gt; actually enforces strictness. In other words, it&#39;s bad if someone
&gt; feels the need to add &#39;use strict&#39; to the modules.
&gt; Use of uninitialized value in concatenation &#40;.&#41; or string at
&gt; /Users/ether/.perlbrew/libs/19.7@std/lib/perl5/Module/CPANTS/Kwalitee/Uses.pm
&gt; line 158.
&gt; # Details:
&gt; # The following modules don&#39;t use strict &#40;or equivalents&#41;:
&gt; # Remedy: Add &#39;use strict&#39; to all modules, or convince us that your
&gt; favorite module is well-known enough and people can easily see the
&gt; modules are strictly written.
&gt; # Looks like you failed 1 test of 14.
&gt; 
&gt; 
&gt; The root problem here was that the &#39;provides&#39; field in metadata was
&gt; empty, so MCA thought there were no modules.
&gt; 
&gt; The use_strict code in Module/CPANTS/Kwalitee/Uses.pm returns 0 if $d-
<div class="message-stanza open">&gt; &gt;{modules} is empty, but in this case there is no $d-
&gt; &gt;{error}{use_strict} set, so the actual error message is not correct.
</div>&gt; 
&gt; Better would be to have a separate metric for &#34;has modules present&#34;
&gt; &#40;as every distribution should have at least one&#41;, and return success
&gt; for the use_strict metric in that case.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;00:29:07&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;23&nbsp;00:29:08&nbsp;2014</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;26&nbsp;04:46:40&nbsp;2014</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closed as 0.94 is released. Thanks.

On Thu Jan 23 14:29:07 2014, ISHIGAKI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the report. I suppose the following commit should fix this:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cpants/Module-CPANTS-">https://github.com/cpants/Module-CPANTS-</a></span>
&gt; Analyse/commit/cec39be9edb64404045bcc81dc3e30951415b0dc
&gt; 
&gt; 
&gt; On Mon Jan 20 03:18:49 2014, ETHER wrote:
<div class="message-stanza open">&gt; &gt; xt/release/kwalitee.t ............. 1/?
&gt; &gt; #   Failed test &#39;use_strict&#39;
&gt; &gt; #   at xt/release/kwalitee.t line 4.
&gt; &gt; # Error: This distribution does not &#39;use strict;&#39; &#40;or its
&gt; &gt; equivalents&#41;
&gt; &gt; in all of its modules. Note that this is not about the actual
&gt; &gt; strictness of the modules. It&#39;s bad if nobody can tell whether the
&gt; &gt; modules are strictly written or no
&gt; &gt; t, without reading the source code of your favorite clever module
&gt; &gt; that
&gt; &gt; actually enforces strictness. In other words, it&#39;s bad if someone
&gt; &gt; feels the need to add &#39;use strict&#39; to the modules.
&gt; &gt; Use of uninitialized value in concatenation &#40;.&#41; or string at
&gt; &gt; /Users/ether/.perlbrew/libs/19.7@std/lib/perl5/Module/CPANTS/Kwalitee/Uses.pm
&gt; &gt; line 158.
&gt; &gt; # Details:
&gt; &gt; # The following modules don&#39;t use strict &#40;or equivalents&#41;:
&gt; &gt; # Remedy: Add &#39;use strict&#39; to all modules, or convince us that your
&gt; &gt; favorite module is well-known enough and people can easily see the
&gt; &gt; modules are strictly written.
&gt; &gt; # Looks like you failed 1 test of 14.
&gt; &gt;
&gt; &gt;
&gt; &gt; The root problem here was that the &#39;provides&#39; field in metadata was
&gt; &gt; empty, so MCA thought there were no modules.
&gt; &gt;
&gt; &gt; The use_strict code in Module/CPANTS/Kwalitee/Uses.pm returns 0 if
&gt; &gt; $d-
<div class="message-stanza open">&gt; &gt; &gt; {modules} is empty, but in this case there is no $d-
&gt; &gt; &gt; {error}{use_strict} set, so the actual error message is not
&gt; &gt; &gt; correct.
</div>&gt; &gt;
&gt; &gt; Better would be to have a separate metric for &#34;has modules present&#34;
&gt; &gt; &#40;as every distribution should have at least one&#41;, and return success
&gt; &gt; for the use_strict metric in that case.
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;26&nbsp;04:46:40&nbsp;2014</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
