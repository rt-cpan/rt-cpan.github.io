<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50079 for POE: t/30_loops/select/wheel_sf_ipv6.t &#40;FAILS on Win32&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50079 for POE: t/30_loops/select/wheel_sf_ipv6.t &#40;FAILS on Win32&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=POE">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=POE">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=POE">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=POE">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/POE">POE CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50079</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=POE">POE</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
acferen [...] yahoo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-26342-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.269    </td>
  </tr>
  <tr id="CF-26343-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




ipv6.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/671194/345093/ipv6.patch">
Thu Oct 01 12:21:14 2009 (1.8k) by acferen [...] yahoo.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=50079">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-670064" href="/Public/Bug/Display.html?id=50079#txn-670064">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;28&nbsp;16:49:19&nbsp;2009</span>
    <span class="description">acferen [...] yahoo.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/30_loops/select/wheel_sf_ipv6.t &#40;FAILS on Win32&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/670064/344400/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/344400">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"># r2672 introduces this particular failure.


S:\poe\trunk\poe&gt;prove -b t/30_loops/select/wheel_sf_ipv6.t
t/30_loops/select/wheel_sf_ipv6....# This test may hang if your firewall
blocks IPv6
# packets across your localhost interface.
getsockname&#40;&#41; on unopened socket GEN0 at
blib\lib/POE/Wheel/SocketFactory.pm line 425.
Use of uninitialized value in subroutine entry at
C:\Perl\site\lib\POE\Test\Loops/wheel_sf_ipv6.pm line 72.
t/30_loops/select/wheel_sf_ipv6....ok 1/3Bad arg length for
Socket6::unpack_sockaddr_in6, length is 0, should be 28 at
C:\Perl\site\lib\POE\Test\Loops/wheel_sf_ipv6.pm line 72.
Compilation failed in require at t/30_loops/select/wheel_sf_ipv6.t line 20.
# Looks like you planned 3 tests but ran 1.
# Looks like your test exited with 2 just after 1.
t/30_loops/select/wheel_sf_ipv6....dubious
        Test returned status 2 &#40;wstat 512, 0x200&#41;
DIED. FAILED tests 2-3
        Failed 2/3 tests, 33.33% okay &#40;less 1 skipped test: 0 okay, 0.00%&#41;
Failed Test                       Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/30_loops/select/wheel_sf_ipv6.t    2   512     3    4  2-3
1 subtest skipped.
Failed 1/1 test scripts. 2/3 subtests failed.
Files=1, Tests=3,  2 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00 CPU&#41;
Failed 1/1 test programs. 2/3 subtests failed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-670977" href="/Public/Bug/Display.html?id=50079#txn-670977">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;30&nbsp;23:23:35&nbsp;2009</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/670977/344942/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/344942">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This change sets the port to 0 so that a free port may be automatically
allocated.  In what way is this the wrong thing to do on Win32 platforms?

On Mon Sep 28 16:49:19 2009, acferen@yahoo.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; # r2672 introduces this particular failure.
&gt; 
&gt; 
&gt; S:\poe\trunk\poe&gt;prove -b t/30_loops/select/wheel_sf_ipv6.t
&gt; t/30_loops/select/wheel_sf_ipv6....# This test may hang if your
&gt; firewall
&gt; blocks IPv6
&gt; # packets across your localhost interface.
&gt; getsockname&#40;&#41; on unopened socket GEN0 at
&gt; blib\lib/POE/Wheel/SocketFactory.pm line 425.
&gt; Use of uninitialized value in subroutine entry at
&gt; C:\Perl\site\lib\POE\Test\Loops/wheel_sf_ipv6.pm line 72.
&gt; t/30_loops/select/wheel_sf_ipv6....ok 1/3Bad arg length for
&gt; Socket6::unpack_sockaddr_in6, length is 0, should be 28 at
&gt; C:\Perl\site\lib\POE\Test\Loops/wheel_sf_ipv6.pm line 72.
&gt; Compilation failed in require at t/30_loops/select/wheel_sf_ipv6.t
&gt; line 20.
&gt; # Looks like you planned 3 tests but ran 1.
&gt; # Looks like your test exited with 2 just after 1.
&gt; t/30_loops/select/wheel_sf_ipv6....dubious
&gt;         Test returned status 2 &#40;wstat 512, 0x200&#41;
&gt; DIED. FAILED tests 2-3
&gt;         Failed 2/3 tests, 33.33% okay &#40;less 1 skipped test: 0 okay,
&gt; 0.00%&#41;
&gt; Failed Test                       Stat Wstat Total Fail  List of
&gt; Failed
&gt;
</div>-------------------------------------------------------------------------------
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/30_loops/select/wheel_sf_ipv6.t    2   512     3    4  2-3
&gt; 1 subtest skipped.
&gt; Failed 1/1 test scripts. 2/3 subtests failed.
&gt; Files=1, Tests=3,  2 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00
&gt; CPU&#41;
&gt; Failed 1/1 test programs. 2/3 subtests failed.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-670978" href="/Public/Bug/Display.html?id=50079#txn-670978">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;30&nbsp;23:23:36&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-671034" href="/Public/Bug/Display.html?id=50079#txn-671034">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;02:21:51&nbsp;2009</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/671034/344981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/344981">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 97b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Actually, it&#39;s working here. Do you have IPv6 enabled, and IPv6 routing
enabled on your firewall?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-671194" href="/Public/Bug/Display.html?id=50079#txn-671194">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;12:21:14&nbsp;2009</span>
    <span class="description">acferen [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/671194/345090/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/345090">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 720b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Oct 01 02:21:51 2009, RCAPUTO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Actually, it&#39;s working here. Do you have IPv6 enabled, and IPv6 routing
&gt; enabled on your firewall?
</div>
On closer inspection ipv6 is not installed.  Previously the test had not
passed, but failed more gracefully.  The issue is that when the new
Started event fires things die and the test no longer exits gracefully.

attached is a patch to get the test to fail gracefully by skipping all
the expected tests.

To test on Win32 XP &#34;ipv6 install&#34; and &#34;ipv6 uninstall&#34; to
install/uninstall the IPv6 stack.  Unfortunately at least with
ActiveState Socket6 will install/load with out error even if the IPv6
stack isn&#39;t there.  I didn&#39;t see an obvious way to deal with this directly.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/671194/345093/ipv6.patch">Download ipv6.patch</a><br />
<span class="downloadcontenttype">text/x-diff 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: lib/POE/Test/Loops/wheel_sf_ipv6.pm
===================================================================
--- lib/POE/Test/Loops/wheel_sf_ipv6.pm	&#40;revision 2706&#41;
+++ lib/POE/Test/Loops/wheel_sf_ipv6.pm	&#40;working copy&#41;
@@ -69,9 +69,17 @@
   Error              =&gt; \&#38;server_got_error,
   ClientError        =&gt; sub { }, # Hush a warning.
   Started            =&gt; sub {
-    $tcp_server_port = &#40;
-      Socket6::unpack_sockaddr_in6&#40;$_[HEAP]-&gt;{listener}-&gt;getsockname&#40;&#41;&#41;
-    &#41;[0];
+    eval {
+      my $socketname= $_[HEAP]-&gt;{listener}-&gt;getsockname&#40;&#41;;
+      $tcp_server_port = &#40;Socket6::unpack_sockaddr_in6&#40;$socketname&#41;&#41;[0];
+    };
+    if &#40;!$tcp_server_port || $@&#41; {
+      $tcp_server_port = undef;
+    SKIP: {
+      my $errstr = $@ || &#39;server port undefined&#39;;
+      skip &#34;AF_INET6 probably not supported/configured &#40;$errstr&#41;&#34;, 2
+      }
+    }
   },
 &#41;;
 
@@ -111,17 +119,19 @@
 ###############################################################################
 # Start the TCP client.
 
-POE::Component::Client::TCP-&gt;new&#40;
-  RemoteAddress =&gt; &#39;::1&#39;,
-  RemotePort    =&gt; $tcp_server_port,
-  Domain        =&gt; Socket6::AF_INET6,
-  BindAddress   =&gt; &#39;::1&#39;,
-  Connected     =&gt; \&#38;client_got_connect,
-  ServerInput   =&gt; \&#38;client_got_input,
-  ServerFlushed =&gt; \&#38;client_got_flush,
-  Disconnected  =&gt; \&#38;client_got_disconnect,
-  ConnectError  =&gt; \&#38;client_got_connect_error,
-&#41;;
+if &#40;$tcp_server_port&#41; {
+  POE::Component::Client::TCP-&gt;new&#40;
+    RemoteAddress =&gt; &#39;::1&#39;,
+    RemotePort    =&gt; $tcp_server_port,
+    Domain        =&gt; Socket6::AF_INET6,
+    BindAddress   =&gt; &#39;::1&#39;,
+    Connected     =&gt; \&#38;client_got_connect,
+    ServerInput   =&gt; \&#38;client_got_input,
+    ServerFlushed =&gt; \&#38;client_got_flush,
+    Disconnected  =&gt; \&#38;client_got_disconnect,
+    ConnectError  =&gt; \&#38;client_got_connect_error,
+    &#41;;
+}
 
 sub client_got_connect {
   my $heap = $_[HEAP];
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-671343" href="/Public/Bug/Display.html?id=50079#txn-671343">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;23:48:16&nbsp;2009</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/671343/345172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/345172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 133b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patch applied as revision 2707, but I was reading the wrong ticket
during the commit and attributed the wrong person.  Sorry, Andrew.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-671346" href="/Public/Bug/Display.html?id=50079#txn-671346">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;23:48:18&nbsp;2009</span>
    <span class="description">RCAPUTO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.44662</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
