<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18305 for Mail-Webmail-Gmail: Unable to login</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18305 for Mail-Webmail-Gmail: Unable to login</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Mail-Webmail-Gmail/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Mail-Webmail-Gmail/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Mail-Webmail-Gmail/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Mail-Webmail-Gmail/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mail-Webmail-Gmail">Mail-Webmail-Gmail CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18305</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">40 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Mail-Webmail-Gmail/Active/">Mail-Webmail-Gmail</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">mincus [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
simonw [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-20200-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.05    </td>
  </tr>
  <tr id="CF-20201-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;23&nbsp;05:23:44&nbsp;2006</span>
    <span class="description">simonw [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Unable to login</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I had to use the patch located at

<span class="clickylink"><a target="new" rel="nofollow" href="http://unixbeard.net/svn/simon/Net-FS-Gmail/mail_webmail_gmail.patch">http://unixbeard.net/svn/simon/Net-FS-Gmail/mail_webmail_gmail.patch</a></span>

to log-in

I&#39;ve also attached the patch.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mail_webmail_gmail.patch</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- /usr/local/perl580/lib/site_perl/5.8.0/Mail/Webmail/Gmail.pm	2006-03-10 16:11:00.000000000 +0000
+++ Gmail.pm	2006-03-22 16:30:10.000000000 +0000
@@ -102,7 +102,7 @@
 
     if &#40; !$res-&gt;is_success&#40;&#41; &#41; {
         $self-&gt;{_error} = 1;
-        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials\n&#34;;
+        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials - the request was not a success\n&#34;;
         $self-&gt;{_err_str} .= &#34;  Additionally, HTTP error: &#34; . $res-&gt;status_line . &#34;\n&#34;;
         return;
     }
@@ -110,7 +110,7 @@
     update_tokens&#40; $self, $res &#41;;
     if &#40; $res-&gt;content&#40;&#41; !~ /var url = &#34;&#40;.*?&#41;&#34;/ &#41; {
         $self-&gt;{_error} = 1;
-        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials\n&#34;;
+        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials - could not find final url\n&#34;;
         $self-&gt;{_err_str} .= &#34;  Additionally, HTTP error: &#34; . $res-&gt;status_line . &#34;\n&#34;;
         return;
     }
@@ -122,10 +122,10 @@
     $req-&gt;header&#40; &#39;Cookie&#39; =&gt; $self-&gt;{_cookie} &#41;;
     $res = $self-&gt;{_ua}-&gt;request&#40; $req &#41;;
     if &#40; $res-&gt;content&#40;&#41; !~ /&lt;a href=&#34;http:\/\/mail.google.com\/mail\?view=pr&#38;amp;fs=1&#34; target=&#34;_blank&#34;&gt; Gmail &lt;\/a&gt;/ &#41; {
-        $self-&gt;{_error} = 1;
-        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials\n&#34;;
-        $self-&gt;{_err_str} .= &#34;  Additionally, HTTP error: &#34; . $res-&gt;status_line . &#34;\n&#34;;
-        return;
+        #$self-&gt;{_error} = 1;
+        #$self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials - could not find find redirect url in \n\n&#34;.$res-&gt;content&#40;&#41;.&#34;\n&#34;;
+        #$self-&gt;{_err_str} .= &#34;  Additionally, HTTP error: &#34; . $res-&gt;status_line . &#34;\n&#34;;
+        # return;
     }
     update_tokens&#40; $self, $res &#41;;
 
@@ -134,7 +134,7 @@
     $res = $self-&gt;{_ua}-&gt;request&#40; $req &#41;;
     if &#40; $res-&gt;content&#40;&#41; !~ /top.location=&#34;&#40;.*?&#41;&#34;/ &#41; {
         $self-&gt;{_error} = 1;
-        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials\n&#34;;
+        $self-&gt;{_err_str} .= &#34;Error: Could not login with those credentials - couldn&#39;t find top.location\n&#34;;
         $self-&gt;{_err_str} .= &#34;  Additionally, HTTP error: &#34; . $res-&gt;status_line . &#34;\n&#34;;
         return;
     }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;24&nbsp;12:22:44&nbsp;2006</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Works for me + Your Patch is unnecessary</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> shlomif [...] iglu.org.il</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Mar 23 05:23:44 2006, SIMONW wrote: 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I had to use the patch located at 
&gt;  
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://unixbeard.net/svn/simon/Net-FS-Gmail/mail_webmail_gmail.patch">http://unixbeard.net/svn/simon/Net-FS-Gmail/mail_webmail_gmail.patch</a></span> 
&gt;  
&gt; to log-in 
&gt;  
&gt; I&#39;ve also attached the patch. 
&gt;  
</div> 
I was able to successfully use an unpatched version of 
Mail-Webmail-Gmail 1.05 to login to gmail.com now. 
 
Your patch doesn&#39;t do anything except changing the error strings, so 
why is it required? 
 
Regards, 
 
-- Shlomi Fish 
 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;24&nbsp;12:22:45&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;24&nbsp;12:42:56&nbsp;2006</span>
    <span class="description">simon [...] thegestalt.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #18305] Works for me + Your Patch is unnecessary</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 24 Mar 2006 17:42:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> via RT &lt;bug-Mail-Webmail-Gmail [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Simon Wistow &lt;simon [...] thegestalt.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Mar 24, 2006 at 12:22:46PM -0500,  via RT said:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I was able to successfully use an unpatched version of 
&gt; Mail-Webmail-Gmail 1.05 to login to gmail.com now. 
</div>
Congratulations, that&#39;s wonderful for you. You must be very proud. I, 
on the other hand, get a failure to login 

Couldn&#39;t log into gmail : Error: Could not login with those credentials
  Additionally, HTTP error: 200 OK

With my patch but without the return commented out in the third test 
[*] I get

Couldn&#39;t log into gmail : Error: Could not login with those credentials 
- could not find find redirect url.
  Additionally, HTTP error: 200 OK


Which told me that it was the third test that was failing.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Your patch doesn&#39;t do anything except changing the error strings, so 
&gt; why is it required? 
</div>
The error string changing tells me which one of the four checks it&#39;s 
failing. 

What I don&#39;t think you noticed was that the patch also comments out the
error string setting return from the third test because, for me, that&#39;s
the one that&#39;s failing yet the module works fine without it.

Simon






[*] I.e the one checking for

&lt;a href=&#34;http:\/\/mail.google.com\/mail\?view=pr&#38;amp;fs=1&#34; 
target=&#34;_blank&#34;&gt; Gmail &lt;\/a&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;03&nbsp;09:33:03&nbsp;2006</span>
    <span class="description">mincus [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;03&nbsp;09:35:02&nbsp;2006</span>
    <span class="description">mincus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This bug resulted from &#34;Gmail&#34; not being called such in every country. 
For example, Gmail is called &#34;Google Mail&#34; in the UK.

Changed the logon script to not care what the name was, just to make
sure that the user had a Gmail account before proceeding.

Resolved in Mail::Webmail::Gmail version 1.06
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;03&nbsp;09:35:04&nbsp;2006</span>
    <span class="description">mincus [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;15&nbsp;01:02:58&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> skramadhyani [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Mar 24 12:42:56 2006, simon@thegestalt.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, Mar 24, 2006 at 12:22:46PM -0500,  via RT said:
<div class="message-stanza open">&gt; &gt; I was able to successfully use an unpatched version of 
&gt; &gt; Mail-Webmail-Gmail 1.05 to login to gmail.com now. 
</div>&gt; 
&gt; Congratulations, that&#39;s wonderful for you. You must be very proud. 
</div>I, 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; on the other hand, get a failure to login 
&gt; 
&gt; Couldn&#39;t log into gmail : Error: Could not login with those 
</div>credentials
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   Additionally, HTTP error: 200 OK
&gt; 
&gt; With my patch but without the return commented out in the third test 
&gt; [*] I get
&gt; 
&gt; Couldn&#39;t log into gmail : Error: Could not login with those 
</div>credentials 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - could not find find redirect url.
&gt;   Additionally, HTTP error: 200 OK
&gt; 
&gt; 
&gt; Which told me that it was the third test that was failing.
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; Your patch doesn&#39;t do anything except changing the error strings, 
</div></div>so 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; why is it required? 
</div>&gt; 
&gt; The error string changing tells me which one of the four checks it&#39;s 
&gt; failing. 
&gt; 
&gt; What I don&#39;t think you noticed was that the patch also comments out 
</div>the
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; error string setting return from the third test because, for me, 
</div>that&#39;s
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; the one that&#39;s failing yet the module works fine without it.
&gt; 
&gt; Simon
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; [*] I.e the one checking for
&gt; 
&gt; &lt;a href=&#34;http:\/\/mail.google.com\/mail\?view=pr&#38;amp;fs=1&#34; 
&gt; target=&#34;_blank&#34;&gt; Gmail &lt;\/a&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;15&nbsp;01:03:00&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;18&nbsp;20:40:11&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

This module was working for me up until last week, however something
went wrong when I tried to use it today.


Code:

#!/usr/bin/perl -w
use strict;
use Mail::Webmail::Gmail;

print&#40;&#34;Sending...&#34;&#41;;
my $g = Mail::Webmail::Gmail-&gt;new&#40;username =&gt; &#39;XXXX&#39;, password =&gt; &#39;XXXX&#39;&#41;;
$g-&gt;send_message&#40;to =&gt; &#39;XXXX&#39;, subject =&gt; &#39;test subj&#39;, msgbody =&gt; &#39;test
body&#39;&#41;;
print&#40;$g-&gt;error_msg&#41; if&#40;$g-&gt;error&#41;;
print&#40;&#34;done\n&#34;&#41;;


Error:

Sending...Error: Could not login with those credentials - could not find
Gmail account.
  Additionally, HTTP error: 200 OK
Error: Could not Login.
done

On Sat Apr 15 01:02:58 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; I, 
&gt; &gt; on the other hand, get a failure to login 
&gt; &gt; 
&gt; &gt; Couldn&#39;t log into gmail : Error: Could not login with those
&gt; &gt; credentials
&gt; &gt;   Additionally, HTTP error: 200 OK
&gt; &gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;19&nbsp;09:56:32&nbsp;2006</span>
    <span class="description">mincus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #18305] Unable to login</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 19 Apr 2006 09:55:59 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mail-Webmail-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mincus &lt;mincus [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please provide some more information.  What OS, version of perl, and
version of Mail::Webmail::Gmail are you using?

Thanks
--mincus

On 4/18/06, Guest via RT &lt;bug-Mail-Webmail-Gmail@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;        Queue: Mail-Webmail-Gmail
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=18305">http://rt.cpan.org/Ticket/Display.html?id=18305</a></span> &gt;
&gt;
&gt; Hi,
&gt;
&gt; This module was working for me up until last week, however something
&gt; went wrong when I tried to use it today.
&gt;
&gt;
&gt; Code:
&gt;
&gt; #!/usr/bin/perl -w
&gt; use strict;
&gt; use Mail::Webmail::Gmail;
&gt;
&gt; print&#40;&#34;Sending...&#34;&#41;;
&gt; my $g = Mail::Webmail::Gmail-&gt;new&#40;username =&gt; &#39;XXXX&#39;, password =&gt; &#39;XXXX&#39;&#41;;
&gt; $g-&gt;send_message&#40;to =&gt; &#39;XXXX&#39;, subject =&gt; &#39;test subj&#39;, msgbody =&gt; &#39;test
&gt; body&#39;&#41;;
&gt; print&#40;$g-&gt;error_msg&#41; if&#40;$g-&gt;error&#41;;
&gt; print&#40;&#34;done\n&#34;&#41;;
&gt;
&gt;
&gt; Error:
&gt;
&gt; Sending...Error: Could not login with those credentials - could not find
&gt; Gmail account.
&gt;   Additionally, HTTP error: 200 OK
&gt; Error: Could not Login.
&gt; done
&gt;
&gt; On Sat Apr 15 01:02:58 2006, guest wrote:
<div class="message-stanza open">&gt; &gt; &gt; I,
&gt; &gt; &gt; on the other hand, get a failure to login
&gt; &gt; &gt;
&gt; &gt; &gt; Couldn&#39;t log into gmail : Error: Could not login with those
&gt; &gt; &gt; credentials
&gt; &gt; &gt;   Additionally, HTTP error: 200 OK
&gt; &gt; &gt;
</div>&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;27&nbsp;15:24:04&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Mincus,

I&#39;m so sorry, I didn&#39;t see your message and had infact forgotten about
the whole project up until today.  Ok, so the OS is Gentoo running on an
AMD Athlon 1700, Perl version is 5.8.7 built for
i686-linux-thread-multi, and it&#39;s version 1.07 of Mail::Webmail::Gmail.

I just tried the very same gmail script again and now it seems to be
working.  Hmmmm.... could they be trying to detect and prevent
automation?  I wonder.

Lovecoder

On Wed Apr 19 09:56:32 2006, mincus@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please provide some more information.  What OS, version of perl, and
&gt; version of Mail::Webmail::Gmail are you using?
&gt; 
&gt; Thanks
&gt; --mincus
&gt; 
&gt; On 4/18/06, Guest via RT &lt;bug-Mail-Webmail-Gmail@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt;        Queue: Mail-Webmail-Gmail
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=18305">http://rt.cpan.org/Ticket/Display.html?id=18305</a></span> &gt;
&gt; &gt;
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; This module was working for me up until last week, however something
&gt; &gt; went wrong when I tried to use it today.
&gt; &gt;
&gt; &gt;
&gt; &gt; Code:
&gt; &gt;
&gt; &gt; #!/usr/bin/perl -w
&gt; &gt; use strict;
&gt; &gt; use Mail::Webmail::Gmail;
&gt; &gt;
&gt; &gt; print&#40;&#34;Sending...&#34;&#41;;
&gt; &gt; my $g = Mail::Webmail::Gmail-&gt;new&#40;username =&gt; &#39;XXXX&#39;, password =&gt;
</div></div>&#39;XXXX&#39;&#41;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; $g-&gt;send_message&#40;to =&gt; &#39;XXXX&#39;, subject =&gt; &#39;test subj&#39;, msgbody =&gt; &#39;test
&gt; &gt; body&#39;&#41;;
&gt; &gt; print&#40;$g-&gt;error_msg&#41; if&#40;$g-&gt;error&#41;;
&gt; &gt; print&#40;&#34;done\n&#34;&#41;;
&gt; &gt;
&gt; &gt;
&gt; &gt; Error:
&gt; &gt;
&gt; &gt; Sending...Error: Could not login with those credentials - could not find
&gt; &gt; Gmail account.
&gt; &gt;   Additionally, HTTP error: 200 OK
&gt; &gt; Error: Could not Login.
&gt; &gt; done
&gt; &gt;
&gt; &gt; On Sat Apr 15 01:02:58 2006, guest wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; I,
&gt; &gt; &gt; &gt; on the other hand, get a failure to login
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Couldn&#39;t log into gmail : Error: Could not login with those
&gt; &gt; &gt; &gt; credentials
&gt; &gt; &gt; &gt;   Additionally, HTTP error: 200 OK
&gt; &gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;08&nbsp;12:19:47&nbsp;2006</span>
    <span class="description">mincus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved in 1.08
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;08&nbsp;12:19:50&nbsp;2006</span>
    <span class="description">mincus [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
