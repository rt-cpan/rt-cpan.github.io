<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #74095 for ExtUtils-MakeMaker: Tell the user their Perl numification is broken</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #74095 for ExtUtils-MakeMaker: Tell the user their Perl numification is broken</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-MakeMaker">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-MakeMaker">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-MakeMaker">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-MakeMaker">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">74095</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-MakeMaker">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RURBAN [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
6.62    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=74095">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1023576" href="/Public/Bug/Display.html?id=74095#txn-1023576">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;17&nbsp;14:04:22&nbsp;2012</span>
    <span class="description">RURBAN [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Broken on 5.6</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1023576/533868/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/533868">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Note the 1.e-02

$ make test
PERL_DL_NONLAZY=1 /usr/local/bin/perl5.6.2d-nt &#34;-Iblib/arch&#34; &#34;-Iblib/lib&#34; &#34;-
MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00compile.t ............. ok     
t/arch_check.t ............ ok   
t/backwards.t ............. ok   
t/basic.t ................. 1/171 
#   Failed test &#39;  &lt;SOFTPKG&gt;&#39;
#   at t/basic.t line 83.
#                   &#39;&lt;SOFTPKG NAME=&#34;Big-Dummy&#34; VERSION=&#34;1.e-02&#34;&gt;
#     &lt;ABSTRACT&gt;Try &#34;our&#34; hot dog&#39;s&lt;/ABSTRACT&gt;
#     &lt;AUTHOR&gt;Michael G Schwern &#38;lt;schwern@pobox.com&#38;gt;&lt;/AUTHOR&gt;
#     &lt;IMPLEMENTATION&gt;
#         &lt;REQUIRE NAME=&#34;strict::&#34; /&gt;
#         &lt;ARCHITECTURE NAME=&#34;darwin&#34; /&gt;
#         &lt;CODEBASE HREF=&#34;&#34; /&gt;
#     &lt;/IMPLEMENTATION&gt;
# &lt;/SOFTPKG&gt;
# &#39;
#     doesn&#39;t match &#39;&#40;?m-xis:^&lt;SOFTPKG NAME=&#34;Big-Dummy&#34; VERSION=&#34;0.01&#34;&gt;&#41;&#39;
t/basic.t ................. 62/171 
#   Failed test &#39;META.yml written to dist dir&#39;
#   at t/basic.t line 240.

#   Failed test &#39;MYMETA.yml is written to dist dir on disttest&#39;
#   at t/basic.t line 244.

#   Failed test &#39;META.json written to dist dir&#39;
#   at t/basic.t line 247.

#   Failed test &#39;MYMETA.json is written to dist dir on disttest&#39;
#   at t/basic.t line 251.

#   Failed test &#39;META.yml validates&#39;
#   at t/basic.t line 263.
Can&#39;t call method &#34;name&#34; on an undefined value at t/basic.t line 270.
# Looks like you planned 171 tests but ran 75.
# Looks like you failed 6 tests of 75 run.
# Looks like your test exited with 255 just after 75.
t/basic.t ................. Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
Failed 102/171 subtests 
t/build_man.t ............. ok   
t/cd.t .................... ok   
t/config.t ................ ok   
t/dir_target.t ............ ok   
t/FIRST_MAKEFILE.t ........ ok   
t/fix_libs.t .............. ok   
t/fixin.t ................. ok     
t/hints.t ................. ok   
t/INST.t .................. ok     
t/INST_PREFIX.t ........... ok     
t/INSTALL_BASE.t .......... ok     
t/installed_file.t ........ ok   
t/is_of_type.t ............ ok    
t/Liblist.t ............... ok   
t/Liblist_Kid.t ........... ok   
t/make.t .................. ok   
t/MakeMaker_Parameters.t .. ok   
t/maketext_filter.t ....... ok   
t/meta_convert.t .......... ok    
t/metafile_data.t ......... ok     
t/metafile_file.t ......... ok     
t/min_perl_version.t ...... Name &#34;_Prereq::Print::WithMPV::BUILD_REQUIRES&#34; used only once: 
possible typo at t/min_perl_version.t line 125.
t/min_perl_version.t ...... 27/32 
#   Failed test &#39;META.yml validates&#39;
#   at t/min_perl_version.t line 195.
Can&#39;t call method &#34;prereqs&#34; on an undefined value at t/min_perl_version.t line 200.
# Looks like you planned 32 tests but ran 29.
# Looks like you failed 1 test of 29 run.
# Looks like your test exited with 2 just after 29.
t/min_perl_version.t ...... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 4/32 subtests 
t/miniperl.t .............. skipped: miniperl test only necessary for the perl core
t/Mkbootstrap.t ........... ok     
t/MM_Any.t ................ ok   
t/MM_BeOS.t ............... skipped: This is not BeOS
t/MM_Cygwin.t ............. skipped: This is not cygwin
t/MM_NW5.t ................ skipped: This is not NW5
t/MM_OS2.t ................ skipped: This is not OS/2
t/MM_Unix.t ............... ok       
t/MM_VMS.t ................ skipped: This is not VMS
t/MM_Win32.t .............. skipped: This is not Win32
t/oneliner.t .............. ok     
t/parse_abstract.t ........ ok   
t/parse_version.t ......... ok     
t/PL_FILES.t .............. ok   
t/pm.t .................... ok   
t/pm_to_blib.t ............ ok    
t/pod2man.t ............... ok   
t/postamble.t ............. ok   
t/prefixify.t ............. ok   
t/prereq.t ................ ok     
t/prereq_print.t .......... ok     
t/problems.t .............. ok   
t/prompt.t ................ ok     
t/recurs.t ................ ok     
t/revision.t .............. ok   
t/several_authors.t ....... 4/20 
#   Failed test &#39;META.yml validates&#39;
#   at t/several_authors.t line 135.
Can&#39;t call method &#34;authors&#34; on an undefined value at t/several_authors.t line 140.
# Looks like you planned 20 tests but ran 17.
# Looks like you failed 1 test of 17 run.
# Looks like your test exited with 2 just after 17.
t/several_authors.t ....... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 4/20 subtests 
t/split_command.t ......... ok   
t/test_boilerplate.t ...... ok   
t/testlib.t ............... ok   
t/VERSION_FROM.t .......... ok   
t/WriteEmptyMakefile.t .... ok   
t/writemakefile_args.t .... ok     
t/xs.t .................... ok   

Test Summary Report
-------------------
t/basic.t               &#40;Wstat: 65280 Tests: 75 Failed: 6&#41;
  Failed tests:  12, 64, 67, 69, 72-73
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 171 tests but ran 75.
t/min_perl_version.t    &#40;Wstat: 512 Tests: 29 Failed: 1&#41;
  Failed test:  27
  Non-zero exit status: 2
  Parse errors: Bad plan.  You planned 32 tests but ran 29.
t/several_authors.t     &#40;Wstat: 512 Tests: 17 Failed: 1&#41;
  Failed test:  15
  Non-zero exit status: 2
  Parse errors: Bad plan.  You planned 20 tests but ran 17.
Files=59, Tests=843, 50 wallclock secs &#40; 0.49 usr  0.23 sys + 30.24 cusr  5.11 csys = 36.07 
CPU&#41;
Result: FAIL
Failed 3/59 test programs. 8/843 subtests failed.
make: *** [test_dynamic] Error 35
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1023990" href="/Public/Bug/Display.html?id=74095#txn-1023990">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;11:32:43&nbsp;2012</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tell the user their Perl numification is broken</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1023990/534091/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/534091">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 713b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 17 14:04:22 2012, RURBAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Note the 1.e-02
</div>
Thanks for the report, the test is absolutely correct... except the
problem is your perl install.  It&#39;s a known bug in 5.6.2 on some BSDs,
usually only showing up in OS X.  A simple &#39;print &#34;0.01&#34;&#39; should
illustrate the problem.

The fix is to compile with -Dd_Gconvert=sprintf as explained here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://www.socialtext.net/perl5/installing_perl_on_os_x">https://www.socialtext.net/perl5/installing_perl_on_os_x</a></span>

This is a common enough problem with 5.6, so I&#39;ll add an early test that
clearly explains the problem.

I don&#39;t have a broken 5.6 handy to test that it works, could you please
give it a shot?
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl-Toolchain-Gang/ExtUtils-MakeMaker/commit/c5f1a5900d8a0bf5afb5f27b8deea3178528df5c">https://github.com/Perl-Toolchain-Gang/ExtUtils-MakeMaker/commit/c5f1a5900d8a0bf5afb5f27b8deea3178528df5c</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1023993" href="/Public/Bug/Display.html?id=74095#txn-1023993">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;11:32:50&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024002" href="/Public/Bug/Display.html?id=74095#txn-1024002">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;11:33:12&nbsp;2012</span>
    <span class="description">mschwern [...] cpan.org -  Subject changed from &#39;Broken on 5.6&#39; to &#39;Tell the user their Perl numification is broken&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024003" href="/Public/Bug/Display.html?id=74095#txn-1024003">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;11:33:12&nbsp;2012</span>
    <span class="description">mschwern [...] cpan.org -  Severity Critical changed to Wishlist</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024061" href="/Public/Bug/Display.html?id=74095#txn-1024061">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;13:47:05&nbsp;2012</span>
    <span class="description">rurban [...] x-ray.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> RURBAN [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74095] Tell the user their Perl numification is broken</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Jan 2012 12:46:55 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reini Urban &lt;rurban [...] x-ray.at&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1024061/534129/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/534129">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jan 18, 2012 at 10:32 AM, Michael G Schwern via RT
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=74095">https://rt.cpan.org/Ticket/Display.html?id=74095</a></span> &gt;
&gt;
&gt; On Tue Jan 17 14:04:22 2012, RURBAN wrote:
<div class="message-stanza open">&gt;&gt; Note the 1.e-02
</div>&gt;
&gt; Thanks for the report, the test is absolutely correct... except the
&gt; problem is your perl install. Â It&#39;s a known bug in 5.6.2 on some BSDs,
&gt; usually only showing up in OS X. Â A simple &#39;print &#34;0.01&#34;&#39; should
&gt; illustrate the problem.
&gt;
&gt; The fix is to compile with -Dd_Gconvert=sprintf as explained here:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://www.socialtext.net/perl5/installing_perl_on_os_x">https://www.socialtext.net/perl5/installing_perl_on_os_x</a></span>
&gt;
&gt; This is a common enough problem with 5.6, so I&#39;ll add an early test that
&gt; clearly explains the problem.
&gt;
&gt; I don&#39;t have a broken 5.6 handy to test that it works, could you please
&gt; give it a shot?
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl-Toolchain-Gang/ExtUtils-MakeMaker/commit/c5f1a5900d8a0bf5afb5f27b8deea3178528df5c">https://github.com/Perl-Toolchain-Gang/ExtUtils-MakeMaker/commit/c5f1a5900d8a0bf5afb5f27b8deea3178528df5c</a></span>
</div>
Sorry, but this is no solution.
perl5.6.2 works fine even with this bug, and most modules work fine
with this bug.
If you want to check for the Gconvert bug warn but do not die.
EUMM tests should be TODO or skipped.

The whole CPAN toolchain is depending on EUMM so you deliberately
break perl by assuming the world is broken whilst it is only broken
for you, for the optional CPAN::META and YAML, nothing else.
There are worse 5.6 bugs than Gconvert, e.g. glob,m hash randomizations, utf8
You do not fail on this and you should not be deliberate module authors.

Requiring a broken EUMM 6.30 is aggressive behavior and breaking all old perls.
-- 
Reini Urban
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpanel.net/">http://cpanel.net/</a></span> Â  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl-compiler.org/">http://www.perl-compiler.org/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024189" href="/Public/Bug/Display.html?id=74095#txn-1024189">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;21:23:13&nbsp;2012</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74095] Tell the user their Perl numification is broken</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Jan 2012 18:23:01 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1024189/534191/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/534191">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It is better to inform the user of this this problem, one which both breaks
MakeMaker and has wide spread consequences outside of MakeMaker, early and
clearly rather than wasting hours tracking down mysterious failures later.
Then they can decide whether to deal with it quickly, cheaply and
decisively... or do something else.  The user is informed of a problem and the
purpose of the tests is fulfilled.

This is not a new situation nor a new test, it has existed for years.  EUMM
6.30 is equally broken, the tests just might not tickle the bug.  I&#39;m sorry
but there is no easy work around which restores automated installs for you AND
guarantees a working toolchain.  If you have one, please let us know.

I&#39;m sorry this is immediately inconvenient; the purpose of testing and the
install process is not just to provide the user with a toolchain, but with a
WORKING toolchain.  If the tests indicate the toolchain will not work, the
install must inform the user about the problem.  The best way we have to do
this is to halt and catch fire.

MakeMaker is clearly broken by this Perl bug, it cannot correctly write
version numbers, pretty important in a packaging system, and likely has deeper
consequences.  MakeMaker only incidentally catches it in a largely unrelated
test, so I added an explicit check with clearer information for the user.

Other CPAN modules likely only &#34;work&#34; in the sense that they pass tests
because their testing does not tickle this bug.  My assumption that the world
is broken by this Perl bug is IN ADDITION to the fact that MakeMaker is
definitely broken.

That there may be OTHER Perl bugs the test suite does not catch is irrelevant;
two wrongs do not make a right.  If they break MakeMaker, and are common, I
would be interested to know about them, test for them and try to put in a
non-invasive work around.  While MakeMaker usually attempts to work around
Perl bugs, they are usually small, subtle and only of concern to MakeMaker.  I
have no work around for the problem which isn&#39;t extremely invasive.  If I did
it would serve little purpose because the bug would still affect many other
module and programs.

If you&#39;re concerned about 5.6, consider fixing it in the hints and releasing
5.6.3.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024591" href="/Public/Bug/Display.html?id=74095#txn-1024591">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;19&nbsp;13:46:03&nbsp;2012</span>
    <span class="description">rurban [...] x-ray.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> RURBAN [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74095] Tell the user their Perl numification is broken</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Jan 2012 12:45:53 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reini Urban &lt;rurban [...] x-ray.at&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1024591/534432/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/534432">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jan 18, 2012 at 8:23 PM, Michael G Schwern via RT
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=74095">https://rt.cpan.org/Ticket/Display.html?id=74095</a></span> &gt;
&gt;
&gt; It is better to inform the user of this this problem, one which both breaks
&gt; MakeMaker and has wide spread consequences outside of MakeMaker, early and
&gt; clearly rather than wasting hours tracking down mysterious failures later.
&gt; Then they can decide whether to deal with it quickly, cheaply and
&gt; decisively... or do something else. Â The user is informed of a problem and the
&gt; purpose of the tests is fulfilled.
&gt;
&gt; This is not a new situation nor a new test, it has existed for years. Â EUMM
&gt; 6.30 is equally broken, the tests just might not tickle the bug. Â I&#39;m sorry
&gt; but there is no easy work around which restores automated installs for you AND
&gt; guarantees a working toolchain. Â If you have one, please let us know.
&gt;
&gt; I&#39;m sorry this is immediately inconvenient; the purpose of testing and the
&gt; install process is not just to provide the user with a toolchain, but with a
&gt; WORKING toolchain. Â If the tests indicate the toolchain will not work, the
&gt; install must inform the user about the problem. Â The best way we have to do
&gt; this is to halt and catch fire.
&gt;
&gt; MakeMaker is clearly broken by this Perl bug, it cannot correctly write
&gt; version numbers, pretty important in a packaging system, and likely has deeper
&gt; consequences. Â MakeMaker only incidentally catches it in a largely unrelated
&gt; test, so I added an explicit check with clearer information for the user.
&gt;
&gt; Other CPAN modules likely only &#34;work&#34; in the sense that they pass tests
&gt; because their testing does not tickle this bug. Â My assumption that the world
&gt; is broken by this Perl bug is IN ADDITION to the fact that MakeMaker is
&gt; definitely broken.
&gt;
&gt; That there may be OTHER Perl bugs the test suite does not catch is irrelevant;
&gt; two wrongs do not make a right. Â If they break MakeMaker, and are common, I
&gt; would be interested to know about them, test for them and try to put in a
&gt; non-invasive work around. Â While MakeMaker usually attempts to work around
&gt; Perl bugs, they are usually small, subtle and only of concern to MakeMaker. Â I
&gt; have no work around for the problem which isn&#39;t extremely invasive. Â If I did
&gt; it would serve little purpose because the bug would still affect many other
&gt; module and programs.
</div>
Even with this or other 5.6 bugs the module testsuites pass.
It&#39;s the authors concern and not yours.
You should just let the user test and install the module and
not artificially break the dependency toolchain.

It&#39;s annoying and time-consuming to fix away all these new EUMM restrictions/bug
and users typically blame perl, not you.
I have a working 5.6 toolchain on linux, darwin and windows. It just
causes a lot
of effort to fight schwern and his followers who think without META
you are not allowed to install working CPAN modules.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you&#39;re concerned about 5.6, consider fixing it in the hints and releasing
&gt; 5.6.3.
</div>
That&#39;s indeed a good option, since hash randomization is needed also.
But it has nothing to do with this EUMM bug.
-- 
Reini Urban
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpanel.net/">http://cpanel.net/</a></span> Â  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl-compiler.org/">http://www.perl-compiler.org/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1024624" href="/Public/Bug/Display.html?id=74095#txn-1024624">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;19&nbsp;15:02:08&nbsp;2012</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74095] Tell the user their Perl numification is broken</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Jan 2012 12:01:52 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1024624/534452/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/534452">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2012.1.19 10:46 AM, Reini Urban via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have a working 5.6 toolchain on linux, darwin and windows. It just
&gt; causes a lot of effort to fight schwern and his followers who think
&gt; without META you are not allowed to install working CPAN modules.
</div>
I&#39;ve been very patient with you.  You&#39;re being obtuse, paranoid and
disingenuous.  Stop it.  This isn&#39;t a META conspiracy or even an anti-5.6
thing.  PPM files were introduced before I even touched MakeMaker and the
failing test has been there for years.

If you actually want to discuss this, I think I can finally surmise what
you&#39;re wanting to express:

A&#41; Most users just want MakeMaker so they can install modules.
B&#41; This 5.6 bug doesn&#39;t effect INSTALLATION, just PACKAGING of modules.
C&#41; Most other modules work fine with the bug.

Therefore:

D&#41; The bug doesn&#39;t affect most users.
E&#41; Let them install a semi-broken MakeMaker.
F&#41; Turn off the PPM test.

I believe A.  I don&#39;t really believe B or C, but let&#39;s believe them for the
purposes of this exercise.  Once one believes A, B and C then D, E and F
follow along logically... except that &#34;works for most&#34; is not good enough.

There&#39;s a significant chunk of users who DO want to package modules.  We can&#39;t
predict who those are and only warn them about the problem.  To make matters
worse, when they do go to package and release a module it may contain broken
META information.  I know YOU don&#39;t care about META information, but the
toolchain you&#39;re concerned about does.  Other users will then download that
module, the install will get very confused and users will spend a bunch of
time trying to figure out what&#39;s wrong.  The people effected and the time lost
to the bug expands.

If you&#39;re going to advocate a &#34;works for most people&#34; philosophy so lightly,
then 5.6 support would be the first thing to go.  Most people don&#39;t use it and
it costs a lot of energy to maintain.

It would be very nice if MakeMaker were separated into &#34;module to INSTALL
modules&#34; and &#34;module to MAKE modules&#34; but it isn&#39;t.  Either we fix that or
live with the consequences.  Living with the consequences means shipping a
MakeMaker where BOTH use cases work.  Full stop.

Just recompile your damn Perl, Reini.  It&#39;s broken.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1393323" href="/Public/Bug/Display.html?id=74095#txn-1393323">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;31&nbsp;22:12:36&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1393323/739967/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/739967">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 53b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I claim this is obsolete since not EUMM issue at all.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1393459" href="/Public/Bug/Display.html?id=74095#txn-1393459">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;01&nbsp;11:03:59&nbsp;2014</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1393459/740047/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/740047">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 445b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 31 22:12:36 2014, ETJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I claim this is obsolete since not EUMM issue at all.
</div>
The EUMM issue is that those tests are fatal with the Gconvert bug.
schwerns patch to note about the bug is very good.

But to fail to install because of META problems is too restrictive. META should be hints, but not mandatory.
As analogy, do you want to refuse to let a user install a package when he has no LICENSE file or meta?
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440223" href="/Public/Bug/Display.html?id=74095#txn-1440223">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;08&nbsp;18:12:16&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1440223/765608/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765608">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 109b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Schwern&#39;s patch to warn users in t/01perl_bugs.t about Perl config bug is the most that can be done. Closing.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440226" href="/Public/Bug/Display.html?id=74095#txn-1440226">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;08&nbsp;18:12:19&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.505313</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
