<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #87023 for Module-CPANTS-Analyse: Need more flags on metrics, to make it easier to skip them</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #87023 for Module-CPANTS-Analyse: Need more flags on metrics, to make it easier to skip them</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Module-CPANTS-Analyse/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-CPANTS-Analyse">Module-CPANTS-Analyse CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">87023</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Module-CPANTS-Analyse/Active/">Module-CPANTS-Analyse</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-38184-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38185-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;18&nbsp;13:47:27&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Need more flags on metrics, to make it easier to skip them</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">More info, and patch, in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/daxim/Module-CPANTS-Analyse/pull/13">https://github.com/daxim/Module-CPANTS-Analyse/pull/13</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;18&nbsp;13:47:42&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;new&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;01&nbsp;19:08:15&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-07-18 10:47:27, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; More info, and patch, in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/daxim/Module-CPANTS-">https://github.com/daxim/Module-CPANTS-</a></span>
&gt; Analyse/pull/13
</div>

This would let you keep the metrics you just removed in 0.90_01:
buildtool_not_executable
no_dot_underscore_files
no_generated_files

...because you can just tag them with something like &#39;no_build&#39;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;00:36:13&nbsp;2013</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No. Removing them from MCA is better because other users &#40;like T::K::Extra&#41; may suffer the same issue.
 
On Fri Aug 02 08:08:15 2013, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2013-07-18 10:47:27, ETHER wrote:
<div class="message-stanza open">&gt; &gt; More info, and patch, in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/daxim/Module-CPANTS-">https://github.com/daxim/Module-CPANTS-</a></span>
&gt; &gt; Analyse/pull/13
</div>&gt; 
&gt; 
&gt; This would let you keep the metrics you just removed in 0.90_01:
&gt; buildtool_not_executable
&gt; no_dot_underscore_files
&gt; no_generated_files
&gt; 
&gt; ...because you can just tag them with something like &#39;no_build&#39;.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;01:21:51&nbsp;2013</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;13:38:26&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #87023] Need more flags on metrics, to make it easier to skip them</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Aug 2013 10:38:16 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Kenichi Ishigaki via RT &lt;bug-Module-CPANTS-Analyse [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Aug 03, 2013 at 12:36:14AM -0400, Kenichi Ishigaki via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; No. Removing them from MCA is better because other users &#40;like T::K::Extra&#41; may suffer the same issue.
</div>
These metrics still have value, e.g. on the CPANTS website.  They just
don&#39;t make sense to run on inflated dist directories.

Ultimately you need to decide: who are the intended users of this
distribution? The CPANTS site? Module authors wanting to test their dists?
Or both?  Some metrics are equally applicable to both, but others aren&#39;t,
so if you want to continue to serve both sets of users, there needs to be a
way for these users to select only the metrics that are useful to them.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;13:38:32&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;16:46:52&nbsp;2013</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Aug 04 02:38:26 2013, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat, Aug 03, 2013 at 12:36:14AM -0400, Kenichi Ishigaki via RT
&gt; wrote:
<div class="message-stanza open">&gt; &gt; No. Removing them from MCA is better because other users &#40;like
&gt; &gt; T::K::Extra&#41; may suffer the same issue.
</div>&gt; 
&gt; These metrics still have value, e.g. on the CPANTS website.  They just
&gt; don&#39;t make sense to run on inflated dist directories.
&gt; 
&gt; Ultimately you need to decide: who are the intended users of this
&gt; distribution? The CPANTS site? Module authors wanting to test their
&gt; dists?
&gt; Or both?  Some metrics are equally applicable to both, but others
&gt; aren&#39;t,
&gt; so if you want to continue to serve both sets of users, there needs to
&gt; be a
&gt; way for these users to select only the metrics that are useful to
&gt; them.
</div>
No need to decide. CPANTS is a testing service for uploaded &#40;finalized&#41; CPAN distributions, and the metrics are for the service &#40;ie. finalized, well-formed distributions&#41;. Some of the metrics may happen to work locally, but don&#39;t expect metrics authors/contributors take local &#40;ab&#41;users into account and add some flags for them. Period.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;16:46:53&nbsp;2013</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;21:32:15&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #87023] Need more flags on metrics, to make it easier to skip them</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Aug 2013 18:32:03 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Kenichi Ishigaki via RT &lt;bug-Module-CPANTS-Analyse [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Aug 03, 2013 at 04:46:53PM -0400, Kenichi Ishigaki via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; No need to decide. CPANTS is a testing service for uploaded &#40;finalized&#41; CPAN distributions, and the metrics are for the service &#40;ie. finalized, well-formed distributions&#41;. Some of the metrics may happen to work locally, but don&#39;t expect metrics authors/contributors take local &#40;ab&#41;users into account and add some flags for them. Period.
</div>
Do you feel Test::Kwalitee is an abuser?  If so, it can simply be removed
and save everyone a lot of trouble trying to make things work where they
are not intended to be.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;04&nbsp;05:11:28&nbsp;2013</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry I needed to explain more carefully.

As I said, CPANTS is a remote testing service for finalized distributions, and its metrics naturally expect files in the target directory are directly extracted from a finalized distribution. There shouldn&#39;t be any files for local usage &#40;such as version control files, or temporary files&#41;, and if those files should be found, it would be a distribution&#39;s flaw. This has been the bottom line for a long time.

However, we know some of the metrics may happen to work locally. These days more files are generated by authoring tools like dzil, and thus it&#39;s harder than before to say which metrcis should always work for everyone, but anyway it&#39;s reasonable people want to reuse some of the metrics for their local testing, assuming some of the files should be placed the same as a finalized distribution. Strictly speaking, this assumption is not always right, and there must be metrics that fail because of this wild assumption. But as long as they know what they are doing, and do it at their risks, it&#39;s fine, and it&#39;s nice if those metrics they choose to apply do happen to help. I&#39;d be happy to apply fixes for local users if they are small and simple, don&#39;t impact overall performance and don&#39;t make further maintenance harder.

This request is something different. What this means is, metrics authors/contributors should test their metrics if they work locally before releases, and if they don&#39;t work, metrics authors/contributors should add some flags for local users. That&#39;s too much. Besides, even we accept this and add some flags to metrics that may not work locally, users of older versions of TK &#40;1.08-1.12 I suppose&#41; will suffer from those new flagged metrics because of their &#40;installed&#41; TK don&#39;t support the flags. In other words, this makes conflict to those versions of TK, and as I said elsewhere, making conflicts is not an option.

As for TK, it&#39;s fine as long as it tests only applicable and available metrics. You don&#39;t need to remove it at all. However, note that it&#39;s basically your responsibility to choose applicable metrics for your users, and not to expose uncertain metrics for them.

That said, because of recent changes in TK that assumed core metrics should always be applicable locally, it&#39;s much harder to add more core metrics in MCK. So, it might possibly be reasonable to make MCK a bit more local files friendly &#40;as long as it doesn&#39;t hurt performance&#41;.

Anyway, you know, as there are much more to add &#40;and many of them are from you :&#41;, don&#39;t try to make them harder to add. And as I said repeatedly, don&#39;t assume too much. Don&#39;t assume core metrics should be applicable to local users, or expected metrics are always available, or everything is sorted, or whatever. The more you assume, the less we can improve.


On Sun Aug 04 10:32:15 2013, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat, Aug 03, 2013 at 04:46:53PM -0400, Kenichi Ishigaki via RT
&gt; wrote:
<div class="message-stanza open">&gt; &gt; No need to decide. CPANTS is a testing service for uploaded
&gt; &gt; &#40;finalized&#41; CPAN distributions, and the metrics are for the service
&gt; &gt; &#40;ie. finalized, well-formed distributions&#41;. Some of the metrics may
&gt; &gt; happen to work locally, but don&#39;t expect metrics authors/contributors
&gt; &gt; take local &#40;ab&#41;users into account and add some flags for them.
&gt; &gt; Period.
</div>&gt; 
&gt; Do you feel Test::Kwalitee is an abuser?  If so, it can simply be
&gt; removed
&gt; and save everyone a lot of trouble trying to make things work where
&gt; they
&gt; are not intended to be.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;04&nbsp;11:51:31&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #87023] Need more flags on metrics, to make it easier to skip them</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Aug 2013 08:51:16 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Kenichi Ishigaki via RT &lt;bug-Module-CPANTS-Analyse [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Thanks for the longer response.

On Sun, Aug 04, 2013 at 05:11:29AM -0400, Kenichi Ishigaki via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This request is something different. What this means is, metrics authors/contributors should test their metrics if they work locally before releases, and if they don&#39;t work, metrics authors/contributors should add some flags for local users. That&#39;s too much.
</div>
I don&#39;t think it needs to be burdensome, if a few simple flags are invented
in advance that distinguish metrics between &#34;you can run this locally&#34; and
&#34;no you can&#39;t&#34;.  My proposal was the first attempt to do that, but I&#39;m sure
something better and simpler can be thought of, from the perspective of
someone who understands the CPANTS service better.  Can we try to find
something that works?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In other words, this makes conflict to those versions of TK, and as I said elsewhere, making conflicts is not an option.
</div>
As the maintainer of TK, I have already said that it very much *is* an
option, and I even gave you the way to do it safely &#40;to indicate to users
of older versions of TK that they need to update, after installing a new
MCA&#41;.  You can&#39;t keep supporting all old versions of TK forever, or you&#39;ll
never be able to do anything new.

Earlier versions of TK hardcoded the list of metric names, and even
enforced that all these metrics even had to exist &#40;by planning that number
of tests in Test::Builder&#41;.  That was bad &#40;or more charitably,
short-sighted&#41;, and that&#39;s been removed now, and I DO NOT ASK NOR EXPECT
that those versions of TK shall continue working, on this nor any future
version of MCA. Please do not add code into the modules themselves to keep
these versions working.  It&#39;s much easier to put in some metadata into the
MCA dist to say &#34;you have a new MCA and old TK - that combination won&#39;t
work. You MUST upgrade.&#34;

I&#39;m trying to work *with you* on this to make everything better, not throw
up obstacles.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As for TK, it&#39;s fine as long as it tests only applicable and available metrics. You don&#39;t need to remove it at all. However, note that it&#39;s basically your responsibility to choose applicable metrics for your users, and not to expose uncertain metrics for them.
</div>
That&#39;s what I&#39;m trying to do.  But because the metrics change over time, I
thought that deciding on a few simple categories up front, and classifying
all metrics with these, would be an easy way to prevent &#40;most&#41; cases of
breakage.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That said, because of recent changes in TK that assumed core metrics should always be applicable locally, it&#39;s much harder to add more core metrics in MCK. So, it might possibly be reasonable to make MCK a bit more local files friendly &#40;as long as it doesn&#39;t hurt performance&#41;.
&gt; Anyway, you know, as there are much more to add &#40;and many of them are from you :&#41;, don&#39;t try to make them harder to add. And as I said repeatedly, don&#39;t assume too much. Don&#39;t assume core metrics should be applicable to local users, or expected metrics are always available, or everything is sorted, or whatever. The more you assume, the less we can improve.
</div>
I don&#39;t want TK to block what you want to do with MCA, but if there are
simple ways of keeping everything working, I&#39;d like to consider those options.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
