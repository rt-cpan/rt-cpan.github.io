<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #67512 for Net-FTPSSL: 555 Can&#39;t read command channel bug</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #67512 for Net-FTPSSL: 555 Can&#39;t read command channel bug</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-FTPSSL/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-FTPSSL/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-FTPSSL/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-FTPSSL/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-FTPSSL">Net-FTPSSL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">67512</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-FTPSSL/Active/">Net-FTPSSL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
vijaymason [...] mac.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Unimportant    </td>
  </tr>
  <tr id="CF-22628-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.17    </td>
  </tr>
  <tr id="CF-22629-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.17    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;16&nbsp;11:16:37&nbsp;2011</span>
    <span class="description">vijaymason [...] mac.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 555 Can&#39;t read command channel bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 16 Apr 2011 16:16:21 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-FTPSSL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Vijay Mason &lt;vijaymason [...] mac.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

i&#39;m having problems with NET::FTPSSL, see my code &#38; log below. I can access the ftp via cyberduck &#40;macosx&#41; fine but not with NET::FTPSSL.


My Code
=======

#!/usr/bin/perl -w
my $host = &#34;ftp.secureftp-test.com&#34;;
my $port = 990;
my $user = &#34;test&#34;;
my $pass = &#34;test&#34;;

use Net::FTPSSL;

my $ftps = Net::FTPSSL-&gt;new&#40;$host, 
                            Port =&gt; $port,
                                                        Timeout =&gt; 15,
                            Encryption =&gt; &#34;E&#34;,

                            Debug =&gt; 1&#41; 
  or die &#34;Can&#39;t open connect&#34;;

$ftps-&gt;login&#40;$user, $pass&#41; or die &#34;Can&#39;t login: &#34;, $ftps-&gt;last_message&#40;&#41;;
$ftps-&gt;quit&#40;&#41;;



Log
===

Net-FTPSSL Version: 0.17

Perl: 5.010001  [5.10.1],  OS: linux

Server &#40;port&#41;: ftp.secureftp-test.com &#40;990&#41;

&lt;&lt;+ 555 Can&#39;t read command channel socket: 
Can&#39;t open connect at ./st.pl line 9.


Kind Regards,

Vijay Mason
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;12:09:54&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Vijay,

Based on the Port you selected &#40;990&#41;, I&#39;d guess that your server is 
expecting an implicit connection instead of an explicit connection.

Try:  Encryption =&gt; IMP_CRYPT,

Curtis


On Sat Apr 16 11:16:37 2011, vijaymason@mac.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; i&#39;m having problems with NET::FTPSSL, see my code &#38; log below. I can
&gt; access the ftp via cyberduck &#40;macosx&#41; fine but not with NET::FTPSSL.
&gt; 
&gt; 
&gt; My Code
&gt; =======
&gt; 
&gt; #!/usr/bin/perl -w
&gt; my $host = &#34;ftp.secureftp-test.com&#34;;
&gt; my $port = 990;
&gt; my $user = &#34;test&#34;;
&gt; my $pass = &#34;test&#34;;
&gt; 
&gt; use Net::FTPSSL;
&gt; 
&gt; my $ftps = Net::FTPSSL-&gt;new&#40;$host,
&gt;                             Port =&gt; $port,
&gt;                                                       Timeout =&gt; 15,
&gt;                             Encryption =&gt; &#34;E&#34;,
&gt; 
&gt;                             Debug =&gt; 1&#41;
&gt;   or die &#34;Can&#39;t open connect&#34;;
&gt; 
&gt; $ftps-&gt;login&#40;$user, $pass&#41; or die &#34;Can&#39;t login: &#34;, $ftps-
<div class="message-stanza open">&gt; &gt;last_message&#40;&#41;;
</div>&gt; $ftps-&gt;quit&#40;&#41;;
&gt; 
&gt; 
&gt; 
&gt; Log
&gt; ===
&gt; 
&gt; Net-FTPSSL Version: 0.17
&gt; 
&gt; Perl: 5.010001  [5.10.1],  OS: linux
&gt; 
&gt; Server &#40;port&#41;: ftp.secureftp-test.com &#40;990&#41;
&gt; 
&gt; &lt;&lt;+ 555 Can&#39;t read command channel socket:
&gt; Can&#39;t open connect at ./st.pl line 9.
&gt; 
&gt; 
&gt; Kind Regards,
&gt; 
&gt; Vijay Mason
&gt; 
&gt; 
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;12:09:55&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;13:57:54&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Vijay,

Just for grins, I attempted to run the script below &#38; it turned out it 
looks like that server is currently exposed on the internet. It looks 
to be a FireZilla Server verion 0.9.27 beta.

I was able to log into that server only using an unencrypted command 
channel &#40;Encryption=&gt;CLR_CRYPT, Port=&gt;21&#41;, also known as regular FTP.  
But as far as I can tell, that server doesn&#39;t support Implicit or 
Explicit connections.

I attempt to do an &#34;AUTH TLS&#34; or &#34;AUTH SSL&#34; and I get a &#34;550 Access is 
denied.&#34; message with EXP_CRYPT.  And I get a
&#34;&lt;&lt;+ 555 Can&#39;t open tcp connection! &#40;ftp.secureftp-test.com:990&#41;&#34; for 
IMP_CRYPT.

I&#39;m not sure what your cyberduck &#40;macosx&#41; program is, but are you sure 
it&#39;s not falling back to using regular FTP when connecting to that 
server?  I tried using another package like CORE FTP and every time it 
tries to do a command to encrypt the command channel, that command 
errors out.  So I&#39;m assuming it&#39;s continuing with Regular FTP for it&#39;s 
communication.  It could be that cyberduck is doing the same thing.

But I couldn&#39;t get any FTP tool to work if I specified it to use port 
990.

The Net::FTPSSL code assumes you know the type of connection to use 
and the port #.  It doesn&#39;t try out all the other connection types 
like some of those fancy binary utilities do.

Curtis

On Mon Apr 18 12:09:54 2011, CLEACH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Vijay,
&gt; 
&gt; Based on the Port you selected &#40;990&#41;, I&#39;d guess that your server is 
&gt; expecting an implicit connection instead of an explicit connection.
&gt; 
&gt; Try:  Encryption =&gt; IMP_CRYPT,
&gt; 
&gt; Curtis
&gt; 
&gt; 
&gt; On Sat Apr 16 11:16:37 2011, vijaymason@mac.com wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; i&#39;m having problems with NET::FTPSSL, see my code &#38; log below. I 
</div></div>can
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; access the ftp via cyberduck &#40;macosx&#41; fine but not with 
</div></div>NET::FTPSSL.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 
&gt; &gt; 
&gt; &gt; My Code
&gt; &gt; =======
&gt; &gt; 
&gt; &gt; #!/usr/bin/perl -w
&gt; &gt; my $host = &#34;ftp.secureftp-test.com&#34;;
&gt; &gt; my $port = 990;
&gt; &gt; my $user = &#34;test&#34;;
&gt; &gt; my $pass = &#34;test&#34;;
&gt; &gt; 
&gt; &gt; use Net::FTPSSL;
&gt; &gt; 
&gt; &gt; my $ftps = Net::FTPSSL-&gt;new&#40;$host,
&gt; &gt;                             Port =&gt; $port,
&gt; &gt;                                                     Timeout =&gt; 15,
&gt; &gt;                             Encryption =&gt; &#34;E&#34;,
&gt; &gt; 
&gt; &gt;                             Debug =&gt; 1&#41;
&gt; &gt;   or die &#34;Can&#39;t open connect&#34;;
&gt; &gt; 
&gt; &gt; $ftps-&gt;login&#40;$user, $pass&#41; or die &#34;Can&#39;t login: &#34;, $ftps-
<div class="message-stanza open">&gt; &gt; &gt;last_message&#40;&#41;;
</div>&gt; &gt; $ftps-&gt;quit&#40;&#41;;
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Log
&gt; &gt; ===
&gt; &gt; 
&gt; &gt; Net-FTPSSL Version: 0.17
&gt; &gt; 
&gt; &gt; Perl: 5.010001  [5.10.1],  OS: linux
&gt; &gt; 
&gt; &gt; Server &#40;port&#41;: ftp.secureftp-test.com &#40;990&#41;
&gt; &gt; 
&gt; &gt; &lt;&lt;+ 555 Can&#39;t read command channel socket:
&gt; &gt; Can&#39;t open connect at ./st.pl line 9.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Kind Regards,
&gt; &gt; 
&gt; &gt; Vijay Mason
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;13:36:49&nbsp;2011</span>
    <span class="description">vijaymason [...] mac.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67512] 555 Can&#39;t read command channel bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Apr 2011 18:36:18 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-FTPSSL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Vijay Mason &lt;vijaymason [...] mac.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi 

Any plans to add &#34;fancy connection types check&#34; like other ftp clients do?

Kind Regards,

Vijay Mason




On 18 Apr 2011, at 18:57, Curtis Leach via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67512">https://rt.cpan.org/Ticket/Display.html?id=67512</a></span> &gt;
&gt; 
&gt; Hi Vijay,
&gt; 
&gt; Just for grins, I attempted to run the script below &#38; it turned out it 
&gt; looks like that server is currently exposed on the internet. It looks 
&gt; to be a FireZilla Server verion 0.9.27 beta.
&gt; 
&gt; I was able to log into that server only using an unencrypted command 
&gt; channel &#40;Encryption=&gt;CLR_CRYPT, Port=&gt;21&#41;, also known as regular FTP.  
&gt; But as far as I can tell, that server doesn&#39;t support Implicit or 
&gt; Explicit connections.
&gt; 
&gt; I attempt to do an &#34;AUTH TLS&#34; or &#34;AUTH SSL&#34; and I get a &#34;550 Access is 
&gt; denied.&#34; message with EXP_CRYPT.  And I get a
&gt; &#34;&lt;&lt;+ 555 Can&#39;t open tcp connection! &#40;ftp.secureftp-test.com:990&#41;&#34; for 
&gt; IMP_CRYPT.
&gt; 
&gt; I&#39;m not sure what your cyberduck &#40;macosx&#41; program is, but are you sure 
&gt; it&#39;s not falling back to using regular FTP when connecting to that 
&gt; server?  I tried using another package like CORE FTP and every time it 
&gt; tries to do a command to encrypt the command channel, that command 
&gt; errors out.  So I&#39;m assuming it&#39;s continuing with Regular FTP for it&#39;s 
&gt; communication.  It could be that cyberduck is doing the same thing.
&gt; 
&gt; But I couldn&#39;t get any FTP tool to work if I specified it to use port 
&gt; 990.
&gt; 
&gt; The Net::FTPSSL code assumes you know the type of connection to use 
&gt; and the port #.  It doesn&#39;t try out all the other connection types 
&gt; like some of those fancy binary utilities do.
&gt; 
&gt; Curtis
&gt; 
&gt; On Mon Apr 18 12:09:54 2011, CLEACH wrote:
<div class="message-stanza open">&gt;&gt; Hi Vijay,
&gt;&gt; 
&gt;&gt; Based on the Port you selected &#40;990&#41;, I&#39;d guess that your server is 
&gt;&gt; expecting an implicit connection instead of an explicit connection.
&gt;&gt; 
&gt;&gt; Try:  Encryption =&gt; IMP_CRYPT,
&gt;&gt; 
&gt;&gt; Curtis
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Sat Apr 16 11:16:37 2011, vijaymason@mac.com wrote:
<div class="message-stanza open">&gt;&gt;&gt; Hi,
&gt;&gt;&gt; 
&gt;&gt;&gt; i&#39;m having problems with NET::FTPSSL, see my code &#38; log below. I 
</div></div>&gt; can
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; access the ftp via cyberduck &#40;macosx&#41; fine but not with 
</div></div>&gt; NET::FTPSSL.
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; My Code
&gt;&gt;&gt; =======
&gt;&gt;&gt; 
&gt;&gt;&gt; #!/usr/bin/perl -w
&gt;&gt;&gt; my $host = &#34;ftp.secureftp-test.com&#34;;
&gt;&gt;&gt; my $port = 990;
&gt;&gt;&gt; my $user = &#34;test&#34;;
&gt;&gt;&gt; my $pass = &#34;test&#34;;
&gt;&gt;&gt; 
&gt;&gt;&gt; use Net::FTPSSL;
&gt;&gt;&gt; 
&gt;&gt;&gt; my $ftps = Net::FTPSSL-&gt;new&#40;$host,
&gt;&gt;&gt;                            Port =&gt; $port,
&gt;&gt;&gt;                                                     Timeout =&gt; 15,
&gt;&gt;&gt;                            Encryption =&gt; &#34;E&#34;,
&gt;&gt;&gt; 
&gt;&gt;&gt;                            Debug =&gt; 1&#41;
&gt;&gt;&gt;  or die &#34;Can&#39;t open connect&#34;;
&gt;&gt;&gt; 
&gt;&gt;&gt; $ftps-&gt;login&#40;$user, $pass&#41; or die &#34;Can&#39;t login: &#34;, $ftps-
<div class="message-stanza open">&gt;&gt;&gt;&gt; last_message&#40;&#41;;
</div>&gt;&gt;&gt; $ftps-&gt;quit&#40;&#41;;
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Log
&gt;&gt;&gt; ===
&gt;&gt;&gt; 
&gt;&gt;&gt; Net-FTPSSL Version: 0.17
&gt;&gt;&gt; 
&gt;&gt;&gt; Perl: 5.010001  [5.10.1],  OS: linux
&gt;&gt;&gt; 
&gt;&gt;&gt; Server &#40;port&#41;: ftp.secureftp-test.com &#40;990&#41;
&gt;&gt;&gt; 
&gt;&gt;&gt; &lt;&lt;+ 555 Can&#39;t read command channel socket:
&gt;&gt;&gt; Can&#39;t open connect at ./st.pl line 9.
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Kind Regards,
&gt;&gt;&gt; 
&gt;&gt;&gt; Vijay Mason
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
</div>&gt;&gt; 
&gt;&gt; 
</div>&gt; 
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;15:38:20&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Vijay,

I don&#39;t really have any plans to support logic that tries multiple 
ways to establish a connection until one succeeds.  I just don&#39;t have 
the time to always be tweeking how it should work.  Especially when 
it&#39;s not that difficult to implement such logic yourself if it&#39;s 
something you really need.  &#40;IE write a probe function which keeps 
calling new&#40;&#41; with different arguments until you find one that works 
and it returns the ftps handle it established.&#41;

I figure if Net::FTPSSL is told to use encrypted traffic, there is a 
reason it must be encrypted, and I shouldn&#39;t be taking the liberty of 
decryping the traffic if I can&#39;t establish the requested encrypted 
connection.  And if it was asked to use regular unencrypted FTP, I 
should do that instead.

I can understand why some of the binary tools do this, but Net::FTPSSL 
is a module people code with, and it should attempt to do what was 
asked of it.

With that said, if there is a problem in my code or a specific FTPS 
server doesn&#39;t play nice with the protocal, I&#39;m willing to modify my 
code to fix the bug or figure out how to make it work with a specific 
problem FTPS server as long as it doesn&#39;t break things for everyone 
else.

Also if there is something that Net::FTP does that Net::FTPSSL should 
also be doing, I&#39;m willing to look into that as well.  &#40;That module 
does way more than mine does in some areas &#38; a bit less in other 
areas.&#41;

I&#39;m also willing to add new features should it add value.  Like the 
list&#40;&#41; &#38; nlst&#40;&#41; supporting wild cards or the callback feature.

So let me know if I can close this ticket or if you are still having 
issues.  If you are turning this into an enhancement request, please 
lay out the details of what you need me to do.  Since if I understand 
it right, your initial problem was your server didn&#39;t support FTPS and 
I couldn&#39;t do anything about that problem.

Curtis

On Tue Apr 19 13:36:49 2011, vijaymason@mac.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi 
&gt; 
&gt; Any plans to add &#34;fancy connection types check&#34; like other ftp 
</div>clients do?
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Kind Regards,
&gt; 
&gt; Vijay Mason
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;02:55:00&nbsp;2011</span>
    <span class="description">vijaymason [...] me.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67512] 555 Can&#39;t read command channel bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 21 Apr 2011 07:54:24 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-FTPSSL [...] rt.cpan.org&#34; &lt;bug-Net-FTPSSL [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Vijay Mason &lt;vijaymason [...] me.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

You can close this ticket.

Kind regards,

Vijay

On 19 Apr 2011, at 20:38, Curtis Leach via RT &lt;bug-Net-FTPSSL@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67512">https://rt.cpan.org/Ticket/Display.html?id=67512</a></span> &gt;
&gt; 
&gt; Hi Vijay,
&gt; 
&gt; I don&#39;t really have any plans to support logic that tries multiple 
&gt; ways to establish a connection until one succeeds.  I just don&#39;t have 
&gt; the time to always be tweeking how it should work.  Especially when 
&gt; it&#39;s not that difficult to implement such logic yourself if it&#39;s 
&gt; something you really need.  &#40;IE write a probe function which keeps 
&gt; calling new&#40;&#41; with different arguments until you find one that works 
&gt; and it returns the ftps handle it established.&#41;
&gt; 
&gt; I figure if Net::FTPSSL is told to use encrypted traffic, there is a 
&gt; reason it must be encrypted, and I shouldn&#39;t be taking the liberty of 
&gt; decryping the traffic if I can&#39;t establish the requested encrypted 
&gt; connection.  And if it was asked to use regular unencrypted FTP, I 
&gt; should do that instead.
&gt; 
&gt; I can understand why some of the binary tools do this, but Net::FTPSSL 
&gt; is a module people code with, and it should attempt to do what was 
&gt; asked of it.
&gt; 
&gt; With that said, if there is a problem in my code or a specific FTPS 
&gt; server doesn&#39;t play nice with the protocal, I&#39;m willing to modify my 
&gt; code to fix the bug or figure out how to make it work with a specific 
&gt; problem FTPS server as long as it doesn&#39;t break things for everyone 
&gt; else.
&gt; 
&gt; Also if there is something that Net::FTP does that Net::FTPSSL should 
&gt; also be doing, I&#39;m willing to look into that as well.  &#40;That module 
&gt; does way more than mine does in some areas &#38; a bit less in other 
&gt; areas.&#41;
&gt; 
&gt; I&#39;m also willing to add new features should it add value.  Like the 
&gt; list&#40;&#41; &#38; nlst&#40;&#41; supporting wild cards or the callback feature.
&gt; 
&gt; So let me know if I can close this ticket or if you are still having 
&gt; issues.  If you are turning this into an enhancement request, please 
&gt; lay out the details of what you need me to do.  Since if I understand 
&gt; it right, your initial problem was your server didn&#39;t support FTPS and 
&gt; I couldn&#39;t do anything about that problem.
&gt; 
&gt; Curtis
&gt; 
&gt; On Tue Apr 19 13:36:49 2011, vijaymason@mac.com wrote:
<div class="message-stanza open">&gt;&gt; Hi 
&gt;&gt; 
&gt;&gt; Any plans to add &#34;fancy connection types check&#34; like other ftp 
</div>&gt; clients do?
<div class="message-stanza open">&gt;&gt; 
&gt;&gt; Kind Regards,
&gt;&gt; 
&gt;&gt; Vijay Mason
&gt;&gt; 
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;26&nbsp;13:00:35&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;26&nbsp;13:00:36&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Broken in 0.17 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;26&nbsp;13:00:36&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Fixed in 0.17 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;26&nbsp;13:00:36&nbsp;2011</span>
    <span class="description">CLEACH [...] cpan.org -  Severity Unimportant added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
