<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #64272 for Test-Weaken: 5.13 tied handle</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #64272 for Test-Weaken: 5.13 tied handle</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Test-Weaken/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Test-Weaken/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Test-Weaken/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Test-Weaken/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Weaken">Test-Weaken CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">64272</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Test-Weaken/Active/">Test-Weaken</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">KRYDE [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
user42 [...] zip.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45720-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45721-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;27&nbsp;17:31:35&nbsp;2010</span>
    <span class="description">user42 [...] zip.com.au -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 5.13 tied handle</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Dec 2010 09:31:28 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I got a cpantesters report

 <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/ad6c1138-0ef7-11e0-acf3-6b2cf3486b6f">http://www.cpantesters.org/cpan/report/ad6c1138-0ef7-11e0-acf3-6b2cf3486b6f</a></span>

complaining

Use of tied on a handle without * is deprecated at /home/src/perl/repoperls/installed-perls/perl/v5.13.8-6-gc8536af/lib/site_perl/5.13.8/Test/Weaken.pm line 139.
# Saw 1 warning&#40;s&#41;:
#
# Trace begun at t/MyTestHelpers.pm line 48
# MyTestHelpers::nowarnings_handler&#40;&#39;Use of tied on a handle without * is deprecated at /home/src/perl/repoperls/installed-perls/perl/v5.13.8-6-gc8536af/lib/site_perl/5.13.8/Test/Weaken.pm line 139.^J&#39;&#41; called at /home/src/perl/repoperls/installed-perls/perl/v5.13.8-6-gc8536af/lib/site_perl/5.13.8/Test/Weaken.pm line 139
# Test::Weaken::Internal::follow&#40;&#39;Test::Weaken=HASH&#40;0x14a0f38&#41;&#39;, &#39;REF&#40;0xfd6880&#41;&#39;&#41; called at /home/src/perl/repoperls/installed-perls/perl/v5.13.8-6-gc8536af/lib/site_perl/5.13.8/Test/Weaken.pm line 321
# Test::Weaken::test&#40;&#39;Test::Weaken=HASH&#40;0x14a0f38&#41;&#39;&#41; called at /home/src/perl/repoperls/installed-perls/perl/v5.13.8-6-gc8536af/lib/site_perl/5.13.8/Test/Weaken.pm line 387
# Test::Weaken::leaks&#40;&#39;HASH&#40;0x123f5e8&#41;&#39;&#41; called at t/Gtk2-PodDialog-weaken.t line 63


Dunno what it means, another incompatible change or forced code change
in perl I suppose.  I always thought perl6 was designed as a sink for
such nonsense :-&#40;.

It&#39;ll be coming from something in Gtk2::Ex::PodViewer.  The only handle
that looks like it may still be open is an IO::Scalar, if that helps.
&#40;My code gives a filename, but the PodViewer parser looks like it reads
that into a string.&#41;

You could think about a test case trying IO::Scalar, if available, or
maybe copy some of that code into a test case &#40;some tricky tied ref to a
localized file handle or whatever&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;28&nbsp;21:24:28&nbsp;2010</span>
    <span class="description">jkegl [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;28&nbsp;21:33:15&nbsp;2010</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ll treat this as something to watch.  Warning messages are hard things to get right -- what&#39;s 
weird code in one context may turn out to be Best Practice in some other context you&#39;re not 
aware of, and warnings take a while to get right even in official versions.  If it makes it&#39;s way into 
an official version, then I&#39;ll silence the warning.

I don&#39;t see any use asking the perl-porters if this warning will survive into 5.14 -- they probably 
just don&#39;t know at this point.  After all, ironing out this sort of thing is what development 
versions are for.

I&#39;ll leave this in the queue, so that it will remind me to follow up.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;28&nbsp;21:33:15&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;01&nbsp;17:45:57&nbsp;2011</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #64272] 5.13 tied handle</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 02 Jan 2011 09:45:51 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; I don&#39;t see any use asking the perl-porters
</div>
I wondered if it was trying to demand everyone change their code to

    tie *$fh, ...

or something if tying a handle.  And if tied&#40;&#41; was going to be similar.
If so then it could be annoying for generic code like Test::Weaken which
wants the tied object underneath any ref.  May be worth checking the
intended syntax before it goes too far ...

But I&#39;ve never had to do either of those things, so perhaps it&#39;s
completely different.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;29&nbsp;21:12:26&nbsp;2011</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #64272] 5.13 tied handle</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 30 May 2011 11:11:59 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; If it makes it&#39;s way into an official version, then I&#39;ll silence the
&gt; warning.
</div>
It looks like 5.14 has this.  Looks like an incompatible change being
forced on users, but which might hurt generic code using tied&#40;&#41;.  Hard
to tell for sure.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;20:47:09&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 29 21:12:26 2011, user42@zip.com.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; If it makes it&#39;s way into an official version, then I&#39;ll silence the
&gt; &gt; warning.
</div>&gt; 
&gt; It looks like 5.14 has this.  Looks like an incompatible change being
&gt; forced on users, but which might hurt generic code using tied&#40;&#41;.  Hard
&gt; to tell for sure.
</div>
Dunno what&#39;s up here.  I do see the warning in some versions, but also
recently there have been a lot of false negatives.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;21:34:55&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jan 01 20:47:09 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun May 29 21:12:26 2011, user42@zip.com.au wrote:
<div class="message-stanza open">&gt; &gt; &#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; If it makes it&#39;s way into an official version, then I&#39;ll silence the
&gt; &gt; &gt; warning.
</div>&gt; &gt; 
&gt; &gt; It looks like 5.14 has this.  Looks like an incompatible change being
&gt; &gt; forced on users, but which might hurt generic code using tied&#40;&#41;.  Hard
&gt; &gt; to tell for sure.
</div>&gt; 
&gt; Dunno what&#39;s up here.  I do see the warning in some versions, but also
&gt; recently there have been a lot of false negatives.
</div>
I’ve just noticed this ticket.

What happens in 5.14 and earlier is that tied&#40;$var&#41; will do two different things, depending on 
whether $var looks like a typeglob.

If you have a tied scalar, say $tied, and you assign a typeglob to it:

    $tied = *foo;

Then STORE gets called as usual, with $_[1] set to a copy of *foo.

The problem now is that, due to the way tied scalars work &#40;the scalar itself is actually 
modified, then a special internal callback is triggered&#41;, $tied is now a typeglob, even if a 
subsequent FETCH would stop it from being one &#40;behind the scenes, $tied is set to the value 
return from FETCH, the that value is read from $tied&#41;. So, until that FETCH, tied&#40;$var&#41; will 
return undef.  If FETCH returns a non-glob, ‘$x=$tied, tied&#40;$tied&#41;’ will return the object 
implementing the tie.

It affected untie as well.  Trying to untie a scalar that has had a typeglob assigned to or 
returned from it will not untie that scalar.

So this was a bug that needed fixing.

The deprecation warning was added in 5.14 for the sake of code that might be relying on the 
old erratic behaviour.

In 5.15 it was changed such that tied&#40;$foo&#41; will treat $foo as a scalar, but tied&#40;*$foo&#41; will treat 
it as a handle.

So if you want to check for tied handles, you will have to do the latter, but in the case of 
Test::Weaken, it only makes sense after checking for a tied scalar first.

Now, to complicate matters, a scalar aliased to a typeglob &#40;as in for my $var&#40;*foo&#41; {...}&#41; is 
indistinguishable from a regular typeglob, so tied&#40;$var&#41; will treat it as a handle in that case.  
Assigning a typeglob to a scalar &#40;which creates a special typeglob internally flagged as being 
just a copy&#41; is what triggers the erratic behaviour.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;22:31:16&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok.  Attached is a proposed fix -- simply breaking out treatment of the
GLOB and adding the star &#40;*&#41;.  It passes the current test suite, which
does have a file handle test in it: t/filehandle.t

My version of Perl is 5.10, so I cannot test that this fix in fact
silences the warning.  I can&#39;t imagine that it would not, but I&#39;ve been
programming for over 40 years, and much that I never imagined has come
to pass in that time. :-&#41;

This fix is also in the dev branch at the github repository.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tied.fix</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;22:47:39&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jan 01 22:31:16 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ok.  Attached is a proposed fix -- simply breaking out treatment of the
&gt; GLOB and adding the star &#40;*&#41;.  It passes the current test suite, which
&gt; does have a file handle test in it: t/filehandle.t
&gt; 
&gt; My version of Perl is 5.10, so I cannot test that this fix in fact
&gt; silences the warning.  I can&#39;t imagine that it would not, but I&#39;ve been
&gt; programming for over 40 years, and much that I never imagined has come
&gt; to pass in that time. :-&#41;
&gt; 
&gt; This fix is also in the dev branch at the github repository.
</div>
Concerning this part:

             if &#40;   $object_type eq &#39;SCALAR&#39;
-                or $object_type eq &#39;GLOB&#39;
                 or $object_type eq &#39;VSTRING&#39;
                 or $object_type eq &#39;LVALUE&#39; &#41;

I would suggest leaving GLOB there, in case it is a tied scalar that just happened to have a 
glob assigned to it last.  The abstraction of tied scalars actually leaks out, but I’m not sure 
whether it’s supposed to be a feature or a bug:

sub TIESCALAR{bless[]}
sub STORE{}
tie $x, &#34;&#34;;
$x = *foo;
print ref \$x, &#34;\n&#34;;

That snippet prints ‘GLOB’.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;22:55:46&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">If you look at the larger context, you&#39;ll see the cases are mutually
exclusive, with the first to apply ending the FIND_CHILDREN block via a
last statement.  I added a case dedicated to &#39;GLOB&#39;.  Leaving the test
for $object_type eq &#39;GLOB&#39; in a case tested for later, such the one
quoted below, would be useless and highly misleading.

On Sun Jan 01 22:47:39 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Concerning this part:
&gt; 
&gt;              if &#40;   $object_type eq &#39;SCALAR&#39;
&gt; -                or $object_type eq &#39;GLOB&#39;
&gt;                  or $object_type eq &#39;VSTRING&#39;
&gt;                  or $object_type eq &#39;LVALUE&#39; &#41;
&gt; 
&gt; I would suggest leaving GLOB there, in case it is a tied scalar that
&gt; just happened to have a
&gt; glob assigned to it last.  The abstraction of tied scalars actually
&gt; leaks out, but I’m not sure
&gt; whether it’s supposed to be a feature or a bug:
&gt; 
&gt; sub TIESCALAR{bless[]}
&gt; sub STORE{}
&gt; tie $x, &#34;&#34;;
&gt; $x = *foo;
&gt; print ref \$x, &#34;\n&#34;;
&gt; 
&gt; That snippet prints ‘GLOB’.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;01&nbsp;23:52:30&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jan 01 22:55:46 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you look at the larger context, you&#39;ll see the cases are mutually
&gt; exclusive, with the first to apply ending the FIND_CHILDREN block via a
&gt; last statement.  I added a case dedicated to &#39;GLOB&#39;.  Leaving the test
&gt; for $object_type eq &#39;GLOB&#39; in a case tested for later, such the one
&gt; quoted below, would be useless and highly misleading.
</div>
OK, then how about the attached patch?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> open_kUM4qX2X.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -rup Test-Weaken-3.006000-HkuAjM/lib/Test/Weaken.pm Test-Weaken-3.006000-HkuAjM-copy/lib/Test/Weaken.pm
--- Test-Weaken-3.006000-HkuAjM/lib/Test/Weaken.pm	2012-01-01 20:45:25.000000000 -0800
+++ Test-Weaken-3.006000-HkuAjM-copy/lib/Test/Weaken.pm	2012-01-01 20:51:07.000000000 -0800
@@ -135,6 +135,10 @@ sub follow {
                 if &#40; my $tied_var = tied *${$follow_probe} &#41; {
                     push @child_probes, \&#40;$tied_var&#41;;
                 }
+		# tied scalar that happens to hold a glob:
+                if &#40;$] &gt; 5.015 and my $tied_var2 = tied ${$follow_probe}&#41; {
+                    push @child_probes, \&#40;$tied_var2&#41;;
+                }
                 last FIND_CHILDREN;
             } ## end if &#40; $object_type eq &#39;GLOB&#39; &#41;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;02&nbsp;01:05:39&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">@Father Chrysostomos:

In the patch, should the test be if $] &gt;= 5.015?  That is
greater-than-or-equal instead of greater-than?

My idea is that you&#39;re telling me something like the following:

1.&#41; A GLOB &#40;call it a &#34;pure-GLOB&#34;&#41; and a scalar assigned a GLOB &#40;call it
a &#34;scalar-GLOB&#34;&#41; are distinct internally, but both test as GLOB&#39;s.

2.&#41; Before 5.15, I&#39;ve no choice but to work only with the GLOB for both
pure- and scalar-GLOBs.

3.&#41; 5.15 and after, the warning is gone and I can and should look at
both the GLOB and the scalar.

4.&#41; Your patch avoids the warning because &#34;tied *$x&#34; avoids it for both
pure- and scalar-GLOBs in both versions.  &#34;tied $x&#34; does not avoid the
warning before 5.15, so you test for the perl version.

5.&#41; Your patch deals with pure-GLOBs because &#34;if &#40;$] &gt; 5.015 and my
$tied_var2 = tied ${$follow_probe}&#41;&#34; will be false if &#34;tied
${$follow_probe}&#34; is undef, which it will be in the case of a pure-GLOB.
 &#40;Or will it?&#41;

6.&#41; But can&#39;t tied ${$follow_probe} be a Perl false in the case of some
scalar GLOB&#39;s?  Do all GLOB&#39;s test Perl true?

I wonder if the best way to deal with the scalar side of a scalar GLOB
is to note in my documentation that it is discarded?  I&#39;d much rather
take a change on a poorly featured release than a buggy one.

I am concerned about these things:

As I am currently set up, I cannot really test that code targeted at
5.15 and later works.  And it looks like this stuff is tricky enough
that I really would want to test, and not just via cpantesters.  Also,
at present, my test suite coverage for GLOB&#39;s is very meager -- although
I suspect that it adequately reflects the level of user interest.

Another thing is, is any of this in the main Perl docs?  I don&#39;t want to
aggressively track undocumented behaviors which I can avoid it. 

And I really wonder if in this case the payoff for being aggressive
about catching this corner case is there.  By default, GLOB&#39;s are not
tracked by Test::Weaken at all.  Their lifetime is rarely expected to be
the same as that of the object which contains them, so most users prefer
to ignore them entirely.

With a note in the Test::Weaken docs, users will be alerted, and I&#39;ll be
able to revisit this issue once things settle.  Maybe by then I&#39;ll have
new hardware and can perlbrew 5.15.

@Father Chrysostomos: Thanks for your guidance in this matter, which
have clarified this matter a great deal.

On Sun Jan 01 23:52:30 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Jan 01 22:55:46 2012, JKEGL wrote:
<div class="message-stanza open">&gt; &gt; If you look at the larger context, you&#39;ll see the cases are mutually
&gt; &gt; exclusive, with the first to apply ending the FIND_CHILDREN block via a
&gt; &gt; last statement.  I added a case dedicated to &#39;GLOB&#39;.  Leaving the test
&gt; &gt; for $object_type eq &#39;GLOB&#39; in a case tested for later, such the one
&gt; &gt; quoted below, would be useless and highly misleading.
</div>&gt; 
&gt; OK, then how about the attached patch?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;02&nbsp;11:35:22&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 02 01:05:39 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; @Father Chrysostomos:
&gt; 
&gt; In the patch, should the test be if $] &gt;= 5.015?  That is
&gt; greater-than-or-equal instead of greater-than?
</div>
Yes, you’re right.  I wrote it sloppily based on the assumption that no one would be using a 
development version.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; My idea is that you&#39;re telling me something like the following:
&gt; 
&gt; 1.&#41; A GLOB &#40;call it a &#34;pure-GLOB&#34;&#41; and a scalar assigned a GLOB &#40;call it
&gt; a &#34;scalar-GLOB&#34;&#41; are distinct internally, but both test as GLOB&#39;s.
</div>
Yes.  The main difference is that assigning over the former will do a special glob assignment 
&#40;e.g, *foo = \&#38;bar assigns to a single slot&#41;, whereas assigning over the latter will clobber the 
glob entirely, as in $foo = *foo; $foo = \&#38;bar;.

This distinction is something left over from Perl 4 that is impossible to remove.  &#40;Personally I 
think it was a bad design to begin with.&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2.&#41; Before 5.15, I&#39;ve no choice but to work only with the GLOB for both
&gt; pure- and scalar-GLOBs.
</div>
Unless you use B.pm, but such solutions are usually fragile.

Another thing you could do is assume the tie is well-behaved and do local&#40;$var&#41;=undef; to 
see whether that causes tied&#40;$var&#41; to return anything.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 3.&#41; 5.15 and after, the warning is gone and I can and should look at
&gt; both the GLOB and the scalar.
</div>
Come to think of it, my patch is flawed.  If the glob is something returned by a tied method, 
you probably don’t want to visit it at all, do you?

To me it would make sense to do the scalar-tied check first and only do the handle-tied 
check after that.

Looking at your handling of REF, I see that you don’t skip the usual code when there is a tie.  
Is that code really correct?  A tied variable could return a strong copy of an internal weak 
reference, resulting in false positives.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 4.&#41; Your patch avoids the warning because &#34;tied *$x&#34; avoids it for both
&gt; pure- and scalar-GLOBs in both versions.  &#34;tied $x&#34; does not avoid the
&gt; warning before 5.15, so you test for the perl version.
</div>
That’s right.  Before 5.15, tied&#40;$x&#41; and tied&#40;*$x&#41; would do the same thing in the case of 
reftype&#40;\$x&#41; eq &#39;GLOB&#39;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 5.&#41; Your patch deals with pure-GLOBs because &#34;if &#40;$] &gt; 5.015 and my
&gt; $tied_var2 = tied ${$follow_probe}&#41;&#34; will be false if &#34;tied
&gt; ${$follow_probe}&#34; is undef, which it will be in the case of a pure-GLOB.
&gt;  &#40;Or will it?&#41;
</div>
Well, this is one of the things I don’t like about the typeglob model to begin with.  On a pure-
GLOB, tied &#40;$x&#41; and tied &#40;*$x&#41; return exactly the same thing.

This means that the same tied object will be pushed on to @child_probes twice, but you have 
a check for duplicates elsewhere.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 6.&#41; But can&#39;t tied ${$follow_probe} be a Perl false in the case of some
&gt; scalar GLOB&#39;s? 
</div>
Yes it can.  I don’t understand your concern.  If the scalar ${$follow_probe} is tied, it will 
return true; otherwise false.  If the handle *${$follow_probe} is tied, tied ${$follow_probe} will 
return false &#40;unless ${$follow_probe} is a tied scalar returning a tied handle&#41;, but tied 
*${$follow_probe} will return true.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Do all GLOB&#39;s test Perl true?
</div>
Do you mean !!tied $glob or !!$glob?  The former, not necessarily; the latter, yes.  I don’t 
think I understand &#40;the purpose of&#41; your question.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if the best way to deal with the scalar side of a scalar GLOB
&gt; is to note in my documentation that it is discarded?  I&#39;d much rather
&gt; take a change on a poorly featured release than a buggy one.
</div>
That would be reasonable.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am concerned about these things:
&gt; 
&gt; As I am currently set up, I cannot really test that code targeted at
&gt; 5.15 and later works.  And it looks like this stuff is tricky enough
&gt; that I really would want to test, and not just via cpantesters.  Also,
&gt; at present, my test suite coverage for GLOB&#39;s is very meager -- although
&gt; I suspect that it adequately reflects the level of user interest.
&gt; 
&gt; Another thing is, is any of this in the main Perl docs?  I don&#39;t want to
&gt; aggressively track undocumented behaviors which I can avoid it. 
</div>
The edge cases are not all documented, but I could change that.  I stated above that it would 
be reasonable not to support scalar ties on globs, simply because this is one area of perl that 
is so buggy that you’ll find different behaviours in different versions.

In 5.12 and earlier, this sets $foo to \&#38;bar, believe it or not:

my $foo = *thing;
*$foo = \&#38;bar;  # clobbers the glob, despite the *

As of 5.14, *$foo actually returns a copy of the glob, with flagged internally as a pure-GLOB, 
so that assignments like that will work.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And I really wonder if in this case the payoff for being aggressive
&gt; about catching this corner case is there.  By default, GLOB&#39;s are not
&gt; tracked by Test::Weaken at all.
</div>
Well, this is what it comes down to in the end.  Globs and tied variables are buggy enough 
that the cases where these things matter are probably rare, if at all existent.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Their lifetime is rarely expected to be
&gt; the same as that of the object which contains them, so most users prefer
&gt; to ignore them entirely.
&gt; 
&gt; With a note in the Test::Weaken docs, users will be alerted, and I&#39;ll be
&gt; able to revisit this issue once things settle.  Maybe by then I&#39;ll have
&gt; new hardware and can perlbrew 5.15.
&gt; 
&gt; @Father Chrysostomos: Thanks for your guidance in this matter, which
&gt; have clarified this matter a great deal.
</div>
With this message, I fear I may have done the opposite. :-&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; On Sun Jan 01 23:52:30 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; On Sun Jan 01 22:55:46 2012, JKEGL wrote:
<div class="message-stanza open">&gt; &gt; &gt; If you look at the larger context, you&#39;ll see the cases are mutually
&gt; &gt; &gt; exclusive, with the first to apply ending the FIND_CHILDREN block via a
&gt; &gt; &gt; last statement.  I added a case dedicated to &#39;GLOB&#39;.  Leaving the test
&gt; &gt; &gt; for $object_type eq &#39;GLOB&#39; in a case tested for later, such the one
&gt; &gt; &gt; quoted below, would be useless and highly misleading.
</div>&gt; &gt; 
&gt; &gt; OK, then how about the attached patch?
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;02&nbsp;17:53:58&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 02 11:35:22 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looking at your handling of REF, I see that you don’t skip the usual
&gt; code when there is a tie.
&gt; Is that code really correct?  A tied variable could return a strong
&gt; copy of an internal weak
&gt; reference, resulting in false positives.
</div>
And to follow up to that, it’s also possible for a tie object to have overloading that makes it 
false as a boolean, so defined&#40;tied...&#41; would be safer.

Oh, and ties can hold weak references, too. :-&#41;

Have you seen my Tie::Util module?  I haven’t updated it since before 5.14.  At the time I 
wrote it I didn’t know about this glob/scalar dichotomy.  I could update it to provide functions 
that always check for specific kind of tie &#40;scalar or handle&#41;, and then you could use it in 
Test::Weaken.  It has no non-core dependencies.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;03&nbsp;20:35:52&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">My next step will be to document the fact that the handling of GLOB&#39;s
does not address all the intricacies, and add the code in my original
patch to at least follow the GLOB.  If at some later time users show
interest in having Test::Weaken address the intricacies of tied GLOB&#39;s,
then Tie::Util will be useful to study.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Have you seen my Tie::Util module?  I haven’t updated it since before
&gt; 5.14.  At the time I
&gt; wrote it I didn’t know about this glob/scalar dichotomy.  I could
&gt; update it to provide functions
&gt; that always check for specific kind of tie &#40;scalar or handle&#41;, and
&gt; then you could use it in
&gt; Test::Weaken.  It has no non-core dependencies.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;08&nbsp;12:13:23&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The fix is in 3.007_001.  I&#39;ll wait a few days for cpantesters and other
feedback before marking this ticket resolved.

On Tue Jan 03 20:35:52 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My next step will be to document the fact that the handling of GLOB&#39;s
&gt; does not address all the intricacies, and add the code in my original
&gt; patch to at least follow the GLOB.  If at some later time users show
&gt; interest in having Test::Weaken address the intricacies of tied GLOB&#39;s,
&gt; then Tie::Util will be useful to study.
&gt; 
<div class="message-stanza open">&gt; &gt; Have you seen my Tie::Util module?  I haven’t updated it since before
&gt; &gt; 5.14.  At the time I
&gt; &gt; wrote it I didn’t know about this glob/scalar dichotomy.  I could
&gt; &gt; update it to provide functions
&gt; &gt; that always check for specific kind of tie &#40;scalar or handle&#41;, and
&gt; &gt; then you could use it in
&gt; &gt; Test::Weaken.  It has no non-core dependencies.
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;08&nbsp;18:01:21&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am no longer a maintainer of Test::Weaken.  Glancing quickly at the preceding thread, I 
think this ticket is resolved.  I attempted to mark it as such, but &#40;despite the fact that I&#39;m the 
owner&#41; it denies me permission.  And I can&#39;t figure out how you &#34;dis-own&#34; a ticket.

On Sun Jan 08 12:13:23 2012, JKEGL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The fix is in 3.007_001.  I&#39;ll wait a few days for cpantesters and other
&gt; feedback before marking this ticket resolved.
&gt; 
&gt; On Tue Jan 03 20:35:52 2012, JKEGL wrote:
<div class="message-stanza open">&gt; &gt; My next step will be to document the fact that the handling of GLOB&#39;s
&gt; &gt; does not address all the intricacies, and add the code in my original
&gt; &gt; patch to at least follow the GLOB.  If at some later time users show
&gt; &gt; interest in having Test::Weaken address the intricacies of tied GLOB&#39;s,
&gt; &gt; then Tie::Util will be useful to study.
&gt; &gt; 
<div class="message-stanza open">&gt; &gt; &gt; Have you seen my Tie::Util module?  I haven’t updated it since before
&gt; &gt; &gt; 5.14.  At the time I
&gt; &gt; &gt; wrote it I didn’t know about this glob/scalar dichotomy.  I could
&gt; &gt; &gt; update it to provide functions
&gt; &gt; &gt; that always check for specific kind of tie &#40;scalar or handle&#41;, and
&gt; &gt; &gt; then you could use it in
&gt; &gt; &gt; Test::Weaken.  It has no non-core dependencies.
</div>&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;09&nbsp;15:53:32&nbsp;2012</span>
    <span class="description">KRYDE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I had meant to try to understand the subtleties which came up, to see if
I should do something more or less, but it might be beyond me.  Feel
free to close for now if desired.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;13&nbsp;15:24:52&nbsp;2012</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That&#39;s the problem.  When I try to close this ticket I get

&#34;Ticket 64272: Permission Denied&#34;

I also cannot figure out how to give away ownership of it.

On Fri Nov 09 15:53:32 2012, KRYDE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I had meant to try to understand the subtleties which came up, to see if
&gt; I should do something more or less, but it might be beyond me.  Feel
&gt; free to close for now if desired.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;20&nbsp;19:57:00&nbsp;2012</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #64272] 5.13 tied handle</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 21 Nov 2012 11:56:43 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &#34;Ticket 64272: Permission Denied&#34;
</div>
Ah dear.  I&#39;ll try to either fix it close it ... :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Steal even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;24&nbsp;14:22:34&nbsp;2012</span>
    <span class="description">KRYDE [...] cpan.org -  Stolen from JKEGL</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
