<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #103515 for yagg: Don&#39;t hardcode g++</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #103515 for yagg: Don&#39;t hardcode g++</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/yagg/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/yagg/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/yagg/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/yagg/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/yagg">yagg CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">103515</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/yagg/Active/">yagg</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37886-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.4005    </td>
  </tr>
  <tr id="CF-37887-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




yagg-1.4006.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1485071/791142/yagg-1.4006.tar.gz">
Tue Apr 14 21:45:20 2015 (226.7k) by david [...] coppit.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;01:38:30&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Don&#39;t hardcode g++</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">FreeBSD 10 does not ship g++ anymore, but instead clang++. yagg&#39;s test suite fails because &#34;g++&#34; is called in the process. Probably it&#39;s better to use &#34;c++&#34; instead, as this works on gcc and clang based systems.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;21:45:20&nbsp;2015</span>
    <span class="description">david [...] coppit.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103515] Don&#39;t hardcode g++</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 14 Apr 2015 21:44:59 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-yagg [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Coppit &lt;david [...] coppit.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Did you try entering &#34;c++&#34; when &#34;perl Makefile.PL&#34; prompts you for &#34;g++&#34;?
It would probably complain &#40;but continue&#41; because it&#39;s not GNU g++. It
checks for the GNU version explicitly.

It&#39;s been ages, but my vague recollection is that there were some GNU-only
aspects to the code. That said, I just tested with this:

$ c++ --version

Apple LLVM version 6.0 &#40;clang-600.0.57&#41; &#40;based on LLVM 3.5svn&#41;

Target: x86_64-apple-darwin14.1.0

Thread model: posix

and it worked fine. Note however that the makefile definitely uses GNU
extensions.

Care to try the attached? It includes the fix for the warning as well.




On Tue, Apr 14, 2015 at 1:38 AM, Slaven_Rezic via RT &lt;bug-yagg@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Apr 14 01:38:30 2015: Request 103515 was acted upon.
&gt; Transaction: Ticket created by SREZIC
&gt;        Queue: yagg
&gt;      Subject: Don&#39;t hardcode g++
&gt;    Broken in: 1.4005
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: SREZIC@cpan.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt;
&gt;
&gt; FreeBSD 10 does not ship g++ anymore, but instead clang++. yagg&#39;s test
&gt; suite fails because &#34;g++&#34; is called in the process. Probably it&#39;s better to
&gt; use &#34;c++&#34; instead, as this works on gcc and clang based systems.
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1485071/791142/yagg-1.4006.tar.gz">Download yagg-1.4006.tar.gz</a><br />
<span class="downloadcontenttype">application/x-gzip 226.7k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;21:45:21&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;15&nbsp;01:51:04&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">With this version &#34;c++&#34; is now prompted. However, run.t fails later:

t/run.t ....... 1/4
#   Failed test &#39;Encountered an error executing the test when one was not expected.
# See /tmp/8PuTHCqJAl/run_infinite_loop.stdout and
# /tmp/8PuTHCqJAl/run_none.stderr.
#
# &#39;
#   at t/run.t line 86.
t/run.t ....... 3/4
#   Failed test &#39;Encountered an error executing the test when one was not expected.
# See /tmp/8PuTHCqJAl/run_left_recursion.stdout and
# /tmp/8PuTHCqJAl/run_none.stderr.
#
# &#39;
#   at t/run.t line 86.
# Looks like you failed 2 tests of 4.
t/run.t ....... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/4 subtests
        &#40;less 2 skipped subtests: 0 okay&#41;

Looking at the stderr files it seems that g++ is still used:

gmake[1]: g++: Kommando nicht gefunden
gmake[1]: *** [build/generator/allocations/allocations_cache.o] Fehler 127
yagg: Compilation failed

Another thing: on FreeBSD &#40;and possibly also on other BSD systems&#41; GNU make is available in /usr/local/bin/gmake. It would be nice if this could also be automatically detected.

Regards,
    Slaven

On 2015-04-14 21:45:20, DCOPPIT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Did you try entering &#34;c++&#34; when &#34;perl Makefile.PL&#34; prompts you for
&gt; &#34;g++&#34;?
&gt; It would probably complain &#40;but continue&#41; because it&#39;s not GNU g++. It
&gt; checks for the GNU version explicitly.
&gt; 
&gt; It&#39;s been ages, but my vague recollection is that there were some GNU-
&gt; only
&gt; aspects to the code. That said, I just tested with this:
&gt; 
&gt; $ c++ --version
&gt; 
&gt; Apple LLVM version 6.0 &#40;clang-600.0.57&#41; &#40;based on LLVM 3.5svn&#41;
&gt; 
&gt; Target: x86_64-apple-darwin14.1.0
&gt; 
&gt; Thread model: posix
&gt; 
&gt; and it worked fine. Note however that the makefile definitely uses GNU
&gt; extensions.
&gt; 
&gt; Care to try the attached? It includes the fix for the warning as well.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; On Tue, Apr 14, 2015 at 1:38 AM, Slaven_Rezic via RT &lt;bug-
&gt; yagg@rt.cpan.org&gt;
&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Tue Apr 14 01:38:30 2015: Request 103515 was acted upon.
&gt; &gt; Transaction: Ticket created by SREZIC
&gt; &gt;        Queue: yagg
&gt; &gt;      Subject: Don&#39;t hardcode g++
&gt; &gt;    Broken in: 1.4005
&gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: SREZIC@cpan.org
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; FreeBSD 10 does not ship g++ anymore, but instead clang++. yagg&#39;s
&gt; &gt; test
&gt; &gt; suite fails because &#34;g++&#34; is called in the process. Probably it&#39;s
&gt; &gt; better to
&gt; &gt; use &#34;c++&#34; instead, as this works on gcc and clang based systems.
&gt; &gt;
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;18&nbsp;10:23:07&nbsp;2015</span>
    <span class="description">david [...] coppit.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103515] Don&#39;t hardcode g++</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 18 Apr 2015 10:22:50 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-yagg [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Coppit &lt;david [...] coppit.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I missed one &#34;g++&#34; -&gt; &#34;c++&#34; edit in the yagg script.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another thing: on FreeBSD &#40;and possibly also on other BSD systems&#41; GNU
</div>make is available in /usr/local/bin/gmake. It would be nice if this could
also be automatically detected.

Unfortunately my module for finding progs doesn&#39;t know how to search for
&#34;gmake&#34; and then fall back to &#34;make&#34;. I could change the default prog name,
but I&#39;m not sure if gmake is more common than GNU make overriding any other
make as /usr/local/bin/make...


On Wed, Apr 15, 2015 at 1:51 AM, Slaven_Rezic via RT &lt;bug-yagg@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: yagg
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt;
&gt; With this version &#34;c++&#34; is now prompted. However, run.t fails later:
&gt;
&gt; t/run.t ....... 1/4
&gt; #   Failed test &#39;Encountered an error executing the test when one was not
&gt; expected.
&gt; # See /tmp/8PuTHCqJAl/run_infinite_loop.stdout and
&gt; # /tmp/8PuTHCqJAl/run_none.stderr.
&gt; #
&gt; # &#39;
&gt; #   at t/run.t line 86.
&gt; t/run.t ....... 3/4
&gt; #   Failed test &#39;Encountered an error executing the test when one was not
&gt; expected.
&gt; # See /tmp/8PuTHCqJAl/run_left_recursion.stdout and
&gt; # /tmp/8PuTHCqJAl/run_none.stderr.
&gt; #
&gt; # &#39;
&gt; #   at t/run.t line 86.
&gt; # Looks like you failed 2 tests of 4.
&gt; t/run.t ....... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
&gt; Failed 2/4 subtests
&gt;         &#40;less 2 skipped subtests: 0 okay&#41;
&gt;
&gt; Looking at the stderr files it seems that g++ is still used:
&gt;
&gt; gmake[1]: g++: Kommando nicht gefunden
&gt; gmake[1]: *** [build/generator/allocations/allocations_cache.o] Fehler 127
&gt; yagg: Compilation failed
&gt;
&gt; Another thing: on FreeBSD &#40;and possibly also on other BSD systems&#41; GNU
&gt; make is available in /usr/local/bin/gmake. It would be nice if this could
&gt; also be automatically detected.
&gt;
&gt; Regards,
&gt;     Slaven
&gt;
&gt; On 2015-04-14 21:45:20, DCOPPIT wrote:
<div class="message-stanza open">&gt; &gt; Did you try entering &#34;c++&#34; when &#34;perl Makefile.PL&#34; prompts you for
&gt; &gt; &#34;g++&#34;?
&gt; &gt; It would probably complain &#40;but continue&#41; because it&#39;s not GNU g++. It
&gt; &gt; checks for the GNU version explicitly.
&gt; &gt;
&gt; &gt; It&#39;s been ages, but my vague recollection is that there were some GNU-
&gt; &gt; only
&gt; &gt; aspects to the code. That said, I just tested with this:
&gt; &gt;
&gt; &gt; $ c++ --version
&gt; &gt;
&gt; &gt; Apple LLVM version 6.0 &#40;clang-600.0.57&#41; &#40;based on LLVM 3.5svn&#41;
&gt; &gt;
&gt; &gt; Target: x86_64-apple-darwin14.1.0
&gt; &gt;
&gt; &gt; Thread model: posix
&gt; &gt;
&gt; &gt; and it worked fine. Note however that the makefile definitely uses GNU
&gt; &gt; extensions.
&gt; &gt;
&gt; &gt; Care to try the attached? It includes the fix for the warning as well.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Tue, Apr 14, 2015 at 1:38 AM, Slaven_Rezic via RT &lt;bug-
&gt; &gt; yagg@rt.cpan.org&gt;
&gt; &gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Tue Apr 14 01:38:30 2015: Request 103515 was acted upon.
&gt; &gt; &gt; Transaction: Ticket created by SREZIC
&gt; &gt; &gt;        Queue: yagg
&gt; &gt; &gt;      Subject: Don&#39;t hardcode g++
&gt; &gt; &gt;    Broken in: 1.4005
&gt; &gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt; &gt;        Owner: Nobody
&gt; &gt; &gt;   Requestors: SREZIC@cpan.org
&gt; &gt; &gt;       Status: new
&gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; FreeBSD 10 does not ship g++ anymore, but instead clang++. yagg&#39;s
&gt; &gt; &gt; test
&gt; &gt; &gt; suite fails because &#34;g++&#34; is called in the process. Probably it&#39;s
&gt; &gt; &gt; better to
&gt; &gt; &gt; use &#34;c++&#34; instead, as this works on gcc and clang based systems.
&gt; &gt; &gt;
&gt; &gt; &gt;
</div></div>&gt;
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;18&nbsp;18:01:15&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-04-18 10:23:07, DCOPPIT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I missed one &#34;g++&#34; -&gt; &#34;c++&#34; edit in the yagg script.
&gt; 
<div class="message-stanza open">&gt; &gt; Another thing: on FreeBSD &#40;and possibly also on other BSD systems&#41; GNU
</div>&gt; make is available in /usr/local/bin/gmake. It would be nice if this could
&gt; also be automatically detected.
&gt; 
&gt; Unfortunately my module for finding progs doesn&#39;t know how to search for
&gt; &#34;gmake&#34; and then fall back to &#34;make&#34;. I could change the default prog name,
&gt; but I&#39;m not sure if gmake is more common than GNU make overriding any other
&gt; make as /usr/local/bin/make...
</div>
My idea was to do something like this:

      &#39;make&#39;      =&gt; { default =&gt; &#40;$^O eq &#39;freebsd&#39; ? &#39;gmake&#39; : &#39;make&#39;&#41;, argname =&gt; &#39;MAKE&#39;,

On freebsd, &#34;make&#34; is always the BSD make which is not compatible with GNU make.

It&#39;s possible that netbsd and openbsd also need to be included into this condition, but I cannot verify it.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 
&gt; On Wed, Apr 15, 2015 at 1:51 AM, Slaven_Rezic via RT &lt;bug-yagg@rt.cpan.org&gt;
&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;        Queue: yagg
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt; &gt;
&gt; &gt; With this version &#34;c++&#34; is now prompted. However, run.t fails later:
&gt; &gt;
&gt; &gt; t/run.t ....... 1/4
&gt; &gt; #   Failed test &#39;Encountered an error executing the test when one was not
&gt; &gt; expected.
&gt; &gt; # See /tmp/8PuTHCqJAl/run_infinite_loop.stdout and
&gt; &gt; # /tmp/8PuTHCqJAl/run_none.stderr.
&gt; &gt; #
&gt; &gt; # &#39;
&gt; &gt; #   at t/run.t line 86.
&gt; &gt; t/run.t ....... 3/4
&gt; &gt; #   Failed test &#39;Encountered an error executing the test when one was not
&gt; &gt; expected.
&gt; &gt; # See /tmp/8PuTHCqJAl/run_left_recursion.stdout and
&gt; &gt; # /tmp/8PuTHCqJAl/run_none.stderr.
&gt; &gt; #
&gt; &gt; # &#39;
&gt; &gt; #   at t/run.t line 86.
&gt; &gt; # Looks like you failed 2 tests of 4.
&gt; &gt; t/run.t ....... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
&gt; &gt; Failed 2/4 subtests
&gt; &gt;         &#40;less 2 skipped subtests: 0 okay&#41;
&gt; &gt;
&gt; &gt; Looking at the stderr files it seems that g++ is still used:
&gt; &gt;
&gt; &gt; gmake[1]: g++: Kommando nicht gefunden
&gt; &gt; gmake[1]: *** [build/generator/allocations/allocations_cache.o] Fehler 127
&gt; &gt; yagg: Compilation failed
&gt; &gt;
&gt; &gt; Another thing: on FreeBSD &#40;and possibly also on other BSD systems&#41; GNU
&gt; &gt; make is available in /usr/local/bin/gmake. It would be nice if this could
&gt; &gt; also be automatically detected.
&gt; &gt;
&gt; &gt; Regards,
&gt; &gt;     Slaven
&gt; &gt;
&gt; &gt; On 2015-04-14 21:45:20, DCOPPIT wrote:
<div class="message-stanza open">&gt; &gt; &gt; Did you try entering &#34;c++&#34; when &#34;perl Makefile.PL&#34; prompts you for
&gt; &gt; &gt; &#34;g++&#34;?
&gt; &gt; &gt; It would probably complain &#40;but continue&#41; because it&#39;s not GNU g++. It
&gt; &gt; &gt; checks for the GNU version explicitly.
&gt; &gt; &gt;
&gt; &gt; &gt; It&#39;s been ages, but my vague recollection is that there were some GNU-
&gt; &gt; &gt; only
&gt; &gt; &gt; aspects to the code. That said, I just tested with this:
&gt; &gt; &gt;
&gt; &gt; &gt; $ c++ --version
&gt; &gt; &gt;
&gt; &gt; &gt; Apple LLVM version 6.0 &#40;clang-600.0.57&#41; &#40;based on LLVM 3.5svn&#41;
&gt; &gt; &gt;
&gt; &gt; &gt; Target: x86_64-apple-darwin14.1.0
&gt; &gt; &gt;
&gt; &gt; &gt; Thread model: posix
&gt; &gt; &gt;
&gt; &gt; &gt; and it worked fine. Note however that the makefile definitely uses GNU
&gt; &gt; &gt; extensions.
&gt; &gt; &gt;
&gt; &gt; &gt; Care to try the attached? It includes the fix for the warning as well.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On Tue, Apr 14, 2015 at 1:38 AM, Slaven_Rezic via RT &lt;bug-
&gt; &gt; &gt; yagg@rt.cpan.org&gt;
&gt; &gt; &gt; wrote:
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; Tue Apr 14 01:38:30 2015: Request 103515 was acted upon.
&gt; &gt; &gt; &gt; Transaction: Ticket created by SREZIC
&gt; &gt; &gt; &gt;        Queue: yagg
&gt; &gt; &gt; &gt;      Subject: Don&#39;t hardcode g++
&gt; &gt; &gt; &gt;    Broken in: 1.4005
&gt; &gt; &gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt; &gt; &gt;        Owner: Nobody
&gt; &gt; &gt; &gt;   Requestors: SREZIC@cpan.org
&gt; &gt; &gt; &gt;       Status: new
&gt; &gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103515">https://rt.cpan.org/Ticket/Display.html?id=103515</a></span> &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; FreeBSD 10 does not ship g++ anymore, but instead clang++. yagg&#39;s
&gt; &gt; &gt; &gt; test
&gt; &gt; &gt; &gt; suite fails because &#34;g++&#34; is called in the process. Probably it&#39;s
&gt; &gt; &gt; &gt; better to
&gt; &gt; &gt; &gt; use &#34;c++&#34; instead, as this works on gcc and clang based systems.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
</div></div>&gt; &gt;
&gt; &gt;
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;19&nbsp;23:32:00&nbsp;2015</span>
    <span class="description">david [...] coppit.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Apr 18 18:01:15 2015, SREZIC wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My idea was to do something like this:
&gt; 
&gt; &#39;make&#39;      =&gt; { default =&gt; &#40;$^O eq &#39;freebsd&#39; ? &#39;gmake&#39; : &#39;make&#39;&#41;,
&gt; argname =&gt; &#39;MAKE&#39;,
</div>
Ah, I see. That will be in version &gt; 1.4005.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;19&nbsp;23:32:01&nbsp;2015</span>
    <span class="description">david [...] coppit.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
