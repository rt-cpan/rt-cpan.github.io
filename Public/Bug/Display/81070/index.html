<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #81070 for Try-Tiny: Accidental semicolon &#40;;&#41; in the middle of try/catch/finally statement is silently ignored</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #81070 for Try-Tiny: Accidental semicolon &#40;;&#41; in the middle of try/catch/finally statement is silently ignored</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Try-Tiny/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Try-Tiny/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Try-Tiny/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Try-Tiny/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Try-Tiny">Try-Tiny CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">81070</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Try-Tiny/Active/">Try-Tiny</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
allter [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-229112-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-229113-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;09&nbsp;05:59:19&nbsp;2012</span>
    <span class="description">allter [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Accidental semicolon &#40;;&#41; in the middle of try/catch/finally
 statement is silently ignored</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve discovered the nice Try::Tiny as a means of fighting the loss of
time when debugging issues concerning scope and values of $@.

But as soon as I started using it I discovered that if you accidently
add a semicolon in the middle of different try/catch/finally clauses,
Perl silently ignores subsequent catch/finally. I.e. exception is not
caught and it is not processed. :-o

I suggest to add some warning &#40;probably, controlled via &#34;use warnings&#34;
and implemented using &#34;warnings::warnif&#40;..&#41;&#34;&#41; to help to diagnose this case.

In a patch that I attach with this issue, I&#39;ve implemented this using
DESTROY methods in Try::Tiny::Catch and Try::Tiny::Finally packages.
When you call &#34;catch&#40;..&#41;;&#34; or &#34;finally&#40;..&#41;;&#34; not as an argument to
&#34;try&#40;..&#41;&#34;, the object returned from them destroys before the next
statement and a warning is written. But when you chain them to &#34;try {}
..&#34;, then when &#34;sub try&#34; code processes arguments they are reblessed to
Try::Tiny::CatchProcessed and Try::Tiny::FinallyProcessed and the
DESTROY destructor is not called after the entire statement.

Feel free to discuss this issue &#40;do we need to use warnif &#40;and thus call
warnings::register&#40;&#41; on a module level&#41; to allow FATAL warnings? warning
message format? etc.&#41;. :&#41;

Andrey
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> try_tiny.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- a/Try/Tiny.pm
+++ b/Try/Tiny.pm
@@ -40,8 +40,10 @@ sub try &#40;&#38;;@&#41; {
 
 		if &#40; $ref eq &#39;Try::Tiny::Catch&#39; &#41; {
 			$catch = ${$code_ref};
+			bless $code_ref, &#39;Try::Tiny::CatchProcessed&#39;; # To not trigger a warning/error from no-standalone catch
 		} elsif &#40; $ref eq &#39;Try::Tiny::Finally&#39; &#41; {
 			push @finally, ${$code_ref};
+			bless $code_ref, &#39;Try::Tiny::FinallyProcessed&#39;; # To not trigger a warning/error from no-standalone finally
 		} else {
 			use Carp;
 			confess&#40;&#34;Unknown code ref type given &#39;${ref}&#39;. Check your usage &#38; try again&#34;&#41;;
@@ -120,6 +122,16 @@ sub catch &#40;&#38;;@&#41; {
 	&#41;;
 }
 
+{
+	package # hide from PAUSE
+		Try::Tiny::Catch;
+	sub DESTROY
+	{
+		my @caller = caller&#40;&#41;;
+		warn &#34;catch without try, check semicolons in try/catch/finally statement BEFORE the line at &#34;.$caller[1].&#34; line &#34;.$caller[2].&#34;\n&#34;;
+	}
+}
+
 sub finally &#40;&#38;;@&#41; {
 	my &#40; $block, @rest &#41; = @_;
 
@@ -130,6 +142,16 @@ sub finally &#40;&#38;;@&#41; {
 }
 
 {
+	package # hide from PAUSE
+		Try::Tiny::Finally;
+	sub DESTROY
+	{
+		my @caller = caller&#40;&#41;;
+		warn &#34;finally without try, check semicolons in try/catch/finally statement BEFORE the line at &#34;.$caller[1].&#34; line &#34;.$caller[2].&#34;\n&#34;;
+	}
+}
+
+{
   package # hide from PAUSE
     Try::Tiny::ScopeGuard;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;05:01:15&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Nov 09 05:59:19 2012, allter wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve discovered the nice Try::Tiny as a means of fighting the loss of
&gt; time when debugging issues concerning scope and values of $@.
&gt; 
&gt; But as soon as I started using it I discovered that if you accidently
&gt; add a semicolon in the middle of different try/catch/finally clauses,
&gt; Perl silently ignores subsequent catch/finally. I.e. exception is not
&gt; caught and it is not processed. :-o
&gt; 
&gt; I suggest to add some warning &#40;probably, controlled via &#34;use warnings&#34;
&gt; and implemented using &#34;warnings::warnif&#40;..&#41;&#34;&#41; to help to diagnose this case.
&gt; 
&gt; In a patch that I attach with this issue, I&#39;ve implemented this using
&gt; DESTROY methods in Try::Tiny::Catch and Try::Tiny::Finally packages.
&gt; When you call &#34;catch&#40;..&#41;;&#34; or &#34;finally&#40;..&#41;;&#34; not as an argument to
&gt; &#34;try&#40;..&#41;&#34;, the object returned from them destroys before the next
&gt; statement and a warning is written. But when you chain them to &#34;try {}
&gt; ..&#34;, then when &#34;sub try&#34; code processes arguments they are reblessed to
&gt; Try::Tiny::CatchProcessed and Try::Tiny::FinallyProcessed and the
&gt; DESTROY destructor is not called after the entire statement.
&gt; 
&gt; Feel free to discuss this issue &#40;do we need to use warnif &#40;and thus call
&gt; warnings::register&#40;&#41; on a module level&#41; to allow FATAL warnings? warning
&gt; message format? etc.&#41;. :&#41;
</div>
This approach seems overly complex. What do you think about this simple and straightforward solution: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/try-tiny/commit/9d0e0466">https://github.com/ribasushi/try-tiny/commit/9d0e0466</a></span>

Cheers

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Andrey
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;05:01:15&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;05:01:36&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;12:26:27&nbsp;2013</span>
    <span class="description">DOY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.13.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;12:26:28&nbsp;2013</span>
    <span class="description">DOY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;14:56:06&nbsp;2013</span>
    <span class="description">allter [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">1. Not barking if wantarray is defined means no barking on catch {}/ finally{} at the end of sub {} body. This is frequently the case at the stage when try/catch block is introduced in the project.

2. Dying when user most probably wanted a perl to not to die is not DWIM. I think this should be a warning by default, probably controllable via use warnings qw&#40;FATAL&#41;. &#40;Ideally this check should be at compile-time, but this needs changes to Perl at this moment&#41;

Чтв Июл 04 05:01:15 2013, RIBASUSHI писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Nov 09 05:59:19 2012, allter wrote:
<div class="message-stanza open">&gt; &gt; I&#39;ve discovered the nice Try::Tiny as a means of fighting the loss
</div>&gt; of
<div class="message-stanza open">&gt; &gt; time when debugging issues concerning scope and values of $@.
&gt; &gt;
&gt; &gt; But as soon as I started using it I discovered that if you
</div>&gt; accidently
<div class="message-stanza open">&gt; &gt; add a semicolon in the middle of different try/catch/finally
</div>&gt; clauses,
<div class="message-stanza open">&gt; &gt; Perl silently ignores subsequent catch/finally. I.e. exception is
</div>&gt; not
<div class="message-stanza open">&gt; &gt; caught and it is not processed. :-o
&gt; &gt;
&gt; &gt; I suggest to add some warning &#40;probably, controlled via &#34;use
</div>&gt; warnings&#34;
<div class="message-stanza open">&gt; &gt; and implemented using &#34;warnings::warnif&#40;..&#41;&#34;&#41; to help to diagnose
</div>&gt; this case.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; In a patch that I attach with this issue, I&#39;ve implemented this
</div>&gt; using
<div class="message-stanza open">&gt; &gt; DESTROY methods in Try::Tiny::Catch and Try::Tiny::Finally packages.
&gt; &gt; When you call &#34;catch&#40;..&#41;;&#34; or &#34;finally&#40;..&#41;;&#34; not as an argument to
&gt; &gt; &#34;try&#40;..&#41;&#34;, the object returned from them destroys before the next
&gt; &gt; statement and a warning is written. But when you chain them to &#34;try
</div>&gt; {}
<div class="message-stanza open">&gt; &gt; ..&#34;, then when &#34;sub try&#34; code processes arguments they are reblessed
</div>&gt; to
<div class="message-stanza open">&gt; &gt; Try::Tiny::CatchProcessed and Try::Tiny::FinallyProcessed and the
&gt; &gt; DESTROY destructor is not called after the entire statement.
&gt; &gt;
&gt; &gt; Feel free to discuss this issue &#40;do we need to use warnif &#40;and thus
</div>&gt; call
<div class="message-stanza open">&gt; &gt; warnings::register&#40;&#41; on a module level&#41; to allow FATAL warnings?
</div>&gt; warning
<div class="message-stanza open">&gt; &gt; message format? etc.&#41;. :&#41;
</div>&gt; 
&gt; This approach seems overly complex. What do you think about this
&gt; simple and straightforward solution: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/try-">https://github.com/ribasushi/try-</a></span>
&gt; tiny/commit/9d0e0466
&gt; 
&gt; Cheers
&gt; 
<div class="message-stanza open">&gt; &gt; Andrey
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;15:05:43&nbsp;2013</span>
    <span class="description">allter [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for bringing initiative back to the module!

But could such changes be delayed for a week &#40;feature-freeze&#41; so that patches could be discussed before the CPAN release?

Many modules update their dependencies from CPAN and it is not fun to see your script dies &#40;see a critic above&#41; when it runs unattended just because your sysadmin updated a secondary perl module which also uses backwards-incompatible modules. That&#39;s the reason I keep versions of my used modules with my projects, not using system-wide setup.

This actually slows the development of utility modules because tech leads like me stop on specific versions that they are ok with. And then they don&#39;t contribute. :&#40;

Чтв Июл 04 12:26:27 2013, DOY писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fixed in 0.13.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;01:59:27&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 04 14:56:06 2013, allter wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2. Dying when user most probably wanted a perl to not to die is not
&gt;    DWIM. I think this should be a warning by default, probably
&gt;    controllable via use warnings qw&#40;FATAL&#41;. &#40;Ideally this check should
&gt;    be at compile-time, but this needs changes to Perl at this moment&#41;
</div>
My 2c on this issue:

I do not think dying is negotiable here. The whole point is that your code stops working the way you intended because of a syntax error &#40;stray q{;}&#41;. If there was an easy way to make it a compile-time error - we absolutely would.

However by making it not die, but merely warn, and allowing for silencing of the warning &#40;via the utterly broken warnings::register&#41; - well... might as well not change anything then ;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;09:24:34&nbsp;2013</span>
    <span class="description">doy [...] tozt.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #81070] Accidental semicolon &#40;;&#41; in the middle of try/catch/finally statement is silently ignored</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Jul 2013 09:24:08 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter Rabbitson via RT &lt;bug-Try-Tiny [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jesse Luehrs &lt;doy [...] tozt.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Jul 05, 2013 at 01:59:27AM -0400, Peter Rabbitson via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Try-Tiny
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81070">https://rt.cpan.org/Ticket/Display.html?id=81070</a></span> &gt;
&gt; 
&gt; On Thu Jul 04 14:56:06 2013, allter wrote:
<div class="message-stanza open">&gt; &gt; 2. Dying when user most probably wanted a perl to not to die is not
&gt; &gt;    DWIM. I think this should be a warning by default, probably
&gt; &gt;    controllable via use warnings qw&#40;FATAL&#41;. &#40;Ideally this check should
&gt; &gt;    be at compile-time, but this needs changes to Perl at this moment&#41;
</div>&gt; 
&gt; My 2c on this issue:
&gt; 
&gt; I do not think dying is negotiable here. The whole point is that your
&gt; code stops working the way you intended because of a syntax error
&gt; &#40;stray q{;}&#41;. If there was an easy way to make it a compile-time error
&gt; - we absolutely would.
&gt; 
&gt; However by making it not die, but merely warn, and allowing for
&gt; silencing of the warning &#40;via the utterly broken warnings::register&#41; -
&gt; well... might as well not change anything then ;&#41;
</div>
I agree. If something is always going to be incorrect, it should die,
not warn. There is never a case where calling `catch` or `finally` in
void context is anything other than a bug, so making this warn is not
particularly useful.

As for the issue with try blocks at the end of a function, they will
inherit the function&#39;s context, and if that function is called in
non-void context, you&#39;ll probably notice when the value you get doesn&#39;t
make any sense. If the function is called in void context, the catch
block will also be called in void context, so the error will still work.
The only case where that isn&#39;t true is for predicate functions, where
you just do something like &#34;if &#40;my_function&#40;&#41;&#41; { ... }&#34;, but we can
solve this by making it an error to call `catch` or `finally` in scalar
context too &#40;since when they are used correctly with `try`, they will
always be called in list context&#41;. Does that sound reasonable?

-doy
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;09:44:55&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #81070] Accidental semicolon &#40;;&#41; in the middle of try/catch/finally statement is silently ignored</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Jul 2013 23:44:31 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Jesse Luehrs via RT &lt;bug-Try-Tiny [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Jul 05, 2013 at 09:24:35AM -0400, Jesse Luehrs via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; solve this by making it an error to call `catch` or `finally` in scalar
&gt; context too &#40;since when they are used correctly with `try`, they will
&gt; always be called in list context&#41;. Does that sound reasonable?
</div>
I am not sure why I didn&#39;t do so originally... +1
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;11:15:47&nbsp;2013</span>
    <span class="description">allter [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perl is not a &#34;exception or correct&#34; math problems solving tool. It&#39;s a practical scripting language. That&#39;s why perl doesn&#39;t die with a big noise immediately when open, print, or close fails. If you force a user to always catch any possible exception, perl programs will transform to java programs &#40;with the difference in that Java finds more problems at design stage&#41;.

Recently I&#39;ve read a story in our local IT slashdot-clone about a 3D printing enthusiast who found his DIY printer with extruder and heating bed working in dangerous proximity to wooden table surface when he woke up in morning. They just melted down because a Windows machine rebooted because of buggy driver and the printed controller did not turn off the heating.

Many perl scripts control misc. aspects of human life &#40;&#34;duct tape for the Internet&#34;&#41;. Some code wrapped in &#34;try&#34; will not get executed for weeks &#40;for example, if it is in other exception handling code&#41;. I think that it is safer for humans if perl scripts will forgive any single mistake of a programmer. 3D printer extruders should not cause fire and real human deaths just because a module designer thinks that syntactically-correct code should cause a process termination in this case.

For those who want &#34;fail early&#34; approach there are many options like autodie or fatal warnings. You should not terminate user processes if they just want to not hassle with $@ scope issues. These processes will most likely fail later or spam with garbled data, but at least user wont find his script killed at the place he did not ask for it.



Птн Июл 05 01:59:27 2013, RIBASUSHI писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jul 04 14:56:06 2013, allter wrote:
<div class="message-stanza open">&gt; &gt; 2. Dying when user most probably wanted a perl to not to die is not
&gt; &gt;    DWIM. I think this should be a warning by default, probably
&gt; &gt;    controllable via use warnings qw&#40;FATAL&#41;. &#40;Ideally this check
</div>&gt;    should
<div class="message-stanza open">&gt; &gt;    be at compile-time, but this needs changes to Perl at this
</div>&gt;    moment&#41;
&gt; 
&gt; My 2c on this issue:
&gt; 
&gt; I do not think dying is negotiable here. The whole point is that your
&gt;    code stops working the way you intended because of a syntax error
&gt;    &#40;stray q{;}&#41;. If there was an easy way to make it a compile-time
&gt;    error - we absolutely would.
&gt; 
&gt; However by making it not die, but merely warn, and allowing for
&gt;    silencing of the warning &#40;via the utterly broken
&gt;    warnings::register&#41; - well... might as well not change anything
&gt;    then ;&#41;
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;11:31:29&nbsp;2013</span>
    <span class="description">doy [...] tozt.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #81070] Accidental semicolon &#40;;&#41; in the middle of try/catch/finally statement is silently ignored</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Jul 2013 11:31:11 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Andrey M. Smirnov via RT&#34; &lt;bug-Try-Tiny [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jesse Luehrs &lt;doy [...] tozt.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Jul 05, 2013 at 11:15:48AM -0400, Andrey M. Smirnov via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Try-Tiny
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81070">https://rt.cpan.org/Ticket/Display.html?id=81070</a></span> &gt;
&gt; 
&gt; Perl is not a &#34;exception or correct&#34; math problems solving tool. It&#39;s
&gt; a practical scripting language. That&#39;s why perl doesn&#39;t die with a big
&gt; noise immediately when open, print, or close fails. If you force a
&gt; user to always catch any possible exception, perl programs will
&gt; transform to java programs &#40;with the difference in that Java finds
&gt; more problems at design stage&#41;.
&gt; 
&gt; Recently I&#39;ve read a story in our local IT slashdot-clone about a 3D
&gt; printing enthusiast who found his DIY printer with extruder and
&gt; heating bed working in dangerous proximity to wooden table surface
&gt; when he woke up in morning. They just melted down because a Windows
&gt; machine rebooted because of buggy driver and the printed controller
&gt; did not turn off the heating.
&gt; 
&gt; Many perl scripts control misc. aspects of human life &#40;&#34;duct tape for
&gt; the Internet&#34;&#41;. Some code wrapped in &#34;try&#34; will not get executed for
&gt; weeks &#40;for example, if it is in other exception handling code&#41;. I
&gt; think that it is safer for humans if perl scripts will forgive any
&gt; single mistake of a programmer. 3D printer extruders should not cause
&gt; fire and real human deaths just because a module designer thinks that
&gt; syntactically-correct code should cause a process termination in this
&gt; case.
&gt; 
&gt; For those who want &#34;fail early&#34; approach there are many options like
&gt; autodie or fatal warnings. You should not terminate user processes if
&gt; they just want to not hassle with $@ scope issues. These processes
&gt; will most likely fail later or spam with garbled data, but at least
&gt; user wont find his script killed at the place he did not ask for it.
</div>
Sorry, but I&#39;m not convinced. Unexpected incorrect behavior is at least
as dangerous as unexpected termination, and in many cases, far more so.
I&#39;m not likely to change my mind about this.

-doy
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;12:26:04&nbsp;2013</span>
    <span class="description">allter [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Июл 05 11:31:29 2013, doy@tozt.net писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, Jul 05, 2013 at 11:15:48AM -0400, Andrey M. Smirnov via RT wrote:
<div class="message-stanza open">&gt; &gt;        Queue: Try-Tiny
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81070">https://rt.cpan.org/Ticket/Display.html?id=81070</a></span> &gt;
&gt; &gt; 
&gt; &gt; Perl is not a &#34;exception or correct&#34; math problems solving tool. It&#39;s
&gt; &gt; a practical scripting language. That&#39;s why perl doesn&#39;t die with a big
&gt; &gt; noise immediately when open, print, or close fails. If you force a
&gt; &gt; user to always catch any possible exception, perl programs will
&gt; &gt; transform to java programs &#40;with the difference in that Java finds
&gt; &gt; more problems at design stage&#41;.
&gt; &gt; 
&gt; &gt; Recently I&#39;ve read a story in our local IT slashdot-clone about a 3D
&gt; &gt; printing enthusiast who found his DIY printer with extruder and
&gt; &gt; heating bed working in dangerous proximity to wooden table surface
&gt; &gt; when he woke up in morning. They just melted down because a Windows
&gt; &gt; machine rebooted because of buggy driver and the printed controller
&gt; &gt; did not turn off the heating.
&gt; &gt; 
&gt; &gt; Many perl scripts control misc. aspects of human life &#40;&#34;duct tape for
&gt; &gt; the Internet&#34;&#41;. Some code wrapped in &#34;try&#34; will not get executed for
&gt; &gt; weeks &#40;for example, if it is in other exception handling code&#41;. I
&gt; &gt; think that it is safer for humans if perl scripts will forgive any
&gt; &gt; single mistake of a programmer. 3D printer extruders should not cause
&gt; &gt; fire and real human deaths just because a module designer thinks that
&gt; &gt; syntactically-correct code should cause a process termination in this
&gt; &gt; case.
&gt; &gt; 
&gt; &gt; For those who want &#34;fail early&#34; approach there are many options like
&gt; &gt; autodie or fatal warnings. You should not terminate user processes if
&gt; &gt; they just want to not hassle with $@ scope issues. These processes
&gt; &gt; will most likely fail later or spam with garbled data, but at least
&gt; &gt; user wont find his script killed at the place he did not ask for it.
</div>&gt; 
&gt; Sorry, but I&#39;m not convinced. Unexpected incorrect behavior is at least
&gt; as dangerous as unexpected termination, and in many cases, far more so.
&gt; I&#39;m not likely to change my mind about this.
</div>
It&#39;s OK &#40;at least doc mentions autodie in SEE ALSO so it&#39;s in line with &#34;fail early&#34; motto&#41;. But then you divert your module from a path of minimalism. When you implement several issues of such kind, then your nice module will became the TryCatch. :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;15:42:35&nbsp;2013</span>
    <span class="description">rt.cpan [...] sartak.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-7月-05 金 11:15:47, allter wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl is not a &#34;exception or correct&#34; math problems solving tool. It&#39;s
&gt;    a practical scripting language. That&#39;s why perl doesn&#39;t die with a
&gt;    big noise immediately when open, print, or close fails.
</div>
On the other hand, there are plenty of examples where Perl will die at runtime &#40;instead of warn or silently do nothing&#41; when it encounters a problematic situation, like:

    perl -e &#39;@{ \&#34;foo&#34; }&#39;
    # Runtime error: Not an ARRAY reference

    perl -e &#39;require &#34;Doesnt::Exist&#34;&#39;
    # Runtime error: Can&#39;t locate Doesnt::Exist in @INC

    perl -e &#39;1 / @arr&#39;
    # Runtime error: Illegal division by zero

The existence of exceptions certainly does not imply a slippery slope to Java. No one has the expectation that a cleanly-compiling Perl program will never terminate abruptly.

On 2013-7月-05 金 12:26:04, allter wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It&#39;s OK &#40;at least doc mentions autodie in SEE ALSO so it&#39;s in line
&gt;    with &#34;fail early&#34; motto&#41;. But then you divert your module from a
&gt;    path of minimalism. When you implement several issues of such kind,
&gt;    then your nice module will became the TryCatch. :&#41;
</div>
You&#39;re the one who created this ticket and sent in the initial patch! Why are you now spreading FUD about this error checking?

Try::Tiny has always favored correctness over whipuptitude; that&#39;s why it was created in the first place. Throwing exceptions because of programmer error is absolutely in line with Try::Tiny&#39;s original and present goals. Unexpected behavior is exactly what is wrong with eval, and that&#39;s exactly where we&#39;d return to if we demoted this exception to a warning.

Shawn
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;06&nbsp;21:23:17&nbsp;2013</span>
    <span class="description">allter [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> allter [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Июл 05 15:42:35 2013, SARTAK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On the other hand, there are plenty of examples where Perl will die at
&gt;    runtime &#40;instead of warn or silently do nothing&#41; when it encounters
</div>
When you write certain operator you always think that its operand might be out of the domain of acceptable values, or be of unacceptable type. Operator also may want certain global conditions prior to operate. It&#39;s obvious that operator that loads perl source file dynamically must check if it exists, is readable and is a correct perl program.

Imagine a perl without auto-vivification of data structures. Any non-trivial data access will be a boilerplate of code. BTW, I want the option to turn this auto-vivification off, at least for rvalues - but I understand that such an option will result in both a compile-time and a runtime performance penalty - that&#39;s why I want it as an option and not as a Perl &#34;bugfix&#34; or globally-acting magic hint module.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2013-7月-05 金 12:26:04, allter wrote:
&gt; You&#39;re the one who created this ticket and sent in the initial patch!
&gt;    Why are you now spreading FUD about this error checking?
</div>
1. I really think that issuing a warning is sufficient in this case.

If your catch/finally block does non-trivial things, your script will most likely fail later. And when the script fails, you just read all the STDERR vomit and trace back to where bad things just started to happen. That&#39;s what all warnings for &#40;like &#39;undefined value in eq/=&#39;&#41; - and that&#39;s why everyone suggests to &#39;use warnings&#39; in your script. Warnings are a way of tracing bad things without requiring extra verbosity in your code &#40;open/autovificiation&#41; or extra analysis at the compile-time &#40;that&#39;s our case&#41;.

2. Backwards-compatibility.

For the duration of 12 prior versions people were ok if they wrote a lone &#39;catch&#39;. Issuing a warning is just a backwards-compatible way to show they were wrong. I think that modules should be backwards-compatible unless the reason of incompatible change is a fix of obvious and indisputable bug. The current issue is not an obvious bug.

3. Trust to hot-hot-fixed code.

Where I work, we frequently employ hot-hot-fixes on a running system. I frequently think that it is the reason we chose Perl over Java or C++ or PHP as a main environment &#40;or, maybe, it won in the process of natural selection as we use all of them but in different areas&#41;. The hot fixed code may be executed right after its deployment, or hours later, or days, or years later. Testing doesn&#39;t help because you cannot simulate all of the combinations of a real world properties that surround the script. I don&#39;t want that this code that is introduced in a hurry will be a reason why the fixed business logic fails.

4. Ability to recommend to novice programmers.

I chose Try::Tiny because it added minumum of the complexity to do a single task: &#34;work around $@ localization issue&#34;. When programmers come to my project, all I can rely is that they know CORE perl. Any non-standard framework that is added to project must be predictable and traceable with only CORE knowledge. I think that if scripts will fail because of bad knowledge of using a non-standard framework by novices then I&#39;d better teach them about issues of $@ and will still continue to use &#34;eval {}; if &#40; $@ &#41; { #...&#34; idioma.

5. Most of &#39;catch&#39; code in my projects are just pretty printing of exception conditions. They don&#39;t matter much to business logic. When they do, the code is triple-checked so the missing semicolon is impossible. I also think that Java and C++ idioma of rethrowing some exceptions by first catching it is not employed in Perl programs frequently.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Try::Tiny has always favored correctness over whipuptitude; that&#39;s why
&gt;    it was created in the first place. Throwing exceptions because of
&gt;    programmer error is absolutely in line with Try::Tiny&#39;s original
&gt;    and present goals. Unexpected behavior is exactly what is wrong
&gt;    with eval, and that&#39;s exactly where we&#39;d return to if we demoted
&gt;    this exception to a warning.
</div>
I thought that Try::Tiny also wanted to achieve its goals simply, by using only standard Perl constructs and practices. Without adding too much non-intuitive syntax sugar and without using source filters.

A lone &#39;catch&#39; had a perfectly correct behavior according to a syntax of Perl and a minimum knowledge of how Try::Tiny works: do nothing. By making it to die when the programmer doesn&#39;t expect this, you started to drift to the line of Moose and other modern frameworks which heavily use syntax sugar in such a way that even if you know Perl you can&#39;t write a script without reading docs and examples while you write and then triple-checking the results &#40;because some non-intuitive actions are hidden in syntax sugar implementation and in frameworks and combined together they introduce lots of complexity and problems&#41;.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
