<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #105459 for ParseUtil-Domain: FW: ParseUtil-Domain-2.411 and &#39;com.se&#39;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #105459 for ParseUtil-Domain: FW: ParseUtil-Domain-2.411 and &#39;com.se&#39;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ParseUtil-Domain/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ParseUtil-Domain/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ParseUtil-Domain/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ParseUtil-Domain/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ParseUtil-Domain">ParseUtil-Domain CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">105459</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ParseUtil-Domain/Active/">ParseUtil-Domain</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Mayur_Kulkarni [...] symantec.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-235408-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-235409-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




image003.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1510979/805630/image003.png">
Wed Jun 24 04:28:01 2015 (5.9k) by Mayur_Kulkarni [...] symantec.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;24&nbsp;04:28:01&nbsp;2015</span>
    <span class="description">Mayur_Kulkarni [...] symantec.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> FW: ParseUtil-Domain-2.411 and &#39;com.se&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 24 Jun 2015 01:27:30 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-ParseUtil-Domain [...] rt.cpan.org&#34; &lt;bug-ParseUtil-Domain [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mayur Kulkarni &lt;Mayur_Kulkarni [...] symantec.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

We are trying to use version ParseUtil-Domain-2.411 to parse a domain with tld &#39;com.se&#39;. We are not able to extract the tld and the domain name using the suffix list provided with the latest version of the module. I think that we first need to use the latest suffix list and then make changes to the tld_regex to get the com.se to be extracted correctly.

Questions:

1.       We need the suffix lists to be updated in the ConfigData.pm. Is there a way to modify the tld regex as we see changes in the <span class="clickylink"><a target="new" rel="nofollow" href="https://publicsuffix.org/list/">https://publicsuffix.org/list/</a></span> on our side?

2.       If there is no good way from our side to make these changes, will you be able to update the config to get the recent new tlds added?

Please let me know if you have questions.

Thanks
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________
Mayur Kulkarni
Software Engineer, Star Technology &#38; Response
Symantec Corporation
www.symantec.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.symantec.com/">http://www.symantec.com/</a></span>&gt;

Office: +91 20 67154244
Mobile: +91 9371290112

mayur_kulkarni@symantec.com&lt;mailto:mayur_kulkarni@symantec.com&gt;


[cid:image003.png@01D0AE82.2F3490E0]
</div></div></div>

<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1510979/805630/image003.png">Download image003.png</a><br />
<span class="downloadcontenttype">image/png 5.9k</span>
</div>
<div class="messagebody">
<img alt="image003.png" title="image003.png" src="/Ticket/Attachment/1510979/805630/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;24&nbsp;17:37:04&nbsp;2015</span>
    <span class="description">HEYTRAV [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jun 24 04:28:01 2015, Mayur_Kulkarni@symantec.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; We are trying to use version ParseUtil-Domain-2.411 to parse a domain
&gt; with tld &#39;com.se&#39;. We are not able to extract the tld and the domain
&gt; name using the suffix list provided with the latest version of the
&gt; module. I think that we first need to use the latest suffix list and
&gt; then make changes to the tld_regex to get the com.se to be extracted
&gt; correctly.
&gt; 
&gt; Questions:
&gt; 
&gt; 1.       We need the suffix lists to be updated in the ConfigData.pm.
&gt; Is there a way to modify the tld regex as we see changes in the
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://publicsuffix.org/list/">https://publicsuffix.org/list/</a></span> on our side?
&gt; 
&gt; 2.       If there is no good way from our side to make these changes,
&gt; will you be able to update the config to get the recent new tlds
&gt; added?
&gt; 
&gt; Please let me know if you have questions.
&gt; 
&gt; Thanks
&gt; ________________________________
&gt; Mayur Kulkarni
&gt; Software Engineer, Star Technology &#38; Response
&gt; Symantec Corporation
&gt; www.symantec.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.symantec.com/">http://www.symantec.com/</a></span>&gt;
&gt; 
&gt; Office: +91 20 67154244
&gt; Mobile: +91 9371290112
&gt; 
&gt; mayur_kulkarni@symantec.com&lt;mailto:mayur_kulkarni@symantec.com&gt;
&gt; 
&gt; 
&gt; [cid:image003.png@01D0AE82.2F3490E0]
</div>

Hi Mayur

I&#39;ve updated the regex with the latest from the suffix list. I&#39;ve also added a script called &#34;suffix-regex.pl&#34; that uses the code I originally wrote to produce the actual regex by parsing the suffix list. It just parses the file and prints out the generated regex.

This should enable you to generate an updated regex whenever you want and replace the one in  ParseUtil::Domain::ConfigData::tld_regex. You can just create a local lib/ParseUtil/Domain/ConfigData.pm  in your PERL5PATH and add a subroutine 

    sub tld_regex {
        return qr{
             &lt;new regex here&gt;
         }x;
    }

Be aware though, that the current public suffix list is missing a lot of nTLDs. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;24&nbsp;17:37:04&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;26&nbsp;05:16:17&nbsp;2015</span>
    <span class="description">Mayur_Kulkarni [...] symantec.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #105459] FW: ParseUtil-Domain-2.411 and &#39;com.se&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 26 Jun 2015 02:15:17 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-ParseUtil-Domain [...] rt.cpan.org&#34; &lt;bug-ParseUtil-Domain [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mayur Kulkarni &lt;Mayur_Kulkarni [...] symantec.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi William,

Thank you for the change and the extra script. That helped a lot. 

This ticket can now be closed.

I also had another ticket opened for the same module and problem for that case was solved after an upgrade.
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=93559">https://rt.cpan.org/Public/Bug/Display.html?id=93559</a></span>

this ticket can also be closed.

Thanks
Mayur Kulkarni

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: William Travis Holton via RT [mailto:bug-ParseUtil-Domain@rt.cpan.org] 
Sent: Thursday, June 25, 2015 3:07 AM 3
To: Mayur Kulkarni
Subject: [rt.cpan.org #105459] FW: ParseUtil-Domain-2.411 and &#39;com.se&#39;

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=105459">https://rt.cpan.org/Ticket/Display.html?id=105459</a></span> &gt;

On Wed Jun 24 04:28:01 2015, Mayur_Kulkarni@symantec.com wrote:
<div class="message-stanza open">&gt; Hello,
&gt; 
&gt; We are trying to use version ParseUtil-Domain-2.411 to parse a domain 
&gt; with tld &#39;com.se&#39;. We are not able to extract the tld and the domain 
&gt; name using the suffix list provided with the latest version of the 
&gt; module. I think that we first need to use the latest suffix list and 
&gt; then make changes to the tld_regex to get the com.se to be extracted 
&gt; correctly.
&gt; 
&gt; Questions:
&gt; 
&gt; 1.       We need the suffix lists to be updated in the ConfigData.pm.
&gt; Is there a way to modify the tld regex as we see changes in the 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://publicsuffix.org/list/">https://publicsuffix.org/list/</a></span> on our side?
&gt; 
&gt; 2.       If there is no good way from our side to make these changes,
&gt; will you be able to update the config to get the recent new tlds 
&gt; added?
&gt; 
&gt; Please let me know if you have questions.
&gt; 
&gt; Thanks
&gt; ________________________________
&gt; Mayur Kulkarni
&gt; Software Engineer, Star Technology &#38; Response Symantec Corporation 
&gt; www.symantec.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.symantec.com/">http://www.symantec.com/</a></span>&gt;
&gt; 
&gt; Office: +91 20 67154244
&gt; Mobile: +91 9371290112
&gt; 
&gt; mayur_kulkarni@symantec.com&lt;mailto:mayur_kulkarni@symantec.com&gt;
&gt; 
&gt; 
&gt; [cid:image003.png@01D0AE82.2F3490E0]
</div>

Hi Mayur

I&#39;ve updated the regex with the latest from the suffix list. I&#39;ve also added a script called &#34;suffix-regex.pl&#34; that uses the code I originally wrote to produce the actual regex by parsing the suffix list. It just parses the file and prints out the generated regex.

This should enable you to generate an updated regex whenever you want and replace the one in  ParseUtil::Domain::ConfigData::tld_regex. You can just create a local lib/ParseUtil/Domain/ConfigData.pm  in your PERL5PATH and add a subroutine 

    sub tld_regex {
        return qr{
             &lt;new regex here&gt;
         }x;
    }

Be aware though, that the current public suffix list is missing a lot of nTLDs. 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;26&nbsp;06:36:08&nbsp;2015</span>
    <span class="description">HEYTRAV [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
