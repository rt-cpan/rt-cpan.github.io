<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79499 for RT-BugTracker: Addition of external bug tracker support to rt.cpan.org</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79499 for RT-BugTracker: Addition of external bug tracker support to rt.cpan.org</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/RT-BugTracker/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/RT-BugTracker/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/RT-BugTracker/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/RT-BugTracker/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/RT-BugTracker">RT-BugTracker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79499</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/RT-BugTracker/Active/">RT-BugTracker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
IDN [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
rt-cpan [...] trout.me.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-221082-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-221083-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;07&nbsp;10:30:03&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> mst [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Addition of external bug tracker support to rt.cpan.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Guys,

This is a patch to add an &#34;DistributionBugtracker&#34; attribute to RT
queues as used on rt.cpan.org along with associated UI support.

Discussion with mst &#38; jibsheet: <span class="clickylink"><a target="new" rel="nofollow" href="http://agaton.scsys.co.uk/~matthewt/rt">http://agaton.scsys.co.uk/~matthewt/rt</a></span>

The patch provides a CSS yellow box at the top of queue pages and ticket
creation along with a management element for the maintainer to update
this information.

This is the first stage in pulling the bug tracking information from
MetaCPAN.

Please let me know if you have any queries or issues with the supplied
patch and I&#39;ll try my best to get changes made to be more in line with
your wishes.

Thanks, Ian.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt-bugtracker-external-bugtracker.patch</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;07&nbsp;16:48:44&nbsp;2012</span>
    <span class="description">trs [...] bestpractical.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79499] Addition of external bug tracker support to rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 07 Sep 2012 13:48:41 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-BugTracker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Thomas Sibley &lt;trs [...] bestpractical.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 09/07/2012 07:30 AM, Ian Norton via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is a patch to add an &#34;DistributionBugtracker&#34; attribute to RT
&gt; queues as used on rt.cpan.org along with associated UI support.
&gt;
&gt; Discussion with mst &#38; jibsheet: <span class="clickylink"><a target="new" rel="nofollow" href="http://agaton.scsys.co.uk/~matthewt/rt">http://agaton.scsys.co.uk/~matthewt/rt</a></span>
</div>
I&#39;m glad you&#39;re working on this. :&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The patch provides a CSS yellow box at the top of queue pages and ticket
&gt; creation along with a management element for the maintainer to update
&gt; this information.
</div>
I&#39;m not sure we want authors to modify this info directly on
rt.cpan.org.  Isn&#39;t the idea that META.yml &#40;by way of metacpan now&#41; is
the authoritative source, and if you want to change your published bug
tracker, you should change it there?  Allowing people to update the bug
tracker on rt.cpan.org itself is asking for stale, out of sync with
reality information.

If authors have additional info they want to add about their custom bug
tracker, it can always go in the distribution notes that are already
available.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is the first stage in pulling the bug tracking information from
&gt; MetaCPAN.
</div>
I wonder if it&#39;d be easier to just use JS and the MetaCPAN API to do the
display &#40;without the editing of course, as discussed above&#41;.

Untested, but something like...

&lt;script&gt;
function showAlternateBugTracker&#40;data&#41; {
    if &#40;!data || !data.resources || !data.resources.bugtracker&#41;
        return;

    var bugs = data.resources.bugtracker;
    var rtcpan = /rt\.cpan\.org/i;
    if &#40;bugs.web.match&#40;rtcpan&#41; || bugs.mailto.match&#40;rtcpan&#41;&#41;
        return;

    // Great, we have an alternate bugtracker, now inject
    // some HTML to display it.
}
&lt;/script&gt;
&lt;script
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://api.metacpan.org/release/Moose?callback=showAlternateBugTracker">https://api.metacpan.org/release/Moose?callback=showAlternateBugTracker</a></span>&#34;&gt;&lt;/script&gt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please let me know if you have any queries or issues with the supplied
&gt; patch and I&#39;ll try my best to get changes made to be more in line with
&gt; your wishes.
</div>
My first glance notes on the diff:

* It&#39;s a diff and not a git patch.  It looks like you generated it from
two git checkouts though.  If you could use git format-patch or even a
pull request, that&#39;d be awesome.  We like well written commit messages
too. :&#41;  &#40;This also means files like Makefile.OLD won&#39;t be included in
the patch.&#41;

* It&#39;s only against RT-BugTracker, which means it only touches the PAUSE
author side of rt.cpan.org, not the public view &#40;where many bugs are
viewed/reported&#41;.  RT-BugTracker-Public is the dist for that.

Thomas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;07&nbsp;16:48:45&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people DelWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;08&nbsp;19:46:51&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Cc mst@cpan.org deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;08&nbsp;19:47:02&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Cc MSTROUT@cpan.org added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people DelWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;08&nbsp;19:48:00&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Cc MSTROUT@cpan.org deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;08&nbsp;19:48:00&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Cc MSTROUT added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;05&nbsp;06:19:01&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Thomas,

Attempt number 2!

Commit message:

This patch adds support for displaying the information added by cpan2rt
in rt.cpan.org ticket #80020, it also fixes an inconsistency in display
of distribution notes on the ticket modification page.

Whilst we don&#39;t prevent creation of tickets in a queue with an external
bug tracker set, we strongly suggest that they might want to look at the
alternative tracking solution indicated.  Should this be unavailable,
this still enables creation of tickets within rt.cpan.org as a last resort.

Please let me know if you require any further information or changes. 

This work has been sponsored by Shadowcat Systems.

Thanks, Ian.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt-bugtracker-external.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/html/Callbacks/BugTracker/Elements/Header/Head b/html/Callbacks/BugTracker/Elements/Header/Head
new file mode 100644
index 0000000..8638838
--- /dev/null
+++ b/html/Callbacks/BugTracker/Elements/Header/Head
@@ -0,0 +1 @@
+&lt;link rel=&#34;stylesheet&#34; href=&#34;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/css/bugtracker.css&#34; type=&#34;text/css&#34; media=&#34;all&#34; /&gt;
diff --git a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
index e8073a5..f68d289 100644
--- a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
+++ b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
@@ -2,5 +2,7 @@
 $QueueObj
 &lt;/%ARGS&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
diff --git a/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
new file mode 100644
index 0000000..51854cc
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
@@ -0,0 +1,6 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Dist/Display.html b/html/Dist/Display.html
index 0e4c329..9107dc9 100755
--- a/html/Dist/Display.html
+++ b/html/Dist/Display.html
@@ -57,6 +57,8 @@
     Title =&gt; $title,
 &#38;&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
 &lt;&#38; /Dist/Elements/ShowMaintainers, Queue =&gt; $QueueObj &#38;&gt;
diff --git a/html/Dist/Elements/ShowBugtracker b/html/Dist/Elements/ShowBugtracker
new file mode 100644
index 0000000..61ad41b
--- /dev/null
+++ b/html/Dist/Elements/ShowBugtracker
@@ -0,0 +1,14 @@
+% if &#40; defined $bugtracker &#38;&#38; length $bugtracker &#41; {
+&lt;div id=&#34;external_bugtracker&#34;&gt;
+&lt;h3&gt;&lt;% loc&#40;&#34;Alternative bug tracker&#34;&#41; %&gt;&lt;/h3&gt;
+
+&lt;p&gt;&lt;% $bugtracker |n %&gt;&lt;/p&gt;
+&lt;/div&gt;
+% }
+
+&lt;%ARGS&gt;
+$Queue
+&lt;/%ARGS&gt;
+&lt;%INIT&gt;
+my $bugtracker = $Queue-&gt;DistributionBugtracker;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/autohandler b/html/NoAuth/BugTracker/autohandler
new file mode 100644
index 0000000..dabe704
--- /dev/null
+++ b/html/NoAuth/BugTracker/autohandler
@@ -0,0 +1,60 @@
+%# BEGIN BPS TAGGED BLOCK {{{
+%#
+%# COPYRIGHT:
+%#
+%# This software is Copyright &#40;c&#41; 1996-2011 Best Practical Solutions, LLC
+%#                                          &lt;sales@bestpractical.com&gt;
+%#
+%# &#40;Except where explicitly superseded by other copyright notices&#41;
+%#
+%#
+%# LICENSE:
+%#
+%# This work is made available to you under the terms of Version 2 of
+%# the GNU General Public License. A copy of that license should have
+%# been provided with this software, but in any event can be snarfed
+%# from www.gnu.org.
+%#
+%# This work is distributed in the hope that it will be useful, but
+%# WITHOUT ANY WARRANTY; without even the implied warranty of
+%# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+%# General Public License for more details.
+%#
+%# You should have received a copy of the GNU General Public License
+%# along with this program; if not, write to the Free Software
+%# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+%# 02110-1301 or visit their web page on the internet at
+%# <span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a></span>.
+%#
+%#
+%# CONTRIBUTION SUBMISSION POLICY:
+%#
+%# &#40;The following paragraph is not intended to limit the rights granted
+%# to you to modify and distribute this software under the terms of
+%# the GNU General Public License and is only of importance to you if
+%# you choose to contribute your changes and enhancements to the
+%# community by submitting them to Best Practical Solutions, LLC.&#41;
+%#
+%# By intentionally submitting any modifications, corrections or
+%# derivatives to this work, or any other work intended for use with
+%# Request Tracker, to Best Practical Solutions, LLC, you confirm that
+%# you are the copyright holder for those contributions and you grant
+%# Best Practical Solutions,  LLC a nonexclusive, worldwide, irrevocable,
+%# royalty-free, perpetual, license to use, copy, create derivative
+%# works based on those contributions, and sublicense and distribute
+%# those contributions and any derivatives thereof.
+%#
+%# END BPS TAGGED BLOCK }}}
+&lt;%init&gt;
+my $file = $m-&gt;base_comp-&gt;source_file;
+
+if &#40;$file =~ /\.&#40;gif|png|jpe?g&#41;$/i&#41; {
+    my $relfile = $m-&gt;base_comp-&gt;path;
+    RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file, RelativeFile =&gt; $relfile &#41;;
+} else {
+    RT::Interface::Web::StaticFileHeaders&#40;&#41;;
+    $r-&gt;content_type&#40;&#39;text/css&#39;&#41; ;
+    $m-&gt;call_next&#40;&#41;;
+    return&#40;&#41;;
+}
+&lt;/%init&gt;
diff --git a/html/NoAuth/BugTracker/css/bugtracker.css b/html/NoAuth/BugTracker/css/bugtracker.css
new file mode 100644
index 0000000..3aea179
--- /dev/null
+++ b/html/NoAuth/BugTracker/css/bugtracker.css
@@ -0,0 +1,12 @@
+#external_bugtracker {
+    width: 50%;
+    border: 1px solid #666;
+    background: #ffffaa url&#40;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/images/warn.png&#41; 8px 15px no-repeat;
+    padding: 0px 10px 10px 60px;
+    margin: 20px auto;
+    min-height: 30px;
+    -webkit-box-shadow: inset 2px 2px 2px 2px #999;
+    box-shadow: inset 2px 2px 2px 2px #999;
+    -webkit-border-radius: 10px;
+    border-radius: 10px;
+}
diff --git a/html/NoAuth/BugTracker/images/dhandler b/html/NoAuth/BugTracker/images/dhandler
new file mode 100644
index 0000000..6ec9dea
--- /dev/null
+++ b/html/NoAuth/BugTracker/images/dhandler
@@ -0,0 +1,8 @@
+&lt;%INIT&gt;
+use File::Basename;
+my $arg = $m-&gt;dhandler_arg;
+my $file = dirname&#40;$m-&gt;current_comp-&gt;source_file&#41; . &#39;/source/&#39;. $arg;
+RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file &#41;;
+
+$m-&gt;abort;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/images/source/warn.png b/html/NoAuth/BugTracker/images/source/warn.png
new file mode 100644
index 0000000..db0529d
Binary files /dev/null and b/html/NoAuth/BugTracker/images/source/warn.png differ
diff --git a/lib/RT/BugTracker.pm b/lib/RT/BugTracker.pm
index 7ce1781..892b19c 100644
--- a/lib/RT/BugTracker.pm
+++ b/lib/RT/BugTracker.pm
@@ -85,6 +85,18 @@ overriden. We currently in sync with RT 3.6.6.
 require RT::Queue;
 package RT::Queue;
 
+sub DistributionBugtracker {
+    return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
+        DistributionBugtracker =&gt; @_
+    &#41;;
+}
+
+sub SetDistributionBugtracker {
+    return &#40;shift&#41;-&gt;_SetAttributeBasedField&#40;
+        DistributionBugtracker =&gt; @_
+    &#41;;
+}
+
 sub DistributionNotes {
     return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
         DistributionNotes =&gt; @_
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;05&nbsp;06:19:25&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Dependency on ticket #80020 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;05&nbsp;06:23:52&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Dependency by ticket #80021 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;28&nbsp;07:29:00&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Third time lucky, right?!  ;&#41;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt-bugtracker-external.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/html/Callbacks/BugTracker/Elements/Header/Head b/html/Callbacks/BugTracker/Elements/Header/Head
new file mode 100644
index 0000000..8638838
--- /dev/null
+++ b/html/Callbacks/BugTracker/Elements/Header/Head
@@ -0,0 +1 @@
+&lt;link rel=&#34;stylesheet&#34; href=&#34;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/css/bugtracker.css&#34; type=&#34;text/css&#34; media=&#34;all&#34; /&gt;
diff --git a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
index e8073a5..f68d289 100644
--- a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
+++ b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
@@ -2,5 +2,7 @@
 $QueueObj
 &lt;/%ARGS&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
diff --git a/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
new file mode 100644
index 0000000..51854cc
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
@@ -0,0 +1,6 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Dist/Display.html b/html/Dist/Display.html
index 0e4c329..9107dc9 100755
--- a/html/Dist/Display.html
+++ b/html/Dist/Display.html
@@ -57,6 +57,8 @@
     Title =&gt; $title,
 &#38;&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
 &lt;&#38; /Dist/Elements/ShowMaintainers, Queue =&gt; $QueueObj &#38;&gt;
diff --git a/html/Dist/Elements/ShowBugtracker b/html/Dist/Elements/ShowBugtracker
new file mode 100644
index 0000000..bfe407b
--- /dev/null
+++ b/html/Dist/Elements/ShowBugtracker
@@ -0,0 +1,24 @@
+% if &#40; defined $bugtracker &#41; {
+&lt;div id=&#34;external_bugtracker&#34;&gt;
+&lt;h3&gt;&lt;% loc&#40;&#34;Alternative bug tracker&#34;&#41; %&gt;&lt;/h3&gt;
+%
+% if &#40; defined $bugtracker-&gt;{mailto} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please email the &lt;a href=&#34;mailto:&lt;% $bugtracker-&gt;{mailto} |n %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+%
+% if &#40; defined $bugtracker-&gt;{web} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please visit the &lt;a href=&#34;&lt;% $bugtracker-&gt;{web} |n %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+&lt;/div&gt;
+% }
+%
+&lt;%ARGS&gt;
+$Queue
+&lt;/%ARGS&gt;
+&lt;%INIT&gt;
+my $bugtracker = $Queue-&gt;DistributionBugtracker;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/autohandler b/html/NoAuth/BugTracker/autohandler
new file mode 100644
index 0000000..dabe704
--- /dev/null
+++ b/html/NoAuth/BugTracker/autohandler
@@ -0,0 +1,60 @@
+%# BEGIN BPS TAGGED BLOCK {{{
+%#
+%# COPYRIGHT:
+%#
+%# This software is Copyright &#40;c&#41; 1996-2011 Best Practical Solutions, LLC
+%#                                          &lt;sales@bestpractical.com&gt;
+%#
+%# &#40;Except where explicitly superseded by other copyright notices&#41;
+%#
+%#
+%# LICENSE:
+%#
+%# This work is made available to you under the terms of Version 2 of
+%# the GNU General Public License. A copy of that license should have
+%# been provided with this software, but in any event can be snarfed
+%# from www.gnu.org.
+%#
+%# This work is distributed in the hope that it will be useful, but
+%# WITHOUT ANY WARRANTY; without even the implied warranty of
+%# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+%# General Public License for more details.
+%#
+%# You should have received a copy of the GNU General Public License
+%# along with this program; if not, write to the Free Software
+%# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+%# 02110-1301 or visit their web page on the internet at
+%# <span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a></span>.
+%#
+%#
+%# CONTRIBUTION SUBMISSION POLICY:
+%#
+%# &#40;The following paragraph is not intended to limit the rights granted
+%# to you to modify and distribute this software under the terms of
+%# the GNU General Public License and is only of importance to you if
+%# you choose to contribute your changes and enhancements to the
+%# community by submitting them to Best Practical Solutions, LLC.&#41;
+%#
+%# By intentionally submitting any modifications, corrections or
+%# derivatives to this work, or any other work intended for use with
+%# Request Tracker, to Best Practical Solutions, LLC, you confirm that
+%# you are the copyright holder for those contributions and you grant
+%# Best Practical Solutions,  LLC a nonexclusive, worldwide, irrevocable,
+%# royalty-free, perpetual, license to use, copy, create derivative
+%# works based on those contributions, and sublicense and distribute
+%# those contributions and any derivatives thereof.
+%#
+%# END BPS TAGGED BLOCK }}}
+&lt;%init&gt;
+my $file = $m-&gt;base_comp-&gt;source_file;
+
+if &#40;$file =~ /\.&#40;gif|png|jpe?g&#41;$/i&#41; {
+    my $relfile = $m-&gt;base_comp-&gt;path;
+    RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file, RelativeFile =&gt; $relfile &#41;;
+} else {
+    RT::Interface::Web::StaticFileHeaders&#40;&#41;;
+    $r-&gt;content_type&#40;&#39;text/css&#39;&#41; ;
+    $m-&gt;call_next&#40;&#41;;
+    return&#40;&#41;;
+}
+&lt;/%init&gt;
diff --git a/html/NoAuth/BugTracker/css/bugtracker.css b/html/NoAuth/BugTracker/css/bugtracker.css
new file mode 100644
index 0000000..3aea179
--- /dev/null
+++ b/html/NoAuth/BugTracker/css/bugtracker.css
@@ -0,0 +1,12 @@
+#external_bugtracker {
+    width: 50%;
+    border: 1px solid #666;
+    background: #ffffaa url&#40;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/images/warn.png&#41; 8px 15px no-repeat;
+    padding: 0px 10px 10px 60px;
+    margin: 20px auto;
+    min-height: 30px;
+    -webkit-box-shadow: inset 2px 2px 2px 2px #999;
+    box-shadow: inset 2px 2px 2px 2px #999;
+    -webkit-border-radius: 10px;
+    border-radius: 10px;
+}
diff --git a/html/NoAuth/BugTracker/images/dhandler b/html/NoAuth/BugTracker/images/dhandler
new file mode 100644
index 0000000..6ec9dea
--- /dev/null
+++ b/html/NoAuth/BugTracker/images/dhandler
@@ -0,0 +1,8 @@
+&lt;%INIT&gt;
+use File::Basename;
+my $arg = $m-&gt;dhandler_arg;
+my $file = dirname&#40;$m-&gt;current_comp-&gt;source_file&#41; . &#39;/source/&#39;. $arg;
+RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file &#41;;
+
+$m-&gt;abort;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/images/source/warn.png b/html/NoAuth/BugTracker/images/source/warn.png
new file mode 100644
index 0000000..db0529d
Binary files /dev/null and b/html/NoAuth/BugTracker/images/source/warn.png differ
diff --git a/lib/RT/BugTracker.pm b/lib/RT/BugTracker.pm
index 7ce1781..356232f 100644
--- a/lib/RT/BugTracker.pm
+++ b/lib/RT/BugTracker.pm
@@ -85,6 +85,44 @@ overriden. We currently in sync with RT 3.6.6.
 require RT::Queue;
 package RT::Queue;
 
+sub DistributionBugtracker {
+    return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
+        DistributionBugtracker =&gt; @_
+    &#41;;
+}
+
+
+sub SetDistributionBugtracker {
+    my &#40;$self, $value&#41; = &#40;shift, shift&#41;;
+
+    my $bugtracker = {};
+    my $update = 0;
+
+    # Validate and set the mail to - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{mailto}&#41; &#38;&#38; !&#40;$value-&gt;{mailto} =~  m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;Email::Address-&gt;parse&#40;$value-&gt;{mailto}&#41;&#41; {
+            $bugtracker-&gt;{mailto} = $value-&gt;{mailto};
+            $update = 1;
+        }
+    }
+
+    # Validate and set the web - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{web}&#41; &#38;&#38; !&#40;$value-&gt;{web} =~ m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;URI-&gt;new&#40;$value-&gt;{web}&#41;&#41; {
+            $bugtracker-&gt;{web} = $value-&gt;{web};
+            $update = 1;
+        }
+    }
+
+    if&#40;$update&#41; {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; $bugtracker &#41;;
+    }
+
+    else {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; undef &#41;;
+    }
+}
+
 sub DistributionNotes {
     return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
         DistributionNotes =&gt; @_
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;07:38:20&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; at display time you&#39;re including the &#34;|n&#34;
&gt; flag when interpolating the web/mailto URLs.  This tells Mason to not
&gt; apply it&#39;s default HTML escaping, which would allow third-party HTML
&gt; injection into rt.cpan.org.  Removing the |n is sufficient for that.
</div>
Ah, guilty of cargo culting that one.  Not familiar with Mason.

New patch attached with the change requested.

Ian.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt-bugtracker-external.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/html/Callbacks/BugTracker/Elements/Header/Head b/html/Callbacks/BugTracker/Elements/Header/Head
new file mode 100644
index 0000000..8638838
--- /dev/null
+++ b/html/Callbacks/BugTracker/Elements/Header/Head
@@ -0,0 +1 @@
+&lt;link rel=&#34;stylesheet&#34; href=&#34;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/css/bugtracker.css&#34; type=&#34;text/css&#34; media=&#34;all&#34; /&gt;
diff --git a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
index e8073a5..f68d289 100644
--- a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
+++ b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
@@ -2,5 +2,7 @@
 $QueueObj
 &lt;/%ARGS&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
diff --git a/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
new file mode 100644
index 0000000..51854cc
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
@@ -0,0 +1,6 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Dist/Display.html b/html/Dist/Display.html
index 0e4c329..9107dc9 100755
--- a/html/Dist/Display.html
+++ b/html/Dist/Display.html
@@ -57,6 +57,8 @@
     Title =&gt; $title,
 &#38;&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
 &lt;&#38; /Dist/Elements/ShowMaintainers, Queue =&gt; $QueueObj &#38;&gt;
diff --git a/html/Dist/Elements/ShowBugtracker b/html/Dist/Elements/ShowBugtracker
new file mode 100644
index 0000000..1c9a434
--- /dev/null
+++ b/html/Dist/Elements/ShowBugtracker
@@ -0,0 +1,24 @@
+% if &#40; defined $bugtracker &#41; {
+&lt;div id=&#34;external_bugtracker&#34;&gt;
+&lt;h3&gt;&lt;% loc&#40;&#34;Alternative bug tracker&#34;&#41; %&gt;&lt;/h3&gt;
+%
+% if &#40; defined $bugtracker-&gt;{mailto} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please email the &lt;a href=&#34;mailto:&lt;% $bugtracker-&gt;{mailto} %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+%
+% if &#40; defined $bugtracker-&gt;{web} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please visit the &lt;a href=&#34;&lt;% $bugtracker-&gt;{web} %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+&lt;/div&gt;
+% }
+%
+&lt;%ARGS&gt;
+$Queue
+&lt;/%ARGS&gt;
+&lt;%INIT&gt;
+my $bugtracker = $Queue-&gt;DistributionBugtracker;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/autohandler b/html/NoAuth/BugTracker/autohandler
new file mode 100644
index 0000000..dabe704
--- /dev/null
+++ b/html/NoAuth/BugTracker/autohandler
@@ -0,0 +1,60 @@
+%# BEGIN BPS TAGGED BLOCK {{{
+%#
+%# COPYRIGHT:
+%#
+%# This software is Copyright &#40;c&#41; 1996-2011 Best Practical Solutions, LLC
+%#                                          &lt;sales@bestpractical.com&gt;
+%#
+%# &#40;Except where explicitly superseded by other copyright notices&#41;
+%#
+%#
+%# LICENSE:
+%#
+%# This work is made available to you under the terms of Version 2 of
+%# the GNU General Public License. A copy of that license should have
+%# been provided with this software, but in any event can be snarfed
+%# from www.gnu.org.
+%#
+%# This work is distributed in the hope that it will be useful, but
+%# WITHOUT ANY WARRANTY; without even the implied warranty of
+%# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+%# General Public License for more details.
+%#
+%# You should have received a copy of the GNU General Public License
+%# along with this program; if not, write to the Free Software
+%# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+%# 02110-1301 or visit their web page on the internet at
+%# <span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a></span>.
+%#
+%#
+%# CONTRIBUTION SUBMISSION POLICY:
+%#
+%# &#40;The following paragraph is not intended to limit the rights granted
+%# to you to modify and distribute this software under the terms of
+%# the GNU General Public License and is only of importance to you if
+%# you choose to contribute your changes and enhancements to the
+%# community by submitting them to Best Practical Solutions, LLC.&#41;
+%#
+%# By intentionally submitting any modifications, corrections or
+%# derivatives to this work, or any other work intended for use with
+%# Request Tracker, to Best Practical Solutions, LLC, you confirm that
+%# you are the copyright holder for those contributions and you grant
+%# Best Practical Solutions,  LLC a nonexclusive, worldwide, irrevocable,
+%# royalty-free, perpetual, license to use, copy, create derivative
+%# works based on those contributions, and sublicense and distribute
+%# those contributions and any derivatives thereof.
+%#
+%# END BPS TAGGED BLOCK }}}
+&lt;%init&gt;
+my $file = $m-&gt;base_comp-&gt;source_file;
+
+if &#40;$file =~ /\.&#40;gif|png|jpe?g&#41;$/i&#41; {
+    my $relfile = $m-&gt;base_comp-&gt;path;
+    RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file, RelativeFile =&gt; $relfile &#41;;
+} else {
+    RT::Interface::Web::StaticFileHeaders&#40;&#41;;
+    $r-&gt;content_type&#40;&#39;text/css&#39;&#41; ;
+    $m-&gt;call_next&#40;&#41;;
+    return&#40;&#41;;
+}
+&lt;/%init&gt;
diff --git a/html/NoAuth/BugTracker/css/bugtracker.css b/html/NoAuth/BugTracker/css/bugtracker.css
new file mode 100644
index 0000000..3aea179
--- /dev/null
+++ b/html/NoAuth/BugTracker/css/bugtracker.css
@@ -0,0 +1,12 @@
+#external_bugtracker {
+    width: 50%;
+    border: 1px solid #666;
+    background: #ffffaa url&#40;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/images/warn.png&#41; 8px 15px no-repeat;
+    padding: 0px 10px 10px 60px;
+    margin: 20px auto;
+    min-height: 30px;
+    -webkit-box-shadow: inset 2px 2px 2px 2px #999;
+    box-shadow: inset 2px 2px 2px 2px #999;
+    -webkit-border-radius: 10px;
+    border-radius: 10px;
+}
diff --git a/html/NoAuth/BugTracker/images/dhandler b/html/NoAuth/BugTracker/images/dhandler
new file mode 100644
index 0000000..6ec9dea
--- /dev/null
+++ b/html/NoAuth/BugTracker/images/dhandler
@@ -0,0 +1,8 @@
+&lt;%INIT&gt;
+use File::Basename;
+my $arg = $m-&gt;dhandler_arg;
+my $file = dirname&#40;$m-&gt;current_comp-&gt;source_file&#41; . &#39;/source/&#39;. $arg;
+RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file &#41;;
+
+$m-&gt;abort;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/images/source/warn.png b/html/NoAuth/BugTracker/images/source/warn.png
new file mode 100644
index 0000000..db0529d
Binary files /dev/null and b/html/NoAuth/BugTracker/images/source/warn.png differ
diff --git a/lib/RT/BugTracker.pm b/lib/RT/BugTracker.pm
index 7ce1781..356232f 100644
--- a/lib/RT/BugTracker.pm
+++ b/lib/RT/BugTracker.pm
@@ -85,6 +85,44 @@ overriden. We currently in sync with RT 3.6.6.
 require RT::Queue;
 package RT::Queue;
 
+sub DistributionBugtracker {
+    return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
+        DistributionBugtracker =&gt; @_
+    &#41;;
+}
+
+
+sub SetDistributionBugtracker {
+    my &#40;$self, $value&#41; = &#40;shift, shift&#41;;
+
+    my $bugtracker = {};
+    my $update = 0;
+
+    # Validate and set the mail to - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{mailto}&#41; &#38;&#38; !&#40;$value-&gt;{mailto} =~  m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;Email::Address-&gt;parse&#40;$value-&gt;{mailto}&#41;&#41; {
+            $bugtracker-&gt;{mailto} = $value-&gt;{mailto};
+            $update = 1;
+        }
+    }
+
+    # Validate and set the web - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{web}&#41; &#38;&#38; !&#40;$value-&gt;{web} =~ m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;URI-&gt;new&#40;$value-&gt;{web}&#41;&#41; {
+            $bugtracker-&gt;{web} = $value-&gt;{web};
+            $update = 1;
+        }
+    }
+
+    if&#40;$update&#41; {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; $bugtracker &#41;;
+    }
+
+    else {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; undef &#41;;
+    }
+}
+
 sub DistributionNotes {
     return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
         DistributionNotes =&gt; @_
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;08:48:00&nbsp;2012</span>
    <span class="description">IDN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Whoops.  The other one is in this module too.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; However, beyond just checking if .web parses with URI, we also need to
&gt; check that it&#39;s only a http or https URI.  Otherwise you can use other
&gt; schemes with security problems for a website &#40;data:, javascript:&#41;.
</div>
Added scheme validation code.  Seems like supported_schemes should be
defined somewhere else but not sure where.

Anyways, new one attached.

Cheers!  Ian.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt-bugtracker-external.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/html/Callbacks/BugTracker/Elements/Header/Head b/html/Callbacks/BugTracker/Elements/Header/Head
new file mode 100644
index 0000000..8638838
--- /dev/null
+++ b/html/Callbacks/BugTracker/Elements/Header/Head
@@ -0,0 +1 @@
+&lt;link rel=&#34;stylesheet&#34; href=&#34;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/css/bugtracker.css&#34; type=&#34;text/css&#34; media=&#34;all&#34; /&gt;
diff --git a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
index e8073a5..f68d289 100644
--- a/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
+++ b/html/Callbacks/BugTracker/Ticket/Create.html/FormStart
@@ -2,5 +2,7 @@
 $QueueObj
 &lt;/%ARGS&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
diff --git a/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Display.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
new file mode 100644
index 0000000..8b8d82f
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Modify.html/BeforeActionList
@@ -0,0 +1,8 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
+&lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
new file mode 100644
index 0000000..51854cc
--- /dev/null
+++ b/html/Callbacks/BugTracker/Ticket/Update.html/BeforeActionList
@@ -0,0 +1,6 @@
+&lt;%ARGS&gt;
+$Ticket
+&lt;/%ARGS&gt;
+
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $Ticket-&gt;QueueObj &#38;&gt;
+
diff --git a/html/Dist/Display.html b/html/Dist/Display.html
index 0e4c329..9107dc9 100755
--- a/html/Dist/Display.html
+++ b/html/Dist/Display.html
@@ -57,6 +57,8 @@
     Title =&gt; $title,
 &#38;&gt;
 
+&lt;&#38; /Dist/Elements/ShowBugtracker, Queue =&gt; $QueueObj &#38;&gt;
+
 &lt;&#38; /Dist/Elements/ShowNotes, Queue =&gt; $QueueObj &#38;&gt;
 
 &lt;&#38; /Dist/Elements/ShowMaintainers, Queue =&gt; $QueueObj &#38;&gt;
diff --git a/html/Dist/Elements/ShowBugtracker b/html/Dist/Elements/ShowBugtracker
new file mode 100644
index 0000000..1c9a434
--- /dev/null
+++ b/html/Dist/Elements/ShowBugtracker
@@ -0,0 +1,24 @@
+% if &#40; defined $bugtracker &#41; {
+&lt;div id=&#34;external_bugtracker&#34;&gt;
+&lt;h3&gt;&lt;% loc&#40;&#34;Alternative bug tracker&#34;&#41; %&gt;&lt;/h3&gt;
+%
+% if &#40; defined $bugtracker-&gt;{mailto} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please email the &lt;a href=&#34;mailto:&lt;% $bugtracker-&gt;{mailto} %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+%
+% if &#40; defined $bugtracker-&gt;{web} &#41; {
+&lt;p&gt;
+&lt;div&gt;Please visit the &lt;a href=&#34;&lt;% $bugtracker-&gt;{web} %&gt;&#34;&gt;alternative bug tracker&lt;/a&gt; to report your issue.&lt;/div&gt;
+&lt;/p&gt;
+% }
+&lt;/div&gt;
+% }
+%
+&lt;%ARGS&gt;
+$Queue
+&lt;/%ARGS&gt;
+&lt;%INIT&gt;
+my $bugtracker = $Queue-&gt;DistributionBugtracker;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/autohandler b/html/NoAuth/BugTracker/autohandler
new file mode 100644
index 0000000..dabe704
--- /dev/null
+++ b/html/NoAuth/BugTracker/autohandler
@@ -0,0 +1,60 @@
+%# BEGIN BPS TAGGED BLOCK {{{
+%#
+%# COPYRIGHT:
+%#
+%# This software is Copyright &#40;c&#41; 1996-2011 Best Practical Solutions, LLC
+%#                                          &lt;sales@bestpractical.com&gt;
+%#
+%# &#40;Except where explicitly superseded by other copyright notices&#41;
+%#
+%#
+%# LICENSE:
+%#
+%# This work is made available to you under the terms of Version 2 of
+%# the GNU General Public License. A copy of that license should have
+%# been provided with this software, but in any event can be snarfed
+%# from www.gnu.org.
+%#
+%# This work is distributed in the hope that it will be useful, but
+%# WITHOUT ANY WARRANTY; without even the implied warranty of
+%# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+%# General Public License for more details.
+%#
+%# You should have received a copy of the GNU General Public License
+%# along with this program; if not, write to the Free Software
+%# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
+%# 02110-1301 or visit their web page on the internet at
+%# <span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a></span>.
+%#
+%#
+%# CONTRIBUTION SUBMISSION POLICY:
+%#
+%# &#40;The following paragraph is not intended to limit the rights granted
+%# to you to modify and distribute this software under the terms of
+%# the GNU General Public License and is only of importance to you if
+%# you choose to contribute your changes and enhancements to the
+%# community by submitting them to Best Practical Solutions, LLC.&#41;
+%#
+%# By intentionally submitting any modifications, corrections or
+%# derivatives to this work, or any other work intended for use with
+%# Request Tracker, to Best Practical Solutions, LLC, you confirm that
+%# you are the copyright holder for those contributions and you grant
+%# Best Practical Solutions,  LLC a nonexclusive, worldwide, irrevocable,
+%# royalty-free, perpetual, license to use, copy, create derivative
+%# works based on those contributions, and sublicense and distribute
+%# those contributions and any derivatives thereof.
+%#
+%# END BPS TAGGED BLOCK }}}
+&lt;%init&gt;
+my $file = $m-&gt;base_comp-&gt;source_file;
+
+if &#40;$file =~ /\.&#40;gif|png|jpe?g&#41;$/i&#41; {
+    my $relfile = $m-&gt;base_comp-&gt;path;
+    RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file, RelativeFile =&gt; $relfile &#41;;
+} else {
+    RT::Interface::Web::StaticFileHeaders&#40;&#41;;
+    $r-&gt;content_type&#40;&#39;text/css&#39;&#41; ;
+    $m-&gt;call_next&#40;&#41;;
+    return&#40;&#41;;
+}
+&lt;/%init&gt;
diff --git a/html/NoAuth/BugTracker/css/bugtracker.css b/html/NoAuth/BugTracker/css/bugtracker.css
new file mode 100644
index 0000000..3aea179
--- /dev/null
+++ b/html/NoAuth/BugTracker/css/bugtracker.css
@@ -0,0 +1,12 @@
+#external_bugtracker {
+    width: 50%;
+    border: 1px solid #666;
+    background: #ffffaa url&#40;&lt;%RT-&gt;Config-&gt;Get&#40;&#39;WebPath&#39;&#41;%&gt;/NoAuth/BugTracker/images/warn.png&#41; 8px 15px no-repeat;
+    padding: 0px 10px 10px 60px;
+    margin: 20px auto;
+    min-height: 30px;
+    -webkit-box-shadow: inset 2px 2px 2px 2px #999;
+    box-shadow: inset 2px 2px 2px 2px #999;
+    -webkit-border-radius: 10px;
+    border-radius: 10px;
+}
diff --git a/html/NoAuth/BugTracker/images/dhandler b/html/NoAuth/BugTracker/images/dhandler
new file mode 100644
index 0000000..6ec9dea
--- /dev/null
+++ b/html/NoAuth/BugTracker/images/dhandler
@@ -0,0 +1,8 @@
+&lt;%INIT&gt;
+use File::Basename;
+my $arg = $m-&gt;dhandler_arg;
+my $file = dirname&#40;$m-&gt;current_comp-&gt;source_file&#41; . &#39;/source/&#39;. $arg;
+RT::Interface::Web-&gt;SendStaticFile&#40; File =&gt; $file &#41;;
+
+$m-&gt;abort;
+&lt;/%INIT&gt;
diff --git a/html/NoAuth/BugTracker/images/source/warn.png b/html/NoAuth/BugTracker/images/source/warn.png
new file mode 100644
index 0000000..db0529d
Binary files /dev/null and b/html/NoAuth/BugTracker/images/source/warn.png differ
diff --git a/lib/RT/BugTracker.pm b/lib/RT/BugTracker.pm
index 7ce1781..a7ec89e 100644
--- a/lib/RT/BugTracker.pm
+++ b/lib/RT/BugTracker.pm
@@ -85,6 +85,67 @@ overriden. We currently in sync with RT 3.6.6.
 require RT::Queue;
 package RT::Queue;
 
+sub DistributionBugtracker {
+    return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
+        DistributionBugtracker =&gt; @_
+    &#41;;
+}
+
+
+sub SetDistributionBugtracker {
+    my &#40;$self, $value&#41; = &#40;shift, shift&#41;;
+
+    my $bugtracker = {};
+    my $update = 0;
+
+    # Validate and set the mail to - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{mailto}&#41; &#38;&#38; !&#40;$value-&gt;{mailto} =~  m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;Email::Address-&gt;parse&#40;$value-&gt;{mailto}&#41;&#41; {
+            $bugtracker-&gt;{mailto} = $value-&gt;{mailto};
+            $update = 1;
+        }
+    }
+
+    # Hash of supported URI schemes for validation
+    my $supported_schemes = {
+        http    =&gt; 1,
+        https   =&gt; 1,
+    };
+
+    # Validate and set the web - we don&#39;t care if this is rt.cpan.org
+    if&#40;defined&#40;$value-&gt;{web}&#41; &#38;&#38; !&#40;$value-&gt;{web} =~ m/rt\.cpan\.org/&#41;&#41; {
+        if&#40;my $uri = URI-&gt;new&#40;$value-&gt;{web}&#41;&#41; {
+
+            # Check that this is a supported scheme
+            if&#40;defined&#40;$supported_schemes-&gt;{$uri-&gt;scheme&#40;&#41;}&#41;&#41; {
+                $bugtracker-&gt;{web} = $value-&gt;{web};
+                $update = 1;
+            }
+
+            else {
+                my $error_msg = &#34;Failed to set external bugtracker website&#34;;
+                $error_msg   .= &#34; on distribution &#40;&#34; . $self-&gt;Name&#40;&#41; .  &#34;&#41;.&#34;;
+                $error_msg   .= &#34; Unsupported scheme &#40;&#34; . $uri-&gt;scheme&#40;&#41; . &#34;&#41;.&#34;;
+                $RT::Logger-&gt;error&#40;$error_msg&#41;;
+            }
+        }
+        else {
+            my $error_msg = &#34;Failed to set external bugtracker website&#34;;
+            $error_msg   .= &#34; on distribution &#40;&#34; . $self-&gt;Name&#40;&#41; .  &#34;&#41;&#34;;
+            $error_msg   .= &#34; Unable to parse &#40;&#34; . $value-&gt;{web} . &#34;&#41; with URI.&#34;;
+            $RT::Logger-&gt;error&#40;$error_msg&#41;;
+        }
+    }
+
+    if&#40;$update&#41; {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; $bugtracker &#41;;
+    }
+
+    else {
+        return $self-&gt;_SetAttributeBasedField&#40; DistributionBugtracker =&gt; undef &#41;;
+    }
+}
+
 sub DistributionNotes {
     return &#40;shift&#41;-&gt;_AttributeBasedField&#40;
         DistributionNotes =&gt; @_
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;02&nbsp;13:37:25&nbsp;2013</span>
    <span class="description">tsibley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolving.  These branches are merged into the rt4 branch, which will be deployed on rt.cpan.org during the RT upgrade.  The RT upgrade is currently in beta testing.

Thanks for your work, Ian!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;02&nbsp;13:38:14&nbsp;2013</span>
    <span class="description">tsibley [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
