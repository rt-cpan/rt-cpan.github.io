<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #101046 for Encode: Test suite of 2.67 and 2.68 fails with perl 5.21.7 and 5.21.8</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #101046 for Encode: Test suite of 2.67 and 2.68 fails with perl 5.21.7 and 5.21.8</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Encode">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Encode">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Encode">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Encode">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Encode">Encode CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">101046</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Encode">Encode</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ether [...] cpan.org

<br />
KENTNL [...] cpan.org

<br />
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12062-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
2.67</li>
<li>
2.66</li>
<li>
2.68</li>
</ul>
    </td>
  </tr>
  <tr id="CF-12063-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.71    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




encoding_reduce.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1460643/777291/encoding_reduce.t">
Thu Feb 05 07:22:48 2015 (692b) by KENTNL [...] cpan.org
</a>
</font></li>
</ul>


encoding_tap.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1460643/777292/encoding_tap.txt">
Thu Feb 05 07:22:48 2015 (1010b) by KENTNL [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=101046">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444627" href="/Public/Bug/Display.html?id=101046#txn-1444627">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;20&nbsp;16:50:12&nbsp;2014</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test suite of 2.67 fails with perl 5.21.7</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444627/768071/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768071">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 397b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">t/encoding.t ............... 
Failed 2/31 subtests 

...

Test Summary Report
-------------------
t/encoding.t             &#40;Wstat: 0 Tests: 31 Failed: 2&#41;
  Failed tests:  12, 14


Fail happens on a Debian/wheezy and FreeBSD 9.2 system.

Interestingly &#34;make test&#34; of perl 5.21.7 went fine without errors on these systems, and the bundled Encode version seems to be the same...

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444630" href="/Public/Bug/Display.html?id=101046#txn-1444630">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;20&nbsp;16:52:17&nbsp;2014</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444630/768074/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768074">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 548b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-12-20 16:50:12, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/encoding.t ...............
&gt; Failed 2/31 subtests
&gt; 
&gt; ...
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/encoding.t             &#40;Wstat: 0 Tests: 31 Failed: 2&#41;
&gt;   Failed tests:  12, 14
&gt; 
&gt; 
&gt; Fail happens on a Debian/wheezy and FreeBSD 9.2 system.
&gt; 
&gt; Interestingly &#34;make test&#34; of perl 5.21.7 went fine without errors on
&gt; these systems, and the bundled Encode version seems to be the same...
&gt; 
</div>
See also <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Encode;perl=5.21.7;reports=1">http://matrix.cpantesters.org/?dist=Encode;perl=5.21.7;reports=1</a></span> for available fail reports.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1455885" href="/Public/Bug/Display.html?id=101046#txn-1455885">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;12:08:48&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Subject changed from &#39;Test suite of 2.67 fails with perl 5.21.7&#39; to &#39;Test suite of 2.67 fails with perl 5.21.7 and 5.21.8&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1455891" href="/Public/Bug/Display.html?id=101046#txn-1455891">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;12:20:01&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Subject changed from &#39;Test suite of 2.67 fails with perl 5.21.7 and 5.21.8&#39; to &#39;Test suite of 2.67 and 2.68 fails with perl 5.21.7 and 5.21.8&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1456325" href="/Public/Bug/Display.html?id=101046#txn-1456325">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;23&nbsp;14:31:06&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Requestor ETHER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1460626" href="/Public/Bug/Display.html?id=101046#txn-1460626">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;06:43:42&nbsp;2015</span>
    <span class="description">KENTNL [...] cpan.org -  Requestor KENTNL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1460643" href="/Public/Bug/Display.html?id=101046#txn-1460643">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;07:22:48&nbsp;2015</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1460643/777290/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/777290">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>
	Curious. Seems to be something in XS stuff.</p>

<p>
	&nbsp;</p>

<p>
	Simply untarring and running `prove -blvr t/encoding.t` *without* doing a make run *passes* tests ( on blead ) ( and without warning )<br>

	<br>

	However, doing `perl Makefile.PL &amp;&amp; make` and then doing `prove -blvr t/encoding.t` makes it fail.</p>

<p>
	&nbsp;</p>

<p>
	Where its triggering those warnings is the strangest thing:</p>

<p>
	&nbsp;</p>

<p>
	PERL5OPT=&quot;-d:Confess&quot; prove -blvr t/encoding.t&nbsp;&nbsp;&nbsp; &nbsp;<br>

	<br>

	But either way, I don&#39;t think the warnings are directly related to the problem, just a failure to include those warnings only when deprecations are warned about. ( I could be very wrong about that of course )<br>

	<br>

	Attached however is the reduced and instrumented form of the failing parts of the test, and the output emitted:<br>

	<br>

	t/encoding.t .. Setting ${^ENCODING} is deprecated at /home/kent/.cpanm/work/1423137170.272187/Encode-2.70/blib/lib/encoding.pm line 134.<br>

	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encoding::import(&quot;encoding&quot;, &quot;greek&quot;) called at t/encoding.t line 5<br>

	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; main::BEGIN() called at t/encoding.t line 5<br>

	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eval {...} called at t/encoding.t line 5<br>

	<br>

	1..2<br>

	not ok 1<br>

	# expected: 223<br>

	# got: 943<br>

	not ok 2<br>

	# expected: 223<br>

	# got: 943<br>

	Failed 2/2 subtests<br>

	<br>

	Removing the `use encoding &#39;greek&#39; ` from the file makes these 2 tests pass.... but of course, make the rest of the file fail =)</p>

<p>
	Doing some diving shows this reduced test fails all the way back with encode 2.00 in the exact same way with the same warnings... so its somehow a &quot;blead breaks cpan without breaking itself with modules that are shipped on CPAN&quot;.</p>

<p>
	Wut.</p>


</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> encoding_reduce.t</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1460643/777291/encoding_reduce.t">Download encoding_reduce.t</a><br />
<span class="downloadcontenttype">text/x-perl 692b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
print &#34;1..2\n&#34;;

no warnings &#34;deprecated&#34;;
use encoding &#34;greek&#34;;  # iso 8859-7 &#40;no &#34;latin&#34; alias, surprise...&#41;

# charnames must still work
use charnames &#39;:full&#39;;
{
  my $expected = 0xdf;
  my $got =  ord&#40;&#34;\N{LATIN SMALL LETTER SHARP S}&#34;&#41;;
  my $state = $got == $expected;
  print &#34;not &#34; unless $state;
  print &#34;ok 1\n&#34;;
  if &#40; not $state &#41; {
    print &#34;# expected: $expected\n# got: $got\n&#34;;
  }
}

# combine
{
  my $c = &#34;\xDF\N{LATIN SMALL LETTER SHARP S}&#34; . chr&#40;0xdf&#41;;

  my $expected = 0xdf;
  my $got = ord&#40;substr&#40;$c, 1, 1&#41;&#41;;
  my $state = $got == $expected;
  print &#34;not &#34; unless $state;
  print &#34;ok 2\n&#34;;
  if &#40; not $state &#41; {
    print &#34;# expected: $expected\n# got: $got\n&#34;;
  }
}

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> encoding_tap.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1460643/777292/encoding_tap.txt">Download encoding_tap.txt</a><br />
<span class="downloadcontenttype">text/plain 1010b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Setting ${^ENCODING} is deprecated at /home/kent/.cpanm/work/1423136354.224896/Encode-2.70/blib/lib/encoding.pm line 134.
	encoding::import&#40;&#34;encoding&#34;, &#34;latin1&#34;&#41; called at t/encoding.t line 20
	main::BEGIN&#40;&#41; called at t/encoding.t line 20
	eval {...} called at t/encoding.t line 20
Setting ${^ENCODING} is deprecated at /home/kent/.cpanm/work/1423136354.224896/Encode-2.70/blib/lib/encoding.pm line 134.
	encoding::import&#40;&#34;encoding&#34;, &#34;greek&#34;&#41; called at t/encoding.t line 21
	main::BEGIN&#40;&#41; called at t/encoding.t line 21
	eval {...} called at t/encoding.t line 21
t/encoding.t .. 
1..31
ok 1
ok 2
ok 3
ok 4
ok 5
ok 6
ok 7
ok 8
ok 9
ok 10
ok 11
not ok 12
ok 13
not ok 14
ok 15
ok 16
ok 17
ok 18
ok 19
ok 20
ok 21
ok 22
ok 23
ok 24
ok 25
ok 26
ok 27
ok 28
ok 29
ok 30
ok 31
Failed 2/31 subtests 

Test Summary Report
-------------------
t/encoding.t &#40;Wstat: 0 Tests: 31 Failed: 2&#41;
  Failed tests:  12, 14
Files=1, Tests=31,  1 wallclock secs &#40; 0.05 usr  0.00 sys +  0.09 cusr  0.01 csys =  0.15 CPU&#41;
Result: FAIL
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1460646" href="/Public/Bug/Display.html?id=101046#txn-1460646">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;07:23:13&nbsp;2015</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 2.66 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1460647" href="/Public/Bug/Display.html?id=101046#txn-1460647">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;07:23:13&nbsp;2015</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 2.68 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1462955" href="/Public/Bug/Display.html?id=101046#txn-1462955">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;11&nbsp;23:18:34&nbsp;2015</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1462955/778605/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/778605">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The relevant commits in bleadperl:

commit c0659f7
Author:     Karl Williamson &lt;khw@cpan.org&gt;
AuthorDate: Wed Nov 19 17:02:58 2014 -0700
Commit:     Karl Williamson &lt;khw@cpan.org&gt;
CommitDate: Thu Nov 20 21:45:18 2014 -0700

    perldelta for deprecating ${^ENCODING}
commit a3ee04b
Author:     Karl Williamson &lt;khw@cpan.org&gt;
AuthorDate: Wed Nov 19 16:49:53 2014 -0700
Commit:     Karl Williamson &lt;khw@cpan.org&gt;
CommitDate: Thu Nov 20 21:45:18 2014 -0700

    perlvar: More text about ${^ENCODING}; refer by perldiag
commit d5b4785
Author:     Dagfinn Ilmari MannsÃ¥ker &lt;ilmari@ilmari.org&gt;
AuthorDate: Mon Nov 10 23:54:46 2014 +0000
Commit:     Karl Williamson &lt;khw@cpan.org&gt;
CommitDate: Thu Nov 20 21:45:18 2014 -0700

    Deprecate setting ${^ENCODING}
    
    The commiter added a no warnings in t/op/leaky-magic.t, and made other
    minor changes because of rebasing issues.
commit 3e66930
Author:     Karl Williamson &lt;khw@cpan.org&gt;
AuthorDate: Tue Nov 18 17:03:03 2014 -0700
Commit:     Karl Williamson &lt;khw@cpan.org&gt;
CommitDate: Thu Nov 20 21:45:18 2014 -0700

    Make encoding pragma lexical in scope
    
    The encoding pragma is deprecated, but in the meantime it causes spooky
    action at a distance with other modules that it may be combined with.
    In these modules, operations such as chr&#40;&#41;, ord&#40;&#41;, and utf8::upgrade&#40;&#41;
    will suddenly start doing the wrong thing.
    
    The documentation for &#39;encoding&#39; has said to call it after loading other
    modules, but this may be impractical.  This is especially bad with
    anything that auto-loads at first use, like \N{} does now for charnames.
    
    There is an issue with combining this with setting the variable
    ${^ENCODING} directly.  The potential for conflicts has always been
    there, and remains.  This commit introduces a shadow hidden variable,
    subservient to ${^ENCODING} &#40;to preserve backwards compatibility&#41; that
    has lexical scope validity.
    
    The pod for &#39;encoding&#39; has been revamped to be more concise, clear, use
    more idiomatic English, and to speak from a modern perspective.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1462956" href="/Public/Bug/Display.html?id=101046#txn-1462956">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;11&nbsp;23:18:36&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1473000" href="/Public/Bug/Display.html?id=101046#txn-1473000">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;12&nbsp;19:27:48&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1473000/784398/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/784398">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-12-20 16:50:12, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/encoding.t ...............
&gt; Failed 2/31 subtests
&gt; 
&gt; ...
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/encoding.t             &#40;Wstat: 0 Tests: 31 Failed: 2&#41;
&gt;   Failed tests:  12, 14
&gt; 
&gt; 
&gt; Fail happens on a Debian/wheezy and FreeBSD 9.2 system.
&gt; 
&gt; Interestingly &#34;make test&#34; of perl 5.21.7 went fine without errors on
&gt; these systems, and the bundled Encode version seems to be the same...
</div>
Seems to be fixed with 2.71.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1473003" href="/Public/Bug/Display.html?id=101046#txn-1473003">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;12&nbsp;19:27:54&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1473005" href="/Public/Bug/Display.html?id=101046#txn-1473005">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;12&nbsp;19:27:54&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Fixed in 2.71 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.540674</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
