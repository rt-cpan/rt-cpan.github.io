<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #41257 for HTML-TagCloud: Add support for &#40;optional&#41; title</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #41257 for HTML-TagCloud: Add support for &#40;optional&#41; title</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=HTML-TagCloud">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=HTML-TagCloud">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=HTML-TagCloud">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=HTML-TagCloud">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTML-TagCloud">HTML-TagCloud CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">41257</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1 hour (60 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=HTML-TagCloud">HTML-TagCloud</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jpierce [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-16040-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.34    </td>
  </tr>
  <tr id="CF-16041-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=41257">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537740" href="/Public/Bug/Display.html?id=41257#txn-537740">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;27&nbsp;01:39:37&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Add support for &#40;optional&#41; title</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/537740/269934/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/269934">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 275b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">In particular, I&#39;d find it useful for links to have titles that show the 
use count of the tag. Others might want to provide long descriptions of
tags, etc.

You may want to accept tuples, instead of ordinal parameters then.
And also to allow a default base on instantiation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537910" href="/Public/Bug/Display.html?id=41257#txn-537910">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;27&nbsp;13:59:10&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [patch] Add support for &#40;optional&#41; title &#38; base</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/537910/270035/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/270035">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#The note about base was actually from me misreading my use;
#saw the period as a comma; but it seemed a useful feature anyways
diff -ur HTML-TagCloud-0.34/lib/HTML/TagCloud.pm
HTML-TagCloud-1.00/lib/HTML/TagCloud.pm
--- HTML-TagCloud-0.34/lib/HTML/TagCloud.pm     2006-11-07
16:05:17.000000000 -0500
+++ HTML-TagCloud-1.00/lib/HTML/TagCloud.pm     2008-11-27
13:52:45.000000000 -0500
@@ -1,24 +1,28 @@
 package HTML::TagCloud;
 use strict;
 use warnings;
-our $VERSION = &#39;0.34&#39;;
+our $VERSION = &#39;1.00&#39;;
 
 sub new {
   my $class = shift;
   my $self  = {
-    counts =&gt; {},
-    urls   =&gt; {},
-    levels =&gt; 24,
-    @_
-  };
+              base   =&gt; undef,
+              levels =&gt; 24,
+              @_,
+              _counts =&gt; {},
+              _title  =&gt; {},
+              _urls   =&gt; {},
+             };
   bless $self, $class;
   return $self;
 }
 
 sub add {
-  my&#40;$self, $tag, $url, $count&#41; = @_;
-  $self-&gt;{counts}-&gt;{$tag} = $count;
-  $self-&gt;{urls}-&gt;{$tag} = $url;
+  my&#40;$self, %args&#41; = @_;
+  $self-&gt;{_count}-&gt;{$args{tag}} = $args{count};
+  $self-&gt;{_title}-&gt;{$args{tag}} = $args{title} if defined&#40;$args{title}&#41;;
+  $self-&gt;{_urls}-&gt;{$args{tag}}  = defined&#40;$self-&gt;{base}&#41; ? 
+    $self-&gt;{base} . $args{url} : $args{url};
 }
 
 sub css {
@@ -39,8 +43,7 @@
 
 sub tags {
   my&#40;$self, $limit&#41; = @_;
-  my $counts = $self-&gt;{counts};
-  my $urls   = $self-&gt;{urls}; 
+  my $counts = $self-&gt;{_count};
   my @tags = sort { $counts-&gt;{$b} &lt;=&gt; $counts-&gt;{$a} } keys %$counts;
   @tags = splice&#40;@tags, 0, $limit&#41; if defined $limit;
 
@@ -66,9 +69,11 @@
     my $tag_item;
     $tag_item-&gt;{name} = $tag;
     $tag_item-&gt;{count} = $counts-&gt;{$tag};
-    $tag_item-&gt;{url}   = $urls-&gt;{$tag};
+    $tag_item-&gt;{url}   = $self-&gt;{_urls}-&gt;{$tag};
+    #XXX
+    $tag_item-&gt;{title} = $self-&gt;{_title}-&gt;{$tag};
     $tag_item-&gt;{level} = int&#40;&#40;log&#40;$tag_item-&gt;{count}&#41; - $min&#41; * $factor&#41;;
-    push @tag_items,$tag_item;
+    push @tag_items, $tag_item;
   }
   return @tag_items;
 }
@@ -77,23 +82,18 @@
   my&#40;$self, $limit&#41; = @_;
   my @tags=$self-&gt;tags&#40;$limit&#41;;
 
-  my $ntags = scalar&#40;@tags&#41;;
-  if &#40;$ntags == 0&#41; {
-    return &#34;&#34;;
-  } elsif &#40;$ntags == 1&#41; {
-    my $tag = $tags[0];
-    return qq{&lt;div id=&#34;htmltagcloud&#34;&gt;&lt;span class=&#34;tagcloud1&#34;&gt;&lt;a href=&#34;}.
-       $tag-&gt;{url}.qq{&#34;&gt;}.$tag-&gt;{name}.qq{&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;\n};
-  }
+  return&#40;&#39;&#39;&#41; unless scalar&#40;@tags&#41;;
 
 #  warn &#34;min $min - max $max &#40;$factor&#41;&#34;;
 #  warn&#40;&#40;$min - $min&#41; * $factor&#41;;
 #  warn&#40;&#40;$max - $min&#41; * $factor&#41;;
 
-  my $html = &#34;&#34;;
+  my $html = &#39;&#39;;
   foreach my $tag &#40;@tags&#41; {
-    $html .=  qq{&lt;span class=&#34;tagcloud}.$tag-&gt;{level}.qq{&#34;&gt;&lt;a
href=&#34;}.$tag-&gt;{url}.
-             qq{&#34;&gt;}.$tag-&gt;{name}.qq{&lt;/a&gt;&lt;/span&gt;\n};
+    $html .= sprintf qq&#40;&lt;span class=&#34;tagcloud%i&#34;&gt;&lt;a
href=&#34;%s&#34;%s&gt;%s&lt;/a&gt;&lt;/span&gt;\n&#41;,
+      $tag-&gt;{level}, $tag-&gt;{url},
+       &#40;defined&#40;$tag-&gt;{title}&#41; ? qq&#40; title=&#34;$tag-&gt;{title}&#34;&#41; : &#39;&#39;&#41;,
+        $tag-&gt;{name};
   }
   $html = qq{&lt;div id=&#34;htmltagcloud&#34;&gt;
 $html&lt;/div&gt;};
@@ -143,11 +143,13 @@
 
 =head2 new
 
-The constructor takes one optional argument:
+The constructor accepts two optional arguments:
+
+  my $cloud = HTML::TagCloud-&gt;new&#40;levels=&gt;10, base=&gt;<span class="clickylink"><a target="new" rel="nofollow" href="http://example.com/&#41;">http://example.com/&#41;</a></span>;
 
-  my $cloud = HTML::TagCloud-&gt;new&#40;levels=&gt;10&#41;;
+If not provided, levels defaults to 24.
 
-if not provided, levels defaults to 24
+If provided, base is prepended to all added URLs.
 
 =head1 METHODS
 
@@ -156,10 +158,13 @@
 This module adds a tag into the cloud. You pass in the tag name, its URL
 and its count:
 
-  $cloud-&gt;add&#40;$tag1, $url1, $count1&#41;;
-  $cloud-&gt;add&#40;$tag2, $url2, $count2&#41;;
-  $cloud-&gt;add&#40;$tag3, $url3, $count3&#41;;
-
+  $cloud-&gt;add&#40;tag=&gt;$tag1, url=&gt;$url1, count=&gt;$count1&#41;;
+  $cloud-&gt;add&#40;tag=&gt;$tag2, url=&gt;$url2, count=&gt;$count2&#41;;
+  $cloud-&gt;add&#40;tag=&gt;$tag3, url=&gt;$url3, count=&gt;$count3&#41;;
+
+You can optionally supply a title parameter, which some user agents may
+show as a tooltip. Possible uses included number of occurences, title of
+linked page, etc.
 
 =head2 tags&#40;$limit&#41;
 
@@ -192,7 +197,8 @@
 
 =head1 AUTHOR
 
-Leon Brocard, C&lt;&lt; &lt;acme@astray.com&gt; &gt;&gt;.
+Leon Brocard, L&lt;acme@astray.com&gt;,
+with contributions from Jerrad Pierce L&lt;jpierce@cpan.org&gt;.
 
 =head1 COPYRIGHT
 
@@ -200,4 +206,3 @@
 
 This module is free software; you can redistribute it or modify it
 under the same terms as Perl itself.
-
Only in HTML-TagCloud-1.00/: Makefile
diff -ur HTML-TagCloud-0.34/MANIFEST HTML-TagCloud-1.00/MANIFEST
--- HTML-TagCloud-0.34/MANIFEST 2006-11-07 16:05:17.000000000 -0500
+++ HTML-TagCloud-1.00/MANIFEST 2008-11-27 13:53:02.000000000 -0500
@@ -7,4 +7,5 @@
 t/pod.t
 t/pod_coverage.t
 t/simple.t
+t/extend.t
 META.yml
diff -ur HTML-TagCloud-0.34/META.yml HTML-TagCloud-1.00/META.yml
--- HTML-TagCloud-0.34/META.yml 2006-11-07 16:05:17.000000000 -0500
+++ HTML-TagCloud-1.00/META.yml 2008-11-27 13:54:57.000000000 -0500
@@ -1,8 +1,11 @@
---- #YAML:1.0
-name: HTML-TagCloud
-version: 0.34
-author:
-  - Leon Brocard, C&lt;&lt; &lt;acme@astray.com&gt; &gt;&gt;.
-abstract: Generate An HTML Tag Cloud
-license: perl
-generated_by: Module::Build version 0.2612, without YAML.pm
+# <span class="clickylink"><a target="new" rel="nofollow" href="http://module-build.sourceforge.net/META-spec.html">http://module-build.sourceforge.net/META-spec.html</a></span>
+#XXXXXXX This is a prototype!!!  It will change in the future!!! XXXXX#
+name:         HTML-TagCloud
+version:      1.00
+version_from: lib/HTML/TagCloud.pm
+installdirs:  site
+requires:
+    Test::More:                    0
+
+distribution_type: module
+generated_by: ExtUtils::MakeMaker version 6.17
Only in HTML-TagCloud-1.00/: pm_to_blib
Only in HTML-TagCloud-1.00/t: extend.t
diff -ur HTML-TagCloud-0.34/t/simple.t HTML-TagCloud-1.00/t/simple.t
--- HTML-TagCloud-0.34/t/simple.t       2006-11-07 16:05:17.000000000 -0500
+++ HTML-TagCloud-1.00/t/simple.t       2008-11-27 13:29:08.000000000 -0500
@@ -10,7 +10,7 @@
 foreach my $tag &#40;keys %$tags&#41; {
   my $count = $tags-&gt;{$tag};
   my $url   = &#34;/show/$tag&#34;;
-  $cloud-&gt;add&#40;$tag, $url, $count&#41;;
+  $cloud-&gt;add&#40;tag=&gt;$tag, url=&gt;$url, count=&gt;$count&#41;;
 }
 
 my $css = $cloud-&gt;css;
@@ -20,8 +20,9 @@
 is&#40;$html, &#34;&#34;&#41;;
 
 $html = $cloud-&gt;html&#40;1&#41;;
-is&#40;$html, q{&lt;div id=&#34;htmltagcloud&#34;&gt;&lt;span class=&#34;tagcloud1&#34;&gt;&lt;a
href=&#34;/show/florida&#34;&gt;florida&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;
-}&#41;;
+is&#40;$html, q{&lt;div id=&#34;htmltagcloud&#34;&gt;
+&lt;span class=&#34;tagcloud1&#34;&gt;&lt;a href=&#34;/show/florida&#34;&gt;florida&lt;/a&gt;&lt;/span&gt;
+&lt;/div&gt;}&#41;;
 
 $html = $cloud-&gt;html&#40;2&#41;;
 is&#40;$html, q{&lt;div id=&#34;htmltagcloud&#34;&gt;
@@ -49,9 +50,9 @@
 is&#40;lines&#40;$html&#41;, 351&#41;;
 
 $cloud = HTML::TagCloud-&gt;new;
-$cloud-&gt;add&#40;&#34;a&#34;, &#34;a.html&#34;, 10&#41;;
-$cloud-&gt;add&#40;&#34;b&#34;, &#34;b.html&#34;, 10&#41;;
-$cloud-&gt;add&#40;&#34;c&#34;, &#34;c.html&#34;, 10&#41;;
+$cloud-&gt;add&#40;tag=&gt;&#34;a&#34;, url=&gt;&#34;a.html&#34;, count=&gt;10&#41;;
+$cloud-&gt;add&#40;tag=&gt;&#34;b&#34;, url=&gt;&#34;b.html&#34;, count=&gt;10&#41;;
+$cloud-&gt;add&#40;tag=&gt;&#34;c&#34;, url=&gt;&#34;c.html&#34;, count=&gt;10&#41;;
 
 $html = $cloud-&gt;html&#40;&#41;;
 is&#40;$html, q{&lt;div id=&#34;htmltagcloud&#34;&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537912" href="/Public/Bug/Display.html?id=41257#txn-537912">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;27&nbsp;13:59:12&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-538350" href="/Public/Bug/Display.html?id=41257#txn-538350">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;28&nbsp;19:05:46&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Add support for &#40;optional&#41; title... forgot t/extend.t</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/538350/270315/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/270315">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 847b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!perl
use strict;
use Test::More tests =&gt; 2;
use_ok&#40;&#39;HTML::TagCloud&#39;&#41;;

my $cloud = HTML::TagCloud-&gt;new&#40;base=&gt;&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://localhost/show/&#39;&#41;">http://localhost/show/&#39;&#41;</a></span>;

my $tags = tags&#40;&#41;;
foreach my $tag &#40;keys %$tags&#41; {
  my $count = $tags-&gt;{$tag};
  $cloud-&gt;add&#40;tag=&gt;$tag, url=&gt;$tag, count=&gt;$count, title=&gt;$count&#41;;
}

my $html = $cloud-&gt;html&#40;5&#41;;
is&#40;$html, q{&lt;div id=&#34;htmltagcloud&#34;&gt;
&lt;span class=&#34;tagcloud5&#34;&gt;&lt;a href=&#34;http://localhost/show/florida&#34;
title=&#34;282&#34;&gt;florida&lt;/a&gt;&lt;/span&gt;
&lt;span class=&#34;tagcloud0&#34;&gt;&lt;a href=&#34;http://localhost/show/fort&#34;
title=&#34;165&#34;&gt;fort&lt;/a&gt;&lt;/span&gt;
&lt;span class=&#34;tagcloud1&#34;&gt;&lt;a href=&#34;http://localhost/show/london&#34;
title=&#34;197&#34;&gt;london&lt;/a&gt;&lt;/span&gt;
&lt;span class=&#34;tagcloud2&#34;&gt;&lt;a href=&#34;http://localhost/show/madagascar&#34;
title=&#34;224&#34;&gt;madagascar&lt;/a&gt;&lt;/span&gt;
&lt;span class=&#34;tagcloud3&#34;&gt;&lt;a href=&#34;http://localhost/show/tanja&#34;
title=&#34;248&#34;&gt;tanja&lt;/a&gt;&lt;/span&gt;
&lt;/div&gt;}&#41;;

sub tags {
...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-538357" href="/Public/Bug/Display.html?id=41257#txn-538357">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;28&nbsp;19:28:07&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Reference by ticket #39269 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-661596" href="/Public/Bug/Display.html?id=41257#txn-661596">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;07:12:46&nbsp;2009</span>
    <span class="description">dland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/661596/339390/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/339390">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 434b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 27 01:39:37 2008, JPIERCE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In particular, I&#39;d find it useful for links to have titles that show the 
&gt; use count of the tag. Others might want to provide long descriptions of
&gt; tags, etc.
&gt; 
&gt; You may want to accept tuples, instead of ordinal parameters then.
&gt; And also to allow a default base on instantiation.
</div>
You might want to look at the patch I just filed &#40;cpan #49549&#41;, which is
Another Way To Do it.

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-661731" href="/Public/Bug/Display.html?id=41257#txn-661731">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;10:55:46&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/661731/339482/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/339482">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 330b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; You may want to accept tuples, instead of ordinal parameters then.
&gt; &gt; And also to allow a default base on instantiation.
</div>Thanks, but this ticket&#39;s been open for so long I simply pulled the
relevant chunks of TagCloud into RTx::Tags and modified as necessary.
In so doing I also added support for the use of a common URL base.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.39589</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
