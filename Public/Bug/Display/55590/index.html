<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #55590 for ExtUtils-MakeMaker: Unbalanced { in generated Makefile</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #55590 for ExtUtils-MakeMaker: Unbalanced { in generated Makefile</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-MakeMaker">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-MakeMaker">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-MakeMaker">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-MakeMaker">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">55590</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-MakeMaker">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ETJ [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
p.j.m.vanderslot [...] utwente.nl

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
6.56    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
7.00    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Makefile<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/748160/386881/Makefile">
Mon Mar 15 09:47:12 2010 (34k) by p.j.m.vanderslot [...] utwente.nl
</a>
</font></li>
</ul>


Makefile.PL<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/748160/386882/Makefile.PL">
Mon Mar 15 09:47:13 2010 (638b) by p.j.m.vanderslot [...] utwente.nl
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=55590">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748160" href="/Public/Bug/Display.html?id=55590#txn-748160">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;15&nbsp;09:47:12&nbsp;2010</span>
    <span class="description">p.j.m.vanderslot [...] utwente.nl -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Unbalanced { in generated Makefile</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/748160/386880/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/386880">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Running &#34;perl Makefile.PL&#34; generates a Makefile. Executing &#34;make&#34; at 
the commandline to run this file aborts with

C:\Users\peter\opc\Physics-OPC-0.7.4&gt;make
syntax error at -e line 1, next char &#41;
Missing right curly or square bracket at -e line 1, at end of line
Execution of -e aborted due to compilation errors.
make: *** [pm_to_blib] Error 255

I believe that the problem is due to unbalanced {} brackets in the 
generated Makefile, e.g. 

MOD_INSTALL = $&#40;ABSPERLRUN&#41; -MExtUtils::Install -e &#34;install&#40;[ from_to 
=&gt; {{@ARGV}, verbose =&gt; &#39;$&#40;VERBINST&#41;&#39;, uninstall_shadows 
=&gt; &#39;$&#40;UNINST&#41;&#39;, dir_mode =&gt; &#39;$&#40;PERM_DIR&#41;&#39; ]&#41;;&#34; --

If you search for {{ you find more occurences in the attached Makefile.

Makemaker version: 6.56
Perl version:
C:\Users\peter\opc\Physics-OPC-0.7.4&gt;perl -v

This is perl, v5.10.1 built for MSWin32-x64-multi-thread
&#40;with 2 registered patches, see perl -V for more detail&#41;

Copyright 1987-2009, Larry Wall

Binary build 1007 [291969] provided by ActiveState 
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Jan 27 2010 14:12:21

Operating system:
Windows 7 Ultimate 64 bit &#40;running in a virtual machine on VMware 
Server 2.0, host operating system is Ubuntu 9.04 &#40;64 bit&#41;&#41;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748160/386881/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">text/plain 34k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile.PL</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748160/386882/Makefile.PL">Download Makefile.PL</a><br />
<span class="downloadcontenttype">text/x-perl 638b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use ExtUtils::MakeMaker;

@names = qw/opc_optics opc_fourier opc_utils dfl2txt dfl_utils dfl_gauss opld_gen convert_opld/;

@EXE = map &#34;optics/$_&#34;, @names;
@EXE = map &#34;$_.exe&#34;, @EXE if $^O eq &#39;MSWin32&#39;;
%MAN = map { &#40;&#34;man1/$_.pod&#34; =&gt; &#34;blib/man1/$_.1&#34;&#41; } @names;

WriteMakefile&#40;
	NAME		=&gt; &#39;Physics::OPC&#39;,
	VERSION		=&gt; &#39;0.7.4&#39;,
	AUTHOR		=&gt; &#39;Peter van der Slot &lt;p.j.m.vanderslot@utwente.nld&gt;&#39;,
	PREREQ_PM	=&gt; { 
		&#39;Carp&#39;		=&gt; 0,
		&#39;Exporter&#39;	=&gt; 0,
		&#39;File::Spec&#39;	=&gt; 0,
		&#39;POSIX&#39;		=&gt; 0,
		&#39;Env&#39;		=&gt; 0,
		&#39;IPC::Open2&#39;	=&gt; 0,
	},
	PL_FILES	=&gt; {&#39;optics/Make.PL&#39; =&gt; \@EXE},
	EXE_FILES	=&gt; \@EXE,
	MAN1PODS	=&gt; \%MAN,
	clean		=&gt; {FILES =&gt; &#34;@EXE&#34;},
&#41;;

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748498" href="/Public/Bug/Display.html?id=55590#txn-748498">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;15&nbsp;19:45:07&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55590] Unbalanced { in generated Makefile</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 15 Mar 2010 16:44:06 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748498/387052/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/387052">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 899b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Peter van der Slot via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Running &#34;perl Makefile.PL&#34; generates a Makefile. Executing &#34;make&#34; at 
&gt; the commandline to run this file aborts with
&gt; 
&gt; C:\Users\peter\opc\Physics-OPC-0.7.4&gt;make
&gt; syntax error at -e line 1, next char &#41;
&gt; Missing right curly or square bracket at -e line 1, at end of line
&gt; Execution of -e aborted due to compilation errors.
&gt; make: *** [pm_to_blib] Error 255
</div>
My guess is your make is GNU make.  MakeMaker will not generate a GNU 
compatible Makefile on Windows.  It is instead dmake or nmake.  According to 
your Makefile it is dmake &#40;see MAKE = dmake&#41;.

Try running the Makefile with dmake.  If you don&#39;t already have it installed 
you can get a copy here.
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/dmake/">http://search.cpan.org/dist/dmake/</a></span>


-- 
164. There is no such thing as a were-virgin.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748501" href="/Public/Bug/Display.html?id=55590#txn-748501">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;15&nbsp;19:45:13&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748723" href="/Public/Bug/Display.html?id=55590#txn-748723">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;16&nbsp;10:54:30&nbsp;2010</span>
    <span class="description">p.j.m.vanderslot [...] utwente.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> p.j.m.vanderslot [...] utwente.nl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748723/387170/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/387170">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 15 19:45:07 2010, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Peter van der Slot via RT wrote:
<div class="message-stanza open">&gt; &gt; Running &#34;perl Makefile.PL&#34; generates a Makefile. Executing &#34;make&#34; at
&gt; &gt; the commandline to run this file aborts with
&gt; &gt;
&gt; &gt; C:\Users\peter\opc\Physics-OPC-0.7.4&gt;make
&gt; &gt; syntax error at -e line 1, next char &#41;
&gt; &gt; Missing right curly or square bracket at -e line 1, at end of line
&gt; &gt; Execution of -e aborted due to compilation errors.
&gt; &gt; make: *** [pm_to_blib] Error 255
</div>&gt; 
&gt; My guess is your make is GNU make.  MakeMaker will not generate a GNU
&gt; compatible Makefile on Windows.  It is instead dmake or nmake.
&gt; According to
&gt; your Makefile it is dmake &#40;see MAKE = dmake&#41;.
&gt; 
&gt; Try running the Makefile with dmake.  If you don&#39;t already have it
&gt; installed
&gt; you can get a copy here.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/dmake/">http://search.cpan.org/dist/dmake/</a></span>
&gt; 
&gt; 
</div>
I will do this, however trying the same using Perl V5.10.0 on Ubuntu
9.04, Mac OSX 10.6.2 and Windows XP the Makefile that is produced can be
used in combination with GNU make. The version of Makemaker on Windows
XP was 6.42_01 with revision 41145. I inspected the Makefile that was
produced on the WinXP system and this file contained no unbalanced { }
brackets. The Makemaker verion on Ubuntu 9.04 was 6.42, revision 41145. 

Note, if I manually adjust the mismatch in {} brackets, I can use the
Makefile with GNU make. So I still have the impression that something is
not right.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748819" href="/Public/Bug/Display.html?id=55590#txn-748819">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;16&nbsp;13:46:29&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55590] Unbalanced { in generated Makefile</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Mar 2010 10:45:23 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748819/387213/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/387213">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Peter van der Slot via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I will do this, however trying the same using Perl V5.10.0 on Ubuntu
&gt; 9.04, Mac OSX 10.6.2 and Windows XP the Makefile that is produced can be
&gt; used in combination with GNU make.  The version of Makemaker on Windows
&gt; XP was 6.42_01 with revision 41145. I inspected the Makefile that was
&gt; produced on the WinXP system and this file contained no unbalanced { }
&gt; brackets. The Makemaker verion on Ubuntu 9.04 was 6.42, revision 41145. 
 &gt;
&gt; Note, if I manually adjust the mismatch in {} brackets, I can use the
&gt; Makefile with GNU make. So I still have the impression that something is
&gt; not right.
</div>
I assure you, this is situation normal.

The issue is that dmake has a non-standard macro expansion which turns 
&#34;foo/{bar baz}&#34; into &#34;foo/bar foo/baz&#34; and thus curly brackets must be 
escaped.  See <span class="clickylink"><a target="new" rel="nofollow" href="http://tools.openoffice.org/dmake/dmake_4.3.html">http://tools.openoffice.org/dmake/dmake_4.3.html</a></span> for the torrid 
details, specifically the end of &#34;MACROS&#34; and also &#34;RUNTIME MACROS&#34;.  This is 
specifically dealt with in ExtUtils::MM_Win32-&gt;quote_literal&#40;&#41;.

The Makefile produced on Unix systems is designed to work with GNU and BSD 
make as those are the most commonly available.  On Windows its designed to 
work with either dmake or nmake as those are the most commonly available.

Because there are only slight differences between what GNU make and dmake will 
accept, and because MakeMaker is in general VERY conservative and only uses 
make specific syntax when there&#39;s no other option, you might be able to get 
GNU make to work with some projects and some versions of MakeMaker.

Its possible to reduce the number of braces used in the Makefile, for example 
we could quote Perl one liners with q[] instead of q{}.  It would be a fairly 
rote job.


-- 
Alligator sandwich, and make it snappy!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748842" href="/Public/Bug/Display.html?id=55590#txn-748842">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;16&nbsp;14:37:14&nbsp;2010</span>
    <span class="description">p.j.m.vanderslot [...] utwente.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55590] Unbalanced { in generated Makefile</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Mar 2010 19:35:49 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter van der Slot &lt;p.j.m.vanderslot [...] utwente.nl&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748842/387225/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/387225">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for your explanation. I will have to consider my options since the
software package I am writing needs to run under linux, windows and OS X. As
GNU make is available for windows as well, I thought to use GNU make on all
three platforms as I have a non Makemaker generated Makefile as well.
To avoid problems, I have to figure out how to have Makemaker generate the
other Makefile as well so that the installation becomes transparent for the
various platforms. 

Regards, 

Peter


On 16/03/2010 18:46, &#34;Michael G Schwern via RT&#34;
&lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55590">https://rt.cpan.org/Ticket/Display.html?id=55590</a></span> &gt;
&gt; 
&gt; Peter van der Slot via RT wrote:
<div class="message-stanza open">&gt;&gt; I will do this, however trying the same using Perl V5.10.0 on Ubuntu
&gt;&gt; 9.04, Mac OSX 10.6.2 and Windows XP the Makefile that is produced can be
&gt;&gt; used in combination with GNU make.  The version of Makemaker on Windows
&gt;&gt; XP was 6.42_01 with revision 41145. I inspected the Makefile that was
&gt;&gt; produced on the WinXP system and this file contained no unbalanced { }
&gt;&gt; brackets. The Makemaker verion on Ubuntu 9.04 was 6.42, revision 41145.
&gt;&gt; 
&gt;&gt; Note, if I manually adjust the mismatch in {} brackets, I can use the
&gt;&gt; Makefile with GNU make. So I still have the impression that something is
&gt;&gt; not right.
</div>&gt; 
&gt; I assure you, this is situation normal.
&gt; 
&gt; The issue is that dmake has a non-standard macro expansion which turns
&gt; &#34;foo/{bar baz}&#34; into &#34;foo/bar foo/baz&#34; and thus curly brackets must be
&gt; escaped.  See <span class="clickylink"><a target="new" rel="nofollow" href="http://tools.openoffice.org/dmake/dmake_4.3.html">http://tools.openoffice.org/dmake/dmake_4.3.html</a></span> for the torrid
&gt; details, specifically the end of &#34;MACROS&#34; and also &#34;RUNTIME MACROS&#34;.  This is
&gt; specifically dealt with in ExtUtils::MM_Win32-&gt;quote_literal&#40;&#41;.
&gt; 
&gt; The Makefile produced on Unix systems is designed to work with GNU and BSD
&gt; make as those are the most commonly available.  On Windows its designed to
&gt; work with either dmake or nmake as those are the most commonly available.
&gt; 
&gt; Because there are only slight differences between what GNU make and dmake will
&gt; accept, and because MakeMaker is in general VERY conservative and only uses
&gt; make specific syntax when there&#39;s no other option, you might be able to get
&gt; GNU make to work with some projects and some versions of MakeMaker.
&gt; 
&gt; Its possible to reduce the number of braces used in the Makefile, for example
&gt; we could quote Perl one liners with q[] instead of q{}.  It would be a fairly
&gt; rote job.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-748892" href="/Public/Bug/Display.html?id=55590#txn-748892">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;16&nbsp;15:54:00&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55590] Unbalanced { in generated Makefile</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Mar 2010 12:53:00 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/748892/387259/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/387259">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Peter van der Slot via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you for your explanation. I will have to consider my options since the
&gt; software package I am writing needs to run under linux, windows and OS X. As
&gt; GNU make is available for windows as well, I thought to use GNU make on all
&gt; three platforms as I have a non Makemaker generated Makefile as well.
 &gt;
&gt; To avoid problems, I have to figure out how to have Makemaker generate the
&gt; other Makefile as well so that the installation becomes transparent for the
&gt; various platforms. 
</div>
You might try passing &#34;MAKE =&gt; &#39;make&#39;&#34; into WriteMakefile&#40;&#41;.  MakeMaker 
determines what style of Makefile to write based on MAKE &#40;or $Config{make}&#41;. 
This will turn off most, but not all, of the special dmake and nmake code in 
MakeMaker on Windows.

One solution would be to just avoid the {foo} construct in your hand written 
Makefile, as well as any GNU-isms.  Then it should work with both dmake and 
GNU make.

Another is to patch up MakeMaker to work with GNU make on Windows.  Its been 
on the back burner for a while, but nobody&#39;s taken a swipe at it.  The welding 
of make variant with operating system and file system is a design flaw in 
MakeMaker.

If it truly is another Makefile you&#39;re in trouble, MakeMaker really isn&#39;t set 
up to write generic Makefiles.  If you&#39;re feeling bold, you can make use of 
various pieces of MakeMaker to handle quoting and cross platform macros.  The 
important ones are cd&#40;&#41;, oneliner&#40;&#41;, quote_literal&#40;&#41;, escape_quotes&#40;&#41; and 
init_others&#40;&#41; and tools_other&#40;&#41;.  They&#39;re all documented in ExtUtils::MM_Any 
and accessible through the MakeMaker object.


-- 
31. Not allowed to let sock puppets take responsibility for any of my
     actions.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447498" href="/Public/Bug/Display.html?id=55590#txn-1447498">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:43:57&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447498/769625/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769625">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 129b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 16 15:54:00 2010, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another is to patch up MakeMaker to work with GNU make on Windows.
</div>
Done.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447501" href="/Public/Bug/Display.html?id=55590#txn-1447501">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:43:59&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447503" href="/Public/Bug/Display.html?id=55590#txn-1447503">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:44:04&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447504" href="/Public/Bug/Display.html?id=55590#txn-1447504">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:44:04&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Fixed in 7.00 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.347769</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
