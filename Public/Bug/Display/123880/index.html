<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #123880 for Math-BigInt-GMP: Adding Alien::GMP As Dependency</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #123880 for Math-BigInt-GMP: Adding Alien::GMP As Dependency</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Math-BigInt-GMP">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Math-BigInt-GMP">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Math-BigInt-GMP">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Math-BigInt-GMP">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-BigInt-GMP">Math-BigInt-GMP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">123880</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Math-BigInt-GMP">Math-BigInt-GMP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
WBRASWELL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
PLICEASE [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-20512-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-20513-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=123880">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762219" href="/Public/Bug/Display.html?id=123880#txn-1762219">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;16:01:30&nbsp;2017</span>
    <span class="description">WBRASWELL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Graham Ollis&#34; &lt;plicease [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Adding Alien::GMP As Dependency</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762219/948393/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948393">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 681b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am the author of the RPerl optimizing compiler, which makes use of Math::BigInt::GMP.

Graham has a great CPAN distribution called Alien::GMP, which will automatically detect if GMP is installed, and if not then it will build GMP for you independent of OS.

Alien::GMP has no affect upon systems which already have GMP installed via the OS, so Alien::GMP will only build libgmp from source when it is actually necessary.

Will you please consider adding Alien::GMP as a dependency of Math::BigInt::GMP?

Thanks,
~ Will


PS - I will be happy to make a pull request if there is an official GitHub repo?


[ Placeholder GitHub Issue ]

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rsimoes/Alien-GMP/issues/6">https://github.com/rsimoes/Alien-GMP/issues/6</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1785915" href="/Public/Bug/Display.html?id=123880#txn-1785915">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;11&nbsp;06:16:46&nbsp;2018</span>
    <span class="description">peter.john.acklam [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1785915/960616/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/960616">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Firstly, I don&#39;t think Math::BigInt::GMP was ever intended to be used directly, but rather as a backend called by Math::BigInt, Math::BigFloat, and Math::BigRat.

Secondly, Math::BigInt::GMP has hardly any dependencies. Adding Alien::GMP as a dependency introduces a whole lot of subdependencies.

Alien::GMP requires Alien::Build and Alien::Build::MM, which in turn require FFI::CheckLib, File::chdir, Test2::Mock, Test2::Require, Test2::Require::Module, and Test2::V0. The Test2-Suite distribution requires Importer, Module::Pluggable, Scope::Guard, Sub::Info, Sub::Name, Term::Size::Any, Term::Table, Test2::API, Unicode::GCString, and Unicode::LineBreak.

But that&#39;s not enough. Further down in the depencency tree you find Devel::Hide, Pod::Coverage, Test::Pod::Coverage, and Test::Pod. And there is B::C, B::Flags, and Opcodes. The list of dependencies goes on and on and on. I started installing Alien::GMP on Cygwin more than one and a half hour ago, and its still working on it.

By the way, B::C didn&#39;t even compile, so I don&#39;t even know yet if installing Alien::GMP will ever work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1785916" href="/Public/Bug/Display.html?id=123880#txn-1785916">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;11&nbsp;06:16:47&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1785933" href="/Public/Bug/Display.html?id=123880#txn-1785933">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;11&nbsp;10:39:07&nbsp;2018</span>
    <span class="description">peter.john.acklam [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1785933/960627/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/960627">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">After about fours, Alien::GMP was finally installed. In addition to the 6 files in the Alien-GMP distribution, 643 other files in the following distributions were also installed:

A/AN/ANDK/Devel-Symdump-2.18.tar.gz
C/CH/CHOCOLATE/Scope-Guard-0.21.tar.gz
C/CH/CHROMATIC/SUPER-1.20141117.tar.gz
D/DA/DAGOLDEN/File-chdir-0.1010.tar.gz
E/ET/ETHER/Class-Method-Modifiers-2.12.tar.gz
E/ET/ETHER/Sub-Name-0.21.tar.gz
E/ET/ETHER/Test-Pod-1.52.tar.gz
E/ET/ETHER/Test-Warnings-0.026.tar.gz
E/EX/EXODIST/Importer-0.025.tar.gz
E/EX/EXODIST/Sub-Info-0.002.tar.gz
E/EX/EXODIST/Term-Table-0.012.tar.gz
E/EX/EXODIST/Test-Simple-1.302136.tar.gz
E/EX/EXODIST/Test2-Suite-0.000114.tar.gz
F/FE/FERREIRA/Devel-Hide-0.0009.tar.gz
F/FE/FERREIRA/Term-Size-Any-0.002.tar.gz
F/FE/FERREIRA/Term-Size-Perl-0.031.tar.gz
G/GF/GFRANKS/Test-MockModule-0.15.tar.gz
H/HA/HAARG/Role-Tiny-2.000006.tar.gz
M/MA/MATTN/Devel-CheckLib-1.11.tar.gz
N/NE/NEILB/Test-Pod-Coverage-1.10.tar.gz
N/NE/NEZUMI/MIME-Charset-1.012.2.tar.gz
N/NE/NEZUMI/Unicode-LineBreak-2018.003.tar.gz
P/PH/PHRED/Archive-Zip-1.60.tar.gz
P/PL/PLICEASE/Alien-Build-1.42.tar.gz
P/PL/PLICEASE/Alien-Role-Alt-0.03.tar.gz
P/PL/PLICEASE/FFI-CheckLib-0.18.tar.gz
R/RC/RCLAMP/Pod-Coverage-0.23.tar.gz
R/RG/RGARCIA/Sub-Identify-0.14.tar.gz
R/RU/RURBAN/B-Flags-0.17.tar.gz
R/RU/RURBAN/Mock-Config-0.03.tar.gz
R/RU/RURBAN/Opcodes-0.14.tar.gz
S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
T/TO/TOKUHIROM/Test-Requires-0.10.tar.gz
Z/ZE/ZEFRAM/Module-Runtime-0.016.tar.gz

In comparison, installing Math::BigInt::GMP on the same computer took a little over 5 minutes. In other words, including Alien::GMP as a dependency has a tremendous overhead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1791962" href="/Public/Bug/Display.html?id=123880#txn-1791962">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;19&nbsp;16:53:24&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1791962/963801/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/963801">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 313b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This PR:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1">https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1</a></span>

Makes Alien::GMP a fallback dependency if the system lib cannot easily be found with Devel::CheckLib.  This gives most of the advantages of light dependencies if the libgmp is installed on the system, and the reliability of Alien::GMP if it is not.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1792305" href="/Public/Bug/Display.html?id=123880#txn-1792305">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;22&nbsp;03:54:47&nbsp;2018</span>
    <span class="description">peter.john.acklam [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1792305/963954/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/963954">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 473b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 19 16:53:24 2018, PLICEASE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This PR:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1">https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1</a></span>
&gt; 
&gt; &#40;...&#41;
</div>
In previous releases, Math::BigInt::GMP used Devel::CheckLib to see if GMP was installed, but that check was removed because of the following issue

<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=111149">https://rt.cpan.org/Ticket/Display.html?id=111149</a></span>

Devel::CheckLib was not able to detect GMP on Windows, so Math::BigInt::GMP didn&#39;t build even though GMP was installed. Has this issue been fixed?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1792797" href="/Public/Bug/Display.html?id=123880#txn-1792797">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;25&nbsp;07:27:37&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1792797/964179/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964179">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 981b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 22 03:54:47 2018, pjacklam wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Jun 19 16:53:24 2018, PLICEASE wrote:
<div class="message-stanza open">&gt; &gt; This PR:
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1">https://github.com/pjacklam/p5-Math-BigInt-GMP/pull/1</a></span>
&gt; &gt;
&gt; &gt; &#40;...&#41;
</div>&gt; 
&gt; In previous releases, Math::BigInt::GMP used Devel::CheckLib to see if
&gt; GMP was installed, but that check was removed because of the following
&gt; issue
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=111149">https://rt.cpan.org/Ticket/Display.html?id=111149</a></span>
&gt; 
&gt; Devel::CheckLib was not able to detect GMP on Windows, so
&gt; Math::BigInt::GMP didn&#39;t build even though GMP was installed. Has this
&gt; issue been fixed?
</div>
Works for me at least:

N:\lang\perl\strawberry\x86\5.22.1\c\lib&gt;perl -MDevel::CheckLib= -E &#34;say check_lib&#40;lib =&gt; &#39;gmp&#39;, header =&gt; &#39;gmp.h&#39;&#41;&#34;
1

I also double checked and Alien::GMP will use the system libgmp if for some reason Devel::CheckLib fails to find it.  &#40;the methods used by Alien::Build to probe are more complete than what Devel::CheckLib does&#41;.

Also btw- the reqs for Alien::GMP have been reduced since your last build.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1792800" href="/Public/Bug/Display.html?id=123880#txn-1792800">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;25&nbsp;07:29:02&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1792800/964182/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964182">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 307b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jun 25 07:27:37 2018, PLICEASE wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I also double checked and Alien::GMP will use the system libgmp* if for
&gt; some reason Devel::CheckLib fails to find it.  &#40;the methods used by
&gt; Alien::Build to probe are more complete than what Devel::CheckLib
&gt; does&#41;.
</div>
* on windows &#40;or any other platform&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1792867" href="/Public/Bug/Display.html?id=123880#txn-1792867">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;25&nbsp;17:34:40&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1792867/964225/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964225">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 11 10:39:07 2018, pjacklam wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After about fours, Alien::GMP was finally installed. In addition to
&gt; the 6 files in the Alien-GMP distribution, 643 other files in the
&gt; following distributions were also installed:
&gt; 
&gt; A/AN/ANDK/Devel-Symdump-2.18.tar.gz
&gt; C/CH/CHOCOLATE/Scope-Guard-0.21.tar.gz
&gt; C/CH/CHROMATIC/SUPER-1.20141117.tar.gz
&gt; D/DA/DAGOLDEN/File-chdir-0.1010.tar.gz
&gt; E/ET/ETHER/Class-Method-Modifiers-2.12.tar.gz
&gt; E/ET/ETHER/Sub-Name-0.21.tar.gz
&gt; E/ET/ETHER/Test-Pod-1.52.tar.gz
&gt; E/ET/ETHER/Test-Warnings-0.026.tar.gz
&gt; E/EX/EXODIST/Importer-0.025.tar.gz
&gt; E/EX/EXODIST/Sub-Info-0.002.tar.gz
&gt; E/EX/EXODIST/Term-Table-0.012.tar.gz
&gt; E/EX/EXODIST/Test-Simple-1.302136.tar.gz
&gt; E/EX/EXODIST/Test2-Suite-0.000114.tar.gz
&gt; F/FE/FERREIRA/Devel-Hide-0.0009.tar.gz
&gt; F/FE/FERREIRA/Term-Size-Any-0.002.tar.gz
&gt; F/FE/FERREIRA/Term-Size-Perl-0.031.tar.gz
&gt; G/GF/GFRANKS/Test-MockModule-0.15.tar.gz
&gt; H/HA/HAARG/Role-Tiny-2.000006.tar.gz
&gt; M/MA/MATTN/Devel-CheckLib-1.11.tar.gz
&gt; N/NE/NEILB/Test-Pod-Coverage-1.10.tar.gz
&gt; N/NE/NEZUMI/MIME-Charset-1.012.2.tar.gz
&gt; N/NE/NEZUMI/Unicode-LineBreak-2018.003.tar.gz
&gt; P/PH/PHRED/Archive-Zip-1.60.tar.gz
&gt; P/PL/PLICEASE/Alien-Build-1.42.tar.gz
&gt; P/PL/PLICEASE/Alien-Role-Alt-0.03.tar.gz
&gt; P/PL/PLICEASE/FFI-CheckLib-0.18.tar.gz
&gt; R/RC/RCLAMP/Pod-Coverage-0.23.tar.gz
&gt; R/RG/RGARCIA/Sub-Identify-0.14.tar.gz
&gt; R/RU/RURBAN/B-Flags-0.17.tar.gz
&gt; R/RU/RURBAN/Mock-Config-0.03.tar.gz
&gt; R/RU/RURBAN/Opcodes-0.14.tar.gz
&gt; S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
&gt; T/TO/TOKUHIROM/Test-Requires-0.10.tar.gz
&gt; Z/ZE/ZEFRAM/Module-Runtime-0.016.tar.gz
&gt; 
&gt; In comparison, installing Math::BigInt::GMP on the same computer took
&gt; a little over 5 minutes. In other words, including Alien::GMP as a
&gt; dependency has a tremendous overhead.
</div>
I am curious though, old Alien::GMP only installs these prereqs:

authors/id/P/PL/PLICEASE/Alien-Build-1.46.tar.gz
authors/id/P/PL/PLICEASE/File-Which-1.22.tar.gz
authors/id/E/EX/EXODIST/Test2-Suite-0.000114.tar.gz
authors/id/E/EX/EXODIST/Term-Table-0.012.tar.gz
authors/id/E/EX/EXODIST/Importer-0.025.tar.gz
authors/id/E/EX/EXODIST/Test-Simple-1.302136.tar.gz
authors/id/S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
authors/id/C/CH/CHOCOLATE/Scope-Guard-0.21.tar.gz
authors/id/E/EX/EXODIST/Sub-Info-0.002.tar.gz
authors/id/P/PL/PLICEASE/FFI-CheckLib-0.20.tar.gz
authors/id/D/DA/DAGOLDEN/File-chdir-0.1010.tar.gz
authors/id/D/DA/DAGOLDEN/Path-Tiny-0.104.tar.gz
authors/id/D/DA/DAGOLDEN/Capture-Tiny-0.48.tar.gz
authors/id/M/MA/MATTN/Devel-CheckLib-1.13.tar.gz
authors/id/D/DA/DAGOLDEN/IO-CaptureOutput-1.1104.tar.gz
authors/id/R/RU/RURBAN/Mock-Config-0.03.tar.gz
authors/id/H/HA/HAARG/Role-Tiny-2.000006.tar.gz
authors/id/P/PL/PLICEASE/Alien-Role-Alt-0.04.tar.gz
authors/id/E/ET/ETHER/Class-Method-Modifiers-2.12.tar.gz
authors/id/T/TO/TOKUHIROM/Test-Requires-0.10.tar.gz
authors/id/R/RJ/RJBS/Test-Fatal-0.014.tar.gz
authors/id/E/ET/ETHER/Try-Tiny-0.30.tar.gz

Which is not insignificant, but smaller than what you saw.  Things like Test::Pod or B::C should definitely not be required!  Are you sure you are not opting in to recommended or suggested prereqs?

The new list looks like this:

authors/id/P/PL/PLICEASE/Alien-GMP-1.14.tar.gz
authors/id/P/PL/PLICEASE/Alien-Build-1.46.tar.gz
authors/id/P/PL/PLICEASE/File-Which-1.22.tar.gz
authors/id/D/DA/DAGOLDEN/Capture-Tiny-0.48.tar.gz
authors/id/E/EX/EXODIST/Test2-Suite-0.000114.tar.gz
authors/id/E/EX/EXODIST/Sub-Info-0.002.tar.gz
authors/id/E/EX/EXODIST/Importer-0.025.tar.gz
authors/id/C/CH/CHOCOLATE/Scope-Guard-0.21.tar.gz
authors/id/E/EX/EXODIST/Test-Simple-1.302136.tar.gz
authors/id/S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
authors/id/E/EX/EXODIST/Term-Table-0.012.tar.gz
authors/id/D/DA/DAGOLDEN/File-chdir-0.1010.tar.gz
authors/id/D/DA/DAGOLDEN/Path-Tiny-0.104.tar.gz
authors/id/P/PL/PLICEASE/FFI-CheckLib-0.20.tar.gz
authors/id/M/MA/MATTN/Devel-CheckLib-1.13.tar.gz
authors/id/D/DA/DAGOLDEN/IO-CaptureOutput-1.1104.tar.gz
authors/id/R/RU/RURBAN/Mock-Config-0.03.tar.gz
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793168" href="/Public/Bug/Display.html?id=123880#txn-1793168">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;27&nbsp;03:31:56&nbsp;2018</span>
    <span class="description">WBRASWELL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793168/964388/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964388">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 458b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">FYI, there was a copy of this ticket made for the Math::GMP distribution:

<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125018">https://rt.cpan.org/Ticket/Display.html?id=125018</a></span>

Math::GMP was updated to include Alien::GMP as a dependency:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/changes/distribution/Math-GMP">https://metacpan.org/changes/distribution/Math-GMP</a></span>

This seems to pass all CPAN tests just fine, including Windows:

<span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Math-GMP+2.19">http://matrix.cpantesters.org/?dist=Math-GMP+2.19</a></span>

So hopefully this is a good indicator that it is safe to move forward with updating Math::BigInt::GMP?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793430" href="/Public/Bug/Display.html?id=123880#txn-1793430">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;28&nbsp;10:02:31&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793430/964543/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964543">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jun 27 03:31:56 2018, WBRASWELL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; FYI, there was a copy of this ticket made for the Math::GMP
&gt; distribution:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125018">https://rt.cpan.org/Ticket/Display.html?id=125018</a></span>
&gt; 
&gt; Math::GMP was updated to include Alien::GMP as a dependency:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/changes/distribution/Math-GMP">https://metacpan.org/changes/distribution/Math-GMP</a></span>
&gt; 
&gt; This seems to pass all CPAN tests just fine, including Windows:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Math-GMP+2.19">http://matrix.cpantesters.org/?dist=Math-GMP+2.19</a></span>
&gt; 
&gt; So hopefully this is a good indicator that it is safe to move forward
&gt; with updating Math::BigInt::GMP?
</div>
Math::GMP is not using Devel::CheckLib, just Alien::GMP.

As mentioned, the Devel::CheckLib probe seems to be working on my Strawberry 32bit 5.22.1 which is hardly bleeding edge.  IMHO that should be sufficient unless there have been regressions in more recent versions of Strawberry.  If I had more details, such as which version of Strawberry &#40;or maybe it wasn&#39;t Strawberry&#41; or Devel::CheckLib where erroneous I could investigate further.  Although worst case, you&#39;d have to install Alien::GMP which would probably correctly probe for the system libgmp.

An alternative to Devel::CheckLib is ExtUtils::CBuilder.  It is more reliable since you are actually invoking the compiler &#40;this is what Alien::GMP does via Alien::Build&#41;, and ExtUtils::CBuilder is in-core as of recent Perls, but it is also messier.  Part of the rationale behind Alien::Build is that it abstracts a lot of this complexity so that you don&#39;t have to get all of the corner cases right in each individual XS module.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793464" href="/Public/Bug/Display.html?id=123880#txn-1793464">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;28&nbsp;12:15:48&nbsp;2018</span>
    <span class="description">WBRASWELL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793464/964568/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964568">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 138b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Graham, you&#39;re right, sorry I wasn&#39;t thinking about the Devel::CheckLib aspect of things.

I guess we&#39;ll just wait to see what Peter says.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795256" href="/Public/Bug/Display.html?id=123880#txn-1795256">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;09&nbsp;09:36:34&nbsp;2018</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1795256/965477/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/965477">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 136b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">By the way, Alien::GMP is a bundled module with Strawberry Perl as of 5.28:

<span class="clickylink"><a target="new" rel="nofollow" href="http://strawberryperl.com/release-notes/5.28.0.1-64bit.html">http://strawberryperl.com/release-notes/5.28.0.1-64bit.html</a></span>
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.623932</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
