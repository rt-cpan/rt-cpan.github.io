<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #116560 for AnyEvent-Handle-UDP: Remove Moo dependency</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #116560 for AnyEvent-Handle-UDP: Remove Moo dependency</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=AnyEvent-Handle-UDP">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=AnyEvent-Handle-UDP">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=AnyEvent-Handle-UDP">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=AnyEvent-Handle-UDP">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/AnyEvent-Handle-UDP">AnyEvent-Handle-UDP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">116560</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=AnyEvent-Handle-UDP">AnyEvent-Handle-UDP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
alexchandel [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-233074-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-233075-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




UDP.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1655015/888182/UDP.pm">
Tue Aug 02 11:30:18 2016 (13k) by alexchandel [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=116560">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1653623" href="/Public/Bug/Display.html?id=116560#txn-1653623">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;28&nbsp;18:34:00&nbsp;2016</span>
    <span class="description">alexchandel [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Remove Moo dependency</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1653623/887418/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/887418">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 489b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Could you remove the Moo dependency? Moo brings compile-time and runtime overhead, and adds to the dependencies of anyone using AnyEvent-Handle-UDP.

It shouldn&#39;t be hard. The original AnyEvent-Handle doesn&#39;t use any object system, and it does a lot more than AnyEvent-Handle-UDP does.

You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL =&gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can break some programs, and like Moo shouldn&#39;t be forced on the user.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1653658" href="/Public/Bug/Display.html?id=116560#txn-1653658">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;28&nbsp;20:38:45&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1653658/887443/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/887443">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 330b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-07-28 15:34:00, alexchandel@gmail.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL
&gt; =&gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can
&gt; break some programs, and like Moo shouldn&#39;t be forced on the user.
</div>
Neither of these will affect your code. They have limited scope.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1653659" href="/Public/Bug/Display.html?id=116560#txn-1653659">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;28&nbsp;20:38:46&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1653676" href="/Public/Bug/Display.html?id=116560#txn-1653676">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;29&nbsp;00:15:30&nbsp;2016</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> alexchandel [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1653676/887454/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/887454">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 837b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 28 20:38:45 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2016-07-28 15:34:00, alexchandel@gmail.com wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL
&gt; &gt; =&gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can
&gt; &gt; break some programs, and like Moo shouldn&#39;t be forced on the user.
</div>&gt; 
&gt; Neither of these will affect your code. They have limited scope.
&gt; 
</div>
This isn&#39;t necessarily true. Though rare, there are some modules that interfere with strict everywhere. And more commonly, warnings are added and removed between perl versions, potentially causing the user of this module to fatally die until the module is updated. But there&#39;s already bug #110560 for this.

But using Moo &#40;and namespace::clean and Sub::Name&#41; for a simple module seems to consign the user with unnecessary dependencies and overhead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1653716" href="/Public/Bug/Display.html?id=116560#txn-1653716">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;29&nbsp;03:31:07&nbsp;2016</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #116560] Remove Moo dependency</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Jul 2016 09:30:37 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-AnyEvent-Handle-UDP [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leon Timmermans &lt;leont [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1653716/887472/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/887472">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Jul 29, 2016 at 12:34 AM, alexchandel@gmail.com via RT &lt;
bug-AnyEvent-Handle-UDP@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Could you remove the Moo dependency? Moo brings compile-time and runtime
&gt; overhead, and adds to the dependencies of anyone using AnyEvent-Handle-UDP.
&gt;
&gt; It shouldn&#39;t be hard. The original AnyEvent-Handle doesn&#39;t use any object
&gt; system, and it does a lot more than AnyEvent-Handle-UDP does.
&gt;
</div>
Yeah, if I&#39;d write it today I wouldn&#39;t have used Moo &#40;mainly for the
dependencies, the compile-time costs are relatively low and the runtime
costs are pretty much non-existent&#41;, but given I&#39;m no longer using Anyevent
this is a really low priority. It may not be hard to convert, but it is a
non-trivial amount of work. Patches welcome I suppose.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL =&gt;
&gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can break some
&gt; programs, and like Moo shouldn&#39;t be forced on the user.
&gt;
</div>
I don&#39;t fatalize my warnings anymore in new code, but removing warnings
altogether and even strict is not making sense at all.

Leon
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1653716/887473/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/887473">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.6k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1655015" href="/Public/Bug/Display.html?id=116560#txn-1655015">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;02&nbsp;11:30:18&nbsp;2016</span>
    <span class="description">alexchandel [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> alexchandel [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1655015/888181/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/888181">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jul 29 03:31:07 2016, LEONT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, Jul 29, 2016 at 12:34 AM, alexchandel@gmail.com via RT &lt;
&gt; bug-AnyEvent-Handle-UDP@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Could you remove the Moo dependency? Moo brings compile-time and
&gt; &gt; runtime
&gt; &gt; overhead, and adds to the dependencies of anyone using AnyEvent-
&gt; &gt; Handle-UDP.
&gt; &gt;
&gt; &gt; It shouldn&#39;t be hard. The original AnyEvent-Handle doesn&#39;t use any
&gt; &gt; object
&gt; &gt; system, and it does a lot more than AnyEvent-Handle-UDP does.
&gt; &gt;
</div>&gt; 
&gt; Yeah, if I&#39;d write it today I wouldn&#39;t have used Moo &#40;mainly for the
&gt; dependencies, the compile-time costs are relatively low and the
&gt; runtime
&gt; costs are pretty much non-existent&#41;, but given I&#39;m no longer using
&gt; Anyevent
&gt; this is a really low priority. It may not be hard to convert, but it
&gt; is a
&gt; non-trivial amount of work. Patches welcome I suppose.
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL
&gt; &gt; =&gt;
&gt; &gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can break
&gt; &gt; some
&gt; &gt; programs, and like Moo shouldn&#39;t be forced on the user.
&gt; &gt;
</div>&gt; 
&gt; I don&#39;t fatalize my warnings anymore in new code, but removing
&gt; warnings
&gt; altogether and even strict is not making sense at all.
&gt; 
&gt; Leon
</div>
I did most of the rewriting myself, attached. It&#39;s a fairly literal translation, preserving all the underscored methods. The only thing I didn&#39;t translate was the type-checking &#38; range-checking on a few attributes. I also didn&#39;t change the calls to used symbols to use global names instead, but it&#39;s easy to find/replace them.

I also found two places where the &#34;fh&#34; key was directly accessed instead of the &#34;fh&#34; method, on lines 310 and 323 in the original file. I&#39;m not sure if this was intentional to work around something, but I changed it in the attached file.

I tested it with a small UDP example, but you should diff/test it yourself.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> UDP.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1655015/888182/UDP.pm">Download UDP.pm</a><br />
<span class="downloadcontenttype">text/x-perl 13k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1697284" href="/Public/Bug/Display.html?id=116560#txn-1697284">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;08&nbsp;14:31:58&nbsp;2017</span>
    <span class="description">fawaka [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #116560] Remove Moo dependency</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 8 Jan 2017 20:31:25 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-AnyEvent-Handle-UDP [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leon Timmermans &lt;fawaka [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1697284/911482/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/911482">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Aug 2, 2016 at 5:30 PM, alexchandel@gmail.com via RT &lt;
bug-AnyEvent-Handle-UDP@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: AnyEvent-Handle-UDP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=116560">https://rt.cpan.org/Ticket/Display.html?id=116560</a></span> &gt;
&gt;
&gt; On Fri Jul 29 03:31:07 2016, LEONT wrote:
<div class="message-stanza open">&gt; &gt; On Fri, Jul 29, 2016 at 12:34 AM, alexchandel@gmail.com via RT &lt;
&gt; &gt; bug-AnyEvent-Handle-UDP@rt.cpan.org&gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Could you remove the Moo dependency? Moo brings compile-time and
&gt; &gt; &gt; runtime
&gt; &gt; &gt; overhead, and adds to the dependencies of anyone using AnyEvent-
&gt; &gt; &gt; Handle-UDP.
&gt; &gt; &gt;
&gt; &gt; &gt; It shouldn&#39;t be hard. The original AnyEvent-Handle doesn&#39;t use any
&gt; &gt; &gt; object
&gt; &gt; &gt; system, and it does a lot more than AnyEvent-Handle-UDP does.
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt; Yeah, if I&#39;d write it today I wouldn&#39;t have used Moo &#40;mainly for the
&gt; &gt; dependencies, the compile-time costs are relatively low and the
&gt; &gt; runtime
&gt; &gt; costs are pretty much non-existent&#41;, but given I&#39;m no longer using
&gt; &gt; Anyevent
&gt; &gt; this is a really low priority. It may not be hard to convert, but it
&gt; &gt; is a
&gt; &gt; non-trivial amount of work. Patches welcome I suppose.
&gt; &gt;
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; You should also also remove the &#34;use strict;&#34; and &#34;use warnings FATAL
&gt; &gt; &gt; =&gt;
&gt; &gt; &gt; &#39;all&#39;;&#34; lines. They might be useful for testing, but these can break
&gt; &gt; &gt; some
&gt; &gt; &gt; programs, and like Moo shouldn&#39;t be forced on the user.
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt; I don&#39;t fatalize my warnings anymore in new code, but removing
&gt; &gt; warnings
&gt; &gt; altogether and even strict is not making sense at all.
&gt; &gt;
&gt; &gt; Leon
</div>&gt;
&gt; I did most of the rewriting myself, attached. It&#39;s a fairly literal
&gt; translation, preserving all the underscored methods. The only thing I
&gt; didn&#39;t translate was the type-checking &#38; range-checking on a few
&gt; attributes. I also didn&#39;t change the calls to used symbols to use global
&gt; names instead, but it&#39;s easy to find/replace them.
&gt;
&gt; I also found two places where the &#34;fh&#34; key was directly accessed instead
&gt; of the &#34;fh&#34; method, on lines 310 and 323 in the original file. I&#39;m not sure
&gt; if this was intentional to work around something, but I changed it in the
&gt; attached file.
&gt;
&gt; I tested it with a small UDP example, but you should diff/test it yourself.
&gt;
</div>
Your code was not passing the timeout unit tests. I rewrote it myself, and
released it to CPAN.

Leon
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1697284/911483/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/911483">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.47144</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
