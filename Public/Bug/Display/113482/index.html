<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #113482 for App-CPANtoRPM: fixes for AIX platforms</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #113482 for App-CPANtoRPM: fixes for AIX platforms</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=App-CPANtoRPM">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=App-CPANtoRPM">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=App-CPANtoRPM">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=App-CPANtoRPM">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/App-CPANtoRPM">App-CPANtoRPM CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">113482</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=App-CPANtoRPM">App-CPANtoRPM</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Douglas.Irvine [...] fisglobal.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-262784-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-262785-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=113482">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1613237" href="/Public/Bug/Display.html?id=113482#txn-1613237">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;31&nbsp;11:14:54&nbsp;2016</span>
    <span class="description">Douglas.Irvine [...] fisglobal.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fixes for AIX platforms</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Mar 2016 15:12:35 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-App-CPANtoRPM [...] rt.cpan.org&#34; &lt;bug-App-CPANtoRPM [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Irvine, Douglas&#34; &lt;Douglas.Irvine [...] fisglobal.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1613237/863342/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/863342">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, I am greatly impressed with this module, am exploring it&#39;s usefulness. I have discovered some small issues when using on the AIX platform.


1&#41;      strace: strace is a totally different utility on AIX &#40;and some other unixes&#41;. the utility that performs in like manner to the Linux strace tool on AIX is &#39;truss&#39;.

2&#41;      AIX ships with an old version of rpm &#40;3.05&#41; which deosn&#39;t have the rpmbuild executable. The standard rpm command accepts the -ba option and functions identically.

Here&#39;s some dirty hacks that got it working for my platform &#40;AIX 7.1&#41;:

$ diff CPANtoRPM.pm CPANtoRPM.pm.new
1325a1326,1329
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       #try to find the rpm command, rpm -ba also works on AIX
&gt;       $rpmbuild = $self-&gt;_find_exe&#40;&#34;rpm&#34;&#41;;
&gt;    }
&gt;    if &#40;! $rpmbuild&#41; {
</div>3294c3298,3306
&lt;    my $strace = $self-&gt;_find_exe&#40;&#39;strace&#39;&#41;;
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    my $strace;
&gt;
&gt;    if &#40;$^O eq &#39;aix&#39;&#41; {
&gt;       $strace = $self-&gt;_find_exe&#40;&#39;truss&#39;&#41;;
&gt;    }
&gt;    else {
&gt;       $strace = $self-&gt;_find_exe&#40;&#39;strace&#39;&#41;;
&gt;    }
&gt;
</div>3310c3322
&lt;    if &#40;! $trace&#41; {
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    if &#40;! $trace &#41; {
</div>3318c3330,3331
&lt;             $trace =~ /Operation not permitted/&#41; {
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;             $trace =~ /Operation not permitted/ ||
&gt;             $trace =~ /Cannot control process/&#41; {
</div>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1613237/863343/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/863343">with headers</a>
<br />
<span class="downloadcontenttype">text/html 8.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1613351" href="/Public/Bug/Display.html?id=113482#txn-1613351">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;31&nbsp;15:51:32&nbsp;2016</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1613351/863394/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/863394">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 403b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I haven&#39;t touched AIX is a LONG time!  I&#39;d forgotten all about truss.

Thanks for the patch.  I&#39;ve modified it a bit to add some checking &#40;i.e. not all versions of rpm support -ba, so I&#39;ve tried to build that in&#41;.  Could you download a new copy of the module from:

<span class="clickylink"><a target="new" rel="nofollow" href="http://sullybeck.com/App-CPANtoRPM-1.05.tar.gz">http://sullybeck.com/App-CPANtoRPM-1.05.tar.gz</a></span>

and give it a shot?  If it works, I&#39;ll send it out to CPAN in the next day or so.

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1613352" href="/Public/Bug/Display.html?id=113482#txn-1613352">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;31&nbsp;15:51:33&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1613354" href="/Public/Bug/Display.html?id=113482#txn-1613354">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;31&nbsp;15:55:10&nbsp;2016</span>
    <span class="description">Douglas.Irvine [...] fisglobal.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #113482] fixes for AIX platforms</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Mar 2016 19:52:44 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-App-CPANtoRPM [...] rt.cpan.org&#34; &lt;bug-App-CPANtoRPM [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Irvine, Douglas&#34; &lt;Douglas.Irvine [...] fisglobal.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1613354/863396/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/863396">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;l give it a whirl tomorrow, thanks for the prompt reponse!!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Sullivan Beck via RT [mailto:bug-App-CPANtoRPM@rt.cpan.org] 
Sent: Thursday, March 31, 2016 3:52 PM
To: Irvine, Douglas &lt;Douglas.Irvine@fisglobal.com&gt;
Subject: [rt.cpan.org #113482] fixes for AIX platforms

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113482">https://rt.cpan.org/Ticket/Display.html?id=113482</a></span> &gt;

I haven&#39;t touched AIX is a LONG time!  I&#39;d forgotten all about truss.

Thanks for the patch.  I&#39;ve modified it a bit to add some checking &#40;i.e. not all versions of rpm support -ba, so I&#39;ve tried to build that in&#41;.  Could you download a new copy of the module from:

<span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=http-3A__sullybeck.com_App-2DCPANtoRPM-2D1.05.tar.gz&#38;d=BQIDaQ&#38;c=3BfiSO86x5iKjpl2b39jud9R1NrKYqPq2js90dwBswk&#38;r=_nox2a4idt77YZCJzPo8KdAuqVGX_MT6x1LfAJq-kFg&#38;m=WNJkhSDcthuPJ8jjjlsLqoFIdpAtC_nNROnSC9f7Sn8&#38;s=2r8a7MnqtSle8_ebX_k_3iVOKhamutbOkOuR6I5lvAg&#38;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__sullybeck.com_App-2DCPANtoRPM-2D1.05.tar.gz&#38;d=BQIDaQ&#38;c=3BfiSO86x5iKjpl2b39jud9R1NrKYqPq2js90dwBswk&#38;r=_nox2a4idt77YZCJzPo8KdAuqVGX_MT6x1LfAJq-kFg&#38;m=WNJkhSDcthuPJ8jjjlsLqoFIdpAtC_nNROnSC9f7Sn8&#38;s=2r8a7MnqtSle8_ebX_k_3iVOKhamutbOkOuR6I5lvAg&#38;e=</a></span> 

and give it a shot?  If it works, I&#39;ll send it out to CPAN in the next day or so.

Thanks

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.
</div></div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614622" href="/Public/Bug/Display.html?id=113482#txn-1614622">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;07:36:29&nbsp;2016</span>
    <span class="description">Douglas.Irvine [...] fisglobal.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #113482] fixes for AIX platforms</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 4 Apr 2016 11:33:20 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-App-CPANtoRPM [...] rt.cpan.org&#34; &lt;bug-App-CPANtoRPM [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Irvine, Douglas&#34; &lt;Douglas.Irvine [...] fisglobal.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614622/864237/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864237">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Some modifications are necessary...

   my $strace = $self-&gt;_find_exe&#40;&#39;strace&#39;&#41;;
   if &#40;! $strace&#41; {
      $strace = $self-&gt;_find_exe&#40;&#39;truss&#39;&#41;;
   }
   if &#40;! $strace&#41; {
      $self-&gt;_log_message&#40;&#39;ERR&#39;,&#39;strace executable not found&#39;&#41;;
   }

Assumes that the strace on AIX is the strace that is on linux. It&#39;s not =-&#40;

<span class="clickylink"><a target="new" rel="nofollow" href="https://www.ibm.com/support/knowledgecenter/ssw_aix_53/com.ibm.aix.cmds/doc/aixcmds5/strace.htm">https://www.ibm.com/support/knowledgecenter/ssw_aix_53/com.ibm.aix.cmds/doc/aixcmds5/strace.htm</a></span>

so either we need to reverse the preference so truss is preferred to strace on systems that have truss, or figure out a way to differentiate between the AIX strace command and that on linux &#40;see if strace -V returns a version? it doesn&#39;t on AIX, it returns &#39;usage: strace [mid sid level] ...&#39;.

Thanks for looking into this with me!

--douglas

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Sullivan Beck via RT [mailto:bug-App-CPANtoRPM@rt.cpan.org] 
Sent: Thursday, March 31, 2016 3:52 PM
To: Irvine, Douglas &lt;Douglas.Irvine@fisglobal.com&gt;
Subject: [rt.cpan.org #113482] fixes for AIX platforms

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113482">https://rt.cpan.org/Ticket/Display.html?id=113482</a></span> &gt;

I haven&#39;t touched AIX is a LONG time!  I&#39;d forgotten all about truss.

Thanks for the patch.  I&#39;ve modified it a bit to add some checking &#40;i.e. not all versions of rpm support -ba, so I&#39;ve tried to build that in&#41;.  Could you download a new copy of the module from:

<span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=http-3A__sullybeck.com_App-2DCPANtoRPM-2D1.05.tar.gz&#38;d=BQIDaQ&#38;c=3BfiSO86x5iKjpl2b39jud9R1NrKYqPq2js90dwBswk&#38;r=_nox2a4idt77YZCJzPo8KdAuqVGX_MT6x1LfAJq-kFg&#38;m=WNJkhSDcthuPJ8jjjlsLqoFIdpAtC_nNROnSC9f7Sn8&#38;s=2r8a7MnqtSle8_ebX_k_3iVOKhamutbOkOuR6I5lvAg&#38;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__sullybeck.com_App-2DCPANtoRPM-2D1.05.tar.gz&#38;d=BQIDaQ&#38;c=3BfiSO86x5iKjpl2b39jud9R1NrKYqPq2js90dwBswk&#38;r=_nox2a4idt77YZCJzPo8KdAuqVGX_MT6x1LfAJq-kFg&#38;m=WNJkhSDcthuPJ8jjjlsLqoFIdpAtC_nNROnSC9f7Sn8&#38;s=2r8a7MnqtSle8_ebX_k_3iVOKhamutbOkOuR6I5lvAg&#38;e=</a></span> 

and give it a shot?  If it works, I&#39;ll send it out to CPAN in the next day or so.

Thanks

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.
</div></div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614652" href="/Public/Bug/Display.html?id=113482#txn-1614652">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;08:50:57&nbsp;2016</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614652/864252/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864252">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 262b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Okay, sorry for the back and forth.  I didn&#39;t know that AIX also had an strace command.

I&#39;ve modified the patch to include the OS test that you originally suggested.  You can download the new version from the same location as before.

It should work this time.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614655" href="/Public/Bug/Display.html?id=113482#txn-1614655">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;09:35:12&nbsp;2016</span>
    <span class="description">Douglas.Irvine [...] fisglobal.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #113482] fixes for AIX platforms</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 4 Apr 2016 13:32:57 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-App-CPANtoRPM [...] rt.cpan.org&#34; &lt;bug-App-CPANtoRPM [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Irvine, Douglas&#34; &lt;Douglas.Irvine [...] fisglobal.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614655/864254/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864254">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">No worries at all!

One last suggestion: in your _find_exe&#40;&#41; sub, test for the path not being a dir. I just happened to have a dir called &#39;rpm&#39; in my path in front of the path to the actual exe by happenstance and noticed this. 

###############################################################################
# Find $exe in ENV{PATH} or one of the directories in @extra_path .
#
sub _find_exe {
   my&#40;$self,$exe,@extra_path&#41; = @_;

   my @path = split&#40;/:/,$ENV{PATH}&#41;;
   unshift&#40;@path,@extra_path&#41;;

   foreach my $d &#40;@path&#41; {
      return &#34;$d/$exe&#34;  if &#40;-x &#34;$d/$exe&#34; &#38;&#38; ! -d _&#41;;
   }

   return &#39;&#39;;
}

Your changes worked perfect once I added this in even when a dir came up first in the path search for &#39;rpm&#39;. Thank you so much for your assistance!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Sullivan Beck via RT [mailto:bug-App-CPANtoRPM@rt.cpan.org] 
Sent: Monday, April 04, 2016 8:51 AM
To: Irvine, Douglas &lt;Douglas.Irvine@fisglobal.com&gt;
Subject: [rt.cpan.org #113482] fixes for AIX platforms

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113482">https://rt.cpan.org/Ticket/Display.html?id=113482</a></span> &gt;

Okay, sorry for the back and forth.  I didn&#39;t know that AIX also had an strace command.

I&#39;ve modified the patch to include the OS test that you originally suggested.  You can download the new version from the same location as before.

It should work this time.

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.

<div class="message-stanza open">_____________
The information contained in this message is proprietary and/or confidential. If you are not the intended recipient, please: &#40;i&#41; delete the message and all copies; &#40;ii&#41; do not disclose, distribute or use the message in any manner; and &#40;iii&#41; notify the sender immediately. In addition, please be aware that any message addressed to our domain is subject to archiving and review by persons other than the intended recipient. Thank you.
</div></div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614688" href="/Public/Bug/Display.html?id=113482#txn-1614688">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;11:25:04&nbsp;2016</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614688/864276/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864276">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 136b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ll modify _find_exe as suggested.

I&#39;ll release a new version today or tomorrow with these changes.

Thanks for the report and patch.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614690" href="/Public/Bug/Display.html?id=113482#txn-1614690">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;11:25:42&nbsp;2016</span>
    <span class="description">sbeck [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.469845</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
