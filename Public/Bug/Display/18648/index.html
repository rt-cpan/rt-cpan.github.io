<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18648 for Text-Iconv: Text::Iconv 1.44 patch for compile and test on VMS</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18648 for Text-Iconv: Text::Iconv 1.44 patch for compile and test on VMS</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Text-Iconv/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Text-Iconv/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Text-Iconv/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Text-Iconv/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Text-Iconv">Text-Iconv CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18648</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Text-Iconv/Active/">Text-Iconv</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">mxp [...] dynalabs.de
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cpan [...] pjedwards.co.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-32048-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.4    </td>
  </tr>
  <tr id="CF-32049-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.5    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;10&nbsp;23:09:46&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Text::Iconv 1.44 patch for compile and test on VMS</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Text-Iconv-1_4
Perl 5.87 on VMS

Please find a patch attached.

Summary of changes.

  Check object file extension.
  Remove period &#40;.&#41; from file linktest as this results in an invalid 
file on VMS &#40;two periods&#41;.
  Removed linker options from compile line if VMS.
  If VMS pipe compile line to NL:

Thanks,
Peter &#40;Stig&#41; Edwards
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Text-Iconv-1_4.diff</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Text-Iconv-1_4/Iconv.xs 2006-04-09 19:10:20.1144609820 -0400
+++ Text-Iconv-1_4/Iconv.xs 2006-04-10 09:45:18.1144662318 -0400
@@ -106,7 +106,7 @@

    while&#40;inbytesleft != 0&#41;
    {
-#if &#40;defined&#40;__hpux&#41; || defined&#40;__linux&#41;&#41; &#38;&#38; ! defined&#40;_LIBICONV_VERSION&#41;
+#if &#40;defined&#40;__hpux&#41; || defined&#40;__linux&#41; || defined&#40;VMS&#41;&#41; &#38;&#38; ! defined&#40;_LIBICONV_VERSION&#41;
       /* Even in HP-UX 11.00, documentation and header files do not agree */
       /* glibc doesn&#39;t seem care too much about standards */
       ret = iconv&#40;obj-&gt;handle, &#38;icursor, &#38;inbytesleft,
@@ -239,7 +239,7 @@
               croak&#40;&#34;Insufficient memory to initialize conversion: %s&#34;,
                     strerror&#40;errno&#41;&#41;;
            case EINVAL:
-              croak&#40;&#34;Unsupported conversion: %s&#34;, strerror&#40;errno&#41;&#41;;
+              croak&#40;&#34;Unsupported conversion from: &#39;%s&#39; to: &#39;%s&#39; : %s&#34;, fromcode, tocode, strerror&#40;errno&#41;&#41;;
            default:
               croak&#40;&#34;Couldn&#39;t initialize conversion: %s&#34;, strerror&#40;errno&#41;&#41;;
         }
--- Text-Iconv-1_4/Makefile.PL 2006-04-09 19:10:20.1144609820 -0400
+++ Text-Iconv-1_4/Makefile.PL 2006-04-09 20:10:38.1144613438 -0400
@@ -27,6 +27,16 @@
    $i++;
 }

+my $obj_ext = &#39;.o&#39;;
+if &#40;$^O eq &#39;VMS&#39;&#41; {
+    # check the object extension
+    if &#40;$Config{ccflags} =~ m/obj=&#40;[a-z0-9\.]+&#41;/&#41; {
+        $obj_ext = $1;
+    } else {
+        $obj_ext = &#39;.obj&#39;;
+    }
+}
+
 ###############################################################################
 # Check for iconv.

@@ -98,7 +108,7 @@
    my $libs = shift;
    my $incs = shift;

-   my $file = &#39;.linktest&#39;;
+   my $file = &#39;linktest&#39;;
    my $prog = &lt;&lt;EOT;
 #include &lt;iconv.h&gt;

@@ -108,15 +118,23 @@
 }
 EOT

-   my $compile = join &#39; &#39;, $Config{cc}, $incs, $Config{ccflags},
-       $Config{ldflags}, $libs;
-   # print &#34;Compiler: $compile\n&#34;;
-   open  LINKTEST, &#39;&gt;&#39;, &#34;$file.c&#34; or die &#34;Can&#39;t create test file&#34;;
+   my $compile;
+   if &#40;$^O ne &#39;VMS&#39;&#41; {
+       $compile = join &#39; &#39;, $Config{cc}, $incs, $Config{ccflags}, $Config{ldflags}, $libs;
+   } else {
+       $compile = join &#39; &#39;, $Config{cc}, $incs, $Config{ccflags}, $libs;
+   }
+   print &#34;\nCompiler:&#39;$compile&#39;\n&#34;;
+   open  LINKTEST, &#39;&gt;&#39;, &#34;$file.c&#34; or die &#34;Can&#39;t create test file &#39;$file.c&#39;.&#34;;
    print LINKTEST $prog;
    close LINKTEST;
-
-   my $result = system&#40;&#34;$compile -o $file $file.c $libs 2&gt; /dev/null&#34;&#41; / 256;
-   unlink $file, &#34;$file.c&#34;, &#34;$file.o&#34;;
+   my $compile_line = &#34;$compile -o $file $file.c $libs 2&gt; /dev/null&#34;;
+   if &#40;$^O eq &#39;VMS&#39;&#41; {
+       $compile_line = &#34;pipe $compile $file.c $libs 2&gt; NL:&#34;;
+   }
+   print &#34;Compile line:&#39;$compile_line&#39;\n&#34;;
+   my $result = system&#40;$compile_line&#41; / 256;
+   unlink $file, &#34;$file.c&#34;, &#34;$file$obj_ext&#34;;

    if &#40;$result == 0&#41;
    {
--- Text-Iconv-1_4/t/01_charsets.t 2006-04-09 19:10:20.1144609820 -0400
+++ Text-Iconv-1_4/t/01_charsets.t 2006-04-09 20:10:38.1144613438 -0400
@@ -8,6 +8,8 @@

 Text::Iconv-&gt;raise_error&#40;1&#41;;

+# Note on VMS codepages are found in SYS$I18N_ICONV
+
 %codesets = &#40;&#39;iso88591&#39; =&gt; [qw&#40;iso88591 iso8859-1 iso-8859-1 ISO88591
                               ISO8859-1 ISO-8859-1 88591 8859-1&#41;],
             &#39;cp037&#39;    =&gt; [qw&#40;cp037 CP037 ibm037 IBM037 ibm-037 IBM-037&#41;],
@@ -39,6 +41,7 @@
         elsif &#40;$c1 == 0 or $c2 == 0&#41;
         {
            print &#34;ok $test_no \t # skip &#40;$source &lt;-&gt; $target conversion not supported by iconv library&#41;\n&#34;;
+            print STDERR &#34;source &#39;$source&#39; &lt;-&gt; target &#39;$target&#39; conversion not supported by iconv library.\n&#34;;
         }
         else
         {
@@ -55,11 +58,12 @@
            elsif &#40;$r2 eq $strings{$source}&#41;
            {
               print &#34;ok $test_no \t # &#40;$source &lt;-&gt; $target&#41;&#34;, $c1-&gt;retval, &#34;/&#34;, $c2-&gt;retval,&#34;\n&#34;;
+               print STDERR &#34;source &#39;$source&#39; &lt;-&gt; target &#39;$target&#39; conversion OK.\n&#34;;
            }
            else
            {
               print &#34;not ok $test_no \t # &#40;$source &lt;-&gt; $target roundtrip failed&#41;\n&#34;;
-print $c1-&gt;retval, &#34;/&#34;, $c2-&gt;retval,&#34;\n&#34;;
+               print $c1-&gt;retval, &#34;/&#34;, $c2-&gt;retval,&#34;\n&#34;;
            }
         }
       }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;12:06:45&nbsp;2006</span>
    <span class="description">mxp [...] dynalabs.de -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;14:07:59&nbsp;2006</span>
    <span class="description">mxp [...] dynalabs.de -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;16:56:10&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cpan [...] pjedwards.co.uk</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">By email:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; Could you please test it on VMS?
</div>
The file timestamps in the pre-release version you sent by email
really confused mmk &#40;make on VMS&#41;, I was also confused.

I had to touch everything to get it to build.

After touching everything it built and passed all tests run.

Thanks,
Peter &#40;Stig&#41; Edwards
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;17:29:13&nbsp;2006</span>
    <span class="description">mxp [...] dynalabs.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 11 16:56:10 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; By email:
&gt; 
<div class="message-stanza open">&gt; &gt;&gt; Could you please test it on VMS?
</div>&gt; 
&gt; The file timestamps in the pre-release version you sent by email
&gt; really confused mmk &#40;make on VMS&#41;, I was also confused.
&gt; 
&gt; I had to touch everything to get it to build.
</div>
Were the file times incorrect?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After touching everything it built and passed all tests run.
</div>
Ok, that&#39;s great.  I&#39;ll prepare a new release.  Is there anything I can
do about the file times issue?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;19:02:51&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cpan [...] pjedwards.co.uk</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; Were the file times incorrect?
</div>
Not sure.  See below.  I see &#40;on VMS&#41;:

Apr 11 17:49:06 2006        0 Text-Iconv-1.4
Apr 11 17:49:06 2006        0 [Text-Iconv-1_4]t
Apr 11 16:57:26 2006     3083 [Text-Iconv-1_4.t]01_charsets.t
Dec 17 23:40:25 2000      121 [Text-Iconv-1_4.t]00_load.t
Apr 11 16:38:02 2006     9427 [Text-Iconv-1_4]Iconv.xs
Jul 17 22:18:53 2004     1401 [Text-Iconv-1_4]Changes
Jul 17 22:25:46 2004     3643 [Text-Iconv-1_4]Iconv.pm
Apr 11 17:49:06 2006      169 [Text-Iconv-1_4]MANIFEST
Jun 28 19:10:48 2004       31 [Text-Iconv-1_4]typemap
Apr 11 16:53:06 2006     3660 [Text-Iconv-1_4]Makefile.PL
Jul 17 22:13:54 2004     3738 [Text-Iconv-1_4]README
Apr 11 17:49:06 2006      294 [Text-Iconv-1_4]META.yml

&#40;on Linux &#40;gzip,tar&#41; and Windows&#40;7-Zip&#41;&#41;:

-rw-r--r--    1401 Jul 17  2004 Changes
-rw-r--r--    3643 Jul 17  2004 Iconv.pm
-rw-r--r--    9427 Apr 11 12:38 Iconv.xs
-rw-r--r--    3660 Apr 11 12:53 Makefile.PL
-rw-r--r--     169 Apr 11 13:49 MANIFEST
-rw-r--r--     294 Apr 11 13:49 META.yml
-rw-r--r--    3738 Jul 17  2004 README
drwxr-xr-x    4096 Apr 11 13:49 t
-rw-r--r--     121 Dec 17  2000 00_load.t
-rw-r--r--    3083 Apr 11 12:57 01_charsets.t
-rw-r--r--      31 Jun 28  2004 typemap

Note the 4 hour &#40;TZ&#41; difference.

The only timestamps that look like they could cause problems are
the ones for today, they were in the future when I first tried
to build your pre-release, they are now in the past in my timezone
and I just tried building without touching all the files and it
works.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; Is there anything I can do about the file times issue?
</div>
No.  I think the pre-release is good.  My problem was due to the
VMS tar utility I think.  Unless somebody to the west of me on the 
Aleutian Islands is running the pre-release on VMS today it should
be good.

Thanks
Peter &#40;Stig&#41; Edwards

&#40;Look into enhancing the VMS tar utility with a flux capacitor.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;19:39:32&nbsp;2006</span>
    <span class="description">mxp [...] dynalabs.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 11 19:02:51 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;&gt; Were the file times incorrect?
</div>&gt; 
&gt; Not sure.  See below.  I see &#40;on VMS&#41;:
&gt; 
&gt; Apr 11 17:49:06 2006        0 Text-Iconv-1.4
&gt; Apr 11 17:49:06 2006        0 [Text-Iconv-1_4]t
&gt; Apr 11 16:57:26 2006     3083 [Text-Iconv-1_4.t]01_charsets.t
&gt; Dec 17 23:40:25 2000      121 [Text-Iconv-1_4.t]00_load.t
&gt; Apr 11 16:38:02 2006     9427 [Text-Iconv-1_4]Iconv.xs
&gt; Jul 17 22:18:53 2004     1401 [Text-Iconv-1_4]Changes
&gt; Jul 17 22:25:46 2004     3643 [Text-Iconv-1_4]Iconv.pm
&gt; Apr 11 17:49:06 2006      169 [Text-Iconv-1_4]MANIFEST
&gt; Jun 28 19:10:48 2004       31 [Text-Iconv-1_4]typemap
&gt; Apr 11 16:53:06 2006     3660 [Text-Iconv-1_4]Makefile.PL
&gt; Jul 17 22:13:54 2004     3738 [Text-Iconv-1_4]README
&gt; Apr 11 17:49:06 2006      294 [Text-Iconv-1_4]META.yml
&gt; 
&gt; &#40;on Linux &#40;gzip,tar&#41; and Windows&#40;7-Zip&#41;&#41;:
&gt; 
&gt; -rw-r--r--    1401 Jul 17  2004 Changes
&gt; -rw-r--r--    3643 Jul 17  2004 Iconv.pm
&gt; -rw-r--r--    9427 Apr 11 12:38 Iconv.xs
&gt; -rw-r--r--    3660 Apr 11 12:53 Makefile.PL
&gt; -rw-r--r--     169 Apr 11 13:49 MANIFEST
&gt; -rw-r--r--     294 Apr 11 13:49 META.yml
&gt; -rw-r--r--    3738 Jul 17  2004 README
&gt; drwxr-xr-x    4096 Apr 11 13:49 t
&gt; -rw-r--r--     121 Dec 17  2000 00_load.t
&gt; -rw-r--r--    3083 Apr 11 12:57 01_charsets.t
&gt; -rw-r--r--      31 Jun 28  2004 typemap
&gt; 
&gt; Note the 4 hour &#40;TZ&#41; difference.
</div>
Interesting.  While 16:53 would be the correct time for Makefile.PL in
UTC, if the tar on VMS erroneously treats it as local time, this would
lead to files with future dates.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The only timestamps that look like they could cause problems are
&gt; the ones for today, they were in the future when I first tried
&gt; to build your pre-release, they are now in the past in my timezone
&gt; and I just tried building without touching all the files and it
&gt; works.
</div>
Ok, great.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;&gt; Is there anything I can do about the file times issue?
</div>&gt; 
&gt; No.  I think the pre-release is good.  My problem was due to the
&gt; VMS tar utility I think.  Unless somebody to the west of me on the 
&gt; Aleutian Islands is running the pre-release on VMS today it should
&gt; be good.
</div>
Indeed, it looks like a bug in VMS tar.  Ok, I&#39;ll make a release in the
next few days.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;Look into enhancing the VMS tar utility with a flux capacitor.&#41;
</div>
Hehe, call me Emmett :-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;08:48:49&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cpan [...] pjedwards.co.uk</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">By email:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; which VMS version you tested Text::Iconv?
</div>
OpenVMS AXP V7.3-2

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; did you use the native iconv implementation or a third-party library?
</div>
Native, &#34;Compaq C Run-Time Library&#34;, the header does state that 
the defintions in it may not be available on all versions of OpenVMS.

Thanks,
Peter &#40;Stig&#41; Edwards

&#40;P.S. I found the &#34;/DATE_POLICY=none&#34; option on VMSTAR&#34;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:06:07&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Finally released a new version, including the changes for VMS.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:06:12&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:21:17&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Severity Wishlist added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:32:50&nbsp;2007</span>
    <span class="description">cpan [...] pjedwards.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cpan [...] pjedwards.co.uk</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 30 09:06:07 2007, MPIOTR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Finally released a new version, including the changes for VMS.
</div>
Thank you, I can confirm it compiles and passes it&#39;s tests
on VMS V7.3-2 AXP and VMS V8.2-1 IA64

t/00_load........
ok
t/01_charsets....
ok
        10/13 skipped: various reasons
All tests successful, 10 subtests skipped.
Files=2, Tests=14,  9 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00 CPU&#41;

Peter &#40;Stig&#41; Edwards
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:32:53&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;09:54:54&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you, I can confirm it compiles and passes it&#39;s tests
&gt; on VMS V7.3-2 AXP and VMS V8.2-1 IA64
</div>
Thank you for the feedback.  I&#39;m sorry it took so long to make a release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;07:22:10&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;07:22:21&nbsp;2007</span>
    <span class="description">mxp [...] dynalabs.de -  Fixed in 1.5 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
