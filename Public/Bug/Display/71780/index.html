<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #69573 for SQL-Statement: Multiple joins not supported?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #69573 for SQL-Statement: Multiple joins not supported?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=SQL-Statement">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=SQL-Statement">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=SQL-Statement">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=SQL-Statement">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/SQL-Statement">SQL-Statement CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">69573</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=SQL-Statement">SQL-Statement</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
BBYRD [...] cpan.org

<br />
PRIVI [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-29588-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.33    </td>
  </tr>
  <tr id="CF-29589-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




multi-join-doc.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1053075/550766/multi-join-doc.patch">
Wed Mar 21 12:04:03 2012 (2.3k) by BBYRD [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=69573">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957188" href="/Public/Bug/Display.html?id=69573#txn-957188">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;19&nbsp;06:54:35&nbsp;2011</span>
    <span class="description">PRIVI [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Multiple joins not supported?</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/957188/497984/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/497984">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi SQL Statement developer,

VERIONS:
SQL::Statement 1.33
DBD::CSV       0.31

the SQL statement

SELECT logfile.id, art.name FROM logfile LEFT JOIN art ON
art.id=logfile.art_id

works as expected. The next stamtement is executing but don&#39;t fetch any
data from certs or art:

SELECT logfile.id, logfile.art_id, art.name FROM logfile LEFT JOIN art
ON art.id=logfile.art_id LEFT JOIN certs ON certs.id=logfile.certs_id

. Here is only &#34;logfile.id&#34; defined, art.name is empty. The next one is
also executing but don&#39;t hava value for certs or art:

SELECT logfile.id, certs.id FROM logfile LEFT JOIN certs ON
certs.id=logfile.certs_id LEFT JOIN art ON art.id=logfile.art_id

The following statement

SELECT logfile.id, art.name, certs.id FROM logfile LEFT JOIN art ON
art.id=logfile.art_id LEFT JOIN certs ON certs.id=logfile.certs_id

brings an unexpected error:

Table &#39;certs&#39; referenced in WHERE but not found in FROM list
&#40;art,logfile&#41;! at /usr/local/share/perl/5.10.1/SQL/Statement.pm line 88

CONCLUSION ==&gt;&gt; It seems that joining multiple tables is just not
supported on DBD::CSV, but SQL::Statement allows to request it in some
cases with bad behavior?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957790" href="/Public/Bug/Display.html?id=69573#txn-957790">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;07:18:19&nbsp;2011</span>
    <span class="description">PRIVI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/957790/498322/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/498322">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 334b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=30547#txn-380451">https://rt.cpan.org/Ticket/Display.html?id=30547#txn-380451</a></span>
documents, multiple joins are not supported.

Only the error behaviour could still be improved. And maybe the
documentation, I can&#39;t see any hint that it is not supported. Only the
syntax could some people tell you that it don&#39;t work... I don&#39;t think
that this is enough.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957793" href="/Public/Bug/Display.html?id=69573#txn-957793">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;07:18:21&nbsp;2011</span>
    <span class="description">PRIVI [...] cpan.org -  Status changed from &#39;new&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957794" href="/Public/Bug/Display.html?id=69573#txn-957794">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;07:29:11&nbsp;2011</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/957794/498325/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/498325">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 308b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I agree, at least the documentation can be updated.

I&#39;ll take a look whether it&#39;s possible to update the behaviour, but this
cannot promised due limitations of the current implementation.

If you want to help, please add some &#34;TODO&#34; tests to t/08join.t or send
me a patch updating the documentation :&#41;

Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957797" href="/Public/Bug/Display.html?id=69573#txn-957797">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;07:29:12&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-989469" href="/Public/Bug/Display.html?id=69573#txn-989469">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;19&nbsp;12:06:30&nbsp;2011</span>
    <span class="description">BBYRD [...] cpan.org - Ticket #71780:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Parser doesn&#39;t like parens in ON clause</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/989469/515084/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/515084">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 477b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use SQL::Statement;

my $sql    = &#34;
   SELECT a, q
   FROM
      b fg
      INNER JOIN c asd ON &#40;asd.q = fg.r&#41;
&#34;;
my $parser = SQL::Parser-&gt;new&#40;&#39;ANSI&#39;&#41;;
$parser-&gt;{RaiseError}=1;
$parser-&gt;{PrintError}=0;
my $stmt = SQL::Statement-&gt;new&#40;$sql,$parser&#41;;

This fails because of the parens.  Not sure if it&#39;s legal ANSI SQL
syntax, but it is legal in all of the other DBs I&#39;ve used &#40;MySQL, T-SQL,
Oracle&#41;.  What&#39;s the difficulty level in making the parser accept ON
clauses in parens?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1052314" href="/Public/Bug/Display.html?id=69573#txn-1052314">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;22:17:33&nbsp;2012</span>
    <span class="description">BBYRD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1052314/550286/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/550286">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 121b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have the test cases on my work laptop already.  I&#39;ll submit a quick
patch with that and some documentation adjustments.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1052526" href="/Public/Bug/Display.html?id=69573#txn-1052526">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;08:51:15&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1052526/550402/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/550402">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 251b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Awesome. I&#39;m interested to see them. Did you patch against subversion
trunk or any released version?

Do only t/08join.t works now or does make test in general work &#40;with
installed DBD::CSV, DBD::AnyData, DBD::SQLite &#40;as reference&#41;, current
DBI etc.&#41;?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1053075" href="/Public/Bug/Display.html?id=69573#txn-1053075">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;21&nbsp;12:04:03&nbsp;2012</span>
    <span class="description">BBYRD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1053075/550765/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/550765">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 864b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 20 08:51:15 2012, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Awesome. I&#39;m interested to see them. Did you patch against subversion
&gt; trunk or any released version?
&gt; 
&gt; Do only t/08join.t works now or does make test in general work &#40;with
&gt; installed DBD::CSV, DBD::AnyData, DBD::SQLite &#40;as reference&#41;, current
&gt; DBI etc.&#41;?
</div>
Sorry, didn&#39;t mean to get your hopes up.  I only meant that I have
documentation specifying that multiple JOINs aren&#39;t supported, and TODO
test cases.

I&#39;d like to get this fixed, but given that most of these RT bugs are
parsing errors, it seems like the best route is going to be deployment
of some sort of Bison/Flex parser.  PG has the code, but only the
scanner appears to be separable from the rest of the RDBMS backend. 
&#40;The parser itself is too integrated, according to the PG team
themselves.&#41;  Still, it might be a start to get things rolling...
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> multi-join-doc.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1053075/550766/multi-join-doc.patch">Download multi-join-doc.patch</a><br />
<span class="downloadcontenttype">text/x-diff 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: lib/SQL/Statement/Syntax.pod
===================================================================
--- lib/SQL/Statement/Syntax.pod	&#40;revision 15224&#41;
+++ lib/SQL/Statement/Syntax.pod	&#40;working copy&#41;
@@ -232,6 +232,9 @@
       * self-joins are not currently supported
       * if implicit joins are used, the WHERE clause must contain
         an equijoin condition for each table
+		* multiple ANSI joins are not supported; use implicit joins for these
+      * this also means that combinations of INNER and non-INNER joins are
+		  not supported
 
 =head3 SEARCH CONDITION
 
Index: t/08join.t
===================================================================
--- t/08join.t	&#40;revision 15224&#41;
+++ t/08join.t	&#40;working copy&#41;
@@ -541,6 +541,48 @@
                        [ &#39;[% NOW %]&#39;, &#39;cpan-authors&#39;, &#39;cpan-authors&#39;, &#39;8.4.1&#39;,    &#39;statler&#39;, ],
                      ],
         },
+        {
+           test =&gt; &#34;Complex INNER JOIN&#34;,
+           sql =&gt; q{SELECT pname, sname, rname
+             FROM Prof p
+             JOIN Subject s
+               ON p.pid = s.pid
+             JOIN Room r
+               ON p.pid = r.pid
+           },
+           result =&gt; [ [qw&#40;Sue Chem 1C&#41;], [qw&#40;Bob Bio 2B&#41;], [qw&#40;Bob Math 2B&#41;] ],
+           todo =&gt; &#39;Not supported yet!&#39;,
+        },
+        {
+           test =&gt; &#34;Complex INNER JOIN &#40;using&#41;&#34;,
+           sql =&gt; q{SELECT pname, sname, rname
+             FROM Prof
+             JOIN Subject USING &#40;pid&#41;
+             JOIN Room USING &#40;pid&#41;
+           },
+           result =&gt; [ [qw&#40;Sue Chem 1C&#41;], [qw&#40;Bob Bio 2B&#41;], [qw&#40;Bob Math 2B&#41;] ],
+           todo =&gt; &#39;Not supported yet!&#39;,
+        },
+        {
+           test =&gt; &#34;Complex NATURAL JOIN&#34;,
+           sql =&gt; q{SELECT pname, sname, rname
+             FROM Prof NATURAL JOIN Subject NATURAL JOIN Room
+           },
+           result =&gt; [ [qw&#40;Sue Chem 1C&#41;], [qw&#40;Bob Bio 2B&#41;], [qw&#40;Bob Math 2B&#41;] ],
+           todo =&gt; &#39;Not supported yet!&#39;,
+        },
+        {
+           test =&gt; &#34;Complex LEFT JOIN&#34;,
+           sql =&gt; q{SELECT pname, sname, rname
+             FROM Prof p
+             LEFT JOIN Subject s
+               ON p.pid = s.pid
+             LEFT JOIN Room r
+               ON p.pid = r.pid
+           },
+           result =&gt; [ [qw&#40;Sue Chem 1C&#41;], [qw&#40;Bob Bio 2B&#41;], [qw&#40;Bob Math 2B&#41;], [&#39;Tom&#39;, undef, undef] ],
+           todo =&gt; &#39;Not supported yet!&#39;,
+        },
     &#41;;
 
     foreach my $test &#40;@tests&#41;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125262" href="/Public/Bug/Display.html?id=69573#txn-1125262">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:44:42&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125262/591966/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/591966">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 155b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patches applied with changes after failure analysing session. Can&#39;t
believe that your version of t/08join.t run successful &#40;from
Test::More&#39;s perspective&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125265" href="/Public/Bug/Display.html?id=69573#txn-1125265">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:44:43&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125271" href="/Public/Bug/Display.html?id=69573#txn-1125271">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:56:09&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #71780:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125271/591972/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/591972">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 108b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I put it into this because of it&#39;s all the same reason. Hope it&#39;s gonna
fixed when rewriting SQL::Statement.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125274" href="/Public/Bug/Display.html?id=69573#txn-1125274">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:56:10&nbsp;2012</span>
    <span class="description">The RT System itself - Ticket #71780:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125275" href="/Public/Bug/Display.html?id=69573#txn-1125275">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:56:10&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #71780:  Merged into ticket #69573</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125276" href="/Public/Bug/Display.html?id=69573#txn-1125276">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;10:56:10&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Merged into ticket #69573</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125286" href="/Public/Bug/Display.html?id=69573#txn-1125286">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;11:58:41&nbsp;2012</span>
    <span class="description">BBYRD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125286/591981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/591981">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 02 10:56:09 2012, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I put it into this because of it&#39;s all the same reason. Hope it&#39;s gonna
&gt; fixed when rewriting SQL::Statement.
</div>
Believe it or not, I am actively developing in this area, and have been
for the last couple of months.  Latest DFS levels:

1. SQL::Statement needs a new parser.  Parser should be something like
SQLT, with multiple in/out parsers.

2. SQLT currently does not work with non-schema statements, so a new
parser project should be created.  Parser should borrow from a real,
active RDBMS like PostgreSQL.

3. Pg&#39;s parser is written in Bison/C.  Need to convert to Perl.

4. Successfully converted to Eyapp, but Eyapp is pretty outdated and
inefficient as a parser language.  Queries still slow.  Would have more
success with a modern top-down parser like Pegex.

5. Pegex is a rather new language and needs some feature enchantments to
help support the conversion and provide a long-term code base for the
parser.  Working with Ingy to shape language to work better with larger
parsers like this.

Currently at level 5, which I think is about as far down the rabbit hole
as you can go.  Have written a quick eyapp2pegex convertor, but like I
said, some shaping of the language needs to happen first to keep things
sane.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125289" href="/Public/Bug/Display.html?id=69573#txn-1125289">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;11:58:42&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125338" href="/Public/Bug/Display.html?id=69573#txn-1125338">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;02&nbsp;14:25:15&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> dbi-dev [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125338/591999/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/591999">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 02 11:58:41 2012, BBYRD wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Oct 02 10:56:09 2012, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; I put it into this because of it&#39;s all the same reason. Hope it&#39;s gonna
&gt; &gt; fixed when rewriting SQL::Statement.
</div>&gt; 
&gt; Believe it or not, I am actively developing in this area, and have been
&gt; for the last couple of months.
</div>
I believe that. That was not a comment to your effort nor your skills -
it was a comment on the quality of the patch. At first it didn&#39;t apply
cleanly and second it leads &#34;make test&#34; to fail.

Because I know that you active developing, I didn&#39;t simply reply
&#34;patched with modifications&#34; - I told you it costs me a lot extra effort
and hope your next submissions will be better.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Latest DFS levels:
&gt; 
&gt; 1. SQL::Statement needs a new parser.  Parser should be something like
&gt; SQLT, with multiple in/out parsers.
</div>
Yes, we all agree on it. I talked to mst and ribasushi about that and I
think we found a solution from several kind of views. When ribasushi is
back from USA we meet again and talk about some details.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2. SQLT currently does not work with non-schema statements, so a new
&gt; parser project should be created.  Parser should borrow from a real,
&gt; active RDBMS like PostgreSQL.
</div>
Additional ones might be - but the one being bundled with SQL::Statement
will definitively not. But the design we discussed at YAPC::EU should
allow you to write as many parsers supporting as many dialects as your
projects require. This was a major goal I wanted to reach &#40;because I
understood your requirements - I just disagree fulfilling them in the
SQL::Parser&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 3. Pg&#39;s parser is written in Bison/C.  Need to convert to Perl.
&gt; 
&gt; 4. Successfully converted to Eyapp, but Eyapp is pretty outdated and
&gt; inefficient as a parser language.  Queries still slow.  Would have more
&gt; success with a modern top-down parser like Pegex.
</div>
I&#39;m always open for suggestions. Pegex looks interesting, thanks for the
suggestion.

But to be true - a real good thing would be some kind of tool which is
able to generate Pure-Perl Parser code as well as optional XS support
without requiring additional modules at runtime.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 5. Pegex is a rather new language and needs some feature enchantments to
&gt; help support the conversion and provide a long-term code base for the
&gt; parser.  Working with Ingy to shape language to work better with larger
&gt; parsers like this.
&gt; 
&gt; Currently at level 5, which I think is about as far down the rabbit hole
&gt; as you can go.  Have written a quick eyapp2pegex convertor, but like I
&gt; said, some shaping of the language needs to happen first to keep things
&gt; sane.
</div>
Let&#39;s see what future brings. A token based parser is the next primary
goal - this is the thing I agree on.

I&#39;d prefer to have that kind of discussion on dbi-dev@ &#40;with probably
ribasushi, frew and mst on CC - for Data::Query and SQLT parts of
discussion&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1134200" href="/Public/Bug/Display.html?id=69573#txn-1134200">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;09:48:01&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Severity Wishlist added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1134201" href="/Public/Bug/Display.html?id=69573#txn-1134201">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;09:48:01&nbsp;2012</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.555804</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
