<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50929 for Text-ParseWords: Convert Text-ParseWords test file from DOS EOLs to UNIX EOLs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50929 for Text-ParseWords: Convert Text-ParseWords test file from DOS EOLs to UNIX EOLs</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Text-ParseWords">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Text-ParseWords">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Text-ParseWords">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Text-ParseWords">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Text-ParseWords">Text-ParseWords CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50929</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Text-ParseWords">Text-ParseWords</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
shay [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-32224-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.27    </td>
  </tr>
  <tr id="CF-32225-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-dos2unix-a-Text-ParseWords-test-file-with-DOS-EOLs.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1181152/623102/0001-dos2unix-a-Text-ParseWords-test-file-with-DOS-EOLs.patch">
Thu Feb 14 15:04:53 2013 (8.1k) by bitcard [...] chimpychompy.org
</a>
</font></li>
</ul>


sync-with-blead.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1243808/657834/sync-with-blead.patch">
Thu Aug 01 03:35:25 2013 (9.3k) by shay [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=50929">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-683686" href="/Public/Bug/Display.html?id=50929#txn-683686">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;28&nbsp;13:43:56&nbsp;2009</span>
    <span class="description">shay [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Convert Text-ParseWords test file from DOS EOLs to UNIX EOLs</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/683686/352140/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/352140">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">A recent discussion on p5p:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2009-10/msg00967.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2009-10/msg00967.html</a></span>

lead to a change being made to the release process so that certain files
&#40;mainly under win32/&#41; that used to be converted from UNIX EOLs &#40;in the
repository&#41; to DOS EOLs &#40;in the release tarball&#41; are no longer
converted. The reason was simply that it is no longer necessary for
these files to have DOS EOLs, since modern Windows programs cope
perfectly well with UNIX EOLs, and it is simpler not to do the conversion.

It was noticed at the same time that a small number of other files
currently have DOS EOLs in the repository, and it would perhaps be
simpler if all files in the repository had UNIX EOLs &#40;unless any have to
have DOS EOLs for some reason&#41;.

The file t/ParseWords.t in Text-ParseWords has DOS EOLs. It would be
helpful if a new release of Text-ParseWords could be made which converts
this file to UNIX EOLs, and it would be best for people in the future
looking back through the history of changes to files if nothing else was
changed in this file at the same time &#40;otherwise those other changes
would get masked somewhat by the noise of the EOLs changes&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1181152" href="/Public/Bug/Display.html?id=50929#txn-1181152">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;14&nbsp;15:04:52&nbsp;2013</span>
    <span class="description">bitcard [...] chimpychompy.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bitcard [...] chimpychompy.org</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1181152/623101/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/623101">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 51b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is the same patch I recently submitted to p5p.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-dos2unix-a-Text-ParseWords-test-file-with-DOS-EOLs.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1181152/623102/0001-dos2unix-a-Text-ParseWords-test-file-with-DOS-EOLs.patch">Download 0001-dos2unix-a-Text-ParseWords-test-file-with-DOS-EOLs.patch</a><br />
<span class="downloadcontenttype">text/x-diff 8.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">From d11155eecaaa8b428e5eee000b39b9f64a8ffefd Mon Sep 17 00:00:00 2001
From: Gavin Shelley &lt;columbusmonkey@me.com&gt;
Date: Mon, 11 Feb 2013 22:15:56 +0000
Subject: [PATCH] dos2unix a Text-ParseWords test file with DOS EOLs

---
 cpan/Text-ParseWords/t/ParseWords.t |  244 +++++++++++++++++------------------
 1 file changed, 122 insertions&#40;+&#41;, 122 deletions&#40;-&#41;

diff --git a/cpan/Text-ParseWords/t/ParseWords.t b/cpan/Text-ParseWords/t/ParseWords.t
index 905ea00..3fb7ac6 100644
--- a/cpan/Text-ParseWords/t/ParseWords.t
+++ b/cpan/Text-ParseWords/t/ParseWords.t
@@ -1,122 +1,122 @@
-#!./perl
-
-use warnings;
-use Text::ParseWords;
-use Test::More tests =&gt; 27;
-
-@words = shellwords&#40;qq&#40;foo &#34;bar quiz&#34; zoo&#41;&#41;;
-is&#40;$words[0], &#39;foo&#39;&#41;;
-is&#40;$words[1], &#39;bar quiz&#39;&#41;;
-is&#40;$words[2], &#39;zoo&#39;&#41;;
-
-{
-  # Gonna get some undefined things back
-  no warnings &#39;uninitialized&#39; ;
-
-  # Test quotewords&#40;&#41; with other parameters and null last field
-  @words = quotewords&#40;&#39;:+&#39;, 1, &#39;foo:::&#34;bar:foo&#34;:zoo zoo:&#39;&#41;;
-  is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;foo;&#34;bar:foo&#34;;zoo zoo;&#41;&#41;;
-}
-
-# Test $keep eq &#39;delimiters&#39; and last field zero
-@words = quotewords&#40;&#39;\s+&#39;, &#39;delimiters&#39;, &#39;4 3 2 1 0&#39;&#41;;
-is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4; ;3; ;2; ;1; ;0&#41;&#41;;
-
-# Big ol&#39; nasty test &#40;thanks, Joerk!&#41;
-$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34; &#34;gg&#34;&#39;;
-
-# First with $keep == 1
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 1, $string&#41;&#41;;
-is&#40;$result, &#39;aaaa&#34;bbbbb&#34;|cc\\ cc|\\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34;|&#34;gg&#34;&#39;&#41;;
-
-# Now, $keep == 0
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\&#34;ffff|gg&#39;&#41;;
-
-# Now test single quote behavior
-$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd\&#39; eee\\\\\\&#34;ffff\&#39; gg&#39;;
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\\\\\&#34;ffff|gg&#39;&#41;;
-
-# Make sure @nested_quotewords does the right thing
-@lists = nested_quotewords&#40;&#39;\s+&#39;, 0, &#39;a b c&#39;, &#39;1 2 3&#39;, &#39;x y z&#39;&#41;;
-is &#40;@lists, 3&#41;;
-is &#40;@{$lists[0]}, 3&#41;;
-is &#40;@{$lists[1]}, 3&#41;;
-is &#40;@{$lists[2]}, 3&#41;;
-
-# Now test error return
-$string = &#39;foo bar baz&#34;bach blech boop&#39;;
-
-@words = shellwords&#40;$string&#41;;
-is&#40;@words, 0&#41;;
-
-@words = parse_line&#40;&#39;s+&#39;, 0, $string&#41;;
-is&#40;@words, 0&#41;;
-
-@words = quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
-is&#40;@words, 0&#41;;
-
-{
-  # Gonna get some more undefined things back
-  no warnings &#39;uninitialized&#39; ;
-
-  @words = nested_quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
-  is&#40;@words, 0&#41;;
-
-  # Now test empty fields
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;foo::0:&#34;&#34;:::&#39;&#41;&#41;;
-  is&#40;$result, &#39;foo||0||||&#39;&#41;;
-
-  # Test for 0 in quotes without $keep
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;0&#34;:&#39;&#41;&#41;;
-  is&#40;$result, &#39;|0|&#39;&#41;;
-
-  # Test for \001 in quoted string
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;&#39; . &#34;\001&#34; . &#39;&#34;:&#39;&#41;&#41;;
-  is&#40;$result, &#34;|\1|&#34;&#41;;
-
-}
-
-# Now test perlish single quote behavior
-$Text::ParseWords::PERL_SINGLE_QUOTE = 1;
-$string = &#39;aaaa&#34;bbbbb&#34; cc\ cc \\\\\&#34;dddd\&#39; eee\\\\\&#34;\\\&#39;ffff\&#39; gg&#39;;
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\&#34;dddd eee\\\\&#34;\&#39;ffff|gg&#39;&#41;;
-
-# test whitespace in the delimiters
-@words = quotewords&#40;&#39; &#39;, 1, &#39;4 3 2 1 0&#39;&#41;;
-is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4;3;2;1;0&#41;&#41;;
-
-# [perl #30442] Text::ParseWords does not handle backslashed newline inside quoted text
-$string = qq{&#34;field1&#34;	&#34;field2\\\nstill field2&#34;	&#34;field3&#34;};
-
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 1, $string&#41;&#41;;
-is&#40;$result, qq{&#34;field1&#34;|&#34;field2\\\nstill field2&#34;|&#34;field3&#34;}&#41;;
-
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 0, $string&#41;&#41;;
-is&#40;$result, &#34;field1|field2\nstill field2|field3&#34;&#41;;
-
-SKIP: { # unicode
-  skip &#34;No unicode&#34;,1 if $]&lt;5.008;
-  $string = qq{&#34;field1&#34;\x{1234}&#34;field2\\\x{1234}still field2&#34;\x{1234}&#34;field3&#34;};
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\x{1234}&#34;, 0, $string&#41;&#41;;
-  is&#40;$result, &#34;field1|field2\x{1234}still field2|field3&#34;,&#39;Unicode&#39;&#41;;
-}
-
-# missing quote after matching regex used to hang after change #22997
-&#34;1234&#34; =~ /&#40;1&#41;&#40;2&#41;&#40;3&#41;&#40;4&#41;/;
-$string = qq{&#34;missing quote};
-$result = join&#40;&#39;|&#39;, shellwords&#40;$string&#41;&#41;;
-is&#40;$result, &#34;&#34;&#41;;
-
-# make sure shellwords strips out leading whitespace and trailng undefs
-# from parse_line, so it&#39;s behavior is more like /bin/sh
-$result = join&#40;&#39;|&#39;, shellwords&#40;&#34; aa \\  \\ bb &#34;, &#34; \\  &#34;, &#34;cc dd ee\\ &#34;&#41;&#41;;
-is&#40;$result, &#34;aa| | bb| |cc|dd|ee &#34;&#41;;
-
-$SIG{ALRM} = sub {die &#34;Timeout!&#34;};
-alarm&#40;3&#41;;
-@words = Text::ParseWords::old_shellwords&#40;&#34;foo\\&#34;&#41;;
-is&#40;@words, 1&#41;;
-alarm&#40;0&#41;;
+#!./perl
+
+use warnings;
+use Text::ParseWords;
+use Test::More tests =&gt; 27;
+
+@words = shellwords&#40;qq&#40;foo &#34;bar quiz&#34; zoo&#41;&#41;;
+is&#40;$words[0], &#39;foo&#39;&#41;;
+is&#40;$words[1], &#39;bar quiz&#39;&#41;;
+is&#40;$words[2], &#39;zoo&#39;&#41;;
+
+{
+  # Gonna get some undefined things back
+  no warnings &#39;uninitialized&#39; ;
+
+  # Test quotewords&#40;&#41; with other parameters and null last field
+  @words = quotewords&#40;&#39;:+&#39;, 1, &#39;foo:::&#34;bar:foo&#34;:zoo zoo:&#39;&#41;;
+  is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;foo;&#34;bar:foo&#34;;zoo zoo;&#41;&#41;;
+}
+
+# Test $keep eq &#39;delimiters&#39; and last field zero
+@words = quotewords&#40;&#39;\s+&#39;, &#39;delimiters&#39;, &#39;4 3 2 1 0&#39;&#41;;
+is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4; ;3; ;2; ;1; ;0&#41;&#41;;
+
+# Big ol&#39; nasty test &#40;thanks, Joerk!&#41;
+$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34; &#34;gg&#34;&#39;;
+
+# First with $keep == 1
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 1, $string&#41;&#41;;
+is&#40;$result, &#39;aaaa&#34;bbbbb&#34;|cc\\ cc|\\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34;|&#34;gg&#34;&#39;&#41;;
+
+# Now, $keep == 0
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\&#34;ffff|gg&#39;&#41;;
+
+# Now test single quote behavior
+$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd\&#39; eee\\\\\\&#34;ffff\&#39; gg&#39;;
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\\\\\&#34;ffff|gg&#39;&#41;;
+
+# Make sure @nested_quotewords does the right thing
+@lists = nested_quotewords&#40;&#39;\s+&#39;, 0, &#39;a b c&#39;, &#39;1 2 3&#39;, &#39;x y z&#39;&#41;;
+is &#40;@lists, 3&#41;;
+is &#40;@{$lists[0]}, 3&#41;;
+is &#40;@{$lists[1]}, 3&#41;;
+is &#40;@{$lists[2]}, 3&#41;;
+
+# Now test error return
+$string = &#39;foo bar baz&#34;bach blech boop&#39;;
+
+@words = shellwords&#40;$string&#41;;
+is&#40;@words, 0&#41;;
+
+@words = parse_line&#40;&#39;s+&#39;, 0, $string&#41;;
+is&#40;@words, 0&#41;;
+
+@words = quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
+is&#40;@words, 0&#41;;
+
+{
+  # Gonna get some more undefined things back
+  no warnings &#39;uninitialized&#39; ;
+
+  @words = nested_quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
+  is&#40;@words, 0&#41;;
+
+  # Now test empty fields
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;foo::0:&#34;&#34;:::&#39;&#41;&#41;;
+  is&#40;$result, &#39;foo||0||||&#39;&#41;;
+
+  # Test for 0 in quotes without $keep
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;0&#34;:&#39;&#41;&#41;;
+  is&#40;$result, &#39;|0|&#39;&#41;;
+
+  # Test for \001 in quoted string
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;&#39; . &#34;\001&#34; . &#39;&#34;:&#39;&#41;&#41;;
+  is&#40;$result, &#34;|\1|&#34;&#41;;
+
+}
+
+# Now test perlish single quote behavior
+$Text::ParseWords::PERL_SINGLE_QUOTE = 1;
+$string = &#39;aaaa&#34;bbbbb&#34; cc\ cc \\\\\&#34;dddd\&#39; eee\\\\\&#34;\\\&#39;ffff\&#39; gg&#39;;
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\&#34;dddd eee\\\\&#34;\&#39;ffff|gg&#39;&#41;;
+
+# test whitespace in the delimiters
+@words = quotewords&#40;&#39; &#39;, 1, &#39;4 3 2 1 0&#39;&#41;;
+is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4;3;2;1;0&#41;&#41;;
+
+# [perl #30442] Text::ParseWords does not handle backslashed newline inside quoted text
+$string = qq{&#34;field1&#34;	&#34;field2\\\nstill field2&#34;	&#34;field3&#34;};
+
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 1, $string&#41;&#41;;
+is&#40;$result, qq{&#34;field1&#34;|&#34;field2\\\nstill field2&#34;|&#34;field3&#34;}&#41;;
+
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 0, $string&#41;&#41;;
+is&#40;$result, &#34;field1|field2\nstill field2|field3&#34;&#41;;
+
+SKIP: { # unicode
+  skip &#34;No unicode&#34;,1 if $]&lt;5.008;
+  $string = qq{&#34;field1&#34;\x{1234}&#34;field2\\\x{1234}still field2&#34;\x{1234}&#34;field3&#34;};
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\x{1234}&#34;, 0, $string&#41;&#41;;
+  is&#40;$result, &#34;field1|field2\x{1234}still field2|field3&#34;,&#39;Unicode&#39;&#41;;
+}
+
+# missing quote after matching regex used to hang after change #22997
+&#34;1234&#34; =~ /&#40;1&#41;&#40;2&#41;&#40;3&#41;&#40;4&#41;/;
+$string = qq{&#34;missing quote};
+$result = join&#40;&#39;|&#39;, shellwords&#40;$string&#41;&#41;;
+is&#40;$result, &#34;&#34;&#41;;
+
+# make sure shellwords strips out leading whitespace and trailng undefs
+# from parse_line, so it&#39;s behavior is more like /bin/sh
+$result = join&#40;&#39;|&#39;, shellwords&#40;&#34; aa \\  \\ bb &#34;, &#34; \\  &#34;, &#34;cc dd ee\\ &#34;&#41;&#41;;
+is&#40;$result, &#34;aa| | bb| |cc|dd|ee &#34;&#41;;
+
+$SIG{ALRM} = sub {die &#34;Timeout!&#34;};
+alarm&#40;3&#41;;
+@words = Text::ParseWords::old_shellwords&#40;&#34;foo\\&#34;&#41;;
+is&#40;@words, 1&#41;;
+alarm&#40;0&#41;;
-- 
1.7.10.2 &#40;Apple Git-33&#41;

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1181155" href="/Public/Bug/Display.html?id=50929#txn-1181155">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;14&nbsp;15:04:54&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1243808" href="/Public/Bug/Display.html?id=50929#txn-1243808">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;01&nbsp;03:35:25&nbsp;2013</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1243808/657833/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/657833">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 446b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The attached patch against 3.29 syncs the two test files with what is currently in bleadperl, which I believe to be correct.

The PERL_CORE boilerplate code has been removed from both test files, and both files have been converted from DOS EOLs to UNIX EOLs.

It&#39;s not urgent, but I would be very grateful if you could apply this patch and roll a new CPAN release, ideally before 20th August when the next Perl release is due, if that&#39;s possible.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> sync-with-blead.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1243808/657834/sync-with-blead.patch">Download sync-with-blead.patch</a><br />
<span class="downloadcontenttype">text/x-diff 9.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ruN Text-ParseWords-3.29.orig/t/ParseWords.t Text-ParseWords-3.29/t/ParseWords.t
--- Text-ParseWords-3.29.orig/t/ParseWords.t	2009-09-16 22:09:47.000000000 +0100
+++ Text-ParseWords-3.29/t/ParseWords.t	2013-06-26 08:16:10.877189600 +0100
@@ -1,129 +1,122 @@
-#!./perl
-
-BEGIN {
-    if&#40; $ENV{PERL_CORE} &#41; {
-        chdir &#39;t&#39; if -d &#39;t&#39;;
-        @INC = &#39;../lib&#39;;
-    }
-}
-
-use warnings;
-use Text::ParseWords;
-use Test::More tests =&gt; 27;
-
-@words = shellwords&#40;qq&#40;foo &#34;bar quiz&#34; zoo&#41;&#41;;
-is&#40;$words[0], &#39;foo&#39;&#41;;
-is&#40;$words[1], &#39;bar quiz&#39;&#41;;
-is&#40;$words[2], &#39;zoo&#39;&#41;;
-
-{
-  # Gonna get some undefined things back
-  no warnings &#39;uninitialized&#39; ;
-
-  # Test quotewords&#40;&#41; with other parameters and null last field
-  @words = quotewords&#40;&#39;:+&#39;, 1, &#39;foo:::&#34;bar:foo&#34;:zoo zoo:&#39;&#41;;
-  is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;foo;&#34;bar:foo&#34;;zoo zoo;&#41;&#41;;
-}
-
-# Test $keep eq &#39;delimiters&#39; and last field zero
-@words = quotewords&#40;&#39;\s+&#39;, &#39;delimiters&#39;, &#39;4 3 2 1 0&#39;&#41;;
-is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4; ;3; ;2; ;1; ;0&#41;&#41;;
-
-# Big ol&#39; nasty test &#40;thanks, Joerk!&#41;
-$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34; &#34;gg&#34;&#39;;
-
-# First with $keep == 1
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 1, $string&#41;&#41;;
-is&#40;$result, &#39;aaaa&#34;bbbbb&#34;|cc\\ cc|\\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34;|&#34;gg&#34;&#39;&#41;;
-
-# Now, $keep == 0
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\&#34;ffff|gg&#39;&#41;;
-
-# Now test single quote behavior
-$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd\&#39; eee\\\\\\&#34;ffff\&#39; gg&#39;;
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\\\\\&#34;ffff|gg&#39;&#41;;
-
-# Make sure @nested_quotewords does the right thing
-@lists = nested_quotewords&#40;&#39;\s+&#39;, 0, &#39;a b c&#39;, &#39;1 2 3&#39;, &#39;x y z&#39;&#41;;
-is &#40;@lists, 3&#41;;
-is &#40;@{$lists[0]}, 3&#41;;
-is &#40;@{$lists[1]}, 3&#41;;
-is &#40;@{$lists[2]}, 3&#41;;
-
-# Now test error return
-$string = &#39;foo bar baz&#34;bach blech boop&#39;;
-
-@words = shellwords&#40;$string&#41;;
-is&#40;@words, 0&#41;;
-
-@words = parse_line&#40;&#39;s+&#39;, 0, $string&#41;;
-is&#40;@words, 0&#41;;
-
-@words = quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
-is&#40;@words, 0&#41;;
-
-{
-  # Gonna get some more undefined things back
-  no warnings &#39;uninitialized&#39; ;
-
-  @words = nested_quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
-  is&#40;@words, 0&#41;;
-
-  # Now test empty fields
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;foo::0:&#34;&#34;:::&#39;&#41;&#41;;
-  is&#40;$result, &#39;foo||0||||&#39;&#41;;
-
-  # Test for 0 in quotes without $keep
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;0&#34;:&#39;&#41;&#41;;
-  is&#40;$result, &#39;|0|&#39;&#41;;
-
-  # Test for \001 in quoted string
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;&#39; . &#34;\001&#34; . &#39;&#34;:&#39;&#41;&#41;;
-  is&#40;$result, &#34;|\1|&#34;&#41;;
-
-}
-
-# Now test perlish single quote behavior
-$Text::ParseWords::PERL_SINGLE_QUOTE = 1;
-$string = &#39;aaaa&#34;bbbbb&#34; cc\ cc \\\\\&#34;dddd\&#39; eee\\\\\&#34;\\\&#39;ffff\&#39; gg&#39;;
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
-is&#40;$result, &#39;aaaabbbbb|cc cc|\&#34;dddd eee\\\\&#34;\&#39;ffff|gg&#39;&#41;;
-
-# test whitespace in the delimiters
-@words = quotewords&#40;&#39; &#39;, 1, &#39;4 3 2 1 0&#39;&#41;;
-is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4;3;2;1;0&#41;&#41;;
-
-# [perl #30442] Text::ParseWords does not handle backslashed newline inside quoted text
-$string = qq{&#34;field1&#34;	&#34;field2\\\nstill field2&#34;	&#34;field3&#34;};
-
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 1, $string&#41;&#41;;
-is&#40;$result, qq{&#34;field1&#34;|&#34;field2\\\nstill field2&#34;|&#34;field3&#34;}&#41;;
-
-$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 0, $string&#41;&#41;;
-is&#40;$result, &#34;field1|field2\nstill field2|field3&#34;&#41;;
-
-SKIP: { # unicode
-  skip &#34;No unicode&#34;,1 if $]&lt;5.008;
-  $string = qq{&#34;field1&#34;\x{1234}&#34;field2\\\x{1234}still field2&#34;\x{1234}&#34;field3&#34;};
-  $result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\x{1234}&#34;, 0, $string&#41;&#41;;
-  is&#40;$result, &#34;field1|field2\x{1234}still field2|field3&#34;,&#39;Unicode&#39;&#41;;
-}
-
-# missing quote after matching regex used to hang after change #22997
-&#34;1234&#34; =~ /&#40;1&#41;&#40;2&#41;&#40;3&#41;&#40;4&#41;/;
-$string = qq{&#34;missing quote};
-$result = join&#40;&#39;|&#39;, shellwords&#40;$string&#41;&#41;;
-is&#40;$result, &#34;&#34;&#41;;
-
-# make sure shellwords strips out leading whitespace and trailng undefs
-# from parse_line, so it&#39;s behavior is more like /bin/sh
-$result = join&#40;&#39;|&#39;, shellwords&#40;&#34; aa \\  \\ bb &#34;, &#34; \\  &#34;, &#34;cc dd ee\\ &#34;&#41;&#41;;
-is&#40;$result, &#34;aa| | bb| |cc|dd|ee &#34;&#41;;
-
-$SIG{ALRM} = sub {die &#34;Timeout!&#34;};
-alarm&#40;3&#41;;
-@words = Text::ParseWords::old_shellwords&#40;&#34;foo\\&#34;&#41;;
-is&#40;@words, 1&#41;;
-alarm&#40;0&#41;;
+#!./perl
+
+use warnings;
+use Text::ParseWords;
+use Test::More tests =&gt; 27;
+
+@words = shellwords&#40;qq&#40;foo &#34;bar quiz&#34; zoo&#41;&#41;;
+is&#40;$words[0], &#39;foo&#39;&#41;;
+is&#40;$words[1], &#39;bar quiz&#39;&#41;;
+is&#40;$words[2], &#39;zoo&#39;&#41;;
+
+{
+  # Gonna get some undefined things back
+  no warnings &#39;uninitialized&#39; ;
+
+  # Test quotewords&#40;&#41; with other parameters and null last field
+  @words = quotewords&#40;&#39;:+&#39;, 1, &#39;foo:::&#34;bar:foo&#34;:zoo zoo:&#39;&#41;;
+  is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;foo;&#34;bar:foo&#34;;zoo zoo;&#41;&#41;;
+}
+
+# Test $keep eq &#39;delimiters&#39; and last field zero
+@words = quotewords&#40;&#39;\s+&#39;, &#39;delimiters&#39;, &#39;4 3 2 1 0&#39;&#41;;
+is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4; ;3; ;2; ;1; ;0&#41;&#41;;
+
+# Big ol&#39; nasty test &#40;thanks, Joerk!&#41;
+$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34; &#34;gg&#34;&#39;;
+
+# First with $keep == 1
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 1, $string&#41;&#41;;
+is&#40;$result, &#39;aaaa&#34;bbbbb&#34;|cc\\ cc|\\\\\\&#34;dddd&#34; eee\\\\\\&#34;ffff&#34;|&#34;gg&#34;&#39;&#41;;
+
+# Now, $keep == 0
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\&#34;ffff|gg&#39;&#41;;
+
+# Now test single quote behavior
+$string = &#39;aaaa&#34;bbbbb&#34; cc\\ cc \\\\\\&#34;dddd\&#39; eee\\\\\\&#34;ffff\&#39; gg&#39;;
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\\&#34;dddd eee\\\\\\&#34;ffff|gg&#39;&#41;;
+
+# Make sure @nested_quotewords does the right thing
+@lists = nested_quotewords&#40;&#39;\s+&#39;, 0, &#39;a b c&#39;, &#39;1 2 3&#39;, &#39;x y z&#39;&#41;;
+is &#40;@lists, 3&#41;;
+is &#40;@{$lists[0]}, 3&#41;;
+is &#40;@{$lists[1]}, 3&#41;;
+is &#40;@{$lists[2]}, 3&#41;;
+
+# Now test error return
+$string = &#39;foo bar baz&#34;bach blech boop&#39;;
+
+@words = shellwords&#40;$string&#41;;
+is&#40;@words, 0&#41;;
+
+@words = parse_line&#40;&#39;s+&#39;, 0, $string&#41;;
+is&#40;@words, 0&#41;;
+
+@words = quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
+is&#40;@words, 0&#41;;
+
+{
+  # Gonna get some more undefined things back
+  no warnings &#39;uninitialized&#39; ;
+
+  @words = nested_quotewords&#40;&#39;s+&#39;, 0, $string&#41;;
+  is&#40;@words, 0&#41;;
+
+  # Now test empty fields
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;foo::0:&#34;&#34;:::&#39;&#41;&#41;;
+  is&#40;$result, &#39;foo||0||||&#39;&#41;;
+
+  # Test for 0 in quotes without $keep
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;0&#34;:&#39;&#41;&#41;;
+  is&#40;$result, &#39;|0|&#39;&#41;;
+
+  # Test for \001 in quoted string
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#39;:&#39;, 0, &#39;:&#34;&#39; . &#34;\001&#34; . &#39;&#34;:&#39;&#41;&#41;;
+  is&#40;$result, &#34;|\1|&#34;&#41;;
+
+}
+
+# Now test perlish single quote behavior
+$Text::ParseWords::PERL_SINGLE_QUOTE = 1;
+$string = &#39;aaaa&#34;bbbbb&#34; cc\ cc \\\\\&#34;dddd\&#39; eee\\\\\&#34;\\\&#39;ffff\&#39; gg&#39;;
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#39;\s+&#39;, 0, $string&#41;&#41;;
+is&#40;$result, &#39;aaaabbbbb|cc cc|\&#34;dddd eee\\\\&#34;\&#39;ffff|gg&#39;&#41;;
+
+# test whitespace in the delimiters
+@words = quotewords&#40;&#39; &#39;, 1, &#39;4 3 2 1 0&#39;&#41;;
+is&#40;join&#40;&#34;;&#34;, @words&#41;, qq&#40;4;3;2;1;0&#41;&#41;;
+
+# [perl #30442] Text::ParseWords does not handle backslashed newline inside quoted text
+$string = qq{&#34;field1&#34;	&#34;field2\\\nstill field2&#34;	&#34;field3&#34;};
+
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 1, $string&#41;&#41;;
+is&#40;$result, qq{&#34;field1&#34;|&#34;field2\\\nstill field2&#34;|&#34;field3&#34;}&#41;;
+
+$result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\t&#34;, 0, $string&#41;&#41;;
+is&#40;$result, &#34;field1|field2\nstill field2|field3&#34;&#41;;
+
+SKIP: { # unicode
+  skip &#34;No unicode&#34;,1 if $]&lt;5.008;
+  $string = qq{&#34;field1&#34;\x{1234}&#34;field2\\\x{1234}still field2&#34;\x{1234}&#34;field3&#34;};
+  $result = join&#40;&#39;|&#39;, parse_line&#40;&#34;\x{1234}&#34;, 0, $string&#41;&#41;;
+  is&#40;$result, &#34;field1|field2\x{1234}still field2|field3&#34;,&#39;Unicode&#39;&#41;;
+}
+
+# missing quote after matching regex used to hang after change #22997
+&#34;1234&#34; =~ /&#40;1&#41;&#40;2&#41;&#40;3&#41;&#40;4&#41;/;
+$string = qq{&#34;missing quote};
+$result = join&#40;&#39;|&#39;, shellwords&#40;$string&#41;&#41;;
+is&#40;$result, &#34;&#34;&#41;;
+
+# make sure shellwords strips out leading whitespace and trailng undefs
+# from parse_line, so it&#39;s behavior is more like /bin/sh
+$result = join&#40;&#39;|&#39;, shellwords&#40;&#34; aa \\  \\ bb &#34;, &#34; \\  &#34;, &#34;cc dd ee\\ &#34;&#41;&#41;;
+is&#40;$result, &#34;aa| | bb| |cc|dd|ee &#34;&#41;;
+
+$SIG{ALRM} = sub {die &#34;Timeout!&#34;};
+alarm&#40;3&#41;;
+@words = Text::ParseWords::old_shellwords&#40;&#34;foo\\&#34;&#41;;
+is&#40;@words, 1&#41;;
+alarm&#40;0&#41;;
diff -ruN Text-ParseWords-3.29.orig/t/taint.t Text-ParseWords-3.29/t/taint.t
--- Text-ParseWords-3.29.orig/t/taint.t	2009-09-16 22:09:47.000000000 +0100
+++ Text-ParseWords-3.29/t/taint.t	2013-06-26 08:16:10.877189600 +0100
@@ -1,26 +1,24 @@
-#!./perl -Tw
-# [perl #33173] shellwords.pl and tainting
-
-BEGIN {
-    if &#40; $ENV{PERL_CORE} &#41; {
-        chdir &#39;t&#39; if -d &#39;t&#39;;
-        @INC = &#39;../lib&#39;;
-        require Config;
-        no warnings &#39;once&#39;;
-        if &#40;$Config::Config{extensions} !~ /\bList\/Util\b/&#41; {
-            print &#34;1..0 # Skip: Scalar::Util was not built\n&#34;;
-            exit 0;
-        }
-    }
-}
-
-use Text::ParseWords qw&#40;shellwords old_shellwords&#41;;
-use Scalar::Util qw&#40;tainted&#41;;
-
-print &#34;1..2\n&#34;;
-
-print &#34;not &#34; if grep { not tainted&#40;$_&#41; } shellwords&#40;&#34;$0$^X&#34;&#41;;
-print &#34;ok 1\n&#34;;
-
-print &#34;not &#34; if grep { not tainted&#40;$_&#41; } old_shellwords&#40;&#34;$0$^X&#34;&#41;;
-print &#34;ok 2\n&#34;;
+#!./perl -Tw
+# [perl #33173] shellwords.pl and tainting
+
+BEGIN {
+    if &#40; $ENV{PERL_CORE} &#41; {
+        require Config;
+        no warnings &#39;once&#39;;
+        if &#40;$Config::Config{extensions} !~ /\bList\/Util\b/&#41; {
+            print &#34;1..0 # Skip: Scalar::Util was not built\n&#34;;
+            exit 0;
+        }
+    }
+}
+
+use Text::ParseWords qw&#40;shellwords old_shellwords&#41;;
+use Scalar::Util qw&#40;tainted&#41;;
+
+print &#34;1..2\n&#34;;
+
+print &#34;not &#34; if grep { not tainted&#40;$_&#41; } shellwords&#40;&#34;$0$^X&#34;&#41;;
+print &#34;ok 1\n&#34;;
+
+print &#34;not &#34; if grep { not tainted&#40;$_&#41; } old_shellwords&#40;&#34;$0$^X&#34;&#41;;
+print &#34;ok 2\n&#34;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1569322" href="/Public/Bug/Display.html?id=50929#txn-1569322">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;03&nbsp;09:01:32&nbsp;2015</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1569322/837822/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/837822">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 38b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PR was closed, so closing this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1569324" href="/Public/Bug/Display.html?id=50929#txn-1569324">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;03&nbsp;09:01:39&nbsp;2015</span>
    <span class="description">shay [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.363732</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
