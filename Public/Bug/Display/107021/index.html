<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #107021 for Log-Dispatch-Log-Syslog-Fast: Log::Dispatch::Log::Syslog::Fast improvement</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #107021 for Log-Dispatch-Log-Syslog-Fast: Log::Dispatch::Log::Syslog::Fast improvement</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Log-Dispatch-Log-Syslog-Fast/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Log-Dispatch-Log-Syslog-Fast/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Log-Dispatch-Log-Syslog-Fast/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Log-Dispatch-Log-Syslog-Fast/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Log-Dispatch-Log-Syslog-Fast">Log-Dispatch-Log-Syslog-Fast CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">107021</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Log-Dispatch-Log-Syslog-Fast/Active/">Log-Dispatch-Log-Syslog-Fast</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chanwilson [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242574-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242575-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;18:15:41&nbsp;2015</span>
    <span class="description">chanwilson [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Log::Dispatch::Log::Syslog::Fast improvement</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 10 Sep 2015 22:15:19 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Log-Dispatch-Log-Syslog-Fast [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chan Wilson &lt;chanwilson [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is concerning version 1.02.

If a syslog server goes down, or is otherwise unreachable, the -&gt;send&#40;&#41;
call at line 138 fails, and manages to bring the entire code base down.

I suggest using Try::Tiny, and wrapping that send&#40;&#41; call in a try{} block.

thanks,

--Chan
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;00:14:03&nbsp;2015</span>
    <span class="description">athomason [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, thanks for the report. Silently suppressing the error could lead to invisible message loss. Why can&#39;t client code do its own exception handling?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;00:14:04&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;02:14:35&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-09-11 00:14:03, ATHOMASON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi, thanks for the report. Silently suppressing the error could lead
&gt; to invisible message loss. Why can&#39;t client code do its own exception
&gt; handling?
</div>
So are you suggesting that the client protects every $log-&gt;... call in an eval or try/catch block? Maybe it would be better if there was an option in the constructor to allow the user to ignore errors, say: ignore_errors =&gt; $bool.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;04:23:09&nbsp;2015</span>
    <span class="description">athomason [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">To be honest I had forgotten I wrote this package, and you&#39;re the first person ever to contact me about it :&#41;. So consider the following comments to be from the place of a now very removed user.

On Fri Sep 11 02:14:35 2015, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So are you suggesting that the client protects every $log-&gt;... call in
&gt; an eval or try/catch block?
</div>
Certainly not with explicit code at every callsite, but my usage of this library was wrapped in a logging middleware that eval{}&#39;ed every call and simply logged errors to a separate stream and carried on, so it wasn&#39;t an actual problem. Yours and other clients should probably do the same, but...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Maybe it would be better if there was an
&gt; option in the constructor to allow the user to ignore errors, say:
&gt; ignore_errors =&gt; $bool.
</div>
Yours is the only concerned vote, so sure. I&#39;m happy to make you a maintainer, let me know if you&#39;d like to take it over.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;13:11:07&nbsp;2015</span>
    <span class="description">chanwilson [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #107021] Log::Dispatch::Log::Syslog::Fast improvement</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 11 Sep 2015 17:10:39 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Log-Dispatch-Log-Syslog-Fast [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chan Wilson &lt;chanwilson [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, it&#39;s possible to wrap all calls to the logger with try{} blocks &#40;ala
Try::Tiny&#41; or eval{}. I have a separate large codebase that resorted to
exactly that.  It&#39;s not what I would call graceful or pretty, especially
since it changes the caller depth, so the use of Log4perl to log the
calling method needed adjusting.

Much more favorable is to catch the error &#39;at the source&#39;, inside LDLSF.
 The current behavior brings the entire program to a halt, unless one has
remembered to try{} the logging... which isn&#39;t common practice.

An option such as &#39;ignore_errors&#39; would be an acceptable solution.

Adam, if you&#39;re willing to have Slaven or myself become the maintainer,
that&#39;s great.   Just let us know.

thanks,

--Chan


On Fri, Sep 11, 2015 at 3:23 AM Adam Thomason via RT &lt;
bug-Log-Dispatch-Log-Syslog-Fast@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=107021">https://rt.cpan.org/Ticket/Display.html?id=107021</a></span> &gt;
&gt;
&gt; To be honest I had forgotten I wrote this package, and you&#39;re the first
&gt; person ever to contact me about it :&#41;. So consider the following comments
&gt; to be from the place of a now very removed user.
&gt;
&gt; On Fri Sep 11 02:14:35 2015, SREZIC wrote:
<div class="message-stanza open">&gt; &gt; So are you suggesting that the client protects every $log-&gt;... call in
&gt; &gt; an eval or try/catch block?
</div>&gt;
&gt; Certainly not with explicit code at every callsite, but my usage of this
&gt; library was wrapped in a logging middleware that eval{}&#39;ed every call and
&gt; simply logged errors to a separate stream and carried on, so it wasn&#39;t an
&gt; actual problem. Yours and other clients should probably do the same, but...
&gt;
<div class="message-stanza open">&gt; &gt; Maybe it would be better if there was an
&gt; &gt; option in the constructor to allow the user to ignore errors, say:
&gt; &gt; ignore_errors =&gt; $bool.
</div>&gt;
&gt; Yours is the only concerned vote, so sure. I&#39;m happy to make you a
&gt; maintainer, let me know if you&#39;d like to take it over.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;21&nbsp;01:58:16&nbsp;2015</span>
    <span class="description">athomason [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok, I&#39;ve added SREZIC as a maintainer. Please just keep the existing default behavior for the sake of darkpan clients.

On Fri Sep 11 13:11:07 2015, chanwilson@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, it&#39;s possible to wrap all calls to the logger with try{} blocks
&gt; &#40;ala
&gt; Try::Tiny&#41; or eval{}. I have a separate large codebase that resorted
&gt; to
&gt; exactly that.  It&#39;s not what I would call graceful or pretty,
&gt; especially
&gt; since it changes the caller depth, so the use of Log4perl to log the
&gt; calling method needed adjusting.
&gt; 
&gt; Much more favorable is to catch the error &#39;at the source&#39;, inside
&gt; LDLSF.
&gt;  The current behavior brings the entire program to a halt, unless one
&gt; has
&gt; remembered to try{} the logging... which isn&#39;t common practice.
&gt; 
&gt; An option such as &#39;ignore_errors&#39; would be an acceptable solution.
&gt; 
&gt; Adam, if you&#39;re willing to have Slaven or myself become the
&gt; maintainer,
&gt; that&#39;s great.   Just let us know.
&gt; 
&gt; thanks,
&gt; 
&gt; --Chan
&gt; 
&gt; 
&gt; On Fri, Sep 11, 2015 at 3:23 AM Adam Thomason via RT &lt;
&gt; bug-Log-Dispatch-Log-Syslog-Fast@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=107021">https://rt.cpan.org/Ticket/Display.html?id=107021</a></span> &gt;
&gt; &gt;
&gt; &gt; To be honest I had forgotten I wrote this package, and you&#39;re the
&gt; &gt; first
&gt; &gt; person ever to contact me about it :&#41;. So consider the following
&gt; &gt; comments
&gt; &gt; to be from the place of a now very removed user.
&gt; &gt;
&gt; &gt; On Fri Sep 11 02:14:35 2015, SREZIC wrote:
<div class="message-stanza open">&gt; &gt; &gt; So are you suggesting that the client protects every $log-&gt;... call
&gt; &gt; &gt; in
&gt; &gt; &gt; an eval or try/catch block?
</div>&gt; &gt;
&gt; &gt; Certainly not with explicit code at every callsite, but my usage of
&gt; &gt; this
&gt; &gt; library was wrapped in a logging middleware that eval{}&#39;ed every call
&gt; &gt; and
&gt; &gt; simply logged errors to a separate stream and carried on, so it
&gt; &gt; wasn&#39;t an
&gt; &gt; actual problem. Yours and other clients should probably do the same,
&gt; &gt; but...
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Maybe it would be better if there was an
&gt; &gt; &gt; option in the constructor to allow the user to ignore errors, say:
&gt; &gt; &gt; ignore_errors =&gt; $bool.
</div>&gt; &gt;
&gt; &gt; Yours is the only concerned vote, so sure. I&#39;m happy to make you a
&gt; &gt; maintainer, let me know if you&#39;d like to take it over.
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
