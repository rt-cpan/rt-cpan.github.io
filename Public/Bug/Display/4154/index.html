<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #4154 for MIME-Lite: MIME &#34;binary&#34; encoding is default but illegal</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #4154 for MIME-Lite: MIME &#34;binary&#34; encoding is default but illegal</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/MIME-Lite/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/MIME-Lite/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/MIME-Lite/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/MIME-Lite/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/MIME-Lite">MIME-Lite CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">4154</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/MIME-Lite/Active/">MIME-Lite</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
julian [...] mehnle.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-21346-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
2.117</li>
<li>
3.0</li>
<li>
3.01</li>
<li>
3.01_01</li>
<li>
3.01_02</li>
</ul>
    </td>
  </tr>
  <tr id="CF-21347-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;18&nbsp;08:29:58&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MIME &#34;binary&#34; encoding is default but illegal</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">MIME::Lite&#39;s documentation states:

Encoding
  Optional. The content transfer encoding that should be used to encode
  your data. [...]
  The default is taken from the Type; generally it is &#34;binary&#34; &#40;no
  encoding&#41; for text/*, message/*, and multipart/*, and &#34;base64&#34; for
  everything else. A value of &#34;binary&#34; is generally not suitable for
  sending anything but ASCII text files with lines under 1000 characters,
  so consider using one of the other values instead.

This is not entirely correct.  In fact, a &#34;binary&#34; encoding is invalid even if only ASCII text with lines under 1000 characters are sent.  RFC 2045 states:

6.2.  Content-Transfer-Encodings Semantics
  Mail transport for unencoded 8bit data is defined in RFC 1652.  As of
  the initial publication of this document, there are no standardized
  Internet mail transports for which it is legitimate to include
  unencoded binary data in mail bodies.  Thus there are no
  circumstances in which the &#34;binary&#34; Content-Transfer-Encoding is
  actually valid in Internet mail.  [...]

SMTP cannot transfer &#34;binary&#34; encoded messages.  Even if the message body is in fact &#34;7bit&#34; encoded, an MTA cannot know this in advance and most MTAs will in fact croak when they see &#34;Content-Transfer-Encoding: binary&#34;.

The default encoding behavior of MIME::Lite for text type or multipart message parts should be changed to something more intelligent, like choosing &#34;8bit&#34; and chopping long lines, or automatically encoding as &#34;quoted-printable&#34;, and the documentation should state clearly that a &#34;binary&#34; encoding is not only &#34;generally not suitable&#34;, but outright illegal when sending through SMTP.

I get far too many broken mails every day that my Courier MTA croaks about, so I hope broken MIME support can be fixed everywhere some time... ;-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;12:35:44&nbsp;2009</span>
    <span class="description">gregoire.lecomte [...] sgcib.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Sam. Oct. 18 08:29:58 2003, guest a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; MIME::Lite&#39;s documentation states:
&gt; 
&gt; Encoding
&gt;   Optional. The content transfer encoding that should be used to
&gt;    encode
&gt;   your data. [...]
&gt;   The default is taken from the Type; generally it is &#34;binary&#34; &#40;no
&gt;   encoding&#41; for text/*, message/*, and multipart/*, and &#34;base64&#34; for
&gt;   everything else. A value of &#34;binary&#34; is generally not suitable for
&gt;   sending anything but ASCII text files with lines under 1000
&gt;    characters,
&gt;   so consider using one of the other values instead.
&gt; 
&gt; This is not entirely correct.  In fact, a &#34;binary&#34; encoding is invalid
&gt;    even if only ASCII text with lines under 1000 characters are sent.
&gt;    RFC 2045 states:
&gt; 
&gt; 6.2.  Content-Transfer-Encodings Semantics
&gt;   Mail transport for unencoded 8bit data is defined in RFC 1652.  As
&gt;    of
&gt;   the initial publication of this document, there are no standardized
&gt;   Internet mail transports for which it is legitimate to include
&gt;   unencoded binary data in mail bodies.  Thus there are no
&gt;   circumstances in which the &#34;binary&#34; Content-Transfer-Encoding is
&gt;   actually valid in Internet mail.  [...]
&gt; 
&gt; SMTP cannot transfer &#34;binary&#34; encoded messages.  Even if the message
&gt;    body is in fact &#34;7bit&#34; encoded, an MTA cannot know this in advance
&gt;    and most MTAs will in fact croak when they see &#34;Content-Transfer-
&gt;    Encoding: binary&#34;.
&gt; 
&gt; The default encoding behavior of MIME::Lite for text type or multipart
&gt;    message parts should be changed to something more intelligent, like
&gt;    choosing &#34;8bit&#34; and chopping long lines, or automatically encoding
&gt;    as &#34;quoted-printable&#34;, and the documentation should state clearly
&gt;    that a &#34;binary&#34; encoding is not only &#34;generally not suitable&#34;, but
&gt;    outright illegal when sending through SMTP.
&gt; 
&gt; I get far too many broken mails every day that my Courier MTA croaks
&gt;    about, so I hope broken MIME support can be fixed everywhere some
&gt;    time... ;-&#41;
</div>

Hello,

we have some bug too with our applications due to this non compliant RFC
implementation. Could you check this please?

Regards
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;12:35:45&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
