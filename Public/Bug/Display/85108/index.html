<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #85108 for HiPi: Test suite calls &#34;apt-get update&#34;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #85108 for HiPi: Test suite calls &#34;apt-get update&#34;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=HiPi">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=HiPi">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=HiPi">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=HiPi">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HiPi">HiPi CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">85108</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=HiPi">HiPi</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">mdootson [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jason [...] ukpost.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-248100-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-248101-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.63    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=85108">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1209109" href="/Public/Bug/Display.html?id=85108#txn-1209109">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;07&nbsp;04:44:45&nbsp;2013</span>
    <span class="description">jason [...] ukfsn.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test suite calls &#34;apt-get update&#34;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209109/638387/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638387">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 185b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The test suite for your module fails as it calls &#34;apt-get update&#34;.

Please remove this from the tests. Your tests have no place whatsoever trying to do anything to the system databases.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1209129" href="/Public/Bug/Display.html?id=85108#txn-1209129">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;07&nbsp;05:10:43&nbsp;2013</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #85108] Test suite calls &#34;apt-get update&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 07 May 2013 10:09:40 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HiPi [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mdootson &lt;mdootson [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209129/638401/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638401">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 851b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Jason

On 07/05/2013 09:44, Jason Clifford via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue May 07 04:44:45 2013: Request 85108 was acted upon.
&gt; Transaction: Ticket created by CLIFFORDJ
&gt;         Queue: HiPi
&gt;       Subject: Test suite calls &#34;apt-get update&#34;
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: Normal
&gt;         Owner: Nobody
&gt;    Requestors: jason@ukpost.com
&gt;        Status: new
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85108">https://rt.cpan.org/Ticket/Display.html?id=85108</a></span> &gt;
&gt;
&gt;
&gt; The test suite for your module fails as it calls &#34;apt-get update&#34;.
&gt;
&gt; Please remove this from the tests. Your tests have no place whatsoever trying to do anything to the system databases.
&gt;
</div>
The fact that the installation / build and test call apt-get update is 
covered several times in the documentation. It is a decision I made. If 
you don&#39;t like it - don&#39;t install or use the modules.

Best Regards

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1209130" href="/Public/Bug/Display.html?id=85108#txn-1209130">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;07&nbsp;05:10:43&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1209132" href="/Public/Bug/Display.html?id=85108#txn-1209132">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;07&nbsp;05:22:08&nbsp;2013</span>
    <span class="description">jason [...] ukpost.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #85108] Test suite calls &#34;apt-get update&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 7 May 2013 10:21:49 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HiPi [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jason Clifford &lt;jason [...] ukpost.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209132/638404/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638404">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I appreciate that decisions on what to include in your module are  yours
however when you uploaded it to cpan you pushed it onto those of us who run
the cpan automated test servers and it us causing those tests to get stuck
because of the call to apt.

Could you perhaps make that party of the tests dependent upon some
environment setting?
On May 7, 2013 10:10 AM, &#34;Mark Dootson via RT&#34; &lt;bug-HiPi@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85108">https://rt.cpan.org/Ticket/Display.html?id=85108</a></span> &gt;
&gt;
&gt; Hi Jason
&gt;
&gt; On 07/05/2013 09:44, Jason Clifford via RT wrote:
<div class="message-stanza open">&gt; &gt; Tue May 07 04:44:45 2013: Request 85108 was acted upon.
&gt; &gt; Transaction: Ticket created by CLIFFORDJ
&gt; &gt;         Queue: HiPi
&gt; &gt;       Subject: Test suite calls &#34;apt-get update&#34;
&gt; &gt;     Broken in: &#40;no value&#41;
&gt; &gt;      Severity: Normal
&gt; &gt;         Owner: Nobody
&gt; &gt;    Requestors: jason@ukpost.com
&gt; &gt;        Status: new
&gt; &gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85108">https://rt.cpan.org/Ticket/Display.html?id=85108</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; The test suite for your module fails as it calls &#34;apt-get update&#34;.
&gt; &gt;
&gt; &gt; Please remove this from the tests. Your tests have no place whatsoever
</div>&gt; trying to do anything to the system databases.
<div class="message-stanza open">&gt; &gt;
</div>&gt;
&gt; The fact that the installation / build and test call apt-get update is
&gt; covered several times in the documentation. It is a decision I made. If
&gt; you don&#39;t like it - don&#39;t install or use the modules.
&gt;
&gt; Best Regards
&gt;
&gt; Mark
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209132/638405/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638405">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1209134" href="/Public/Bug/Display.html?id=85108#txn-1209134">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;07&nbsp;05:32:50&nbsp;2013</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #85108] Test suite calls &#34;apt-get update&#34;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 07 May 2013 10:31:47 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HiPi [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mdootson &lt;mdootson [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209134/638407/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638407">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 880b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On 07/05/2013 10:22, jason@ukpost.com via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;         Queue: HiPi
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85108">https://rt.cpan.org/Ticket/Display.html?id=85108</a></span> &gt;
&gt;
&gt; I appreciate that decisions on what to include in your module are  yours
&gt; however when you uploaded it to cpan you pushed it onto those of us who run
&gt; the cpan automated test servers and it us causing those tests to get stuck
&gt; because of the call to apt.
&gt;
&gt; Could you perhaps make that party of the tests dependent upon some
&gt; environment setting?
&gt; On May 7, 2013 10:10 AM, &#34;Mark Dootson via RT&#34; &lt;bug-HiPi@rt.cpan.org&gt; wrote:
</div>
Yes, I will fix the issue for the next release now that I understand 
your request. Explaining how my modules are causing you problems gives 
me something to fix when I agree there is an issue.

I&#39;ll find a way of switching off any interaction with cpan testers if I can.


Best Regards

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1223358" href="/Public/Bug/Display.html?id=85108#txn-1223358">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;12&nbsp;18:41:43&nbsp;2013</span>
    <span class="description">BlueT [...] BlueT.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1223358/646172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/646172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It would be really nice if I &#40;HiPi user&#41; can choose to install those packages manually, or let HiPi installation script do it automatically.

I was scared by those system commands at the first time installing HiPi. :-&#41;


在 2013年5月7日周二 下午05:32:50 時，MDOOTSON 寫到：
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; On 07/05/2013 10:22, jason@ukpost.com via RT wrote:
<div class="message-stanza open">&gt; &gt;         Queue: HiPi
&gt; &gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85108">https://rt.cpan.org/Ticket/Display.html?id=85108</a></span> &gt;
&gt; &gt;
&gt; &gt; I appreciate that decisions on what to include in your module are
</div>&gt; yours
<div class="message-stanza open">&gt; &gt; however when you uploaded it to cpan you pushed it onto those of us
</div>&gt; who run
<div class="message-stanza open">&gt; &gt; the cpan automated test servers and it us causing those tests to get
</div>&gt; stuck
<div class="message-stanza open">&gt; &gt; because of the call to apt.
&gt; &gt;
&gt; &gt; Could you perhaps make that party of the tests dependent upon some
&gt; &gt; environment setting?
&gt; &gt; On May 7, 2013 10:10 AM, &#34;Mark Dootson via RT&#34; &lt;bug-
</div>&gt; HiPi@rt.cpan.org&gt; wrote:
&gt; 
&gt; Yes, I will fix the issue for the next release now that I understand
&gt; your request. Explaining how my modules are causing you problems gives
&gt; me something to fix when I agree there is an issue.
&gt; 
&gt; I&#39;ll find a way of switching off any interaction with cpan testers if
&gt; I can.
&gt; 
&gt; 
&gt; Best Regards
&gt; 
&gt; Mark
&gt; 
&gt; 
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1585364" href="/Public/Bug/Display.html?id=85108#txn-1585364">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;18&nbsp;19:13:08&nbsp;2016</span>
    <span class="description">tmurray.NO [...] MEAT.wumpus-cave.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1585364/847236/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/847236">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 867b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;d like to reiterate this ticket, as it&#39;s causing a build failure on Debian Jessie with a Pi2:

Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 perl-modules : Breaks: libthread-queue-perl &#40;&lt; 3.05&#41;
 E: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.
 failed installing dependencies: No such file or directory at inc/Module/Build/HiPi.pm line 156.

I was able to meet this dependency by calling &#34;cpanm Thread::Queue&#34;. I then disabled the packages from being installed by adding &#34;@debs = &#40;&#41;;&#34; on line 150 of inc/Module/Build/HiPi.pm.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614843" href="/Public/Bug/Display.html?id=85108#txn-1614843">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;05&nbsp;08:55:09&nbsp;2016</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> LEONT [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614843/864369/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864369">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;<br>

&gt; The fact that the installation / build and test call apt-get update is<br>

&gt; covered several times in the documentation. It is a decision I made.<br>

&gt; If<br>

&gt; you don&#39;t like it - don&#39;t install or use the modules.<br>

&gt;<br>

&gt; Best Regards<br>

&gt;<br>

&gt; Mark<br>
</div><br>

Build.PL must only declare the dependencies it needs and install the distribution itself.<br>

It is out of its scope to:<br>

- use sudo rights<br>

- install dependencies<br>

- upgrade the system database<br>

For more information about what the CPAN toolchain expects from a Build.PL script:<br>

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl-Toolchain-Gang/cpan-api-buildpl/blob/master/lib/CPAN/API/BuildPL.pm">https://github.com/Perl-Toolchain-Gang/cpan-api-buildpl/blob/master/lib/CPAN/API/BuildPL.pm</a></span><br>

<br>

<br>

But if you want to provide this install automation to your users, it would be ok to provide this but as an other install script. Just don&#39;t name it with a name that is automatically used by CPAN clients. So don&#39;t use Build.PL or Makefile.PL.<br>

<br>

--&nbsp;<br>

Olivier Mengu&eacute; - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1614918" href="/Public/Bug/Display.html?id=85108#txn-1614918">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;05&nbsp;14:27:30&nbsp;2016</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1614918/864409/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864409">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m not sure I agree about what I must and must not do or that you are the person to instruct me in the matter. 

In spite of this it does seem that you do actually have a good idea with regard to a separate install script. Thanks very much.
 
On Tue Apr 05 08:55:09 2016, DOLMEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;
&gt; &gt; The fact that the installation / build and test call apt-get update
&gt; &gt; is
&gt; &gt; covered several times in the documentation. It is a decision I made.
&gt; &gt; If
&gt; &gt; you don&#39;t like it - don&#39;t install or use the modules.
&gt; &gt;
&gt; &gt; Best Regards
&gt; &gt;
&gt; &gt; Mark
</div>&gt; 
&gt; Build.PL must only declare the dependencies it needs and install the
&gt; distribution itself.
&gt; It is out of its scope to:
&gt; - use sudo rights
&gt; - install dependencies
&gt; - upgrade the system database
&gt; For more information about what the CPAN toolchain expects from a
&gt; Build.PL
&gt; script:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl-Toolchain-Gang/cpan-api-">https://github.com/Perl-Toolchain-Gang/cpan-api-</a></span>
&gt; buildpl/blob/master/lib/CPAN/API/BuildPL.pm
&gt; 
&gt; 
&gt; But if you want to provide this install automation to your users, it
&gt; would be
&gt; ok to provide this but as an other install script. Just don&#39;t name it
&gt; with a
&gt; name that is automatically used by CPAN clients. So don&#39;t use Build.PL
&gt; or
&gt; Makefile.PL.
&gt; 
&gt; --
&gt; Olivier Mengué - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span>
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1615007" href="/Public/Bug/Display.html?id=85108#txn-1615007">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;06&nbsp;00:19:14&nbsp;2016</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> LEONT [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1615007/864463/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/864463">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">These issues are fixed I think in version 0.49.

Build.PL doesn&#39;t do any package dependency checking or installation now. That has been shifted into the optional automated install script. The automated install script also plays nice by prompting for confirmation before attempting to install anything.

On Mon Jan 18 19:13:08 2016, TMURRAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;d like to reiterate this ticket, as it&#39;s causing a build failure on
&gt; Debian Jessie with a Pi2:
&gt; 
&gt; Some packages could not be installed. This may mean that you have
&gt; requested an impossible situation or if you are using the unstable
&gt; distribution that some required packages have not yet been created
&gt; or been moved out of Incoming.
&gt; The following information may help to resolve the situation:
&gt; 
&gt; The following packages have unmet dependencies:
&gt;  perl-modules : Breaks: libthread-queue-perl &#40;&lt; 3.05&#41;
&gt;  E: Error, pkgProblemResolver::Resolve generated breaks, this may be
&gt; caused by held packages.
&gt;  failed installing dependencies: No such file or directory at
&gt; inc/Module/Build/HiPi.pm line 156.
&gt; 
&gt; I was able to meet this dependency by calling &#34;cpanm Thread::Queue&#34;. I
&gt; then disabled the packages from being installed by adding &#34;@debs =
&gt; &#40;&#41;;&#34; on line 150 of inc/Module/Build/HiPi.pm.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712060" href="/Public/Bug/Display.html?id=85108#txn-1712060">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;23&nbsp;17:26:19&nbsp;2017</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712060/919822/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/919822">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 62b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Reasons for grief are completely removed from recent releases.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712062" href="/Public/Bug/Display.html?id=85108#txn-1712062">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;23&nbsp;17:26:25&nbsp;2017</span>
    <span class="description">mdootson [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712064" href="/Public/Bug/Display.html?id=85108#txn-1712064">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;23&nbsp;17:26:25&nbsp;2017</span>
    <span class="description">mdootson [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712065" href="/Public/Bug/Display.html?id=85108#txn-1712065">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;23&nbsp;17:26:25&nbsp;2017</span>
    <span class="description">mdootson [...] cpan.org -  Fixed in 0.63 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.736418</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
