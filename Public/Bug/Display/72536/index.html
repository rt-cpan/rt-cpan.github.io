<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #72536 for podlators: parselink&#40;&#41; &#34;inferred text&#34; inconsistent with perlpodspec examples</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #72536 for podlators: parselink&#40;&#41; &#34;inferred text&#34; inconsistent with perlpodspec examples</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/podlators/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/podlators/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/podlators/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/podlators/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/podlators">podlators CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">72536</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/podlators/Active/">podlators</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RWSTAUNER [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Unimportant    </td>
  </tr>
  <tr id="CF-26322-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.4.0    </td>
  </tr>
  <tr id="CF-26323-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;18&nbsp;14:40:35&nbsp;2011</span>
    <span class="description">RWSTAUNER [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> parselink&#40;&#41; &#34;inferred text&#34; inconsistent with perlpodspec examples</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">parselink does not entirely agree with perlpodspec in regards to the
&#34;inferred text&#34;.

The current parselink matches the example output for all but one case.
See the first patch for those tests &#40;including one failure&#41;.

I believe the examples in perlpodspec are incorrect.
See the report here:

<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=104000">https://rt.perl.org/rt3/Ticket/Display.html?id=104000</a></span>

If that report is correct and the example gets fixed,
then parselink would need the second patch applied.

This is not backward-compatible &#40;previous behavior being a bug&#41;
though it seems unlikely for anything downstream to use the inferred
text when alternate text is present &#40;in which case the change wouldn&#39;t
break anything&#41;.
If anything did in fact want the inferred text in addition to the
specified alternate text then this change would make that data available.

It also makes the code simpler which is always a win!
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> parselink-02-inferred-text.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/lib/Pod/ParseLink.pm b/lib/Pod/ParseLink.pm
index 750fdfb..47a46a0 100644
--- a/lib/Pod/ParseLink.pm
+++ b/lib/Pod/ParseLink.pm
@@ -86,20 +86,10 @@ sub parselink {
         &#40;$text, $link&#41; = split &#40;/\|/, $link, 2&#41;;
     }
     if &#40;$link =~ /\A\w+:[^:\s]\S*\Z/&#41; {
-        my $inferred;
-        if &#40;defined &#40;$text&#41; &#38;&#38; length &#40;$text&#41; &gt; 0&#41; {
-            return &#40;$text, $text, $link, undef, &#39;url&#39;&#41;;
-        } else {
-            return &#40;$text, $link, $link, undef, &#39;url&#39;&#41;;
-        }
+        return &#40;$text, $link, $link, undef, &#39;url&#39;&#41;;
     } else {
         my &#40;$name, $section&#41; = _parse_section &#40;$link&#41;;
-        my $inferred;
-        if &#40;defined &#40;$text&#41; &#38;&#38; length &#40;$text&#41; &gt; 0&#41; {
-            $inferred = $text;
-        } else {
-            $inferred = _infer_text &#40;$name, $section&#41;;
-        }
+        my $inferred = _infer_text &#40;$name, $section&#41;;
         my $type = &#40;$name &#38;&#38; $name =~ /\&#40;\S*\&#41;/&#41; ? &#39;man&#39; : &#39;pod&#39;;
         return &#40;$text, $inferred, $name, $section, $type&#41;;
     }
diff --git a/t/parselink.t b/t/parselink.t
index bb3485e..cd2318d 100755
--- a/t/parselink.t
+++ b/t/parselink.t
@@ -14,7 +14,7 @@ our @TESTS = &#40;
       undef, &#39;foo&#39;, &#39;foo&#39;, undef, &#39;pod&#39; ],
 
     [ &#39;foo|bar&#39;,
-      &#39;foo&#39;, &#39;foo&#39;, &#39;bar&#39;, undef, &#39;pod&#39; ],
+      &#39;foo&#39;, &#39;bar&#39;, &#39;bar&#39;, undef, &#39;pod&#39; ],
 
     [ &#39;foo/bar&#39;,
       undef, &#39;&#34;bar&#34; in foo&#39;, &#39;foo&#39;, &#39;bar&#39;, &#39;pod&#39; ],
@@ -41,7 +41,7 @@ our @TESTS = &#40;
       undef, &#39;&#34;boo&#34; in foo bar baz&#39;, &#39;foo bar baz&#39;, &#39;boo&#39;, &#39;pod&#39; ],
 
     [ &#39;anchor|name/section&#39;,
-      &#39;anchor&#39;, &#39;anchor&#39;, &#39;name&#39;, &#39;section&#39;, &#39;pod&#39; ],
+      &#39;anchor&#39;, &#39;&#34;section&#34; in name&#39;, &#39;name&#39;, &#39;section&#39;, &#39;pod&#39; ],
 
     [ &#39;&#34;boo var baz&#34;&#39;,
       undef, &#39;&#34;boo var baz&#34;&#39;, undef, &#39;boo var baz&#39;, &#39;pod&#39; ],
@@ -57,7 +57,7 @@ our @TESTS = &#40;
       undef, &#39;fooZ&lt;&gt;bar&#39;, &#39;fooZ&lt;&gt;bar&#39;, undef, &#39;pod&#39; ],
 
     [ &#39;Testing I&lt;italics&gt;|foo/bar&#39;,
-      &#39;Testing I&lt;italics&gt;&#39;, &#39;Testing I&lt;italics&gt;&#39;, &#39;foo&#39;, &#39;bar&#39;, &#39;pod&#39; ],
+      &#39;Testing I&lt;italics&gt;&#39;, &#39;&#34;bar&#34; in foo&#39;, &#39;foo&#39;, &#39;bar&#39;, &#39;pod&#39; ],
 
     [ &#39;foo/I&lt;Italic&gt; text&#39;,
       undef, &#39;&#34;I&lt;Italic&gt; text&#34; in foo&#39;, &#39;foo&#39;, &#39;I&lt;Italic&gt; text&#39;, &#39;pod&#39; ],
@@ -67,7 +67,7 @@ our @TESTS = &#40;
       &#39;fooE&lt;verbar&gt;barZ&lt;&gt;&#39;, &#39;Section C&lt;with&gt; I&lt;B&lt;other&gt; markup&#39;, &#39;pod&#39; ],
 
     [ &#39;Nested L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&gt;|fooE&lt;sol&gt;bar&#39;,
-      &#39;Nested L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&gt;&#39;, &#39;Nested L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&gt;&#39;,
+      &#39;Nested L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&gt;&#39;, &#39;fooE&lt;sol&gt;bar&#39;,
       &#39;fooE&lt;sol&gt;bar&#39;, undef, &#39;pod&#39; ],
 
     [ &#39;ls&#40;1&#41;&#39;,
@@ -77,7 +77,7 @@ our @TESTS = &#40;
       undef, &#39;&#34;open&#34; in perlfunc&#40;1&#41;&#39;, &#39;perlfunc&#40;1&#41;&#39;, &#39;open&#39;, &#39;man&#39; ],
 
     [ &#39;some manual page|perl&#40;1&#41;&#39;,
-      &#39;some manual page&#39;, &#39;some manual page&#39;, &#39;perl&#40;1&#41;&#39;, undef, &#39;man&#39; ],
+      &#39;some manual page&#39;, &#39;perl&#40;1&#41;&#39;, &#39;perl&#40;1&#41;&#39;, undef, &#39;man&#39; ],
 
     [ &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>,
       undef, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, undef, &#39;url&#39; ],
@@ -87,13 +87,13 @@ our @TESTS = &#40;
       &#39;news:yld72axzc8.fsf@windlord.stanford.edu&#39;, undef, &#39;url&#39; ],
 
     [ &#39;link|<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>,
-      &#39;link&#39;, &#39;link&#39;, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, undef, &#39;url&#39; ],
+      &#39;link&#39;, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, undef, &#39;url&#39; ],
 
     [ &#39;0|<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>,
-      &#39;0&#39;, &#39;0&#39;, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, undef, &#39;url&#39; ],
+      &#39;0&#39;, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>, undef, &#39;url&#39; ],
 
     [ &#39;0|Pod::Parser&#39;,
-      &#39;0&#39;, &#39;0&#39;, &#39;Pod::Parser&#39;, undef, &#39;pod&#39; ],
+      &#39;0&#39;, &#39;Pod::Parser&#39;, &#39;Pod::Parser&#39;, undef, &#39;pod&#39; ],
 
     # specifically test the examples from perlpodspec:
 
@@ -101,7 +101,7 @@ our @TESTS = &#40;
       undef, &#34;Foo::Bar&#34;, &#34;Foo::Bar&#34;, undef, &#39;pod&#39; ],
 
     [ &#34;Perlport&#39;s section on NL&#39;s|perlport/Newlines&#34;,
-      &#34;Perlport&#39;s section on NL&#39;s&#34;, &#34;Perlport&#39;s section on NL&#39;s&#34;, &#34;perlport&#34;, &#34;Newlines&#34;, &#39;pod&#39; ],
+      &#34;Perlport&#39;s section on NL&#39;s&#34;, &#39;&#34;Newlines&#34; in perlport&#39;, &#34;perlport&#34;, &#34;Newlines&#34;, &#39;pod&#39; ],
 
     [ &#39;perlport/Newlines&#39;,
       undef, &#39;&#34;Newlines&#34; in perlport&#39;, &#34;perlport&#34;, &#34;Newlines&#34;, &#39;pod&#39; ],
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> parselink-01-perlpodspec-tests.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/t/parselink.t b/t/parselink.t
index 828b2ec..bb3485e 100755
--- a/t/parselink.t
+++ b/t/parselink.t
@@ -94,6 +94,29 @@ our @TESTS = &#40;
 
     [ &#39;0|Pod::Parser&#39;,
       &#39;0&#39;, &#39;0&#39;, &#39;Pod::Parser&#39;, undef, &#39;pod&#39; ],
+
+    # specifically test the examples from perlpodspec:
+
+    [ &#39;Foo::Bar&#39;,
+      undef, &#34;Foo::Bar&#34;, &#34;Foo::Bar&#34;, undef, &#39;pod&#39; ],
+
+    [ &#34;Perlport&#39;s section on NL&#39;s|perlport/Newlines&#34;,
+      &#34;Perlport&#39;s section on NL&#39;s&#34;, &#34;Perlport&#39;s section on NL&#39;s&#34;, &#34;perlport&#34;, &#34;Newlines&#34;, &#39;pod&#39; ],
+
+    [ &#39;perlport/Newlines&#39;,
+      undef, &#39;&#34;Newlines&#34; in perlport&#39;, &#34;perlport&#34;, &#34;Newlines&#34;, &#39;pod&#39; ],
+
+    [ &#39;crontab&#40;5&#41;/&#34;DESCRIPTION&#34;&#39;,
+      undef, &#39;&#34;DESCRIPTION&#34; in crontab&#40;5&#41;&#39;, &#34;crontab&#40;5&#41;&#34;, &#34;DESCRIPTION&#34;, &#39;man&#39; ],
+
+    [ &#39;/Object Attributes&#39;,
+      undef, &#39;&#34;Object Attributes&#34;&#39;, undef, &#34;Object Attributes&#34;, &#39;pod&#39; ],
+
+    [ &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>,
+      undef, &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&#34;, &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&#34;, undef, &#39;url&#39; ],
+
+    [ &#39;Perl.org|<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/&#39;">http://www.perl.org/&#39;</a></span>,
+      &#34;Perl.org&#34;, &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&#34;, &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>&#34;, undef, &#39;url&#39; ],
 &#41;;
 
 BEGIN {
@@ -104,7 +127,7 @@ BEGIN {
 
 use strict;
 
-use Test::More tests =&gt; 28;
+use Test::More tests =&gt; 35;
 BEGIN { use_ok &#40;&#39;Pod::ParseLink&#39;&#41; }
 
 # Used for reporting test failures.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;28&nbsp;17:59:15&nbsp;2011</span>
    <span class="description">rra [...] stanford.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #72536] parselink&#40;&#41; &#34;inferred text&#34; inconsistent with perlpodspec examples</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 28 Nov 2011 14:59:05 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-podlators [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Russ Allbery &lt;rra [...] stanford.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Randy Stauner via RT&#34; &lt;bug-podlators@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; parselink does not entirely agree with perlpodspec in regards to the
&gt; &#34;inferred text&#34;.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The current parselink matches the example output for all but one case.
&gt; See the first patch for those tests &#40;including one failure&#41;.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I believe the examples in perlpodspec are incorrect.
&gt; See the report here:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=104000">https://rt.perl.org/rt3/Ticket/Display.html?id=104000</a></span>
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If that report is correct and the example gets fixed,
&gt; then parselink would need the second patch applied.
</div>
Hm, the behavior of the final example in perlpodspec doesn&#39;t seem as
useful to me as the behavior that Pod::ParseLink implements.

The current Pod::ParseLink behavior is intended to be simpler for the
consumer to use.  The idea was that, if you don&#39;t care about whether the
text was inferred or explicitly given by the POD author, you can just
blindly use the second value returned by parselink and the right thing
will happen.  If there was explicit anchor text, you get that; if there
wasn&#39;t, you get the inferred text.

If the parselink behavior were altered as you describe, then every caller
will have to add code to use the first return value if defined, otherwise
falling back on the second return value.  That seems like a waste of
effort.

The drawback of the current parselink behavior is that if the POD author
explicitly specified anchor text, there&#39;s no way to access the text that
would have been inferred.  But since in the presence of explicit anchor
text one should never use the inferred text anyway, that doesn&#39;t strike me
as a serious problem.

-- 
Russ Allbery &#40;rra@stanford.edu&#41;             &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.eyrie.org/~eagle/">http://www.eyrie.org/~eagle/</a></span>&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;28&nbsp;17:59:16&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;13:23:40&nbsp;2013</span>
    <span class="description">RRA [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;13:28:23&nbsp;2013</span>
    <span class="description">RRA [...] cpan.org -  Severity Normal changed to Unimportant</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
