<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #123934 for Net-SSLeay: Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #123934 for Net-SSLeay: Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SSLeay">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SSLeay">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SSLeay">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SSLeay">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">123934</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SSLeay">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">chrisn [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
wintermte [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.86_08    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1767767/951403/signature.asc">
Thu Jan 25 11:00:59 2018 (488b) by wintermte [...] gmail.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1763012/948809/signature.asc">
Fri Dec 22 12:06:06 2017 (488b) by wintermte [...] gmail.com
</a>
</font></li>
</ul>


verify.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1824586/981555/verify.patch">
Fri Dec 14 00:14:04 2018 (110.8k) by reisner.marc [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=123934">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1763012" href="/Public/Bug/Display.html?id=123934#txn-1763012">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;22&nbsp;12:06:06&nbsp;2017</span>
    <span class="description">wintermte [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 22 Dec 2017 11:04:59 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniell Freed &lt;wintermte [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1763012/948808/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948808">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 667b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Feature request: expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;.

As far as I can tell the only way to verify an x509 certificate structure is to do it via a connection to a remote server that is serving the certificate associated with that x509 structure.

I’d like to be able to do verification on an x509 structure that was created by reading it in from a PEM file.

Looking at the OpenSSL wiki, it appears &#40;but I could be wrong&#41; that the right way to do this is to create an X509_STORE_CTX, add the X509 to it, then use X509_verify_cert&#40;&#41;.  Unfortunately, neither X509_STORE_CTX_new&#40;&#41; nor X509_verify_cert&#40;&#41; are exposed in Net::SSLeay.

Thanks,
Dan Freed
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1763012/948809/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 488b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1763042" href="/Public/Bug/Display.html?id=123934#txn-1763042">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;22&nbsp;17:14:14&nbsp;2017</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123934] Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 23 Dec 2017 07:49:21 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1763042/948831/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948831">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

Thanks.
Support for these functions has now been added and is in SVN 512.

Perhaps you might like to submit some test code for inclusion in the package?


On Saturday, 23 December 2017 03:06:07 AEST you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Dec 22 12:06:06 2017: Request 123934 was acted upon.
&gt; Transaction: Ticket created by wintermte@gmail.com
&gt;        Queue: Net-SSLeay
&gt;      Subject: Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and
&gt; X509_verify_cert&#40;&#41; Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: wintermte@gmail.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123934">https://rt.cpan.org/Ticket/Display.html?id=123934</a></span> &gt;
&gt; 
&gt; 
&gt; Feature request: expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;.
&gt; 
&gt; As far as I can tell the only way to verify an x509 certificate structure is
&gt; to do it via a connection to a remote server that is serving the
&gt; certificate associated with that x509 structure.
&gt; 
&gt; I’d like to be able to do verification on an x509 structure that was created
&gt; by reading it in from a PEM file.
&gt; 
&gt; Looking at the OpenSSL wiki, it appears &#40;but I could be wrong&#41; that the
&gt; right way to do this is to create an X509_STORE_CTX, add the X509 to it,
&gt; then use X509_verify_cert&#40;&#41;.  Unfortunately, neither X509_STORE_CTX_new&#40;&#41;
&gt; nor X509_verify_cert&#40;&#41; are exposed in Net::SSLeay.
&gt; 
&gt; Thanks,
&gt; Dan Freed
</div>

-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1763043" href="/Public/Bug/Display.html?id=123934#txn-1763043">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;22&nbsp;17:14:16&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1767767" href="/Public/Bug/Display.html?id=123934#txn-1767767">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;25&nbsp;11:00:59&nbsp;2018</span>
    <span class="description">wintermte [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123934] Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 25 Jan 2018 10:00:18 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniell Freed &lt;wintermte [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1767767/951402/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/951402">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This didn’t have the effect I was hoping for, and I’ve not had the time to dig into this more.

Thanks for adding the call, but I’ve worked around this for now.

Thanks,
Dan Freed

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Dec 22, 2017, at 4:14 PM, Mike McCauley via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
&gt; 
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123934">https://rt.cpan.org/Ticket/Display.html?id=123934</a></span> &gt;
&gt; 
&gt; Hello,
&gt; 
&gt; Thanks.
&gt; Support for these functions has now been added and is in SVN 512.
&gt; 
&gt; Perhaps you might like to submit some test code for inclusion in the package?
&gt; 
&gt; 
&gt; On Saturday, 23 December 2017 03:06:07 AEST you wrote:
<div class="message-stanza open">&gt;&gt; Fri Dec 22 12:06:06 2017: Request 123934 was acted upon.
&gt;&gt; Transaction: Ticket created by wintermte@gmail.com
&gt;&gt;       Queue: Net-SSLeay
&gt;&gt;     Subject: Net::SSLeay 1.82 request to expose X509_STORE_CTX_new&#40;&#41; and
&gt;&gt; X509_verify_cert&#40;&#41; Broken in: &#40;no value&#41;
&gt;&gt;    Severity: &#40;no value&#41;
&gt;&gt;       Owner: Nobody
&gt;&gt;  Requestors: wintermte@gmail.com
&gt;&gt;      Status: new
&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123934">https://rt.cpan.org/Ticket/Display.html?id=123934</a></span> &gt;
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Feature request: expose X509_STORE_CTX_new&#40;&#41; and X509_verify_cert&#40;&#41;.
&gt;&gt; 
&gt;&gt; As far as I can tell the only way to verify an x509 certificate structure is
&gt;&gt; to do it via a connection to a remote server that is serving the
&gt;&gt; certificate associated with that x509 structure.
&gt;&gt; 
&gt;&gt; I’d like to be able to do verification on an x509 structure that was created
&gt;&gt; by reading it in from a PEM file.
&gt;&gt; 
&gt;&gt; Looking at the OpenSSL wiki, it appears &#40;but I could be wrong&#41; that the
&gt;&gt; right way to do this is to create an X509_STORE_CTX, add the X509 to it,
&gt;&gt; then use X509_verify_cert&#40;&#41;.  Unfortunately, neither X509_STORE_CTX_new&#40;&#41;
&gt;&gt; nor X509_verify_cert&#40;&#41; are exposed in Net::SSLeay.
&gt;&gt; 
&gt;&gt; Thanks,
&gt;&gt; Dan Freed
</div>&gt; 
&gt; 
&gt; --
&gt; Mike McCauley           VK4AMM                   mikem@airspayce.com
&gt; Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
&gt; Phone +61 7 5598-7474
&gt; 
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1767767/951403/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 488b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1824395" href="/Public/Bug/Display.html?id=123934#txn-1824395">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;11&nbsp;20:55:08&nbsp;2018</span>
    <span class="description">reisner.marc [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1824395/981439/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/981439">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 99b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Could you also include X509_STORE_CTX_init? I think that would allow verification of a certificate.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1824401" href="/Public/Bug/Display.html?id=123934#txn-1824401">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;12&nbsp;00:18:16&nbsp;2018</span>
    <span class="description">reisner.marc [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1824401/981442/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/981442">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 537b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I put together some C code that does exactly what Dan is requesting.

We need the following methods. Some already exist, some do not.

 X509_STORE_new               
 X509_STORE_add_lookup        
 X509_STORE_add_cert          
 X509_LOOKUP_hash_dir         
 X509_LOOKUP_add_dir          
 X509_FILETYPE_PEM            
 X509_STORE_CTX_new           
 X509_STORE_CTX_init          
 X509_verify_cert             
 X509_verify_cert_error_string
 X509_STORE_CTX_get_error     
 X509_STORE_CTX_free          
 X509_STORE_free              
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1824586" href="/Public/Bug/Display.html?id=123934#txn-1824586">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;14&nbsp;00:14:04&nbsp;2018</span>
    <span class="description">reisner.marc [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1824586/981554/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/981554">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 436b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I sent the following email directly to Mike:

Mike,

I&#39;m having a hard time figuring out how to contribute to Net::SSLeay. Is this still on SVN, or has it moved to a git repository somewhere? The link to SVN in CPAN doesn&#39;t work and I can&#39;t find any instructions on how to contribute.

I&#39;d like to submit the patch that is attached.

Let me know if this should be in a different format or if I should contact someone else.

Thanks,
Marc
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> verify.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1824586/981555/verify.patch">Download verify.patch</a><br />
<span class="downloadcontenttype">text/x-diff 110.8k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1835493" href="/Public/Bug/Display.html?id=123934#txn-1835493">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;27&nbsp;16:12:52&nbsp;2019</span>
    <span class="description">chrisn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1835493/986838/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/986838">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 937b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Dec 14 05:14:04 2018, reisner.marc@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I sent the following email directly to Mike:
&gt; 
&gt; Mike,
&gt; 
&gt; I&#39;m having a hard time figuring out how to contribute to Net::SSLeay.
&gt; Is this still on SVN, or has it moved to a git repository somewhere?
&gt; The link to SVN in CPAN doesn&#39;t work and I can&#39;t find any instructions
&gt; on how to contribute.
&gt; 
&gt; I&#39;d like to submit the patch that is attached.
&gt; 
&gt; Let me know if this should be in a different format or if I should
&gt; contact someone else.
&gt; 
&gt; Thanks,
&gt; Marc
</div>
Just confirming that this patch was merged as part of two separate pull requests on GitHub, with none of the code in the patch left outstanding following PR #110:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/radiator-software/p5-net-ssleay/pull/107">https://github.com/radiator-software/p5-net-ssleay/pull/107</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/radiator-software/p5-net-ssleay/pull/110">https://github.com/radiator-software/p5-net-ssleay/pull/110</a></span>

So I&#39;ll mark this as &#34;patched&#34;, pending resolution when the next developer release is uploaded to CPAN. Thanks again, Marc!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1835496" href="/Public/Bug/Display.html?id=123934#txn-1835496">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;27&nbsp;16:12:53&nbsp;2019</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1835497" href="/Public/Bug/Display.html?id=123934#txn-1835497">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;27&nbsp;16:12:54&nbsp;2019</span>
    <span class="description">chrisn [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1837958" href="/Public/Bug/Display.html?id=123934#txn-1837958">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;12&nbsp;14:39:59&nbsp;2019</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1837960" href="/Public/Bug/Display.html?id=123934#txn-1837960">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;12&nbsp;14:39:59&nbsp;2019</span>
    <span class="description">chrisn [...] cpan.org -  Fixed in 1.86_08 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.408292</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
