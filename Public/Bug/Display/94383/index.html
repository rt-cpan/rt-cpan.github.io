<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #94383 for Test-Modern: Tests failing on all Fedora releases except Rawhide</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #94383 for Test-Modern: Tests failing on all Fedora releases except Rawhide</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Modern">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Modern">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Modern">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Modern">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Modern">Test-Modern CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">94383</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Modern">Test-Modern</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
paul [...] city-fan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-254008-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-254009-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=94383">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1345874" href="/Public/Bug/Display.html?id=94383#txn-1345874">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;11:08:40&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tests failing on all Fedora releases except Rawhide</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1345874/714228/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714228">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Test::Modern 0.006 is generating warnings in _setup_inc in all Fedora Linux releases except the development branch &#40;and RHEL 7 beta too&#41;, like this:

 make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01basic.t ............. ok
t/02exporting.t ......... ok
t/03extended.t .......... skipped: Not running extended tests
t/04requires.t .......... skipped: Test requires Local::I::Doubt::This::Exists::Either 999.999
Use of uninitialized value $file in string ne at /usr/lib/perl5/vendor_perl/File/Spec/Unix.pm line 321.
Use of uninitialized value $file in concatenation &#40;.&#41; or string at /usr/lib/perl5/vendor_perl/File/Spec/Unix.pm line 329.
#   Failed test &#39;no &#40;unexpected&#41; warnings &#40;via done_testing&#41;&#39;
#   at t/05warnings.t line 30.
# Looks like you failed 1 test of 2.
t/05warnings.t ..........
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/2 subtests
Use of uninitialized value $file in string ne at /usr/lib/perl5/vendor_perl/File/Spec/Unix.pm line 321.
Use of uninitialized value $file in concatenation &#40;.&#41; or string at /usr/lib/perl5/vendor_perl/File/Spec/Unix.pm line 329.
#   Failed test &#39;no &#40;unexpected&#41; warnings &#40;via done_testing&#41;&#39;
#   at t/06class-api-ok.t line 33.
# Looks like you failed 1 test of 2.
t/06class-api-ok.t ......
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/2 subtests

All of the remaining tests fail in the same way. This appears to be coming from the &#39;File::Spec&#39;-&gt;catpath&#40;@tmp&#41;; call in _setup_inc but I&#39;m struggling to see what&#39;s different between the Rawhide build, which doesn&#39;t trigger this, and all of the others.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346559" href="/Public/Bug/Display.html?id=94383#txn-1346559">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;04:52:57&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346559/714619/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714619">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 336b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have a workaround for the problem, though I&#39;m not fond of it. Could you please tell me the output of the following command on one of the Redhat releases where the test suite is broken, and on one of the Redhat releases where it&#39;s not?

    perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION, $File::Spec::Unix::VERSION&#39;

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346560" href="/Public/Bug/Display.html?id=94383#txn-1346560">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;04:52:58&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346562" href="/Public/Bug/Display.html?id=94383#txn-1346562">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;04:56:31&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346562/714621/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714621">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 138b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">In the mean time, this is the workaround:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/tobyink/p5-test-modern/commit/0c0b0f67d3b072c209d663801cd06b7357585a9f.diff">https://github.com/tobyink/p5-test-modern/commit/0c0b0f67d3b072c209d663801cd06b7357585a9f.diff</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346564" href="/Public/Bug/Display.html?id=94383#txn-1346564">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;04:56:31&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346565" href="/Public/Bug/Display.html?id=94383#txn-1346565">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;05:16:52&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346565/714623/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714623">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 799b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 04 04:52:57 2014, TOBYINK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have a workaround for the problem, though I&#39;m not fond of it. Could
&gt; you please tell me the output of the following command on one of the
&gt; Redhat releases where the test suite is broken, and on one of the
&gt; Redhat releases where it&#39;s not?
&gt; 
&gt; perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION,
&gt; $File::Spec::Unix::VERSION&#39;
</div>
I&#39;d looked at this prior to reporting, which is why I was struggling to see a difference.

Rawhide &#40;working&#41; has:
$ perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION, $File::Spec::Unix::VERSION&#39;
5.018002
3.40
3.40

Fedora 20 &#40;most recent non-working&#41; has:
$ perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION, $File::Spec::Unix::VERSION&#39;
5.018002
3.40
3.40

So it&#39;s not the perl or PathTools version...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346572" href="/Public/Bug/Display.html?id=94383#txn-1346572">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;05:22:07&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346572/714629/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714629">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 372b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 04 04:56:31 2014, TOBYINK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In the mean time, this is the workaround:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/tobyink/p5-test-">https://github.com/tobyink/p5-test-</a></span>
&gt; modern/commit/0c0b0f67d3b072c209d663801cd06b7357585a9f.diff
</div>
This gets the tests passing &#40;and hence building successfully&#41; but it doesn&#39;t get rid of the warnings, resulting ugly output from the test run.

Anything else you&#39;d like me to try?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346889" href="/Public/Bug/Display.html?id=94383#txn-1346889">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;14:37:46&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346889/714813/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714813">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 259b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Silly me, &#34;IGNORE&#34; is apparently not supported for $SIG{__WARN__}. The following gets the tests passing with no noise:

    local $SIG{__WARN__} = sub {};

I&#39;ll try to get access to a Fedora box for testing. &#40;I do most of my development on Ubuntu these days.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346948" href="/Public/Bug/Display.html?id=94383#txn-1346948">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;16:11:57&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346948/714839/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714839">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 431b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve gotten a shell account running CentOS 5.9 &#40;which I figured was close enough&#41;, bootstrapped local::lib, and installed cpanminus. One of those things brought in an update to File::Spec...

-bash-3.2$ cat /etc/redhat-release 
CentOS release 5.9 &#40;Final&#41;
-bash-3.2$ perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION, $File::Spec::Unix::VERSION&#39;
5.008008
3.40
3.40

After that I was able to install Test-Modern-0.006 cleanly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346987" href="/Public/Bug/Display.html?id=94383#txn-1346987">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;04&nbsp;19:53:29&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346987/714864/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714864">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 814b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 04 16:11:57 2014, TOBYINK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve gotten a shell account running CentOS 5.9 &#40;which I figured was
&gt; close enough&#41;, bootstrapped local::lib, and installed cpanminus. One
&gt; of those things brought in an update to File::Spec...
&gt; 
&gt; -bash-3.2$ cat /etc/redhat-release
&gt; CentOS release 5.9 &#40;Final&#41;
&gt; -bash-3.2$ perl -MFile::Spec -le&#39;print for $], $File::Spec::VERSION,
&gt; $File::Spec::Unix::VERSION&#39;
&gt; 5.008008
&gt; 3.40
&gt; 3.40
&gt; 
&gt; After that I was able to install Test-Modern-0.006 cleanly.
</div>
CentOS 5.anything is just about as old as you get in the Red Hat world. The oldest OS I&#39;ve been trying to build on is Fedora 14, which is a similar vintage to CentOS 6.

The workaround from git worked everywhere I&#39;ve tried it but I still haven&#39;t pinned down what was causing the warnings in the first place yet.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1348822" href="/Public/Bug/Display.html?id=94383#txn-1348822">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;10&nbsp;02:05:25&nbsp;2014</span>
    <span class="description">andreas [...] andreasvoegele.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas [...] andreasvoegele.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1348822/715754/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/715754">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 489b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I get these warnings too. The bug is in _setup_inc&#40;&#41;. The catpath&#40;&#41; function gets an undefined $file argument as &#34;pop @tmp&#34; removes the file from the triple returned by splitpath&#40;&#41;.

my $dir = do {
    my @tmp = &#39;File::Spec&#39;-&gt;splitpath&#40;$opts-&gt;{into_file}&#41;;
    pop @tmp;
    &#39;File::Spec&#39;-&gt;catpath&#40;@tmp&#41;;
};

my $dir = do {
    my &#40;$tmp_vol, $tmp_dir, $tmp_file&#41; = &#39;File::Spec&#39;-&gt;splitpath&#40;$opts-&gt;{into_file}&#41;;
    $tmp_file = &#39;&#39;;
    &#39;File::Spec&#39;-&gt;catpath&#40;$tmp_vol, $tmp_dir, $tmp_file&#41;;
};
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1349096" href="/Public/Bug/Display.html?id=94383#txn-1349096">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;10&nbsp;14:00:16&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1349096/715906/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/715906">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 191b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Andreas; that looks like the likely cause. I&#39;ve released a version 0.007 which hopefully fixes this issue properly. If you&#39;re still having problems with it, please re-open this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1349098" href="/Public/Bug/Display.html?id=94383#txn-1349098">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;10&nbsp;14:00:16&nbsp;2014</span>
    <span class="description">perl [...] toby.ink -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.601705</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
