<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #93489 for Image-ExifTool: Bug in Exiftool?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #93489 for Image-ExifTool: Bug in Exiftool?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Image-ExifTool/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Image-ExifTool">Image-ExifTool CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">93489</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">20 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Image-ExifTool/Active/">Image-ExifTool</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">EXIFTOOL [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
goldner_jeff [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16626-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16627-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;11:45:16&nbsp;2014</span>
    <span class="description">goldner_jeff [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug in Exiftool?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 3 Mar 2014 08:44:54 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jeff Goldner &lt;goldner_jeff [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, I tried Exiftool 9.45 and 9.54 with the same results. The camera is a Sony a7R &#40;ILCE-7R&#41; and the lens is a Canon EF 24mm f2.8 IS mounted on a Metabones III adapter. Highlighted fields are wrong, not sure if the Metabones is messing them up? Let me know if you want the source file. Thanks.

E:\pictures\2014\2014-03 Test Shots Canon 24mm&gt;exiftool _DSC0357.ARW
ExifTool Version Number         : 9.54
File Name                       : _DSC0357.ARW
Directory                       : .
File Size                       : 35 MB
File Modification Date/Time     : 2014:03:01 15:04:14-08:00
File Access Date/Time           : 2014:03:01 15:27:19-08:00
File Creation Date/Time         : 2014:03:01 15:27:19-08:00
File Permissions                : rw-rw-rw-
File Type                       : ARW
MIME Type                       : image/x-sony-arw
Exif Byte Order                 : Little-endian &#40;Intel, II&#41;
Image Description               :
Orientation                     : Horizontal &#40;normal&#41;
White Point                     : 0.313 0.329
Primary Chromaticities          : 0.64 0.33 0.21 0.71 0.15 0.06
Image Width                     : 7392
Image Height                    : 4920
Bits Per Sample                 : 14
Compression                     : Sony ARW Compressed
Photometric Interpretation      : Color Filter Array
Samples Per Pixel               : 1
Planar Configuration            : Chunky
X Resolution                    : 350
Y Resolution                    : 350
Resolution Unit                 : inches
CFA Repeat Pattern Dim          : 2 2
CFA Pattern 2                   : 0 1 1 2
Strip Offsets                   : 692736
Rows Per Strip                  : 4920
Strip Byte Counts               : 36368640
Preview Image Start             : 144034
Preview Image Length            : 546861
Y Cb Cr Coefficients            : 0.299 0.587 0.114
Y Cb Cr Positioning             : Co-sited
Exposure Time                   : 1/60
F Number                        : 4.0
Exposure Program                : Aperture-priority AE
ISO                             : 1000
Sensitivity Type                : Recommended Exposure Index
Recommended Exposure Index      : 1000
Exif Version                    : 0230
Date/Time Original              : 2014:03:01 15:04:14
Create Date                     : 2014:03:01 15:04:14
Components Configuration        : Y, Cb, Cr, -
Compressed Bits Per Pixel       : 8
Brightness Value                : 0.946875
Exposure Compensation           : 0
Max Aperture Value              : 2.8
Metering Mode                   : Multi-segment
Light Source                    : Unknown
Flash                           : Off, Did not fire
Focal Length                    : 24.0 mm
Rating                          : 0
Brightness                      : 0
Long Exposure Noise Reduction   : Off
High ISO Noise Reduction        : Off
HDR                             : Off; Uncorrected image
WB Shift AB GM                  : 0 0
Face Info Offset                : 94
Sony Date Time                  : 2014:03:01 15:04:14
Sony Image Width                : 7360
Faces Detected                  : 0
Face Info Length                : 37
Meta Version                    : DC7303320222000
Creative Style                  : Standard
Color Temperature               : Auto
Color Compensation Filter       : 0
Scene Mode                      : Standard
Zone Matching                   : ISO Setting Used
Dynamic Range Optimizer         : Auto
Image Stabilization             : Off
Color Mode                      : Standard
Full Image Size                 : 7360x4912
Preview Image Size              : 1616x1080
File Format                     : ARW 2.3.1
Quality                         : RAW + JPEG
Flash Exposure Compensation     : 0
White Balance Fine Tune         : 0
Sony Model ID                   : ILCE-7R
Teleconverter                   : None
Multi Frame Noise Reduction     : Off
Picture Effect                  : Off
Soft Skin Effect                : Off
Vignetting Correction           : Off
Lateral Chromatic Aberration    : Off
Distortion Correction           : Auto
Lens Type                       : Canon EF 14mm f/2.8L II USM + Metabones Adapter
Lens Spec                       : 24mm F2.8 OSS
Auto Portrait Framed            : No
Focus Mode                      : AF-S
AF Area Mode Setting            : Flexible Spot
Flexible Spot Position          : 343 251
AF Point Selected               : Auto
Flash Level                     : Normal
Release Mode                    : Normal
Sequence Number                 : Single
Anti-Blur                       : Off
Intelligent Auto                : Off
White Balance                   : Auto
Release Mode 2                  : Normal
Shot Number Since Power Up      : 1
Sequence Image Number           : 1
Sequence File Number            : 1
Sequence Length                 : 1 file
Camera Orientation              : Horizontal &#40;normal&#41;
Quality 2                       : RAW + JPEG
Sony Image Height               : 4912
Ambient Temperature             : 0 C
AF Area Mode                    : Flexible Spot
Sony Exposure Time 2            : 1/64
Sony Max Aperture Value         : 2.8
Picture Effect 2                : Off
Battery Temperature             : 32.2 C
Battery Level                   : 81%
Lens Type 2                     : Unknown &#40;78&#41;
Release Mode 3                  : Normal
Stops Above Base ISO            : 3.5
HDR Setting                     : Off
WB RGB Levels                   : 503 255 504
Min Focal Length                : 24.0 mm
Max Focal Length                : 24.0 mm
Flash Status                    : No Flash present
Image Count                     : 473
Sony Exposure Time              : 1/64
Sony F Number                   : 4.0
Image Count 2                   : 473
Sony Date Time 2                : 2014:03:01 23:04:14
Lens Mount                      : A-Mount
Lens Format                     : Full-frame
User Comment                    :
Flashpix Version                : 0100
Color Space                     : Uncalibrated
Exif Image Width                : 7360
Exif Image Height               : 4912
Interoperability Index          : R03 - DCF option file &#40;Adobe RGB&#41;
Interoperability Version        : 0100
File Source                     : Digital Camera
Scene Type                      : Directly photographed
Custom Rendered                 : Normal
Exposure Mode                   : Auto
Digital Zoom Ratio              : 1
Focal Length In 35mm Format     : 24 mm
Scene Capture Type              : Standard
Contrast                        : Normal
Saturation                      : Normal
Sharpness                       : Normal
Lens Info                       : 24mm f/2.8
Lens Model                      : 24mm F2.8 OSS
Gamma                           : 2.2
PrintIM Version                 : 0300
SR2 Sub IFD Offset              : 49342
SR2 Sub IFD Length              : 56958
SR2 Sub IFD Key                 : 0x44332211
Black Level                     : 512 512 512 512
WB RGGB Levels                  : 2012 1024 1024 2036
Color Matrix                    : 1406 -391 9 -42 1356 -290 22 -53 1055
WB RGB Levels Daylight          : 2564 1024 1528
WB RGB Levels Cloudy            : 2768 1024 1400
WB RGB Levels Tungsten          : 1600 1024 2752
WB RGB Levels Flash             : 2820 1024 1376
WB RGB Levels 4500K             : 2320 1024 1720
WB RGB Levels Shade             : 3040 1024 1260
WB RGB Levels Fluorescent       : 2408 1024 2216
WB RGB Levels Fluorescent P1    : 2460 1024 1656
WB RGB Levels Fluorescent P2    : 2748 1024 1440
WB RGB Levels Fluorescent M1    : 1848 1024 2736
WB RGB Levels 8500K             : 3192 1024 1192
WB RGB Levels 6000K             : 2744 1024 1416
WB RGB Levels 3200K             : 1784 1024 2388
WB RGB Levels 2500K             : 1392 1024 3320
White Level                     : 15360 15360 15360
Subfile Type                    : Reduced-resolution image
Make                            : SONY
Camera Model Name               : ILCE-7R
Software                        : ILCE-7R v1.01
Modify Date                     : 2014:03:01 15:04:14
Thumbnail Offset                : 38644
Thumbnail Length                : 9132
Aperture                        : 4.0
Blue Balance                    : 1.988281
CFA Pattern                     : [Red,Green][Green,Blue]
Image Size                      : 7392x4920
Lens ID                         : Canon EF 14mm f/2.8L II USM
Preview Image                   : &#40;Binary data 546861 bytes, use -b option to extract&#41;
Red Balance                     : 1.964844
Scale Factor To 35 mm Equivalent: 1.0
Shutter Speed                   : 1/60
Thumbnail Image                 : &#40;Binary data 9132 bytes, use -b option to extract&#41;
Circle Of Confusion             : 0.030 mm
Field Of View                   : 73.7 deg
Focal Length                    : 24.0 mm &#40;35 mm equivalent: 24.0 mm&#41;
Hyperfocal Distance             : 4.79 m
Light Value                     : 6.6
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;12:19:18&nbsp;2014</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for this report.

Could you please post a sample image, or email it to me &#40;phil at owl.phy.queensu.ca&#41; so I can look into this?

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;12:19:19&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;13:43:17&nbsp;2014</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">20 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the sample.

The problem is that the Canon LensType for this lens is actually 0x01f7 &#40;503&#41;, but the Metabones adapter truncates the upper byte when packing the code into the Sony metadata, so ExifTool reports the Canon lens corresponding to a LensType of 0x00f7 &#40;247&#41;.

It would be nice if ExifTool could use the LensSpec &#40;which is correct for this lens&#41; to determine if 0x0100 needs to be added to the LensType.  I will look into this and implement a patch if practical.

- Phil
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;13:43:17&nbsp;2014</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;13:57:03&nbsp;2014</span>
    <span class="description">goldner_jeff [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93489] Bug in Exiftool?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 3 Mar 2014 18:55:52 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Image-ExifTool [...] rt.cpan.org&#34; &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jeff Goldner &lt;goldner_jeff [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok thanks. I’ll pass that info on to Metabones.






Sent from Windows Mail





From: bug-Image-ExifTool@rt.cpan.org
Sent: ‎Monday‎, ‎March‎ ‎3‎, ‎2014 ‎10‎:‎43‎ ‎AM
To: Jeff Goldner





&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93489">https://rt.cpan.org/Ticket/Display.html?id=93489</a></span> &gt;

Thanks for the sample.

The problem is that the Canon LensType for this lens is actually 0x01f7 &#40;503&#41;, but the Metabones adapter truncates the upper byte when packing the code into the Sony metadata, so ExifTool reports the Canon lens corresponding to a LensType of 0x00f7 &#40;247&#41;.

It would be nice if ExifTool could use the LensSpec &#40;which is correct for this lens&#41; to determine if 0x0100 needs to be added to the LensType.  I will look into this and implement a patch if practical.

- Phil
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;07:30:35&nbsp;2014</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Wow, these guys are really responsive!  Here is their email, with my response below:

On 2014-03-04, at 5:30 AM, &#34;Bo-Ming Tong&#34; @metabones.com wrote:

Hi Phil,

We are pleasantly surprised to learn about the special support for Metabones adapters in the renowned ExifTool, in particular that the textual &#34;Lens Type&#34; field is supported. However, some lenses whose lens id is greater than 255 are not identified correctly because the lens ID is truncated to 8 bits. The rationale for the truncation by the Metabones Smart Adapter is to avoid collision with genuine Minolta/Sony lenses, which generally don&#39;t use the 0xEF prefix.

Newer Canon lenses all have lens IDs which do not fit within 8 bits, so we would need to fix the truncation problem by making a change to the Metabones firmware &#40;version 31, to be released by the end of March 2014&#41; to support full 16-bit Canon lens IDs.

The 16-bit Canon lens ID is simply added to 0xEF00. So, older lenses with Canon ID 00xx will have Sony ID EFxx, Canon 01xx will become Sony F0xx, and Canon 10xx will become Sony FFxx.

There is a need for a separate lens ID for Metabones Speed Booster that is distinguishable from the regular glassless Smart Adapter, so that when the user apply lens-specific distortion/CA/vignetting/etc. correction based on lens ID, a different correction profile may be used for Speed Booster. The offset for Speed Booster is chosen be 0x7700. So, older lenses with Canon ID 00xx coupled with Speed Booster will have Sony ID 77xx, Canon 01xx will become Sony 78xx, and Canon 10xx will become Sony 87xx.

Let me know if this makes sense! Any other suggestions on how to resolve this truncation issue are also very welcome. Thanks!
--
Bo-Ming Tong
Vancouver, Canada
Metabones

On 2014-03-04, at 7:26 AM, Phil Harvey wrote:

Hi Bo-Ming,

This is great, thanks for your great customer support!

This all makes perfect sense, and I will add ExifTool support for the updated Smart Adapter firmware and Speed Booster lens ID&#39;s.

        - Phil
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;10:44:08&nbsp;2014</span>
    <span class="description">goldner_jeff [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93489] Bug in Exiftool?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Mar 2014 07:43:52 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jeff Goldner &lt;goldner_jeff [...] hotmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes. I also sent this in and they responded to me as well. The only thing is 
it’s a hassle to update the firmware as it&#39;s not a user process - you have 
to send in the adapters. And they typically charge about $50 :&#40;

I&#39;ll ask if they will waive that. And that you for the support.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message----- 
From: Phil Harvey via RT
Sent: Tuesday, March 04, 2014 4:30 AM
To: goldner_jeff@hotmail.com
Subject: [rt.cpan.org #93489] Bug in Exiftool?

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93489">https://rt.cpan.org/Ticket/Display.html?id=93489</a></span> &gt;

Wow, these guys are really responsive!  Here is their email, with my 
response below:

On 2014-03-04, at 5:30 AM, &#34;Bo-Ming Tong&#34; @metabones.com wrote:

Hi Phil,

We are pleasantly surprised to learn about the special support for Metabones 
adapters in the renowned ExifTool, in particular that the textual &#34;Lens 
Type&#34; field is supported. However, some lenses whose lens id is greater than 
255 are not identified correctly because the lens ID is truncated to 8 bits. 
The rationale for the truncation by the Metabones Smart Adapter is to avoid 
collision with genuine Minolta/Sony lenses, which generally don&#39;t use the 
0xEF prefix.

Newer Canon lenses all have lens IDs which do not fit within 8 bits, so we 
would need to fix the truncation problem by making a change to the Metabones 
firmware &#40;version 31, to be released by the end of March 2014&#41; to support 
full 16-bit Canon lens IDs.

The 16-bit Canon lens ID is simply added to 0xEF00. So, older lenses with 
Canon ID 00xx will have Sony ID EFxx, Canon 01xx will become Sony F0xx, and 
Canon 10xx will become Sony FFxx.

There is a need for a separate lens ID for Metabones Speed Booster that is 
distinguishable from the regular glassless Smart Adapter, so that when the 
user apply lens-specific distortion/CA/vignetting/etc. correction based on 
lens ID, a different correction profile may be used for Speed Booster. The 
offset for Speed Booster is chosen be 0x7700. So, older lenses with Canon ID 
00xx coupled with Speed Booster will have Sony ID 77xx, Canon 01xx will 
become Sony 78xx, and Canon 10xx will become Sony 87xx.

Let me know if this makes sense! Any other suggestions on how to resolve 
this truncation issue are also very welcome. Thanks!
--
Bo-Ming Tong
Vancouver, Canada
Metabones

On 2014-03-04, at 7:26 AM, Phil Harvey wrote:

Hi Bo-Ming,

This is great, thanks for your great customer support!

This all makes perfect sense, and I will add ExifTool support for the 
updated Smart Adapter firmware and Speed Booster lens ID&#39;s.

- Phil
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;07:42:27&nbsp;2014</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
