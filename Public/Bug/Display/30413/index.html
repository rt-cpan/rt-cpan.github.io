<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #30413 for Module-Build: tests failing at chdir&#40;undef&#41; in DistGen.pm</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #30413 for Module-Build: tests failing at chdir&#40;undef&#41; in DistGen.pm</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Module-Build">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Module-Build">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Module-Build">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Module-Build">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Build">Module-Build CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">30413</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Module-Build">Module-Build</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
amesdaq [...] websense.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-21558-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.2808    </td>
  </tr>
  <tr id="CF-21559-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.30    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




build_module.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/378141/172744/build_module.txt">
Thu Nov 01 18:42:06 2007 (9.2k) by amesdaq [...] websense.com
</a>
</font></li>
</ul>


module-build.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/430226/210514/module-build.txt">
Tue Mar 04 00:33:41 2008 (13.6k) by amesdaq [...] websense.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=30413">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-378084" href="/Public/Bug/Display.html?id=30413#txn-378084">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;01&nbsp;14:54:23&nbsp;2007</span>
    <span class="description">amesdaq [...] websense.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t Install as non root on shared host</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/378084/172706/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172706">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Looks like I cant install on shared host even with my own new perl
installation in my home directory. Looks like somewhere along the lines
it just looses its path information and all the other errors just
cascade from that. example:

...
Use of uninitialized value in chdir at t/lib/DistGen.pm line 332.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at
t/lib/DistGen.pm line 332.
Can&#39;t open perl script &#34;Build.PL&#34;: No such file or directory
Can&#39;t find &#39;build_params&#39; in _build at
/home/u3/solidriver/.cpan/build/Module-Build-0.2808-VFcyqo/blib/lib/Module/Build/Base.pm
line 1011.
# Looks like you planned 52 tests but only ran 26.
# Looks like your test died just after 26.
Warning: Removing existing directory
&#39;/home/u3/solidriver/.cpan/build/Module-Build-0.2808-VFcyqo/t/_tmp/Simple&#39;
pwd: .: Permission denied
pwd: .: Permission denied
Can&#39;t find file lib/Simple.pm to determine version at
/home/u3/solidriver/.cpan/build/Module-Build-0.2808-VFcyqo/blib/lib/Module/Build/Base.pm
line 950.
Couldn&#39;t run Build.PL:  at
/home/u3/solidriver/.cpan/build/Module-Build-0.2808-VFcyqo/blib/lib/Module/Build/Compat.pm
line 200.

#   Failed test at t/compat.t line 180.

#   Failed test &#39;Makefile should exist&#39;
#   at t/compat.t line 181.
make: Permission denied
pwd: .: Permission denied
pwd: .: Permission denied
....

I accept the possibility that I could be doing something wrong or
uninformed but I do feel this module should install in my setup
especially since its critical for other modules to install.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-378137" href="/Public/Bug/Display.html?id=30413#txn-378137">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;01&nbsp;18:12:22&nbsp;2007</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/378137/172737/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172737">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 135b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bizarre.  Could I get a little more context, like the commands you used for &#39;perl Build.PL&#39;, etc.?  
And your &#39;perl -V&#39; output?

 -Ken
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-378138" href="/Public/Bug/Display.html?id=30413#txn-378138">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;01&nbsp;18:12:23&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-378141" href="/Public/Bug/Display.html?id=30413#txn-378141">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;01&nbsp;18:42:05&nbsp;2007</span>
    <span class="description">amesdaq [...] websense.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> amesdaq [...] websense.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/378141/172741/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172741">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 01 18:12:22 2007, KWILLIAMS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Bizarre.  Could I get a little more context, like the commands you
&gt; used for &#39;perl Build.PL&#39;, etc.?
&gt; And your &#39;perl -V&#39; output?
&gt; 
&gt;  -Ken
</div>
for the perl Build.pl command I just did
~/perl/bin/perl Build.PL

Only other command was 
./Build test
I have attached the output from command.


Here is the ~/perl/bin/perl -V output
#################################
Summary of my perl5 &#40;revision 5 version 8 subversion 8&#41; configuration:
  Platform:
    osname=freebsd, osvers=6.2-release, archname=i386-freebsd
    uname=&#39;freebsd .websense.com 6.2-release freebsd 6.2-release #0: fri
jan 12 10:40:27 utc 2007
root@dessler.cse.buffalo.edu:usrobjusrsrcsysgeneric i386 &#39;
    config_args=&#39;-Dprefix=/home/u3/solidriver/perl -des&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=undef use5005threads=undef useithreads=undef
usemultiplicity=undef
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-DHAS_FPSETMASK -DHAS_FLOATINGPOINT_H
-fno-strict-aliasing -pipe -Wdeclaration-after-statement
-I/usr/local/include&#39;,
    optimize=&#39;-O&#39;,
    cppflags=&#39;-DHAS_FPSETMASK -DHAS_FLOATINGPOINT_H -fno-strict-aliasing
-pipe -Wdeclaration-after-statement -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;3.4.6 [FreeBSD] 20060305&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;-Wl,-E  -L/usr/local/lib&#39;
    libpth=/usr/lib /usr/local/lib
    libs=-lm -lcrypt -lutil -lc
    perllibs=-lm -lcrypt -lutil -lc
    libc=, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39;-DPIC -fPIC&#39;, lddlflags=&#39;-shared  -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: PERL_MALLOC_WRAP USE_LARGE_FILES USE_PERLIO
  Built under freebsd
  Compiled at Oct 30 2007 16:47:37
  @INC:
    /home/u3/solidriver/perl/lib/5.8.8/i386-freebsd
    /home/u3/solidriver/perl/lib/5.8.8
    /home/u3/solidriver/perl/lib/site_perl/5.8.8/i386-freebsd
    /home/u3/solidriver/perl/lib/site_perl/5.8.8
    /home/u3/solidriver/perl/lib/site_perl
    .
#################################
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/378141/172744/build_module.txt">Download build_module.txt</a><br />
<span class="downloadcontenttype">text/plain 9.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">t/basic...............ok 1/52Use of uninitialized value in chdir at t/lib/DistGen.pm line 356.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at t/lib/DistGen.pm line 356.
Can&#39;t open perl script &#34;Build.PL&#34;: No such file or directory
Can&#39;t find &#39;build_params&#39; in _build at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 1022.
# Looks like you planned 52 tests but only ran 26.
# Looks like your test died just after 26.
t/basic...............dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 27-52
        Failed 26/52 tests, 50.00% okay
t/compat..............ok 2/122pwd: .: Permission denied
Use of uninitialized value in chdir at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Can&#39;t find file lib/Simple.pm to determine version at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 961.
Couldn&#39;t run Build.PL:  at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Compat.pm line 207.

#     Failed test &#40;t/compat.t at line 271&#41;

#     Failed test &#40;t/compat.t at line 272&#41;
t/compat..............NOK 14/122make: Permission denied
t/compat..............ok 15/122pwd: .: Permission denied
Use of uninitialized value in chdir at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
 at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751
        File::Find::_find_opt&#40;&#39;HASH&#40;0x85ba684&#41;&#39;, .&#41; called at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 1223
        File::Find::find&#40;&#39;HASH&#40;0x85ba684&#41;&#39;, .&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 164
        ExtUtils::Manifest::manifind&#40;&#39;undef&#39;&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 252
        ExtUtils::Manifest::_check_files&#40;&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 185
        ExtUtils::Manifest::manicheck&#40;&#41; called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 1465
        Module::Build::Base::check_manifest&#40;&#39;Module::Build=HASH&#40;0x82f1510&#41;&#39;&#41; called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 35
        Module::Build::Base::new&#40;&#39;Module::Build&#39;, &#39;module_name&#39;, &#39;Simple&#39;, &#39;license&#39;, &#39;perl&#39;&#41; called at ./Build.PL line 4
        require ./Build.PL called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 100
        Module::Build::Base::new_from_context&#40;&#39;Module::Build&#39;&#41; called at t/compat.t line 221
        main::__ANON__&#40;&#41; called at t/lib/MBTest.pm line 95
        eval {...} called at t/lib/MBTest.pm line 95
        MBTest::save_handle&#40;&#39;GLOB&#40;0x811f8c4&#41;&#39;, &#39;CODE&#40;0x850666c&#41;&#39;&#41; called at t/lib/MBTest.pm line 103
        MBTest::stdout_of&#40;&#39;CODE&#40;0x850666c&#41;&#39;&#41; called at t/compat.t line 222
        main::test_makefile_types&#40;&#41; called at t/compat.t line 52
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
 at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751
        File::Find::_find_opt&#40;&#39;HASH&#40;0x85ba684&#41;&#39;, .&#41; called at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 1223
        File::Find::find&#40;&#39;HASH&#40;0x85ba684&#41;&#39;, .&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 164
        ExtUtils::Manifest::manifind&#40;&#39;undef&#39;&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 252
        ExtUtils::Manifest::_check_files&#40;&#41; called at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/Manifest.pm line 185
        ExtUtils::Manifest::manicheck&#40;&#41; called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 1465
        Module::Build::Base::check_manifest&#40;&#39;Module::Build=HASH&#40;0x82f1510&#41;&#39;&#41; called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 35
        Module::Build::Base::new&#40;&#39;Module::Build&#39;, &#39;module_name&#39;, &#39;Simple&#39;, &#39;license&#39;, &#39;perl&#39;&#41; called at ./Build.PL line 4
        require ./Build.PL called at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 100
        Module::Build::Base::new_from_context&#40;&#39;Module::Build&#39;&#41; called at t/compat.t line 221
        main::__ANON__&#40;&#41; called at t/lib/MBTest.pm line 95
        eval {...} called at t/lib/MBTest.pm line 95
        MBTest::save_handle&#40;&#39;GLOB&#40;0x811f8c4&#41;&#39;, &#39;CODE&#40;0x850666c&#41;&#39;&#41; called at t/lib/MBTest.pm line 103
        MBTest::stdout_of&#40;&#39;CODE&#40;0x850666c&#41;&#39;&#41; called at t/compat.t line 222
        main::test_makefile_types&#40;&#41; called at t/compat.t line 52
Can&#39;t open 86500-1193956764-0008: No such file or directory at t/lib/MBTest.pm line 115.
# Looks like you planned 122 tests but only ran 16.
# Looks like your test died just after 16.
t/compat..............dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 13-14, 17-122
        Failed 108/122 tests, 11.48% okay
t/destinations........ok
        8/113 skipped: various reasons
t/ext.................ok
t/extend..............ok 1/65pwd: .: Permission denied
t/extend..............ok
t/files...............ok
t/help................ok
t/install.............ok 1/34pwd: .: Permission denied
Use of uninitialized value in chdir at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Can&#39;t find file lib/Simple.pm to determine version at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 961.
Can&#39;t open perl script &#34;Build&#34;: No such file or directory

t/install.............NOK 23/34#     Failed test &#40;t/install.t at line 244&#41;
# Expected /home/u3/solidriver/Module-Build-0.2808_01/t/install_test.86668/foo/lib/Simple.pm to exist, but it doesn&#39;t
Can&#39;t open perl script &#34;Build&#34;: No such file or directory

#     Failed test &#40;t/install.t at line 171&#41;
t/install.............NOK 25/34#          got: undef
#     expected: &#39;1&#39;
pwd: .: Permission denied
Use of uninitialized value in chdir at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/File/Find.pm line 751.
Can&#39;t find file lib/Simple.pm to determine version at /home/u3/solidriver/Module-Build-0.2808_01/blib/lib/Module/Build/Base.pm line 961.
# Looks like you planned 34 tests but only ran 26.
# Looks like your test died just after 26.
t/install.............dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 23, 25, 27-34
        Failed 10/34 tests, 70.59% okay
t/manifypods..........ok
t/mbyaml..............ok
t/metadata............ok
t/metadata2...........ok
t/moduleinfo..........ok
t/new_from_context....ok
t/notes...............ok
t/par.................skipped
        all skipped: Archive::Zip required.
t/parents.............ok
t/pod_parser..........ok
t/ppm.................ok 2/12Use of uninitialized value in chdir at t/lib/DistGen.pm line 356.
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at t/lib/DistGen.pm line 356.
Not a GLOB reference at /home/u3/solidriver/perl/lib/site_perl/5.8.8/IO/Zlib.pm line 563.
# Looks like you planned 12 tests but only ran 9.
# Looks like your test died just after 9.
t/ppm.................dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 10-12
        Failed 3/12 tests, 75.00% okay
t/runthrough..........ok
        4/32 skipped: various reasons
t/signature...........skipped
        all skipped: $ENV{TEST_SIGNATURE} is not set
t/test_type...........ok
t/test_types..........ok
t/tilde...............ok
t/versions............ok
t/xs..................ok 2/22pwd: .: Permission denied
pwd: .: Permission denied
pwd: .: Permission denied
pwd: .: Permission denied
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/ParseXS.pm line 999, &lt;GEN7&gt; line 26.
cc: lib/Simple.c: No such file or directory
cc: No input files specified
error building lib/Simple.o from &#39;lib/Simple.c&#39; at /home/u3/solidriver/perl/lib/site_perl/5.8.8/ExtUtils/CBuilder/Base.pm line 109.
pwd: .: Permission denied
pwd: .: Permission denied
Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at /home/u3/solidriver/perl/lib/5.8.8/ExtUtils/ParseXS.pm line 999, &lt;GEN58&gt; line 26.
cc: lib/Simple.c: No such file or directory
cc: No input files specified

#     Failed test &#40;t/xs.t at line 92&#41;
#          got: &#39;error building lib/Simple.o from &#39;lib/Simple.c&#39; at /home/u3/solidriver/perl/lib/site_perl/5.8.8/ExtUtils/CBuilder/Base.pm line 109.
# &#39;
#     expected: &#39;&#39;
t/xs..................ok 15/22# Looks like you failed 1 test of 22.
t/xs..................dubious
        Test returned status 1 &#40;wstat 256, 0x100&#41;
DIED. FAILED test 12
        Failed 1/22 tests, 95.45% okay
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/basic.t    255 65280    52   52  27-52
t/compat.t   255 65280   122  214  13-14 17-122
t/install.t  255 65280    34   18  23 25 27-34
t/ppm.t      255 65280    12    6  10-12
t/xs.t         1   256    22    1  12
2 tests and 12 subtests skipped.
Failed 5/26 test scripts. 148/849 subtests failed.
Files=26, Tests=849, 13 wallclock secs &#40; 6.93 cusr +  4.57 csys = 11.50 CPU&#41;
Failed 5/26 test programs. 148/849 subtests failed.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-394810" href="/Public/Bug/Display.html?id=30413#txn-394810">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;15&nbsp;15:01:26&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/394810/181674/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/181674">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 386b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 01 14:54:23 2007, amesdaq wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Use of uninitialized value in chdir at t/lib/DistGen.pm line 332.
&gt; Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at
&gt; t/lib/DistGen.pm line 332.
</div>
That looks like Cwd::abs_path&#40;&#41; is returning undef at the beginning of 
clean&#40;&#41; in DistGen.pm.  Is this a PathTools bug?  What do you get for 
`perl -MCwd -le &#39;print Cwd-&gt;VERSION&#39;`?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-394813" href="/Public/Bug/Display.html?id=30413#txn-394813">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;15&nbsp;15:02:27&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Subject changed from &#39;Can&#39;t Install as non root on shared host&#39; to &#39;tests failing at chdir&#40;undef&#41; in DistGen.pm&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-394814" href="/Public/Bug/Display.html?id=30413#txn-394814">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;15&nbsp;15:02:29&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-394815" href="/Public/Bug/Display.html?id=30413#txn-394815">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;15&nbsp;15:02:30&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Broken in 0.2808 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-394816" href="/Public/Bug/Display.html?id=30413#txn-394816">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;15&nbsp;15:02:31&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Broken in 0.2808_01 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-395283" href="/Public/Bug/Display.html?id=30413#txn-395283">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;13:33:20&nbsp;2007</span>
    <span class="description">amesdaq [...] websense.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> amesdaq [...] websense.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/395283/181914/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/181914">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 538b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Dec 15 15:01:26 2007, EWILHELM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Nov 01 14:54:23 2007, amesdaq wrote:
<div class="message-stanza open">&gt; &gt; Use of uninitialized value in chdir at t/lib/DistGen.pm line 332.
&gt; &gt; Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at
&gt; &gt; t/lib/DistGen.pm line 332.
</div>&gt; 
&gt; That looks like Cwd::abs_path&#40;&#41; is returning undef at the beginning of 
&gt; clean&#40;&#41; in DistGen.pm.  Is this a PathTools bug?  What do you get for 
&gt; `perl -MCwd -le &#39;print Cwd-&gt;VERSION&#39;`?
</div>
I get 3.12 for the version. Is there a specific version I should be at
or above?

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-395284" href="/Public/Bug/Display.html?id=30413#txn-395284">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;13:33:22&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-395286" href="/Public/Bug/Display.html?id=30413#txn-395286">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;14:21:05&nbsp;2007</span>
    <span class="description">EWILHELM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/395286/181916/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/181916">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 627b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Dec 17 13:33:20 2007, amesdaq wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Dec 15 15:01:26 2007, EWILHELM wrote:
<div class="message-stanza open">&gt;&gt; That looks like Cwd::abs_path&#40;&#41; is returning 
&gt;&gt; undef at the beginning of clean&#40;&#41; in DistGen.pm.
&gt;&gt; Is this a PathTools bug?  What do you get for 
&gt;&gt; `perl -MCwd -le &#39;print Cwd-&gt;VERSION&#39;`?
</div>&gt; I get 3.12 for the version.
</div>
3.12 works for me, but perhaps you&#39;re seeing this bug:

  <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=13851">http://rt.cpan.org/Ticket/Display.html?id=13851</a></span>

Are your directory permissions excessively restrictive?  The only way I 
can get abs_path&#40;&#41; to return undef is:

  cd /tmp; mkdir foo; cd foo
  chmod 000 .
  perl -MCwd -w -le &#39;print Cwd::abs_path&#40;&#34;blah&#34;&#41;&#39;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-395291" href="/Public/Bug/Display.html?id=30413#txn-395291">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;14:51:36&nbsp;2007</span>
    <span class="description">amesdaq [...] websense.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> amesdaq [...] websense.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/395291/181919/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/181919">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 946b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Dec 17 14:21:05 2007, EWILHELM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Dec 17 13:33:20 2007, amesdaq wrote:
<div class="message-stanza open">&gt; &gt; On Sat Dec 15 15:01:26 2007, EWILHELM wrote:
<div class="message-stanza open">&gt; &gt;&gt; That looks like Cwd::abs_path&#40;&#41; is returning 
&gt; &gt;&gt; undef at the beginning of clean&#40;&#41; in DistGen.pm.
&gt; &gt;&gt; Is this a PathTools bug?  What do you get for 
&gt; &gt;&gt; `perl -MCwd -le &#39;print Cwd-&gt;VERSION&#39;`?
</div>&gt; &gt; I get 3.12 for the version.
</div>&gt; 
&gt; 3.12 works for me, but perhaps you&#39;re seeing this bug:
&gt; 
&gt;   <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=13851">http://rt.cpan.org/Ticket/Display.html?id=13851</a></span>
&gt; 
&gt; Are your directory permissions excessively restrictive?  The only way I 
&gt; can get abs_path&#40;&#41; to return undef is:
&gt; 
&gt;   cd /tmp; mkdir foo; cd foo
&gt;   chmod 000 .
&gt;   perl -MCwd -w -le &#39;print Cwd::abs_path&#40;&#34;blah&#34;&#41;&#39;
</div>
Yes the directories are excessively restrictive. But the bug you linked
also seemed to have issues with nfs mounted home directories which are
common on shared hosts. Is there any other info I can give you to help
determine the problem?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-395749" href="/Public/Bug/Display.html?id=30413#txn-395749">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;23:55:07&nbsp;2007</span>
    <span class="description">scratchcomputing [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 17 Dec 2007 20:54:15 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Eric Wilhelm &lt;scratchcomputing [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/395749/182042/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/182042">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"># from Ali Mesdaq via RT
# on Monday 17 December 2007 11:51:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;   cd /tmp; mkdir foo; cd foo
&gt;&gt;   chmod 000 .
&gt;&gt;   perl -MCwd -w -le &#39;print Cwd::abs_path&#40;&#34;blah&#34;&#41;&#39;
</div>&gt;
&gt;Yes the directories are excessively restrictive. But the bug you
&gt; linked also seemed to have issues with nfs mounted home directories
&gt; which are common on shared hosts. Is there any other info I can give
&gt; you to help determine the problem?
</div>
You could send a listing of the permissions of each directory upward 
from the working directory.

But, at this point, it sounds like this ticket is maybe going to be 
stalled pending a fix in PathTools.  If you can send Ken a patch for 
that, that would help move things along.

Note that it still may be a bug in the M::B tests.  Do newer versions 
exhibit the same behavior?  What about outside of CPAN.pm?  What about 
running `perl Build.PL &#38;&#38; ./Build test` instead of Makefile.PL?

I&#39;m guessing that abs_path&#40;&#41; is doing a chdir upwards and hitting 
something that it&#39;s not allowed to come back to -- but I&#39;m not sure how 
you could login if that&#39;s the case.  The undef answer also happens if 
the current directory has been deleted since the process started.  The 
former is the PathTools thing, the latter would indicate a M::B bug &#40;or 
possibly something to do with CPAN.pm&#39;s temporary build dir.&#41;  If you 
can determine which one is happening, that would help.

--Eric
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-398809" href="/Public/Bug/Display.html?id=30413#txn-398809">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;19&nbsp;08:57:55&nbsp;2007</span>
    <span class="description">kwilliams [...] cpan.org -  Dependency on ticket #13851 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430135" href="/Public/Bug/Display.html?id=30413#txn-430135">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;16:02:54&nbsp;2008</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/430135/210478/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210478">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 636b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Dec 17 14:51:36 2007, amesdaq wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Are your directory permissions excessively restrictive?  The only way I 
&gt; &gt; can get abs_path&#40;&#41; to return undef is:
&gt; &gt; 
&gt; &gt;   cd /tmp; mkdir foo; cd foo
&gt; &gt;   chmod 000 .
&gt; &gt;   perl -MCwd -w -le &#39;print Cwd::abs_path&#40;&#34;blah&#34;&#41;&#39;
</div>&gt; 
&gt; Yes the directories are excessively restrictive. But the bug you linked
&gt; also seemed to have issues with nfs mounted home directories which are
&gt; common on shared hosts. Is there any other info I can give you to help
&gt; determine the problem?
</div>
This issue should be resolved by PathTools 3.26 which did an extensive
upgrade to abs_path, could you please try?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430138" href="/Public/Bug/Display.html?id=30413#txn-430138">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;03&nbsp;16:02:57&nbsp;2008</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430226" href="/Public/Bug/Display.html?id=30413#txn-430226">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;00:33:40&nbsp;2008</span>
    <span class="description">amesdaq [...] websense.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> amesdaq [...] websense.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/430226/210511/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210511">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 03 16:02:54 2008, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Dec 17 14:51:36 2007, amesdaq wrote:
<div class="message-stanza open">&gt; &gt; &gt; Are your directory permissions excessively restrictive?  The only 
</div></div>way I 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; can get abs_path&#40;&#41; to return undef is:
&gt; &gt; &gt; 
&gt; &gt; &gt;   cd /tmp; mkdir foo; cd foo
&gt; &gt; &gt;   chmod 000 .
&gt; &gt; &gt;   perl -MCwd -w -le &#39;print Cwd::abs_path&#40;&#34;blah&#34;&#41;&#39;
</div>&gt; &gt; 
&gt; &gt; Yes the directories are excessively restrictive. But the bug you 
</div></div>linked
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; also seemed to have issues with nfs mounted home directories which 
</div></div>are
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; common on shared hosts. Is there any other info I can give you to 
</div></div>help
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; determine the problem?
</div>&gt; 
&gt; This issue should be resolved by PathTools 3.26 which did an extensive
&gt; upgrade to abs_path, could you please try?
</div>
Still having issues. Same host different install. Built my own perl so 
I can isolate all issues and versions. That perl install is located 
at /home/u1/srdealer1/perl. Also verified that I have updated version 
of PathTools
[srdealer1@pro42 Module-Build-0.2808]
$ /home/u1/srdealer1/perl/bin/perl -MCwd -le &#39;print Cwd-&gt;VERSION&#39;
3.2701


To install I ran the following steps

1 - wget 
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.mirrors.redwire.net/authors/id/K/KW/KWILLIAMS/Module-Build-">http://cpan.mirrors.redwire.net/authors/id/K/KW/KWILLIAMS/Module-Build-</a></span>
0.2808.tar.gz
2 - tar xzvf Module-Build-0.2808.tar.gz
3 - cd Module-Build-0.2808
4 - /home/u1/srdealer1/perl/bin/perl Build.PL
5 - ./Build
6 - ./Build test
And thats when it fails. Attached is the output from ./Build test
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/430226/210514/module-build.txt">Download module-build.txt</a><br />
<span class="downloadcontenttype">text/plain 13.6k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430227" href="/Public/Bug/Display.html?id=30413#txn-430227">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;00:33:47&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430672" href="/Public/Bug/Display.html?id=30413#txn-430672">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;05&nbsp;05:19:54&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 05 Mar 2008 11:16:43 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/430672/210707/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210707">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 490b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have some more questions about your environment.

What are the permissions on /home/u1/srdealer1/Module-Build-0.2808/ and all 
it&#39;s parent directories?  Please show me an ls -ld on each of these:

/home/u1/srdealer1/Module-Build-0.2808/t/
/home/u1/srdealer1/Module-Build-0.2808/
/home/u1/srdealer1/
/home/u1/
/home/
/

Also what does this give?

perl -wle &#39;use Cwd;  print Cwd::abs_path&#40;shift&#41;&#39; 
/home/u1/srdealer1/Module-Build-0.2808/

Finally, what user are you running the install as?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430821" href="/Public/Bug/Display.html?id=30413#txn-430821">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;05&nbsp;16:11:09&nbsp;2008</span>
    <span class="description">amesdaq [...] websense.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> amesdaq [...] websense.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/430821/210796/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210796">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Mar 05 05:19:54 2008, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have some more questions about your environment.
&gt; 
&gt; What are the permissions on /home/u1/srdealer1/Module-Build-0.2808/
</div>and all 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it&#39;s parent directories?  Please show me an ls -ld on each of these:
&gt; 
&gt; /home/u1/srdealer1/Module-Build-0.2808/t/
&gt; /home/u1/srdealer1/Module-Build-0.2808/
&gt; /home/u1/srdealer1/
&gt; /home/u1/
&gt; /home/
&gt; /
&gt; 
&gt; Also what does this give?
&gt; 
&gt; perl -wle &#39;use Cwd;  print Cwd::abs_path&#40;shift&#41;&#39; 
&gt; /home/u1/srdealer1/Module-Build-0.2808/
&gt; 
&gt; Finally, what user are you running the install as?
</div>
Here are the permissions

[srdealer1@pro42 ~]$ ls -ld /home/u1/srdealer1/Module-Build-0.2808/t/
drwxr-xr-x  4 srdealer1  srdealer1  1024 Mar  3 21:55
/home/u1/srdealer1/Module-Build-0.2808/t/
[srdealer1@pro42 ~]$ ls -ld /home/u1/srdealer1/Module-Build-0.2808/
drwxr-xr-x  8 srdealer1  srdealer1  512 Mar  3 21:55
/home/u1/srdealer1/Module-Build-0.2808/
[srdealer1@pro42 ~]$ ls -ld /home/u1/srdealer1/
drwxr-x--x  13 srdealer1  srdealer1  512 Mar  3 21:53 /home/u1/srdealer1/
[srdealer1@pro42 ~]$ ls -ld /home/u1/
drwxr-x--x  342 root  wheel  7680 Mar  5 12:12 /home/u1/
[srdealer1@pro42 ~]$ ls -ld /home/
drwxr-x--x  32 root  wheel  512 Mar  5 11:17 /home/
[srdealer1@pro42 ~]$ ls -ld /
drwxr-xr-x  21 root  wheel  512 Feb 28 12:44 /
[srdealer1@pro42 ~]$


Here is the command you wanted me to run

[srdealer1@pro42 ~]$ /home/u1/srdealer1/perl/bin/perl -wle &#39;use Cwd;
print Cwd::abs_path&#40;shift&#41;&#39; /home/u1/srdealer1/Module-Build-0.2808/
/home/u1/srdealer1/Module-Build-0.2808


However I think I know why the tests might be failing or at least a big
hint as to why. When I run:
/home/u1/srdealer1/perl/bin/perl Build.PL

The Build file has the path I used for perl at the shebang of the file.
But all the test files use #!/usr/bin/perl -w instead of what I used. I
think whats happening is that when the tests are being executed they are
using the systems perl install which is locked down a lot and probably
doesnt even have the directories its looking for. I think that needs to
be fixed so its using the same perl that was using in the command:
/home/u1/srdealer1/perl/bin/perl Build.PL

Could that be the issue?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430842" href="/Public/Bug/Display.html?id=30413#txn-430842">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;05&nbsp;17:20:04&nbsp;2008</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kwilliams [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/430842/210804/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210804">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 365b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Mar 05 16:11:09 2008, amesdaq wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The Build file has the path I used for perl at the shebang of the file.
&gt; But all the test files use #!/usr/bin/perl -w instead of what I used.
</div>
That&#39;s not likely to be the problem, the tests will be run with the same
perl that that&#39;s in the ./Build file, despite their shebang line saying
something different.

 -Ken
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-430854" href="/Public/Bug/Display.html?id=30413#txn-430854">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;05&nbsp;17:31:32&nbsp;2008</span>
    <span class="description">nospam-abuse [...] ilyaz.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Mar 2008 14:31:03 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Ken Williams via RT &lt;bug-Module-Build [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ilya Zakharevich &lt;nospam-abuse [...] ilyaz.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/430854/210810/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210810">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 872b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Mar 05, 2008 at 05:20:13PM -0500, Ken Williams via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt;        Queue: Module-Build
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=30413">http://rt.cpan.org/Ticket/Display.html?id=30413</a></span> &gt;
&gt; 
&gt; On Wed Mar 05 16:11:09 2008, amesdaq wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; The Build file has the path I used for perl at the shebang of the file.
&gt; &gt; But all the test files use #!/usr/bin/perl -w instead of what I used.
</div>&gt; 
&gt; That&#39;s not likely to be the problem, the tests will be run with the same
&gt; perl that that&#39;s in the ./Build file, despite their shebang line saying
&gt; something different.
</div>
I think this may be the same problem as what I was reporting for a
decade &#40;but for MakeMaker&#41;: wrong perl used for build/testing.
[Unfortunately, since google pulled the plug on perl5-porters, I do
not know how to find it quickly.]

Recipe: Disable `which perl` on your system.  Watch how build behaves.

Hope this helps,
Ilya
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-431227" href="/Public/Bug/Display.html?id=30413#txn-431227">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;06&nbsp;10:49:31&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 06 Mar 2008 16:44:34 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/431227/211003/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/211003">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ilya Zakharevich via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; The Build file has the path I used for perl at the shebang of the file.
&gt;&gt;&gt; But all the test files use #!/usr/bin/perl -w instead of what I used.
</div>&gt;&gt; That&#39;s not likely to be the problem, the tests will be run with the same
&gt;&gt; perl that that&#39;s in the ./Build file, despite their shebang line saying
&gt;&gt; something different.
</div>&gt; 
&gt; I think this may be the same problem as what I was reporting for a
&gt; decade &#40;but for MakeMaker&#41;: wrong perl used for build/testing.
&gt; [Unfortunately, since google pulled the plug on perl5-porters, I do
&gt; not know how to find it quickly.]
</div>
Are you referring to Google Groups?  They still do p5p.
<span class="clickylink"><a target="new" rel="nofollow" href="http://groups.google.com/group/perl.perl5.porters/topics">http://groups.google.com/group/perl.perl5.porters/topics</a></span>

And the xray archive still works.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/</a></span>


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Recipe: Disable `which perl` on your system.  Watch how build behaves.
</div>
I don&#39;t think either MakeMaker or Module::Build use which.  And how does one 
disable it?  And how would it become so, aside from not existing in the first 
place.


-- 
54. “Napalm sticks to kids” is *not* a motivational phrase.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-431230" href="/Public/Bug/Display.html?id=30413#txn-431230">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;06&nbsp;10:57:56&nbsp;2008</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/431230/211006/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/211006">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 509b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Mar 06 10:49:31 2008, schwern@pobox.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Recipe: Disable `which perl` on your system.  Watch how build
</div>&gt; behaves.
&gt; 
&gt; I don&#39;t think either MakeMaker or Module::Build use which.  And how
&gt; does one
&gt; disable it?  And how would it become so, aside from not existing in
&gt; the first
&gt; place.
</div>
I think he meant &#34;disable the thing that `which perl` points to&#34;, i.e.
the thing that typing &#34;perl&#34; at a cmd-line would run, then try to build
using another perl.

But that should work fine.

 -Ken
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-431253" href="/Public/Bug/Display.html?id=30413#txn-431253">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;06&nbsp;12:04:36&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 06 Mar 2008 17:09:08 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/431253/211024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/211024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ali Mesdaq via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; However I think I know why the tests might be failing or at least a big
&gt; hint as to why. When I run:
&gt; /home/u1/srdealer1/perl/bin/perl Build.PL
&gt; 
&gt; The Build file has the path I used for perl at the shebang of the file.
&gt; But all the test files use #!/usr/bin/perl -w instead of what I used. I
&gt; think whats happening is that when the tests are being executed they are
&gt; using the systems perl install which is locked down a lot and probably
&gt; doesnt even have the directories its looking for. I think that needs to
&gt; be fixed so its using the same perl that was using in the command:
&gt; /home/u1/srdealer1/perl/bin/perl Build.PL
&gt; 
&gt; Could that be the issue?
</div>
The perl on the #! line is not honored, the tests should run with the same 
perl you ran Build.PL with.  However, it is possible the tests are being run 
with the wrong perl.  If that perl doesn&#39;t have an upgraded Cwd it would 
explain the problem.

Throw a C&lt; print STDERR &#34;# Perl: $^X\n&#34;; &gt; into t/lib/DistGen.pm just before 
the point of failure.  That will tell us what perl is running.

Also, what&#39;s the #! line in Build?


-- 
Look at me talking when there&#39;s science to do.
When I look out there it makes me glad I&#39;m not you.
I&#39;ve experiments to be run.
There is research to be done
On the people who are still alive.
     -- Jonathan Coulton, &#34;Still Alive&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-431339" href="/Public/Bug/Display.html?id=30413#txn-431339">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;06&nbsp;17:17:13&nbsp;2008</span>
    <span class="description">nospam-abuse [...] ilyaz.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #30413] tests failing at chdir&#40;undef&#41; in DistGen.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 6 Mar 2008 14:16:26 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-Module-Build [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ilya Zakharevich &lt;nospam-abuse [...] ilyaz.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/431339/211081/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/211081">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Mar 06, 2008 at 10:49:34AM -0500, Michael G Schwern via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Are you referring to Google Groups?  They still do p5p.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://groups.google.com/group/perl.perl5.porters/topics">http://groups.google.com/group/perl.perl5.porters/topics</a></span>
</div>
Well, my searches through author:ilya did not pick it up.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And the xray archive still works.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/</a></span>
</div>
Thanks.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Recipe: Disable `which perl` on your system.  Watch how build behaves.
</div>&gt; 
&gt; I don&#39;t think either MakeMaker or Module::Build use which.  And how does one 
&gt; disable it?
</div>
E.g., symlink it to echo.  Or remove one of the DLLs it depends on.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  And how would it become so, aside from not existing in the first 
&gt; place.
</div>
Anyway, for a &#34;correct&#34; operation, how `which perl` operates should
not concern a module builder at all.  All the operations should be
performed with the perl which run Makefile.PL or Build.PL &#40;provided
one could find it :-[&#41;.  Any other mode of operation means that the
deployment is not fully tested &#40;IMO, each [non-broken] module test is
also a test of the Perl distribution&#41;.

I suspect the OP was hit by a problem which stems from using a &#34;wrong&#34;
perl executable &#40;e.g., one from $ENV{PATH}&#41;.

Hope this helps,
Ilya
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513457" href="/Public/Bug/Display.html?id=30413#txn-513457">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;28&nbsp;06:42:43&nbsp;2008</span>
    <span class="description">EWILHELM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/513457/255769/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255769">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 462b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 01 14:54:23 2007, amesdaq wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it just looses its path information and all the other errors just
&gt; cascade from that. example:
&gt;...
&gt; Use of uninitialized value in chdir at t/lib/DistGen.pm line 332.
&gt; Use of chdir&#40;&#39;&#39;&#41; or chdir&#40;undef&#41; as chdir&#40;&#41; is deprecated at
&gt; t/lib/DistGen.pm line 332.
</div>
Hi,

I think this is resolved in 0.30, probably by svn r11502.  If you can reproduce it 
with the current version, please reopen the ticket.

Thanks,
Eric
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-535514" href="/Public/Bug/Display.html?id=30413#txn-535514">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;20&nbsp;15:12:16&nbsp;2008</span>
    <span class="description">EWILHELM [...] cpan.org -  Fixed in 0.30 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links DeleteLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-535650" href="/Public/Bug/Display.html?id=30413#txn-535650">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;20&nbsp;22:17:16&nbsp;2008</span>
    <span class="description">kwilliams [...] cpan.org -  Dependency on ticket #13851 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-535652" href="/Public/Bug/Display.html?id=30413#txn-535652">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;20&nbsp;22:17:37&nbsp;2008</span>
    <span class="description">kwilliams [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.122026</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
