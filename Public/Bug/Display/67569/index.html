<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #67569 for Encode: incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #67569 for Encode: incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Encode">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Encode">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Encode">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Encode">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Encode">Encode CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">67569</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Encode">Encode</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
florz [...] florz.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
pali [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12062-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12063-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=67569">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-925021" href="/Public/Bug/Display.html?id=67569#txn-925021">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;19:26:08&nbsp;2011</span>
    <span class="description">florz [...] florz.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Apr 2011 01:25:55 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Encode [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Zumbiehl &lt;florz [...] florz.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/925021/479955/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/479955">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I started digging because of the incorrect unfolding in
Encode::MIME::RFC2047, which I now noticed is already reported as
bug #40027. Essentially people have already explained it correctly:
unfolding only eats the CRLF, nothing else &#40;just as the RFC quite
clearly states&#41;. RFC2047 decoding then additionally eats whitespace
between encoded words in *text. _Between_ encoded words only.

As I couldn&#39;t figure out how to submit additional information for
a bug without opening an account, please feel free to merge things
as appropriate.

This is very relevant practically as the traditional way for breaking
long Subject headers, for example, was to insert CRLFs at the beginning of
whitespace sequences &#40;well, and still is where no RFC2047 encoding is
necessary&#41;, which you corrupt with the current code.

While digging, I found a bunch more bugs and put together a fix
which you find below that should bring the code a lot closer to
the RFC.

This code indeed is for *text only - there is no way to decode
other headers that contain encoded words without first taking apart
the respective headers and then decoding words separately anyhow.

Also, here is a list of test cases with their respective correct
decoding:

&#34;foo =?us-ascii?q?bar?=&#34; =&gt; &#34;foo bar&#34;
&#34;foo\r\n =?us-ascii?q?bar?=&#34; =&gt; &#34;foo bar&#34;
&#34;=?us-ascii?q?foo?= bar&#34; =&gt; &#34;foo bar&#34;
&#34;=?us-ascii?q?foo?=\r\n bar&#34; =&gt; &#34;foo bar&#34;
&#34;foo bar&#34; =&gt; &#34;foo bar&#34;
&#34;foo\r\n bar&#34; =&gt; &#34;foo bar&#34;
&#34;=?us-ascii?q?foo?= =?us-ascii?q?bar?=&#34; =&gt; &#34;foobar&#34;
&#34;=?us-ascii?q?foo?=\r\n =?us-ascii?q?bar?=&#34; =&gt; &#34;foobar&#34;
&#34;foo=?us-ascii?q?bar?=&#34; =&gt; &#34;foo=?us-ascii?q?bar?=&#34;
&#34;=?us-ascii?q?foo?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo=?us-ascii?q?bar?=&#34;
&#34;=?us-ascii?q?foo bar?=&#34; =&gt; &#34;=?us-ascii?q?foo bar?=&#34;
&#34;=?us-ascii?q?foo\r\n bar?=&#34; =&gt; &#34;=?us-ascii?q?foo bar?=&#34;
&#34;foo =?us-ascii?q?=20?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo  =?us-ascii?q?bar?=&#34;

Please note that the code is untested as a whole, I just tested pieces
separately.

diff --git a/cpan/Encode/lib/Encode/MIME/Header.pm b/cpan/Encode/lib/Encode/MIME/Header.pm
index 9728dc3..44c7024 100644
--- a/cpan/Encode/lib/Encode/MIME/Header.pm
+++ b/cpan/Encode/lib/Encode/MIME/Header.pm
@@ -40,23 +40,25 @@ sub decode&#40;$$;$&#41; {
     use utf8;
     my &#40; $obj, $str, $chk &#41; = @_;
 
-    # zap spaces between encoded words
-    $str =~ s/\?=\s+=\?/\?==\?/gos;
-
     # multi-line header to single line
-    $str =~ s/&#40;?:\r\n|[\r\n]&#41;[ \t]//gos;
-
-    1 while &#40; $str =~
-        s/&#40;=\?[-0-9A-Za-z_]+\?[Qq]\?&#41;&#40;.*?&#41;\?=\1&#40;.*?\?=&#41;/$1$2$3/ &#41;
+    $str =~ s/&#40;?:\r\n|[\r\n]&#41;&#40;?=[ \t]&#41;//gos;
+
+    1 while &#40; $str =~ s/
+          &#40;?:\A|&#40;?&lt;=[ \t]&#41;&#41;
+          &#40;=\?[-0-9A-Za-z_]+\?[Qq]\?&#41;&#40;[\x21-\x3e\x40-\x7e]+&#41;\?=
+          [ \t]+
+          \1&#40;[\x21-\x3e\x40-\x7e]+\?=&#41;
+      /$1$2$3/x &#41;
       ;    # Concat consecutive QP encoded mime headers
            # Fixes breaking inside multi-byte characters
 
     $str =~ s{
+        &#40;?:\A|\G[ \t]+|&#40;?&lt;=[ \t]&#41;&#41;
         =\?              # begin encoded word
         &#40;[-0-9A-Za-z_]+&#41; # charset &#40;encoding&#41;
         &#40;?:\*[A-Za-z]{1,8}&#40;?:-[A-Za-z]{1,8}&#41;*&#41;? # language &#40;RFC 2231&#41;
         \?&#40;[QqBb]&#41;\?     # delimiter
-        &#40;.*?&#41;            # Base64-encodede contents
+        &#40;[\x21-\x3e\x40-\x7e]+&#41;
         \?=              # end encoded word
     }{
         if      &#40;uc&#40;$2&#41; eq &#39;B&#39;&#41;{

Florian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-937689" href="/Public/Bug/Display.html?id=67569#txn-937689">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;21&nbsp;19:07:36&nbsp;2011</span>
    <span class="description">DANKOGAI [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-937697" href="/Public/Bug/Display.html?id=67569#txn-937697">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;21&nbsp;19:10:27&nbsp;2011</span>
    <span class="description">DANKOGAI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/937697/486886/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/486886">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I tried your patch but unfortunately it breaks existing tests.

Dan the Maintainer Thereof

On Mon Apr 18 19:26:08 2011, florz@florz.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I started digging because of the incorrect unfolding in
&gt; Encode::MIME::RFC2047, which I now noticed is already reported as
&gt; bug #40027. Essentially people have already explained it correctly:
&gt; unfolding only eats the CRLF, nothing else &#40;just as the RFC quite
&gt; clearly states&#41;. RFC2047 decoding then additionally eats whitespace
&gt; between encoded words in *text. _Between_ encoded words only.
&gt; 
&gt; As I couldn&#39;t figure out how to submit additional information for
&gt; a bug without opening an account, please feel free to merge things
&gt; as appropriate.
&gt; 
&gt; This is very relevant practically as the traditional way for breaking
&gt; long Subject headers, for example, was to insert CRLFs at the
&gt; beginning of
&gt; whitespace sequences &#40;well, and still is where no RFC2047 encoding is
&gt; necessary&#41;, which you corrupt with the current code.
&gt; 
&gt; While digging, I found a bunch more bugs and put together a fix
&gt; which you find below that should bring the code a lot closer to
&gt; the RFC.
&gt; 
&gt; This code indeed is for *text only - there is no way to decode
&gt; other headers that contain encoded words without first taking apart
&gt; the respective headers and then decoding words separately anyhow.
&gt; 
&gt; Also, here is a list of test cases with their respective correct
&gt; decoding:
&gt; 
&gt; &#34;foo =?us-ascii?q?bar?=&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;foo\r\n =?us-ascii?q?bar?=&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;=?us-ascii?q?foo?= bar&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;=?us-ascii?q?foo?=\r\n bar&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;foo bar&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;foo\r\n bar&#34; =&gt; &#34;foo bar&#34;
&gt; &#34;=?us-ascii?q?foo?= =?us-ascii?q?bar?=&#34; =&gt; &#34;foobar&#34;
&gt; &#34;=?us-ascii?q?foo?=\r\n =?us-ascii?q?bar?=&#34; =&gt; &#34;foobar&#34;
&gt; &#34;foo=?us-ascii?q?bar?=&#34; =&gt; &#34;foo=?us-ascii?q?bar?=&#34;
&gt; &#34;=?us-ascii?q?foo?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo=?us-ascii?q?bar?=&#34;
&gt; &#34;=?us-ascii?q?foo bar?=&#34; =&gt; &#34;=?us-ascii?q?foo bar?=&#34;
&gt; &#34;=?us-ascii?q?foo\r\n bar?=&#34; =&gt; &#34;=?us-ascii?q?foo bar?=&#34;
&gt; &#34;foo =?us-ascii?q?=20?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo  =?us-
&gt; ascii?q?bar?=&#34;
&gt; 
&gt; Please note that the code is untested as a whole, I just tested pieces
&gt; separately.
&gt; 
&gt; diff --git a/cpan/Encode/lib/Encode/MIME/Header.pm
&gt; b/cpan/Encode/lib/Encode/MIME/Header.pm
&gt; index 9728dc3..44c7024 100644
&gt; --- a/cpan/Encode/lib/Encode/MIME/Header.pm
&gt; +++ b/cpan/Encode/lib/Encode/MIME/Header.pm
&gt; @@ -40,23 +40,25 @@ sub decode&#40;$$;$&#41; {
&gt;      use utf8;
&gt;      my &#40; $obj, $str, $chk &#41; = @_;
&gt; 
&gt; -    # zap spaces between encoded words
&gt; -    $str =~ s/\?=\s+=\?/\?==\?/gos;
&gt; -
&gt;      # multi-line header to single line
&gt; -    $str =~ s/&#40;?:\r\n|[\r\n]&#41;[ \t]//gos;
&gt; -
&gt; -    1 while &#40; $str =~
&gt; -        s/&#40;=\?[-0-9A-Za-z_]+\?[Qq]\?&#41;&#40;.*?&#41;\?=\1&#40;.*?\?=&#41;/$1$2$3/ &#41;
&gt; +    $str =~ s/&#40;?:\r\n|[\r\n]&#41;&#40;?=[ \t]&#41;//gos;
&gt; +
&gt; +    1 while &#40; $str =~ s/
&gt; +          &#40;?:\A|&#40;?&lt;=[ \t]&#41;&#41;
&gt; +          &#40;=\?[-0-9A-Za-z_]+\?[Qq]\?&#41;&#40;[\x21-\x3e\x40-\x7e]+&#41;\?=
&gt; +          [ \t]+
&gt; +          \1&#40;[\x21-\x3e\x40-\x7e]+\?=&#41;
&gt; +      /$1$2$3/x &#41;
&gt;        ;    # Concat consecutive QP encoded mime headers
&gt;             # Fixes breaking inside multi-byte characters
&gt; 
&gt;      $str =~ s{
&gt; +        &#40;?:\A|\G[ \t]+|&#40;?&lt;=[ \t]&#41;&#41;
&gt;          =\?              # begin encoded word
&gt;          &#40;[-0-9A-Za-z_]+&#41; # charset &#40;encoding&#41;
&gt;          &#40;?:\*[A-Za-z]{1,8}&#40;?:-[A-Za-z]{1,8}&#41;*&#41;? # language &#40;RFC 2231&#41;
&gt;          \?&#40;[QqBb]&#41;\?     # delimiter
&gt; -        &#40;.*?&#41;            # Base64-encodede contents
&gt; +        &#40;[\x21-\x3e\x40-\x7e]+&#41;
&gt;          \?=              # end encoded word
&gt;      }{
&gt;          if      &#40;uc&#40;$2&#41; eq &#39;B&#39;&#41;{
&gt; 
&gt; Florian
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1263918" href="/Public/Bug/Display.html?id=67569#txn-1263918">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;17&nbsp;17:17:45&nbsp;2013</span>
    <span class="description">wiml [...] hhhh.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1263918/669274/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/669274">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat May 21 19:10:27 2011, DANKOGAI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I tried your patch but unfortunately it breaks existing tests.
</div>
The two tests it breaks may not actually be correct--- they aren&#39;t RFC2047-conformant examples, at least. As Florian Zumbiehl says, decoding To/From headers has to happen after tokenization if you want to get the right results; unless the caller has already done that, Encode::MIME::RFC2047 can probably only correctly decode the *text headers such as Subject.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1264129" href="/Public/Bug/Display.html?id=67569#txn-1264129">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;18&nbsp;02:39:15&nbsp;2013</span>
    <span class="description">florz [...] florz.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Wim Lewis via RT &lt;bug-Encode [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67569] incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Sep 2013 08:39:23 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> wiml [...] hhhh.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Zumbiehl &lt;florz [...] florz.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1264129/669376/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/669376">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 798b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67569">https://rt.cpan.org/Ticket/Display.html?id=67569</a></span> &gt;
&gt; 
&gt; On Sat May 21 19:10:27 2011, DANKOGAI wrote:
<div class="message-stanza open">&gt; &gt; I tried your patch but unfortunately it breaks existing tests.
</div>&gt; 
&gt; The two tests it breaks may not actually be correct--- they aren&#39;t RFC2047-conformant examples, at least. As Florian Zumbiehl says, decoding To/From headers has to happen after tokenization if you want to get the right results; unless the caller has already done that, Encode::MIME::RFC2047 can probably only correctly decode the *text headers such as Subject.
</div>
can you point me to the tests that are failing with the patch? I asked the
maintainer for more specific information about two years ago by email but
never got a reply, and unfortunately have forgotten most of the details by
now ...

Regards, Florian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1264479" href="/Public/Bug/Display.html?id=67569#txn-1264479">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;18&nbsp;20:25:42&nbsp;2013</span>
    <span class="description">wiml [...] hhhh.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1264479/669564/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/669564">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 755b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 18 02:39:15 2013, florz@florz.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; can you point me to the tests that are failing with the patch?
</div>
The tests are the ones decoding $bheader and $qheader in t/mime-heaader.t. The relevant bits of text are

  From:=?UTF-8?B?IOWwj+mjvCDlvL4g?=&lt;dankogai@dan.co.jp&gt;
  To: dankogai@dan.co.jp &#40;=?UTF-8?B?5bCP6aO8?==Kogai,=?UTF-8?B?IOW8vg==?==
    Dan&#41;

In both cases, the patched MIME::RFC2047 decoder doesn&#39;t translate the encoded-words which are run together with adjacent tokens, and I think the patched behavior is more correct. The first line would be decodable by a program which tokenized the header and passed only the 2047-encodable phrases to Encode, but the To: header shouldn&#39;t be decodable by an RFC2047 6.1&#40;2&#41; compliant decoder.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1264707" href="/Public/Bug/Display.html?id=67569#txn-1264707">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;19&nbsp;07:45:54&nbsp;2013</span>
    <span class="description">florz [...] florz.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67569] incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 19 Sep 2013 13:46:00 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Wim Lewis via RT &lt;bug-Encode [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Zumbiehl &lt;florz [...] florz.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1264707/669658/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/669658">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The tests are the ones decoding $bheader and $qheader in t/mime-heaader.t. The relevant bits of text are
&gt; 
&gt;   From:=?UTF-8?B?IOWwj+mjvCDlvL4g?=&lt;dankogai@dan.co.jp&gt;
&gt;   To: dankogai@dan.co.jp &#40;=?UTF-8?B?5bCP6aO8?==Kogai,=?UTF-8?B?IOW8vg==?==
&gt;     Dan&#41;
&gt; 
&gt; In both cases, the patched MIME::RFC2047 decoder doesn&#39;t translate the encoded-words which are run together with adjacent tokens, and I think the patched behavior is more correct. The first line would be decodable by a program which tokenized the header and passed only the 2047-encodable phrases to Encode, but the To: header shouldn&#39;t be decodable by an RFC2047 6.1&#40;2&#41; compliant decoder.
</div>
Well, formally, it &#40;the comment, that is&#41; certainly should be decodable,
and it should decode to
&#34;=?UTF-8?B?5bCP6aO8?==Kogai,=?UTF-8?B?IOW8vg==?== Dan&#34; ;-&#41;

But, yeah, I agree, the test really doesn&#39;t make much sense. If $bheader is
supposed to be an RFC2047 encoded string, then the decoding in $dheader is
wrong, the only thing a correct decoder should change during decoding in
that case is &#40;part of&#41; the Subject: field &#40;stricly, only the last three
atoms, the first one is not an encoded-word due to its length&#41;, and unfold
some of the line breaks. Rejecting the input presumably would also be OK as
the line breaks in parts don&#39;t actually follow the rules for RFC2047
encoded strings.

If, on the other hand, this is supposed to be a full set of RFC822 message
headers, then putting that through an RFC2047 decoder makes no sense at
all, you might just as well try an HTML parser. This is an RFC2047 parser,
not an RFC822 parser.

I just noticed, though, that these test cases that I submitted probably are
wrong as well:

&#34;=?us-ascii?q?foo?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo=?us-ascii?q?bar?=&#34;
&#34;foo =?us-ascii?q?=20?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo =?us-ascii?q?bar?=&#34;

The correct decodings probably rather should look like this:

&#34;=?us-ascii?q?foo?==?us-ascii?q?bar?=&#34; =&gt; &#34;=?us-ascii?q?foo?==?us-ascii?q?bar?=&#34;
&#34;foo =?us-ascii?q?=20?==?us-ascii?q?bar?=&#34; =&gt; &#34;foo =?us-ascii?q?=20?==?us-ascii?q?bar?=&#34;

If someone finally manages to merge this bugfix, I might be willing to fix
the parser to handle those cases correctly as well, but for now the fix
as it is should still be much better than the current state of affairs.

Regards, Florian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1549060" href="/Public/Bug/Display.html?id=67569#txn-1549060">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;29&nbsp;10:34:02&nbsp;2015</span>
    <span class="description">VKHERA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1549060/827113/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/827113">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">At least the broken decoding is consistent with the encoding in eating white spaces on line wraps.

Given the header

$h = &#34;From: The quick brown fox runs over the lazy dog \N{WOLF FACE} &lt;wolfy\@example.com&gt;&#34;;

Encode produces the incorrect output:

From:=?UTF-8?Q?=20The=20quick=20brown=20fox=20?=
 =?UTF-8?Q?runs=20over=20the=20lazy=20do?= =?UTF-8?Q?g=20=F0=9F=90=BA=20?=&lt;
 wolfy@example.com&gt;

There are two things wrong here: First, when a properly implemented decode is run against that, there is a space between the &#34;&lt;&#34; and the &#34;wolfy&#34;. The broken decoder in Encode::MIME::Header eats that space, so it is self-consistent, yet wrong.

Secondly, RFC 2047 forbids encoding the address part. Encode does that as well even though the documents state it will not encode parts that are not supposed to be. Given this header:

my $h = &#34;From: The quick brown fox runs over the lazy dog \N{WOLF FACE} &lt;wolfy\N{WOLF FACE}\@example.com&gt;&#34;;

The output looks like this:

From:=?UTF-8?Q?=20The=20quick=20brown=20fox=20?=
 =?UTF-8?Q?runs=20over=20the=20lazy=20do?= =?UTF-8?Q?g=20=F0=9F=90=BA=20?=&lt;
 =?UTF-8?Q?wolfy=F0=9F=90=BA=40example=2Ecom?=&gt;

Now, I&#39;m not sure what you&#39;re supposed to do with that utf8 character in the address part, but 2047 says don&#39;t mess with it. Sending it raw works with at least some mail servers and clients.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1549373" href="/Public/Bug/Display.html?id=67569#txn-1549373">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;29&nbsp;16:28:29&nbsp;2015</span>
    <span class="description">florz [...] florz.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67569] incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 29 Oct 2015 21:28:11 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Vivek Khera via RT &lt;bug-Encode [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Zumbiehl &lt;florz [...] florz.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1549373/827283/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/827283">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 952b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now, I&#39;m not sure what you&#39;re supposed to do with that utf8 character in the address part, but 2047 says don&#39;t mess with it. Sending it raw works with at least some mail servers and clients.
</div>
You essentially have it all backwards. RFC2047, as far as address fields
are concerned, is for encoding the display name, not for &#34;encoding an
address field&#34; - feeding an address field into an RFC2047 encoder is a type
error. This supposed RFC2047 encoder still is horribly broken, as this:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; my $h = &#34;From: The quick brown fox runs over the lazy dog \N{WOLF FACE} &lt;wolfy\N{WOLF FACE}\@example.com&gt;&#34;;
</div>
Would have to be encoded correctly into something like this:

&#34;=?UTF-8?Q?From=3A?= The quick brown fox runs over the lazy dog =?UTF-8?Q?=F0=9F=90=BA_=3Cwolfy=F0=9F=90=BA=40example=2Ecom=3E?=&#34;

And then you could append an address and prepend &#34;From:&#34; in order to use
this rather weird display name in the source address of an email.

Regards, Florian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1586468" href="/Public/Bug/Display.html?id=67569#txn-1586468">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;01:28:14&nbsp;2016</span>
    <span class="description">DANKOGAI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1586468/847897/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/847897">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">cf. <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=88717">https://rt.cpan.org/Ticket/Display.html?id=88717</a></span>

On Thu Oct 29 16:28:29 2015, florz@florz.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
<div class="message-stanza open">&gt; &gt; Now, I&#39;m not sure what you&#39;re supposed to do with that utf8 character
&gt; &gt; in the address part, but 2047 says don&#39;t mess with it. Sending it raw
&gt; &gt; works with at least some mail servers and clients.
</div>&gt; 
&gt; You essentially have it all backwards. RFC2047, as far as address
&gt; fields
&gt; are concerned, is for encoding the display name, not for &#34;encoding an
&gt; address field&#34; - feeding an address field into an RFC2047 encoder is a
&gt; type
&gt; error. This supposed RFC2047 encoder still is horribly broken, as
&gt; this:
&gt; 
<div class="message-stanza open">&gt; &gt; my $h = &#34;From: The quick brown fox runs over the lazy dog \N{WOLF
&gt; &gt; FACE} &lt;wolfy\N{WOLF FACE}\@example.com&gt;&#34;;
</div>&gt; 
&gt; Would have to be encoded correctly into something like this:
&gt; 
&gt; &#34;=?UTF-8?Q?From=3A?= The quick brown fox runs over the lazy dog =?UTF-
&gt; 8?Q?=F0=9F=90=BA_=3Cwolfy=F0=9F=90=BA=40example=2Ecom=3E?=&#34;
&gt; 
&gt; And then you could append an address and prepend &#34;From:&#34; in order to
&gt; use
&gt; this rather weird display name in the source address of an email.
&gt; 
&gt; Regards, Florian
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1586470" href="/Public/Bug/Display.html?id=67569#txn-1586470">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;01:28:20&nbsp;2016</span>
    <span class="description">DANKOGAI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1586660" href="/Public/Bug/Display.html?id=67569#txn-1586660">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;12:48:47&nbsp;2016</span>
    <span class="description">florz [...] florz.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67569] Resolved: incorrect unfolding and other decoding bugs in Encode::MIME::RFC2047</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 22 Jan 2016 18:48:32 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Dan Kogai via RT &lt;bug-Encode [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Zumbiehl &lt;florz [...] florz.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1586660/848011/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/848011">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 231b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67569">https://rt.cpan.org/Ticket/Display.html?id=67569</a></span> &gt;
&gt; 
&gt; According to our records, your request has been resolved. If you have any
&gt; further questions or concerns, please respond to this message.
</div>
That&#39;s obviously bullshit.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1612685" href="/Public/Bug/Display.html?id=67569#txn-1612685">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;29&nbsp;14:37:20&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Cc PALI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1612687" href="/Public/Bug/Display.html?id=67569#txn-1612687">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;29&nbsp;14:37:30&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1612687/862973/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/862973">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 27b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It should be fixed in 2.83.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.598569</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
