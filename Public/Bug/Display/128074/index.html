<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #128074 for Sub-Auto: Sub::Auto::inject_scope is using hash hint to store references</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #128074 for Sub-Auto: Sub::Auto::inject_scope is using hash hint to store references</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Sub-Auto/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Sub-Auto/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Sub-Auto/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Sub-Auto/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Sub-Auto">Sub-Auto CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">128074</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Sub-Auto/Active/">Sub-Auto</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
me [...] eboxr.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-222812-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-222813-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;15:42:17&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Sub::Auto::inject_scope is using hash hint to store references</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">this is not a good idea to store references to hash hint like performed by inject_scope
# $^H{DD_METHODHANDLERS} = Scope::Guard-&gt;new&#40;..&#41;;

View the grep here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-Auto&#38;f=lib%2FSub%2FAuto.pm">https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-Auto&#38;f=lib%2FSub%2FAuto.pm</a></span>

The hints hash &#40;%^H&#41; cannot be used to store hashrefs as values,
so any implementation that relies on putting hashrefs in %^H is
intrinsically broken.

See &#34;Implementation details&#34; in the perlpragma manpage.
<span class="clickylink"><a target="new" rel="nofollow" href="https://perldoc.perl.org/perlpragma.html#Implementation-details">https://perldoc.perl.org/perlpragma.html#Implementation-details</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;18:09:17&nbsp;2018</span>
    <span class="description">osfameron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the reply - would you like maint?

On Thu Dec 20 15:42:17 2018, atoomic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; this is not a good idea to store references to hash hint like
&gt; performed by inject_scope
&gt; # $^H{DD_METHODHANDLERS} = Scope::Guard-&gt;new&#40;..&#41;;
&gt; 
&gt; View the grep here:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-">https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-</a></span>
&gt; Auto&#38;f=lib%2FSub%2FAuto.pm
&gt; 
&gt; The hints hash &#40;%^H&#41; cannot be used to store hashrefs as values,
&gt; so any implementation that relies on putting hashrefs in %^H is
&gt; intrinsically broken.
&gt; 
&gt; See &#34;Implementation details&#34; in the perlpragma manpage.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://perldoc.perl.org/perlpragma.html#Implementation-details">https://perldoc.perl.org/perlpragma.html#Implementation-details</a></span>
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;18:09:17&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;18:52:27&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Would be glad to help and provide a release for the module
and probably move it at the same time to GitHub and set travis running.

My PAUSE nickname is atoomic.
You would need to give me co-maint permission on the distro.

thanks
nicolas


On Thu Dec 20 18:09:17 2018, OSFAMERON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the reply - would you like maint?
&gt; 
&gt; On Thu Dec 20 15:42:17 2018, atoomic wrote:
<div class="message-stanza open">&gt; &gt; this is not a good idea to store references to hash hint like
&gt; &gt; performed by inject_scope
&gt; &gt; # $^H{DD_METHODHANDLERS} = Scope::Guard-&gt;new&#40;..&#41;;
&gt; &gt;
&gt; &gt; View the grep here:
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-">https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-</a></span>
&gt; &gt; Auto&#38;f=lib%2FSub%2FAuto.pm
&gt; &gt;
&gt; &gt; The hints hash &#40;%^H&#41; cannot be used to store hashrefs as values,
&gt; &gt; so any implementation that relies on putting hashrefs in %^H is
&gt; &gt; intrinsically broken.
&gt; &gt;
&gt; &gt; See &#34;Implementation details&#34; in the perlpragma manpage.
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://perldoc.perl.org/perlpragma.html#Implementation-details">https://perldoc.perl.org/perlpragma.html#Implementation-details</a></span>
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;03:54:37&nbsp;2018</span>
    <span class="description">Hakim.Cassimally [...] bbc.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #128074] Sub::Auto::inject_scope is using hash hint to store references</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Dec 2018 08:42:27 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Sub-Auto [...] rt.cpan.org&#34; &lt;bug-Sub-Auto [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Hakim Cassimally &lt;Hakim.Cassimally [...] bbc.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Done! Please feel free to do anything you feel appropriate with the module.  I&#39;m happy to transfer ownership entirely if you need any more privs than co-maint.

I don&#39;t much time to spend on it, but happy to have a quick chat on Skype/irc at some point if you have any questions on anything.

&#40;And of course, if you lose interest/time yourself, don&#39;t worry about it at all, but thanks for the interest :-&#41;

--
Hakim Cassimally, Technology Training

From: Atoomic via RT &lt;bug-Sub-Auto@rt.cpan.org&lt;mailto:bug-Sub-Auto@rt.cpan.org&gt;&gt;
Reply-To: &#34;bug-Sub-Auto@rt.cpan.org&lt;mailto:bug-Sub-Auto@rt.cpan.org&gt;&#34; &lt;bug-Sub-Auto@rt.cpan.org&lt;mailto:bug-Sub-Auto@rt.cpan.org&gt;&gt;
Date: Thursday, 20 December 2018 at 23:52
Subject: [rt.cpan.org #128074] Sub::Auto::inject_scope is using hash hint to store references

       Queue: Sub-Auto
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=128074">https://rt.cpan.org/Ticket/Display.html?id=128074</a></span> &gt;

Would be glad to help and provide a release for the module
and probably move it at the same time to GitHub and set travis running.

My PAUSE nickname is atoomic.
You would need to give me co-maint permission on the distro.

thanks
nicolas


On Thu Dec 20 18:09:17 2018, OSFAMERON wrote:
Thanks for the reply - would you like maint?
On Thu Dec 20 15:42:17 2018, atoomic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; this is not a good idea to store references to hash hint like
&gt; performed by inject_scope
&gt; # $^H{DD_METHODHANDLERS} = Scope::Guard-&gt;new&#40;..&#41;;
&gt;
&gt; View the grep here:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-">https://grep.metacpan.org/search?qci=&#38;q=%5C%24%5C%5EH.*%3D.*%7B&#38;qft=&#38;qd=Sub-</a></span>
&gt; Auto&#38;f=lib%2FSub%2FAuto.pm
&gt;
&gt; The hints hash &#40;%^H&#41; cannot be used to store hashrefs as values,
&gt; so any implementation that relies on putting hashrefs in %^H is
&gt; intrinsically broken.
&gt;
&gt; See &#34;Implementation details&#34; in the perlpragma manpage.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://perldoc.perl.org/perlpragma.html#Implementation-details">https://perldoc.perl.org/perlpragma.html#Implementation-details</a></span>
</div>



----------------------------

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.bbc.co.uk">http://www.bbc.co.uk</a></span>
This e-mail &#40;and any attachments&#41; is confidential and may contain personal views which are not the views of the BBC unless specifically stated.
If you have received it in error, please delete it from your system.
Do not use, copy or disclose the information in any way nor act in reliance on it and notify the sender immediately.
Please note that the BBC monitors e-mails sent or received.
Further communication will signify your consent to this.

---------------------
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;11:18:05&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ticket migrated to github as <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/atoomic/Sub-Auto/issues/1">https://github.com/atoomic/Sub-Auto/issues/1</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;11:18:05&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
