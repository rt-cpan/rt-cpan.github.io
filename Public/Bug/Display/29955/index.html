<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #29955 for ExtUtils-MakeMaker: make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #29955 for ExtUtils-MakeMaker: make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">29955</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">4 hours (240 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-MakeMaker/Active/">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dolmen [...] cpan.org

<br />
kahirsch [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;14:52:27&nbsp;2007</span>
    <span class="description">kahirsch [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">If you use the HP-UX &#39;make&#39; command, then &#34;make test&#34; for the module
ExtUtils::MakeMaker usually fails at least once with this error:

# Makefile out-of-date with respect to Makefile.PL

This is because 
&#40;1&#41; Makefile.PL files are built dynamically
&#40;2&#41; the Makefile is created within the same second as Makefile.PL
&#40;3&#41; the make command on HP-UX conservatively assumes that files created
at exactly the same time are out-of-date w.r.t. to each other.

This is rarely a problem using MakeMaker for other modules since
Makefile.PL is usually not created dynamically.

Workaround:
  Add &#34;sleep 1;&#34; before &#34;return 1;&#34; in each of the setup / setup_recurs
functions in t/lib/MakeMaker/Test/Setup/*.pm modules.

The disadvantage is that &#34;make test&#34; takes a little longer. When I ran
&#34;make test&#34;, the setup&#40;&#41;/setup_recurs&#40;&#41; functions we called 17 times, so
the test ran about 17 seconds longer.

I can send patch if desired.

I know that Gnu Make and NMAKE don&#39;t have this problem.  They make the
opposite assumption about two files with the same timestamp.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;15:14:28&nbsp;2007</span>
    <span class="description">kahirsch [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;15:23:18&nbsp;2007</span>
    <span class="description">kahirsch [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is a patch which adds the &#34;sleep 1;&#34; to the subroutines as
described in my bug.  Please apply if acceptable.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/BFD.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/BFD.pm	2007-10-12 15:00:57.000000000 -0400
@@ -110,6 +110,8 @@
         close FILE;
     }
 
+    sleep 1; # force Makefile.PL to be older than Makefile
+
     return 1;
 }
 
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/PL_FILES.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/PL_FILES.pm	2007-10-12 15:01:06.000000000 -0400
@@ -102,6 +102,8 @@
         close FILE;
     }
 
+    sleep 1; # force Makefile.PL to be older than Makefile
+
     return 1;
 }
 
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/Problem.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/Problem.pm	2007-10-12 15:01:09.000000000 -0400
@@ -39,6 +39,8 @@
         close FILE;
     }
 
+    sleep 1; # force Makefile.PL to be older than Makefile
+
     return 1;
 }
 
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/Recurs.pm	2007-06-29 02:37:47.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/Recurs.pm	2007-10-12 15:01:13.000000000 -0400
@@ -52,6 +52,8 @@
         close FILE;
     }
 
+    sleep 1; # force Makefile.PL to be older than Makefile
+
     return 1;
 }
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;09:49:04&nbsp;2007</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29955] make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Oct 2007 09:48:25 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ken Hirsch via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is because 
&gt; &#40;1&#41; Makefile.PL files are built dynamically
&gt; &#40;2&#41; the Makefile is created within the same second as Makefile.PL
&gt; &#40;3&#41; the make command on HP-UX conservatively assumes that files created
&gt; at exactly the same time are out-of-date w.r.t. to each other.
&gt; 
&gt; This is rarely a problem using MakeMaker for other modules since
&gt; Makefile.PL is usually not created dynamically.
&gt; 
&gt; Workaround:
&gt;   Add &#34;sleep 1;&#34; before &#34;return 1;&#34; in each of the setup / setup_recurs
&gt; functions in t/lib/MakeMaker/Test/Setup/*.pm modules.
&gt; 
&gt; The disadvantage is that &#34;make test&#34; takes a little longer. When I ran
&gt; &#34;make test&#34;, the setup&#40;&#41;/setup_recurs&#40;&#41; functions we called 17 times, so
&gt; the test ran about 17 seconds longer.
</div>
As an alternative, what about setting the mod time of the Makefile.PL to be
one second in the past?


-- 
Hating the web since 1994.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;18&nbsp;13:34:25&nbsp;2007</span>
    <span class="description">kahirsch [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> KAHIRSCH [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 16 09:49:04 2007, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ken Hirsch via RT wrote:
<div class="message-stanza open">&gt; &gt; Workaround:
&gt; &gt;   Add &#34;sleep 1;&#34; before &#34;return 1;&#34; in each of the setup / setup_recurs
&gt; &gt; functions in t/lib/MakeMaker/Test/Setup/*.pm modules.
</div>&gt; 
&gt; As an alternative, what about setting the mod time of the Makefile.PL
</div>to be
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; one second in the past?
&gt; 
&gt; 
</div>
That would be faster, but I&#39;d worry that it might actually break things
in certain cases.  I put in
  utime time&#40;&#41;, time&#40;&#41; -1, $file;
after the &#39;close&#39; in each setup or setup_recurs loop.  That worked fine.
 I didn&#39;t do any of these things which one might want:
&#40;1&#41; only adjust time if $^O eq &#39;hpux&#39;
&#40;2&#41; only adjust time if $file =~ /Makefile.PL/
&#40;3&#41; adjust time relative to calibrate_mtime&#40;&#41; or &#40;stat&#40;$file&#41;&#41;[9]

If you want, I can prepare a patch.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;18&nbsp;14:21:15&nbsp;2007</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29955] make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 18 Oct 2007 14:19:06 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ken Hirsch via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; As an alternative, what about setting the mod time of the Makefile.PL
</div>&gt; to be
<div class="message-stanza open">&gt;&gt; one second in the past?
&gt;&gt;
&gt;&gt;
</div>&gt; 
&gt; That would be faster, but I&#39;d worry that it might actually break things
&gt; in certain cases.
</div>
Can you think of those certain cases?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I put in
&gt;   utime time&#40;&#41;, time&#40;&#41; -1, $file;
&gt; after the &#39;close&#39; in each setup or setup_recurs loop.  That worked fine.
&gt;  I didn&#39;t do any of these things which one might want:
&gt; &#40;1&#41; only adjust time if $^O eq &#39;hpux&#39;
&gt; &#40;2&#41; only adjust time if $file =~ /Makefile.PL/
&gt; &#40;3&#41; adjust time relative to calibrate_mtime&#40;&#41; or &#40;stat&#40;$file&#41;&#41;[9]
&gt; 
&gt; If you want, I can prepare a patch.
</div>
Yes, a patch would be lovely, thank you.  Umm, don&#39;t worry about #1 and #2,
this should be generally applicable and portable.  Please do #3.  It should be
a matter of changing the utime statement to:
        
        # take just one time reading so it&#39;s atomic, avoid one read at 1.99999
        # and the next at 2.0000
        my $time = calibrate_mtime&#40;&#41;;
        utime $time, $time - 1, $file;


-- 
I have a date with some giant cartoon robots and booze.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;14&nbsp;10:59:49&nbsp;2007</span>
    <span class="description">kenhirsch [...] ftml.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29955] make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Nov 2007 10:58:13 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ken Hirsch &lt;kenhirsch [...] ftml.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Michael G Schwern via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=29955">http://rt.cpan.org/Ticket/Display.html?id=29955</a></span> &gt;
&gt;
&gt; Ken Hirsch via RT wrote:
&gt;   
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; As an alternative, what about setting the mod time of the Makefile.PL
&gt;&gt;&gt;       
</div>&gt;&gt; to be
&gt;&gt;     
<div class="message-stanza open">&gt;&gt;&gt; one second in the past?
&gt;&gt;&gt;
&gt;&gt;&gt;       
</div>&gt;&gt; That would be faster, but I&#39;d worry that it might actually break things
&gt;&gt; in certain cases.
&gt;&gt;     
</div>&gt;
&gt; Can you think of those certain cases?
&gt;
&gt;   
</div>
Just those where utime is &#34;broken&#34;.  Hopefully calibrate_mtime will take 
care of those.

Sorry about the delay.  Here&#39;s the patch.  I ran it so in order to test it:

gunzip &lt;ExtUtils-MakeMaker-6.36.tar.gz | tar xof -
cd ExtUtils-MakeMaker-6.36
patch -p1 &lt;../patch
perl Makefile.PL
make test
....
All tests successful, 7 tests and 31 subtests skipped.
Files=44, Tests=589, 52 wallclock secs &#40;27.33 cusr + 11.22 csys = 38.55 CPU&#41;
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/BFD.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/BFD.pm	2007-10-23 15:14:04.000000000 -0400
@@ -108,6 +108,9 @@
         open&#40;FILE, &#34;&gt;$file&#34;&#41; || die &#34;Can&#39;t create $file: $!&#34;;
         print FILE $text;
         close FILE;
+
+        my $time = calibrate_mtime&#40;&#41;;
+        utime $time, $time - 1, $file; # ensure file at least 1 second old
     }
 
     return 1;
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/PL_FILES.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/PL_FILES.pm	2007-10-23 15:14:04.000000000 -0400
@@ -100,6 +100,9 @@
         open&#40;FILE, &#34;&gt;$file&#34;&#41; || die &#34;Can&#39;t create $file: $!&#34;;
         print FILE $text;
         close FILE;
+
+        my $time = calibrate_mtime&#40;&#41;;
+        utime $time, $time - 1, $file; # ensure file at least 1 second old
     }
 
     return 1;
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/Problem.pm	2006-09-02 15:14:32.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/Problem.pm	2007-11-14 10:20:54.000000000 -0500
@@ -7,6 +7,7 @@
 use strict;
 use File::Path;
 use File::Basename;
+use MakeMaker::Test::Utils;
 
 my %Files = &#40;
              &#39;Problem-Module/Makefile.PL&#39;   =&gt; &lt;&lt;&#39;END&#39;,
@@ -37,6 +38,9 @@
         open&#40;FILE, &#34;&gt;$file&#34;&#41; || die &#34;Can&#39;t create $file: $!&#34;;
         print FILE $text;
         close FILE;
+
+        my $time = calibrate_mtime&#40;&#41;;
+        utime $time, $time - 1, $file; # ensure file at least 1 second old
     }
 
     return 1;
--- ExtUtils-MakeMaker-6.36/t/lib/MakeMaker/Test/Setup/Recurs.pm	2007-06-29 02:37:47.000000000 -0400
+++ ExtUtils-MakeMaker-NEW/t/lib/MakeMaker/Test/Setup/Recurs.pm	2007-10-23 15:14:04.000000000 -0400
@@ -50,6 +50,9 @@
         open&#40;FILE, &#34;&gt;$file&#34;&#41; || die &#34;Can&#39;t create $file: $!&#34;;
         print FILE $text;
         close FILE;
+
+        my $time = calibrate_mtime&#40;&#41;;
+        utime $time, $time - 1, $file; # ensure file at least 1 second old
     }
 
     return 1;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;12:16:53&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">240 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is still broken with EEMM 6.50 on HP-UX B.11.23 either with
/usr/bin/make and /usr/local/bin/gmake &#40;GNU Make 3.80&#41;.

Has the patch been applied?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;12:18:04&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is my log:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; o conf makepl_arg
</div>    makepl_arg         INSTALL_BASE=/tmp/omengue/home/CPAN
INSTALLARCHLIB=/tmp/omengue/home/CPAN/lib/perl5/IA64.ARCHREV_0-thread-multi-LP64
INSTALLPRIVLIB=/tmp/omengue/home/CPAN/lib/perl5
INSTALLBIN=/tmp/omengue/home/CPAN/bin
INSTALLSCRIPT=/tmp/omengue/home/CPAN/bin
INSTALLMAN1DIR=/tmp/omengue/home/CPAN/man/man1
INSTALLMAN3DIR=/tmp/omengue/home/CPAN/man/man3
INSTALLHTMLDIR=/tmp/omengue/home/CPAN/html

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; install ExtUtils::MakeMaker
</div>[...]

  CPAN.pm: Going to build M/MS/MSCHWERN/ExtUtils-MakeMaker-6.50.tar.gz

Checking if your kit is complete...
Looks good
&#39;INSTALLHTMLDIR&#39; is not a known MakeMaker parameter name.
Using included version of ExtUtils::Manifest &#40;1.56&#41; as it is newer than
the installed version &#40;1.46&#41;.
Using included version of ExtUtils::Command &#40;1.16&#41; as it is newer than
the installed version &#40;1.09&#41;.
Using included version of ExtUtils::Installed &#40;1.43&#41; as it is newer than
the installed version &#40;0.08&#41;.
Using included version of ExtUtils::Packlist &#40;1.43&#41; as it is newer than
the installed version &#40;0.04&#41;.
Using included version of ExtUtils::Install &#40;1.52&#41; as it is newer than
the installed version &#40;1.33&#41;.
Writing Makefile for ExtUtils::MakeMaker
cp inc/ExtUtils/Manifest.pm blib/lib/ExtUtils/Manifest.pm
cp lib/ExtUtils/MM_VOS.pm blib/lib/ExtUtils/MM_VOS.pm
cp lib/ExtUtils/Mksymlists.pm blib/lib/ExtUtils/Mksymlists.pm
cp lib/ExtUtils/MM.pm blib/lib/ExtUtils/MM.pm
cp lib/ExtUtils/MM_UWIN.pm blib/lib/ExtUtils/MM_UWIN.pm
cp lib/ExtUtils/testlib.pm blib/lib/ExtUtils/testlib.pm
cp lib/ExtUtils/MM_Cygwin.pm blib/lib/ExtUtils/MM_Cygwin.pm
cp lib/ExtUtils/MakeMaker/vmsish.pm blib/lib/ExtUtils/MakeMaker/vmsish.pm
cp lib/ExtUtils/MM_DOS.pm blib/lib/ExtUtils/MM_DOS.pm
cp lib/ExtUtils/MM_Win95.pm blib/lib/ExtUtils/MM_Win95.pm
cp lib/ExtUtils/Liblist.pm blib/lib/ExtUtils/Liblist.pm
cp lib/ExtUtils/MM_AIX.pm blib/lib/ExtUtils/MM_AIX.pm
cp lib/ExtUtils/MM_Darwin.pm blib/lib/ExtUtils/MM_Darwin.pm
cp lib/ExtUtils/Liblist/Kid.pm blib/lib/ExtUtils/Liblist/Kid.pm
cp lib/ExtUtils/Mkbootstrap.pm blib/lib/ExtUtils/Mkbootstrap.pm
cp lib/ExtUtils/MakeMaker/FAQ.pod blib/lib/ExtUtils/MakeMaker/FAQ.pod
cp inc/ExtUtils/MANIFEST.SKIP blib/lib/ExtUtils/MANIFEST.SKIP
cp lib/ExtUtils/MakeMaker/bytes.pm blib/lib/ExtUtils/MakeMaker/bytes.pm
cp lib/ExtUtils/MM_NW5.pm blib/lib/ExtUtils/MM_NW5.pm
cp inc/ExtUtils/Command.pm blib/lib/ExtUtils/Command.pm
cp lib/ExtUtils/MakeMaker.pm blib/lib/ExtUtils/MakeMaker.pm
cp lib/ExtUtils/MM_OS2.pm blib/lib/ExtUtils/MM_OS2.pm
cp lib/ExtUtils/MM_Unix.pm blib/lib/ExtUtils/MM_Unix.pm
cp inc/ExtUtils/Installed.pm blib/lib/ExtUtils/Installed.pm
cp lib/ExtUtils/MM_Win32.pm blib/lib/ExtUtils/MM_Win32.pm
cp inc/ExtUtils/Packlist.pm blib/lib/ExtUtils/Packlist.pm
cp lib/ExtUtils/MY.pm blib/lib/ExtUtils/MY.pm
cp lib/ExtUtils/MM_MacOS.pm blib/lib/ExtUtils/MM_MacOS.pm
cp lib/ExtUtils/MM_VMS.pm blib/lib/ExtUtils/MM_VMS.pm
cp lib/ExtUtils/MM_BeOS.pm blib/lib/ExtUtils/MM_BeOS.pm
cp lib/ExtUtils/MakeMaker/Tutorial.pod
blib/lib/ExtUtils/MakeMaker/Tutorial.pod
cp lib/ExtUtils/MM_QNX.pm blib/lib/ExtUtils/MM_QNX.pm
cp inc/ExtUtils/Install.pm blib/lib/ExtUtils/Install.pm
cp lib/ExtUtils/Command/MM.pm blib/lib/ExtUtils/Command/MM.pm
cp lib/ExtUtils/MakeMaker/Config.pm blib/lib/ExtUtils/MakeMaker/Config.pm
cp lib/ExtUtils/MM_Any.pm blib/lib/ExtUtils/MM_Any.pm
cp bin/instmodsh blib/script/instmodsh
/opt/perl_64/bin/perl &#34;-Iblib/arch&#34; &#34;-Iblib/lib&#34; &#34;-MExtUtils::MY&#34; -e
&#34;MY-&gt;fixin&#40;shift&#41;&#34; blib/script/instmodsh
Manifying blib/man1/instmodsh.1
Manifying blib/man3/ExtUtils::Manifest.3
Manifying blib/man3/ExtUtils::MM_VOS.3
Manifying blib/man3/ExtUtils::Mksymlists.3
Manifying blib/man3/ExtUtils::MM.3
Manifying blib/man3/ExtUtils::MM_UWIN.3
Manifying blib/man3/ExtUtils::testlib.3
Manifying blib/man3/ExtUtils::MM_DOS.3
Manifying blib/man3/ExtUtils::MM_Cygwin.3
Manifying blib/man3/ExtUtils::MakeMaker::vmsish.3
Manifying blib/man3/ExtUtils::MM_Win95.3
Manifying blib/man3/ExtUtils::Liblist.3
Manifying blib/man3/ExtUtils::MM_AIX.3
Manifying blib/man3/ExtUtils::MM_Darwin.3
Manifying blib/man3/ExtUtils::Mkbootstrap.3
Manifying blib/man3/ExtUtils::MakeMaker::FAQ.3
Manifying blib/man3/ExtUtils::MakeMaker::bytes.3
Manifying blib/man3/ExtUtils::MM_NW5.3
Manifying blib/man3/ExtUtils::Command.3
Manifying blib/man3/ExtUtils::MakeMaker.3
Manifying blib/man3/ExtUtils::MM_OS2.3
Manifying blib/man3/ExtUtils::MM_Unix.3
Manifying blib/man3/ExtUtils::Installed.3
Manifying blib/man3/ExtUtils::MM_Win32.3
Manifying blib/man3/ExtUtils::Packlist.3
Manifying blib/man3/ExtUtils::MY.3
Manifying blib/man3/ExtUtils::MM_MacOS.3
Manifying blib/man3/ExtUtils::MM_VMS.3
Manifying blib/man3/ExtUtils::MM_BeOS.3
Manifying blib/man3/ExtUtils::MakeMaker::Tutorial.3
Manifying blib/man3/ExtUtils::MM_QNX.3
Manifying blib/man3/ExtUtils::Command::MM.3
Manifying blib/man3/ExtUtils::Install.3
Manifying blib/man3/ExtUtils::MakeMaker::Config.3
Manifying blib/man3/ExtUtils::MM_Any.3
  /usr/local/bin/gmake  -- OK
Running make test
PERL_DL_NONLAZY=1 /opt/perl_64/bin/perl &#34;-Iblib/arch&#34; &#34;-Iblib/lib&#34;
&#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;,
&#39;blib/arch&#39;&#41;&#34; t/*.t
t/00compile.............ok
        28/56 skipped: Test::Pod not installed
t/backwards.............ok
t/basic.................ok
        2/81 skipped: Test::YAML::Meta &gt;= 0.11 required
t/build_man.............ok
t/bytes.................ok
t/cd....................ok
        1/4 skipped: VMS&#39; cd requires vmspath which is only on VMS
t/config................ok
t/dir_target............ok
t/FIRST_MAKEFILE........ok
t/fixin.................ok
t/hints.................ok
t/INST..................ok
t/INST_PREFIX...........ok
t/INSTALL_BASE..........ok
t/Liblist...............ok
t/make..................ok
t/maketext_filter.......ok
t/metafile_data.........ok
t/metafile_file.........ok
        3/16 skipped: various reasons
t/min_perl_version......ok
t/Mkbootstrap...........ok
t/MM_Any................ok
t/MM_BeOS...............skipped
        all skipped: This is not BeOS
t/MM_Cygwin.............skipped
        all skipped: This is not cygwin
t/MM_NW5................skipped
        all skipped: This is not NW5
t/MM_OS2................skipped
        all skipped: This is not OS/2
t/MM_Unix...............ok
t/MM_VMS................skipped
        all skipped: This is not VMS
t/MM_Win32..............skipped
        all skipped: This is not Win32
t/oneliner..............ok
t/parse_version.........ok
        4/32 skipped: need version.pm
t/PL_FILES..............ok 1/9
t/PL_FILES..............NOK 3#   Failed test in t/PL_FILES.t at line 38.
#          got: &#39;256&#39;
#     expected: &#39;0&#39;
# Makefile out-of-date with respect to Makefile.PL
# Cleaning current config before rebuilding Makefile...
#        make -f Makefile.old clean &gt; /dev/null 2&gt;&#38;1
#       /opt/perl_64/bin/perl Makefile.PL
# Writing Makefile for PL_FILES::Module
# ==&gt; Your Makefile has been rebuilt. &lt;==
# ==&gt; Please rerun the make command.  &lt;==
#       false
# *** Error exit code 1
#
# Stop.

#   Failed test &#39;single.out was created&#39;
t/PL_FILES..............NOK 4#   in t/PL_FILES.t at line 41.

#   Failed test &#39;1.out was created&#39;
t/PL_FILES..............NOK 5#   in t/PL_FILES.t at line 41.

#   Failed test &#39;2.out was created&#39;
t/PL_FILES..............NOK 6#   in t/PL_FILES.t at line 41.

#   Failed test &#39;blib/lib/PL/Bar.pm was created&#39;
t/PL_FILES..............NOK 7#   in t/PL_FILES.t at line 41.
# Looks like you failed 5 tests of 9.
t/PL_FILES..............dubious
        Test returned status 5 &#40;wstat 1280, 0x500&#41;
DIED. FAILED tests 3-7
        Failed 5/9 tests, 44.44% okay
t/pm....................ok
t/postamble.............ok
t/prefixify.............ok
        1/3 skipped: Test for DOSish prefixification
t/prereq................ok
t/prereq_print..........ok
t/problems..............ok
t/prompt................ok
t/recurs................ok 1/26
t/recurs................NOK 6#   Failed test &#39;recursive make exited
normally&#39;
#   in t/recurs.t at line 61.
#          got: &#39;256&#39;
#     expected: &#39;0&#39;
# Makefile out-of-date with respect to Makefile.PL
# Cleaning current config before rebuilding Makefile...
#        make -f Makefile.old clean &gt; /dev/null 2&gt;&#38;1
#       /opt/perl_64/bin/perl Makefile.PL
# Writing Makefile for Recurs::prj2
# Writing Makefile for Recurs
# ==&gt; Your Makefile has been rebuilt. &lt;==
# ==&gt; Please rerun the make command.  &lt;==
#       false
# *** Error exit code 1
#
# Stop.
t/recurs................ok 7/26
t/recurs................NOK 14#   Failed test &#39;recursive make exited
normally&#39;
#   in t/recurs.t at line 84.
#          got: &#39;256&#39;
#     expected: &#39;0&#39;
t/recurs................ok 24/26# Looks like you failed 2 tests of 26.
t/recurs................dubious
        Test returned status 2 &#40;wstat 512, 0x200&#41;
DIED. FAILED tests 6, 14
        Failed 2/26 tests, 92.31% okay
t/revision..............ok
t/split_command.........ok
t/testlib...............ok
t/VERSION_FROM..........ok
t/vmsish................ok
t/WriteEmptyMakefile....ok
t/writemakefile_args....ok
        8/30 skipped: Can&#39;t test version objects
t/xs....................skipped
        all skipped: ExtUtils::CBuilder not installed or couldn&#39;t find a
compiler
Failed Test  Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/PL_FILES.t    5  1280     9    5  55.56%  3-7
t/recurs.t      2   512    26    2   7.69%  6 14
7 tests and 47 subtests skipped.
Failed 2/48 test scripts, 95.83% okay. 7/661 subtests failed, 98.94% okay.
gmake: *** [test_dynamic] Error 255
  /usr/local/bin/gmake test -- NOT OK
Running make install
  make test had returned bad status, won&#39;t install without force
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;13:43:35&nbsp;2009</span>
    <span class="description">kenhirsch [...] ftml.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> kahirsch [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29955] make test &#40;of ExtUtils::MakeMaker&#41; fails on  HP-UX</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 Mar 2009 13:43:15 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ken Hirsch &lt;kenhirsch [...] ftml.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It looks like the patch was not applied.

2009/3/31 Olivier &#39;dolmen&#39; Mengué via RT &lt;bug-ExtUtils-MakeMaker@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=29955">https://rt.cpan.org/Ticket/Display.html?id=29955</a></span> &gt;
&gt;
&gt; This is still broken with EEMM 6.50 on HP-UX B.11.23 either with
&gt; /usr/bin/make and /usr/local/bin/gmake &#40;GNU Make 3.80&#41;.
&gt;
&gt; Has the patch been applied?
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other AddReminder odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;08:28:45&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Reminder &#39;MSCHWERN&#39; added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;08:29:54&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry for the delay.  The patch has been applied and will be in the next
release.

Sorry you had to edit it in four different places.  The setup and
teardown routines really should be consolidated.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;08:29:55&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;12:32:25&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org -  Requestor DOLMEN added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;12:34:03&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> dolmen [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu. Avr. 02 08:29:54 2009, MSCHWERN a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry for the delay.  The patch has been applied and will be in the next
&gt; release.
</div>
Thank you for the new release.

However it looks like the same problem with HP-UX mtime makes
Module::Build&#39;s t/compat.t fails. This test also generates a
distribution. A more generic solution may be more appropriate. I&#39;m
thinking that EEMM could wait for one second if the Makefile.PL is too
recent to be sure that the generated Makefile will be strictly older.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;12:34:04&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;13:39:42&nbsp;2009</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29955] make test &#40;of ExtUtils::MakeMaker&#41; fails on HP-UX</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 04 May 2009 10:39:16 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Olivier &#39;dolmen&#39; Mengué via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: ExtUtils-MakeMaker
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=29955">https://rt.cpan.org/Ticket/Display.html?id=29955</a></span> &gt;
&gt; 
&gt; Le Jeu. Avr. 02 08:29:54 2009, MSCHWERN a écrit :
<div class="message-stanza open">&gt;&gt; Sorry for the delay.  The patch has been applied and will be in the next
&gt;&gt; release.
</div>&gt; 
&gt; Thank you for the new release.
&gt; 
&gt; However it looks like the same problem with HP-UX mtime makes
&gt; Module::Build&#39;s t/compat.t fails. This test also generates a
&gt; distribution. A more generic solution may be more appropriate. I&#39;m
&gt; thinking that EEMM could wait for one second if the Makefile.PL is too
&gt; recent to be sure that the generated Makefile will be strictly older.
</div>
I don&#39;t think its worth stealing a second from every module install just to
fix something that only comes up in testing and then only on a relatively
obscure OS.

I&#39;ll patch up t/compat.t in MB.


-- 
124. Two drink limit does not mean first and last.
    -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
           <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;13:42:21&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Reference by ticket #45700 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;04&nbsp;13:52:51&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
