<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #70276 for Finance-InteractiveBrokers-SWIG: can&#39;t install on a Mac OSX 10.6.7</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #70276 for Finance-InteractiveBrokers-SWIG: can&#39;t install on a Mac OSX 10.6.7</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Finance-InteractiveBrokers-SWIG/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Finance-InteractiveBrokers-SWIG/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Finance-InteractiveBrokers-SWIG/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Finance-InteractiveBrokers-SWIG/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Finance-InteractiveBrokers-SWIG">Finance-InteractiveBrokers-SWIG CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">70276</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">30 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Finance-InteractiveBrokers-SWIG/Active/">Finance-InteractiveBrokers-SWIG</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">INFIDEL [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chrisfluur [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236860-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.01_01</li>
<li>
0.01_02</li>
<li>
0.02</li>
<li>
0.03</li>
</ul>
    </td>
  </tr>
  <tr id="CF-236861-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<ul>
<li>
0.03_03</li>
<li>
0.04</li>
</ul>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




bugreport.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/967149/503242/bugreport.txt">
Mon Aug 15 03:55:52 2011 (596.3k) by chrisfluur [...] gmail.com
</a>
</font></li>
</ul>


g++man.html<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/967705/503560/g%2B%2Bman.html">
Tue Aug 16 11:30:16 2011 (458.4k) by chrisfluur [...] gmail.com
</a>
</font></li>
</ul>


Makefile<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/968126/503770/Makefile">
Wed Aug 17 14:58:14 2011 (29.2k) by chrisfluur [...] gmail.com
</a>
</font></li>
</ul>


Makefile.swig<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/968010/503693/Makefile.swig">
Wed Aug 17 11:13:07 2011 (3.2k) by INFIDEL [...] cpan.org
</a>
</font></li>
</ul>


Makefile.swig-2<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/968034/503708/Makefile.swig-2">
Wed Aug 17 11:45:10 2011 (3.1k) by INFIDEL [...] cpan.org
</a>
</font></li>
</ul>


output-perl-MConfig-eprint-Config-config_sh.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/967265/503313/output-perl-MConfig-eprint-Config-config_sh.txt">
Mon Aug 15 12:58:29 2011 (24.9k) by chrisfluur [...] gmail.com
</a>
</font></li>
</ul>


output-perl-V.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/967265/503314/output-perl-V.txt">
Mon Aug 15 12:58:29 2011 (2.8k) by chrisfluur [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;03:55:52&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 15 Aug 2011 02:55:28 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi.  I have to compile from source, which is no problem for me, I&#39;ve
compiled a ton of stuff including linux from source multiple times.
However, this module is not installing on this Mac.  I&#39;m not sure what more
information you need, but I have attached the output from the &#34;make&#34; command
during the install process as a text file.  The output is so long it breaks
firefox every time i paste it into the body of the email.  I&#39;m gonna try
some more stuff tomorrow, if I get it working I&#39;ll send another email to
this address.  Let me know if you have any suggestions/question.  Thanks!
</div></div>

<div class="messagebody">
</div>
</div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;04:27:40&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;04:28:15&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;04:56:14&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Chris,

Thanks for the bug report.

From what it looks like, the link command isn&#39;t being generated &#40;and
thus executed&#41; properly.  On OS-X, the command to generate a shared
library should be something like:

    $&#40;LD&#41; -dynamiclib -o libfoo.1.dylib $&#40;OBJS&#41;

It looks like I may have made a boo-boo in writing the Makefile.  Can
you send me your output of:

    perl -V

&#40;Or better yet, the output of:&#41;

    perl -MConfig -e&#39;print Config::config_sh&#40;&#41;&#39;

From that, I will try to come up with a linking command-line for you for
Darwin, and patch it in the repo for the next F::IB::SWIG version.

Please bear with me while troubleshooting this, as I don&#39;t have an OS-X
install to test upon, so we may have to try a couple of different things.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;04:57:43&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;Just attaching the output of those commands via the RT.cpan.org
interface, or possibly to an email attachment like last time would
probably be better than sending it in the body, FYI.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;15&nbsp;12:58:29&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 15 Aug 2011 11:58:15 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">ok, here ya go, I attached both!

On Mon, Aug 15, 2011 at 3:57 AM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; &#40;Just attaching the output of those commands via the RT.cpan.org
&gt; interface, or possibly to an email attachment like last time would
&gt; probably be better than sending it in the body, FYI.&#41;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;16&nbsp;00:05:53&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">20 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Aug 15 12:58:29 2011, chrisfluur@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok, here ya go, I attached both!
</div>
Thanks for that.

1. Give this link command a shot &#40;if you&#39;ve run a make clean or make
realclean in the F::IB::SWIG directory since your first bug report,
rerun perl Makefile.PL &#38;&#38; make first, until you get the huge chain of
undefined symbol errors&#41;:

    g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch
i386 -arch ppc -L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl
-lm -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o
EClientSocketBase.o EPosixClientSocket.o

Some of those arguments may not be exactly accurate; my gcc/g++ and ld
man pages don&#39;t mention Darwin.

If the above fails, try this:

    g++ -dynamiclib -arch x86_64 -arch i386 -arch ppc -L/usr/local/lib
-L/usr/lib -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE
-ldbm -ldl -lm -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o
EClientSocketBase.o EPosixClientSocket.o

This should get you past the linking step.

2. If that looks like it works &#40;and you have a file IBAPI.dylib in the
F::IB::SWIG directory&#41;, edit the Makefile.swig file in the F::IB::SWIG
directory, and change line 101 from:

        $&#40;CC&#41; $&#40;LDOPTS&#41; $&#40;DDEBUG&#41; -o $@ $&#40;MODNAME&#41;.$&#40;OBJEXT&#41;
$&#40;MODNAME&#41;_wrap.$&#40;OBJEXT&#41; EClientSocketBase.$&#40;OBJEXT&#41;
EPosixClientSocket.$&#40;OBJEXT&#41;

to the exact linking command you just ran before &#40;probably one of the
two in step 1 above&#41;.  Note: the first character of that line in
Makefile.swig MUST be a HARD TAB, so if you expand spaces in your
editor, don&#39;t, or &#39;make&#39; will complain.

3. Re-run make.  It will probably skip the link step and continue on
with the blib step and move a few files around in the F::IB::SWIG directory.

4. Then run &#39;make test&#39;, and if that works, &#39;make install&#39; &#40;possibly as
root/admin/whatever&#41;.

A bit of a pain here, but we&#39;re basically manually recreating the
linking command-line, injecting it into the proper place in the build
process, and then continuing the build where it messed up, so that it
can complete the next steps.

Let me know if the above works, and hopefully which linking command you
used, and I&#39;ll fix the Makefile for Darwin for a bugfix release of
F::IB::SWIG &#40;not much will change, so your installation should be fine
for the foreseeable future, once it is installed.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;16&nbsp;11:30:15&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Aug 2011 10:29:50 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, I&#39;m getting some warning/error messages on the first command...

g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch i386
-arch ppc -L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
powerpc-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
lipo: can&#39;t figure out the architecture type of:
/var/folders/LT/LTpbyssGFcCmd4lPNS-Yc++++TI/-Tmp-//ccjaUDwn.out


I took out the -bundle argument and now i get:

g++ -dynamiclib -undefined dynamic_lookup -arch x86_64 -arch i386 -arch ppc
-L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o
ld: warning: in EClientSocketBase.o, file was built for unsupported file
format which is not the architecture being linked &#40;i386&#41;
ld: warning: in EPosixClientSocket.o, file was built for unsupported file
format which is not the architecture being linked &#40;i386&#41;
ld: warning: in EClientSocketBase.o, file was built for unsupported file
format which is not the architecture being linked &#40;ppc&#41;
ld: warning: in EPosixClientSocket.o, file was built for unsupported file
format which is not the architecture being linked &#40;ppc&#41;


I&#39;m gonna try a few more things and see if I can get the dylib file.  In the
meantime I dumped my g++ man page as html and attached it, maybe it contains
the information you mentioned your man page does not.  We&#39;re gonna get
this!  GRRRRR



On Mon, Aug 15, 2011 at 11:05 PM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; On Mon Aug 15 12:58:29 2011, chrisfluur@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; ok, here ya go, I attached both!
</div>&gt;
&gt; Thanks for that.
&gt;
&gt; 1. Give this link command a shot &#40;if you&#39;ve run a make clean or make
&gt; realclean in the F::IB::SWIG directory since your first bug report,
&gt; rerun perl Makefile.PL &#38;&#38; make first, until you get the huge chain of
&gt; undefined symbol errors&#41;:
&gt;
&gt;    g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch
&gt; i386 -arch ppc -L/usr/local/lib -L/usr/lib
&gt; -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl
&gt; -lm -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o
&gt; EClientSocketBase.o EPosixClientSocket.o
&gt;
&gt; Some of those arguments may not be exactly accurate; my gcc/g++ and ld
&gt; man pages don&#39;t mention Darwin.
&gt;
&gt; If the above fails, try this:
&gt;
&gt;    g++ -dynamiclib -arch x86_64 -arch i386 -arch ppc -L/usr/local/lib
&gt; -L/usr/lib -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE
&gt; -ldbm -ldl -lm -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o
&gt; EClientSocketBase.o EPosixClientSocket.o
&gt;
&gt; This should get you past the linking step.
&gt;
&gt; 2. If that looks like it works &#40;and you have a file IBAPI.dylib in the
&gt; F::IB::SWIG directory&#41;, edit the Makefile.swig file in the F::IB::SWIG
&gt; directory, and change line 101 from:
&gt;
&gt;        $&#40;CC&#41; $&#40;LDOPTS&#41; $&#40;DDEBUG&#41; -o $@ $&#40;MODNAME&#41;.$&#40;OBJEXT&#41;
&gt; $&#40;MODNAME&#41;_wrap.$&#40;OBJEXT&#41; EClientSocketBase.$&#40;OBJEXT&#41;
&gt; EPosixClientSocket.$&#40;OBJEXT&#41;
&gt;
&gt; to the exact linking command you just ran before &#40;probably one of the
&gt; two in step 1 above&#41;.  Note: the first character of that line in
&gt; Makefile.swig MUST be a HARD TAB, so if you expand spaces in your
&gt; editor, don&#39;t, or &#39;make&#39; will complain.
&gt;
&gt; 3. Re-run make.  It will probably skip the link step and continue on
&gt; with the blib step and move a few files around in the F::IB::SWIG
&gt; directory.
&gt;
&gt; 4. Then run &#39;make test&#39;, and if that works, &#39;make install&#39; &#40;possibly as
&gt; root/admin/whatever&#41;.
&gt;
&gt; A bit of a pain here, but we&#39;re basically manually recreating the
&gt; linking command-line, injecting it into the proper place in the build
&gt; process, and then continuing the build where it messed up, so that it
&gt; can complete the next steps.
&gt;
&gt; Let me know if the above works, and hopefully which linking command you
&gt; used, and I&#39;ll fix the Makefile for Darwin for a bugfix release of
&gt; F::IB::SWIG &#40;not much will change, so your installation should be fine
&gt; for the foreseeable future, once it is installed.&#41;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;16&nbsp;23:04:12&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I took out the -bundle argument and now i get:
&gt; 
&gt; g++ -dynamiclib -undefined dynamic_lookup -arch x86_64 -arch i386
</div>-arch ppc
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; -L/usr/local/lib -L/usr/lib
&gt; -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm
</div>-ldl -lm
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
&gt; EPosixClientSocket.o
&gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;i386&#41;
&gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;i386&#41;
&gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;ppc&#41;
&gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;ppc&#41;
</div>
Getting closer!  Your second output only contains warnings, which may be
about the best I can do.  The &#34;-arch x86_64 -arch i386 -arch ppc&#34; part
looks a bit silly, but if you look back to your perl -V output, you&#39;ll
see that all 3 are/were specified in that order when the OS-X packagers
were building your version of Perl, and that, via Config.pm, is where I
&#40;and ExtUtils::MakeMaker and Module::Build&#41; extract the arguments to g++
from for the Makefile.  It&#39;s kind of a last-ditch effort to build
modules for a particular perl installation to trust that that perl
itself was built with the correct arguments.

So, since they were only warnings, was the file IBAPI.dylib generated
after your second command?  If it did, try steps 3 and 4 from my last
message:

    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276#txn-967576">https://rt.cpan.org/Ticket/Display.html?id=70276#txn-967576</a></span>

Tall request here: Are you familiar with setting up your OS-X machine
for remote shells, and if so, would you be comfortable doing so with a
new user account for me to login and try a few things to get/make sure
this builds correctly?  If so, and that&#39;s fine with you, don&#39;t post any
IP/login information to the RT bug tracker, but instead to my
infidel@cpan.org email address.

No worries if not, but I figure it&#39;d simplify this process quite a bit,
and let me whip up and test a correct Makefile for OS-X for you and
other Darwin users.

Regardless, see if the .dylib has been created, and continue on to steps
3 and 4, ignoring the warnings for now.  You may wish to change line 43
in the Makefile.swig from &#34;DLEXT=so&#34; to &#34;DLEXT=dylib&#34; before doing that.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;11:00:18&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Aug 2011 10:00:03 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, so I put that command into the make file:

g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch i386
-arch ppc -L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o

and re-ran make. It&#39;s almost there, just missing IBAPI.so AND IBAPI.bundle.
I now see this:

make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
--------------------------
Building module library...
--------------------------
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI-9.64.cxx -o IBAPI.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI_wrap.cxx -o IBAPI_wrap.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EClientSocketBase.cpp
-o EClientSocketBase.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EPosixClientSocket.cpp
-o EPosixClientSocket.o
#g++ -shared -Wl -DDEBUG -o IBAPI.so IBAPI.o IBAPI_wrap.o
EClientSocketBase.o EPosixClientSocket.o
g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch i386
-arch ppc -L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
powerpc-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
lipo: can&#39;t figure out the architecture type of:
/var/folders/LT/LTpbyssGFcCmd4lPNS-Yc++++TI/-Tmp-//ccoWxizR.out
make[1]: *** [IBAPI.so] Error 1
make: *** [IBAPI.bundle] Error 2
make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
--------------------------
Building module library...
--------------------------
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI-9.64.cxx -o IBAPI.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI_wrap.cxx -o IBAPI_wrap.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EClientSocketBase.cpp
-o EClientSocketBase.o
g++ -fPIC -DBUILD_TIME=1313395146 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EPosixClientSocket.cpp
-o EPosixClientSocket.o
#g++ -shared -Wl -DDEBUG -o IBAPI.so IBAPI.o IBAPI_wrap.o
EClientSocketBase.o EPosixClientSocket.o
g++ -dynamiclib -bundle -undefined dynamic_lookup -arch x86_64 -arch i386
-arch ppc -L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
i686-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
powerpc-apple-darwin10-g++-4.2.1: -bundle not allowed with -dynamiclib
lipo: can&#39;t figure out the architecture type of:
/var/folders/LT/LTpbyssGFcCmd4lPNS-Yc++++TI/-Tmp-//ccoWxizR.out
make[1]: *** [IBAPI.so] Error 1
make: *** [IBAPI.bundle] Error 2


On Tue, Aug 16, 2011 at 10:04 PM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
<div class="message-stanza open">&gt; &gt; I took out the -bundle argument and now i get:
&gt; &gt;
&gt; &gt; g++ -dynamiclib -undefined dynamic_lookup -arch x86_64 -arch i386
</div>&gt; -arch ppc
<div class="message-stanza open">&gt; &gt; -L/usr/local/lib -L/usr/lib
&gt; &gt; -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm
</div>&gt; -ldl -lm
<div class="message-stanza open">&gt; &gt; -lutil -lc -lperl -o IBAPI.dylib IBAPI.o IBAPI_wrap.o EClientSocketBase.o
&gt; &gt; EPosixClientSocket.o
&gt; &gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; &gt; format which is not the architecture being linked &#40;i386&#41;
&gt; &gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; &gt; format which is not the architecture being linked &#40;i386&#41;
&gt; &gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; &gt; format which is not the architecture being linked &#40;ppc&#41;
&gt; &gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; &gt; format which is not the architecture being linked &#40;ppc&#41;
</div>&gt;
&gt; Getting closer!  Your second output only contains warnings, which may be
&gt; about the best I can do.  The &#34;-arch x86_64 -arch i386 -arch ppc&#34; part
&gt; looks a bit silly, but if you look back to your perl -V output, you&#39;ll
&gt; see that all 3 are/were specified in that order when the OS-X packagers
&gt; were building your version of Perl, and that, via Config.pm, is where I
&gt; &#40;and ExtUtils::MakeMaker and Module::Build&#41; extract the arguments to g++
&gt; from for the Makefile.  It&#39;s kind of a last-ditch effort to build
&gt; modules for a particular perl installation to trust that that perl
&gt; itself was built with the correct arguments.
&gt;
&gt; So, since they were only warnings, was the file IBAPI.dylib generated
&gt; after your second command?  If it did, try steps 3 and 4 from my last
&gt; message:
&gt;
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276#txn-967576">https://rt.cpan.org/Ticket/Display.html?id=70276#txn-967576</a></span>
&gt;
&gt; Tall request here: Are you familiar with setting up your OS-X machine
&gt; for remote shells, and if so, would you be comfortable doing so with a
&gt; new user account for me to login and try a few things to get/make sure
&gt; this builds correctly?  If so, and that&#39;s fine with you, don&#39;t post any
&gt; IP/login information to the RT bug tracker, but instead to my
&gt; infidel@cpan.org email address.
&gt;
&gt; No worries if not, but I figure it&#39;d simplify this process quite a bit,
&gt; and let me whip up and test a correct Makefile for OS-X for you and
&gt; other Darwin users.
&gt;
&gt; Regardless, see if the .dylib has been created, and continue on to steps
&gt; 3 and 4, ignoring the warnings for now.  You may wish to change line 43
&gt; in the Makefile.swig from &#34;DLEXT=so&#34; to &#34;DLEXT=dylib&#34; before doing that.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;11:13:07&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The time-zone lords have converged, and allowed us to be online at the same time today.  
Let&#39;s see if I can hammer this out right now.

You added the wrong command-line &#40;the one with -bundle&#41;, but no worries; I attached a new 
Makefile.swig to this, with what I think may be working changes.

Try to grab it from this email or the ticketing system, pop the file in the F::IB::API 
build directory, and re-run &#39;make&#39;.

It may give the architecture warnings, but it should still create the IBAPI.dylib file, 
and allow you to continue on with &#39;make test&#39; and finally &#39;make install&#39;.

Let me know how it goes.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile.swig</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/968010/503693/Makefile.swig">Download Makefile.swig</a><br />
<span class="downloadcontenttype">application/octet-stream 3.2k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;11:30:57&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Aug 2011 10:30:45 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">ok, I ran it and get this:

make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
make[1]: Nothing to be done for `all&#39;.
/usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
cp IBAPI.bundle &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
cp: IBAPI.bundle: No such file or directory
make: *** [IBAPI.bundle] Error 1

Where is the IBAPI.bundle supposed to be created?

On Wed, Aug 17, 2011 at 10:13 AM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; The time-zone lords have converged, and allowed us to be online at the same
&gt; time today.
&gt; Let&#39;s see if I can hammer this out right now.
&gt;
&gt; You added the wrong command-line &#40;the one with -bundle&#41;, but no worries; I
&gt; attached a new
&gt; Makefile.swig to this, with what I think may be working changes.
&gt;
&gt; Try to grab it from this email or the ticketing system, pop the file in the
&gt; F::IB::API
&gt; build directory, and re-run &#39;make&#39;.
&gt;
&gt; It may give the architecture warnings, but it should still create the
&gt; IBAPI.dylib file,
&gt; and allow you to continue on with &#39;make test&#39; and finally &#39;make install&#39;.
&gt;
&gt; Let me know how it goes.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;11:45:09&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">To be honest, I wasn&#39;t expecting it to create/require a bundle &#40;or even am sure what 
they are&#41;, but as that stage is handled by the ExtUtils::MakeMaker-outputted Makefile,  
we seem to be back into what perl and EU::MM are expecting.

I&#39;ve attached a new Makefile.swig&#40;-2&#41;, with a slightly different command.

This time, let&#39;s start from scratch, since the first part seems to be working alright, 
but the files may have gotten bollocksed up.

1. Copy the newly-attached Makefile.swig-2 into the directory, and rename it to 
Makefile.swig &#40;overwriting the previous one&#41;.
2. Run &#39;make realclean&#39;
3. Run &#39;perl Makefile.PL&#39;
4. Run &#39;make&#39;

If that works:

5. Run &#39;make test&#39;
6. Run &#39;make install&#39;

On Wed Aug 17 11:30:57 2011, chrisfluur@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok, I ran it and get this:
&gt; 
&gt; make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&gt; &#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&gt; &#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
&gt; make[1]: Nothing to be done for `all&#39;.
&gt; /usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&gt; &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
&gt; cp IBAPI.bundle
&gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
&gt; cp: IBAPI.bundle: No such file or directory
&gt; make: *** [IBAPI.bundle] Error 1
&gt; 
&gt; Where is the IBAPI.bundle supposed to be created?
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile.swig-2</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/968034/503708/Makefile.swig-2">Download Makefile.swig-2</a><br />
<span class="downloadcontenttype">application/octet-stream 3.1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;12:29:46&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Aug 2011 11:29:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">omg, i think it worked!  I ran the make and got:

cp lib/Finance/InteractiveBrokers/SWIG.pm
blib/lib/Finance/InteractiveBrokers/SWIG.pm
cp lib/Finance/InteractiveBrokers/SWIG/EventHandler.pm
blib/lib/Finance/InteractiveBrokers/SWIG/EventHandler.pm
make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313598521&#34;
--------------------------------------------
Building SWIG interface for IBAPI-9.64...
--------------------------------------------
/usr/local/bin/swig -c++ -perl -Wall -DBUILD_TIME=1313598521
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-o IBAPI_wrap.cxx IBAPI-9.64.i
--------------------------
Building module library...
--------------------------
g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI-9.64.cxx -o IBAPI.o
g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
-DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
-I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
IBAPI_wrap.cxx -o IBAPI_wrap.o
g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EClientSocketBase.cpp
-o EClientSocketBase.o
g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
-I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
-DIB_USE_STD_STRING -c
/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EPosixClientSocket.cpp
-o EPosixClientSocket.o
g++ -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -arch ppc
-L/usr/local/lib -L/usr/lib
-L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
-lutil -lc -lperl -o IBAPI.bundle IBAPI.o IBAPI_wrap.o EClientSocketBase.o
EPosixClientSocket.o
ld: warning: in EClientSocketBase.o, file was built for unsupported file
format which is not the architecture being linked &#40;i386&#41;
ld: warning: in EPosixClientSocket.o, file was built for unsupported file
format which is not the architecture being linked &#40;i386&#41;
ld: warning: in EClientSocketBase.o, file was built for unsupported file
format which is not the architecture being linked &#40;ppc&#41;
ld: warning: in EPosixClientSocket.o, file was built for unsupported file
format which is not the architecture being linked &#40;ppc&#41;
/usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
cp IBAPI.bundle &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
Manifying blib/man3/Finance::InteractiveBrokers::SWIG.3pm
Manifying blib/man3/Finance::InteractiveBrokers::SWIG::EventHandler.3pm




On Wed, Aug 17, 2011 at 10:45 AM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; To be honest, I wasn&#39;t expecting it to create/require a bundle &#40;or even am
&gt; sure what
&gt; they are&#41;, but as that stage is handled by the
&gt; ExtUtils::MakeMaker-outputted Makefile,
&gt; we seem to be back into what perl and EU::MM are expecting.
&gt;
&gt; I&#39;ve attached a new Makefile.swig&#40;-2&#41;, with a slightly different command.
&gt;
&gt; This time, let&#39;s start from scratch, since the first part seems to be
&gt; working alright,
&gt; but the files may have gotten bollocksed up.
&gt;
&gt; 1. Copy the newly-attached Makefile.swig-2 into the directory, and rename
&gt; it to
&gt; Makefile.swig &#40;overwriting the previous one&#41;.
&gt; 2. Run &#39;make realclean&#39;
&gt; 3. Run &#39;perl Makefile.PL&#39;
&gt; 4. Run &#39;make&#39;
&gt;
&gt; If that works:
&gt;
&gt; 5. Run &#39;make test&#39;
&gt; 6. Run &#39;make install&#39;
&gt;
&gt; On Wed Aug 17 11:30:57 2011, chrisfluur@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; ok, I ran it and get this:
&gt; &gt;
&gt; &gt; make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&gt; &gt; &#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&gt; &gt; &#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
&gt; &gt; make[1]: Nothing to be done for `all&#39;.
&gt; &gt; /usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&gt; &gt; &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&gt; &gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; &gt; chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; &gt; cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
&gt; &gt; cp IBAPI.bundle
&gt; &gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
&gt; &gt; cp: IBAPI.bundle: No such file or directory
&gt; &gt; make: *** [IBAPI.bundle] Error 1
&gt; &gt;
&gt; &gt; Where is the IBAPI.bundle supposed to be created?
</div>&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;12:33:38&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Aug 2011 11:33:26 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">sudo make test;sudo make install did this:

PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load.t .......................................... 1/1 # Testing
Finance::InteractiveBrokers::SWIG 0.03, Perl 5.010000, /usr/bin/perl
t/00-load.t .......................................... ok
t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... You tried to run a
test without a plan at t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t line 41.
# Looks like your test died before it could output anything.
t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... Dubious, test
returned 255 &#40;wstat 65280, 0xff00&#41;
No subtests run
t/88-Finance-InteractiveBrokers-SWIG-EventHandler.t .. You tried to run a
test without a plan at t/88-Finance-InteractiveBrokers-SWIG-EventHandler.t
line 47.
# Looks like your test died before it could output anything.
t/88-Finance-InteractiveBrokers-SWIG-EventHandler.t .. Dubious, test
returned 255 &#40;wstat 65280, 0xff00&#41;
No subtests run
t/89-Finance-InteractiveBrokers-SWIG.t ............... You tried to run a
test without a plan at t/89-Finance-InteractiveBrokers-SWIG.t line 50.
# Looks like your test died before it could output anything.
t/89-Finance-InteractiveBrokers-SWIG.t ............... Dubious, test
returned 255 &#40;wstat 65280, 0xff00&#41;
No subtests run
t/manifest.t ......................................... skipped: Author tests
not required for installation
t/pod-coverage.t ..................................... skipped:
Test::Pod::Coverage 1.08 required for testing POD coverage
t/pod.t .............................................. ok

Test Summary Report
-------------------
t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t       &#40;Wstat: 65280 Tests: 0
Failed: 0&#41;
  Non-zero exit status: 255
  Parse errors: No plan found in TAP output
t/88-Finance-InteractiveBrokers-SWIG-EventHandler.t &#40;Wstat: 65280 Tests: 0
Failed: 0&#41;
  Non-zero exit status: 255
  Parse errors: No plan found in TAP output
t/89-Finance-InteractiveBrokers-SWIG.t             &#40;Wstat: 65280 Tests: 0
Failed: 0&#41;
  Non-zero exit status: 255
  Parse errors: No plan found in TAP output
Files=7, Tests=4,  1 wallclock secs &#40; 0.04 usr  0.01 sys +  0.25 cusr  0.06
csys =  0.36 CPU&#41;
Result: FAIL
Failed 3/7 test programs. 0/4 subtests failed.
make: *** [test_dynamic] Error 255
Files found in blib/arch: installing files in blib/lib into architecture
dependent library tree
Installing
/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/Finance/InteractiveBrokers/SWIG/IBAPI/IBAPI.bundle
Installing
/Library/Perl/5.10.0/darwin-thread-multi-2level/Finance/InteractiveBrokers/SWIG.pm
Installing
/Library/Perl/5.10.0/darwin-thread-multi-2level/Finance/InteractiveBrokers/SWIG/EventHandler.pm
Installing
/Library/Perl/5.10.0/darwin-thread-multi-2level/Finance/InteractiveBrokers/SWIG/IBAPI.pm
Installing /usr/local/share/man/man3/Finance::InteractiveBrokers::SWIG.3pm
Installing
/usr/local/share/man/man3/Finance::InteractiveBrokers::SWIG::EventHandler.3pm
Writing
/Library/Perl/5.10.0/darwin-thread-multi-2level/auto/Finance/InteractiveBrokers/SWIG/.packlist
Appending installation info to
/Library/Perl/Updates/5.10.0/darwin-thread-multi-2level/perllocal.pod

wooooo hooooo !!!!

THANKS MAN !!

On Wed, Aug 17, 2011 at 11:29 AM, Chris Fluur &lt;chrisfluur@gmail.com&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; omg, i think it worked!  I ran the make and got:
&gt;
&gt; cp lib/Finance/InteractiveBrokers/SWIG.pm
&gt; blib/lib/Finance/InteractiveBrokers/SWIG.pm
&gt; cp lib/Finance/InteractiveBrokers/SWIG/EventHandler.pm
&gt; blib/lib/Finance/InteractiveBrokers/SWIG/EventHandler.pm
&gt; make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&gt; &#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&gt; &#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313598521&#34;
&gt; --------------------------------------------
&gt; Building SWIG interface for IBAPI-9.64...
&gt; --------------------------------------------
&gt; /usr/local/bin/swig -c++ -perl -Wall -DBUILD_TIME=1313598521
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
&gt; -o IBAPI_wrap.cxx IBAPI-9.64.i
&gt; --------------------------
&gt; Building module library...
&gt; --------------------------
&gt; g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
&gt; -DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
&gt; -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
&gt; -I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
&gt; IBAPI-9.64.cxx -o IBAPI.o
&gt; g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
&gt; -DIB_USE_STD_STRING -arch x86_64 -arch i386 -arch ppc -g -pipe -fno-common
&gt; -DPERL_DARWIN -fno-strict-aliasing -I/usr/local/include
&gt; -I/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -c
&gt; IBAPI_wrap.cxx -o IBAPI_wrap.o
&gt; g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
&gt; -DIB_USE_STD_STRING -c
&gt; /Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EClientSocketBase.cpp
&gt; -o EClientSocketBase.o
&gt; g++ -fPIC -DBUILD_TIME=1313598521 -DDEBUG
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/Shared
&gt; -I/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient
&gt; -DIB_USE_STD_STRING -c
&gt; /Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts/cpp/PosixSocketClient/EPosixClientSocket.cpp
&gt; -o EPosixClientSocket.o
&gt; g++ -bundle -undefined dynamic_lookup -arch x86_64 -arch i386 -arch ppc
&gt; -L/usr/local/lib -L/usr/lib
&gt; -L/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE -ldbm -ldl -lm
&gt; -lutil -lc -lperl -o IBAPI.bundle IBAPI.o IBAPI_wrap.o EClientSocketBase.o
&gt; EPosixClientSocket.o
&gt;
&gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;i386&#41;
&gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;i386&#41;
&gt; ld: warning: in EClientSocketBase.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;ppc&#41;
&gt; ld: warning: in EPosixClientSocket.o, file was built for unsupported file
&gt; format which is not the architecture being linked &#40;ppc&#41;
&gt; /usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&gt; &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt; cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
&gt; cp IBAPI.bundle &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
&gt; Manifying blib/man3/Finance::InteractiveBrokers::SWIG.3pm
&gt; Manifying blib/man3/Finance::InteractiveBrokers::SWIG::EventHandler.3pm
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; On Wed, Aug 17, 2011 at 10:45 AM, Jason McManus via RT &lt;
&gt; bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;&gt;
&gt;&gt; To be honest, I wasn&#39;t expecting it to create/require a bundle &#40;or even am
&gt;&gt; sure what
&gt;&gt; they are&#41;, but as that stage is handled by the
&gt;&gt; ExtUtils::MakeMaker-outputted Makefile,
&gt;&gt; we seem to be back into what perl and EU::MM are expecting.
&gt;&gt;
&gt;&gt; I&#39;ve attached a new Makefile.swig&#40;-2&#41;, with a slightly different command.
&gt;&gt;
&gt;&gt; This time, let&#39;s start from scratch, since the first part seems to be
&gt;&gt; working alright,
&gt;&gt; but the files may have gotten bollocksed up.
&gt;&gt;
&gt;&gt; 1. Copy the newly-attached Makefile.swig-2 into the directory, and rename
&gt;&gt; it to
&gt;&gt; Makefile.swig &#40;overwriting the previous one&#41;.
&gt;&gt; 2. Run &#39;make realclean&#39;
&gt;&gt; 3. Run &#39;perl Makefile.PL&#39;
&gt;&gt; 4. Run &#39;make&#39;
&gt;&gt;
&gt;&gt; If that works:
&gt;&gt;
&gt;&gt; 5. Run &#39;make test&#39;
&gt;&gt; 6. Run &#39;make install&#39;
&gt;&gt;
&gt;&gt; On Wed Aug 17 11:30:57 2011, chrisfluur@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; &gt; ok, I ran it and get this:
&gt;&gt; &gt;
&gt;&gt; &gt; make -ef Makefile.swig &#34;SWIG=/usr/local/bin/swig&#34;
&gt;&gt; &gt; &#34;IB_BUILD_PATH=/Library/Perl/5.10.0/Alien/InteractiveBrokers/IBJts&#34;
&gt;&gt; &gt; &#34;IB_API_VERSION=9.64&#34; &#34;BUILD_TIME=1313395146&#34;
&gt;&gt; &gt; make[1]: Nothing to be done for `all&#39;.
&gt;&gt; &gt; /usr/bin/perl &#34;-MExtUtils::Command&#34; -e mkpath
&gt;&gt; &gt; &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;
&gt;&gt; &gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt;&gt; &gt; chmod 755 &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;
&gt;&gt; &gt; cp IBAPI.pm &#34;blib/lib/Finance/InteractiveBrokers/SWIG&#34;/
&gt;&gt; &gt; cp IBAPI.bundle
&gt;&gt; &gt; &#34;blib/arch/auto/Finance/InteractiveBrokers/SWIG/IBAPI&#34;/
&gt;&gt; &gt; cp: IBAPI.bundle: No such file or directory
&gt;&gt; &gt; make: *** [IBAPI.bundle] Error 1
&gt;&gt; &gt;
&gt;&gt; &gt; Where is the IBAPI.bundle supposed to be created?
</div>&gt;&gt;
</div>&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;12:46:46&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">To be honest, that test output doesn&#39;t look so good.  I don&#39;t think the 
build worked, and I suspect it&#39;s still a library linkage issue, but 
perhaps earlier on.  Installation may have worked, but I suspect writing 
code against it won&#39;t.

Can you send me the file &#39;Makefile&#39; &#40;with no extension&#41;; it&#39;s generated 
after the &#39;perl Makefile.PL&#39; step, and should still be sitting around in 
the build dir.

I also tried to find another OS-X shell elsewhere, to no avail.  Do you 
know how and would be willing to set up a remote shell login, and I can 
probably square this away quickly.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... You tried to
&gt; run a
&gt; test without a plan at t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t
&gt; line 41.
&gt; # Looks like your test died before it could output anything.
&gt; t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... Dubious, test
&gt; returned 255 &#40;wstat 65280, 0xff00&#41;
&gt; No subtests run
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;14:58:14&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Aug 2011 13:58:02 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">here is the file.  I&#39;m gonna test the code, I just now got time.  I don&#39;t
know how to set up shell access on this box, but i could figure that out.
SSH, right ?


On Wed, Aug 17, 2011 at 11:46 AM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; To be honest, that test output doesn&#39;t look so good.  I don&#39;t think the
&gt; build worked, and I suspect it&#39;s still a library linkage issue, but
&gt; perhaps earlier on.  Installation may have worked, but I suspect writing
&gt; code against it won&#39;t.
&gt;
&gt; Can you send me the file &#39;Makefile&#39; &#40;with no extension&#41;; it&#39;s generated
&gt; after the &#39;perl Makefile.PL&#39; step, and should still be sitting around in
&gt; the build dir.
&gt;
&gt; I also tried to find another OS-X shell elsewhere, to no avail.  Do you
&gt; know how and would be willing to set up a remote shell login, and I can
&gt; probably square this away quickly.
&gt;
<div class="message-stanza open">&gt; &gt; t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... You tried to
&gt; &gt; run a
&gt; &gt; test without a plan at t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t
&gt; &gt; line 41.
&gt; &gt; # Looks like your test died before it could output anything.
&gt; &gt; t/79-Finance-InteractiveBrokers-SWIG-IBAPI.t ......... Dubious, test
&gt; &gt; returned 255 &#40;wstat 65280, 0xff00&#41;
&gt; &gt; No subtests run
</div>&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/968126/503770/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">application/octet-stream 29.2k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;19:17:54&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 17 14:58:14 2011, chrisfluur@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; here is the file.  I&#39;m gonna test the code, I just now got time.  I 
</div>don&#39;t
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; know how to set up shell access on this box, but i could figure that 
</div>out.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; SSH, right ?
</div>
Yeah, ssh would be best.  You may also need to tweak a firewall rule to 
allow pass through to the ssh port &#40;usually 22&#41;, if you use one.

But it looks like from the other ticket, that you may be binding the C++ 
dynamic library ok, so it may not be necessary after all...  If the new 
SWIG.pm from the other ticket patches the inet_aton&#40;&#41; issue, and you&#39;re 
able to execute the demo programs &#40;in examples/&#41; alright, I may not need 
shell access at all.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;11:09:37&nbsp;2011</span>
    <span class="description">chrisfluur [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #70276] can&#39;t install on a Mac OSX 10.6.7</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 18 Aug 2011 10:09:26 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-InteractiveBrokers-SWIG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Fluur &lt;chrisfluur [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think this is working now.

On Wed, Aug 17, 2011 at 6:17 PM, Jason McManus via RT &lt;
bug-Finance-InteractiveBrokers-SWIG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=70276">https://rt.cpan.org/Ticket/Display.html?id=70276</a></span> &gt;
&gt;
&gt; On Wed Aug 17 14:58:14 2011, chrisfluur@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; here is the file.  I&#39;m gonna test the code, I just now got time.  I
</div>&gt; don&#39;t
<div class="message-stanza open">&gt; &gt; know how to set up shell access on this box, but i could figure that
</div>&gt; out.
<div class="message-stanza open">&gt; &gt; SSH, right ?
</div>&gt;
&gt; Yeah, ssh would be best.  You may also need to tweak a firewall rule to
&gt; allow pass through to the ssh port &#40;usually 22&#41;, if you use one.
&gt;
&gt; But it looks like from the other ticket, that you may be binding the C++
&gt; dynamic library ok, so it may not be necessary after all...  If the new
&gt; SWIG.pm from the other ticket patches the inet_aton&#40;&#41; issue, and you&#39;re
&gt; able to execute the demo programs &#40;in examples/&#41; alright, I may not need
&gt; shell access at all.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:18&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Broken in 0.01_01 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:18&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Broken in 0.01_02 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:18&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Broken in 0.02 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:18&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Broken in 0.03 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:58&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Coolio, will try to fix this dynamically in the Makefile for the next 
release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;18&nbsp;13:04:59&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;10&nbsp;10:52:58&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Fixed in 0.03_03 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;10&nbsp;10:52:58&nbsp;2011</span>
    <span class="description">INFIDEL [...] cpan.org -  Fixed in 0.04 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
