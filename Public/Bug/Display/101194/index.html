<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #101194 for Control-CLI: Perl Issue</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #101194 for Control-CLI: Perl Issue</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Control-CLI">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Control-CLI">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Control-CLI">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Control-CLI">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Control-CLI">Control-CLI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">101194</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Control-CLI">Control-CLI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">LSTEVENS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jwolfert [...] nyiso.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-237888-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-237889-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.00    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=101194">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447147" href="/Public/Bug/Display.html?id=101194#txn-1447147">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;29&nbsp;16:23:26&nbsp;2014</span>
    <span class="description">jwolfert [...] nyiso.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perl Issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Dec 2014 16:22:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Control-CLI [...] rt.cpan.org&#34; &lt;bug-Control-CLI [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Wolfert, Jonathan X&#34; &lt;jwolfert [...] nyiso.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447147/769423/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769423">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">When I attempt to have my program connect to a network device via SSH, it seems to work as I can throw commands at it afterward, but I do receive the following message just after the connection is made to the device.  Below is a snippet of my code, as well as the output below it.  Please let me know if there is something I am missing, but I believe I am using the module correctly.

sub conn {
                my $session = shift;
                my $ip = shift;
                my $version = shift;
                my $second_try = shift;

                eval{
                                ${$session} = new Control::CLI&#40;&#39;TELNET&#39;&#41;;
                                ${$session}-&gt;connect&#40;$ip&#41;;
                                ${$session}-&gt;login&#40;         Username           =&gt; $username,
                                                                                Password            =&gt; $login_pass
                                                                &#41;;
                };

                if&#40;$@&#41; {
                                print $tee &#34;Telnet failed, attempting SSH...\n&#34;;
                                eval{
                                                ${$session} = new Control::CLI&#40;&#39;SSH&#39;&#41;;
                                                print &#34;Test\n&#34;;
                                                ${$session}-&gt;connect&#40;
                                                                                                Host                                                       =&gt; $ip,
                                                                                                Username                                           =&gt; $username,
                                                                                                Password                                            =&gt; $password,
                                                                                &#41;;
                                };
                                if&#40;$@&#41; {
                                                print $tee &#34;Could not connect to $ip \n&#34;;
                                                return 0;
                                }
                                print $tee &#34;Connected\n&#34;;
                };
                print &#34;This is a test:\n&#34;;
                ${$session}-&gt;cmd&#40;&#34;terminal length 0&#34;&#41;;
                my $out = ${$session}-&gt;cmd&#40;&#34;show vers&#34;&#41;;
                print $out;
}




Output is:
===============
C:\Users\wolfertjx\Desktop\Network Discovery&gt;perl &#34;Network Discovery.pl&#34; Test test test 10.65.6.15
Mon Dec 29 16:16:25 2014

Now processing: 10.65.6.15
Telnet failed, attempting SSH...
Test
Argument &#34;SO_LINGER&#34; isn&#39;t numeric in setsockopt at C:/Perl64/lib/IO/Socket.pm l
ine 312.
Connected
This is a test:
Cisco IOS Software, C2960S Software &#40;C2960S-UNIVERSALK9-M&#41;, Version 15.0&#40;2&#41;SE4,
RELEASE SOFTWARE &#40;fc1&#41;
Technical Support: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cisco.com/techsupport">http://www.cisco.com/techsupport</a></span>
Copyright &#40;c&#41; 1986-2013 by Cisco Systems, Inc.
Compiled Wed 26-Jun-13 02:59 by prod_rel_team
...



Regards,
     Jonathan Wolfert

Jonathan Wolfert
Network Infrastructure
New York Independent System Operator, Inc.
10 Krey Boulevard
Rensselaer, NY 12144
&#40;C&#41; 518-649-7448
JWolfert@nyiso.com&lt;mailto:JWolfert@nyiso.com&gt;
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nyiso.com">http://www.nyiso.com</a></span>

The information in this email is confidential and may be legally privileged against disclosure other than to the intended recipient. It is intended solely for the addressee. Access to this email by anyone else is unauthorized. If you are not the intended recipient, any disclosure, copying, distribution or any action taken or omitted to be taken in reliance on it, is prohibited and may be unlawful. Please immediately delete this message and inform the sender of this error. 
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447147/769424/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769424">with headers</a>
<br />
<span class="downloadcontenttype">text/html 15.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447331" href="/Public/Bug/Display.html?id=101194#txn-1447331">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;30&nbsp;10:08:34&nbsp;2014</span>
    <span class="description">jwolfert [...] nyiso.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #101194] AutoReply: Perl Issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 30 Dec 2014 10:07:04 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Control-CLI [...] rt.cpan.org&#34; &lt;bug-Control-CLI [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Wolfert, Jonathan X&#34; &lt;jwolfert [...] nyiso.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447331/769524/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769524">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This email address is through a client, which I will not be onsite with much longer.  Please use my work email address of jonathan.wolfert@corebts.com .  Thank you!


Regards,
     Jonathan Wolfert

Jonathan Wolfert
Network Infrastructure
New York Independent System Operator, Inc.
10 Krey Boulevard
Rensselaer, NY 12144
&#40;C&#41; 518-649-7448
JWolfert@nyiso.com
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nyiso.com">http://www.nyiso.com</a></span>


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Bugs in Control-CLI via RT [mailto:bug-Control-CLI@rt.cpan.org] 
Sent: Monday, December 29, 2014 4:23 PM
To: Wolfert, Jonathan X
Subject: [rt.cpan.org #101194] AutoReply: Perl Issue


Greetings,

This message has been automatically generated in response to the creation of a trouble ticket regarding:
        &#34;Perl Issue&#34;,
a summary of which appears below.

There is no need to reply to this message right now.  Your ticket has been assigned an ID of [rt.cpan.org #101194].  Your ticket is accessible on the web at:

    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101194">https://rt.cpan.org/Ticket/Display.html?id=101194</a></span>

Please include the string:

         [rt.cpan.org #101194]

in the subject line of all future correspondence about this issue. To do so, you may reply to this message.

                        Thank you,
                        bug-Control-CLI@rt.cpan.org

-------------------------------------------------------------------------
When I attempt to have my program connect to a network device via SSH, it seems to work as I can throw commands at it afterward, but I do receive the following message just after the connection is made to the device.  Below is a snippet of my code, as well as the output below it.  Please let me know if there is something I am missing, but I believe I am using the module correctly.

sub conn {
                my $session = shift;
                my $ip = shift;
                my $version = shift;
                my $second_try = shift;

                eval{
                                ${$session} = new Control::CLI&#40;&#39;TELNET&#39;&#41;;
                                ${$session}-&gt;connect&#40;$ip&#41;;
                                ${$session}-&gt;login&#40;         Username           =&gt; $username,
                                                                                Password            =&gt; $login_pass
                                                                &#41;;
                };

                if&#40;$@&#41; {
                                print $tee &#34;Telnet failed, attempting SSH...\n&#34;;
                                eval{
                                                ${$session} = new Control::CLI&#40;&#39;SSH&#39;&#41;;
                                                print &#34;Test\n&#34;;
                                                ${$session}-&gt;connect&#40;
                                                                                                Host                                                       =&gt; $ip,
                                                                                                Username                                           =&gt; $username,
                                                                                                Password                                            =&gt; $password,
                                                                                &#41;;
                                };
                                if&#40;$@&#41; {
                                                print $tee &#34;Could not connect to $ip \n&#34;;
                                                return 0;
                                }
                                print $tee &#34;Connected\n&#34;;
                };
                print &#34;This is a test:\n&#34;;
                ${$session}-&gt;cmd&#40;&#34;terminal length 0&#34;&#41;;
                my $out = ${$session}-&gt;cmd&#40;&#34;show vers&#34;&#41;;
                print $out;
}




Output is:
===============
C:\Users\wolfertjx\Desktop\Network Discovery&gt;perl &#34;Network Discovery.pl&#34; Test test test 10.65.6.15 Mon Dec 29 16:16:25 2014

Now processing: 10.65.6.15
Telnet failed, attempting SSH...
Test
Argument &#34;SO_LINGER&#34; isn&#39;t numeric in setsockopt at C:/Perl64/lib/IO/Socket.pm l ine 312.
Connected
This is a test:
Cisco IOS Software, C2960S Software &#40;C2960S-UNIVERSALK9-M&#41;, Version 15.0&#40;2&#41;SE4, RELEASE SOFTWARE &#40;fc1&#41; Technical Support: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cisco.com/techsupport">http://www.cisco.com/techsupport</a></span> Copyright &#40;c&#41; 1986-2013 by Cisco Systems, Inc.
Compiled Wed 26-Jun-13 02:59 by prod_rel_team ...



Regards,
     Jonathan Wolfert

Jonathan Wolfert
Network Infrastructure
New York Independent System Operator, Inc.
10 Krey Boulevard
Rensselaer, NY 12144
&#40;C&#41; 518-649-7448
JWolfert@nyiso.com&lt;mailto:JWolfert@nyiso.com&gt;
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nyiso.com">http://www.nyiso.com</a></span>

The information in this email is confidential and may be legally privileged against disclosure other than to the intended recipient. It is intended solely for the addressee. Access to this email by anyone else is unauthorized. If you are not the intended recipient, any disclosure, copying, distribution or any action taken or omitted to be taken in reliance on it, is prohibited and may be unlawful. Please immediately delete this message and inform the sender of this error. 

The information in this email is confidential and may be legally privileged against disclosure other than to the intended recipient. It is intended solely for the addressee. Access to this email by anyone else is unauthorized. If you are not the intended recipient, any disclosure, copying, distribution or any action taken or omitted to be taken in reliance on it, is prohibited and may be unlawful. Please immediately delete this message and inform the sender of this error. 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447607" href="/Public/Bug/Display.html?id=101194#txn-1447607">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;07:08:46&nbsp;2014</span>
    <span class="description">LSTEVENS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> jonathan.wolfert [...] corebts.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447607/769689/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769689">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Jonathan

That message you get is just a warning so yes it won&#39;t stop the script from working.
I &#39;use warnings&#39; on all my scripts and yet that never showed up for me; however I found that if I run perl with the -w switch, then I also get the same warning message. Not sure why that is...
Anyhow seems the solution should be pretty straightforward; if you are using version 1.06 of Control::CLI changing line 364 in CLI.pm should do it:

-               $self-&gt;{SOCKET}-&gt;sockopt&#40;&#39;SO_LINGER&#39;, pack&#40;&#39;SS&#39;, 0, 0&#41;&#41;;
+               $self-&gt;{SOCKET}-&gt;sockopt&#40;&#38;Socket::SO_LINGER, pack&#40;&#39;SS&#39;, 0, 0&#41;&#41;;

I was on the verge of posting a major update to this module on the same day you raised this! So I have made the above change in 2.00 which I just posted.
Let me know if that fixes the problem.

Best regards
Ludovico Stevens


On Tue Dec 30 10:08:34 2014, jwolfert@nyiso.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This email address is through a client, which I will not be onsite
&gt; with much longer.  Please use my work email address of
&gt; jonathan.wolfert@corebts.com .  Thank you!
&gt; 
&gt; 
&gt; Regards,
&gt;      Jonathan Wolfert
&gt; 
&gt; Jonathan Wolfert
&gt; Network Infrastructure
&gt; New York Independent System Operator, Inc.
&gt; 10 Krey Boulevard
&gt; Rensselaer, NY 12144
&gt; &#40;C&#41; 518-649-7448
&gt; JWolfert@nyiso.com
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nyiso.com">http://www.nyiso.com</a></span>
&gt; 
&gt; 
&gt; -----Original Message-----
&gt;  From: Bugs in Control-CLI via RT [mailto:bug-Control-CLI@rt.cpan.org]
&gt; Sent: Monday, December 29, 2014 4:23 PM
&gt; To: Wolfert, Jonathan X
&gt; Subject: [rt.cpan.org #101194] AutoReply: Perl Issue
&gt; 
&gt; 
&gt; Greetings,
&gt; 
&gt; This message has been automatically generated in response to the
&gt; creation of a trouble ticket regarding:
&gt;         &#34;Perl Issue&#34;,
&gt; a summary of which appears below.
&gt; 
&gt; There is no need to reply to this message right now.  Your ticket has
&gt; been assigned an ID of [rt.cpan.org #101194].  Your ticket is
&gt; accessible on the web at:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101194">https://rt.cpan.org/Ticket/Display.html?id=101194</a></span>
&gt; 
&gt; Please include the string:
&gt; 
&gt; [rt.cpan.org #101194]
&gt; 
&gt; in the subject line of all future correspondence about this issue. To
&gt; do so, you may reply to this message.
&gt; 
&gt; Thank you,
&gt; bug-Control-CLI@rt.cpan.org
&gt; 
&gt; -------------------------------------------------------------------------
&gt; When I attempt to have my program connect to a network device via SSH,
&gt; it seems to work as I can throw commands at it afterward, but I do
&gt; receive the following message just after the connection is made to the
&gt; device.  Below is a snippet of my code, as well as the output below
&gt; it.  Please let me know if there is something I am missing, but I
&gt; believe I am using the module correctly.
&gt; 
&gt; sub conn {
&gt;                 my $session = shift;
&gt;                 my $ip = shift;
&gt;                 my $version = shift;
&gt;                 my $second_try = shift;
&gt; 
&gt; eval{
&gt;                 ${$session} = new Control::CLI&#40;&#39;TELNET&#39;&#41;;
&gt;                 ${$session}-&gt;connect&#40;$ip&#41;;
&gt;                 ${$session}-&gt;login&#40;         Username           =&gt;
&gt; $username,
&gt;                                                                 Password
&gt; =&gt; $login_pass
&gt;                                                 &#41;;
&gt; };
&gt; 
&gt; if&#40;$@&#41; {
&gt;                 print $tee &#34;Telnet failed, attempting SSH...\n&#34;;
&gt;                 eval{
&gt;                                 ${$session} = new Control::CLI&#40;&#39;SSH&#39;&#41;;
&gt;                                 print &#34;Test\n&#34;;
&gt;                                 ${$session}-&gt;connect&#40;
&gt;                                                                                 Host
&gt; =&gt; $ip,
&gt;                                                                                 Username
&gt; =&gt; $username,
&gt;                                                                                 Password
&gt; =&gt; $password,
&gt;                                                                 &#41;;
&gt;                 };
&gt;                 if&#40;$@&#41; {
&gt;                                 print $tee &#34;Could not connect to $ip
&gt; \n&#34;;
&gt;                                 return 0;
&gt;                 }
&gt;                 print $tee &#34;Connected\n&#34;;
&gt; };
&gt; print &#34;This is a test:\n&#34;;
&gt; ${$session}-&gt;cmd&#40;&#34;terminal length 0&#34;&#41;;
&gt; my $out = ${$session}-&gt;cmd&#40;&#34;show vers&#34;&#41;;
&gt; print $out;
&gt; }
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Output is:
&gt; ===============
&gt; C:\Users\wolfertjx\Desktop\Network Discovery&gt;perl &#34;Network
&gt; Discovery.pl&#34; Test test test 10.65.6.15 Mon Dec 29 16:16:25 2014
&gt; 
&gt; Now processing: 10.65.6.15
&gt; Telnet failed, attempting SSH...
&gt; Test
&gt; Argument &#34;SO_LINGER&#34; isn&#39;t numeric in setsockopt at
&gt; C:/Perl64/lib/IO/Socket.pm l ine 312.
&gt; Connected
&gt; This is a test:
&gt; Cisco IOS Software, C2960S Software &#40;C2960S-UNIVERSALK9-M&#41;, Version
&gt; 15.0&#40;2&#41;SE4, RELEASE SOFTWARE &#40;fc1&#41; Technical Support:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cisco.com/techsupport">http://www.cisco.com/techsupport</a></span> Copyright &#40;c&#41; 1986-2013 by Cisco
&gt; Systems, Inc.
&gt; Compiled Wed 26-Jun-13 02:59 by prod_rel_team ...
&gt; 
&gt; 
&gt; 
&gt; Regards,
&gt;      Jonathan Wolfert
&gt; 
&gt; Jonathan Wolfert
&gt; Network Infrastructure
&gt; New York Independent System Operator, Inc.
&gt; 10 Krey Boulevard
&gt; Rensselaer, NY 12144
&gt; &#40;C&#41; 518-649-7448
&gt; JWolfert@nyiso.com&lt;mailto:JWolfert@nyiso.com&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nyiso.com">http://www.nyiso.com</a></span>
&gt; 
&gt; The information in this email is confidential and may be legally
&gt; privileged against disclosure other than to the intended recipient. It
&gt; is intended solely for the addressee. Access to this email by anyone
&gt; else is unauthorized. If you are not the intended recipient, any
&gt; disclosure, copying, distribution or any action taken or omitted to be
&gt; taken in reliance on it, is prohibited and may be unlawful. Please
&gt; immediately delete this message and inform the sender of this error.
&gt; 
&gt; The information in this email is confidential and may be legally
&gt; privileged against disclosure other than to the intended recipient. It
&gt; is intended solely for the addressee. Access to this email by anyone
&gt; else is unauthorized. If you are not the intended recipient, any
&gt; disclosure, copying, distribution or any action taken or omitted to be
&gt; taken in reliance on it, is prohibited and may be unlawful. Please
&gt; immediately delete this message and inform the sender of this error.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447608" href="/Public/Bug/Display.html?id=101194#txn-1447608">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;07:08:46&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447611" href="/Public/Bug/Display.html?id=101194#txn-1447611">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;07:08:53&nbsp;2014</span>
    <span class="description">LSTEVENS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447613" href="/Public/Bug/Display.html?id=101194#txn-1447613">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;07:08:54&nbsp;2014</span>
    <span class="description">LSTEVENS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447927" href="/Public/Bug/Display.html?id=101194#txn-1447927">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;01&nbsp;04:07:41&nbsp;2015</span>
    <span class="description">LSTEVENS [...] cpan.org -  Fixed in 2.00 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.385974</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
