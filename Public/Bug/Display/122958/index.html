<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #122958 for XML-LibXML: libxml2-2.9.5 breaks t/48_reader_undef_warning_on_empty_str_rt106830.t</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #122958 for XML-LibXML: libxml2-2.9.5 breaks t/48_reader_undef_warning_on_empty_str_rt106830.t</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=XML-LibXML">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=XML-LibXML">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=XML-LibXML">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=XML-LibXML">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-LibXML">XML-LibXML CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">122958</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=XML-LibXML">XML-LibXML</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dmacks [...] netspace.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37350-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37351-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=122958">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747263" href="/Public/Bug/Display.html?id=122958#txn-1747263">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;05&nbsp;02:40:51&nbsp;2017</span>
    <span class="description">dmacks [...] netspace.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> libxml2-2.9.5 breaks t/48_reader_undef_warning_on_empty_str_rt106830.t</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 05 Sep 2017 02:19:23 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-XML-LibXML [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Macks &lt;dmacks [...] netspace.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747263/939844/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939844">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 827b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
        


The new version of libxml2 produces a test failure on my OS X 10.11 &#40;Apple&#39;s perl-5.18.2&#41;. XML-LibXML-2.0129 reports:

#&#38;nbsp;&#38;nbsp; Failed test &#39;xml_reader is undef&#39;
#&#38;nbsp;&#38;nbsp; at t/48_reader_undef_warning_on_empty_str_rt106830.t line 33.
# Looks like you failed 1 test of 2.
t/48_reader_undef_warning_on_empty_str_rt106830.t ..
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/2 subtests

I think the cause is a libxml2 change in the creation of the parser for a zero-length string. Previously, it short-circuited and treated this case as if a NULL were passed, returning NULL. Now, a parser is created as for any other actual string. The relevant upstream change is probably:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50">https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50</a></span>

dan
&#38;nbsp;

---
Daniel Macks
dmacks@netspace.org
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747263/939845/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939845">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747601" href="/Public/Bug/Display.html?id=122958#txn-1747601">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;07&nbsp;10:20:55&nbsp;2017</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747601/940042/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/940042">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 05 02:40:51 2017, dmacks@netspace.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The new version of libxml2 produces a test failure on my OS X 10.11
&gt; &#40;Apple&#39;s perl-5.18.2&#41;. XML-LibXML-2.0129 reports:
&gt; 
&gt; #&#38;nbsp;&#38;nbsp; Failed test &#39;xml_reader is undef&#39;
&gt; #&#38;nbsp;&#38;nbsp; at t/48_reader_undef_warning_on_empty_str_rt106830.t
&gt; line 33.
&gt; # Looks like you failed 1 test of 2.
&gt; t/48_reader_undef_warning_on_empty_str_rt106830.t ..
&gt; Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt; Failed 1/2 subtests
&gt; 
&gt; I think the cause is a libxml2 change in the creation of the parser
&gt; for a zero-length string. Previously, it short-circuited and treated
&gt; this case as if a NULL were passed, returning NULL. Now, a parser is
&gt; created as for any other actual string. The relevant upstream change
&gt; is probably:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50">https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50</a></span>
</div>
I&#39;m also seeing a failure in t/32xpc_variables.t:

#   Failed test &#39; TODO : Add test name&#39;
#   at t/32xpc_variables.t line 114.
# Looks like you failed 1 test of 35.
t/32xpc_variables.t ................................
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/35 subtests

Cause is probably similar.

This is on Fedora Linux &#40;same on Rawhide and ancient Fedora 13&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747602" href="/Public/Bug/Display.html?id=122958#txn-1747602">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;07&nbsp;10:20:56&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747610" href="/Public/Bug/Display.html?id=122958#txn-1747610">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;07&nbsp;12:22:01&nbsp;2017</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747610/940048/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/940048">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 511b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Út 05.zář.2017 02:40:51, dmacks@netspace.org napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think the cause is a libxml2 change in the creation of the parser
&gt; for a zero-length string. Previously, it short-circuited and treated
&gt; this case as if a NULL were passed, returning NULL. Now, a parser is
&gt; created as for any other actual string. The relevant upstream change
&gt; is probably:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50">https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50</a></span>
&gt; 
</div>I confirm both failures are triggered by this libxml2 commit.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747615" href="/Public/Bug/Display.html?id=122958#txn-1747615">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;07&nbsp;12:46:18&nbsp;2017</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747615/940055/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/940055">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Čt 07.zář.2017 12:22:01, ppisar napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dne Út 05.zář.2017 02:40:51, dmacks@netspace.org napsal&#40;a&#41;:
<div class="message-stanza open">&gt; &gt; I think the cause is a libxml2 change in the creation of the parser
&gt; &gt; for a zero-length string. Previously, it short-circuited and treated
&gt; &gt; this case as if a NULL were passed, returning NULL. Now, a parser is
&gt; &gt; created as for any other actual string. The relevant upstream change
&gt; &gt; is probably:
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50">https://github.com/GNOME/libxml2/commit/94f6ce838c6a903ef5d0251f061a3af1816b4c50</a></span>
&gt; &gt;
</div>&gt; I confirm both failures are triggered by this libxml2 commit.
</div>
This is not true, I made some mistake.

The t/48_reader_undef_warning_on_empty_str_rt106830.t is of course caused by the mentioned 94f6ce838c6a903ef5d0251f061a3af1816b4c50 commit.

But the t/32xpc_variables.t failure &#40;no exception after unregistering XPath variables&#41; is caused by commit &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4">https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4</a></span>&gt;:

commit c851970c6ec2166df804b1d551df0998de182fc4 &#40;HEAD, refs/bisect/bad&#41;
Author: Nick Wellnhofer &lt;wellnhofer@aevum.de&gt;
Date:   Sat May 27 15:26:11 2017 +0200

    Rework final handling of XPath results

    Move cleanup of XPath stack to xmlXPathFreeParserContext. This avoids
    memory leaks if valuePop fails in some error cases. Found with
    libFuzzer and ASan.

    Rework handling of the final XPath result object in
    xmlXPathCompiledEvalInternal and xmlXPathEval to avoid useless error
    messages.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1749130" href="/Public/Bug/Display.html?id=122958#txn-1749130">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;20&nbsp;09:25:51&nbsp;2017</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1749130/940898/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/940898">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Čt 07.zář.2017 12:46:18, ppisar napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But the t/32xpc_variables.t failure &#40;no exception after unregistering
&gt; XPath variables&#41; is caused by commit
&gt; &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4">https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4</a></span>&gt;:
&gt; 
</div>
I reported it to libxml2 authors &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.gnome.org/show_bug.cgi?id=787941">https://bugzilla.gnome.org/show_bug.cgi?id=787941</a></span>&gt; because I thing this is a regression.

The other test failure is just an improvement that XML-LibXML should adapt to, e.g. like this:

--- a/t/48_reader_undef_warning_on_empty_str_rt106830.t
+++ b/t/48_reader_undef_warning_on_empty_str_rt106830.t
@@ -30,9 +30,13 @@ use XML::LibXML::Reader;
     my $xml_reader = XML::LibXML::Reader-&gt;new&#40;string =&gt; $empty_xml_doc&#41;;
 
     # TEST
-    ok &#40;scalar&#40;!defined&#40;$xml_reader&#41;&#41;,
-        &#39;xml_reader is undef&#39;,
-    &#41;;
+    SKIP: {
+        skip &#39;libxml2 accepts empty strings since 2.9.5 version&#39;, 1
+            if &#40;XML::LibXML::LIBXML_VERSION&#40;&#41; &gt;= 20905&#41;;
+        ok &#40;scalar&#40;!defined&#40;$xml_reader&#41;&#41;,
+            &#39;xml_reader is undef&#39;,
+        &#41;;
+    }
 
     # TEST
     eq_or_diff&#40;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1749138" href="/Public/Bug/Display.html?id=122958#txn-1749138">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;20&nbsp;10:27:55&nbsp;2017</span>
    <span class="description">NWELLNHOF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1749138/940905/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/940905">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 621b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 20 09:25:51 2017, ppisar wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dne Čt 07.zář.2017 12:46:18, ppisar napsal&#40;a&#41;:
<div class="message-stanza open">&gt; &gt; But the t/32xpc_variables.t failure &#40;no exception after unregistering
&gt; &gt; XPath variables&#41; is caused by commit
&gt; &gt; &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4">https://github.com/GNOME/libxml2/commit/c851970c6ec2166df804b1d551df0998de182fc4</a></span>&gt;:
&gt; &gt;
</div>&gt; 
&gt; I reported it to libxml2 authors
&gt; &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.gnome.org/show_bug.cgi?id=787941">https://bugzilla.gnome.org/show_bug.cgi?id=787941</a></span>&gt; because I thing
&gt; this is a regression.
</div>
Fixed in libxml2 with <span class="clickylink"><a target="new" rel="nofollow" href="https://git.gnome.org/browse/libxml2/commit/?id=3157cf4">https://git.gnome.org/browse/libxml2/commit/?id=3157cf4</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The other test failure is just an improvement that XML-LibXML should
&gt; adapt to, e.g. like this:
</div>
Right.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1751540" href="/Public/Bug/Display.html?id=122958#txn-1751540">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;09&nbsp;10:56:44&nbsp;2017</span>
    <span class="description">mjgardner [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1751540/942332/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/942332">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 12.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1751543" href="/Public/Bug/Display.html?id=122958#txn-1751543">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;09&nbsp;10:56:46&nbsp;2017</span>
    <span class="description">mjgardner [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1751543/942335/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/942335">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 12.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.496578</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
