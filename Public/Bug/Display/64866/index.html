<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #64866 for Variable-Magic: sv.c:5980: Perl_sv_clear: Assertion `&#40;&#40;svtype&#41;&#40;&#40;sv&#41;-&gt;sv_flags &#38; 0xff&#41;&#41; != 0xff&#39; failed.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #64866 for Variable-Magic: sv.c:5980: Perl_sv_clear: Assertion `&#40;&#40;svtype&#41;&#40;&#40;sv&#41;-&gt;sv_flags &#38; 0xff&#41;&#41; != 0xff&#39; failed.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Variable-Magic/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Variable-Magic/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Variable-Magic/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Variable-Magic/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Variable-Magic">Variable-Magic CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">64866</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Variable-Magic/Active/">Variable-Magic</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jjore [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-44686-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44687-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.46    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;18&nbsp;01:46:20&nbsp;2011</span>
    <span class="description">jjore [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> sv.c:5980: Perl_sv_clear: Assertion `&#40;&#40;svtype&#41;&#40;&#40;sv&#41;-&gt;sv_flags &#38;
 0xff&#41;&#41; != 0xff&#39; failed.</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Installing on bleadperl &#40;approximately perl-5.13.8&#41; with assertions enabled:

sv.c:5980: Perl_sv_clear: Assertion `&#40;&#40;svtype&#41;&#40;&#40;sv&#41;-&gt;sv_flags &#38; 0xff&#41;&#41;
!= 0xff&#39; failed.

Transcript attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> variable-magic-bug.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ Configure\
  &#39;-Dcc=ccache cc&#39;\
  -Dld=gcc\
  -Uversiononly\
  -Dusedevel\
  -Dprefix=/tmp/perl\
  -Dusethreads\
  -DDEBUGGING\
  -Duse64bitint\
  -de

$ /tmp/perl/bin/perl -V
Summary of my perl5 &#40;revision 5 version 13 subversion 8&#41; configuration:
  Derived from: 058a5f6c07fb65259d48ba7f4bbc3adddd2bb5b1
  Platform:
    osname=linux, osvers=2.6.35-22-generic, archname=i686-linux-thread-multi-64int
    uname=&#39;linux lik 2.6.35-22-generic #35-ubuntu smp sat oct 16 20:36:48 utc 2010 i686 gnulinux &#39;
    config_args=&#39;-Dcc=ccache cc -Dld=gcc -Uversiononly -Dusedevel -Dprefix=/tmp/perl -Dusethreads -DDEBUGGING -Duse64bitint -de&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;ccache cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2 -g&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.5&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39; -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib /lib64 /usr/lib64
    libs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=/lib/libc-2.12.1.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;2.12.1&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -g -L/usr/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: DEBUGGING MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
                        PERL_TRACK_MEMPOOL PERL_USE_DEVEL USE_64_BIT_INT
                        USE_ITHREADS USE_LARGE_FILES USE_PERLIO USE_PERL_ATOF
                        USE_REENTRANT_API
  Locally applied patches:
	uncommitted-changes
  Built under linux
  Compiled at Jan 16 2011 13:09:04
  %ENV:
    PERL5LIB=&#34;/home/josh/dev/common/lib&#34;
  @INC:
    /home/josh/dev/common/lib
    /tmp/perl/lib/site_perl/5.13.8/i686-linux-thread-multi-64int
    /tmp/perl/lib/site_perl/5.13.8
    /tmp/perl/lib/5.13.8/i686-linux-thread-multi-64int
    /tmp/perl/lib/5.13.8
    /tmp/perl/lib/site_perl
    .
$ cpanm Dist::Zilla
...
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/V/VP/VPIT/Variable-Magic-0.45.tar.gz">http://search.cpan.org/CPAN/authors/id/V/VP/VPIT/Variable-Magic-0.45.tar.gz</a></span>
-&gt; OK
Unpacking Variable-Magic-0.45.tar.gz
Entering Variable-Magic-0.45
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;6.57_05&#41;
Configuring Variable-Magic-0.45
Running Makefile.PL
Checking if this is ActiveState Perl 5.8.8 build 822 or higher... no
Checking if this is gcc 3.4 on Windows trying to link against an import library... no
Checking if your kit is complete...
Looks good
Writing Makefile for Variable::Magic
Writing MYMETA.yml
-&gt; OK
Checking dependencies from MYMETA.yml ...
Finding PREREQ from Makefile ...
Checking if you have base 0 ... Yes &#40;2.15&#41;
Checking if you have XSLoader 0 ... Yes &#40;0.13&#41;
Checking if you have Exporter 0 ... Yes &#40;5.64_03&#41;
Checking if you have Carp 0 ... Yes &#40;1.19&#41;
Checking if you have base 0 ... Yes &#40;2.15&#41;
Checking if you have Test::More 0 ... Yes &#40;0.97_01&#41;
Checking if you have XSLoader 0 ... Yes &#40;0.13&#41;
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;6.57_05&#41;
Checking if you have Exporter 0 ... Yes &#40;5.64_03&#41;
Checking if you have Carp 0 ... Yes &#40;1.19&#41;
Checking if you have base 0 ... Yes &#40;2.15&#41;
Checking if you have XSLoader 0 ... Yes &#40;0.13&#41;
Checking if you have Exporter 0 ... Yes &#40;5.64_03&#41;
Checking if you have Carp 0 ... Yes &#40;1.19&#41;
Building and testing Variable-Magic-0.45
cp lib/Variable/Magic.pm blib/lib/Variable/Magic.pm
/tmp/perl/bin/perl /tmp/perl/lib/5.13.8/ExtUtils/xsubpp  -typemap /tmp/perl/lib/5.13.8/ExtUtils/typemap  Magic.xs &gt; Magic.xsc &#38;&#38; mv Magic.xsc Magic.c
ccache cc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g   -DVERSION=\&#34;0.45\&#34; -DXS_VERSION=\&#34;0.45\&#34; -fPIC &#34;-I/tmp/perl/lib/5.13.8/i686-linux-thread-multi-64int/CORE&#34;   Magic.c
Running Mkbootstrap for Variable::Magic &#40;&#41;
chmod 644 Magic.bs
rm -f blib/arch/auto/Variable/Magic/Magic.so
gcc  -shared -O2 -g -L/usr/local/lib -fstack-protector Magic.o  -o blib/arch/auto/Variable/Magic/Magic.so 	\
	     	\
	  
chmod 755 blib/arch/auto/Variable/Magic/Magic.so
cp Magic.bs blib/arch/auto/Variable/Magic/Magic.bs
chmod 644 blib/arch/auto/Variable/Magic/Magic.bs
Manifying blib/man3/Variable::Magic.3
PERL_DL_NONLAZY=1 /tmp/perl/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
# Testing Variable::Magic 0.45, Perl 5.013008 &#40;no patchlevel&#41;, /tmp/perl/bin/perl
t/00-load.t ............... ok
t/01-import.t ............. ok
t/10-simple.t ............. ok
t/11-multiple.t ........... ok
t/13-data.t ............... ok
t/14-callbacks.t .......... ok
t/15-self.t ............... ok
# Using Hash::Util::FieldHash 1.07
t/16-huf.t ................ ok
t/17-ctl.t ................ ok
t/18-opinfo.t ............. ok
t/20-get.t ................ ok
t/21-set.t ................ ok
t/22-len.t ................ ok
t/23-clear.t .............. ok
t/24-free.t ............... ok
# Using Tie::Array 1.04
# Using Tie::Hash 1.04
t/25-copy.t ............... ok
t/27-local.t .............. ok
# Using Tie::Hash 1.04
t/28-uvar.t ............... ok
# Using Tie::Array 1.04
t/30-scalar.t ............. ok
t/31-array.t .............. ok
perl: sv.c:5980: Perl_sv_clear: Assertion `&#40;&#40;svtype&#41;&#40;&#40;sv&#41;-&gt;sv_flags &#38; 0xff&#41;&#41; != 0xff&#39; failed.
t/32-hash.t ............... 
Failed 1/64 subtests 
t/33-code.t ............... ok
# Using Symbol 1.07
t/34-glob.t ............... ok
t/35-stash.t .............. ok
# Using threads 1.83
# Using threads::shared 1.36
t/40-threads.t ............ ok
# Using threads 1.83
# Using threads::shared 1.36
t/41-clone.t .............. ok
t/80-leaks.t .............. ok
t/91-pod.t ................ ok
t/92-pod-coverage.t ....... ok
t/95-portability-files.t .. skipped: Test::Portability::Files required for testing filenames portability
t/99-kwalitee.t ........... skipped: Test::Kwalitee not installed

Test Summary Report
-------------------
t/32-hash.t             &#40;Wstat: 6 Tests: 63 Failed: 0&#41;
  Non-zero wait status: 6
  Parse errors: Bad plan.  You planned 64 tests but ran 63.
Files=31, Tests=1176,  7 wallclock secs &#40; 1.36 usr  0.16 sys +  6.46 cusr  0.49 csys =  8.47 CPU&#41;
Result: FAIL
Failed 1/31 test programs. 0/1176 subtests failed.
make: *** [test_dynamic] Error 255
-&gt; FAIL Installing Variable::Magic failed. See /home/josh/.cpanm/build.log for details.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;05:04:21&nbsp;2011</span>
    <span class="description">vpit [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for your report. This has been fixed in version 0.46.


Vincent.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;05:04:22&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;05:04:56&nbsp;2011</span>
    <span class="description">vpit [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;05:04:56&nbsp;2011</span>
    <span class="description">vpit [...] cpan.org -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;05:04:56&nbsp;2011</span>
    <span class="description">vpit [...] cpan.org -  Fixed in 0.46 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
