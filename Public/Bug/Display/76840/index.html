<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #76840 for HTTP-ProxyAutoConfig: My perl script stalls. There is no return</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #76840 for HTTP-ProxyAutoConfig: My perl script stalls. There is no return</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/HTTP-ProxyAutoConfig/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/HTTP-ProxyAutoConfig/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/HTTP-ProxyAutoConfig/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/HTTP-ProxyAutoConfig/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTTP-ProxyAutoConfig">HTTP-ProxyAutoConfig CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">76840</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/HTTP-ProxyAutoConfig/Active/">HTTP-ProxyAutoConfig</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MACKENNA [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mailforsachin [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-16374-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.3    </td>
  </tr>
  <tr id="CF-16375-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;05:16:04&nbsp;2012</span>
    <span class="description">mailforsachin [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> My perl script stalls. There is no return</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi There,

I am using version 0.3.
When I run the code below:-

use lib &#34;.&#34;;
use HTTP::ProxyAutoConfig;

my $pac = new HTTP::ProxyAutoConfig&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://myproxyfile//proxypac.cgi">http://myproxyfile//proxypac.cgi</a></span>&#34;&#41;;

print $pac-&gt;FindProxy&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com">https://www.google.com</a></span>&#34;&#41;,&#34;\n&#34;;
print $pac-&gt;FindProxy&#40;&#34;ftp://ftp.redhat.com&#34;&#41;,&#34;\n&#34;;
print $pac-&gt;FindProxy&#40;&#34;www.yahoo.com&#34;&#41;,&#34;\n&#34;;

--&gt;It simply stalls and waits on forever.

Here is my Perl version:

This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for
MSWin32-x86-multi-t
hread
&#40;with 1 registered patch, see perl -V for more detail&#41;

Copyright 1987-2011, Larry Wall

OS: WinXP

So, I downloaded the pac file and then used it locally as in:

use lib &#34;.&#34;;
use HTTP::ProxyAutoConfig;

my $pac = new HTTP::ProxyAutoConfig&#40;&#34;c:/work/AUTO.cgi&#34;&#41;;

print $pac-&gt;FindProxy&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com">https://www.google.com</a></span>&#34;&#41;,&#34;\n&#34;;
print $pac-&gt;FindProxy&#40;&#34;ftp://ftp.redhat.com&#34;&#41;,&#34;\n&#34;;
print $pac-&gt;FindProxy&#40;&#34;www.yahoo.com&#34;&#41;,&#34;\n&#34;;


Here is the message:

C:\work\Personal Documents\Perl\bin&gt;perl auto_proxy.pl
Bad JavaScript-&gt;perl translation.
Please notify the co-maintainer of HTTP::ProxyAutoConfig:
Can&#39;t use global $2 in &#34;my&#34; at &#40;eval 6&#41; line 3, near &#34;,$2&#34;
Global symbol &#34;$octets&#34; requires explicit package name at &#40;eval 6&#41; line 3.
Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
line 3.
Global symbol &#34;$var&#34; requires explicit package name at &#40;eval 6&#41; line 3.
Global symbol &#34;$BrowserAddr&#34; requires explicit package name at &#40;eval 6&#41;
line 3.
Global symbol &#34;$BrowserAddr&#34; requires explicit package name at &#40;eval 6&#41;
line 31.

Global symbol &#34;$octets&#34; requires explicit package name at &#40;eval 6&#41; line 32.
Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
line 40.
Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
line 42.


Please assist.
I was able to use the same pac file to get the correct proxy server
using another tool called pactester available on Google code.

Thanks,
Sash
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;13:30:46&nbsp;2012</span>
    <span class="description">MACKENNA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">In the first case, probably you didn&#39;t actually use &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://myproxyfile//proxypac.cgi">http://myproxyfile//proxypac.cgi</a></span>&#34;, right?
Is there a URL accessible from the internet that I can try, to see where/how/why it hangs?

In the second case, can you please send me the file &#34;c:/work/AUTO.cgi&#34;?
Why does this have suffix &#34;.cgi&#34;?  In the first case I assumed you had a CGI script that sent a 
.pac file.

If you&#39;re in a hurry to get something going, you can try HTTP::ProxyPAC as an alternative.
It has approximately the same functionality, but depends on one of two JavaScript 
interpreter modules that you have to download and install.

Sorry about this problem,
Craig MacKenna
craig@animalhead.com

On Fri Apr 27 05:16:04 2012, sashsheen wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi There,
&gt; 
&gt; I am using version 0.3.
&gt; When I run the code below:-
&gt; 
&gt; use lib &#34;.&#34;;
&gt; use HTTP::ProxyAutoConfig;
&gt; 
&gt; my $pac = new HTTP::ProxyAutoConfig&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://myproxyfile//proxypac.cgi">http://myproxyfile//proxypac.cgi</a></span>&#34;&#41;;
&gt; 
&gt; print $pac-&gt;FindProxy&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com">https://www.google.com</a></span>&#34;&#41;,&#34;\n&#34;;
&gt; print $pac-&gt;FindProxy&#40;&#34;ftp://ftp.redhat.com&#34;&#41;,&#34;\n&#34;;
&gt; print $pac-&gt;FindProxy&#40;&#34;www.yahoo.com&#34;&#41;,&#34;\n&#34;;
&gt; 
&gt; --&gt;It simply stalls and waits on forever.
&gt; 
&gt; Here is my Perl version:
&gt; 
&gt; This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for
&gt; MSWin32-x86-multi-t
&gt; hread
&gt; &#40;with 1 registered patch, see perl -V for more detail&#41;
&gt; 
&gt; Copyright 1987-2011, Larry Wall
&gt; 
&gt; OS: WinXP
&gt; 
&gt; So, I downloaded the pac file and then used it locally as in:
&gt; 
&gt; use lib &#34;.&#34;;
&gt; use HTTP::ProxyAutoConfig;
&gt; 
&gt; my $pac = new HTTP::ProxyAutoConfig&#40;&#34;c:/work/AUTO.cgi&#34;&#41;;
&gt; 
&gt; print $pac-&gt;FindProxy&#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com">https://www.google.com</a></span>&#34;&#41;,&#34;\n&#34;;
&gt; print $pac-&gt;FindProxy&#40;&#34;ftp://ftp.redhat.com&#34;&#41;,&#34;\n&#34;;
&gt; print $pac-&gt;FindProxy&#40;&#34;www.yahoo.com&#34;&#41;,&#34;\n&#34;;
&gt; 
&gt; 
&gt; Here is the message:
&gt; 
&gt; C:\work\Personal Documents\Perl\bin&gt;perl auto_proxy.pl
&gt; Bad JavaScript-&gt;perl translation.
&gt; Please notify the co-maintainer of HTTP::ProxyAutoConfig:
&gt; Can&#39;t use global $2 in &#34;my&#34; at &#40;eval 6&#41; line 3, near &#34;,$2&#34;
&gt; Global symbol &#34;$octets&#34; requires explicit package name at &#40;eval 6&#41; line 3.
&gt; Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
&gt; line 3.
&gt; Global symbol &#34;$var&#34; requires explicit package name at &#40;eval 6&#41; line 3.
&gt; Global symbol &#34;$BrowserAddr&#34; requires explicit package name at &#40;eval 6&#41;
&gt; line 3.
&gt; Global symbol &#34;$BrowserAddr&#34; requires explicit package name at &#40;eval 6&#41;
&gt; line 31.
&gt; 
&gt; Global symbol &#34;$octets&#34; requires explicit package name at &#40;eval 6&#41; line 32.
&gt; Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
&gt; line 40.
&gt; Global symbol &#34;$ServerAddr&#34; requires explicit package name at &#40;eval 6&#41;
&gt; line 42.
&gt; 
&gt; 
&gt; Please assist.
&gt; I was able to use the same pac file to get the correct proxy server
&gt; using another tool called pactester available on Google code.
&gt; 
&gt; Thanks,
&gt; Sash
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;13:30:47&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;13:30:47&nbsp;2012</span>
    <span class="description">MACKENNA [...] cpan.org -  Given to MACKENNA</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
