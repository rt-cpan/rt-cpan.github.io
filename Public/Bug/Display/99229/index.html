<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #99229 for PAR: Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #99229 for PAR: Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PAR">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PAR">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PAR">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PAR">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR">PAR CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">99229</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PAR">PAR</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sergio.fanchiotti [...] standardandpoors.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24530-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24531-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=99229">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1416598" href="/Public/Bug/Display.html?id=99229#txn-1416598">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;30&nbsp;12:11:10&nbsp;2014</span>
    <span class="description">sergio.fanchiotti [...] standardandpoors.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 30 Sep 2014 12:10:56 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-par [...] rt.cpan.org&#34; &lt;bug-par [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Fanchiotti, Sergio&#34; &lt;sergio.fanchiotti [...] standardandpoors.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1416598/752072/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/752072">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear PAR::Packer Maintainers,

I ran into an issue when trying to build an executable from a Perl script under Windows 7 &#40;64 and 32 bits&#41; using Strawberry Perl 5.20.1 &#40;and 5.16 also&#41; which seems to be caused by the use of an updated  version of gcc in the MinGW package that is included in the distribution.  When I wanted to run the par generated executable on a machine where strawberry perl was not installed  it  complained that libwinpthreads-1.dll  was missing during the unpacking stage. After a bit of testing the source of the problem was that  myldr was not including this library when building the executable. A change in the Makefile.PL file as shown below fixed the problem &#40;not very elegantly&#41;. The missing dll breaks the portability of the executable and would ruin the purpose of building executable distributions.

Thanks for the fantastic PAR mechanism!

Regards,

  Sergio

PS: The PAR::Packer does not pass all tests either under Windows 7 so I had to install it using the notest option. I wonder if this is related this problem also.

Changes in myldr/Makefile.PL

&lt; my &#40;$libgcc, $libstdcpp&#41;;
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; my &#40;$libgcc, $libstdcpp, $libwpt&#41;;
</div>248a249
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     $libwpt = find_dll&#40;&#34;libwinpthread*.$Config{so}&#34;&#41;;
</div>261a263
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       $libwpt,
</div>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________
The information contained in this message is intended only for the recipient, and may be a confidential attorney-client communication or may otherwise be privileged and confidential and protected from disclosure. If the reader of this message is not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, please be aware that any dissemination or copying of this communication is strictly prohibited. If you have received this communication in error, please immediately notify us by replying to the message and deleting it from your computer. McGraw Hill Financial reserves the right, subject to applicable local law, to monitor, review and process the content of any electronic message or information sent to or from McGraw Hill Financial e-mail addresses without informing the sender or recipient of the message. By sending electronic message or information to McGraw Hill Financial e-mail addresses you, as the sender, are consenting to McGraw Hill Financial processing any of your personal data therein.
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1416598/752073/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/752073">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1416729" href="/Public/Bug/Display.html?id=99229#txn-1416729">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;30&nbsp;18:36:49&nbsp;2014</span>
    <span class="description">mikeflan [...] att.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #99229] Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 30 Sep 2014 17:47:17 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> par [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike Flannigan &lt;mikeflan [...] att.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1416729/752154/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/752154">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
It could be related to the problem I am having.  I&#39;d like to try
it, but I couldn&#39;t figure out how to install with the no test
option.


Mike


On 9/30/2014 11:11 AM, par-digest-help@perl.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Sep 30 12:11:10 2014: Request 99229 was acted upon.
&gt; Transaction: Ticket created bysergio.fanchiotti@standardandpoors.com
&gt;         Queue: PAR
&gt;       Subject: Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: &#40;no value&#41;
&gt;         Owner: Nobody
&gt;    Requestors:sergio.fanchiotti@standardandpoors.com
&gt;        Status: new
&gt;   Ticket &lt;URL:<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=99229">https://rt.cpan.org/Ticket/Display.html?id=99229</a></span>  &gt;
&gt;
&gt;
&gt; Dear PAR::Packer Maintainers,
&gt;
&gt; I ran into an issue when trying to build an executable from a Perl script under Windows 7 &#40;64 and 32 bits&#41; using Strawberry Perl 5.20.1 &#40;and 5.16 also&#41; which seems to be caused by the use of an updated  version of gcc in the MinGW package that is included in the distribution.  When I wanted to run the par generated executable on a machine where strawberry perl was not installed  it  complained that libwinpthreads-1.dll  was missing during the unpacking stage. After a bit of testing the source of the problem was that  myldr was not including this library when building the executable. A change in the Makefile.PL file as shown below fixed the problem &#40;not very elegantly&#41;. The missing dll breaks the portability of the executable and would ruin the purpose of building executable distributions.
&gt;
&gt; Thanks for the fantastic PAR mechanism!
&gt;
&gt; Regards,
&gt;
&gt;    Sergio
</div>
PS: The PAR::Packer does not pass all tests either under Windows 7 so I had to install it using the notest option. I wonder if this is related this problem also.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1416730" href="/Public/Bug/Display.html?id=99229#txn-1416730">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;30&nbsp;18:36:50&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1416778" href="/Public/Bug/Display.html?id=99229#txn-1416778">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;30&nbsp;22:15:56&nbsp;2014</span>
    <span class="description">sergio.fanchiotti [...] standardandpoors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #99229] Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 30 Sep 2014 22:15:41 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR [...] rt.cpan.org&#34; &lt;bug-PAR [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Fanchiotti, Sergio&#34; &lt;sergio.fanchiotti [...] standardandpoors.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1416778/752187/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/752187">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Mike,

Just run cpan and type notest install PAR::Packer

Sergio

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Mike Flannigan via RT [mailto:bug-PAR@rt.cpan.org]
Sent: Tuesday, September 30, 2014 6:37 PM
To: Fanchiotti, Sergio
Subject: Re: [rt.cpan.org #99229] Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=99229">https://rt.cpan.org/Ticket/Display.html?id=99229</a></span> &gt;


It could be related to the problem I am having.  I&#39;d like to try it, but I couldn&#39;t figure out how to install with the no test option.


Mike


On 9/30/2014 11:11 AM, par-digest-help@perl.org wrote:
<div class="message-stanza open">&gt; Tue Sep 30 12:11:10 2014: Request 99229 was acted upon.
&gt; Transaction: Ticket created bysergio.fanchiotti@standardandpoors.com
&gt;         Queue: PAR
&gt;       Subject: Problem with PAR::Packer 1.022 on Perl 5.20.1 and earlier.
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: &#40;no value&#41;
&gt;         Owner: Nobody
&gt;    Requestors:sergio.fanchiotti@standardandpoors.com
&gt;        Status: new
&gt;   Ticket &lt;URL:<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=99229">https://rt.cpan.org/Ticket/Display.html?id=99229</a></span>  &gt;
&gt;
&gt;
&gt; Dear PAR::Packer Maintainers,
&gt;
&gt; I ran into an issue when trying to build an executable from a Perl script under Windows 7 &#40;64 and 32 bits&#41; using Strawberry Perl 5.20.1 &#40;and 5.16 also&#41; which seems to be caused by the use of an updated  version of gcc in the MinGW package that is included in the distribution.  When I wanted to run the par generated executable on a machine where strawberry perl was not installed  it  complained that libwinpthreads-1.dll  was missing during the unpacking stage. After a bit of testing the source of the problem was that  myldr was not including this library when building the executable. A change in the Makefile.PL file as shown below fixed the problem &#40;not very elegantly&#41;. The missing dll breaks the portability of the executable and would ruin the purpose of building executable distributions.
&gt;
&gt; Thanks for the fantastic PAR mechanism!
&gt;
&gt; Regards,
&gt;
&gt;    Sergio
</div>
PS: The PAR::Packer does not pass all tests either under Windows 7 so I had to install it using the notest option. I wonder if this is related this problem also.




The information contained in this message is intended only for the recipient, and may be a confidential attorney-client communication or may otherwise be privileged and confidential and protected from disclosure. If the reader of this message is not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, please be aware that any dissemination or copying of this communication is strictly prohibited. If you have received this communication in error, please immediately notify us by replying to the message and deleting it from your computer. McGraw Hill Financial reserves the right, subject to applicable local law, to monitor, review and process the content of any electronic message or information sent to or from McGraw Hill Financial e-mail addresses without informing the sender or recipient of the message. By sending electronic message or information to McGraw Hill Financial e-mail addresses you, as the sender, are consenting to McGraw Hill Financial processing any of your personal data therein.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1419716" href="/Public/Bug/Display.html?id=99229#txn-1419716">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;10&nbsp;15:39:23&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1419717" href="/Public/Bug/Display.html?id=99229#txn-1419717">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;10&nbsp;15:44:23&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1419717/753817/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/753817">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 346b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-09-30 12:11:10, sergio.fanchiotti@standardandpoors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Changes in myldr/Makefile.PL
&gt; 
&gt; &lt; my &#40;$libgcc, $libstdcpp&#41;;
&gt; ---
<div class="message-stanza open">&gt; &gt; my &#40;$libgcc, $libstdcpp, $libwpt&#41;;
</div>&gt; 248a249
<div class="message-stanza open">&gt; &gt; $libwpt = find_dll&#40;&#34;libwinpthread*.$Config{so}&#34;&#41;;
</div>&gt; 261a263
<div class="message-stanza open">&gt; &gt; $libwpt,
</div></div>
Thanks, applied - will be in the next release of PAR::Packer.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1419721" href="/Public/Bug/Display.html?id=99229#txn-1419721">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;10&nbsp;15:44:25&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1428052" href="/Public/Bug/Display.html?id=99229#txn-1428052">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;17:09:05&nbsp;2014</span>
    <span class="description">snaphat [...] gmail.com -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1428053" href="/Public/Bug/Display.html?id=99229#txn-1428053">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;17:12:25&nbsp;2014</span>
    <span class="description">snaphat [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaphat [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1428053/758702/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/758702">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 30 12:11:10 2014, sergio.fanchiotti@standardandpoors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dear PAR::Packer Maintainers,
&gt; 
&gt; I ran into an issue when trying to build an executable from a Perl
&gt; script under Windows 7 &#40;64 and 32 bits&#41; using Strawberry Perl 5.20.1
&gt; &#40;and 5.16 also&#41; which seems to be caused by the use of an updated
&gt; version of gcc in the MinGW package that is included in the
&gt; distribution.  When I wanted to run the par generated executable on a
&gt; machine where strawberry perl was not installed  it  complained that
&gt; libwinpthreads-1.dll  was missing during the unpacking stage. After a
&gt; bit of testing the source of the problem was that  myldr was not
&gt; including this library when building the executable. A change in the
&gt; Makefile.PL file as shown below fixed the problem &#40;not very
&gt; elegantly&#41;. The missing dll breaks the portability of the executable
&gt; and would ruin the purpose of building executable distributions.
&gt; 
&gt; Thanks for the fantastic PAR mechanism!
&gt; 
&gt; Regards,
&gt; 
&gt; Sergio
&gt; 
&gt; PS: The PAR::Packer does not pass all tests either under Windows 7 so
&gt; I had to install it using the notest option. I wonder if this is
&gt; related this problem also.
&gt; 
&gt; Changes in myldr/Makefile.PL
&gt; 
&gt; &lt; my &#40;$libgcc, $libstdcpp&#41;;
&gt; ---
<div class="message-stanza open">&gt; &gt; my &#40;$libgcc, $libstdcpp, $libwpt&#41;;
</div>&gt; 248a249
<div class="message-stanza open">&gt; &gt; $libwpt = find_dll&#40;&#34;libwinpthread*.$Config{so}&#34;&#41;;
</div>&gt; 261a263
<div class="message-stanza open">&gt; &gt; $libwpt,
</div>&gt; 
&gt; 
&gt; ________________________________
&gt; The information contained in this message is intended only for the
&gt; recipient, and may be a confidential attorney-client communication or
&gt; may otherwise be privileged and confidential and protected from
&gt; disclosure. If the reader of this message is not the intended
&gt; recipient, or an employee or agent responsible for delivering this
&gt; message to the intended recipient, please be aware that any
&gt; dissemination or copying of this communication is strictly prohibited.
&gt; If you have received this communication in error, please immediately
&gt; notify us by replying to the message and deleting it from your
&gt; computer. McGraw Hill Financial reserves the right, subject to
&gt; applicable local law, to monitor, review and process the content of
&gt; any electronic message or information sent to or from McGraw Hill
&gt; Financial e-mail addresses without informing the sender or recipient
&gt; of the message. By sending electronic message or information to McGraw
&gt; Hill Financial e-mail addresses you, as the sender, are consenting to
&gt; McGraw Hill Financial processing any of your personal data therein.
</div>
In the patch for this bug in v1.023 you accidentally messed up the name of the lib so it doesn&#39;t match it:

    $libwinpthread = find_dll&#40;&#34;libwinpthreads*.$Config{so}&#34;&#41;;

should be:

    $libwinpthread = find_dll&#40;&#34;libwinpthread*.$Config{so}&#34;&#41;;

:-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1430514" href="/Public/Bug/Display.html?id=99229#txn-1430514">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;07&nbsp;03:55:54&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1430514/760294/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/760294">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 360b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-11-02 17:12:25, snaphat@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In the patch for this bug in v1.023 you accidentally messed up the
&gt; name of the lib so it doesn&#39;t match it:
&gt; 
&gt; $libwinpthread = find_dll&#40;&#34;libwinpthreads*.$Config{so}&#34;&#41;;
&gt; 
&gt; should be:
&gt; 
&gt; $libwinpthread = find_dll&#40;&#34;libwinpthread*.$Config{so}&#34;&#41;;
</div>
Thanks for pointing out, fixed in 1.024.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1430518" href="/Public/Bug/Display.html?id=99229#txn-1430518">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;07&nbsp;03:55:55&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.480861</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
