<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #65437 for Alien-QtSmoke: Installatiob On Windows</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #65437 for Alien-QtSmoke: Installatiob On Windows</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Alien-QtSmoke">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Alien-QtSmoke">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Alien-QtSmoke">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Alien-QtSmoke">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Alien-QtSmoke">Alien-QtSmoke CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">65437</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Alien-QtSmoke">Alien-QtSmoke</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
DJIBEL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
chrisburel [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-230806-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
4.3.3    </td>
  </tr>
  <tr id="CF-230807-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Makefile.PL<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/892131/462485/Makefile.PL">
Thu Feb 03 19:13:58 2011 (4.8k) by DJIBEL [...] cpan.org
</a>
</font></li>
</ul>


QtSmoke.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/892131/462484/QtSmoke.pm">
Thu Feb 03 19:13:58 2011 (943b) by DJIBEL [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=65437">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-892131" href="/Public/Bug/Display.html?id=65437#txn-892131">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;03&nbsp;19:13:58&nbsp;2011</span>
    <span class="description">DJIBEL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> chrisburel [...] gmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Installatiob On Windows</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/892131/462483/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/462483">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear,

- I have perl 5.10 built 1008 on Windows Vista system
- I have installed QT SDK 4.5.5 &#40;C:\Qt\2010.05&#41;
- I have installed cmake : cmake-2.8.3-win32-x86
- I have update MakeFile.PL to allow download of kdebindings files with
4.5.5 version.
- I have changed extract_kdebindings to allow extraction on Windows
system using Archive::Extract. I have join the makefile.pl programme
updated.
But the cmake command system failed.


==========================================
C:\Alien-QtSmoke-4.5.5&gt;perl Makefile.PL
Set up gcc environment - 4.3.3
Attempting to download kdebindings source package
from
<span class="clickylink"><a target="new" rel="nofollow" href="http://chernabog.cc.vt.edu/pub/projects/kde/stable/4.5.5/src/kdebindings-4.5.5.tar.bz2">http://chernabog.cc.vt.edu/pub/projects/kde/stable/4.5.5/src/kdebindings-4.5.5.tar.bz2</a></span>

Successfully downloaded kdebindings source.

Extraction of C:\Alien-QtSmoke-4.5.5\src\kdebindings-4.5.5.tar.bz2
Successfully extracted  kdebindings source.

Build kdebindings in C:\Alien-QtSmoke-4.5.5\src\kdebindings-4.5.5\build

Run : cmake ..
-DCMAKE_INSTALL_PREFIX=C:\Alien-QtSmoke-4.5.5\lib\Alien\QtSmoke
-DENABLE_SMOKE=on -DENABLE_QTRUBY=off -DENABLE_QTWEBKIT_SMOKE=off
-DENABLE_QTSCRIPT_SMOKE=off -DENABLE_QTUITOOLS_SMOKE=off
-DENABLE_QTTEST_SMOKE=off -DENABLE_PHONON_SMOKE=off -DENABLE_QSCI_SM
OKE=off -DENABLE_QWT_SMOKE=off -DENABLE_KDE_SMOKE=off
-DENABLE_KDEVPLATFORM_SMOKE=off -DENABLE_KHTML_SMOKE=off
-DENABLE_KTEXTEDITOR_SMOKE=off -DENABLE_SOLID_SMOKE=off
-DENABLE_PLASMA_SMOKE=off -DENABLE_QTWEBKIT_RUBY=off
-DENABLE_QTUITOOLS_RUBY=off -DENABLE_QTSCRIPT=off
-DENABLE_QTTEST=off -DENABLE_PHONON_RUBY=off
-DENABLE_QSCINTILLA_RUBY=off -DENABLE_QWT_RUBY=off
-DENABLE_SOPRANO_RUBY=off -DENABLE_KDEVPLATFORM_RUBY=off
-DENABLE_KORUNDUM_RUBY=off -DENABLE_KHTML_RUBY=off
-DENABLE_KTEXTEDITOR_RUBY=off -DENABLE_SOLID_RUBY=off -DENABLE_KRO
SSRUBY=off -DENABLE_PLASMA_RUBY=off -DENABLE_QIMAGEBLITZ_SMOKE=off -Wno-dev


-- Building for: NMake Makefiles
CMake Warning at CMakeLists.txt:1 &#40;project&#41;:
  To use the NMake generator, cmake must be run from a shell that can
use the
  compiler cl from the command line.  This environment does not contain
  INCLUDE, LIB, or LIBPATH, and these must be set for the cl compiler to
  work.


-- The C compiler identification is unknown
-- The CXX compiler identification is unknown
CMake Warning at C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/Platform/Windows-cl.cmake:28 &#40;ENABLE_LANGUAGE&#41;:
  To use the NMake generator, cmake must be run from a shell that can
use the
  compiler cl from the command line.  This environment does not contain
  INCLUDE, LIB, or LIBPATH, and these must be set for the cl compiler to
  work.
Call Stack &#40;most recent call first&#41;:
  C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/CMakeCInformation.cmake:60 &#40;INCLUDE&#41;
  CMakeLists.txt:1 &#40;project&#41;


CMake Error: your RC compiler: &#34;CMAKE_RC_COMPILER-NOTFOUND&#34; was not
found.   Please set CMAKE_RC_COMPILER to a valid compiler path or name.
-- Check for CL compiler version
-- Check for CL compiler version - failed
-- Check if this is a free VC compiler
-- Check if this is a free VC compiler - yes
-- Using FREE VC TOOLS, NO DEBUG available
-- Check for working C compiler: cl
CMake Warning at CMakeLists.txt:2 &#40;PROJECT&#41;:
  To use the NMake generator, cmake must be run from a shell that can
use the
  compiler cl from the command line.  This environment does not contain
  INCLUDE, LIB, or LIBPATH, and these must be set for the cl compiler to
  work.


CMake Warning at C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/Platform/Windows-cl.cmake:28 &#40;ENABLE_LANGUAGE&#41;:
  To use the NMake generator, cmake must be run from a shell that can
use the
  compiler cl from the command line.  This environment does not contain
  INCLUDE, LIB, or LIBPATH, and these must be set for the cl compiler to
  work.
Call Stack &#40;most recent call first&#41;:
  C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/CMakeCInformation.cmake:60 &#40;INCLUDE&#41;
  CMakeLists.txt:2 &#40;PROJECT&#41;


CMake Error at C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/CMakeRCInformation.cmake:22
&#40;GET_FILENAME_COMPONENT&#41;:
  get_filename_component called with incorrect number of arguments
Call Stack &#40;most recent call first&#41;:
  C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/Platform/Windows-cl.cmake:28 &#40;ENABLE_LANGUAGE&#41;
  C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/CMakeCInformation.cmake:60 &#40;INCLUDE&#41;
  CMakeLists.txt:2 &#40;PROJECT&#41;


CMake Error: CMAKE_RC_COMPILER not set, after EnableLanguage
CMake Error: your C compiler: &#34;cl&#34; was not found.   Please set
CMAKE_C_COMPILER to a valid compiler path or name.
CMake Error: Internal CMake error, TryCompile configure of cmake failed
-- Check for working C compiler: cl -- broken
CMake Error at C:/Program Files/CMake
2.8/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:52 &#40;MESSAGE&#41;:
  The C compiler &#34;cl&#34; is not able to compile a simple test program.

  It fails with the following output:





  CMake will not be able to correctly generate this project.
Call Stack &#40;most recent call first&#41;:
  CMakeLists.txt:1 &#40;project&#41;


CMake Error: your C compiler: &#34;cl&#34; was not found.   Please set
CMAKE_C_COMPILER to a valid compiler path or name.
CMake Error: your CXX compiler: &#34;cl&#34; was not found.   Please set
CMAKE_CXX_COMPILER to a valid compiler path or name.
-- Configuring incomplete, errors occurred!

C:\Alien-QtSmoke-4.5.5&gt;
=====================================================

Can you help me ?

C:\Alien-QtSmoke-4.5.5&gt;echo %PATH%
C:\Program
Files\ImageMagick-6.6.2-Q16;C:\Perl\site\bin;C:\Perl\bin;C:\Program
Files\Common Files\Microsoft Shared\Windows
Live;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\hp\bin\Python;c:\Program
Files\Common Files\Roxio Shared\DLLShared\;C:\Program File
s\Subversion\bin;C:\Program
Files\Java\jdk1.6.0_17\bin;c:\www\php-5;c:\www\apache-2.2\bin;C:\www\mysql\bin;C:\Program
Files\Smart
Projects\IsoBuster;C:\gcc\bin;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
Files\Windows Live\Shared;C:\Progra
m Files\QuickTime\QTSystem\;C:\Program Files\CMake 2.8\bin

Best regards,

DJIBEL
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> QtSmoke.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/892131/462484/QtSmoke.pm">Download QtSmoke.pm</a><br />
<span class="downloadcontenttype">text/x-perl 943b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">package Alien::QtSmoke;
use strict;
use warnings;

use File::Spec;

our $VERSION = &#39;4.5.5&#39;;

my $prefix;

sub prefix {
  return $prefix if $prefix;

  my $ext = &#39;.pm&#39;;
  $prefix = join &#39;/&#39;, split &#39;::&#39;, __PACKAGE__;
  $prefix = File::Spec-&gt;rel2abs&#40; $INC{ $prefix . $ext } &#41;;
  $prefix =~ s/$ext$//;

  return $prefix;
}

sub lib {
  my $class = shift;
  File::Spec-&gt;catdir&#40; $class-&gt;prefix, &#39;lib&#39; &#41;;
}

sub include {
  my $class = shift;
  File::Spec-&gt;catdir&#40; $class-&gt;prefix, &#39;include&#39; &#41;;
}

sub version {
  return $VERSION;
}

1;

__END__

=head1 NAME

Alien::QtSmoke

=head1 SYNOPSIS

    use Alien::QtSmoke;

    my $prefix  = Alien::QtSmoke-&gt;prefix;
    my $include = Alien::QtSmoke-&gt;include;
    my $lib     = Alien::QtSmoke-&gt;lib;
    my $ver     = Alien::QtSmoke-&gt;ver;

=head1 DESCRIPTION

This module takes care of detecting configuration settings of the QtSmoke
library.

=cut

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile.PL</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/892131/462485/Makefile.PL">Download Makefile.PL</a><br />
<span class="downloadcontenttype">text/x-perl 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl

use strict;
use warnings;

use lib &#39;lib&#39;;
use Alien::QtSmoke;
use Cwd;
use File::Fetch;
use File::Path;
use File::Spec;
use ExtUtils::MakeMaker;

my $OS = $^O;

my $CWD = Cwd::cwd&#40;&#41;;
main&#40;&#41;;

sub main {

  # Get kdebindings files
  my $src = fetch_kdebindings&#40;&#41;;

  # Extract compressed file
  extract_kdebindings&#40;$src&#41;;

  chdir $CWD;

  # Build kdebindings
  build_kdebindings&#40;&#41;;

  # ==========&gt; move return if build ok &lt;====================
  return;

  chdir $CWD;

  # Write Makefile
  WriteMakefile&#40;
    NAME         =&gt; &#39;Alien::QtSmoke&#39;,
    VERSION_FROM =&gt; &#39;lib/Alien/QtSmoke.pm&#39;,
    AUTHOR       =&gt; &#39;Chris Burel &lt;chrisburel[at]gmail[dot]com&gt;&#39;,
    ABSTRACT     =&gt; &#39;Builds the QtSmoke library&#39;
  &#41;;

  return;
}

sub fetch_kdebindings {
  my $version = Alien::QtSmoke-&gt;version&#40;&#41;;

  my $downloadDir = File::Spec-&gt;catdir&#40; $CWD, &#39;src&#39; &#41;;

  my @mirrors = &#40;
    &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://chernabog.cc.vt.edu/pub/projects&#39;">http://chernabog.cc.vt.edu/pub/projects&#39;</a></span>,    &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://ftp.gtlib.cc.gatech.edu/pub&#39;">http://ftp.gtlib.cc.gatech.edu/pub&#39;</a></span>,
    &#39;ftp://carroll.aset.psu.edu/pub&#39;,             &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://kde.mirrors.tds.net/pub&#39;">http://kde.mirrors.tds.net/pub&#39;</a></span>,
    &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://ibiblio.org/pub/mirrors&#39;">http://ibiblio.org/pub/mirrors&#39;</a></span>,             &#39;ftp://ftp.ussg.iu.edu/pub&#39;,
    &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirror.cc.columbia.edu/pub/software&#39;">http://mirror.cc.columbia.edu/pub/software&#39;</a></span>, &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.isc.org/pub&#39;">http://mirrors.isc.org/pub&#39;</a></span>,
    &#39;ftp://chernabog.cc.vt.edu/pub/projects&#39;,     &#39;ftp://ibiblio.org/pub/mirrors&#39;,
    &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://ftp.ussg.iu.edu">http://ftp.ussg.iu.edu</a></span>&#39;,                     &#39;ftp://kde.mirrors.tds.net/pub&#39;,
    &#39;ftp://ftp.gtlib.cc.gatech.edu/pub&#39;,
  &#41;;

  foreach my $url &#40;@mirrors&#41; {
    $url .= &#34;/kde/stable/$version/src/kdebindings-$version.tar.bz2&#34;;

    print &#34;Attempting to download kdebindings source package\n&#34;;
    print &#34;from $url\n\n&#34;;
    my $ff = File::Fetch-&gt;new&#40; uri =&gt; $url &#41; or next;
    my $loc = $ff-&gt;fetch&#40; to =&gt; $downloadDir &#41; or next;

    next if &#40; !$loc || $ff-&gt;error&#40;&#41; &#41;;

    print &#34;Successfully downloaded kdebindings source.\n\n&#34;;
    return $loc;
  }

  die &#39;Unable to fetch kdebinding source.&#39;;
}

sub extract_kdebindings {
  my $file = shift;

  print &#34;Extraction of $file\n&#34;;

  if &#40; !-e $file &#41; { die &#34;not file to extracts\n&#34;; }

  my $src_dir = File::Spec-&gt;catdir&#40; $CWD, &#39;src&#39; &#41;;
  if &#40; $OS ne &#39;MSWin32&#39; &#41; {
    chdir $src_dir;
    my $command = &#34;tar -xf $src_dir&#34;;
    system $command == 0 or die&#40;&#34;Unable to extract sources: $command &#40;$!&#41;&#34;&#41;;
    return;
  }

  # Windows system
  require Archive::Extract;
  if &#40; $file !~ /&#40;?:\.&#40;?:tar&#40;?:\.&#40;?:gz|bz2&#41;&#41;?|gz&#40;?:ip&#41;?|Z|&#40;?:un&#41;?zip&#41;$&#41;/ &#41; {
    die &#34;Perl can not extract sources $file\n&#34;;
  }

  my $obj_archive_extract = Archive::Extract-&gt;new&#40; archive =&gt; $file &#41;;
  my $ok = $obj_archive_extract-&gt;extract&#40; to =&gt; $src_dir &#41; or die $obj_archive_extract-&gt;error;

  print &#34;Successfully extracted  kdebindings source.\n\n&#34;;

  return 1;
}

sub build_kdebindings {
  my $version         = Alien::QtSmoke-&gt;version&#40;&#41;;
  my $prefix          = Alien::QtSmoke-&gt;prefix&#40;&#41;;
  my $srcDir          = File::Spec-&gt;catdir&#40; $CWD, &#39;src&#39;, &#34;kdebindings-$version&#34; &#41;;
  my $buildDir        = File::Spec-&gt;catdir&#40; $srcDir, &#39;build&#39; &#41;;
  my $qtSmokeBuildDir = File::Spec-&gt;catdir&#40; $buildDir, &#39;smoke&#39;, &#39;qt&#39; &#41;;

  File::Path::mkpath&#40;$buildDir&#41;;
  chdir $buildDir;

  print &#34;Build kdebindings in $buildDir\n\n&#34;;

  # Just build QtSmoke
  my $cmakeArgs
    = &#39;-DCMAKE_INSTALL_PREFIX=&#39; 
    . $prefix . &#39; &#39;
    . &#39;-DENABLE_SMOKE=on &#39;
    . &#39;-DENABLE_QTRUBY=off &#39;
    . &#39;-DENABLE_QTWEBKIT_SMOKE=off &#39;
    . &#39;-DENABLE_QTSCRIPT_SMOKE=off &#39;
    . &#39;-DENABLE_QTUITOOLS_SMOKE=off &#39;
    . &#39;-DENABLE_QTTEST_SMOKE=off &#39;
    . &#39;-DENABLE_PHONON_SMOKE=off &#39;
    . &#39;-DENABLE_QSCI_SMOKE=off &#39;
    . &#39;-DENABLE_QWT_SMOKE=off &#39;
    . &#39;-DENABLE_KDE_SMOKE=off &#39;
    . &#39;-DENABLE_KDEVPLATFORM_SMOKE=off &#39;
    . &#39;-DENABLE_KHTML_SMOKE=off &#39;
    . &#39;-DENABLE_KTEXTEDITOR_SMOKE=off &#39;
    . &#39;-DENABLE_SOLID_SMOKE=off &#39;
    . &#39;-DENABLE_PLASMA_SMOKE=off &#39;
    . &#39;-DENABLE_QTWEBKIT_RUBY=off &#39;
    . &#39;-DENABLE_QTUITOOLS_RUBY=off &#39;
    . &#39;-DENABLE_QTSCRIPT=off &#39;
    . &#39;-DENABLE_QTTEST=off &#39;
    . &#39;-DENABLE_PHONON_RUBY=off &#39;
    . &#39;-DENABLE_QSCINTILLA_RUBY=off &#39;
    . &#39;-DENABLE_QWT_RUBY=off &#39;
    . &#39;-DENABLE_SOPRANO_RUBY=off &#39;
    . &#39;-DENABLE_KDEVPLATFORM_RUBY=off &#39;
    . &#39;-DENABLE_KORUNDUM_RUBY=off &#39;
    . &#39;-DENABLE_KHTML_RUBY=off &#39;
    . &#39;-DENABLE_KTEXTEDITOR_RUBY=off &#39;
    . &#39;-DENABLE_SOLID_RUBY=off &#39;
    . &#39;-DENABLE_KROSSRUBY=off &#39;
    . &#39;-DENABLE_PLASMA_RUBY=off &#39;
    . &#39;-DENABLE_QIMAGEBLITZ_SMOKE=off&#39;;

  my $command = &#34;cmake .. $cmakeArgs -Wno-dev&#34;;
  print &#34;Run : $command\n\n&#34;;
  system $command;    # == 0 or die&#40;&#34;Running cmake failed: $!\ncommand: $command\n\n&#34;&#41;;

  # ==========&gt; move return if cmake ok &lt;====================
  return;

  chdir $qtSmokeBuildDir;

  $command = &#39;make&#39;;
  system $command == 0 or die&#40;&#34;Compiling QtSmoke failed while running $command: $!\n&#34;&#41;;

  $command = &#39;make install&#39;;
  system $command == 0 or die&#40;&#34;Compiling QtSmoke failed while running $command: $!\n&#34;&#41;;

  return;
}
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.311238</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
