<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #116529 for Net-DNS: Changes Interface for RR.pm</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #116529 for Net-DNS: Changes Interface for RR.pm</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-DNS/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">116529</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-DNS/Active/">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Clement.Law [...] Sophos.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;27&nbsp;10:04:25&nbsp;2016</span>
    <span class="description">Clement.Law [...] Sophos.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Gabor Kiss &lt;gabor.kiss [...] sophos.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Changes Interface for RR.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 27 Jul 2016 14:04:22 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-DNS [...] rt.cpan.org&#34; &lt;bug-Net-DNS [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clement Law &lt;Clement.Law [...] Sophos.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

Whilst trying to get an IP address of a hostname, I’m using the following &#40;pseudo&#41;code:

…
use Net::DNS;
use Data::Dumper;
my $Dns = new Net::DNS::Resolver&#40;&#41;;
my $Query = $Dns-&gt;query&#40;“somehostname”, ‘A’&#41;
my&#40;$Resource&#41; = $Query-&gt;answer&#40;&#41;
print Dumper&#40;$Resource&#41;;
…

…and I get the following structure in Ubuntu Lucid:

$VAR1 = bless&#40; {
                 &#39;rdlength&#39; =&gt; 4,
                 &#39;ttl&#39; =&gt; 900,
                 &#39;name&#39; =&gt; &#39;xxxxxx.yyyyyy.zzzzzz&#39;,
                 &#39;address&#39; =&gt; &#39;10.123.123.12&#39;,
                 &#39;class&#39; =&gt; &#39;IN&#39;,
                 &#39;type&#39; =&gt; &#39;A&#39;,
                 &#39;rdata&#39; =&gt; &#39;
�� &#39;
               }, &#39;Net::DNS::RR::A&#39; &#41;;

Where rdata is raw data 4 bytes in length the corresponds to the plain text in the address field.

But in CentOS 7 and Ubuntu Xenial, I get:

$VAR1 = bless&#40; {
                 &#39;owner&#39; =&gt; bless&#40; {
                                     &#39;label&#39; =&gt; [],
                                     &#39;origin&#39; =&gt; bless&#40; {
                                                          &#39;label&#39; =&gt; [
                                                                       &#39;xxxxxx&#39;,
                                                                       &#39;yyyyyy&#39;,
                                                                       &#39;zzzzzz&#39;
                                                                     ]
                                                        }, &#39;Net::DNS::DomainName&#39; &#41;
                                   }, &#39;Net::DNS::DomainName1035&#39; &#41;,
                 &#39;address&#39; =&gt; &#39;
�� &#39;,
                 &#39;rdlength&#39; =&gt; 4,
                 &#39;class&#39; =&gt; 1,
                 &#39;ttl&#39; =&gt; 900,
                 &#39;type&#39; =&gt; 1
               }, &#39;Net::DNS::RR::A&#39; &#41;;

I’m just looking for some documentation and changelogs as to why these changes were made. As far as I can see, in the latter example, the string information has been stripped out, meaning that I have to use the RR::rdstring&#40;&#41; and RR:string&#40;&#41; methods to extract the information I need.

I believe the former behaviour is present in Ubuntu Trusty, too.

Just for reference, the version of Net::DNS::RR.pm in Ubuntu Lucid is 758 &#40;DNS.pm is 796&#41;
In CentOS 7, it is 1094 &#40;DNS.pm is &#40;DNS.pm is 1095&#41;
In Ubuntu Xenial, it is 1282 &#40;DNS.pm is 1285&#41;

Many thanks,

Clement Law

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________

Sophos Ltd, a company registered in England and Wales, number 2096520, The Pentagon, Abingdon Science Park, Abingdon, OX14 3YP, United Kingdom
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;27&nbsp;14:34:36&nbsp;2016</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jul 27 10:04:25 2016, Clement.Law@Sophos.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; Whilst trying to get an IP address of a hostname, I’m using the
&gt; following &#40;pseudo&#41;code:
&gt; 
&gt; …
&gt; use Net::DNS;
&gt; use Data::Dumper;
&gt; my $Dns = new Net::DNS::Resolver&#40;&#41;;
&gt; my $Query = $Dns-&gt;query&#40;“somehostname”, ‘A’&#41;
&gt; my&#40;$Resource&#41; = $Query-&gt;answer&#40;&#41;
&gt; print Dumper&#40;$Resource&#41;;
&gt; …
&gt; 
&gt; …and I get the following structure in Ubuntu Lucid:
&gt; 
&gt; $VAR1 = bless&#40; {
&gt;                  &#39;rdlength&#39; =&gt; 4,
&gt;                  &#39;ttl&#39; =&gt; 900,
&gt;                  &#39;name&#39; =&gt; &#39;xxxxxx.yyyyyy.zzzzzz&#39;,
&gt;                  &#39;address&#39; =&gt; &#39;10.123.123.12&#39;,
&gt;                  &#39;class&#39; =&gt; &#39;IN&#39;,
&gt;                  &#39;type&#39; =&gt; &#39;A&#39;,
&gt;                  &#39;rdata&#39; =&gt; &#39;
&gt; �� &#39;
&gt;                }, &#39;Net::DNS::RR::A&#39; &#41;;
&gt; 
&gt; Where rdata is raw data 4 bytes in length the corresponds to the plain
&gt; text in the address field.
&gt; 
&gt; But in CentOS 7 and Ubuntu Xenial, I get:
&gt; 
&gt; $VAR1 = bless&#40; {
&gt;                  &#39;owner&#39; =&gt; bless&#40; {
&gt;                                      &#39;label&#39; =&gt; [],
&gt;                                      &#39;origin&#39; =&gt; bless&#40; {
&gt;                                                           &#39;label&#39; =&gt; [
&gt;                                                                        &#39;xxxxxx&#39;,
&gt;                                                                        &#39;yyyyyy&#39;,
&gt;                                                                        &#39;zzzzzz&#39;
&gt;                                                                      ]
&gt;                                                         },
&gt; &#39;Net::DNS::DomainName&#39; &#41;
&gt;                                    }, &#39;Net::DNS::DomainName1035&#39; &#41;,
&gt;                  &#39;address&#39; =&gt; &#39;
&gt; �� &#39;,
&gt;                  &#39;rdlength&#39; =&gt; 4,
&gt;                  &#39;class&#39; =&gt; 1,
&gt;                  &#39;ttl&#39; =&gt; 900,
&gt;                  &#39;type&#39; =&gt; 1
&gt;                }, &#39;Net::DNS::RR::A&#39; &#41;;
&gt; 
&gt; I’m just looking for some documentation and changelogs as to why these
&gt; changes were made. As far as I can see, in the latter example, the
&gt; string information has been stripped out, meaning that I have to use
&gt; the RR::rdstring&#40;&#41; and RR:string&#40;&#41; methods to extract the information
&gt; I need.
&gt; 
&gt; I believe the former behaviour is present in Ubuntu Trusty, too.
&gt; 
&gt; Just for reference, the version of Net::DNS::RR.pm in Ubuntu Lucid is
&gt; 758 &#40;DNS.pm is 796&#41;
&gt; In CentOS 7, it is 1094 &#40;DNS.pm is &#40;DNS.pm is 1095&#41;
&gt; In Ubuntu Xenial, it is 1282 &#40;DNS.pm is 1285&#41;
&gt; 
&gt; Many thanks,
&gt; 
&gt; Clement Law
&gt; 
&gt; ________________________________
&gt; 
&gt; Sophos Ltd, a company registered in England and Wales, number 2096520,
&gt; The Pentagon, Abingdon Science Park, Abingdon, OX14 3YP, United
&gt; Kingdom
</div>

The whole point of the object-oriented paradigm is to separate the logical behaviour of abstract objects from the internal state representation and implementation mechanics.  The internal state of an object is assumed to be observable ONLY using the published methods.

The public interface to the RR object is defined by the documented behaviour of class and instance methods of the RR base and 59 derived RR subtypes.

Apart from the philosophical objections, attempts to extract useful information by direct reference to private data structures are doomed to failure for two reasons:

 1&#41; The data structure changes dynamically depending on how the object was created and subsequent method call history. Logically identical instances can have different internal representations.

 2&#41; There is no obligation on developers to abstain from making changes to internal data representation.


There are some helpful examples in
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~nlnetlabs/Net-DNS-1.06/lib/Net/DNS.pm">http://search.cpan.org/~nlnetlabs/Net-DNS-1.06/lib/Net/DNS.pm</a></span>&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;27&nbsp;14:34:37&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;10:32:51&nbsp;2016</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
