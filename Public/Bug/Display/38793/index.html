<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #38793 for Net-Interface: Insufficient bug fix on Net::Interface 0.09 / invalid handling of ifreq</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #38793 for Net-Interface: Insufficient bug fix on Net::Interface 0.09 / invalid handling of ifreq</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-Interface">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-Interface">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-Interface">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-Interface">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-Interface">Net-Interface CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">38793</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-Interface">Net-Interface</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
REHSACK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
rehsack [...] web.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-22740-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.08</li>
<li>
0.09</li>
</ul>
    </td>
  </tr>
  <tr id="CF-22741-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




patch-aa<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/513173/255573/patch-aa">
Sat Sep 27 06:00:01 2008 (11.3k) by REHSACK [...] cpan.org
</a>
</font></li>
</ul>


patch-ab<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/513173/255570/patch-ab">
Sat Sep 27 06:00:01 2008 (2.3k) by REHSACK [...] cpan.org
</a>
</font></li>
</ul>


patch-Net-Interface<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/502083/249077/patch-Net-Interface">
Thu Aug 28 08:57:24 2008 (11.2k) by REHSACK [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=38793">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-502083" href="/Public/Bug/Display.html?id=38793#txn-502083">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;28&nbsp;08:57:24&nbsp;2008</span>
    <span class="description">REHSACK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> rehsack [...] web.de</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Insufficient bug fix on Net::Interface 0.09 / invalid handling of
 ifreq</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/502083/249074/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/249074">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 731b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As I wrote at 07/28/08 to Michael Robinton &lt;michael@bizsystems.com&gt;,
Jerrad Pierce &lt;jpierce@cpan.org&gt;, Net::Interface doesn&#39;t recognize the
result of SIOCGIFCONF ioctl call correctly.

I discussed this erroneous behaviour with Brooks Davis on
freebsd-net@freebsd.org around 07/21/08. At first I submitted a patch
solving the Problem for FreeBSD 7-STABLE and AIX 5.3 TL8 but ported it
back to Linux &#40;RHEL4&#41; now.

Here is the bug report for it, if desired I attach the wrong output for
versions 0.08 and 0.09. The patch is against version 0.08, because noone
answered to my e-Mail so I don&#39;t recognize that there&#39;re people working
on it.

The diff between Net::Interface 0.08 and 0.09 doesn&#39;t look as it would
solve any problems. BTW
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch-Net-Interface</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/502083/249077/patch-Net-Interface">Download patch-Net-Interface</a><br />
<span class="downloadcontenttype">application/octet-stream 11.2k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-502677" href="/Public/Bug/Display.html?id=38793#txn-502677">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;19:29:59&nbsp;2008</span>
    <span class="description">michael [...] bizsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> keith [...] blekko.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/502677/249783/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/249783">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 28 08:57:24 2008, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As I wrote at 07/28/08 to Michael Robinton &lt;michael@bizsystems.com&gt;,
&gt; Jerrad Pierce &lt;jpierce@cpan.org&gt;, Net::Interface doesn&#39;t recognize the
&gt; result of SIOCGIFCONF ioctl call correctly.
&gt; 
&gt; I discussed this erroneous behaviour with Brooks Davis on
&gt; freebsd-net@freebsd.org around 07/21/08. At first I submitted a patch
&gt; solving the Problem for FreeBSD 7-STABLE and AIX 5.3 TL8 but ported it
&gt; back to Linux &#40;RHEL4&#41; now.
&gt; 
&gt; Here is the bug report for it, if desired I attach the wrong output 
&gt; for
&gt; versions 0.08 and 0.09. The patch is against version 0.08, because 
&gt; noone
&gt; answered to my e-Mail so I don&#39;t recognize that there&#39;re people 
&gt; working
&gt; on it.
&gt; 
&gt; The diff between Net::Interface 0.08 and 0.09 doesn&#39;t look as it would
&gt; solve any problems. BTW
</div>

Jens,

I&#39;ve applied your patch to 0.08 and sent the resulting file to Keith
Peters, the gentleman that submitted the MAC patch for 0.08 which
resulted in the release of 0.09

Your patch breaks on the MAC darwin platform.

I wonder if you two might correspond and try to work out the
differences. I only have SUN and Linux boxes to work on and can not make
a meaningful contribution to this bug fix.

Keith&#39;s comments follow.

Michael


###################

First pass had a compile error:

keith-peters-computer:Net-Interface-0.10 keith$ perl Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for Net::Interface
keith-peters-computer:Net-Interface-0.10 keith$ make all test
cp Interface.pm blib/lib/Net/Interface.pm
cc -c   -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN
-no-cpp-precomp -fno-strict-aliasing -Wdeclaration-after-statement
-I/usr/local/include -O3   -DVERSION=\&#34;0.10\&#34; -DXS_VERSION=\&#34;0.10\&#34;
&#34;-I/System/Library/Perl/5.8.8/darwin-thread-multi-2level/CORE&#34;   Interface.c
Interface.xs:174: error: PAGE_SIZE undeclared here &#40;not in a function&#41;
Interface.xs:174: error: PAGE_SIZE undeclared here &#40;not in a function&#41;
lipo: can&#39;t open input file:
/var/folders/ti/tiyspH0IHuWeCIyTWVy8GU+++TI/-Tmp-//ccjRIpQt.out &#40;No such
file or directory&#41;
make: *** [Interface.o] Error 1

I added:

#ifndef PAGE_SIZE
#define PAGE_SIZE 64000
#endif

&#40;Though I&#39;m not sure what an appropriate value would be&#41;

keith-peters-computer:Net-Interface-0.10 keith$ make all test
/usr/bin/perl /System/Library/Perl/5.8.8/ExtUtils/xsubpp  -typemap
/System/Library/Perl/5.8.8/ExtUtils/typemap  Interface.xs &gt; Interface.xsc &#38;&#38;
mv Interface.xsc Interface.c
cc -c   -arch i386 -arch ppc -g -pipe -fno-common -DPERL_DARWIN
-no-cpp-precomp -fno-strict-aliasing -Wdeclaration-after-statement
-I/usr/local/include -O3   -DVERSION=\&#34;0.10\&#34; -DXS_VERSION=\&#34;0.10\&#34;
&#34;-I/System/Library/Perl/5.8.8/darwin-thread-multi-2level/CORE&#34;   Interface.c
Running Mkbootstrap for Net::Interface &#40;&#41;
chmod 644 Interface.bs
rm -f blib/arch/auto/Net/Interface/Interface.bundle
cc -mmacosx-version-min=10.5  -arch i386 -arch ppc -bundle -undefined
dynamic_lookup -L/usr/local/lib Interface.o  -o
blib/arch/auto/Net/Interface/Interface.bundle     \
           -lc          \

chmod 755 blib/arch/auto/Net/Interface/Interface.bundle
cp Interface.bs blib/arch/auto/Net/Interface/Interface.bs
chmod 644 blib/arch/auto/Net/Interface/Interface.bs
Manifying blib/man3/Net::Interface.3pm
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/if.............NI_ACCESS: : Operation not permitted
t/if.............ok 1/7Use of uninitialized value in subroutine entry at
t/if.t line 35.
NI_ACCESS: : Operation not permitted
t/if.............dubious

        Test returned status 0 &#40;wstat 10, 0xa&#41;
DIED. FAILED tests 6-7
        Failed 2/7 tests, 71.43% okay
t/mac_bin2hex....ok

Failed Test Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/if.t         0    10     7    4  57.14%  6-7
Failed 1/2 test scripts, 50.00% okay. 2/9 subtests failed, 77.78% okay.
make: *** [test_dynamic] Error 255

I guess macs have trouble setting MTU on lo0.

But it get&#39;s what I need from it done.

I also get some spurious &#34;NI_ACCESS : Can&#39;t assign requested address&#34;
messages as well which are similar to the test failure message. The appears
to be caused by the fact that some of my interfaces don&#39;t have addresses but
have AF_LINK setup properly. I don&#39;t know enough about the ioctl to be able
to debug that one further. And I don&#39;t know how to make my code aware of
whether or not the address would exists until calling &#34;-&gt;address&#34; and
checking for undef.

Just so you know how weird the ifconfig on a mac is...

keith-peters-computer:b keith$ ifconfig
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1
        inet 127.0.0.1 netmask 0xff000000
        inet6 ::1 prefixlen 128
gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280
stf0: flags=0&lt;&gt; mtu 1280
en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        ether 00:1b:63:98:3a:6f
        media: autoselect status: inactive
        supported media: autoselect 10baseT/UTP &lt;half-duplex&gt; 10baseT/UTP
&lt;full-duplex&gt; 10baseT/UTP &lt;full-duplex,hw-loopback&gt; 10baseT/UTP
&lt;full-duplex,flow-control&gt; 100baseTX &lt;half-duplex&gt; 100baseTX &lt;full-duplex&gt;
100baseTX &lt;full-duplex,hw-loopback&gt; 100baseTX &lt;full-duplex,flow-control&gt;
1000baseT &lt;full-duplex&gt; 1000baseT &lt;full-duplex,hw-loopback&gt; 1000baseT
&lt;full-duplex,flow-control&gt; none
fw0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 4078
        lladdr 00:1c:b3:ff:fe:81:1c:7a
        media: autoselect &lt;full-duplex&gt; status: inactive
        supported media: autoselect &lt;full-duplex&gt;
en1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet6 fe80::21c:b3ff:feb7:be86%en1 prefixlen 64 scopeid 0x6
        inet 192.168.1.151 netmask 0xffffff00 broadcast 192.168.1.255
        ether 00:1c:b3:b7:be:86
        media: autoselect status: active
        supported media: autoselect

-Keith
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-502678" href="/Public/Bug/Display.html?id=38793#txn-502678">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;19:30:02&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-503030" href="/Public/Bug/Display.html?id=38793#txn-503030">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;30&nbsp;16:46:56&nbsp;2008</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/503030/249912/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/249912">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1017b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Your patch breaks on the MAC darwin platform.
</div>
If it does just because of PAGE_SIZE, this should be easy fixable ...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if you two might correspond and try to work out the
&gt; differences. I only have SUN and Linux boxes to work on and can not
&gt; make
&gt; a meaningful contribution to this bug fix.
</div>
I have FreeBSD, AIX, Linux and since yesterday &#40;my girl friend&#41; a Mac OS X.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Keith&#39;s comments follow.
&gt; 
&gt; Michael
&gt; 
&gt; 
&gt; ###################
&gt; 
&gt; First pass had a compile error:
&gt; 
&gt; Interface.xs:174: error: PAGE_SIZE undeclared here &#40;not in a function&#41;
</div>
So on Mac OS X PAGE_SIZE is declared somewhere else than in sys/limits.h ;-&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I added:
&gt; 
&gt; #ifndef PAGE_SIZE
&gt; #define PAGE_SIZE 64000
&gt; #endif
&gt; 
&gt; &#40;Though I&#39;m not sure what an appropriate value would be&#41;
</div>
Usually on Intel processors it&#39;s 4096 or 4096*1024 &#40;PAE&#41;.

Give me a few days and I figure it out &#40;after I setup all things, my
girl friend want on her new computer ^^&#41; - I&#39;m wondering why Mac OS X
behaves different than FreeBSD there.

/Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513173" href="/Public/Bug/Display.html?id=38793#txn-513173">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;27&nbsp;06:00:01&nbsp;2008</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> keith [...] blekko.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/513173/255567/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255567">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 513b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve fixed the issue with missing PAGE_SIZE on MacOS X platforms
&#40;patch-aa&#41; and fixed the test &#40;patch-ab&#41;.
Both patches are against Net-Interface-0.08.
I&#39;m sorry for the delay, but our Mac was most time blocked ;-&#41;

Details to the fix of t/if.t:
Keith was right with most of his assumptions - but using ifconfig lo0
127.0.0.1 netmask 255.0.0.0 should workaround. The final test fails
because the assumption that the first entry in @names is the loopback
address fails on some platforms &#40;AIX, FreeBSD, Linux, ...&#41;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513173/255570/patch-ab">Download patch-ab</a><br />
<span class="downloadcontenttype">application/octet-stream 2.3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513173/255573/patch-aa">Download patch-aa</a><br />
<span class="downloadcontenttype">application/octet-stream 11.3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513244" href="/Public/Bug/Display.html?id=38793#txn-513244">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;27&nbsp;14:09:29&nbsp;2008</span>
    <span class="description">michael [...] insulin-pumpers.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #38793] Insufficient bug fix on Net::Interface 0.09 / invalid handling of ifreq </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 27 Sep 2008 11:09:49 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-Interface [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> michael [...] insulin-pumpers.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513244/255627/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255627">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 727b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-Interface
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=38793">http://rt.cpan.org/Ticket/Display.html?id=38793</a></span> &gt;
&gt; 
&gt; I&#39;ve fixed the issue with missing PAGE_SIZE on MacOS X platforms
&gt; &#40;patch-aa&#41; and fixed the test &#40;patch-ab&#41;.
&gt; Both patches are against Net-Interface-0.08.
&gt; I&#39;m sorry for the delay, but our Mac was most time blocked ;-&#41;
&gt; 
&gt; Details to the fix of t/if.t:
&gt; Keith was right with most of his assumptions - but using ifconfig lo0
&gt; 127.0.0.1 netmask 255.0.0.0 should workaround. The final test fails
&gt; because the assumption that the first entry in @names is the loopback
&gt; address fails on some platforms &#40;AIX, FreeBSD, Linux, ...&#41;
&gt; 
&gt; 
</div>
Thanks Jens,

Patches applied and version 0.10 uploaded to CPAN

Best regards,
Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513253" href="/Public/Bug/Display.html?id=38793#txn-513253">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;27&nbsp;14:27:04&nbsp;2008</span>
    <span class="description">michael [...] bizsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/513253/255633/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255633">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 95b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patchs submitted by Jens Rehsack REHSACK@cpan.org
applied to version 0.10 and uploaded to CPAN
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513256" href="/Public/Bug/Display.html?id=38793#txn-513256">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;27&nbsp;14:27:06&nbsp;2008</span>
    <span class="description">michael [...] bizsystems.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.639928</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
