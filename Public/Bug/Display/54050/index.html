<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #54050 for Try-Tiny: localize and unset $SIG{__DIE__}</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #54050 for Try-Tiny: localize and unset $SIG{__DIE__}</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Try-Tiny">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Try-Tiny">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Try-Tiny">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Try-Tiny">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Try-Tiny">Try-Tiny CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">54050</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Try-Tiny">Try-Tiny</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-229112-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.04    </td>
  </tr>
  <tr id="CF-229113-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=54050">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-725545" href="/Public/Bug/Display.html?id=54050#txn-725545">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;27&nbsp;21:34:41&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> localize and unset $SIG{__DIE__}</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/725545/374747/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/374747">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1020b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Its all but considered a bug that $SIG{__DIE__} triggers inside an eval.
 It would be very nice if try fixed this once and for all by localizing
$SIG{__DIE__}.  That would solve one of the major headaches of eval.

If you wanted to be perfect about it, there is the edge case of setting
a global $SIG{__DIE__} inside try {}.  If try {} localizes $SIG{__DIE__}
that global set will be lost.  So do this:

    my $original_die = $SIG{__DIE__};
    undef $SIG{__DIE__};

    ...do the code...

    $SIG{__DIE__} = $original_die unless defined $SIG{__DIE__};

It turns off $SIG{__DIE__} but preserves any global changes made by the
code inside the try.

The edge of this edge case is the global $SIG{__DIE__} will effect the
die inside the try, effectively defeating the point of unsetting
$SIG{__DIE__} in the first place.  If you wanted to handle that you&#39;d
tie $SIG{__DIE__} so that when its set it wraps the new code ref in sub
{ return if $^S;  $code-&gt;&#40;@_&#41; };

But really, localizing $SIG{__DIE__} inside try is enough.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-725610" href="/Public/Bug/Display.html?id=54050#txn-725610">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;28&nbsp;03:07:36&nbsp;2010</span>
    <span class="description">NUFFIN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #54050] localize and unset $SIG{__DIE__}</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 Jan 2010 09:06:16 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Try-Tiny [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Yuval Kogman &lt;nuffin [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/725610/374783/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/374783">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">2010/1/28 Michael G Schwern via RT &lt;bug-Try-Tiny@rt.cpan.org&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Its all but considered a bug that $SIG{__DIE__} triggers inside an eval.
&gt; Â It would be very nice if try fixed this once and for all by localizing
&gt; $SIG{__DIE__}. Â That would solve one of the major headaches of eval.
</div>
That&#39;s making a fairly big assumption about the usage of
$SIG{__DIE__}, sometimes people rely on it for things that *should* be
triggered in an eval. For example by using it to automatically convert
errors to exception objects is something i&#39;ve seen in real code
before, and that&#39;s pretty much only useful *inside* an eval.

If existing code can&#39;t be converted to using Try::Tiny without a full
audit of the code being used inside the eval that&#39;s a pretty big
caveat, so I&#39;m uncomfortable making this change.

One option would be to make this a per consumer import-time decision
&#40;use Try::Tiny :disable_sig_die =&gt; 1&#41; or something like that, but that
would seriously complicate the code, which I think still serves as a
useful way of documenting the problems with eval in the comments etc.
I was very hesitant to add @DB::args and &#39;finally&#39; because of that,
but eventually caved on &#39;finally&#39;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-725612" href="/Public/Bug/Display.html?id=54050#txn-725612">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;28&nbsp;03:07:37&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-727518" href="/Public/Bug/Display.html?id=54050#txn-727518">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;01&nbsp;11:59:15&nbsp;2010</span>
    <span class="description">NUFFIN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-729431" href="/Public/Bug/Display.html?id=54050#txn-729431">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;21:23:12&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/729431/376796/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/376796">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 28 03:07:36 2010, NUFFIN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That&#39;s making a fairly big assumption about the usage of
&gt; $SIG{__DIE__}, sometimes people rely on it for things that *should* be
&gt; triggered in an eval.
</div>
try is not eval.

There is an opportunity here to fix the sins of eval and make new
assumptions.  try has already diverged significantly from eval, why draw
a line here?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For example by using it to automatically convert
&gt; errors to exception objects is something i&#39;ve seen in real code
&gt; before, and that&#39;s pretty much only useful *inside* an eval.
&gt;
&gt; If existing code can&#39;t be converted to using Try::Tiny without a full
&gt; audit of the code being used inside the eval that&#39;s a pretty big
&gt; caveat, so I&#39;m uncomfortable making this change.
</div>
For every clever hack you can do with $SIG{__DIE__} + eval there&#39;s 100
lines of code setting a global $SIG{__DIE__}, not checking $^S and
getting it wrong.

Here, let&#39;s find some using Google Code Search.

Global $SIG{__DIE__} handlers which check $^S: 99
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.google.com/codesearch?hl=en&#38;lr=&#38;q=%22%24SIG">http://www.google.com/codesearch?hl=en&#38;lr=&#38;q=%22%24SIG</a></span>{__DIE__}%22+lang%3Aperl+%22%24^S%22+-local&#38;sbtn=Search

Global $SIG{__DIE__} handlers which do not check $^S: ~2000
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.google.com/codesearch?hl=en&#38;lr=&#38;q=%22%24SIG">http://www.google.com/codesearch?hl=en&#38;lr=&#38;q=%22%24SIG</a></span>{__DIE__}%22+lang%3Aperl+-%22%24^S%22+-local&#38;sbtn=Search

I&#39;m willing to bet not even 20 of those 2000 are intentional.

Try::Tiny already diverges from eval, there&#39;s a whole list of &#40;very well
documented, thank you&#41; caveats, and you can&#39;t just cut &#38; paste from an
eval block to a try block.  That ship has sailed.  There&#39;s even
potential action-at-a-distance effects: try doesn&#39;t clobber $@, I&#39;m sure
somebody is doing something very clever with that somewhere.

Even perlvar acknowledges that $SIG{__DIE__} in an eval is deprecated.

    Due to an implementation glitch, the $SIG{__DIE__} hook is
    called even inside an eval&#40;&#41;.  Do not use this to rewrite a
    pending exception in $@, or as a bizarre substitute for
    overriding &#34;CORE::GLOBAL::die&#40;&#41;&#34;.  This strange action at a
    distance may be fixed in a future release so that $SIG{__DIE__}
    is only called if your program is about to exit, as was the
    original intent.  Any other use is deprecated.

The point of Try::Tiny is to provide...

    bare bones &#34;try&#34;/&#34;catch&#34;/&#34;finally&#34; statements that are designed
    to minimize common mistakes with eval blocks, and NOTHING else.

Setting a global DIE handler and forgetting to check $^S is a very,
very, very common mistake.  And worse, its one the author of the
eval/try block probably did not make but is still punished for.  That sucks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-729433" href="/Public/Bug/Display.html?id=54050#txn-729433">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;21:23:13&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-729466" href="/Public/Bug/Display.html?id=54050#txn-729466">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;23:31:04&nbsp;2010</span>
    <span class="description">EWILHELM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/729466/376809/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/376809">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 28 03:07:36 2010, NUFFIN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If existing code can&#39;t be converted to using Try::Tiny without a
&gt; full audit of the code being used inside the eval that&#39;s a pretty
&gt; big caveat, so I&#39;m uncomfortable making this change.
</div>
I&#39;m also usually against messing with $SIG{__DIE__} because the 
meddling is often done wrong, but Schwern has me convinced on this 
one.  As long as the change doesn&#39;t prevent $SIG{__DIE__} from being 
installed via e.g. try { require SomeModule }, then you&#39;re not 
breaking anything important.

This *would* be introducing the caveat that &#34;try{} is not eval{}&#34; with 
regard to those things which perlvar tells you not to do with 
$SIG{__DIE__}.  I think that&#39;s worth it.  Educating the wizards who 
want a hook to rewrite $@ is going to be easier than educating those 
who don&#39;t know about $^S.

Also, a pretty simple and thorough audit is to run:

   perl -MDevel::NoGlobalSig=die your_program

&#40;The proposed change might cause NoGlobalSig to point at Try::Tiny as 
the culprit if Foo installs $SIG{__DIE__} in e.g. &#34;try {eval Foo}&#34; 
but -MCarp=verbose and checking one level up the stacktrace will show 
you the caller.  But details of caller&#40;&#41; reporting from destructors on 
die handlers is not really an important edge case.&#41;

That covers all of the concrete issues I can come up with.  Did I miss 
something?

Thanks,
Eric
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-729507" href="/Public/Bug/Display.html?id=54050#txn-729507">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;05&nbsp;01:41:11&nbsp;2010</span>
    <span class="description">NUFFIN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #54050] localize and unset $SIG{__DIE__}</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Feb 2010 07:40:25 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Try-Tiny [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Yuval Kogman &lt;nuffin [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/729507/376833/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/376833">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 973b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">try might be different from eval in the local semantics, but all of
the differences are apparent in the lexical scope of usage.

Secondly, $SIG{__DIE__} can be used legitimately inside an eval, and
has been many times before, I&#39;m not going to break that because it
will make using Try::Tiny a lot more difficult for me and many others.

There are other try/catch modules on the CPAN that meddle in this sort
of idealism, and I think that&#39;s just not workable.

Code that used to run in global contexts may be later reused inside an
eval, thus causing behavior changes that are not directly evident.

You&#39;re also assuming that running -MDevel::NoGLobalSig=die would do
full path coverage, which is most definitely not guaranteed, and
precisely the combinatorial issue when bits of code that are not
lexically adjacent interact with one another.

I don&#39;t want another UNIVERSAL::isa on my hands, especially since
Try::Tiny was not a tounge in cheek acme module to begin with.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-928785" href="/Public/Bug/Display.html?id=54050#txn-928785">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;27&nbsp;18:49:52&nbsp;2011</span>
    <span class="description">DOY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/928785/481989/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/481989">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 58b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think it&#39;s been decided that this isn&#39;t going to happen.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-928788" href="/Public/Bug/Display.html?id=54050#txn-928788">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;27&nbsp;18:49:53&nbsp;2011</span>
    <span class="description">DOY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-929015" href="/Public/Bug/Display.html?id=54050#txn-929015">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;28&nbsp;10:09:58&nbsp;2011</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/929015/482136/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/482136">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, I let this drop on the floor.  Allow me to please make a rebuttal
before the issue is closed.


On Fri Feb 05 01:41:11 2010, NUFFIN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; try might be different from eval in the local semantics, but all of
&gt; the differences are apparent in the lexical scope of usage.
</div>
I understand the distinction, but this is only relevant if you&#39;re
converting from eval to try.  If you&#39;re writing new code with try then
it is perpetuating a known trap forward to support a handful of edge cases.

Even if you are converting, the overwhelming majority of uses of eval
and try will break if $SIG{__DIE__} is set.  Find me one which will work
and I&#39;ll find you twenty which will not.  I am serious.

Preserving this behavior just to make the differences between eval and
try lexical does not make sense.  The global behavior $SIG{__DIE__} with
respect to eval is clearly dangerous and broken and generates bugs.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Secondly, $SIG{__DIE__} can be used legitimately inside an eval, and
&gt; has been many times before, I&#39;m not going to break that because it
&gt; will make using Try::Tiny a lot more difficult for me and many others.
</div>
Coded correctly, $SIG{__DIE__} can still be set inside an eval and
remain in effect outside of it.  I&#39;ve dealt with exactly this problem
before.  You can see the code inside base.pm.

To make it more explicit...

    try {
        $SIG{__DIE__} = sub { ... };
    };

I intend that will continue to work in that $SIG{__DIE__} remains set
outside of try.

The use case is this:

    try {
        require Module::Which::Sets::Sig::Die;
    };


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Code that used to run in global contexts may be later reused inside an
&gt; eval, thus causing behavior changes that are not directly evident.
</div>
As mentioned earlier in the ticket, blindly copying and pasting code
into try will already not work.  The changes to return and $_ have a far
more practical effect, yet they were considered ok.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You&#39;re also assuming that running -MDevel::NoGLobalSig=die would do
&gt; full path coverage, which is most definitely not guaranteed, and
&gt; precisely the combinatorial issue when bits of code that are not
&gt; lexically adjacent interact with one another.
</div>
Sorry, I don&#39;t know what that means.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t want another UNIVERSAL::isa on my hands, especially since
&gt; Try::Tiny was not a tounge in cheek acme module to begin with.
</div>
The comparison to UNIVERSAL::isa is inverted.  try&#40;&#41; can only effect
code which uses try&#40;&#41;.  $SIG{__DIE__} is UNIVERSAL::isa.  Used without
care, it effects all code and causes problems outside of its scope.

Try::Tiny already has the UNIVERSAL::isa problem, it was inherited from
eval.  This is an opportunity to fix it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-929017" href="/Public/Bug/Display.html?id=54050#txn-929017">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;28&nbsp;10:09:59&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-929505" href="/Public/Bug/Display.html?id=54050#txn-929505">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;29&nbsp;13:22:42&nbsp;2011</span>
    <span class="description">NUFFIN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #54050] localize and unset $SIG{__DIE__}</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Apr 2011 20:22:10 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Try-Tiny [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Yuval Kogman &lt;nuffin [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/929505/482397/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/482397">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 28 April 2011 17:09, Michael G Schwern via RT
&lt;bug-Try-Tiny@rt.cpan.org&gt;wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; I understand the distinction, but this is only relevant if you&#39;re
&gt; converting from eval to try.  If you&#39;re writing new code with try then
&gt; it is perpetuating a known trap forward to support a handful of edge cases.
</div>

This also applies when learning to use try vs. eval. Again, if the
differences are all accounted for in the lexical scope, the barrier of entry
for refactoring as well as learning a new tool is lowered.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As mentioned earlier in the ticket, blindly copying and pasting code
&gt; into try will already not work.  The changes to return and $_ have a far
&gt; more practical effect, yet they were considered ok.
</div>

Again, there&#39;s no action at a distance.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;  &gt; You&#39;re also assuming that running -MDevel::NoGLobalSig=die would do
</div><div class="message-stanza open">&gt; &gt; full path coverage, which is most definitely not guaranteed, and
&gt; &gt; precisely the combinatorial issue when bits of code that are not
&gt; &gt; lexically adjacent interact with one another.
</div>&gt;
&gt; Sorry, I don&#39;t know what that means.
&gt;
</div>
Suppose a module that warns is implemented. This doesn&#39;t help unless there
is decent code coverage too, and since this change is dynamically scoped in
nature then this means pretty good path coverage, not just unit testing.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The comparison to UNIVERSAL::isa is inverted.  try&#40;&#41; can only effect
&gt; code which uses try&#40;&#41;.  $SIG{__DIE__} is UNIVERSAL::isa.  Used without
&gt; care, it effects all code and causes problems outside of its scope.
&gt;
&gt; Try::Tiny already has the UNIVERSAL::isa problem, it was inherited from
&gt; eval.  This is an opportunity to fix it.
&gt;
</div>
I meant UNIVERSAL::isa the module.

I never regretted writing anything more than that.

There are just too many opinions and not enough time =&#40;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/929505/482398/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/482398">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.5k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-932783" href="/Public/Bug/Display.html?id=54050#txn-932783">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;09&nbsp;22:11:31&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #54050] localize and unset $SIG{__DIE__}</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 May 2011 12:11:15 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Try-Tiny [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/932783/484219/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/484219">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;I am, as well, talking about the module UNIVERSAL::isa&#41;

I&#39;m confused because your argument has very strange priorities.  I&#39;ll assume
I&#39;m just misunderstanding and reiterate what I&#39;m hearing back to you.

1&#41; The important thing is to help users transition from eval to try.

2&#41; Someone might have written an eval expecting $SIG{__DIE__}
   to apply.

3&#41; Someone converting the eval &#40;maybe the person who wrote it,
   but probably not&#41; might not realize that there is a $SIG{__DIE__}
   in effect and it is necessary for the correct operation of this
   eval.

4&#41; The existence of a $SIG{__DIE__} is not obvious just from looking
   at the eval block requiring a full audit of the code or a very good
   test suite.

5&#41; Therefore, making try immune to $SIG{__DIE__} makes #1 harder.

6&#41; Also by removing $SIG{__DIE__}&#39;s action at a distance upon
   try this would somehow constitute action at a distance.

Which is all logically consistent &#40;except #6 which is fairly Orwellian&#41;... but
assumption #2 is so unlikely as to be an absurd basis upon which to make a
decision.  Even if it is true, it&#39;s actively dangerous.  The code one
programmer writes might be expecting a $SIG{__DIE__} to be in effect and work
with it, but all the rest of the code in the process, including CPAN modules,
will not.  Then something loads CGI::Carp, silently blows away your
$SIG{__DIE__} and whatever eval/try logic that depended on $SIG{__DIE__} fails.

That is, the argument is saying that Try::Tiny should support a use case
that&#39;s highly unlikely, extremely fragile, a documented design bug in Perl and
should be removed when its encountered.  Worse, it should support it to the
determent of the extremely common trap of an eval/try *not* expecting there to
be a $SIG{__DIE__}.  For every bit of code out there that would break if it
didn&#39;t honor $SIG{__DIE__} I am not exaggerating when I say there are 20, 100
or even 1000 evals that should not trigger a $SIG{__DIE__} but fail to guard
against it.

Do I have it right?  I hope not.

I&#39;m going to complete the argument against it, but I hope I&#39;m not sock
puppetting you in doing so.

While I agree that the $SIG{__DIE__} problem is non-lexical, it&#39;s existence is
highly unlikely.  Proposing it as a real barrier to adoption is absurd when
compared to the existing changes in behavior of return, $! and $@ &#40;$! and $@
also being non-lexical&#41; which are much higher and far more frequent and
realistic barriers.  Worrying about $SIG{__DIE__} is like shaving an ounce off
a backpack while keeping the cast iron skillet.  It just doesn&#39;t make a
difference.

Furthermore, if your code as a $SIG{__DIE__} which is expecting to dip into
eval, it is far more likely that programmers will not realize it exists and
write evals without $SIG{__DIE__} protection generating bugs.  Therefore, any
system designed assuming $SIG{__DIE__} will be dipping into eval should either
already have been redesigned or will continue to generate bugs.  In which case
any bugs caused by transitioning from eval to try are simply the latest in a
long string of bugs caused by the design.

$SIG{__DIE__} is dangerous in production.  The only sane uses for
$SIG{__DIE__} is as a global &#34;catch&#34; block or as a debugging and analysis
tool.  As to the former, everything in try is already caught &#40;or deliberately
ignored&#41;.  As to the latter, this is not critical production functionality
that Try::Tiny needs to prioritize.

Finally, the UNIVERSAL::isa analogy.  One module loading UNIVERSAL::isa
affected code in every other module &#40;I don&#39;t believe it does anymore... or at
least it tries not to&#41;.  This is like one module defining a $SIG{__DIE__} and
inadvertently affecting every eval and try in every other module.  That is
action at a distance.  I&#39;m not sure how try ignoring $SIG{__DIE__} is
analogous to UNIVERSAL::isa.


On 2011.4.30 3:22 AM, Yuval Kogman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=54050">https://rt.cpan.org/Ticket/Display.html?id=54050</a></span> &gt;
&gt; 
&gt; On 28 April 2011 17:09, Michael G Schwern via RT
&gt; &lt;bug-Try-Tiny@rt.cpan.org&gt;wrote:
<div class="message-stanza open">&gt;&gt;
&gt;&gt; I understand the distinction, but this is only relevant if you&#39;re
&gt;&gt; converting from eval to try.  If you&#39;re writing new code with try then
&gt;&gt; it is perpetuating a known trap forward to support a handful of edge cases.
</div>&gt; 
&gt; 
&gt; This also applies when learning to use try vs. eval. Again, if the
&gt; differences are all accounted for in the lexical scope, the barrier of entry
&gt; for refactoring as well as learning a new tool is lowered.
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt; As mentioned earlier in the ticket, blindly copying and pasting code
&gt;&gt; into try will already not work.  The changes to return and $_ have a far
&gt;&gt; more practical effect, yet they were considered ok.
</div>&gt; 
&gt; 
&gt; Again, there&#39;s no action at a distance.
&gt; 
&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;  &gt; You&#39;re also assuming that running -MDevel::NoGLobalSig=die would do
</div><div class="message-stanza open">&gt;&gt;&gt; full path coverage, which is most definitely not guaranteed, and
&gt;&gt;&gt; precisely the combinatorial issue when bits of code that are not
&gt;&gt;&gt; lexically adjacent interact with one another.
</div>&gt;&gt;
&gt;&gt; Sorry, I don&#39;t know what that means.
&gt;&gt;
</div>&gt; 
&gt; Suppose a module that warns is implemented. This doesn&#39;t help unless there
&gt; is decent code coverage too, and since this change is dynamically scoped in
&gt; nature then this means pretty good path coverage, not just unit testing.
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt; The comparison to UNIVERSAL::isa is inverted.  try&#40;&#41; can only effect
&gt;&gt; code which uses try&#40;&#41;.  $SIG{__DIE__} is UNIVERSAL::isa.  Used without
&gt;&gt; care, it effects all code and causes problems outside of its scope.
&gt;&gt;
&gt;&gt; Try::Tiny already has the UNIVERSAL::isa problem, it was inherited from
&gt;&gt; eval.  This is an opportunity to fix it.
&gt;&gt;
</div>&gt; 
&gt; I meant UNIVERSAL::isa the module.
&gt; 
&gt; I never regretted writing anything more than that.
&gt; 
&gt; There are just too many opinions and not enough time =&#40;
</div>

-- 
39. Not allowed to ask for the day off due to religious purposes, on the
    basis that the world is going to end, more than once.
    -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
           <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232009" href="/Public/Bug/Display.html?id=54050#txn-1232009">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;05:11:11&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1232009/651027/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/651027">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 329b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This ticket also is shaping up to be a &#34;wontfix&#34;. I agree with Yuval that while purists consider $SIG{__DIE__} invoked under $^S an error, it is too ingrained on cpan and darkpan and is there to stay. As such the requested change will in fact break things, instead of fixing them.

Somebody with rights please reject this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232014" href="/Public/Bug/Display.html?id=54050#txn-1232014">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;05:11:26&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232134" href="/Public/Bug/Display.html?id=54050#txn-1232134">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;10:30:35&nbsp;2013</span>
    <span class="description">DOY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1232134/651103/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/651103">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 66b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think it&#39;s been decided &#40;again&#41; that this isn&#39;t going to happen.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232137" href="/Public/Bug/Display.html?id=54050#txn-1232137">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;10:30:36&nbsp;2013</span>
    <span class="description">DOY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.65439</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
