<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #38710 for RT-Client-REST: [patch] More featureful User module</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #38710 for RT-Client-REST: [patch] More featureful User module</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/RT-Client-REST/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/RT-Client-REST">RT-Client-REST CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">38710</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/RT-Client-REST/Active/">RT-Client-REST</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">jpierce [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jpierce [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-39236-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.37    </td>
  </tr>
  <tr id="CF-39237-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;25&nbsp;12:25:45&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [patch] More featureful User module</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached are a patch, and patched version of User.pm, allowing one
access to nearly every user field except for language, Unix user, custom
fields...
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> User.pm</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># $Id: User.pm 2 Mon Aug 25 12:18 EDT 2008 jpierce $
#
# RT::Client::REST::User -- user object representation.

package RT::Client::REST::User;

use strict;
use warnings;

use vars qw&#40;$VERSION&#41;;
$VERSION = &#39;0.03&#39;;

use Params::Validate qw&#40;:types&#41;;
use RT::Client::REST 0.14;
use RT::Client::REST::Object 0.01;
use RT::Client::REST::Object::Exception 0.01;
use RT::Client::REST::SearchResult 0.02;
use base &#39;RT::Client::REST::Object&#39;;

=head1 NAME

RT::Client::REST::User -- user object representation.

=head1 SYNOPSIS

  my $rt = RT::Client::REST-&gt;new&#40;server =&gt; $ENV{RTSERVER}&#41;;

  my $user = RT::Client::REST::User-&gt;new&#40;
    rt  =&gt; $rt,
    id  =&gt; $id,
  &#41;-&gt;retrieve;

=head1 DESCRIPTION

B&lt;RT::Client::REST::User&gt; is based on L&lt;RT::Client::REST::Object&gt;.
The representation allows to retrieve, edit, comment on, and create
users in RT.

Note: RT currently does not allow REST client to search users.

=cut

sub _attributes {{
    id =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        form2value  =&gt; sub {
            shift =~ m~^user/&#40;\d+&#41;$~i;
            return $1;
        },
        value2form  =&gt; sub {
            return &#39;user/&#39; . shift;
        },
    },



    priveleged =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    name =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    password =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    email_address =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name =&gt; &#39;EmailAddress&#39;,
    },
    real_name =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name =&gt; &#39;RealName&#39;,
    },
    gecos =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    comments =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },



    organization =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    address_one =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;Address1&#39;,
    },
    address_two =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;Address2&#39;,
    },
    city =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    state =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    zip =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },
    country =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
    },


    home_phone =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;HomePhone&#39;,
    },
    work_phone =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;WorkPhone&#39;,
    },
    cell_phone =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;MobilePhone&#39;,
    },
    pager =&gt; {
        validation  =&gt; {
            type    =&gt; SCALAR,
        },
        rest_name   =&gt; &#39;PagerPhone&#39;,
    },
}}

=head1 ATTRIBUTES

=over 2

=item B&lt;id&gt;

For retrieval, you can specify either the numeric ID of the user or his
username.  After the retrieval, however, this attribute will be set
to the numeric id.

=item B&lt;name&gt;

This is the username of the user.

=item B&lt;password&gt;

User&#39;s password.  Reading it will only give you a bunch of stars &#40;what
else would you expect?&#41;.

=item B&lt;priveleged&gt;

Can the user have special rights?

=item B&lt;email_address&gt;

E-mail address of the user, EmailAddress.

=item B&lt;real_name&gt;

Real name of the user, RealName.

=item B&lt;gecos&gt;

Gecos.

=item B&lt;comments&gt;

Comments about this user.

=item B&lt;organization&gt;

=item B&lt;address_one&gt;

First line of the street address, Address1.

=item B&lt;address_two&gt;

Second line of the street address, Address2.

=item B&lt;city&gt;

City segment of user&#39;s address.

=item B&lt;zip&gt;

ZIP or Postal code segment of user&#39;s address.

=item B&lt;country&gt;

Country segment of user&#39;s address.

=item B&lt;home_phone&gt;

User&#39;s home phone number, HomePhone.

=item B&lt;work_phone&gt;

User&#39;s work phone number, WorkPhone.

=item B&lt;cell_phone&gt;

User&#39;s cell phone number, MobilePhone.

=item B&lt;pager&gt;

User&#39;s pager number, PagerPhone.

=back

=head1 DB METHODS

For full explanation of these, please see B&lt;&#34;DB METHODS&#34;&gt; in
L&lt;RT::Client::REST::Object&gt; documentation.

=over 2

=item B&lt;retrieve&gt;

Retrieve RT user from database.

=item B&lt;store&gt;

Create or update the user.

=item B&lt;search&gt;

Currently RT does not allow REST clients to search users.

=back

=head1 INTERNAL METHODS

=over 2

=item B&lt;rt_type&gt;

Returns &#39;user&#39;.

=cut

sub rt_type { &#39;user&#39; }

=back

=head1 SEE ALSO

L&lt;RT::Client::REST&gt;, L&lt;RT::Client::REST::Object&gt;,
L&lt;RT::Client::REST::SearchResult&gt;.

=head1 AUTHOR

Dmitri Tikhonov &lt;dtikhonov@yahoo.com&gt;

=head1 LICENSE

Perl license with the exception of L&lt;RT::Client::REST&gt;, which is GPLed.

=cut

__PACKAGE__-&gt;_generate_methods;

1;
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;10:42:58&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Reference by ticket #42669 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;23&nbsp;05:34:51&nbsp;2009</span>
    <span class="description">beitis [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there, great news!!

Any chance of getting the custom fields to be included in a future
patch? this is possible with tickets &#40;or atleast it claims to be&#41;.  I
tried hacking some code but it didnt work



On Mon Aug 25 12:25:45 2008, JPIERCE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Attached are a patch, and patched version of User.pm, allowing one
&gt; access to nearly every user field except for language, Unix user, custom
&gt; fields...
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;23&nbsp;05:34:52&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;13:48:22&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;16&nbsp;01:52:06&nbsp;2009</span>
    <span class="description">grahamb [...] sfu.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I replaced my copy of User.pm with yours but it doesn&#39;t seem to be returning the extra fields; 
for example, I have WorkPhone set but it isn&#39;t being returned.

I don&#39;t see signature in the list of fields; any way of getting that, too? I tried adding it myself, 
but like I said, it doesn&#39;t seem to be reading the new file.

Graham.

On Fri Jan 23 05:34:51 2009, bittis wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi there, great news!!
&gt; 
&gt; Any chance of getting the custom fields to be included in a future
&gt; patch? this is possible with tickets &#40;or atleast it claims to be&#41;.  I
&gt; tried hacking some code but it didnt work
&gt; 
&gt; 
&gt; 
&gt; On Mon Aug 25 12:25:45 2008, JPIERCE wrote:
<div class="message-stanza open">&gt; &gt; Attached are a patch, and patched version of User.pm, allowing one
&gt; &gt; access to nearly every user field except for language, Unix user, custom
&gt; &gt; fields...
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;14:10:42&nbsp;2010</span>
    <span class="description">jlmartinez [...] capside.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

  We&#39;ve released a new version of RT::Client::REST to CPAN wich should
have the issue you reported fixed. Please come back to us if you feel
this issue is not solved correctly.

  You can find the new version at
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~jlmartin/RT-Client-REST-0.4/">http://search.cpan.org/~jlmartin/RT-Client-REST-0.4/</a></span>

Thanks,

Jose Luis Martinez
RT::Client::REST Co-MAINT
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;14:10:49&nbsp;2010</span>
    <span class="description">jlmartinez [...] capside.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
