<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #20313 for HTML-Widget: embed&#40;&#41; discards top level controls</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #20313 for HTML-Widget: embed&#40;&#41; discards top level controls</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/HTML-Widget/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/HTML-Widget/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/HTML-Widget/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/HTML-Widget/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTML-Widget">HTML-Widget CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">20313</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/HTML-Widget/Active/">HTML-Widget</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jon.schutz [...] youramigo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-16166-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.07    </td>
  </tr>
  <tr id="CF-16167-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;05&nbsp;22:06:32&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> embed&#40;&#41; discards top level controls</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">HTML-Widget-1.07, Perl 5.8.5, Centos 4 Linux

If you have a widget, add some elements, then embed some other forms,
the initially added elements fail to be rendered.

Example code:

----

#! /usr/bin/perl

use strict;
use warnings;
use HTML::Widget;

my $w = HTML::Widget-&gt;new-&gt;method&#40;&#39;post&#39;&#41;-&gt;action&#40;&#39;/foo/bar&#39;&#41;;
$w-&gt;element&#40; &#39;Textfield&#39;, &#39;age&#39; &#41;-&gt;label&#40;&#39;Age&#39;&#41;-&gt;size&#40;3&#41;;

my $w2 = HTML::Widget-&gt;new&#40;&#39;foo&#39;&#41;-&gt;action&#40;&#39;/foo&#39;&#41;;

# Add a standalone element to the containing w2
$w2-&gt;element&#40; &#39;Textfield&#39;, &#39;allbymyself&#39; &#41;-&gt;label&#40;&#39;All By Myself&#39;&#41;-&gt;size&#40;3&#41;;

#print $w2-&gt;process . &#34;\n\n&#34;;

my $w3 = HTML::Widget-&gt;new&#40;&#39;bar&#39;&#41;;
$w3-&gt;element&#40; &#39;Textfield&#39;, &#39;baz&#39; &#41;;

$w2-&gt;embed&#40;$w&#41;;
$w2-&gt;embed&#40;$w3&#41;;

my $f = $w2-&gt;process;

print $f;

---

Example output:

&lt;form action=&#34;/foo&#34; id=&#34;foo&#34; method=&#34;post&#34;&gt;&lt;fieldset
id=&#34;foo_widget&#34;&gt;&lt;label for=&#34;foo_widget_age&#34;
id=&#34;foo_widget_age_label&#34;&gt;Age&lt;input class=&#34;textfield&#34;
id=&#34;foo_widget_age&#34; name=&#34;age&#34; size=&#34;3&#34; type=&#34;text&#34;
/&gt;&lt;/label&gt;&lt;/fieldset&gt;&lt;fieldset id=&#34;foo_bar&#34;&gt;&lt;input class=&#34;textfield&#34;
id=&#34;foo_bar_baz&#34; name=&#34;baz&#34; type=&#34;text&#34; /&gt;&lt;/fieldset&gt;&lt;/form&gt;

Note the absence of the &#39;allbymyself&#39; element.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;06&nbsp;18:57:42&nbsp;2006</span>
    <span class="description">ash_rtcpan [...] firemirror.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ash Berlin</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is by design, since the HTML standard says the only thing a form
can contain is block level elements &#40;div or fieldset mainly&#41; so where
would you put them? 

In another field set? Merged into first one? Before embedded? After?
etc. etc.

If you can come up with a decent way of specifiying this, and provide
tests for it then we can implement it.

Thanks,
Ash Berlin

On Wed Jul 05 22:06:32 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; HTML-Widget-1.07, Perl 5.8.5, Centos 4 Linux
&gt; 
&gt; If you have a widget, add some elements, then embed some other forms,
&gt; the initially added elements fail to be rendered.
&gt; 
&gt; Example code:
&gt; 
&gt; ----
&gt; 
&gt; #! /usr/bin/perl
&gt; 
&gt; use strict;
&gt; use warnings;
&gt; use HTML::Widget;
&gt; 
&gt; my $w = HTML::Widget-&gt;new-&gt;method&#40;&#39;post&#39;&#41;-&gt;action&#40;&#39;/foo/bar&#39;&#41;;
&gt; $w-&gt;element&#40; &#39;Textfield&#39;, &#39;age&#39; &#41;-&gt;label&#40;&#39;Age&#39;&#41;-&gt;size&#40;3&#41;;
&gt; 
&gt; my $w2 = HTML::Widget-&gt;new&#40;&#39;foo&#39;&#41;-&gt;action&#40;&#39;/foo&#39;&#41;;
&gt; 
&gt; # Add a standalone element to the containing w2
&gt; $w2-&gt;element&#40; &#39;Textfield&#39;, &#39;allbymyself&#39; &#41;-&gt;label&#40;&#39;All By
</div>Myself&#39;&#41;-&gt;size&#40;3&#41;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; #print $w2-&gt;process . &#34;\n\n&#34;;
&gt; 
&gt; my $w3 = HTML::Widget-&gt;new&#40;&#39;bar&#39;&#41;;
&gt; $w3-&gt;element&#40; &#39;Textfield&#39;, &#39;baz&#39; &#41;;
&gt; 
&gt; $w2-&gt;embed&#40;$w&#41;;
&gt; $w2-&gt;embed&#40;$w3&#41;;
&gt; 
&gt; my $f = $w2-&gt;process;
&gt; 
&gt; print $f;
&gt; 
&gt; ---
&gt; 
&gt; Example output:
&gt; 
&gt; &lt;form action=&#34;/foo&#34; id=&#34;foo&#34; method=&#34;post&#34;&gt;&lt;fieldset
&gt; id=&#34;foo_widget&#34;&gt;&lt;label for=&#34;foo_widget_age&#34;
&gt; id=&#34;foo_widget_age_label&#34;&gt;Age&lt;input class=&#34;textfield&#34;
&gt; id=&#34;foo_widget_age&#34; name=&#34;age&#34; size=&#34;3&#34; type=&#34;text&#34;
&gt; /&gt;&lt;/label&gt;&lt;/fieldset&gt;&lt;fieldset id=&#34;foo_bar&#34;&gt;&lt;input class=&#34;textfield&#34;
&gt; id=&#34;foo_bar_baz&#34; name=&#34;baz&#34; type=&#34;text&#34; /&gt;&lt;/fieldset&gt;&lt;/form&gt;
&gt; 
&gt; Note the absence of the &#39;allbymyself&#39; element.
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;06&nbsp;18:57:43&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;06&nbsp;20:21:03&nbsp;2006</span>
    <span class="description">jon.schutz [...] youramigo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #20313] embed&#40;&#41; discards top level controls</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 07 Jul 2006 09:50:17 +0930</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-Widget [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jon Schutz &lt;Jon.Schutz [...] youramigo.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Ash,

I would have thought you would use nested fieldsets.  The HTML 4 spec
allows for this, and although browsers historically had some
difficulties rendering them, current browsers seem to support it.

Currently if you just have one top level widget, it would end up in a
fieldset thus:

&lt;fieldset&gt;
  &lt;input ...&gt;
&lt;/fieldset&gt;

So it seems to me that the logical extension of this is that if you
embed 2 other widgets, it should end up like this:

&lt;fieldset&gt;
  &lt;input ...&gt;
  &lt;fieldset&gt;
     &lt;input ...&gt;
  &lt;/fieldset&gt;
  &lt;fieldset&gt;
     &lt;input ...&gt;
  &lt;/fieldset&gt;
&lt;/fieldset&gt;

This model would hold to any depth, e.g. with an embedded widget inside
an embedded widget:

&lt;fieldset&gt;
  &lt;input ...&gt;
  &lt;fieldset&gt;
     &lt;input ...&gt;
     &lt;fieldset&gt;
       &lt;input ...&gt;
     &lt;/fieldset&gt;
  &lt;/fieldset&gt;
&lt;/fieldset&gt;

Please see attached test.html, which validates.

Regards,

-- 

Jon


On Thu, 2006-07-06 at 18:57 -0400, Ash Berlin via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=20313">http://rt.cpan.org/Ticket/Display.html?id=20313</a></span> &gt;
&gt; 
&gt; This is by design, since the HTML standard says the only thing a form
&gt; can contain is block level elements &#40;div or fieldset mainly&#41; so where
&gt; would you put them? 
&gt; 
&gt; In another field set? Merged into first one? Before embedded? After?
&gt; etc. etc.
&gt; 
&gt; If you can come up with a decent way of specifiying this, and provide
&gt; tests for it then we can implement it.
&gt; 
&gt; Thanks,
&gt; Ash Berlin
&gt; 
&gt; On Wed Jul 05 22:06:32 2006, guest wrote:
<div class="message-stanza open">&gt; &gt; HTML-Widget-1.07, Perl 5.8.5, Centos 4 Linux
&gt; &gt; 
&gt; &gt; If you have a widget, add some elements, then embed some other forms,
&gt; &gt; the initially added elements fail to be rendered.
&gt; &gt; 
&gt; &gt; Example code:
&gt; &gt; 
&gt; &gt; ----
&gt; &gt; 
&gt; &gt; #! /usr/bin/perl
&gt; &gt; 
&gt; &gt; use strict;
&gt; &gt; use warnings;
&gt; &gt; use HTML::Widget;
&gt; &gt; 
&gt; &gt; my $w = HTML::Widget-&gt;new-&gt;method&#40;&#39;post&#39;&#41;-&gt;action&#40;&#39;/foo/bar&#39;&#41;;
&gt; &gt; $w-&gt;element&#40; &#39;Textfield&#39;, &#39;age&#39; &#41;-&gt;label&#40;&#39;Age&#39;&#41;-&gt;size&#40;3&#41;;
&gt; &gt; 
&gt; &gt; my $w2 = HTML::Widget-&gt;new&#40;&#39;foo&#39;&#41;-&gt;action&#40;&#39;/foo&#39;&#41;;
&gt; &gt; 
&gt; &gt; # Add a standalone element to the containing w2
&gt; &gt; $w2-&gt;element&#40; &#39;Textfield&#39;, &#39;allbymyself&#39; &#41;-&gt;label&#40;&#39;All By
</div>&gt; Myself&#39;&#41;-&gt;size&#40;3&#41;;
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; #print $w2-&gt;process . &#34;\n\n&#34;;
&gt; &gt; 
&gt; &gt; my $w3 = HTML::Widget-&gt;new&#40;&#39;bar&#39;&#41;;
&gt; &gt; $w3-&gt;element&#40; &#39;Textfield&#39;, &#39;baz&#39; &#41;;
&gt; &gt; 
&gt; &gt; $w2-&gt;embed&#40;$w&#41;;
&gt; &gt; $w2-&gt;embed&#40;$w3&#41;;
&gt; &gt; 
&gt; &gt; my $f = $w2-&gt;process;
&gt; &gt; 
&gt; &gt; print $f;
&gt; &gt; 
&gt; &gt; ---
&gt; &gt; 
&gt; &gt; Example output:
&gt; &gt; 
&gt; &gt; &lt;form action=&#34;/foo&#34; id=&#34;foo&#34; method=&#34;post&#34;&gt;&lt;fieldset
&gt; &gt; id=&#34;foo_widget&#34;&gt;&lt;label for=&#34;foo_widget_age&#34;
&gt; &gt; id=&#34;foo_widget_age_label&#34;&gt;Age&lt;input class=&#34;textfield&#34;
&gt; &gt; id=&#34;foo_widget_age&#34; name=&#34;age&#34; size=&#34;3&#34; type=&#34;text&#34;
&gt; &gt; /&gt;&lt;/label&gt;&lt;/fieldset&gt;&lt;fieldset id=&#34;foo_bar&#34;&gt;&lt;input class=&#34;textfield&#34;
&gt; &gt; id=&#34;foo_bar_baz&#34; name=&#34;baz&#34; type=&#34;text&#34; /&gt;&lt;/fieldset&gt;&lt;/form&gt;
&gt; &gt; 
&gt; &gt; Note the absence of the &#39;allbymyself&#39; element.
&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; 
</div></div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;10&nbsp;12:29:33&nbsp;2006</span>
    <span class="description">pagaltzis [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-HTML-Widget [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [Html-widget] Fwd: [rt.cpan.org #20313] embed&#40;&#41; discards top level controls</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 10 Jul 2006 18:28:22 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> html-widget [...] lists.rawmode.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;A. Pagaltzis&#34; &lt;pagaltzis [...] gmx.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Ash Berlin &lt;ash@cpan.org&gt; [2006-07-07 00:55]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it is by design, since the HTML standard says the only thing a
&gt; form can contain is block level elements &#40;div or fieldset
&gt; mainly&#41; so where would you put them? In another field set?
&gt; Before embedded? After? etc. etc.
</div>
Inside the fieldset, where else? Fieldsets can be nested. Bung
this into the validator for a demonstration:

    &lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Strict//EN&#34;
     &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</a></span>&#34;&gt;
    &lt;html xmlns=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a></span>&#34;&gt;
     &lt;head&gt;
      &lt;title&gt;x&lt;/title&gt;
     &lt;/head&gt;
     &lt;body&gt;
      &lt;form action=&#34;x&#34;&gt;
       &lt;fieldset&gt;
         &lt;input name=&#34;x&#34;/&gt;
         &lt;fieldset&gt;
          &lt;input name=&#34;y&#34;/&gt;
         &lt;/fieldset&gt;
       &lt;/fieldset&gt;
      &lt;/form&gt;
     &lt;/body&gt;
    &lt;/html&gt;

Regards,
-- 
Aristotle Pagaltzis // &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://plasmasturm.org/">http://plasmasturm.org/</a></span>&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;21&nbsp;09:08:17&nbsp;2006</span>
    <span class="description">cpan [...] fireartist.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">embed&#40;&#41; has recently been completely rewritten, and your code example
would now give this output.

&lt;form action=&#34;/foo&#34; id=&#34;foo&#34; method=&#34;post&#34;&gt;
&lt;fieldset&gt;
&lt;label for=&#34;foo_allbymyself&#34; id=&#34;foo_allbymyself_label&#34;&gt;All By Myself
&lt;input class=&#34;textfield&#34; id=&#34;foo_allbymyself&#34; name=&#34;allbymyself&#34;
size=&#34;3&#34; type=&#34;text&#34; /&gt;
&lt;/label&gt;
&lt;/fieldset&gt;
&lt;fieldset&gt;
&lt;label for=&#34;foo_age&#34; id=&#34;foo_age_label&#34;&gt;Age
&lt;input class=&#34;textfield&#34; id=&#34;foo_age&#34; name=&#34;age&#34; size=&#34;3&#34; type=&#34;text&#34; /&gt;
&lt;/label&gt;
&lt;/fieldset&gt;
&lt;fieldset&gt;
&lt;input class=&#34;textfield&#34; id=&#34;foo_baz&#34; name=&#34;baz&#34; type=&#34;text&#34; /&gt;
&lt;/fieldset&gt;
&lt;/form&gt;


It is now recommended you create fieldsets, and use them directly,
rather than using embed.
Example:

my $w = HTML::Widget-&gt;new;

my $outer_fs = $w-&gt;element&#40; &#39;Fieldset&#39;, &#39;outer&#39; &#41;;

$outer_fs-&gt;element&#40; &#39;Textfield&#39;, &#39;allbymyself&#39; &#41;;

$outer_fs-&gt;element&#40; &#39;Fieldset&#39;, &#39;first&#39; &#41;
    -&gt;element&#40; &#39;Textfield&#39;, &#39;age&#39; &#41;;

$outer_fs-&gt;element&#40; &#39;Fieldset&#39;, &#39;second&#39; &#41;
    -&gt;element&#40; &#39;Textfield&#39;, &#39;baz&#39; &#41;;

print $w-&gt;process;


Would give this output with nested fieldsets:

&lt;form id=&#34;widget&#34; method=&#34;post&#34;&gt;
&lt;fieldset id=&#34;widget_outer&#34;&gt;
&lt;input class=&#34;textfield&#34; id=&#34;widget_outer_allbymyself&#34;
name=&#34;allbymyself&#34; type=&#34;text&#34; /&gt;
&lt;fieldset id=&#34;widget_outer_first&#34;&gt;
&lt;input class=&#34;textfield&#34; id=&#34;widget_outer_first_age&#34; name=&#34;age&#34;
type=&#34;text&#34; /&gt;
&lt;/fieldset&gt;
&lt;fieldset id=&#34;widget_outer_second&#34;&gt;
&lt;input class=&#34;textfield&#34; id=&#34;widget_outer_second_baz&#34; name=&#34;baz&#34;
type=&#34;text&#34; /&gt;
&lt;/fieldset&gt;
&lt;/fieldset&gt;
&lt;/form&gt;


Cheers,
Carl
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;21&nbsp;09:08:19&nbsp;2006</span>
    <span class="description">cpan [...] fireartist.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
