<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57525 for Tk: Tk::DialogBox and -default_button</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57525 for Tk: Tk::DialogBox and -default_button</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Tk">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Tk">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Tk">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Tk">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk">Tk CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57525</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Tk">Tk</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
johnm [...] topcit.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-33610-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
804.028_503    </td>
  </tr>
  <tr id="CF-33611-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




tk-db-bug.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/777530/402704/tk-db-bug.pl">
Sun May 16 00:26:06 2010 (1.8k) by johnm [...] topcit.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=57525">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777530" href="/Public/Bug/Display.html?id=57525#txn-777530">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;16&nbsp;00:26:06&nbsp;2010</span>
    <span class="description">johnm [...] topcit.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/777530/402703/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402703">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Tabbing to a button in a DialogBox popup window and keying &#39;&lt;RETURN&gt;&#39;
always causes it to return the Default button text, not the button that
was actually selected.  This could cause the program that called the
DialogBox to take the wrong action based on the return code.  The
problem is caused by the line in the Populate routine of DialogBox.pm
that binds the &#39;&lt;RETURN&gt;&#39; key to the default key for the whole DialogBox
widget. Unfortunately, that binding overrides the earlier binding in the
foreach loop of &#39;&lt;RETURN&gt;&#39; to invoke the buttons, whichever one is tab
selected at the time.  The attached code shows that unbinding the
&#39;&lt;RETURN&gt;&#39; key fixes the problem and doesn&#39;t cause any other problems.

TO reproduce the problem, just comment out line 31 in the file:
$protoBox-&gt;bind&#40;&#39;&lt;Return&gt;&#39; =&gt; []&#41;;

I have tested this problem and fix in Windows XP SP3 with Activestate
perl, and in Ubuntu 9.10 and Kubuntu 8.04 with perl-tk installed and
versions &#39;4.015&#39; and &#39;4.016&#39; of DialogBox.pm

Please let me know if I can provide any additional information
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tk-db-bug.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/777530/402704/tk-db-bug.pl">Download tk-db-bug.pl</a><br />
<span class="downloadcontenttype">text/x-perl 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl -w
use strict;

use Tk;
use Tk::DialogBox;

my $mw = MainWindow-&gt;new&#40;-height =&gt;400, -width =&gt;1000,
                         -title =&gt; &#39;Calendar Utility&#39;&#41;;

# Assign function buttons
my $calCreateBut = $mw-&gt;Button&#40;-width =&gt; 40,
   -text =&gt; &#34;Launch application segment&#34;, -command =&gt;\&#38;appCreate&#41;;
$calCreateBut-&gt;pack&#40;-side =&gt;&#39;top&#39;, -padx =&gt; 6, -pady =&gt; 2&#41;;

my $donebut = $mw-&gt;Button&#40;-width =&gt; 9,
    -text =&gt; &#34;Quit&#34;, -command =&gt;sub{exit}&#41;;
$donebut-&gt;pack&#40;-side =&gt;&#39;bottom&#39;, -padx =&gt; 6, -pady =&gt; 2&#41;;

my $protoBox = $mw-&gt;DialogBox&#40;-title =&gt; &#34;Application segment&#34;,
                        -cancel_button =&gt; &#34;Cancel&#34;,
                        -buttons =&gt; [&#34;OK&#34;, &#34;Cancel&#34;],
#                        -callbacks =&gt; [\&#38;protoOkCheck, &#39;&#39;, \&#38;protoSsupCheck],
                        -default_button =&gt; &#39;Cancel&#39;
                        &#41;;

# If we don&#39;t do this, hitting the &#39;RETURN&#39; key always invokes the cancel
# button, not the button that is selected by the TAB key.  If this line is
# removed, the OK button seems to work when you TAB to it and hit the &#39;RETURN&#39;
# key but it returns &#39;Cancel&#39; instead of &#39;OK&#39;.  Clicking on the OK button
# returns &#39;OK&#39; whether you unbind &#39;&lt;RETURN&gt;&#39; from the DialogBox or not.
$protoBox-&gt;bind&#40;&#39;&lt;Return&gt;&#39; =&gt; []&#41;;
# This would not be necessary if the line:
#	    $cw-&gt;bind&#40;&#39;&lt;Return&gt;&#39; =&gt; [ $b, &#39;Invoke&#39;]&#41;;
# was removed from the Populate routine of DialogBox.pm  This is the line that
# binds the default button to &#39;&lt;Return&gt;&#39; the Dialog widget &#40;$cw&#41;, not the line
# that binds each individual button to &#39;&lt;Return&gt;&#39; in the &#39;foreach&#39; loop.

MainLoop;

sub appCreate {

   my $dButton = $protoBox-&gt;Show&#40;-popover =&gt; $donebut,
                                 -popanchor =&gt; &#39;nw&#39;,
                                 &#41;;

   print &#34;User pressed &lt;&#34; . $dButton .
      &#34;&gt; button, causing the DialogBox to exit\n&#34;;
      return;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-783149" href="/Public/Bug/Display.html?id=57525#txn-783149">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;27&nbsp;17:04:28&nbsp;2010</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/783149/405659/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405659">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 16 00:26:06 2010, jmainwar wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tabbing to a button in a DialogBox popup window and keying &#39;&lt;RETURN&gt;&#39;
&gt; always causes it to return the Default button text, not the button that
&gt; was actually selected.  This could cause the program that called the
&gt; DialogBox to take the wrong action based on the return code.  The
&gt; problem is caused by the line in the Populate routine of DialogBox.pm
&gt; that binds the &#39;&lt;RETURN&gt;&#39; key to the default key for the whole DialogBox
&gt; widget. Unfortunately, that binding overrides the earlier binding in the
&gt; foreach loop of &#39;&lt;RETURN&gt;&#39; to invoke the buttons, whichever one is tab
&gt; selected at the time.
</div>
And unfortunately this binding is done on purpose. It is even documented:

-default_button: Specifies the default Button that is considered invoked
when user presses &lt;Return&gt; on the DialogBox.

The trick is to use &#34;Space&#34; instead of &#34;Return&#34; to invoke the selected
button. I agree that this is not intuitive, but it seems that this was 
the way GUIs worked like when Tk::DialogBox was written.

My advice: use Tk::MsgBox instead of Tk::DialogBox. It looks somewhat
more &#34;modern&#34; and does not have this problem.

Maybe I can find a way to retain the -default_button behaviour and to
act properly when the focus is over one of the dialog buttons.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  The attached code shows that unbinding the
&gt; &#39;&lt;RETURN&gt;&#39; key fixes the problem and doesn&#39;t cause any other problems.
&gt; 
&gt; TO reproduce the problem, just comment out line 31 in the file:
&gt; $protoBox-&gt;bind&#40;&#39;&lt;Return&gt;&#39; =&gt; []&#41;;
&gt; 
&gt; I have tested this problem and fix in Windows XP SP3 with Activestate
&gt; perl, and in Ubuntu 9.10 and Kubuntu 8.04 with perl-tk installed and
&gt; versions &#39;4.015&#39; and &#39;4.016&#39; of DialogBox.pm
&gt; 
&gt; Please let me know if I can provide any additional information
</div>
Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-783152" href="/Public/Bug/Display.html?id=57525#txn-783152">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;27&nbsp;17:04:29&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-783153" href="/Public/Bug/Display.html?id=57525#txn-783153">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;27&nbsp;17:05:31&nbsp;2010</span>
    <span class="description">SREZIC [...] cpan.org -  Subject changed from &#40;no value&#41; to &#39;Tk::DialogBox and -default_button&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-783801" href="/Public/Bug/Display.html?id=57525#txn-783801">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;16:47:48&nbsp;2010</span>
    <span class="description">johnm [...] topcit.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57525] </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 May 2010 16:36:41 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Tk [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;John Mainwaring&#34; &lt;johnm [...] topcit.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/783801/406027/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/406027">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the Tk::MsgBox suggestion.  Unfortunately I need the &#34;top&#34; area 
in Tk::DialogBox to display some widgets.  What I did was hack DialogBox.pm 
to do what I wanted, with a parameter that defaults if undefined to make 
things work the way they worked before.

I also figured out how to configure buttons in the &#34;bottom&#34; area to use 
callbacks.  I wanted one of the buttons to do a consistency check, and leave 
the user in the DialogBox with to modify information in the widgets rather 
thann have to restart the dialog box and wnter all the information again. 
It&#39;s really nice that it&#39;s possible to do this sort of thing.  I don&#39;t know 
if you&#39;d be interested having in any of this.

I see that Perl v5.10.xxx doesn&#39;t seem to have the Tk stuff in the library. 
Do you happen to know what I need to do to get it working?  I want to put my 
application on some machines that don&#39;t have perl at the moment.  The 
natural thing would be to install the latest version, but then I wouldn&#39;t 
get the Tk stuff by default.  They seem to want people to move to Tkx, which 
might be wonderful but doesn&#39;t seem to be documented.  For example, I have 
no idea how to find out what the basic widgets are in Tkx, let alone how to 
find and add new ones.  Also, it looks like a pretty major effort to convert 
a working Tk application to Tkx.

Don&#39;t know if you can help -- thanks anyway if not.  I appreciate the stuff 
you&#39;re looking after in Tk.



--------------------------------------------------
From: &#34;Slaven_Rezic via RT&#34; &lt;bug-Tk@rt.cpan.org&gt;
Sent: Thursday, May 27, 2010 5:04 PM
To: &lt;johnm@topcit.com&gt;
Subject: [rt.cpan.org #57525]

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57525">https://rt.cpan.org/Ticket/Display.html?id=57525</a></span> &gt;
&gt;
&gt; On Sun May 16 00:26:06 2010, jmainwar wrote:
<div class="message-stanza open">&gt;&gt; Tabbing to a button in a DialogBox popup window and keying &#39;&lt;RETURN&gt;&#39;
&gt;&gt; always causes it to return the Default button text, not the button that
&gt;&gt; was actually selected.  This could cause the program that called the
&gt;&gt; DialogBox to take the wrong action based on the return code.  The
&gt;&gt; problem is caused by the line in the Populate routine of DialogBox.pm
&gt;&gt; that binds the &#39;&lt;RETURN&gt;&#39; key to the default key for the whole DialogBox
&gt;&gt; widget. Unfortunately, that binding overrides the earlier binding in the
&gt;&gt; foreach loop of &#39;&lt;RETURN&gt;&#39; to invoke the buttons, whichever one is tab
&gt;&gt; selected at the time.
</div>&gt;
&gt; And unfortunately this binding is done on purpose. It is even documented:
&gt;
&gt; -default_button: Specifies the default Button that is considered invoked
&gt; when user presses &lt;Return&gt; on the DialogBox.
&gt;
&gt; The trick is to use &#34;Space&#34; instead of &#34;Return&#34; to invoke the selected
&gt; button. I agree that this is not intuitive, but it seems that this was
&gt; the way GUIs worked like when Tk::DialogBox was written.
&gt;
&gt; My advice: use Tk::MsgBox instead of Tk::DialogBox. It looks somewhat
&gt; more &#34;modern&#34; and does not have this problem.
&gt;
&gt; Maybe I can find a way to retain the -default_button behaviour and to
&gt; act properly when the focus is over one of the dialog buttons.
&gt;
<div class="message-stanza open">&gt;&gt;  The attached code shows that unbinding the
&gt;&gt; &#39;&lt;RETURN&gt;&#39; key fixes the problem and doesn&#39;t cause any other problems.
&gt;&gt;
&gt;&gt; TO reproduce the problem, just comment out line 31 in the file:
&gt;&gt; $protoBox-&gt;bind&#40;&#39;&lt;Return&gt;&#39; =&gt; []&#41;;
&gt;&gt;
&gt;&gt; I have tested this problem and fix in Windows XP SP3 with Activestate
&gt;&gt; perl, and in Ubuntu 9.10 and Kubuntu 8.04 with perl-tk installed and
&gt;&gt; versions &#39;4.015&#39; and &#39;4.016&#39; of DialogBox.pm
&gt;&gt;
&gt;&gt; Please let me know if I can provide any additional information
</div>&gt;
&gt; Regards,
&gt;    Slaven
&gt;
&gt; 
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.323537</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
