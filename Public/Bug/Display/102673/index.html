<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #102673 for List-MoreUtils: Improving Iterator / Transformation functions ...</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #102673 for List-MoreUtils: Improving Iterator / Transformation functions ...</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=List-MoreUtils">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=List-MoreUtils">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=List-MoreUtils">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=List-MoreUtils">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/List-MoreUtils">List-MoreUtils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">102673</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=List-MoreUtils">List-MoreUtils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
REHSACK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
blue [...] thisisnotmyrealemail.com

<br />
ether [...] cpan.org

<br />
daviddlowe.flimm [...] gmail.com

<br />
ilmari+cpan [...] ilmari.org

<br />
ribasushi [...] leporine.io

<br />
schwern [...] pobox.com

<br />
smls75 [...] gmail.com

<br />
perl [...] toby.ink

<br />
xdg [...] xdg.me

<br />
zmughal [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19166-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19167-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=102673">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1471968" href="/Public/Bug/Display.html?id=102673#txn-1471968">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;10&nbsp;10:25:06&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Michael G. Schwern&#34; &lt;schwern [...] pobox.com&gt;,
 &#34;Toby Inkster&#34; &lt;mail [...] tobyinkster.co.uk&gt;,
 ilmari+cpan [...] ilmari.org, blue [...] thisisnotmyrealemail.com, smls75 [...] gmail.com,
 daviddlowe.flimm [...] gmail.com,
 &#34;David Golden&#34; &lt;xdg [...] xdg.me&gt;,
 ether [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1471968/783745/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/783745">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m currently stepping through the wishlist of LMU to see what&#39;s next.
All of you &#40;beside xdg@ - but he has some overall perspective meanwhile&#41; are reasonable part of a common wish for improved transformation / iteration functions:

Beside the concrete use-case functions &#40;array_eq, ltsorted, array_map, ...&#41; - I&#39;d like to summon the requirements to of the central loops:

1&#41; loops should be done with BLOCK &#40;callback&#41; and iterator

blockwise N, CODE, LIST
windowwise N, CODE, LIST

# &#40;4 * 7 ^3, 5 * 3 ^ 2, 6 * 19 ^ 1&#41;
# reduce can sum it up ...
blockwise 3 { $_[0] * $_[1] ** $_[2] } &#40;4, 7, 3, 5, 3, 2, 6, 19, 1&#41;;

# &#40;1,1,1,0,1,1,0&#41;
# could be used with all for ltsorted
windowwise 2 { $_[0] &lt; $_[1] } &#40;1,2,3,5,4,6,8,7&#41;;

How should the iterator functions be named?
blockwise_i? chunks?

windowwise_i? magnifier?

2&#41; the count of items per turn should be variable &#40;always? sometimes?&#41;

This affects pairwise only at the moment - and there it&#39;s fine.
But how can we &#40;reasonable&#41; add functions which does tuplewise as

tuplewise BLOCK, &#40;LIST&#41; x N

groupedtuplewise N, BLOCK, &#40;LIST&#41; x M

as 

groupedtuplewise 2 { my &#40;$g1, $g2, $g3, $g4&#41; = @_; &#40;$g1-&gt;[0] + $g2-&gt;[0]...&#41; * &#40;...$g4-&gt;[1]&#41; } @L1, @L2, @L3, @L4

Do we want a groupedtuplewise_iter as

my $it = groupedtuplewise_iter 2 @L1, @L2, @L3, @L4;
while&#40; my &#40;$g1, $g2, $g3, $g4&#41; = $it-&gt;&#40;&#41; &#41; {
  say &#40;$g1-&gt;[0] + $g2-&gt;[0]...&#41; * &#40;...$g4-&gt;[1]&#41;;
}

3&#41; mixin ...

while tuplewise could be a reasonable step between pairwise and chunks from multiple array at ones, how does the windowing / magnifying fit&#39;s that picture. As a reasonable consequence, there should be a function which allows accessing overlapping chunks from multiple list. Also - currently the overlapping loop has a step of one - should this increment limited to 1, or is another increment sane?

Do we want dedicated names for _step1 &#40;eg. tuplewise vs. groupedtuplewise - or whatever ^^&#41;, or do we introduce prefixes and suffixes for that &#40;Spreeing Helm of the Vampire&#41;?

Cheers
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1472439" href="/Public/Bug/Display.html?id=102673#txn-1472439">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;11&nbsp;15:56:51&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Subject changed from &#40;no value&#41; to &#39;Improving Iterator / Transformation functions ...&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1472482" href="/Public/Bug/Display.html?id=102673#txn-1472482">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;11&nbsp;17:15:15&nbsp;2015</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1472482/784098/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/784098">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For iterator names, there are already several with &#34;each_*&#34; as a pattern.  I&#39;d find a way to continue that.  Even if it&#39;s slightly odd, the naming consistency will lower the learning curve.

I find &#34;blockwise&#34; potentially confusing as a term, since we talk about BLOCK as a code reference.  Too bad we already have &#34;natatime&#34; doing something else.

I also find &#34;windowwise&#34; an odd phrase. 

It also strikes me that both blockwise and windowwise are special cases of a function that examines N at a time and advances the starting point by M each time.  I wonder if having a general purpose function is better.  E.g.

    # look at 3 at a time, advancing by 1 each time
    @res = chunked&#40; 3, 1, sub { ... }, @list &#41;;

The iterator generator could be &#34;each_chunk&#34;.

How about just &#34;tuples&#34; for the bringing together the elements of several lists:

    @t = tuples { [@_] } \@list1, \@list2, ... \@listN;

Then the iterator could come from &#34;each_tuple&#34;.

Possibly relate it to &#34;zip&#34; like &#34;zip_tuples&#34; or something.

I can&#39;t even understand what groupedtuplewise is supposed to do &#40;splice input lists and feed array of arrays to function?&#41;, so I need a better example.  My snap reaction is that I don&#39;t know when I&#39;d use it, and that if I did use it, it would hinder code clarity rather than enhance it. I vote YAGNI.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1472483" href="/Public/Bug/Display.html?id=102673#txn-1472483">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;11&nbsp;17:15:16&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1472595" href="/Public/Bug/Display.html?id=102673#txn-1472595">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;12&nbsp;01:37:01&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1472595/784169/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/784169">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 338b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Without going deeper in everything just for groupedtuplewise: It was proposed as a combination of chunked and tuples. For each of following arrays, call me with chunk of N iterated by step of O.

I like the idea with each_* and likely zip_* :&#41;

This bikeshedding has the goal of keeping low learning curve - so your proposals are best \o/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1472609" href="/Public/Bug/Display.html?id=102673#txn-1472609">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;12&nbsp;03:38:27&nbsp;2015</span>
    <span class="description">zmughal [...] cpan.org -  Cc ZMUGHAL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1473209" href="/Public/Bug/Display.html?id=102673#txn-1473209">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;13&nbsp;13:58:57&nbsp;2015</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1473209/784523/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/784523">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 262b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Another term that occurs to me is &#34;pivot&#34;. 

Given [a, b, c], [d, e, f], [g, h, i], [j,k,l] the pivot of that would be [a, d, g, j], [b, e, h, k], [c, f, i, l].

I like that even better than &#34;tuples&#34; or &#34;zip_tuples&#34;.

And then the iterator would be &#34;each_pivot&#34;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1473237" href="/Public/Bug/Display.html?id=102673#txn-1473237">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;13&nbsp;15:45:32&nbsp;2015</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1473237/784550/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/784550">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The other general approach that might make sense is to allow an iterator function in place of an array reference.  Then it would be fairly trivial to combine primitives.

Also, consider having &#34;chunked&#34; and &#34;each_chunk&#34; return array *references* rather than lists, which I think helps with combinations like this.

For instance, given @a = qw/a b c d/ and @b = qw/e f g h/ and @c = qw/i j k l/, consider what this would do:

    @out = pivot&#40;
        each_chunk&#40;2,2,\@a&#41;,
        each_chunk&#40;2,2,\@b&#41;,
        each_chunk&#40;2,2,\@c&#41;,
    &#41;

I think that would give &#40;omitting qw//&#41;:

    &#40;
        [ [a b], [e f], [i j] ],
        [ [c d], [g h], [k l] ],
    &#41;

Which I think is similar to what the &#34;grouped-tuple-wise&#34; thing was doing.

Thus I think we get a lot of generalized list manipulation just by implementing the following:

* &#34;chunked&#34; to divide a list into array references &#40;possibly with overlap&#41;
* &#34;pivot&#34; to pivot an AOA
* iterator versions for those two &#40;each_chunk and each_pivot&#41;
* things that take array references also allowing iterators instead

I think the other thing necessary would be &#34;flatten&#34; which would take a list of array references and flatten them into a list.

So &#34;flatten&#34; on the @output above:

    @flat = flatten @output

Giving:

    &#40;  [a b], [e f], [i j], [c d], [g h], [k l] &#41;

Or flatten that again:

    @flatter = flatten @flat

Giving:

    &#40;  a, b, e, f, i, j, c, d, g, h, k, l &#41;

Figuring out when to do lists and when to do array references probably takes more thought that I put in right now, but done right, I think very complicated transformations can be built up from simple primatives.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1474449" href="/Public/Bug/Display.html?id=102673#txn-1474449">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;08:31:17&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1474449/785244/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/785244">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Mar 13 15:45:32 2015, DAGOLDEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The other general approach that might make sense is to allow an
&gt; iterator function in place of an array reference.  Then it would be
&gt; fairly trivial to combine primitives.
</div>
I have to dig a little how to implement that in suitable manner, but it sounds very reasonable.
Also - I have no clue how this affects the typical prototype declaration, LMU consequently uses...

I have to play a bit with that ...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also, consider having &#34;chunked&#34; and &#34;each_chunk&#34; return array
&gt; *references* rather than lists, which I think helps with combinations
&gt; like this.
</div>
How about chunk, each_chunk, chunks, each_chunks...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For instance, given @a = qw/a b c d/ and @b = qw/e f g h/ and @c =
&gt; qw/i j k l/, consider what this would do:
&gt; 
&gt; @out = pivot&#40;
&gt;     each_chunk&#40;2,2,\@a&#41;,
&gt;     each_chunk&#40;2,2,\@b&#41;,
&gt;     each_chunk&#40;2,2,\@c&#41;,
&gt; &#41;
</div>
Which could then be written as

  @out = pivot&#40; chunks&#40;2,2,\@a,\@b,\@c&#41; &#41;;

or

  @out = pivot&#40; each_chunks&#40;2,2,\@a,\@b,\@c&#41; &#41;;

for iterator version.

Pivot could be distinguished to tuples by pivot always delivers AOA grouped by input rows and tuples takes a CODE which allows own implementation.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think that would give &#40;omitting qw//&#41;:
&gt; 
&gt; &#40;
&gt;     [ [a b], [e f], [i j] ],
&gt;     [ [c d], [g h], [k l] ],
&gt; &#41;
&gt; 
&gt; Which I think is similar to what the &#34;grouped-tuple-wise&#34; thing was
&gt; doing.
</div>
Yes, that&#39;s true.

So above showed &#34;pivot&#34; can be done by

  sub pivot { tuples { [@_] } @_ }

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thus I think we get a lot of generalized list manipulation just by
&gt; implementing the following:
&gt; 
&gt; * &#34;chunked&#34; to divide a list into array references &#40;possibly with
&gt; overlap&#41;
&gt; * &#34;pivot&#34; to pivot an AOA
&gt; * iterator versions for those two &#40;each_chunk and each_pivot&#41;
&gt; * things that take array references also allowing iterators instead
</div>
That consequently implies a larger rework of the existing functions to have a similar kind of usage everywhere.

Additionally I&#39;d like to see tuples &#40;pivot like but have CODE instead of implicit pivot&#41; and similar for chunk&#40;ed&#41;. OTOH we can claim that grep, map or List::Util&#39;s reduce can do the job on the returned lists. &#40;KISS&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think the other thing necessary would be &#34;flatten&#34; which would take
&gt; a list of array references and flatten them into a list.
&gt; 
&gt; So &#34;flatten&#34; on the @output above:
&gt; 
&gt; @flat = flatten @output
&gt; 
&gt; Giving:
&gt; 
&gt; &#40;  [a b], [e f], [i j], [c d], [g h], [k l] &#41;
&gt; 
&gt; Or flatten that again:
&gt; 
&gt; @flatter = flatten @flat
&gt; 
&gt; Giving:
&gt; 
&gt; &#40;  a, b, e, f, i, j, c, d, g, h, k, l &#41;
&gt; 
&gt; Figuring out when to do lists and when to do array references probably
&gt; takes more thought that I put in right now, but done right, I think
&gt; very complicated transformations can be built up from simple
&gt; primatives.
</div>
That&#39;s mentioned in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=17230">https://rt.cpan.org/Ticket/Display.html?id=17230</a></span> - but I like flatten more than arrify :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1474496" href="/Public/Bug/Display.html?id=102673#txn-1474496">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;10:08:37&nbsp;2015</span>
    <span class="description">xdg [...] xdg.me -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> blue [...] thisisnotmyrealemail.com, daviddlowe.flimm [...] gmail.com,  Karen Etheridge &lt;ether [...] cpan.org&gt;, ilmari+cpan [...] ilmari.org,  Toby Inkster &lt;mail [...] tobyinkster.co.uk&gt;, Michael G Schwern &lt;schwern [...] pobox.com&gt;, smls75 [...] gmail.com,  zmughal [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102673] Improving Iterator / Transformation functions ...</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 17 Mar 2015 10:07:55 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-MoreUtils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;xdg [...] xdg.me&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1474496/785270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/785270">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 441b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Mar 17, 2015 at 8:31 AM, Jens Rehsack via RT &lt;
bug-List-MoreUtils@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Additionally I&#39;d like to see tuples &#40;pivot like but have CODE instead of
&gt; implicit pivot&#41; and similar for chunk&#40;ed&#41;. OTOH we can claim that grep, map
&gt; or List::Util&#39;s reduce can do the job on the returned lists. &#40;KISS&#41;
&gt;
&gt;
</div>I was thinking KISS and the Unix principle of combining simple,
single-purpose tools for more complex behavior.

David
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1474496/785271/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/785271">with headers</a>
<br />
<span class="downloadcontenttype">text/html 812b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1474499" href="/Public/Bug/Display.html?id=102673#txn-1474499">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;10:12:40&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1474499/785274/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/785274">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 339b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 17 10:08:37 2015, xdg@xdg.me wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
&gt; I was thinking KISS and the Unix principle of combining simple,
&gt; single-purpose tools for more complex behavior.
</div>
Well - even if also speed is a general approach of LMU I think, let&#39;s start with KISS and see where this leads us.

That&#39;s anyway very enough for a distinct release ;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1497343" href="/Public/Bug/Display.html?id=102673#txn-1497343">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;18&nbsp;05:47:16&nbsp;2015</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1525521" href="/Public/Bug/Display.html?id=102673#txn-1525521">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;13&nbsp;14:23:49&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Reference by ticket #106399 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.619285</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
