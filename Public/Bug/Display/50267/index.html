<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50267 for Prophet: t/resty-server.t fail/hang</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50267 for Prophet: t/resty-server.t fail/hang</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Prophet/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Prophet/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Prophet/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Prophet/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Prophet">Prophet CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50267</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Prophet/Active/">Prophet</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
rafl [...] debian.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-229034-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-229035-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;06&nbsp;16:24:59&nbsp;2009</span>
    <span class="description">rafl [...] debian.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/resty-server.t fail/hang</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 Oct 2009 22:23:42 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Prophet [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Florian Ragwitz &lt;rafl [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Running t/resty-server.t on commit b688d91 results in a couple of
failing tests as well as the test hanging. Here&#39;s the output of the
test:

t/resty-server.t ......................... 2/26
#   Failed test &#39;start up my web server&#39;
#   at t/resty-server.t line 31.
# HTTP::Server::Simple-&gt;background failed: Can&#39;t use an undefined value
# as a HASH reference at
# /home/rafl/projects/perl/Prophet/blib/lib/Prophet/App.pm line 193,
# &lt;DATA&gt; line 16.
Use of uninitialized value $url_root in join or string at
t/resty-server.t line 34, &lt;DATA&gt; line 16.
Use of uninitialized value $url_root in join or string at
t/resty-server.t line 34, &lt;DATA&gt; line 16.

#   Failed test &#39;GET /records.json&#39;
#   at t/resty-server.t line 37.
# 400
# URL must be absolute

#   Failed test at t/resty-server.t line 38.
#          got: &#39;400 URL must be absolute
# &#39;
#     expected: &#39;[]&#39;
t/resty-server.t ......................... 5/26 Use of uninitialized
value $url_root in join or string at t/resty-server.t line 34.

#   Failed test &#39;GET /records.json&#39;
#   at t/resty-server.t line 44.
# 400
# URL must be absolute

#   Failed test at t/resty-server.t line 45.
#          got: &#39;400 URL must be absolute
# &#39;
#     expected: &#39;[&#34;Cars&#34;]&#39;
Use of uninitialized value $url_root in join or string at
t/resty-server.t line 34.

#   Failed test &#39;GET
#   /records/Cars/809be052-3825-423c-b606-4336ce4e2bd5.json&#39;
#   at t/resty-server.t line 47.
# 400
# URL must be absolute
garbage after JSON object, at character offset 4 &#40;before &#34;URL must be
                absolute...&#34;&#41; at /home/rafl/.perl/lib/site_perl/5.10.1/JSON.pm
line 154.
^Cmake: *** [test_dynamic] Interrupt


It appears to hang, with 100% cpu utilisation. Here&#39;s the
Module::Versions::Report:


Perl v5.10.1 under linux
 Modules in memory:
  Any::Moose v0.10;
  attributes v0.09;
  AutoLoader v5.70;
  B v1.22;
  B::AV;
  B::BINOP;
  B::BM;
  B::COP;
  B::CV;
  B::FM;
  B::GV;
  B::HV;
  B::IO;
  B::IV;
  B::LISTOP;
  B::LOGOP;
  B::LOOP;
  B::NULL;
  B::NV;
  B::OP;
  B::PADOP;
  B::PMOP;
  B::PV;
  B::PVIV;
  B::PVLV;
  B::PVMG;
  B::PVNV;
  B::PVOP;
  B::REGEXP;
  B::RV;
  B::SPECIAL;
  B::SV;
  B::SVOP;
  B::UNOP;
  base v2.14;
  blib v1.04;
  bytes v1.03;
  Carp v1.11;
  Carp::Assert v0.20;
  Carp::Assert::More v1.12;
  CGI v3.48;
  CGI::Util v3.48;
  Class::Accessor v0.34;
  Class::Accessor::Fast v0.34;
  Class::Accessor::Lvalue v0.11;
  Class::Data::Inheritable v0.08;
  Class::Inspector v1.24;
  Class::ISA v0.36;
  common::sense v2.01;
  Compress::Raw::Zlib v2.021;
  Compress::Zlib v2.021;
  Config;
  Config::GitLike v1.02;
  constant v1.19;
  Cwd v3.3;
  Data::Dumper v2.125;
  Data::OptList v0.104;
  DBD::_::db;
  DBD::_::dr;
  DBD::_::st;
  DBD::_mem::db;
  DBD::_mem::dr;
  DBD::_mem::st;
  DBD::Switch::db;
  DBD::Switch::db_mem;
  DBD::Switch::dr;
  DBD::Switch::dr_mem;
  DBD::Switch::st;
  DBD::Switch::st_mem;
  DBI v1.609;
  DBI::db;
  DBI::dr;
  DBI::st;
  Devel::InnerPackage v0.3;
  Digest::base v1.16;
  Digest::MD5 v2.39;
  Digest::SHA v5.47;
  DynaLoader v1.10;
  Encode v2.37;
  Encode::Alias v2.12;
  Encode::Config v2.05;
  Encode::Encoding v2.05;
  Encode::Internal;
  Encode::utf8;
  Encode::UTF_EBCDIC;
  Errno v1.11;
  EVERY;
  EVERY::LAST;
  Exporter v5.63;
  Exporter::Heavy v5.63;
  Exporter::Lite v0.02;
  Fcntl v1.06;
  File::Basename v2.77;
  File::Find v1.14;
  File::Glob v1.06;
  File::GlobMapper v1.000;
  File::Path v2.08;
  File::ShareDir v1.00;
  File::Spec v3.3;
  File::Spec::Functions v3.3;
  File::Spec::Unix v3.3;
  File::Temp v0.22;
  FileHandle v2.02;
  HTML::Entities v3.60;
  HTML::Form v5.829;
  HTML::Form::FileInput;
  HTML::Form::IgnoreInput;
  HTML::Form::ImageInput;
  HTML::Form::KeygenInput;
  HTML::Form::ListInput;
  HTML::Form::SubmitInput;
  HTML::Form::TextInput;
  HTML::Parser v3.62;
  HTML::PullParser v3.57;
  HTML::Tagset v3.20;
  HTML::TokeParser v3.57;
  HTTP::Config v5.815;
  HTTP::Cookies v5.832;
  HTTP::Cookies::Netscape v5.832;
  HTTP::Date v5.831;
  HTTP::Headers v5.827;
  HTTP::Headers::Util v5.817;
  HTTP::Message v5.832;
  HTTP::Request v5.827;
  HTTP::Request::Common v5.824;
  HTTP::Request::SUPER;
  HTTP::Response v5.824;
  HTTP::Response::SUPER;
  HTTP::Server::Simple v0.41;
  HTTP::Server::Simple::CGI v0.41;
  HTTP::Server::Simple::CGI::Environment v0.41;
  HTTP::Status v5.817;
  if v0.05;
  integer v1.00;
  IO v1.25;
  IO::Compress::Adapter::Deflate v2.021;
  IO::Compress::Base v2.021;
  IO::Compress::Base::Common v2.021;
  IO::Compress::Gzip v2.021;
  IO::Compress::Gzip::Constants v2.021;
  IO::Compress::RawDeflate v2.021;
  IO::Compress::Zlib::Extra v2.021;
  IO::File v1.14;
  IO::Handle v1.28;
  IO::Seekable v1.1;
  IO::Uncompress::Adapter::Inflate v2.021;
  IO::Uncompress::Base v2.021;
  IO::Uncompress::Gunzip v2.021;
  IO::Uncompress::RawInflate v2.021;
  JSON v2.15;
  JSON::Backend::XS::Supportable;
  JSON::XS v2.25;
  JSON::XS::Boolean;
  List::Util v1.21;
  LWP v5.832;
  LWP::ConnCache v5.810;
  LWP::Protocol v5.829;
  LWP::UserAgent v5.832;
  Memoize v1.01_03;
  MIME::Base64 v3.08;
  MIME::Base64::URLSafe v0.01;
  Module::Pluggable v3.9;
  Module::Pluggable::Object v3.9;
  Module::Versions::Report v1.06;
  Mouse v0.37;
  Mouse::Meta::Class;
  Mouse::Meta::Role;
  Mouse::Object;
  Mouse::Role;
  Mouse::Util;
  Mouse::Util::TypeConstraints;
  mro v1.01;
  Net::DBus v0.33.6;
  Net::DBus::Annotation;
  Net::DBus::Binding::Bus;
  Net::DBus::Binding::Bus::SUPER;
  Net::DBus::Binding::Connection v-1, set by base.pm;
  Net::DBus::Binding::Message v-1, set by base.pm;
  Net::DBus::Binding::Message::Error;
  Net::DBus::Binding::Message::MethodCall;
  Net::DBus::Binding::Message::MethodCall::SUPER;
  Net::DBus::Binding::Message::MethodReturn;
  Net::DBus::Binding::Message::Signal;
  Net::Rendezvous::Publish v0.04;
  Net::Rendezvous::Publish::Backend::Avahi v0.03;
  Net::Rendezvous::Publish::Service;
  Net::Rendezvous::Publish::SUPER;
  NEXT v0.64;
  NEXT::ACTUAL;
  NEXT::ACTUAL::DISTINCT;
  NEXT::ACTUAL::UNSEEN;
  NEXT::DISTINCT;
  NEXT::DISTINCT::ACTUAL;
  NEXT::UNSEEN;
  NEXT::UNSEEN::ACTUAL;
  overload v1.07;
  Params::Util v1.00;
  Params::Validate v0.92;
  Path::Dispatcher v0.13;
  Path::Dispatcher::Builder;
  Path::Dispatcher::Declarative;
  Path::Dispatcher::Dispatch;
  Path::Dispatcher::Match;
  Path::Dispatcher::Path;
  Path::Dispatcher::Rule;
  Path::Dispatcher::Rule::Always;
  Path::Dispatcher::Rule::Chain;
  Path::Dispatcher::Rule::CodeRef;
  Path::Dispatcher::Rule::Dispatch;
  Path::Dispatcher::Rule::Empty;
  Path::Dispatcher::Rule::Eq;
  Path::Dispatcher::Rule::Intersection;
  Path::Dispatcher::Rule::Metadata;
  Path::Dispatcher::Rule::Regex;
  Path::Dispatcher::Rule::Tokens;
  Path::Dispatcher::Rule::Under;
  POSIX v1.17;
  POSIX::SigRt;
  Prophet v0.73;
  Prophet::App;
  Prophet::Change;
  Prophet::ChangeSet;
  Prophet::CLI;
  Prophet::CLI::Command;
  Prophet::CLI::Dispatcher;
  Prophet::CLIContext;
  Prophet::Config;
  Prophet::Config::SUPER;
  Prophet::ContentAddressedStore;
  Prophet::DatabaseSetting;
  Prophet::FilesystemReplica;
  Prophet::Meta::Types;
  Prophet::PropChange;
  Prophet::Record;
  Prophet::Replica;
  Prophet::Replica::file;
  Prophet::Replica::file::SUPER;
  Prophet::Replica::FS::Backend::File;
  Prophet::Replica::prophet;
  Prophet::Replica::prophet::SUPER;
  Prophet::Replica::sqlite;
  Prophet::Server v-1, set by base.pm;
  Prophet::Server::Controller;
  Prophet::Server::Dispatcher;
  Prophet::Server::View;
  Prophet::Server::ViewHelpers;
  Prophet::Server::ViewHelpers::Function;
  Prophet::Server::ViewHelpers::HiddenParam;
  Prophet::Server::ViewHelpers::ParamFromFunction;
  Prophet::Server::ViewHelpers::Widget;
  Prophet::Test;
  Prophet::TestServer;
  Prophet::UUIDGenerator;
  Prophet::Web::Field;
  Prophet::Web::FunctionResult;
  Prophet::Web::Menu;
  Prophet::Web::Result;
  re v0.09;
  Scalar::Util v1.21;
  SelectSaver v1.02;
  Socket v1.82;
  Storable v2.21;
  strict v1.04;
  String::BufferStack v1.14;
  Sub::Exporter v0.982;
  Sub::Install v0.925;
  Sub::Name v0.04;
  Symbol v1.07;
  Template::Declare v0.40;
  Template::Declare::Tags v0.27;
  Template::Declare::TagSet v-1, set by base.pm;
  Template::Declare::TagSet::HTML;
  Test::Builder v0.94;
  Test::Builder::Module v0.94;
  Test::HTTP::Server::Simple v0.10;
  Test::LongString v0.11;
  Test::More v0.94;
  Test::WWW::Mechanize v1.24;
  Test::WWW::Mechanize::SUPER;
  Text::ParseWords v3.27;
  Tie::Hash v1.03;
  Time::HiRes v1.9719;
  Time::Local v1.1901;
  UNIVERSAL v1.05;
  URI v1.40;
  URI::_generic;
  URI::Escape v3.29;
  utf8 v1.07;
  UUID::Tiny v1.02;
  vars v1.01;
  Want v0.18;
  warnings v1.06;
  warnings::register v1.01;
  WWW::Mechanize v1.60;
  WWW::Mechanize::SUPER;
  XML::Parser v2.36;
  XML::Parser::Expat v2.36;
  XML::Parser::ExpatNB;
  XML::Twig v3.32;
  XML::Twig::SUPER;
  XSLoader v0.10;
  Zlib::OldDeflate;
  Zlib::OldInflate;
[at Tue Oct  6 22:05:28 2009 &#40;local&#41; / Tue Oct  6 20:05:28 2009 &#40;GMT&#41;]


-- 
BOFH excuse #56:
Electricians made popcorn in the power supply
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;06&nbsp;17:38:27&nbsp;2009</span>
    <span class="description">jesse [...] fsck.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50267] t/resty-server.t fail/hang</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 Oct 2009 17:06:11 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Florian Ragwitz via RT &lt;bug-Prophet [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jesse &lt;jesse [...] fsck.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks fixed just now.


On Tue, Oct 06, 2009 at 04:25:00PM -0400, Florian Ragwitz via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Oct 06 16:24:59 2009: Request 50267 was acted upon.
&gt; Transaction: Ticket created by FLORA
&gt;        Queue: Prophet
&gt;      Subject: t/resty-server.t fail/hang
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: rafl@debian.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50267">https://rt.cpan.org/Ticket/Display.html?id=50267</a></span> &gt;
&gt; 
&gt; 
&gt; Running t/resty-server.t on commit b688d91 results in a couple of
&gt; failing tests as well as the test hanging. Here&#39;s the output of the
&gt; test:
&gt; 
&gt; t/resty-server.t ......................... 2/26
&gt; #   Failed test &#39;start up my web server&#39;
&gt; #   at t/resty-server.t line 31.
&gt; # HTTP::Server::Simple-&gt;background failed: Can&#39;t use an undefined value
&gt; # as a HASH reference at
&gt; # /home/rafl/projects/perl/Prophet/blib/lib/Prophet/App.pm line 193,
&gt; # &lt;DATA&gt; line 16.
&gt; Use of uninitialized value $url_root in join or string at
&gt; t/resty-server.t line 34, &lt;DATA&gt; line 16.
&gt; Use of uninitialized value $url_root in join or string at
&gt; t/resty-server.t line 34, &lt;DATA&gt; line 16.
&gt; 
&gt; #   Failed test &#39;GET /records.json&#39;
&gt; #   at t/resty-server.t line 37.
&gt; # 400
&gt; # URL must be absolute
&gt; 
&gt; #   Failed test at t/resty-server.t line 38.
&gt; #          got: &#39;400 URL must be absolute
&gt; # &#39;
&gt; #     expected: &#39;[]&#39;
&gt; t/resty-server.t ......................... 5/26 Use of uninitialized
&gt; value $url_root in join or string at t/resty-server.t line 34.
&gt; 
&gt; #   Failed test &#39;GET /records.json&#39;
&gt; #   at t/resty-server.t line 44.
&gt; # 400
&gt; # URL must be absolute
&gt; 
&gt; #   Failed test at t/resty-server.t line 45.
&gt; #          got: &#39;400 URL must be absolute
&gt; # &#39;
&gt; #     expected: &#39;[&#34;Cars&#34;]&#39;
&gt; Use of uninitialized value $url_root in join or string at
&gt; t/resty-server.t line 34.
&gt; 
&gt; #   Failed test &#39;GET
&gt; #   /records/Cars/809be052-3825-423c-b606-4336ce4e2bd5.json&#39;
&gt; #   at t/resty-server.t line 47.
&gt; # 400
&gt; # URL must be absolute
&gt; garbage after JSON object, at character offset 4 &#40;before &#34;URL must be
&gt;               absolute...&#34;&#41; at /home/rafl/.perl/lib/site_perl/5.10.1/JSON.pm
&gt; line 154.
&gt; ^Cmake: *** [test_dynamic] Interrupt
&gt; 
&gt; 
&gt; It appears to hang, with 100% cpu utilisation. Here&#39;s the
&gt; Module::Versions::Report:
&gt; 
&gt; 
&gt; Perl v5.10.1 under linux
&gt;  Modules in memory:
&gt;   Any::Moose v0.10;
&gt;   attributes v0.09;
&gt;   AutoLoader v5.70;
&gt;   B v1.22;
&gt;   B::AV;
&gt;   B::BINOP;
&gt;   B::BM;
&gt;   B::COP;
&gt;   B::CV;
&gt;   B::FM;
&gt;   B::GV;
&gt;   B::HV;
&gt;   B::IO;
&gt;   B::IV;
&gt;   B::LISTOP;
&gt;   B::LOGOP;
&gt;   B::LOOP;
&gt;   B::NULL;
&gt;   B::NV;
&gt;   B::OP;
&gt;   B::PADOP;
&gt;   B::PMOP;
&gt;   B::PV;
&gt;   B::PVIV;
&gt;   B::PVLV;
&gt;   B::PVMG;
&gt;   B::PVNV;
&gt;   B::PVOP;
&gt;   B::REGEXP;
&gt;   B::RV;
&gt;   B::SPECIAL;
&gt;   B::SV;
&gt;   B::SVOP;
&gt;   B::UNOP;
&gt;   base v2.14;
&gt;   blib v1.04;
&gt;   bytes v1.03;
&gt;   Carp v1.11;
&gt;   Carp::Assert v0.20;
&gt;   Carp::Assert::More v1.12;
&gt;   CGI v3.48;
&gt;   CGI::Util v3.48;
&gt;   Class::Accessor v0.34;
&gt;   Class::Accessor::Fast v0.34;
&gt;   Class::Accessor::Lvalue v0.11;
&gt;   Class::Data::Inheritable v0.08;
&gt;   Class::Inspector v1.24;
&gt;   Class::ISA v0.36;
&gt;   common::sense v2.01;
&gt;   Compress::Raw::Zlib v2.021;
&gt;   Compress::Zlib v2.021;
&gt;   Config;
&gt;   Config::GitLike v1.02;
&gt;   constant v1.19;
&gt;   Cwd v3.3;
&gt;   Data::Dumper v2.125;
&gt;   Data::OptList v0.104;
&gt;   DBD::_::db;
&gt;   DBD::_::dr;
&gt;   DBD::_::st;
&gt;   DBD::_mem::db;
&gt;   DBD::_mem::dr;
&gt;   DBD::_mem::st;
&gt;   DBD::Switch::db;
&gt;   DBD::Switch::db_mem;
&gt;   DBD::Switch::dr;
&gt;   DBD::Switch::dr_mem;
&gt;   DBD::Switch::st;
&gt;   DBD::Switch::st_mem;
&gt;   DBI v1.609;
&gt;   DBI::db;
&gt;   DBI::dr;
&gt;   DBI::st;
&gt;   Devel::InnerPackage v0.3;
&gt;   Digest::base v1.16;
&gt;   Digest::MD5 v2.39;
&gt;   Digest::SHA v5.47;
&gt;   DynaLoader v1.10;
&gt;   Encode v2.37;
&gt;   Encode::Alias v2.12;
&gt;   Encode::Config v2.05;
&gt;   Encode::Encoding v2.05;
&gt;   Encode::Internal;
&gt;   Encode::utf8;
&gt;   Encode::UTF_EBCDIC;
&gt;   Errno v1.11;
&gt;   EVERY;
&gt;   EVERY::LAST;
&gt;   Exporter v5.63;
&gt;   Exporter::Heavy v5.63;
&gt;   Exporter::Lite v0.02;
&gt;   Fcntl v1.06;
&gt;   File::Basename v2.77;
&gt;   File::Find v1.14;
&gt;   File::Glob v1.06;
&gt;   File::GlobMapper v1.000;
&gt;   File::Path v2.08;
&gt;   File::ShareDir v1.00;
&gt;   File::Spec v3.3;
&gt;   File::Spec::Functions v3.3;
&gt;   File::Spec::Unix v3.3;
&gt;   File::Temp v0.22;
&gt;   FileHandle v2.02;
&gt;   HTML::Entities v3.60;
&gt;   HTML::Form v5.829;
&gt;   HTML::Form::FileInput;
&gt;   HTML::Form::IgnoreInput;
&gt;   HTML::Form::ImageInput;
&gt;   HTML::Form::KeygenInput;
&gt;   HTML::Form::ListInput;
&gt;   HTML::Form::SubmitInput;
&gt;   HTML::Form::TextInput;
&gt;   HTML::Parser v3.62;
&gt;   HTML::PullParser v3.57;
&gt;   HTML::Tagset v3.20;
&gt;   HTML::TokeParser v3.57;
&gt;   HTTP::Config v5.815;
&gt;   HTTP::Cookies v5.832;
&gt;   HTTP::Cookies::Netscape v5.832;
&gt;   HTTP::Date v5.831;
&gt;   HTTP::Headers v5.827;
&gt;   HTTP::Headers::Util v5.817;
&gt;   HTTP::Message v5.832;
&gt;   HTTP::Request v5.827;
&gt;   HTTP::Request::Common v5.824;
&gt;   HTTP::Request::SUPER;
&gt;   HTTP::Response v5.824;
&gt;   HTTP::Response::SUPER;
&gt;   HTTP::Server::Simple v0.41;
&gt;   HTTP::Server::Simple::CGI v0.41;
&gt;   HTTP::Server::Simple::CGI::Environment v0.41;
&gt;   HTTP::Status v5.817;
&gt;   if v0.05;
&gt;   integer v1.00;
&gt;   IO v1.25;
&gt;   IO::Compress::Adapter::Deflate v2.021;
&gt;   IO::Compress::Base v2.021;
&gt;   IO::Compress::Base::Common v2.021;
&gt;   IO::Compress::Gzip v2.021;
&gt;   IO::Compress::Gzip::Constants v2.021;
&gt;   IO::Compress::RawDeflate v2.021;
&gt;   IO::Compress::Zlib::Extra v2.021;
&gt;   IO::File v1.14;
&gt;   IO::Handle v1.28;
&gt;   IO::Seekable v1.1;
&gt;   IO::Uncompress::Adapter::Inflate v2.021;
&gt;   IO::Uncompress::Base v2.021;
&gt;   IO::Uncompress::Gunzip v2.021;
&gt;   IO::Uncompress::RawInflate v2.021;
&gt;   JSON v2.15;
&gt;   JSON::Backend::XS::Supportable;
&gt;   JSON::XS v2.25;
&gt;   JSON::XS::Boolean;
&gt;   List::Util v1.21;
&gt;   LWP v5.832;
&gt;   LWP::ConnCache v5.810;
&gt;   LWP::Protocol v5.829;
&gt;   LWP::UserAgent v5.832;
&gt;   Memoize v1.01_03;
&gt;   MIME::Base64 v3.08;
&gt;   MIME::Base64::URLSafe v0.01;
&gt;   Module::Pluggable v3.9;
&gt;   Module::Pluggable::Object v3.9;
&gt;   Module::Versions::Report v1.06;
&gt;   Mouse v0.37;
&gt;   Mouse::Meta::Class;
&gt;   Mouse::Meta::Role;
&gt;   Mouse::Object;
&gt;   Mouse::Role;
&gt;   Mouse::Util;
&gt;   Mouse::Util::TypeConstraints;
&gt;   mro v1.01;
&gt;   Net::DBus v0.33.6;
&gt;   Net::DBus::Annotation;
&gt;   Net::DBus::Binding::Bus;
&gt;   Net::DBus::Binding::Bus::SUPER;
&gt;   Net::DBus::Binding::Connection v-1, set by base.pm;
&gt;   Net::DBus::Binding::Message v-1, set by base.pm;
&gt;   Net::DBus::Binding::Message::Error;
&gt;   Net::DBus::Binding::Message::MethodCall;
&gt;   Net::DBus::Binding::Message::MethodCall::SUPER;
&gt;   Net::DBus::Binding::Message::MethodReturn;
&gt;   Net::DBus::Binding::Message::Signal;
&gt;   Net::Rendezvous::Publish v0.04;
&gt;   Net::Rendezvous::Publish::Backend::Avahi v0.03;
&gt;   Net::Rendezvous::Publish::Service;
&gt;   Net::Rendezvous::Publish::SUPER;
&gt;   NEXT v0.64;
&gt;   NEXT::ACTUAL;
&gt;   NEXT::ACTUAL::DISTINCT;
&gt;   NEXT::ACTUAL::UNSEEN;
&gt;   NEXT::DISTINCT;
&gt;   NEXT::DISTINCT::ACTUAL;
&gt;   NEXT::UNSEEN;
&gt;   NEXT::UNSEEN::ACTUAL;
&gt;   overload v1.07;
&gt;   Params::Util v1.00;
&gt;   Params::Validate v0.92;
&gt;   Path::Dispatcher v0.13;
&gt;   Path::Dispatcher::Builder;
&gt;   Path::Dispatcher::Declarative;
&gt;   Path::Dispatcher::Dispatch;
&gt;   Path::Dispatcher::Match;
&gt;   Path::Dispatcher::Path;
&gt;   Path::Dispatcher::Rule;
&gt;   Path::Dispatcher::Rule::Always;
&gt;   Path::Dispatcher::Rule::Chain;
&gt;   Path::Dispatcher::Rule::CodeRef;
&gt;   Path::Dispatcher::Rule::Dispatch;
&gt;   Path::Dispatcher::Rule::Empty;
&gt;   Path::Dispatcher::Rule::Eq;
&gt;   Path::Dispatcher::Rule::Intersection;
&gt;   Path::Dispatcher::Rule::Metadata;
&gt;   Path::Dispatcher::Rule::Regex;
&gt;   Path::Dispatcher::Rule::Tokens;
&gt;   Path::Dispatcher::Rule::Under;
&gt;   POSIX v1.17;
&gt;   POSIX::SigRt;
&gt;   Prophet v0.73;
&gt;   Prophet::App;
&gt;   Prophet::Change;
&gt;   Prophet::ChangeSet;
&gt;   Prophet::CLI;
&gt;   Prophet::CLI::Command;
&gt;   Prophet::CLI::Dispatcher;
&gt;   Prophet::CLIContext;
&gt;   Prophet::Config;
&gt;   Prophet::Config::SUPER;
&gt;   Prophet::ContentAddressedStore;
&gt;   Prophet::DatabaseSetting;
&gt;   Prophet::FilesystemReplica;
&gt;   Prophet::Meta::Types;
&gt;   Prophet::PropChange;
&gt;   Prophet::Record;
&gt;   Prophet::Replica;
&gt;   Prophet::Replica::file;
&gt;   Prophet::Replica::file::SUPER;
&gt;   Prophet::Replica::FS::Backend::File;
&gt;   Prophet::Replica::prophet;
&gt;   Prophet::Replica::prophet::SUPER;
&gt;   Prophet::Replica::sqlite;
&gt;   Prophet::Server v-1, set by base.pm;
&gt;   Prophet::Server::Controller;
&gt;   Prophet::Server::Dispatcher;
&gt;   Prophet::Server::View;
&gt;   Prophet::Server::ViewHelpers;
&gt;   Prophet::Server::ViewHelpers::Function;
&gt;   Prophet::Server::ViewHelpers::HiddenParam;
&gt;   Prophet::Server::ViewHelpers::ParamFromFunction;
&gt;   Prophet::Server::ViewHelpers::Widget;
&gt;   Prophet::Test;
&gt;   Prophet::TestServer;
&gt;   Prophet::UUIDGenerator;
&gt;   Prophet::Web::Field;
&gt;   Prophet::Web::FunctionResult;
&gt;   Prophet::Web::Menu;
&gt;   Prophet::Web::Result;
&gt;   re v0.09;
&gt;   Scalar::Util v1.21;
&gt;   SelectSaver v1.02;
&gt;   Socket v1.82;
&gt;   Storable v2.21;
&gt;   strict v1.04;
&gt;   String::BufferStack v1.14;
&gt;   Sub::Exporter v0.982;
&gt;   Sub::Install v0.925;
&gt;   Sub::Name v0.04;
&gt;   Symbol v1.07;
&gt;   Template::Declare v0.40;
&gt;   Template::Declare::Tags v0.27;
&gt;   Template::Declare::TagSet v-1, set by base.pm;
&gt;   Template::Declare::TagSet::HTML;
&gt;   Test::Builder v0.94;
&gt;   Test::Builder::Module v0.94;
&gt;   Test::HTTP::Server::Simple v0.10;
&gt;   Test::LongString v0.11;
&gt;   Test::More v0.94;
&gt;   Test::WWW::Mechanize v1.24;
&gt;   Test::WWW::Mechanize::SUPER;
&gt;   Text::ParseWords v3.27;
&gt;   Tie::Hash v1.03;
&gt;   Time::HiRes v1.9719;
&gt;   Time::Local v1.1901;
&gt;   UNIVERSAL v1.05;
&gt;   URI v1.40;
&gt;   URI::_generic;
&gt;   URI::Escape v3.29;
&gt;   utf8 v1.07;
&gt;   UUID::Tiny v1.02;
&gt;   vars v1.01;
&gt;   Want v0.18;
&gt;   warnings v1.06;
&gt;   warnings::register v1.01;
&gt;   WWW::Mechanize v1.60;
&gt;   WWW::Mechanize::SUPER;
&gt;   XML::Parser v2.36;
&gt;   XML::Parser::Expat v2.36;
&gt;   XML::Parser::ExpatNB;
&gt;   XML::Twig v3.32;
&gt;   XML::Twig::SUPER;
&gt;   XSLoader v0.10;
&gt;   Zlib::OldDeflate;
&gt;   Zlib::OldInflate;
&gt; [at Tue Oct  6 22:05:28 2009 &#40;local&#41; / Tue Oct  6 20:05:28 2009 &#40;GMT&#41;]
&gt; 
&gt; 
&gt; -- 
&gt; BOFH excuse #56:
&gt; Electricians made popcorn in the power supply
&gt; 
</div>


-- 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;06&nbsp;17:38:28&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;02&nbsp;07:32:54&nbsp;2011</span>
    <span class="description">spang [...] mit.edu -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
