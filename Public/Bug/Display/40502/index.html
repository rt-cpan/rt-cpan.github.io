<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #40502 for CGI: Needs Doc Patch: escapeHTML unicode handling</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #40502 for CGI: Needs Doc Patch: escapeHTML unicode handling</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CGI">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CGI">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CGI">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CGI">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/leejo/CGI.pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/CGI">CGI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">40502</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CGI">CGI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MARKSTOS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ky6uk.kun [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
Martijn van de Streek
(no email address)

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-230860-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-230861-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




cgi.pm.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/649024/332283/cgi.pm.diff">
Mon Aug 17 09:24:35 2009 (915b) by Martijn van de Streek
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/648879/332177/cgi.pm.diff">
Mon Aug 17 02:33:47 2009 (874b) by Martijn van de Streek
</a>
</font></li>
</ul>


test.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/648456/331921/test.pl">
Sat Aug 15 14:02:46 2009 (395b) by Martijn van de Streek
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=40502">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-526246" href="/Public/Bug/Display.html?id=40502#txn-526246">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;29&nbsp;15:24:48&nbsp;2008</span>
    <span class="description">ky6uk [...] mail.rb.ru -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> escapeHTML unicode bug</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/526246/263277/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/263277">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 342b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">for example:

use CGI qw&#40;escapeHTML&#41;;
my $cgi = CGI-&gt;new&#40;&#41;;
$cgi-&gt;header&#40;-encode =&gt; &#39;utf-8&#39;&#41;;
print &#34;ы\n&#34;;
print escapeHTML&#40;&#34;ы&#34;&#41;;

result:
ы
�&#38;#8249;



-------------
CGI-3.42

$ perl -v
This is perl, v5.10.0 built for i486-linux-gnu-thread-multi

$ uname -a
Linux desu 2.6.27-1-generic #1 SMP Sat Aug 23 23:20:09 UTC 2008 i686
GNU/Linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-526535" href="/Public/Bug/Display.html?id=40502#txn-526535">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;30&nbsp;06:20:48&nbsp;2008</span>
    <span class="description">ky6uk [...] mail.rb.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ky6uk [...] mail.rb.ru</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/526535/263429/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/263429">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 123b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд. Окт. 29 15:24:48 2008, Ky6uk писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; -------------
&gt; CGI-3.42
</div>sry, CGI v3.34
I update and test 3.42 today.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-526536" href="/Public/Bug/Display.html?id=40502#txn-526536">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;30&nbsp;06:20:49&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641786" href="/Public/Bug/Display.html?id=40502#txn-641786">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;29&nbsp;23:18:19&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641787" href="/Public/Bug/Display.html?id=40502#txn-641787">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;29&nbsp;23:19:10&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/641787/328037/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/328037">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 331b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 29 15:24:48 2008, Ky6uk wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; for example:
&gt; 
&gt; use CGI qw&#40;escapeHTML&#41;;
&gt; my $cgi = CGI-&gt;new&#40;&#41;;
&gt; $cgi-&gt;header&#40;-encode =&gt; &#39;utf-8&#39;&#41;;
&gt; print &#34;ы\n&#34;;
&gt; print escapeHTML&#40;&#34;ы&#34;&#41;;
&gt; 
&gt; result:
&gt; ы
&gt; �&#38;#8249;
</div>
I&#39;m sorry, I&#39;m not very familiar with UTF-8 and don&#39;t see what the bug
is here. Could you explain it? 

   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641790" href="/Public/Bug/Display.html?id=40502#txn-641790">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;29&nbsp;23:19:49&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Subject changed from &#39;escapeHTML unicode bug&#39; to &#39;Needs explanation: escapeHTML unicode bug&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648449" href="/Public/Bug/Display.html?id=40502#txn-648449">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;15&nbsp;13:43:55&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> martijn [...] vandestreek.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/648449/331911/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/331911">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wo. Okt. 29 15:24:48 2008, Ky6uk wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; for example:
&gt; 
&gt; use CGI qw&#40;escapeHTML&#41;;
&gt; my $cgi = CGI-&gt;new&#40;&#41;;
&gt; $cgi-&gt;header&#40;-encode =&gt; &#39;utf-8&#39;&#41;;
&gt; print &#34;ы\n&#34;;
&gt; print escapeHTML&#40;&#34;ы&#34;&#41;;
&gt; 
&gt; result:
&gt; ы
&gt; �&#38;#8249;
</div>
The result piped through &#34;od -t x1&#34;, to show which bytes are present:

0000000 d1 8b 0a d1 26 23 38 32 34 39 3b 0a
        ^^ ^^ UTF-8 representation of ы
              ^^ Newline
                 ^^ First byte of UTF-8 representation
                    ^^ ^^ ^^ ^^ ^^ ^^ ^^ &#38;#8249; &#40;&#34;‹&#34; from cp1251&#41;
                                         ^^ newline

It seems like the bug is cause by faulty assumptions about the . If you
add &#34;use utf8;&#34; to the demo/test script, you&#39;ll see that Perl starts to
warn about wide characters in output.

This means you&#39;ll have to choose which one of the following options you
think is best:
 * Encode::encode&#40;&#39;utf8&#39;, htmlEscape&#40;$string&#41;&#41;; # hE gets strings
 * htmlEscape&#40;Encode::encode&#40;&#39;utf8&#39;, $string&#41;&#41;; # hE gets bytes

Personally, I think the cleanest solution is to let htmlEscape accept
only &#40;character&#41; strings, as encoding should usually be the last thing
you do before writing to output.

Having htmlEscape accept only character strings also makes it easier to
recognise characters that might need to be escaped: if htmlEscape were
to accept bytes, it would have to re-&#40;Encode::&#41;decode the string using
the preferred encoding &#40;as specified by the &#34;charset=&#34; header part&#41;,
figure out which characters needed html-escaping, and then
re-&#40;Encode::&#41;encode everything into the source encoding.

You can read more about unicode and bytes vs character strings in the
&#34;perlunicode&#34; manpage.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648452" href="/Public/Bug/Display.html?id=40502#txn-648452">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;15&nbsp;13:45:14&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/648452/331914/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/331914">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 403b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 0000000 d1 8b 0a d1 26 23 38 32 34 39 3b 0a
&gt;         ^^ ^^ UTF-8 representation of ы
&gt;               ^^ Newline
&gt;                  ^^ First byte of UTF-8 representation
&gt;                     ^^ ^^ ^^ ^^ ^^ ^^ ^^ &#38;#8249; &#40;&#34;‹&#34; from cp1251&#41;
&gt;                                          ^^ newline
</div>
This doesn&#39;t line up correctly in the RT web interface. Follow the
&#34;download&#34; link for correct spacing.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648456" href="/Public/Bug/Display.html?id=40502#txn-648456">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;15&nbsp;14:02:46&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/648456/331918/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/331918">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 255b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Personally, I think the cleanest solution is to let htmlEscape accept
&gt; only &#40;character&#41; strings, as encoding should usually be the last thing
&gt; you do before writing to output.
</div>
This attachment illustrates the point. It only triggers the bug in case 3.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/648456/331921/test.pl">Download test.pl</a><br />
<span class="downloadcontenttype">text/x-perl 395b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use utf8;
use CGI qw&#40;escapeHTML&#41;;
use Encode qw&#40;encode&#41;;
my $cgi = CGI-&gt;new&#40;&#41;;
$cgi-&gt;header&#40;-encode =&gt; &#39;utf-8&#39;&#41;;

# Just encode the character as UTF-8
print &#34;1&#34;, encode&#40;&#39;utf8&#39;, &#34;Ñ\n&#34;&#41;;

# Encode the output of escapeHTML
print &#34;2&#34;, encode&#40;&#39;utf8&#39;, escapeHTML&#40;&#34;Ñ&#34;&#41;&#41;, $/;

# Encode the character to UTF-8 bytes, then give it to escapeHTML &#40;breaks&#41;
print &#34;3&#34;, escapeHTML&#40;encode&#40;&#39;utf8&#39;, &#34;Ñ&#34;&#41;&#41;, $/;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648518" href="/Public/Bug/Display.html?id=40502#txn-648518">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;15&nbsp;16:12:23&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/648518/331948/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/331948">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 314b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Personally, I think the cleanest solution is to let htmlEscape accept
&gt; only &#40;character&#41; strings, as encoding should usually be the last thing
&gt; you do before writing to output.
</div>
That makes sense to me.  Is this just something we document or is there
some way we should patch the code to enforce this?

   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648613" href="/Public/Bug/Display.html?id=40502#txn-648613">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;16&nbsp;02:31:05&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> martijn [...] vandestreek.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/648613/332021/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332021">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Za. Aug. 15 16:12:23 2009, MARKSTOS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  
<div class="message-stanza open">&gt; &gt; Personally, I think the cleanest solution is to let htmlEscape accept
&gt; &gt; only &#40;character&#41; strings, as encoding should usually be the last thing
&gt; &gt; you do before writing to output.
</div>&gt; 
&gt; That makes sense to me.  Is this just something we document or is there
&gt; some way we should patch the code to enforce this?
</div>
I think just documenting it would be enough. As far as I know there&#39;s no
easy way to tell if a string is a byte string or a character string.

You might want to mention these points:

 * Either &#34;use utf8;&#34; or &#34;use encoding &#39;your_favorite_encoding&#39;;&#34;
   This will make sure all string literals are character strings
 * Encode::encode&#40;&#41; before writing to output, or set up a filter using
binmode $handle, &#34;:encoding&#40;utf8&#41;&#34; to have it done for you automatically
 &#40;otherwise print might warn about &#34;wide character in output&#34;; this also
makes code portable to Perls that use other internal encodings than UTF-8&#41;
 * Encode::decode&#40;&#41; all incoming strings &#40;eg. from CGI::param&#41; so they
become character strings.
 * Refer to perlunicode

Martijn
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648616" href="/Public/Bug/Display.html?id=40502#txn-648616">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;16&nbsp;02:32:37&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Cc MartijnVdS added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648803" href="/Public/Bug/Display.html?id=40502#txn-648803">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;16&nbsp;18:44:07&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Subject changed from &#39;Needs explanation: escapeHTML unicode bug&#39; to &#39;Needs Doc Patch: escapeHTML unicode handling&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648804" href="/Public/Bug/Display.html?id=40502#txn-648804">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;16&nbsp;18:45:43&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/648804/332128/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332128">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Aug 16 02:31:05 2009, MartijnVdS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Za. Aug. 15 16:12:23 2009, MARKSTOS wrote:
<div class="message-stanza open">&gt; &gt;  
<div class="message-stanza open">&gt; &gt; &gt; Personally, I think the cleanest solution is to let htmlEscape accept
&gt; &gt; &gt; only &#40;character&#41; strings, as encoding should usually be the last thing
&gt; &gt; &gt; you do before writing to output.
</div>&gt; &gt; 
&gt; &gt; That makes sense to me.  Is this just something we document or is there
&gt; &gt; some way we should patch the code to enforce this?
</div>&gt; 
&gt; I think just documenting it would be enough. As far as I know there&#39;s no
&gt; easy way to tell if a string is a byte string or a character string.
&gt; 
&gt; You might want to mention these points:
&gt; 
&gt;  * Either &#34;use utf8;&#34; or &#34;use encoding &#39;your_favorite_encoding&#39;;&#34;
&gt;    This will make sure all string literals are character strings
&gt;  * Encode::encode&#40;&#41; before writing to output, or set up a filter using
&gt; binmode $handle, &#34;:encoding&#40;utf8&#41;&#34; to have it done for you automatically
&gt;  &#40;otherwise print might warn about &#34;wide character in output&#34;; this also
&gt; makes code portable to Perls that use other internal encodings than UTF-8&#41;
&gt;  * Encode::decode&#40;&#41; all incoming strings &#40;eg. from CGI::param&#41; so they
&gt; become character strings.
&gt;  * Refer to perlunicode
</div>
Thank you. 

Would you mind submitting a formal doc patch for this? You&#39;ll receive
credit in the &#34;Changes&#34; file for your contribution. Just attaching a
&#34;diff&#34; to this ticket would be fine. 

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648879" href="/Public/Bug/Display.html?id=40502#txn-648879">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;02:33:47&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> martijn [...] vandestreek.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/648879/332174/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332174">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 574b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you. 
&gt; 
&gt; Would you mind submitting a formal doc patch for this? You&#39;ll receive
&gt; credit in the &#34;Changes&#34; file for your contribution. Just attaching a
&gt; &#34;diff&#34; to this ticket would be fine. 
</div>
I&#39;ve attached the diff adding my documentation.

Proper unicode support might require larger changes: the code has lots
of special cases for Latin1/CP1252. If everything was handled as
character strings &#40;based on the set encoding/charset&#41;, things could be
so much easier. But I understand that might be too big an API change for
a module as old and as widely used as CGI.pm
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/648879/332177/cgi.pm.diff">Download cgi.pm.diff</a><br />
<span class="downloadcontenttype">text/x-diff 874b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- lib/CGI.pm	2009-08-14 15:33:52.000000000 +0200
+++ lib/CGI.pm.hacked	2009-08-17 08:32:45.414488949 +0200
@@ -5776,6 +5776,13 @@
 be replaced by their numeric entities, since CGI.pm has no lookup
 table for all the possible encodings.
 
+escapeHTML expects the supplied string to be a character string. This means you
+should Encode::decode data received from &#34;outside&#34; and Encode::encode your
+strings before sending them back outside. To upgrade string literals in your
+source to character strings, you can use &#34;use encoding&#34; or &#34;use utf8&#34;. See
+perlunitut and perlunicode for more information on how Perl handles the
+difference between bytes and characters.
+
 The automatic escaping does not apply to other shortcuts, such as
 h1&#40;&#41;.  You should call escapeHTML&#40;&#41; yourself on untrusted data in
 order to protect your pages against nasty tricks that people may enter
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-648998" href="/Public/Bug/Display.html?id=40502#txn-648998">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;07:56:03&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> rhesa [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/648998/332261/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332261">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 830b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the doc patch, Martijn, it&#39;s in my github repo now. 

Rhesa, could you peer-review this Unicode issue to confirm that you
agree with the proposed resolution?

    Mark


On Mon Aug 17 02:33:47 2009, MartijnVdS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Thank you. 
&gt; &gt; 
&gt; &gt; Would you mind submitting a formal doc patch for this? You&#39;ll receive
&gt; &gt; credit in the &#34;Changes&#34; file for your contribution. Just attaching a
&gt; &gt; &#34;diff&#34; to this ticket would be fine. 
</div>&gt; 
&gt; I&#39;ve attached the diff adding my documentation.
&gt; 
&gt; Proper unicode support might require larger changes: the code has lots
&gt; of special cases for Latin1/CP1252. If everything was handled as
&gt; character strings &#40;based on the set encoding/charset&#41;, things could be
&gt; so much easier. But I understand that might be too big an API change for
&gt; a module as old and as widely used as CGI.pm
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-649021" href="/Public/Bug/Display.html?id=40502#txn-649021">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;09:08:40&nbsp;2009</span>
    <span class="description">rhesa [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/649021/332276/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332276">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 172b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m by no means an expert on these issues, but I saw that perlunifaq
says not to use &#34;use encoding&#34;, so I&#39;d take that little bit out. I think
the patch is fine otherwise.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-649024" href="/Public/Bug/Display.html?id=40502#txn-649024">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;09:24:34&nbsp;2009</span>
    <span class="description">Martijn van de Streek -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/649024/332280/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332280">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 267b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Ma. Aug. 17 09:08:40 2009, RHESA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m by no means an expert on these issues, but I saw that perlunifaq
&gt; says not to use &#34;use encoding&#34;, so I&#39;d take that little bit out. I think
&gt; the patch is fine otherwise.
</div>
Oops, I hadn&#39;t seen that.

New patch attached.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/649024/332283/cgi.pm.diff">Download cgi.pm.diff</a><br />
<span class="downloadcontenttype">text/x-diff 915b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- lib/CGI.pm	2009-08-14 15:33:52.000000000 +0200
+++ lib/CGI.pm.hacked	2009-08-17 15:24:10.882310464 +0200
@@ -5776,6 +5776,13 @@
 be replaced by their numeric entities, since CGI.pm has no lookup
 table for all the possible encodings.
 
+escapeHTML expects the supplied string to be a character string. This means you
+should Encode::decode data received from &#34;outside&#34; and Encode::encode your
+strings before sending them back outside. If your source code UTF-8 encoded and
+you want to upgrade string literals in your source to character strings, you
+can use &#34;use utf8&#34;. See perlunitut, perlunifaq and perlunicode for more
+information on how Perl handles the difference between bytes and characters.
+
 The automatic escaping does not apply to other shortcuts, such as
 h1&#40;&#41;.  You should call escapeHTML&#40;&#41; yourself on untrusted data in
 order to protect your pages against nasty tricks that people may enter
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-649348" href="/Public/Bug/Display.html?id=40502#txn-649348">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;20:32:45&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/649348/332472/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/332472">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 59b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This patch has been applied in my github repo now. Thanks. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-649351" href="/Public/Bug/Display.html?id=40502#txn-649351">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;17&nbsp;20:32:46&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-662118" href="/Public/Bug/Display.html?id=40502#txn-662118">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;22:07:14&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Thanks, released</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/662118/339720/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/339720">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 160b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The patch for this ticket has now been released in CGI.pm 3.47, and this
ticket is considered resolved. 

Thanks again for you help to improve CGI.pm!

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-662119" href="/Public/Bug/Display.html?id=40502#txn-662119">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;22:07:14&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-662122" href="/Public/Bug/Display.html?id=40502#txn-662122">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;22:07:17&nbsp;2009</span>
    <span class="description">MARKSTOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1367208" href="/Public/Bug/Display.html?id=40502#txn-1367208">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;14:29:27&nbsp;2014</span>
    <span class="description">The RT System itself -  Queue changed from CGI.pm to CGI</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.921502</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
