<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #25299 for Math-BigInt: Recursive dependencies</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #25299 for Math-BigInt: Recursive dependencies</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Math-BigInt/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Math-BigInt/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Math-BigInt/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Math-BigInt/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-BigInt">Math-BigInt CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">25299</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">10 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Math-BigInt/Active/">Math-BigInt</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">TELS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-20500-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.80    </td>
  </tr>
  <tr id="CF-20501-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;05:06:35&nbsp;2007</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Recursive dependencies</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Math-BigInt-1.80 declares that it depends on bignum 0.19.

bignum 0.19 declares that it depends on Math-BigInt 1.79.

Intention or oversight?

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;13:41:37&nbsp;2007</span>
    <span class="description">TELS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;13:45:52&nbsp;2007</span>
    <span class="description">TELS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Intention. Well, half.

If you install Math::BigInt into an empty system, then all is well, you
will install updated versions of Math::BigRat, BigInt::FastCalc and
bignum afterwards and their newest versions cope with BigInt.

However, if you install first an older version of Math::BigInt and all
the other modules, and *then* upgrade Math::BigInt to 1.80, things might
break because the other modules do not get updated.

The dependencies are set so that if you install Math::BigInt 1.80 and it
detects an outdated bignum et. al. if &#34;forces&#34; you to upgrade these first.

A side-effect of this is if you have Math::BigInt 1.78 or older, you
might need to first install 1.79, then bignum 0.19, then Math::Bigint 1.80.

I don&#39;t think this can be avoided though.

The only other option &#40;when we detect that the other modules are
outdated upon Math::BigInt upgrade&#41; would be to abord the Makefile.pl,
but as you are well aware, there is a certain toolchain which can&#39;t cope
with that :-&#41; so I came up with this clever scheme as a workaround.

Please tell me if this can be improved or simplified.

all the bets,

tels
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;13:45:52&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;14&nbsp;01:06:43&nbsp;2007</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #25299] Recursive dependencies</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Mar 2007 06:05:35 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BigInt [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Tue, 13 Mar 2007 13:45:53 -0400, &#34; via RT&#34; &lt;bug-Math-BigInt@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=25299">http://rt.cpan.org/Ticket/Display.html?id=25299</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Intention. Well, half.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; If you install Math::BigInt into an empty system, then all is well, you
  &gt; will install updated versions of Math::BigRat, BigInt::FastCalc and
  &gt; bignum afterwards and their newest versions cope with BigInt.
</div>
Math-BigInt-1.80 declares that it depends on bignum 0.19. So &#34;empty&#34;
system &#40;whatever this means&#41; or not, apparently you cannot install
Math::BigInt 1.80 without installing bignum 0.19 and thus Math::BigInt
1.79 first.

This looks like a case without precedent in the history of CPAN and as
such should probably be explained a bit more as to why this could not
be avoided with defensive programming.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; However, if you install first an older version of Math::BigInt and all
  &gt; the other modules, and *then* upgrade Math::BigInt to 1.80, things might
  &gt; break because the other modules do not get updated.
</div>
You seem to indicate that 1.79 or 1.80 broke some API?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; The dependencies are set so that if you install Math::BigInt 1.80 and it
  &gt; detects an outdated bignum et. al. if &#34;forces&#34; you to upgrade these first.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; A side-effect of this is if you have Math::BigInt 1.78 or older, you
  &gt; might need to first install 1.79, then bignum 0.19, then Math::Bigint 1.80.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; I don&#39;t think this can be avoided though.
</div>
If it cannot be avoided, please explain why. The CHANGES file says
about 1.79 &#34;Fix typos&#34;. So how is it unavoidable that bignum requires
Math::BigInt 1.79 and cannot run with, say 1.78?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; The only other option &#40;when we detect that the other modules are
  &gt; outdated upon Math::BigInt upgrade&#41; would be to abord the Makefile.pl,
  &gt; but as you are well aware, there is a certain toolchain which can&#39;t cope
  &gt; with that :-&#41; so I came up with this clever scheme as a workaround.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Please tell me if this can be improved or simplified.
</div>
If the &#34;modules&#34; are so tightly coupled that they all have to be
upgraded at once, I think they should be distributed in a single
distribution file that upgrades them all at once.

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;14&nbsp;13:56:31&nbsp;2007</span>
    <span class="description">nospam-abuse [...] bloodgate.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #25299] Recursive dependencies</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Mar 2007 18:56:23 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BigInt [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tels &lt;nospam-abuse [...] bloodgate.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Moin,

On Wednesday 14 March 2007 05:06:59 &#40;Andreas J. Koenig&#41; via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Math-BigInt
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=25299">http://rt.cpan.org/Ticket/Display.html?id=25299</a></span> &gt;
&gt;
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt;&gt; On Tue, 13 Mar 2007 13:45:53 -0400, &#34; via RT&#34;
&gt; &gt;&gt;&gt;&gt;&gt; &lt;bug-Math-BigInt@rt.cpan.org&gt; said:
</div><div class="message-stanza open">&gt;   &gt;
&gt;   &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=25299">http://rt.cpan.org/Ticket/Display.html?id=25299</a></span> &gt;
&gt;   &gt;
&gt;   &gt; Intention. Well, half.
&gt;   &gt;
&gt;   &gt; If you install Math::BigInt into an empty system, then all is well,
&gt;   &gt; you will install updated versions of Math::BigRat, BigInt::FastCalc
&gt;   &gt; and bignum afterwards and their newest versions cope with BigInt.
</div>&gt;
&gt; Math-BigInt-1.80 declares that it depends on bignum 0.19. So &#34;empty&#34;
&gt; system &#40;whatever this means&#41; or not, apparently you cannot install
&gt; Math::BigInt 1.80 without installing bignum 0.19 and thus Math::BigInt
&gt; 1.79 first.
</div>
- - From my Makefile.PL:

        check_minimum_version &#40;&#39;Math::BigInt::FastCalc&#39; =&gt; 0.12&#41;;
        check_minimum_version &#40;&#39;Math::BigInt::GMP&#39;      =&gt; 1.19&#41;;
        check_minimum_version &#40;&#39;Math::BigRat&#39;           =&gt; 0.17&#41;;
        check_minimum_version &#40;&#39;bignum&#39;                 =&gt; 0.19&#41;;

        recommends      &#39;Math::BigRat&#39;          =&gt; 0.17;
        recommends      &#39;Math::BigInt::GMP&#39;     =&gt; 1.19;
        recommends      &#39;bignum&#39;                =&gt; 0.19;

        sub check_minimum_version
          {
          my &#40;$module, $version&#41; = @_;
        
          my $v; eval &#34; require $module; \$v = \$${module}::VERSION;&#34;;
        
          # if the module is installed, but outdated, add it to the requirements
          if &#40;defined $v &#38;&#38; $v &lt; $version&#41;
            {
            requires $module =&gt; $version;
            }
          }

The intention is to NOT require bignum unless it is already installed. If my 
code is broken in this regard, please tell me, because as far as I can see 
a non-installed bignum should generate no dependecy on bignum 0.19.

On an empty system, bignum should not be required.

[snip]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;   &gt; However, if you install first an older version of Math::BigInt and
&gt;   &gt; all the other modules, and *then* upgrade Math::BigInt to 1.80,
&gt;   &gt; things might break because the other modules do not get updated.
</div>&gt;
&gt; You seem to indicate that 1.79 or 1.80 broke some API?
</div>
There have been a few additions of new methods, and older math-libraries 
without these methods are not loaded. Plus there were some critical 
bugfixes in the other libraries.

If you install just Math::BigInt, the other libraries are still borked.

Hence the try to get FastCalc upgraded.

bignum and BigRat are not that critical in this regard, but if there are old 
versions on the system detected, I just threw bignum and BigRat in for good 
measure.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;   &gt; The dependencies are set so that if you install Math::BigInt 1.80 and
&gt;   &gt; it detects an outdated bignum et. al. if &#34;forces&#34; you to upgrade
&gt;   &gt; these first.
&gt;   &gt;
&gt;   &gt; A side-effect of this is if you have Math::BigInt 1.78 or older, you
&gt;   &gt; might need to first install 1.79, then bignum 0.19, then Math::Bigint
&gt;   &gt; 1.80.
&gt;   &gt;
&gt;   &gt; I don&#39;t think this can be avoided though.
</div>&gt;
&gt; If it cannot be avoided, please explain why. The CHANGES file says
&gt; about 1.79 &#34;Fix typos&#34;. 
</div>
The change occured in 1.78, but I had to release 1.79 because I forgot to 
include the typo-fixes from bleadperl in 1.78.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So how is it unavoidable that bignum requires 
&gt; Math::BigInt 1.79 and cannot run with, say 1.78?
</div>
bignum can run with 1.77 etc. But if you install 1.80, the already installed 
bignum libraries SHOULD &#40;not &#34;must&#34;, just &#34;should&#34;&#41; be updated, too.

FastCalc can run with 1.77. But if you install 1.78, 1.79 or 1.80, the 
already installed FastCalc library MUST be updated, too. &#40;However, I forgot 
about this fact and this lead to a few problems&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;   &gt; The only other option &#40;when we detect that the other modules are
&gt;   &gt; outdated upon Math::BigInt upgrade&#41; would be to abord the
&gt;   &gt; Makefile.pl, but as you are well aware, there is a certain toolchain
&gt;   &gt; which can&#39;t cope with that :-&#41; so I came up with this clever scheme
&gt;   &gt; as a workaround.
&gt;   &gt;
&gt;   &gt; Please tell me if this can be improved or simplified.
</div>&gt;
&gt; If the &#34;modules&#34; are so tightly coupled that they all have to be
&gt; upgraded at once, I think they should be distributed in a single
&gt; distribution file that upgrades them all at once.
</div>
That would be the other option, but it also means that you couldn&#39;t f.i. 
install Math::BigInt without a C-compiler. Which was the reason why the 
libraries were seperated in the first place.

Actually, the libraries aren&#39;t that closely coupled, I just made a few 
mistakes when releasing packages and wanted to avoid that people get stuck 
with old versions on their system.

I have said it many times in private emails and I say it again here:

The system to declare dependencies is seriously lacking a few things that 
authors need to express. Just being able to declare &#34;I need foo minimum 
version 1.00&#34; isn&#39;t enough for all the practical situatins that arise, like 
that Foo 1.00 and 1.01 work, 1.02 is borked and 1.03 not yet released.

Likewise, it is impossible to say &#34;if you update this package, also update 
these packages&#34;. And that is what my &#34;hack&#34; in Makefile.PL tries to 
acomplish. Please note that this dependency can&#39;t even expressed in 
META.yml, so all I can do is check it at run time in Makefile.PL and act 
according if the situation arises.

In &#34;real&#34; packaging systems, you just specify the requirements and 
dependencies &#40;needs package X, Y but conflicts with Z, U and W&#41; and the 
system does the rest. Unfortunately, for CPAN the dependencies can only be 
described in a very simple matter, which leads to needless code duplication 
inside Makefile.PL to craft this stuff on. And sometimes that extra code is 
even buggy :&#41;

If my way of handling this situation is not doing what I outlined above, 
please tell me so I can fix it.

All the best,

Tels

- -- 
 Signed on Wed Mar 14 18:56:13 2007 with key 0x93B84C15.
 View my photo gallery: <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/photos">http://bloodgate.com/photos</a></span>
 PGP key on <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/tels.asc">http://bloodgate.com/tels.asc</a></span> or per email.

 &#34;Memory is like an orgasm. It&#39;s a lot better if you don&#39;t have to fake
 it.&#34;

  -- Seymore Cray, on virtual memory
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 &#40;GNU/Linux&#41;

iQEVAwUBRfhFV3cLPEOTuEwVAQLI8Qf7Br41s5A1MyI0qJaGZQGP9wywCNkAWY1v
0Pwb8QDoRjPG2f71YtXDn/zIpOfWuUziwMsgtVgg6lxmnVVjFxSMK3UuGU/95EyO
ahnDS6b8czUIdNew0fqVjWHd/ifgl4WiMFbLztrgqcSaywgInv/th9jFdvz8/86B
LNjNJ8TuR3mOKjoEQOJknPpKZEtWKNnO+BL/1bGvj8QeUagBQnq+r3+hCy0AyBMk
vjv9Uxr1+KjCZYrLNwQ3Nb5jrPO0f9/Tm/8EBS+MjXdIP2vM7xI0pd4mK1oeFpaS
IGDGIjI5lU6i7Zim9I037DrBdAAGovZvJnWRYh88L0a7iQ3WrxoXbA==
=sh9v
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;15&nbsp;12:51:28&nbsp;2007</span>
    <span class="description">nospam-abuse [...] bloodgate.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #25299] Recursive dependencies</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Mar 2007 17:51:35 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BigInt [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tels &lt;nospam-abuse [...] bloodgate.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Moin,

On Wednesday 14 March 2007 17:56:34 nospam-abuse@bloodgate.com via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Math-BigInt
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=25299">http://rt.cpan.org/Ticket/Display.html?id=25299</a></span> &gt;
&gt;
&gt; Moin,
</div>[snip]

I think what the problem is:

        user requests install Math::BigInt
        CPAN tries to install Math::BigInt 1.80
        Math::BigInt 1.80 is found
        Math::BigInt 1.80 find bignum &#40;old version&#41;
        Math::BigInt sets requirement of 0.19 of bignum
        CPAN tries to install 0.19 of bignum
        bignum requires Math::BigInt 1.79
        CPAN hunts down Math::BigInt and ses 1.80 &#40;newest&#41;
        CPAN tries to install Math::BigInt 1.80
        [enter endless loop]

Aww crap.

Queue v1.81 of BigInt in 10... 9... 8... 7...

All the best,

tels

- -- 
 Signed on Thu Mar 15 17:48:57 2007 with key 0x93B84C15.
 Get one of my photo posters: <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/posters">http://bloodgate.com/posters</a></span>
 PGP key on <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/tels.asc">http://bloodgate.com/tels.asc</a></span> or per email.

 &#34;Build a man a fire, and he&#39;ll be warm for a day. Set a man on fire, and
 he&#39;ll be warm for the rest of his life.&#34;

  -- Terry Pratchett
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 &#40;GNU/Linux&#41;

iQEVAwUBRfmHqHcLPEOTuEwVAQKdTgf/SpU/suc3lxAbpjU/u3pXugGXcopGJ/7q
lg4Skk3J5b3oJLCI5h++76GadUJBkOFQTuoVHxJfCMyB0hjGAwbvKy4MMybbxJG/
B/m2RZY6u79qR+BNItljt54otifZL/B5gnRq/RRyR2YHiG8yYoDg6f0iSStrNmgR
OuOtHLuD/d2cTv+/HSF0dEorMen6XQ2seQb5IQYUscEyhDHePKjmMOkpz/1buACk
hdDFYSCpRdXyft9Qqg3vl3sU5gnwA3yoBPF5fDqSM6vQrJg6w42cudhNm8EQ9vBM
QWD065yrwB9JNyuU6zMEVGyk4uTER3vzViFZkIb+ZfpbbRvDe2/OJw==
=qfje
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;15&nbsp;22:06:55&nbsp;2007</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #25299] Recursive dependencies</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Mar 2007 22:48:38 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BigInt [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Thu, 15 Mar 2007 12:51:32 -0400, &#34;nospam-abuse@bloodgate.com via RT&#34; &lt;bug-Math-BigInt@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;     [enter endless loop]
</div>
Yes.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Aww crap.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Queue v1.81 of BigInt in 10... 9... 8... 7...
</div>
Thanks!

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;30&nbsp;09:34:12&nbsp;2007</span>
    <span class="description">TELS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Should be resolved with the release of v1.81. Thanx for the report!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;30&nbsp;09:34:14&nbsp;2007</span>
    <span class="description">TELS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
