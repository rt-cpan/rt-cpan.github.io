<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #23884 for Convert-UUlib: Build warnings</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #23884 for Convert-UUlib: Build warnings</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Convert-UUlib/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Convert-UUlib/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Convert-UUlib/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Convert-UUlib/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Convert-UUlib">Convert-UUlib CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">23884</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Convert-UUlib/Active/">Convert-UUlib</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jdhedden [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-8066-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8067-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.07    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;08:39:22&nbsp;2006</span>
    <span class="description">jdhedden [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Build warnings</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#39;make&#39; produces the following warnings:

gcc -c   -DPERL_USE_SAFE_PUTENV -DPERL_DONT_CREATE_GVSV -DNO_MATHOMS
-fno-strict-aliasing -pipe -Wdeclaration-after-statement -DUSEIMPORTLIB
-O3 -pipe -funit-at-a-time -mtune=pentium4m -march=pentium4 -mfpmath=sse
-mieee-fp -mmmx -msse -msse2   -DVERSION=\&#34;1.07\&#34; -DXS_VERSION=\&#34;1.07\&#34;
 &#34;-I/usr/lib/perl5/5.8/cygwin/CORE&#34;   UUlib.c
UUlib.c: In function `XS_Convert__UUlib__Item_rename&#39;:
UUlib.c:952: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_decode_temp&#39;:
UUlib.c:983: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_remove_temp&#39;:
UUlib.c:1014: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_decode&#39;:
UUlib.c:1046: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_info&#39;:
UUlib.c:1082: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_state&#39;:
UUlib.c:1112: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_mode&#39;:
UUlib.c:1144: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_uudet&#39;:
UUlib.c:1183: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_size&#39;:
UUlib.c:1214: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_filename&#39;:
UUlib.c:1246: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_subfname&#39;:
UUlib.c:1288: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_mimeid&#39;:
UUlib.c:1319: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_mimetype&#39;:
UUlib.c:1350: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_binfile&#39;:
UUlib.c:1381: warning: cast to pointer from integer of different size
UUlib.c: In function `XS_Convert__UUlib__Item_parts&#39;:
UUlib.c:1412: warning: cast to pointer from integer of different size

These can be traced to an improper cast in the &#39;typemap&#39; file.  The
attached patch fixes this.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> uulib.patch</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -urN Convert-UUlib-patched/typemap Convert-UUlib-1.07/typemap
--- Convert-UUlib-patched/typemap	2006-12-11 08:34:58.000000000 -0500
+++ Convert-UUlib-1.07/typemap	2005-03-03 11:56:46.000000000 -0500
@@ -5,7 +5,7 @@
 T_UULIST
 	if &#40;sv_derived_from&#40;$arg, \&#34;Convert::UUlib::Item\&#34;&#41;&#41; {
 	    IV tmp = SvIV&#40;&#40;SV*&#41;SvRV&#40;$arg&#41;&#41;;
-	    $var = INT2PTR&#40;$type, tmp&#41;;
+	    $var = &#40;$type&#41; tmp;
 	}
 	else
 	    croak&#40;\&#34;$var is not of type Convert::UUlib::Item\&#34;&#41;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;09:46:06&nbsp;2006</span>
    <span class="description">schmorp [...] schmorp.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #23884] Build warnings</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 11 Dec 2006 15:45:07 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Jerry D. Hedden via RT&#34; &lt;bug-Convert-UUlib [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marc Lehmann &lt;schmorp [...] schmorp.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Dec 11, 2006 at 08:39:24AM -0500, &#34;Jerry D. Hedden via RT&#34; &lt;bug-Convert-UUlib@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#39;make&#39; produces the following warnings:
</div>
Those warnings are harmless and can safely be ignored. &#40;In general, one
shouldn&#39;t enable warnings unless one knows how to interpret them&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; These can be traced to an improper cast in the &#39;typemap&#39; file.  The
&gt; attached patch fixes this.
</div>
There is nothing improper with the cast. Again, you should not enable
warnings until you really understand them, as they are often wrong. That
is why warnings are wanrings and no errors.

-- 
                The choice of a
      -----==-     _GNU_
      ----==-- _       generation     Marc Lehmann
      ---==---&#40;_&#41;__  __ ____  __      pcg@goof.com
      --==---/ / _ \/ // /\ \/ /      <span class="clickylink"><a target="new" rel="nofollow" href="http://schmorp.de/">http://schmorp.de/</a></span>
      -=====/_/_//_/\_,_/ /_/\_\      XX11-RIPE
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;09:46:07&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;10:36:19&nbsp;2006</span>
    <span class="description">jdhedden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There is nothing improper with the cast.
</div>
perl.h has a macro that is meant to be used for just this
purpose.  It does the &#39;cast&#39; in such a way that the compiler
does not generate warnings.  The macro is INT2PTR, and
you&#39;ll see in the patch that it is only a one line change
in the &#39;typemap&#39; file:

diff -urN Convert-UUlib-patched/typemap Convert-UUlib-1.07/typemap
--- Convert-UUlib-patched/typemap       2006-12-11 08:34:58.000000000 -0500
+++ Convert-UUlib-1.07/typemap  2005-03-03 11:56:46.000000000 -0500
@@ -5,7 +5,7 @@
 T_UULIST
        if &#40;sv_derived_from&#40;$arg, \&#34;Convert::UUlib::Item\&#34;&#41;&#41; {
            IV tmp = SvIV&#40;&#40;SV*&#41;SvRV&#40;$arg&#41;&#41;;
-           $var = INT2PTR&#40;$type, tmp&#41;;
+           $var = &#40;$type&#41; tmp;
        }
        else
            croak&#40;\&#34;$var is not of type Convert::UUlib::Item\&#34;&#41;

After applying this patch, &#39;make&#39; no longer generates the
warnings that I listed.  This indicates that the macro is
&#39;doing the right thing&#39;.

Is there some reason why you think the developers of Perl
are wrong in providing the INT2PTR macro?  Do you have some
justification for not wanting to use it?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;11:37:08&nbsp;2006</span>
    <span class="description">schmorp [...] schmorp.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #23884] Build warnings</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 11 Dec 2006 17:36:04 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Jerry D. Hedden via RT&#34; &lt;bug-Convert-UUlib [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marc Lehmann &lt;schmorp [...] schmorp.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Dec 11, 2006 at 10:36:20AM -0500, &#34;Jerry D. Hedden via RT&#34; &lt;bug-Convert-UUlib@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; There is nothing improper with the cast.
</div>&gt; 
&gt; Is there some reason why you think the developers of Perl
&gt; are wrong in providing the INT2PTR macro?
</div>
Thats a logical fallacy, there obviously cannot be a reason why I think
that.

Is there a reason why you are trying to bullshit people by using unfair
accusations, logical fallacies and illogical statements?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Do you have some justification for not wanting to use it?
</div>
I do not need justification for not changing perfectly working code. It
just makes no sense.

If you happen to have something sensible to say in the future, please try.
Until then, there is no point in continuing this communication, as you
have nothing to say.

-- 
                The choice of a
      -----==-     _GNU_
      ----==-- _       generation     Marc Lehmann
      ---==---&#40;_&#41;__  __ ____  __      pcg@goof.com
      --==---/ / _ \/ // /\ \/ /      <span class="clickylink"><a target="new" rel="nofollow" href="http://schmorp.de/">http://schmorp.de/</a></span>
      -=====/_/_//_/\_,_/ /_/\_\      XX11-RIPE
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;11:39:08&nbsp;2006</span>
    <span class="description">MLEHMANN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
