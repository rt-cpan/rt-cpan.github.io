<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #45960 for HTML-WikiConverter: html2wiki</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #45960 for HTML-WikiConverter: html2wiki</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/HTML-WikiConverter/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/HTML-WikiConverter/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/HTML-WikiConverter/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/HTML-WikiConverter/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTML-WikiConverter">HTML-WikiConverter CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">45960</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">10 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/HTML-WikiConverter/Active/">HTML-WikiConverter</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">diberri [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mturner [...] cc.umanitoba.ca

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16200-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16201-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;11&nbsp;10:58:33&nbsp;2009</span>
    <span class="description">mturner [...] cc.umanitoba.ca -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> html2wiki</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 11 May 2009 09:58:05 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-WikiConverter [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Myron Turner &lt;mturner [...] cc.umanitoba.ca&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am the developer of DokuWikiFCK, and some of the users who have tried 
to use html2wiki reported an error which seems tied into the way in 
which html2wiki handles default options and pre-processes dialects.  
DokiWikiFCK has two default options specified in its attributes callback:

sub attributes {
 return&#40;
   browser =&gt; { default =&gt; &#39;IE5&#39; },
   group =&gt; { default =&gt; &#39;ANY&#39; }
 &#41;;
}

When users try to use html2wiki they get the following error:

  Can&#39;t use string &#40;&#34;ANY&#34;&#41; as a HASH ref while &#34;strict refs&#34; in use at 
/usr/bin/html2wiki line 85.

It doesn&#39;t seem to make any difference when the command specifies the 
options. Also, it will occur even with
   html2wiki --list


Thanks,

Myron Turner

-- 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_____________________
Myron Turner
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.room535.org">http://www.room535.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.mturner.org">http://www.mturner.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://net18reaching.org/cityscapes">http://net18reaching.org/cityscapes</a></span>
<div class="message-stanza open">_________________________________________________________
Searchable Database of Art and New Media News Feeds
<span class="clickylink"><a target="new" rel="nofollow" href="http://net18reaching.org/artrss">http://net18reaching.org/artrss</a></span>
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;11&nbsp;12:53:12&nbsp;2009</span>
    <span class="description">diberri [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 11 10:58:33 2009, mturner@cc.umanitoba.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; sub attributes {
&gt;  return&#40;
&gt;    browser =&gt; { default =&gt; &#39;IE5&#39; },
&gt;    group =&gt; { default =&gt; &#39;ANY&#39; }
&gt;  &#41;;
&gt; }
</div>
The attributes&#40;&#41; method is meant to return a hashref, not a hash. I
accept responsibility for the confusion, though: while the docs specify
that a hashref should be returned, it gives examples that return a hash
instead. My bad. In any case, this can be fixed with:

  sub attributes {
    return {
      browser =&gt; { default =&gt; &#39;IE5&#39; },
      group =&gt; { default =&gt; &#39;ANY&#39; }
    };
  }

Incidentally, attributes will someday be required to specify a type
&#40;boolean, string, etc.&#41;. You may as well incorporate this into your next
release:

  use Params::Validate &#39;:types&#39;;

  sub attributes {
    return {
      browser =&gt; { default =&gt; &#39;IE5&#39;, type =&gt; SCALAR },
      group =&gt; { default =&gt; &#39;ANY&#39;, type =&gt; SCALAR },
    };
  }

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When users try to use html2wiki they get the following error:
&gt; 
&gt;   Can&#39;t use string &#40;&#34;ANY&#34;&#41; as a HASH ref while &#34;strict refs&#34; in use at 
&gt; /usr/bin/html2wiki line 85.
</div>
This error is actually caused by the attributes&#40;&#41; method not returning a
hashref. Applying the above changes to H::WC::DokuWikiFCK should resolve
this.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It doesn&#39;t seem to make any difference when the command specifies the 
&gt; options. Also, it will occur even with
&gt;    html2wiki --list
</div>
Yes. It actually prevents html2wiki from working at all on any system
where H::WC::DokuWikiFCK is installed. Bummer. Not your fault, of
course. The documentation should have better explained this.

I tried to post a quick annotation to the docs using annocpan, but alas,
it is returning an internal server error when annotations are submitted.

Also, I have patched html2wiki so that it will not blindly dereference
attributes. This should prevent this error from happening again.

Cheers,
David Iberri
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;11&nbsp;12:53:12&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;11&nbsp;12:53:14&nbsp;2009</span>
    <span class="description">diberri [...] cpan.org -  Given to DIBERRI</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;12&nbsp;22:55:36&nbsp;2009</span>
    <span class="description">mturner [...] cc.umanitoba.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #45960] html2wiki</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 12 May 2009 21:55:13 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-WikiConverter [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Myron Turner &lt;mturner [...] cc.umanitoba.ca&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for the reply and for Wikiconverter.  I&#39;ve updated my module 
file and now all is well. 

Best wishes,

Myron Turner

David Iberri via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=45960">https://rt.cpan.org/Ticket/Display.html?id=45960</a></span> &gt;
&gt;
&gt; On Mon May 11 10:58:33 2009, mturner@cc.umanitoba.ca wrote:
&gt;   
<div class="message-stanza open">&gt;&gt; sub attributes {
&gt;&gt;  return&#40;
&gt;&gt;    browser =&gt; { default =&gt; &#39;IE5&#39; },
&gt;&gt;    group =&gt; { default =&gt; &#39;ANY&#39; }
&gt;&gt;  &#41;;
&gt;&gt; }
&gt;&gt;     
</div>&gt;
&gt; The attributes&#40;&#41; method is meant to return a hashref, not a hash. I
&gt; accept responsibility for the confusion, though: while the docs specify
&gt; that a hashref should be returned, it gives examples that return a hash
&gt; instead. My bad. In any case, this can be fixed with:
&gt;
&gt;   sub attributes {
&gt;     return {
&gt;       browser =&gt; { default =&gt; &#39;IE5&#39; },
&gt;       group =&gt; { default =&gt; &#39;ANY&#39; }
&gt;     };
&gt;   }
&gt;
&gt; Incidentally, attributes will someday be required to specify a type
&gt; &#40;boolean, string, etc.&#41;. You may as well incorporate this into your next
&gt; release:
&gt;
&gt;   use Params::Validate &#39;:types&#39;;
&gt;
&gt;   sub attributes {
&gt;     return {
&gt;       browser =&gt; { default =&gt; &#39;IE5&#39;, type =&gt; SCALAR },
&gt;       group =&gt; { default =&gt; &#39;ANY&#39;, type =&gt; SCALAR },
&gt;     };
&gt;   }
&gt;
&gt;   
<div class="message-stanza open">&gt;&gt; When users try to use html2wiki they get the following error:
&gt;&gt;
&gt;&gt;   Can&#39;t use string &#40;&#34;ANY&#34;&#41; as a HASH ref while &#34;strict refs&#34; in use at 
&gt;&gt; /usr/bin/html2wiki line 85.
&gt;&gt;     
</div>&gt;
&gt; This error is actually caused by the attributes&#40;&#41; method not returning a
&gt; hashref. Applying the above changes to H::WC::DokuWikiFCK should resolve
&gt; this.
&gt;
&gt;   
<div class="message-stanza open">&gt;&gt; It doesn&#39;t seem to make any difference when the command specifies the 
&gt;&gt; options. Also, it will occur even with
&gt;&gt;    html2wiki --list
&gt;&gt;     
</div>&gt;
&gt; Yes. It actually prevents html2wiki from working at all on any system
&gt; where H::WC::DokuWikiFCK is installed. Bummer. Not your fault, of
&gt; course. The documentation should have better explained this.
&gt;
&gt; I tried to post a quick annotation to the docs using annocpan, but alas,
&gt; it is returning an internal server error when annotations are submitted.
&gt;
&gt; Also, I have patched html2wiki so that it will not blindly dereference
&gt; attributes. This should prevent this error from happening again.
&gt;
&gt; Cheers,
&gt; David Iberri
&gt;
&gt;
&gt;   
</div>
-- 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_____________________
Myron Turner
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.room535.org">http://www.room535.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.mturner.org">http://www.mturner.org</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://net18reaching.org/cityscapes">http://net18reaching.org/cityscapes</a></span>
<div class="message-stanza open">_________________________________________________________
Searchable Database of Art and New Media News Feeds
<span class="clickylink"><a target="new" rel="nofollow" href="http://net18reaching.org/artrss">http://net18reaching.org/artrss</a></span>
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;13&nbsp;06:48:38&nbsp;2009</span>
    <span class="description">diberri [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue May 12 22:55:36 2009, mturner@cc.umanitoba.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you for the reply and for Wikiconverter.  I&#39;ve updated my module 
&gt; file and now all is well.
</div>
Happy to help. Glad to hear it worked.

Cheers,
Dave
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;13&nbsp;06:48:39&nbsp;2009</span>
    <span class="description">diberri [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
