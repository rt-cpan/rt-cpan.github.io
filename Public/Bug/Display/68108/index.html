<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #68108 for ZeroMQ: ZMQ Detection on OSX fails</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #68108 for ZeroMQ: ZMQ Detection on OSX fails</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ZeroMQ/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ZeroMQ/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ZeroMQ/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ZeroMQ/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ZeroMQ">ZeroMQ CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">68108</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ZeroMQ/Active/">ZeroMQ</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
johan [...] stromnet.se

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-233900-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-233901-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;11&nbsp;05:33:47&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ZMQ Detection on OSX fails</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 11 May 2011 11:33:24 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m trying to install ZeroMQ-0.12 manually on OS X &#40;perl v5.8.8&#41;, with  
zeromq 2.1.6 installed locally, but I&#39;ve got some problems with the  
autodetection of zmq.

Steps to reproduce:

$ export DEST=$HOME/dev/inst
$ mkdir -p $DEST
# First install zeromq locally
$ tar zxf zeromq-2.1.1.tar.gz
$ cd zeromq-2.1.
$ ./configure --prefix=$DEST
...
$ make
...
$ make install
...

# Now try to build ZeroMQ perl
$ tar zxf ZeroMQ-0.12.tar.gz
$ cd ZeroMQ-0.12
$ env ZMQ_HOME=$DEST perl Makefile.PL
Can&#39;t link/include &#39;zmq.h&#39;, &#39;zmq&#39;

$ env ZMQ_HOME=$DEST PKG_CONFIG_PATH=$DEST/lib/pkgconfig perl  
Makefile.PL
Can&#39;t link/include &#39;zmq.h&#39;, &#39;zmq&#39;


I tried a bit of re-arranging in Makefile.pl, moving checklibs from  
line 27 to after the detect_zmq.pl-stuff, which yielded this:

$ env PKG_CONFIG_PATH=$DEST/lib/pkgconfig perl Makefile.PL
Probing environment variables:
Probing libzmq via pkg-config ...
  + found libzmq 2.1.6
  + Detected ZMQ_INCLUDES from pkg-config...
  + Detected ZMQ_H from pkg-config...
  + Detected ZMQ_LIBS from pkg-config...
Detected the following ZMQ settings:
  + ZMQ_HOME = &#40;null&#41;
  + ZMQ_H = /Users/johan/dev/inst/include/zmq.h
  + ZMQ_INCLUDES = /Users/johan/dev/inst/include
  + ZMQ_LIBS = -L/Users/johan/dev/inst/lib -lzmq
  + ZMQ_TRACE = &#40;null&#41;
Can&#39;t link/include &#39;zmq.h&#39;, &#39;zmq&#39;


With a bit more specific args I got it working, but this shouldn&#39;t be  
necessary:

$ env PKG_CONFIG_PATH=$DEST/lib/pkgconfig perl Makefile.PL INC=&#34;-I 
$DEST/include -I./&#34; LIBS=&#34;-L$DEST/lib&#34; PREFIX=&#34;$DEST&#34;
Probing environment variables:
Probing libzmq via pkg-config ...
  + found libzmq 2.1.6
  + Detected ZMQ_INCLUDES from pkg-config...
  + Detected ZMQ_H from pkg-config...
  + Detected ZMQ_LIBS from pkg-config...
Detected the following ZMQ settings:
  + ZMQ_HOME = &#40;null&#41;
  + ZMQ_H = /Users/johan/dev/inst/include/zmq.h
  + ZMQ_INCLUDES = /Users/johan/dev/inst/include
  + ZMQ_LIBS = -L/Users/johan/dev/inst/lib -lzmq
  + ZMQ_TRACE = &#40;null&#41;
Writing ppport.h
  + Using zmq.h from /Users/johan/dev/inst/include/zmq.h
Checking if your kit is complete...
Looks good
Warning: prerequisite Devel::PPPort 3.19 not found. We have 3.0601.
Warning: prerequisite ExtUtils::MakeMaker 6.42 not found. We have 6.30.
Warning: prerequisite Task::Weaken 0 not found.
Warning: prerequisite Test::Exception 0.29 not found.
Warning: prerequisite Test::More 0.98 not found. We have 0.62.
Warning: prerequisite Test::Requires 0 not found.
Warning: prerequisite Test::TCP 0 not found.
Writing Makefile for ZeroMQ

And make works out fine aswell

$ make
cp lib/ZeroMQ/Context.pm blib/lib/ZeroMQ/Context.pm
cp lib/ZeroMQ/Poller.pm blib/lib/ZeroMQ/Poller.pm
cp lib/ZeroMQ/Constants.pm blib/lib/ZeroMQ/Constants.pm
cp lib/ZeroMQ.pm blib/lib/ZeroMQ.pm
cp lib/ZeroMQ/Socket.pm blib/lib/ZeroMQ/Socket.pm
cp lib/ZeroMQ/Message.pm blib/lib/ZeroMQ/Message.pm
cp lib/ZeroMQ/Raw.pm blib/lib/ZeroMQ/Raw.pm
/opt/local/bin/perl &#34;-Iinc&#34; /opt/local/lib/perl5/5.8.8/ExtUtils/ 
xsubpp  -typemap /opt/local/lib/perl5/5.8.8/ExtUtils/typemap  xs/ 
perl_zeromq.xs &gt; xs/perl_zeromq.xsc &#38;&#38; mv xs/perl_zeromq.xsc xs/ 
perl_zeromq.c
cc -c  -I/Users/johan/dev/inst/include -I./ -I/opt/local/include -fno- 
common -DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -pipe - 
Wdeclaration-after-statement -I/opt/local/include -Wall -Wextra - 
Wdeclaration-after-statement -O3   -DVERSION=\&#34;0.12\&#34; -DXS_VERSION= 
\&#34;0.12\&#34; -o xs/perl_zeromq.o  &#34;-I/opt/local/lib/perl5/5.8.8/ 
darwin-2level/CORE&#34;  -DUSE_PPPORT xs/perl_zeromq.c
perl_zeromq.xs: In function &#39;XS_ZeroMQ__Raw_zmq_poll&#39;:
perl_zeromq.xs:588: warning: comparison between signed and unsigned
perl_zeromq.xs:589: warning: comparison between signed and unsigned
perl_zeromq.xs:608: warning: passing argument 4 of &#39;Perl_hv_fetch&#39;  
makes integer from pointer without a cast
perl_zeromq.xs:619: warning: passing argument 4 of &#39;Perl_hv_fetch&#39;  
makes integer from pointer without a cast
perl_zeromq.xs:628: warning: passing argument 4 of &#39;Perl_hv_fetch&#39;  
makes integer from pointer without a cast
perl_zeromq.xs:636: warning: passing argument 4 of &#39;Perl_hv_fetch&#39;  
makes integer from pointer without a cast
perl_zeromq.c: At top level:
xs/mg-xs.inc:56: warning: &#39;PerlZMQ_Raw_PollItem_vtbl&#39; defined but not  
used
Running Mkbootstrap for ZeroMQ &#40;&#41;
chmod 644 ZeroMQ.bs
rm -f blib/arch/auto/ZeroMQ/ZeroMQ.bundle
env MACOSX_DEPLOYMENT_TARGET=10.3 cc  -L/opt/local/lib -bundle - 
undefined dynamic_lookup xs/perl_zeromq.o  -o blib/arch/auto/ZeroMQ/ 
ZeroMQ.bundle   \
                \
        
chmod 755 blib/arch/auto/ZeroMQ/ZeroMQ.bundle
cp ZeroMQ.bs blib/arch/auto/ZeroMQ/ZeroMQ.bs
chmod 644 blib/arch/auto/ZeroMQ/ZeroMQ.bs
Manifying blib/man3/ZeroMQ::Poller.3
Manifying blib/man3/ZeroMQ::Context.3
Manifying blib/man3/ZeroMQ::Constants.3
Manifying blib/man3/ZeroMQ.3
Manifying blib/man3/ZeroMQ::Socket.3
Manifying blib/man3/ZeroMQ::Raw.3
Manifying blib/man3/ZeroMQ::Message.3




So, to conclude, the detection doesn&#39;t really seem to utilize the  
ZMQ_* env properly.. The above works fine with the clean Makefile.PL  
aswell &#40;ie no moving around of checklibs&#41;, but I supposed that is due  
to my explicit INC/LIBS flags.

Am I missing something, or can the detection stuff be further improved?

For the record, I&#39;m working &#40;rather passively though&#41; on a POE  
integration, which can be found at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/stromnet/poe-zeromq">https://github.com/stromnet/poe-zeromq</a></span> 
.

Best Regards
Johan
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;11&nbsp;19:23:53&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you please see if the latest master works for you? <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-Perl">https://github.com/lestrrat/ZeroMQ-Perl</a></span>


The relevant change is:  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-">https://github.com/lestrrat/ZeroMQ-</a></span>
Perl/commit/383ba71b7dafbe44b418c6e901e221da54f41828
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;11&nbsp;19:23:54&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;12&nbsp;02:26:50&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 12 May 2011 08:26:35 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That seems to have done the trick!
I cheated a bit and used the inc dir from the old distr instead of  
installing Module::Install and all other &#34;development-mode&#34;  
extensions, not sure if that makes any difference but now it works!

To avoid using dev mode/install dev modules:
$ mv .git ..
$ cp -r ../ZeroMQ-0.12/inc .

$ env ZMQ_HOME=$DEST perl Makefile.PL
Probing environment variables:
  + Detected ZMQ_INCLUDES from ZMQ_HOME...
  + Detected ZMQ_H from ZMQ_HOME...
  + Detected ZMQ_LIBS from ZMQ_HOME...
Probing libzmq via pkg-config ...
Package libzmq was not found in the pkg-config search path.
Perhaps you should add the directory containing `libzmq.pc&#39;
to the PKG_CONFIG_PATH environment variable
No package &#39;libzmq&#39; found
  - No libzmq found...
Probing zeromq2 via pkg-config ...
Package zeromq2 was not found in the pkg-config search path.
Perhaps you should add the directory containing `zeromq2.pc&#39;
to the PKG_CONFIG_PATH environment variable
No package &#39;zeromq2&#39; found
  - No zeromq2 found...
Detected the following ZMQ settings:
  + ZMQ_HOME = /Users/johan/dev/inst
  + ZMQ_H = /Users/johan/dev/inst/include/zmq.h
  + ZMQ_INCLUDES = /Users/johan/dev/inst/include
  + ZMQ_LIBS = -L/Users/johan/dev/inst/lib
  + ZMQ_TRACE = &#40;null&#41;
Writing ppport.h
  + Using zmq.h from /Users/johan/dev/inst/include/zmq.h
Checking if your kit is complete...
Warning: the following files are missing in your kit:
        eg/pushpull_client.pl
        eg/pushpull_server.pl
        META.yml
Please inform the author.
Warning: prerequisite Devel::PPPort 3.19 not found. We have 3.0601.
Warning: prerequisite ExtUtils::MakeMaker 6.42 not found. We have 6.30.
Warning: prerequisite Task::Weaken 0 not found.
Warning: prerequisite Test::Exception 0.29 not found.
Warning: prerequisite Test::More 0.98 not found. We have 0.62.
Warning: prerequisite Test::Requires 0 not found.
Warning: prerequisite Test::TCP 0 not found.
Writing Makefile for ZeroMQ


$ make
...

Make completes perfectly fine! Using PKG_CONFIG_PATH &#40;only&#41; works fine  
as well.
I guess that fixed it, thank you!


On May 12, 2011, at 01:23 , Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt;
&gt; Can you please see if the latest master works for you? <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-Perl">https://github.com/lestrrat/ZeroMQ-Perl</a></span>
&gt;
&gt;
&gt; The relevant change is:  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-">https://github.com/lestrrat/ZeroMQ-</a></span>
&gt; Perl/commit/383ba71b7dafbe44b418c6e901e221da54f41828
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;12&nbsp;03:58:48&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-5Êúà-12 Êú® 02:26:50, johan@stromnet.se wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That seems to have done the trick!
</div>

Good! pushed and uploaded to CPAN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;12&nbsp;03:58:49&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;15&nbsp;11:58:12&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 15 May 2011 17:57:54 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi again,

seems some bugs got into the repo in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-Perl/commit/c6530482149817c6774b74ac783fb2e78ce32be7">https://github.com/lestrrat/ZeroMQ-Perl/commit/c6530482149817c6774b74ac783fb2e78ce32be7</a></span> 
  and <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-Perl/commit/31d8c22dd21bdcfd30b238bbe98604ad12c098e1">https://github.com/lestrrat/ZeroMQ-Perl/commit/31d8c22dd21bdcfd30b238bbe98604ad12c098e1</a></span>

-        my $version = qx/pkg-config --modversion $pkg/;
+        my $version = qx/$pkg_config --modversion $pkg/;

and similar in the other patch. That actually tries to call the  
PKG_CONFIG_PATH specified &#40;which is one or more directories&#41;, instead  
of executing the pkg-config command:

Probing environment variables:
Probing libzmq via /Users/johan/dev/inst/lib/pkgconfig ...
  - No libzmq found...
Probing zeromq2 via /Users/johan/dev/inst/lib/pkgconfig ...
  - No zeromq2 found...

The following patch &#40;against current master&#41; seems to fix it:

diff --git a/tools/detect_zmq.pl b/tools/detect_zmq.pl
index 3498ba0..7344557 100644
--- a/tools/detect_zmq.pl
+++ b/tools/detect_zmq.pl
@@ -68,7 +68,7 @@ sub probe_pkgconfig {
      my $pkg_config = $ENV{ PKG_CONFIG_PATH } || &#39;pkg-config&#39;;
      foreach my $pkg &#40; qw&#40;libzmq zeromq2&#41; &#41; {
          print &#34;Probing $pkg via $pkg_config ...\n&#34;;
-        my $version = qx/$pkg_config --modversion $pkg/;
+        my $version = qx/pkg-config --modversion $pkg/;
          chomp $version;
          if &#40;! $version&#41; {
              print &#34; - No $pkg found...\n&#34;;
@@ -77,7 +77,7 @@ sub probe_pkgconfig {

          print &#34; + found $pkg $version\n&#34;;
          if &#40;! $ENV{ZMQ_INCLUDES}&#41; {
-            if &#40;my $cflags = qx/$pkg_config --cflags-only-I $pkg/&#41; {
+            if &#40;my $cflags = qx/pkg-config --cflags-only-I $pkg/&#41; {
                  chomp $cflags;
                  print &#34; + Detected ZMQ_INCLUDES from $pkg_config... 
\n&#34;;
                  my @paths = map { s/^-I//; $_ } split /\s+/, $cflags;
@@ -96,7 +96,7 @@ sub probe_pkgconfig {
          }

          if &#40;! $ENV{ZMQ_LIBS}&#41; {
-            if &#40;my $libs = qx/$pkg_config --libs $pkg/&#41; {
+            if &#40;my $libs = qx/pkg-config --libs $pkg/&#41; {
                  chomp $libs;
                  print &#34; + Detected ZMQ_LIBS from $pkg_config...\n&#34;;
                  $ENV{ZMQ_LIBS} = $libs;
@@ -106,4 +106,4 @@ sub probe_pkgconfig {
          last;
      }


The env variable is inherited properly, and the libraries are detected  
fine. At least on OS X.. On FreeBSD however, I get the following  
problem:

$ env PKG_CONFIG_PATH=$DEST/lib/pkgconfig perl Makefile.PL  
PREFIX=&#34;$DEST&#34;
Probing environment variables:
Probing libzmq via /home/johan/dev/inst/lib/pkgconfig ...
  + found libzmq 2.1.7
  + Detected ZMQ_INCLUDES from /home/johan/dev/inst/lib/pkgconfig...
  + Detected ZMQ_H from /home/johan/dev/inst/lib/pkgconfig...
  + Detected ZMQ_LIBS from /home/johan/dev/inst/lib/pkgconfig...
Detected the following ZMQ settings:
  + ZMQ_HOME = &#40;null&#41;
  + ZMQ_H = /home/johan/dev/inst/include/zmq.h
  + ZMQ_INCLUDES = /home/johan/dev/inst/include
  + ZMQ_LIBS = -L/home/johan/dev/inst/lib -lzmq
  + ZMQ_TRACE = &#40;null&#41;
sys_cmd -&gt; /usr/bin/cc -DAPPLLIB_EXP=&#34;/usr/local/lib/perl5/5.10.1/ 
BSDPAN&#34; -DHAS_FPSETMASK -DHAS_FLOATINGPOINT_H -fno-strict-aliasing - 
pipe -fstack-protector -I/usr/local/include -Wl,-E -fstack-protector - 
L/usr/local/lib assertlibXzdSrdHW.c -o assertlibS2F3So8b -lzmq -I/home/ 
johan/dev/inst/include -L/home/johan/dev/inst/lib at inc/Devel/ 
CheckLib.pm line 309.
/libexec/ld-elf.so.1: Shared object &#34;libzmq.so.1&#34; not found, required  
by &#34;assertlibS2F3So8b&#34;


Very wierd, the -L/home/johan/dev/inst/lib flag is there.. and  
libzmq.so.1 is there:

$ ls -al $DEST/lib/
total 12179
drwxr-xr-x  3 johan  johan        7 May 15 14:32 .
drwxr-xr-x  5 johan  johan        5 May 15 14:32 ..
-rw-r--r--  1 johan  johan  9251320 May 15 14:32 libzmq.a
-rwxr-xr-x  1 johan  johan      950 May 15 14:32 libzmq.la
lrwxr-xr-x  1 johan  johan       11 May 15 14:32 libzmq.so -&gt;  
libzmq.so.1
-rwxr-xr-x  1 johan  johan  3126612 May 15 14:32 libzmq.so.1
drwxr-xr-x  2 johan  johan        3 May 15 14:32 pkgconfig


After hacking in the &#34;-Wl,--verbose&#34; param to @sys_cmd in inc/Devel/ 
CheckLib.pm, I got the following from ld:

...
attempt to open /var/tmp//cctZv99Z.o succeeded
/var/tmp//cctZv99Z.o
attempt to open /usr/local/lib/libzmq.so failed
attempt to open /usr/local/lib/libzmq.a failed
attempt to open /home/johan/dev/inst/lib/libzmq.so succeeded
-lzmq &#40;/home/johan/dev/inst/lib/libzmq.so&#41;
...&#40;nothing more relevant&#41;...
libm.so.5 needed by /home/johan/dev/inst/lib/libzmq.so
found libm.so.5 at /lib/libm.so.5
/libexec/ld-elf.so.1: Shared object &#34;libzmq.so.1&#34; not found, required  
by &#34;assertlibbvaiHD_K&#34;


Very wierd, seems like its finding the &#34;wrong&#34; library or something,  
but I don&#39;t know enough LD-magic to know what&#39;s going on here.
If i skip the whole assertlib stuff it builds fine though, so the  
paths/library is working fine.

Johan


On May 12, 2011, at 09:58 , Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt;
&gt; On 2011-5Êúà-12 Êú® 02:26:50, johan@stromnet.se wrote:
<div class="message-stanza open">&gt;&gt; That seems to have done the trick!
</div>&gt;
&gt;
&gt; Good! pushed and uploaded to CPAN.
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;15&nbsp;11:58:14&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;15&nbsp;18:14:52&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">that should&#39;ve already been fixed. did you git pull?
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-">https://github.com/lestrrat/ZeroMQ-</a></span>
Perl/commit/31d8c22dd21bdcfd30b238bbe98604ad12c098e1

--d
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;15&nbsp;18:14:53&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;16&nbsp;03:45:25&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 16 May 2011 09:45:11 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yep, latest master as of yesterday when I tested. The commit you  
linked to is the same one I linked to, which is the one which breaks  
the pkg-config execuction.
The $pkg_config var is sourced from the PKG_CONFIG_PATH env var, and  
$pkg_config is then executed.

     my $pkg_config = $ENV{ PKG_CONFIG_PATH } || &#39;pkg-config&#39;;
     foreach my $pkg &#40; qw&#40;libzmq zeromq2&#41; &#41; {
         print &#34;Probing $pkg via $pkg_config ...\n&#34;;
         my $version = qx/$pkg_config --modversion $pkg/;
         chomp $version;
         if &#40;! $version&#41; {
             print &#34; - No $pkg found...\n&#34;;
             next;
         }


 From the man-page of pkg-config:

        .... By  default,
        pkg-config  looks in the directory prefix/lib/pkgconfig for  
these files; it will also look in the colon-separated &#40;on Windows,  
semicolon-separated&#41; list of
        directories specified by the PKG_CONFIG_PATH environment  
variable.

Using PKG_CONFIG_PATH as the executable is thus wrong.

Johan

On May 16, 2011, at 00:14 , Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt;
&gt; that should&#39;ve already been fixed. did you git pull?
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lestrrat/ZeroMQ-">https://github.com/lestrrat/ZeroMQ-</a></span>
&gt; Perl/commit/31d8c22dd21bdcfd30b238bbe98604ad12c098e1
&gt;
&gt; --d
</div></div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;16&nbsp;03:45:26&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;16&nbsp;04:05:51&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">oh oops? I guess I wasn&#39;t looking.
sorry, I&#39;m in a middle of a business trip, so I&#39;ll take a closer look later.
Thanks for your patience.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;16&nbsp;04:07:35&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 16 May 2011 10:07:25 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Understandable! Just glad I can contribute some :&#41;

On May 16, 2011, at 10:05 AM, Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt; 
&gt; oh oops? I guess I wasn&#39;t looking.
&gt; sorry, I&#39;m in a middle of a business trip, so I&#39;ll take a closer look later.
&gt; Thanks for your patience.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;22&nbsp;19:01:26&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Okay, so I should source $pkg_config from some other env var? 
The only thing I&#39;m trying to do with the

$pkg_config = $ENV{ ... } || &#34;pkg-config&#34;

line is to allow the user to specify an alternate pkg-config executable when running
Makefile.PL

does changing the env var name to, say, PKGCONFIG_CMD or something work?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;23&nbsp;03:28:27&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 May 2011 09:28:15 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, 

I&#39;m not a pkg-config expert, but when do you need to specify an alternate binary? As far as I&#39;ve understood, you have one pkg-config binary but you might have multiple locations with .pc files, and these locations is what you specify with PKG_CONFIG_PATH.
If there is a need to use an alternate binary, I&#39;d guess that something like that would work, but I&#39;ve never seen that. Either way, PKG_CONFIG_PATH should however never be used for that.


On May 23, 2011, at 1:01 AM, Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt; 
&gt; Okay, so I should source $pkg_config from some other env var? 
&gt; The only thing I&#39;m trying to do with the
&gt; 
&gt; $pkg_config = $ENV{ ... } || &#34;pkg-config&#34;
&gt; 
&gt; line is to allow the user to specify an alternate pkg-config executable when running
&gt; Makefile.PL
&gt; 
&gt; does changing the env var name to, say, PKGCONFIG_CMD or something work?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;23&nbsp;03:44:15&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not a pkg-config expert, but when do you need to specify an
&gt;    alternate binary? As far as I&#39;ve understood, you have one pkg-
&gt;    config binary but you might have multiple locations with .pc files,
&gt;    and these locations is what you specify with PKG_CONFIG_PATH.
</div>
 I&#39;ve never really used pkg-config other than for this purposes, so I don&#39;t know :&#41;

But from a defensive programming POV, I try to always make such things configurable.
That&#39;s all.

Does this work for you? 220718977538c77cf6dbd91bda1f2c174c87b497
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;23&nbsp;03:50:04&nbsp;2011</span>
    <span class="description">johan [...] stromnet.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68108] ZMQ Detection on OSX fails </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 May 2011 09:49:53 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ZeroMQ [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Johan Str√∂m &lt;johan [...] stromnet.se&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sure, that should probably be working fine!

On May 23, 2011, at 9:44 AM, Daisuke Maki via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68108">https://rt.cpan.org/Ticket/Display.html?id=68108</a></span> &gt;
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt; I&#39;m not a pkg-config expert, but when do you need to specify an
&gt;&gt;   alternate binary? As far as I&#39;ve understood, you have one pkg-
&gt;&gt;   config binary but you might have multiple locations with .pc files,
&gt;&gt;   and these locations is what you specify with PKG_CONFIG_PATH.
</div>&gt; 
&gt; I&#39;ve never really used pkg-config other than for this purposes, so I don&#39;t know :&#41;
&gt; 
&gt; But from a defensive programming POV, I try to always make such things configurable.
&gt; That&#39;s all.
&gt; 
&gt; Does this work for you? 220718977538c77cf6dbd91bda1f2c174c87b497
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;23&nbsp;04:20:46&nbsp;2011</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-5Êúà-23 Êúà 03:50:04, johan@stromnet.se wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sure, that should probably be working fine!
</div>
Right on, new version coming right up...

--d
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
