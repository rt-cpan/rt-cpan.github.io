<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #32841 for CPAN: Location of .cpan Inconsistent on Mac OS X</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #32841 for CPAN: Location of .cpan Inconsistent on Mac OS X</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CPAN/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CPAN/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CPAN/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CPAN/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPAN">CPAN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">32841</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CPAN/Active/">CPAN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dwheeler [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-8164-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8165-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;31&nbsp;16:22:49&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Jan 2008 13:21:26 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m running Perl 5.10 with CPAN v1.9205 on Mac OS X 10.5 &#34;Leopard&#34;.  
Once File::HomeDir is installed, CPAN.pm using ~/Library/Application\  
Support\.cpan for CPAN::MyConfig, but everything else is still in  
`/.cpan. I&#39;d prefer that everything was just left in ~/.cpan, as on  
other OSes, regardless of what File::HomeDir says. If ~/.cpan isn&#39;t  
feasible, then I&#39;d certainly prefer that everything was in one place,  
at the very least. As it is, downloads and builds go into ~/.cpan and  
config goes into ~/Library/Application\ Support/.cpan. Very annoying.

Thanks for all the recent great in improvements in CPAN.pm, though.  
Very nice!

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;00:48:07&nbsp;2008</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 01 Feb 2008 06:47:18 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Thu, 31 Jan 2008 16:23:07 -0500, &#34;David Wheeler via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; I&#39;m running Perl 5.10 with CPAN v1.9205 on Mac OS X 10.5 &#34;Leopard&#34;.  
  &gt; Once File::HomeDir is installed, CPAN.pm using ~/Library/Application\  
  &gt; Support\.cpan for CPAN::MyConfig, but everything else is still in  
  &gt; `/.cpan. I&#39;d prefer that everything was just left in ~/.cpan, as on  
  &gt; other OSes, regardless of what File::HomeDir says. If ~/.cpan isn&#39;t  
  &gt; feasible, then I&#39;d certainly prefer that everything was in one place,  
  &gt; at the very least. As it is, downloads and builds go into ~/.cpan and  
  &gt; config goes into ~/Library/Application\ Support/.cpan. Very annoying.
</div>
I&#39;m not sure how this came about. I remember it was Schwern&#39;s idea to
treat OSX a bit OSXishly. Or maybe it is a consequence of using
File::HomeDir in one place and forgetting it somewhere else?

I fully agree with you that there should be only one place. But
offhand I don&#39;t know where the bug sits. Is it still broken in
1.92_55?

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;00:48:18&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;02:42:53&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adamk [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Jan 2008 23:42:14 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;Andreas J. Koenig&#41; via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: CPAN
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=32841">http://rt.cpan.org/Ticket/Display.html?id=32841</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt; On Thu, 31 Jan 2008 16:23:07 -0500, &#34;David Wheeler via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div>&gt; 
<div class="message-stanza open">&gt;   &gt; I&#39;m running Perl 5.10 with CPAN v1.9205 on Mac OS X 10.5 &#34;Leopard&#34;.  
&gt;   &gt; Once File::HomeDir is installed, CPAN.pm using ~/Library/Application\  
&gt;   &gt; Support\.cpan for CPAN::MyConfig, but everything else is still in  
&gt;   &gt; `/.cpan. I&#39;d prefer that everything was just left in ~/.cpan, as on  
&gt;   &gt; other OSes, regardless of what File::HomeDir says. If ~/.cpan isn&#39;t  
&gt;   &gt; feasible, then I&#39;d certainly prefer that everything was in one place,  
&gt;   &gt; at the very least. As it is, downloads and builds go into ~/.cpan and  
&gt;   &gt; config goes into ~/Library/Application\ Support/.cpan. Very annoying.
</div>&gt; 
&gt; I&#39;m not sure how this came about. I remember it was Schwern&#39;s idea to
&gt; treat OSX a bit OSXishly. Or maybe it is a consequence of using
&gt; File::HomeDir in one place and forgetting it somewhere else?
</div>
I hereby transfer all blame to one Adam Kennedy.  I enter into evidence 
rt.cpan.org 17759 and 22120 as exhibits A and 2.

FWIW I think CPAN is doing the right thing by using the native configuration 
directory.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I fully agree with you that there should be only one place. But
&gt; offhand I don&#39;t know where the bug sits. Is it still broken in
&gt; 1.92_55?
</div>
I&#39;d suspect what&#39;s happening is CPAN::MyConfig says to use ~/.cpan for the 
build_dir and cpan_home and all that.  I&#39;d check that, David.


-- 
10. Not allowed to purchase anyone’s soul on government time.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;04:42:12&nbsp;2008</span>
    <span class="description">adamkennedybackup [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org, &#34;Adam Kennedy&#34; &lt;adamk [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 1 Feb 2008 20:41:55 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Michael G Schwern&#34; &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adam Kennedy&#34; &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey, I&#39;m just supplying the CORRECT place to put the files, when asked
by CPAN.pm. &#40;And pudge made that decision anyway&#41;

If you ignore what I say and half the time go use something else, I
refuse to be held accountable :&#41;

That said, it would seem slightly odd to me that you would START with
the files in one place, and then not do one of a&#41; Move the files to
the new location or b&#41; Keep using the old build location, when
File::HomeDir is added.

Adam K

On 01/02/2008, Michael G Schwern &lt;schwern@pobox.com&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;Andreas J. Koenig&#41; via RT wrote:
<div class="message-stanza open">&gt; &gt;        Queue: CPAN
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=32841">http://rt.cpan.org/Ticket/Display.html?id=32841</a></span> &gt;
&gt; &gt;
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt;&gt;&gt; On Thu, 31 Jan 2008 16:23:07 -0500, &#34;David Wheeler via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div>&gt; &gt;
<div class="message-stanza open">&gt; &gt;   &gt; I&#39;m running Perl 5.10 with CPAN v1.9205 on Mac OS X 10.5 &#34;Leopard&#34;.
&gt; &gt;   &gt; Once File::HomeDir is installed, CPAN.pm using ~/Library/Application\
&gt; &gt;   &gt; Support\.cpan for CPAN::MyConfig, but everything else is still in
&gt; &gt;   &gt; `/.cpan. I&#39;d prefer that everything was just left in ~/.cpan, as on
&gt; &gt;   &gt; other OSes, regardless of what File::HomeDir says. If ~/.cpan isn&#39;t
&gt; &gt;   &gt; feasible, then I&#39;d certainly prefer that everything was in one place,
&gt; &gt;   &gt; at the very least. As it is, downloads and builds go into ~/.cpan and
&gt; &gt;   &gt; config goes into ~/Library/Application\ Support/.cpan. Very annoying.
</div>&gt; &gt;
&gt; &gt; I&#39;m not sure how this came about. I remember it was Schwern&#39;s idea to
&gt; &gt; treat OSX a bit OSXishly. Or maybe it is a consequence of using
&gt; &gt; File::HomeDir in one place and forgetting it somewhere else?
</div>&gt;
&gt; I hereby transfer all blame to one Adam Kennedy.  I enter into evidence
&gt; rt.cpan.org 17759 and 22120 as exhibits A and 2.
&gt;
&gt; FWIW I think CPAN is doing the right thing by using the native configuration
&gt; directory.
&gt;
&gt;
<div class="message-stanza open">&gt; &gt; I fully agree with you that there should be only one place. But
&gt; &gt; offhand I don&#39;t know where the bug sits. Is it still broken in
&gt; &gt; 1.92_55?
</div>&gt;
&gt; I&#39;d suspect what&#39;s happening is CPAN::MyConfig says to use ~/.cpan for the
&gt; build_dir and cpan_home and all that.  I&#39;d check that, David.
&gt;
&gt;
&gt; --
&gt; 10. Not allowed to purchase anyone&#39;s soul on government time.
&gt;      -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
&gt;             <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;04:59:33&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 01 Feb 2008 01:58:52 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Adam Kennedy via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That said, it would seem slightly odd to me that you would START with
&gt; the files in one place, and then not do one of a&#41; Move the files to
&gt; the new location or b&#41; Keep using the old build location, when
&gt; File::HomeDir is added.
</div>
I think folks aren&#39;t aware anything changed so they aren&#39;t taking any action, 
it&#39;s just how things are set up.

I can guess something like this happens:
1&#41;  A fresh Perl is installed, no File::HomeDir.
2&#41;  The CPAN shell is loaded, without File::HomeDir it falls back to 
$ENV{HOME} for configuration.
3&#41;  File::HomeDir is eventually installed, now the CPAN shell is looking in 
~/Library/Application Support/.cpan for it&#39;s config but everything was 
originally configured for ~/.cpan


-- 
Reality is that which, when you stop believing in it, doesn&#39;t go away.
     -- Phillip K. Dick
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;13:05:02&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 1 Feb 2008 10:03:09 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 1, 2008, at 01:59, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can guess something like this happens:
&gt; 1&#41;  A fresh Perl is installed, no File::HomeDir.
&gt; 2&#41;  The CPAN shell is loaded, without File::HomeDir it falls back to
&gt; $ENV{HOME} for configuration.
&gt; 3&#41;  File::HomeDir is eventually installed, now the CPAN shell is  
&gt; looking in
&gt; ~/Library/Application Support/.cpan for it&#39;s config but everything was
&gt; originally configured for ~/.cpan
</div>
Yes, that&#39;s what happened to me, and the next time I ran the CPAN  
shell after installing File::HomeDir, it prompted me to configure  
things again, because it was no longer looking for ~/.cpan/CPAN/ 
MyConfig.pm. When I figured out what was going on, I copied the file  
over, but what a PITA.

Anyway, it looks like CPAN::Config is using `File::HomeDir-&gt;my_data`  
for the location of .cpan, but why not just use `File::HomeDir- 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;my_home` like everything else does?
</div>
Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;15:47:51&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 01 Feb 2008 12:47:22 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; I can guess something like this happens:
&gt;&gt; 1&#41;  A fresh Perl is installed, no File::HomeDir.
&gt;&gt; 2&#41;  The CPAN shell is loaded, without File::HomeDir it falls back to
&gt;&gt; $ENV{HOME} for configuration.
&gt;&gt; 3&#41;  File::HomeDir is eventually installed, now the CPAN shell is  
&gt;&gt; looking in
&gt;&gt; ~/Library/Application Support/.cpan for it&#39;s config but everything was
&gt;&gt; originally configured for ~/.cpan
</div>&gt; 
&gt; Yes, that&#39;s what happened to me, and the next time I ran the CPAN  
&gt; shell after installing File::HomeDir, it prompted me to configure  
&gt; things again, because it was no longer looking for ~/.cpan/CPAN/ 
&gt; MyConfig.pm. When I figured out what was going on, I copied the file  
&gt; over, but what a PITA.
</div>
This, I believe, is the actual problem.  It doesn&#39;t seem to matter to you 
where the data lives as long as it lives in one place, right?

So the question now is how do we make sure it lives in one place?  There&#39;s a 
bootstrap problem.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Anyway, it looks like CPAN::Config is using `File::HomeDir-&gt;my_data`  
&gt; for the location of .cpan, but why not just use `File::HomeDir- 
<div class="message-stanza open">&gt;  &gt;my_home` like everything else does?
</div></div>
Because the whole point of File::HomeDir is to abstract this all away.  It 
would be incorrect to use my_home for this because you&#39;re not asking where the 
home directory is, you&#39;re asking where to put config data.  On stock Unix 
almost all of this defaults to home because Unixes rarely define a user data 
directory.  Everyone just dumps things into ~/.foo by tradition.

Both Windows and OS X define a place to put user data, that&#39;s 
~/Library/Application Support on OS X and on Windows it&#39;s ~/Local 
Settings/Application Data/. [1]  Other systems might do the same in the 
future, so it&#39;s best to ask them.

While one might say &#34;but OS X is Unix&#34;... well, yes except where it&#39;s not.


[1] Actually you ask the OS where it is, something else Unix generally lacks.

-- 
But there&#39;s no sense crying over every mistake.
You just keep on trying till you run out of cake.
     -- Jonathan Coulton, &#34;Still Alive&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;16:02:41&nbsp;2008</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 1 Feb 2008 16:02:20 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David Golden&#34; &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 1, 2008 3:47 PM, Michael G Schwern via RT &lt;bug-CPAN@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Because the whole point of File::HomeDir is to abstract this all away.  It
&gt; would be incorrect to use my_home for this because you&#39;re not asking where
&gt; the
&gt; home directory is, you&#39;re asking where to put config data.  On stock Unix
&gt; almost all of this defaults to home because Unixes rarely define a user
&gt; data
&gt; directory.  Everyone just dumps things into ~/.foo by tradition.
&gt;
&gt;
</div>My rule of thumb for this is that configuration directories/files should
live in a common, easily found directory.  For CPAN::Reporter on Windows,
the standard place users expect to find things is &#34;My Documents&#34; -- not some
hidden system directory buried in some hard to find place.  Cache and other
purely application accessed data can live in the &#34;Application Data&#34; type
directories.

For anything with a Unix background, I would expect to find dot-config type
directories like &#34;~/.cpanreporter&#34; so that&#39;s the behavior.  I don&#39;t believe
in sticking things in some my_data&#40;&#41; directory just because that exists for
native GUI applications.

Certainly, the *addition* of File::HomeDir shouldn&#39;t change the location of
the default configuration directory -- or if it does, there should be an
automatic migration from the old location to the new location if that
situation is detected.

David
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;21:48:36&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 1 Feb 2008 18:48:19 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 1, 2008, at 12:47, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This, I believe, is the actual problem.  It doesn&#39;t seem to matter  
&gt; to you
&gt; where the data lives as long as it lives in one place, right?
</div>
The bug is that it uses two locations, yes. My preference is for  
~/.cpan, but I can live with it elsewhere, as long as there is just  
one directory.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So the question now is how do we make sure it lives in one place?   
&gt; There&#39;s a
&gt; bootstrap problem.
</div>
There is no bootstrap problem if you always use `$ENV{HOME}/.cpan`. ;-&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Because the whole point of File::HomeDir is to abstract this all  
&gt; away.  It
&gt; would be incorrect to use my_home for this because you&#39;re not asking  
&gt; where the
&gt; home directory is, you&#39;re asking where to put config data.  On stock  
&gt; Unix
&gt; almost all of this defaults to home because Unixes rarely define a  
&gt; user data
&gt; directory.  Everyone just dumps things into ~/.foo by tradition.
</div>
Yes, and it is a tradition that Unix apps that are distributed *with*  
Mac OS X use. If you fire up /usr/bin/emacs, what configuration file  
does it use? ~/.emacs, of course. Only UI apps use ~/Library/ 
Application\ Support.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Both Windows and OS X define a place to put user data, that&#39;s
&gt; ~/Library/Application Support on OS X and on Windows it&#39;s ~/Local
&gt; Settings/Application Data/. [1]  Other systems might do the same in  
&gt; the
&gt; future, so it&#39;s best to ask them.
</div>
Yes, but as I said, no other Unix apps on OS X use ~/Library/ 
Application\ Support. You might argue that they should, or that one  
day they might, but I&#39;d bet against it. I&#39;d say: fat chance! None of  
them use the Cocoa API, so none of them would use that directory. Note  
that CPAN is only using it now because File::HomeDir uses Mac::Carbon  
to find it. And Carbon is mainly a GUI API.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; While one might say &#34;but OS X is Unix&#34;... well, yes except where  
&gt; it&#39;s not.
&gt;
&gt;
&gt; [1] Actually you ask the OS where it is, something else Unix  
&gt; generally lacks.
</div>
I think it&#39;s not the OS you&#39;re asking so much as the carbon API. Not  
the same thing at all. In fact, I expect that Carbon will be  
deprecated one day. What does the Cocoa API say?

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;00:16:53&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 01 Feb 2008 21:14:53 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; This, I believe, is the actual problem.  It doesn&#39;t seem to matter  
&gt;&gt; to you
&gt;&gt; where the data lives as long as it lives in one place, right?
</div>&gt; 
&gt; The bug is that it uses two locations, yes. My preference is for  
&gt; ~/.cpan, but I can live with it elsewhere, as long as there is just  
&gt; one directory.
</div>
Ok good.  Everything from here on rapidly gets academic but this is the clear bug.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; So the question now is how do we make sure it lives in one place?   
&gt;&gt; There&#39;s a bootstrap problem.
</div>&gt; 
&gt; There is no bootstrap problem if you always use `$ENV{HOME}/.cpan`. ;-&#41;
</div>
Sure, if $ENV{HOME} is defined and if it&#39;s appropriate to use $ENV{HOME} on 
that system.  On Windows, for example, it&#39;s wrong even if it is.

Abstracting all this away was the point of File::HomeDir, so at that level it 
becomes a File::HomeDir issue.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Because the whole point of File::HomeDir is to abstract this all  
&gt;&gt; away.  It
&gt;&gt; would be incorrect to use my_home for this because you&#39;re not asking  
&gt;&gt; where the
&gt;&gt; home directory is, you&#39;re asking where to put config data.  On stock  
&gt;&gt; Unix
&gt;&gt; almost all of this defaults to home because Unixes rarely define a  
&gt;&gt; user data
&gt;&gt; directory.  Everyone just dumps things into ~/.foo by tradition.
</div>&gt; 
&gt; Yes, and it is a tradition that Unix apps that are distributed *with*  
&gt; Mac OS X use. If you fire up /usr/bin/emacs, what configuration file  
&gt; does it use? ~/.emacs, of course. Only UI apps use ~/Library/ 
&gt; Application\ Support.
</div>
I suspect the &#34;choice&#34; was more to just leave them alone to avoid adding 
another porting chore.  It would involve digging into each and every app to 
change where it finds its config files.

Perl, having a much richer set of libraries, is much better about abstracting 
this sort of thing away.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Both Windows and OS X define a place to put user data, that&#39;s
&gt;&gt; ~/Library/Application Support on OS X and on Windows it&#39;s ~/Local
&gt;&gt; Settings/Application Data/. [1]  Other systems might do the same in  
&gt;&gt; the
&gt;&gt; future, so it&#39;s best to ask them.
</div>&gt; 
&gt; Yes, but as I said, no other Unix apps on OS X use ~/Library/ 
&gt; Application\ Support. You might argue that they should, or that one  
&gt; day they might, but I&#39;d bet against it. I&#39;d say: fat chance! None of  
&gt; them use the Cocoa API, so none of them would use that directory. Note  
&gt; that CPAN is only using it now because File::HomeDir uses Mac::Carbon  
&gt; to find it. And Carbon is mainly a GUI API.
</div>
Is there any particular reason command line and GUI apps should put their 
configs in different places?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; [1] Actually you ask the OS where it is, something else Unix  
&gt;&gt; generally lacks.
</div>&gt; 
&gt; I think it&#39;s not the OS you&#39;re asking so much as the carbon API. Not  
&gt; the same thing at all. In fact, I expect that Carbon will be  
&gt; deprecated one day. What does the Cocoa API say?
</div>
Since Apple made the OS and Carbon and Cocoa, it&#39;s academic to argue that fine 
point of what&#39;s the OS and what&#39;s the API.  The point was that OS X has a 
unified API to ask while, in general, Unix does not.  If Ubutunu had one &#40;and 
it might&#41; it might make sense to ask it.

Carbon and Cocoa will probably say the same thing.  It would be silly if they 
didn&#39;t as the whole point of Carbon is to make OS 9 apps transition to OS X.


-- 
Whip me, beat me, make my code compatible with VMS!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;08:59:17&nbsp;2008</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Feb 2008 08:54:49 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David Golden&#34; &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 2, 2008 12:17 AM, Michael G Schwern via RT &lt;bug-CPAN@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl, having a much richer set of libraries, is much better about
&gt; abstracting
&gt; this sort of thing away.
&gt;
</div>
Actually, it&#39;s not better, which is why we&#39;re having this problem.
File::HomeDir is just providing access to the OS level definitions, not
abstracting OS level differences away. It sounds like what we need is

    File::HomeDir-&gt;my_dot_config&#40;&#41;

That should returns a consistent and sane location for &#34;.foo&#34; style
configuration files or directories.  Then we can all argue over where the
heck that should be on various systems.

For OSX, I think it&#39;s the user&#39;s home directory.  For Windows, I think it
should be in &#34;My Documents&#34; &#40;which is what most users think of as something
equivalent to &#34;home&#34;&#41; --- though in Vista I think they actually have
something more like a home directory and &#34;Document&#34; and &#34;Pictures&#34; and such
folders hangs off of that.

David
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;15:34:06&nbsp;2008</span>
    <span class="description">RKOBES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 02 08:59:17 2008, DAGOLDEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Feb 2, 2008 12:17 AM, Michael G Schwern via RT &lt;bug-CPAN@rt.cpan.org&gt;
&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Perl, having a much richer set of libraries, is much better about
&gt; &gt; abstracting
&gt; &gt; this sort of thing away.
&gt; &gt;
</div>&gt; 
&gt; Actually, it&#39;s not better, which is why we&#39;re having this problem.
&gt; File::HomeDir is just providing access to the OS level definitions, not
&gt; abstracting OS level differences away. It sounds like what we need is
&gt; 
&gt;     File::HomeDir-&gt;my_dot_config&#40;&#41;
&gt; 
&gt; That should returns a consistent and sane location for &#34;.foo&#34; style
&gt; configuration files or directories.  Then we can all argue over where the
&gt; heck that should be on various systems.
&gt; 
&gt; For OSX, I think it&#39;s the user&#39;s home directory.  For Windows, I think it
&gt; should be in &#34;My Documents&#34; &#40;which is what most users think of as
</div>something
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; equivalent to &#34;home&#34;&#41; --- though in Vista I think they actually have
&gt; something more like a home directory and &#34;Document&#34; and &#34;Pictures&#34; and
</div>such
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; folders hangs off of that.
&gt; 
&gt; David
</div>
Does the attached patch to CPAN::FirstTime help with this problem of
placing the files in two separate areas? There&#39;s a section in the
CPAN::FirstTime::init&#40;_&#41; sub that uses $ENV{HOME} to set $cpan_home; the
patch changes this to use CPAN::HandleConfig::home&#40;&#41;.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: FirstTime.pm
===================================================================
--- FirstTime.pm	&#40;revision 2642&#41;
+++ FirstTime.pm	&#40;working copy&#41;
@@ -657,7 +657,7 @@
 
         if &#40;!$matcher or &#39;cpan_home&#39; =~ /$matcher/&#41; {
             my $cpan_home = $CPAN::Config-&gt;{cpan_home}
-                || File::Spec-&gt;catdir&#40;$ENV{HOME}, &#34;.cpan&#34;&#41;;
+                || File::Spec-&gt;catdir&#40;CPAN::HandleConfig::home&#40;&#41;, &#34;.cpan&#34;&#41;;
 
             if &#40;-d $cpan_home&#41; {
                 $CPAN::Frontend-&gt;myprint&#40;qq{
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;17:01:30&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 02 Feb 2008 14:00:43 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">David Golden via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Actually, it&#39;s not better, which is why we&#39;re having this problem.
&gt; File::HomeDir is just providing access to the OS level definitions, not
&gt; abstracting OS level differences away. It sounds like what we need is
&gt; 
&gt;     File::HomeDir-&gt;my_dot_config&#40;&#41;
&gt; 
&gt; That should returns a consistent and sane location for &#34;.foo&#34; style
&gt; configuration files or directories.  Then we can all argue over where the
&gt; heck that should be on various systems.
</div>
Though I&#39;d nit-pick particulars, that sounds like a good way to attack the 
problem.


-- 
Being faith-based doesn&#39;t trump reality.
        -- Bruce Sterling
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;18:15:16&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Feb 2008 15:14:53 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 2, 2008, at 14:01, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;    File::HomeDir-&gt;my_dot_config&#40;&#41;
&gt;&gt;
&gt;&gt; That should returns a consistent and sane location for &#34;.foo&#34; style
&gt;&gt; configuration files or directories.  Then we can all argue over  
&gt;&gt; where the
&gt;&gt; heck that should be on various systems.
</div>&gt;
&gt; Though I&#39;d nit-pick particulars, that sounds like a good way to  
&gt; attack the
&gt; problem.
</div>
How about the attached for a start?

Best,

David
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;18:18:39&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Feb 2008 15:18:25 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 1, 2008, at 21:17, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; The bug is that it uses two locations, yes. My preference is for
&gt;&gt; ~/.cpan, but I can live with it elsewhere, as long as there is just
&gt;&gt; one directory.
</div>&gt;
&gt; Ok good.  Everything from here on rapidly gets academic but this is  
&gt; the clear bug.
</div>
Agreed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; There is no bootstrap problem if you always use ` 
&gt;&gt; $ENV{HOME}/.cpan`. ;-&#41;
</div>&gt;
&gt; Sure, if $ENV{HOME} is defined and if it&#39;s appropriate to use  
&gt; $ENV{HOME} on
&gt; that system.  On Windows, for example, it&#39;s wrong even if it is.
</div>
Whatever CPAN.pm has used for the last 10 years, then.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Abstracting all this away was the point of File::HomeDir, so at that  
&gt; level it
&gt; becomes a File::HomeDir issue.
</div>
Yes, that works, as long as CPAN.pm uses it consistently, of course.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Yes, and it is a tradition that Unix apps that are distributed *with*
&gt;&gt; Mac OS X use. If you fire up /usr/bin/emacs, what configuration file
&gt;&gt; does it use? ~/.emacs, of course. Only UI apps use ~/Library/
&gt;&gt; Application\ Support.
</div>&gt;
&gt; I suspect the &#34;choice&#34; was more to just leave them alone to avoid  
&gt; adding
&gt; another porting chore.  It would involve digging into each and every  
&gt; app to
&gt; change where it finds its config files.
</div>
I suspect that no one even thought about it or cared. They assume that  
if someone knows enough to be using a Unix command-line program with a  
configuration file, they&#39;ll expect it to be in ~/.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl, having a much richer set of libraries, is much better about  
&gt; abstracting
&gt; this sort of thing away.
</div>
I agree it should be abstracted away, I just don&#39;t agree that it  
should go somewhere other than ~/.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is there any particular reason command line and GUI apps should put  
&gt; their
&gt; configs in different places?
</div>
Don&#39;t think so. Convention.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Since Apple made the OS and Carbon and Cocoa, it&#39;s academic to argue  
&gt; that fine
&gt; point of what&#39;s the OS and what&#39;s the API.
</div>
You&#39;re right, that was a cheap shot. Sorry.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The point was that OS X has a
&gt; unified API to ask while, in general, Unix does not.  If Ubutunu had  
&gt; one &#40;and
&gt; it might&#41; it might make sense to ask it.
&gt;
&gt; Carbon and Cocoa will probably say the same thing.  It would be  
&gt; silly if they
&gt; didn&#39;t as the whole point of Carbon is to make OS 9 apps transition  
&gt; to OS X.
</div>
Agreed.

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;02&nbsp;19:02:46&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Feb 2008 16:02:21 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 2, 2008, at 12:34, RKOBES via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Does the attached patch to CPAN::FirstTime help with this problem of
&gt; placing the files in two separate areas? There&#39;s a section in the
&gt; CPAN::FirstTime::init&#40;_&#41; sub that uses $ENV{HOME} to set $cpan_home;  
&gt; the
&gt; patch changes this to use CPAN::HandleConfig::home&#40;&#41;.
&gt; &lt;FirstTime.diff&gt;
</div>
Yes, that seems to help. I ran it and it configured everything in  
~/.cpan. Then I installed File::HomeDir and ran cpan again, at which  
point it ran through the configuration again, but did put everything  
in ~/Library/Application\ Support/.cpan, not just MyConfig.pm. So it&#39;s  
definitely an improvement.

Now if only CPAN.pm could move its configuration directory &#40;if its  
location changes&#41;, rather than make me go through the entire  
configuration again, that would be ideal.

Of course, the fact that it changes at all is pretty annoying, IMO.

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;10&nbsp;14:10:36&nbsp;2008</span>
    <span class="description">david [...] kineticode.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Adam Kennedy &lt;cpan [...] ali.as&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 10 Apr 2008 11:10:21 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;david [...] kineticode.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve committed this to File::HomeDir. Alias, look cool to you?

Best,

David

On Feb 2, 2008, at 15:14, David E. Wheeler wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Feb 2, 2008, at 14:01, Michael G Schwern via RT wrote:
&gt;
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt;   File::HomeDir-&gt;my_dot_config&#40;&#41;
&gt;&gt;&gt;
&gt;&gt;&gt; That should returns a consistent and sane location for &#34;.foo&#34; style
&gt;&gt;&gt; configuration files or directories.  Then we can all argue over  
&gt;&gt;&gt; where the
&gt;&gt;&gt; heck that should be on various systems.
</div>&gt;&gt;
&gt;&gt; Though I&#39;d nit-pick particulars, that sounds like a good way to  
&gt;&gt; attack the
&gt;&gt; problem.
</div>&gt;
&gt; How about the attached for a start?
&gt;
&gt; Best,
&gt;
&gt; David
&gt; &lt;my_dot_config.patch&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;16&nbsp;01:36:48&nbsp;2008</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 15 Jul 2008 22:35:32 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Feb 2, 2008, at 15:14, David E. Wheeler wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt;   File::HomeDir-&gt;my_dot_config&#40;&#41;
&gt;&gt;&gt;
&gt;&gt;&gt; That should returns a consistent and sane location for &#34;.foo&#34; style
&gt;&gt;&gt; configuration files or directories.  Then we can all argue over  
&gt;&gt;&gt; where the
&gt;&gt;&gt; heck that should be on various systems.
</div>&gt;&gt;
&gt;&gt; Though I&#39;d nit-pick particulars, that sounds like a good way to  
&gt;&gt; attack the
&gt;&gt; problem.
</div>&gt;
&gt; How about the attached for a start?
</div>
That patch made it into File::HomeDir, and into a production release  
on 27 June 2008. I therefore now propose this patch to  
CPAN::HandleConfig to address this issue &#40;See also RT #26912&#41;:

Index: lib/CPAN/HandleConfig.pm
===================================================================
--- lib/CPAN/HandleConfig.pm    &#40;revision 3246&#41;
+++ lib/CPAN/HandleConfig.pm    &#40;working copy&#41;
@@ -500,7 +500,9 @@
      my $old_v = $CPAN::Config-&gt;{load_module_verbosity};
      $CPAN::Config-&gt;{load_module_verbosity} = q[none];
      if &#40;$CPAN::META-&gt;has_usable&#40;&#34;File::HomeDir&#34;&#41;&#41; {
-        $home = File::HomeDir-&gt;my_data;
+        $home = File::HomeDir-&gt;can&#40;&#39;my_dot_config&#39;&#41;
+            ? File::HomeDir-&gt;my_dot_config
+            : File::HomeDir-&gt;my_data;
          unless &#40;defined $home&#41; {
              $home = File::HomeDir-&gt;my_home
          }

Thanks,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;16&nbsp;23:09:47&nbsp;2008</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 17 Jul 2008 05:10:50 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Wed, 16 Jul 2008 01:36:52 -0400, &#34;David Wheeler via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; --- lib/CPAN/HandleConfig.pm        &#40;revision 3246&#41;
  &gt; +++ lib/CPAN/HandleConfig.pm        &#40;working copy&#41;
</div>
Thanks, applied &#40;as 3250&#41;

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;20&nbsp;15:17:54&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Severity Normal added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;20&nbsp;15:22:07&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Unfortunately, Adam yanked dot_config_dir from File::HomeDir without
warning, so we need another long term solution.  

I&#39;d prefer to avoid File::HomeDir entirely, since it causes config
location to change with or without it.

How about checking these:

* $ENV{PERL_CPAN_HOME}
* $^O eq &#39;MSWin32&#39; ? catdir&#40; $ENV{HOMEDIR}, $ENV{HOMEPATH} &#41; : $ENV{HOME}

Thus, we get something &#34;standard&#34; to fall back on &#40;HOME&#41;, but allow
users to override as they wish.

-- David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;21&nbsp;01:00:17&nbsp;2009</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #32841] Location of .cpan Inconsistent on Mac OS X </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 20 Sep 2009 21:59:50 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sep 20, 2009, at 12:22 PM, David Golden via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately, Adam yanked dot_config_dir from File::HomeDir without
&gt; warning, so we need another long term solution.
</div>
WTF? When did he do that? And why?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;d prefer to avoid File::HomeDir entirely, since it causes config
&gt; location to change with or without it.
&gt;
&gt; How about checking these:
&gt;
&gt; * $ENV{PERL_CPAN_HOME}
&gt; * $^O eq &#39;MSWin32&#39; ? catdir&#40; $ENV{HOMEDIR}, $ENV{HOMEPATH} &#41; :  
&gt; $ENV{HOME}
&gt;
&gt; Thus, we get something &#34;standard&#34; to fall back on &#40;HOME&#41;, but allow
&gt; users to override as they wish.
</div>
Works for me.

David
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
