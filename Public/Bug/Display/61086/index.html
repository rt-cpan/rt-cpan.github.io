<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #61086 for Tk: Problems with Radiobutton widgets</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #61086 for Tk: Problems with Radiobutton widgets</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Tk">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Tk">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Tk">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Tk">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk">Tk CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">61086</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Tk">Tk</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KWittrock [...] web.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33610-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33611-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




pop2-Fehler.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/827282/428618/pop2-Fehler.pl">
Sun Sep 05 12:59:30 2010 (574b) by KWittrock [...] web.de
</a>
</font></li>
</ul>


tstradio.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/853413/441752/tstradio.pl">
Tue Nov 09 12:34:32 2010 (1k) by KWittrock [...] web.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=61086">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-827282" href="/Public/Bug/Display.html?id=61086#txn-827282">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;05&nbsp;12:59:30&nbsp;2010</span>
    <span class="description">KWittrock [...] web.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problems with Radiobutton widgets</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 05 Sep 2010 18:58:43 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;K. Wittrock&#34; &lt;KWittrock [...] web.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/827282/428617/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/428617">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The attached program shows various problems with Radiobuttons.

Under Linux:

- The program initializes the Radiobutton labelled &#34;Widget&#34; as the active Radiobutton. However, the &#34;Display&#34; button is displayed as active.

- When the mouse cursor is moved to the &#34;Widget&#34; button &#40;no click&#41;, it is marked as active. The &#34;Display&#34; button remains displayed as active. At the same time the following error message  comes up:

Use of uninitialized value in subroutine entry at /usr/lib/perl5/vendor_perl/5.10.0/x86_64-linux-thread-multi/Tk/Button.pm line 56.

- When the mouse cursor is moved away from the &#34;Widget&#34; button, the same error comes up, with the line no. changed to 87.

- When clicking on the &#34;Cursor&#34; or &#34;Widget&#34; button, the following error message comes up:

Tk::Error: Cannot copy to HASH in entersub at /usr/lib/perl5/vendor_perl/5.10.0/x86_64-linux-thread-multi/Tk.pm line 250.
   &lt;Button-1&gt;
   &#40;command bound to event&#41;

- When closing the program window,the following error message comes up:
Speicherzugriffsfehler &#40;in English: memory access error&#41;.

Software versions:
Linux linux-hqz8 2.6.27.37-0.1-default #1 SMP 2009-10-15 14:56:58 +0200 x86_64 x86_64 x86_64 GNU/Linux
&#40;in other words: OpenSuse 11.1&#41;
perl, v5.10.0 built for x86_64-linux-thread-multi
Perl/Tk 804.028.

Under Windows:

- Initially active Radiobutton: same as under Linux.

- There is no problem when moving the mouse cursor across the &#34;Widget&#34; button.

- Clicking on the &#34;Cursor&#34; or &#34;Widget&#34; button: same as under Linux.

- When closing the program window, the following error message comes up:

Perl Command Line Interpreter has encountered a problem and must be terminated ...

Software versions:
Windows XP with SP3.
perl, v5.10.1 built for MSWin32-x86-multi-thread
Perl/Tk 804.028.

While playing around with the program under Linux, I also saw an error like &#34;There is a memory leak ...&#34;. I think its of no use to try to reproduce this.

The program is an extract of program Pop2 in Mastering Perl/Tk, chapter 12, section Popup Menus. The screenshot there shows that the initially active Radiobutton was correctly shown somewhere in the past. Running the original program &#40;which has the same errors&#41; shows that in fact the &#34;Widget&#34; button is active. Only the display is wrong.

Kind regards

Klaus
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/827282/428618/pop2-Fehler.pl">Download pop2-Fehler.pl</a><br />
<span class="downloadcontenttype">text/x-perl 574b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-836464" href="/Public/Bug/Display.html?id=61086#txn-836464">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;26&nbsp;16:23:04&nbsp;2010</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/836464/433304/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/433304">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-09-05 12:59:30, KWittrock@web.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The attached program shows various problems with Radiobuttons.
&gt; 
&gt; Under Linux:
&gt; 
&gt; - The program initializes the Radiobutton labelled &#34;Widget&#34; as the
&gt;    active Radiobutton. However, the &#34;Display&#34; button is displayed as
&gt;    active.
&gt; 
&gt; - When the mouse cursor is moved to the &#34;Widget&#34; button &#40;no click&#41;, it
&gt;    is marked as active. The &#34;Display&#34; button remains displayed as
&gt;    active. At the same time the following error message  comes up:
&gt; 
&gt; Use of uninitialized value in subroutine entry at
&gt;    /usr/lib/perl5/vendor_perl/5.10.0/x86_64-linux-thread-
&gt;    multi/Tk/Button.pm line 56.
&gt; 
&gt; - When the mouse cursor is moved away from the &#34;Widget&#34; button, the
&gt;    same error comes up, with the line no. changed to 87.
&gt; 
&gt; - When clicking on the &#34;Cursor&#34; or &#34;Widget&#34; button, the following
&gt;    error message comes up:
&gt; 
&gt; Tk::Error: Cannot copy to HASH in entersub at
&gt;    /usr/lib/perl5/vendor_perl/5.10.0/x86_64-linux-thread-multi/Tk.pm
&gt;    line 250.
&gt;    &lt;Button-1&gt;
&gt;    &#40;command bound to event&#41;
&gt; 
&gt; - When closing the program window,the following error message comes
&gt;    up:
&gt; Speicherzugriffsfehler &#40;in English: memory access error&#41;.
&gt; 
&gt; Software versions:
&gt; Linux linux-hqz8 2.6.27.37-0.1-default #1 SMP 2009-10-15 14:56:58
&gt;    +0200 x86_64 x86_64 x86_64 GNU/Linux
&gt; &#40;in other words: OpenSuse 11.1&#41;
&gt; perl, v5.10.0 built for x86_64-linux-thread-multi
&gt; Perl/Tk 804.028.
&gt; 
&gt; Under Windows:
&gt; 
&gt; - Initially active Radiobutton: same as under Linux.
&gt; 
&gt; - There is no problem when moving the mouse cursor across the &#34;Widget&#34;
&gt;    button.
&gt; 
&gt; - Clicking on the &#34;Cursor&#34; or &#34;Widget&#34; button: same as under Linux.
&gt; 
&gt; - When closing the program window, the following error message comes
&gt;    up:
&gt; 
&gt; Perl Command Line Interpreter has encountered a problem and must be
&gt;    terminated ...
&gt; 
&gt; Software versions:
&gt; Windows XP with SP3.
&gt; perl, v5.10.1 built for MSWin32-x86-multi-thread
&gt; Perl/Tk 804.028.
&gt; 
&gt; While playing around with the program under Linux, I also saw an error
&gt;    like &#34;There is a memory leak ...&#34;. I think its of no use to try to
&gt;    reproduce this.
&gt; 
&gt; The program is an extract of program Pop2 in Mastering Perl/Tk,
&gt;    chapter 12, section Popup Menus. The screenshot there shows that
&gt;    the initially active Radiobutton was correctly shown somewhere in
&gt;    the past. Running the original program &#40;which has the same errors&#41;
&gt;    shows that in fact the &#34;Widget&#34; button is active. Only the display
&gt;    is wrong.
&gt; 
&gt; Kind regards
&gt; 
&gt; Klaus
&gt; 
</div>
It seems that using complex values for the Radiobutton -value option 
does not work anymore &#40;complex means: array refs, hash refs, probably 
all kind of refs&#41;. I have still a working Tk 800.024 on my machine, and 
in fact, with this old Tk the script seems to work. It does not work 
anymore with Tk 804.027.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-836467" href="/Public/Bug/Display.html?id=61086#txn-836467">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;26&nbsp;16:23:05&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-837136" href="/Public/Bug/Display.html?id=61086#txn-837136">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;28&nbsp;08:18:15&nbsp;2010</span>
    <span class="description">KWittrock [...] web.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #61086] Problems with Radiobutton widgets</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Sep 2010 14:16:58 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;K. Wittrock&#34; &lt;KWittrock [...] web.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/837136/433682/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/433682">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

Am 26.09.2010 22:23, schrieb Slaven_Rezic via RT:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=61086">https://rt.cpan.org/Ticket/Display.html?id=61086</a></span>&gt;
&gt;
&gt; On 2010-09-05 12:59:30, KWittrock@web.de wrote:
<div class="message-stanza open">&gt;&gt; The attached program shows various problems with Radiobuttons.
&gt;&gt;
&gt;&gt; [............]
&gt;&gt;
&gt;&gt; The program is an extract of program Pop2 in Mastering Perl/Tk,
&gt;&gt;     chapter 12, section Popup Menus. The screenshot there shows that
&gt;&gt;     the initially active Radiobutton was correctly shown somewhere in
&gt;&gt;     the past. Running the original program &#40;which has the same errors&#41;
&gt;&gt;     shows that in fact the &#34;Widget&#34; button is active. Only the display
&gt;&gt;     is wrong.
&gt;&gt;
&gt;&gt; Kind regards
&gt;&gt;
&gt;&gt; Klaus
&gt;&gt;
</div>&gt;
&gt; It seems that using complex values for the Radiobutton -value option
&gt; does not work anymore &#40;complex means: array refs, hash refs, probably
&gt; all kind of refs&#41;. I have still a working Tk 800.024 on my machine, and
&gt; in fact, with this old Tk the script seems to work. It does not work
&gt; anymore with Tk 804.027.
</div>
Slaven, you are right, Radiobuttons have a problem when references are used for the -value option. The attached program shows that an extra reference level is introduced in this case. It would be interesting to know why this change has been done. Maybe you can find a note on this in the history of the source? The only difference between references and other scalars that I know about is the fact, that hash keys that are references cannot be dereferenced any more.

A quick and dirty but easy solution to this problem might be to simply document it. Unfortunately I am starting for holidays next weekend. So I cannot modify the pop2 program before end of October. This program has the further complication that only some of the Radiobuttons have references for the -value option.

Klaus
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-853413" href="/Public/Bug/Display.html?id=61086#txn-853413">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;09&nbsp;12:34:32&nbsp;2010</span>
    <span class="description">KWittrock [...] web.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #61086] Problems with Radiobutton widgets</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 09 Nov 2010 18:28:35 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;K. Wittrock&#34; &lt;KWittrock [...] web.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/853413/441751/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/441751">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 767b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Now I noticed that I forgot to include the demo script in my previous email. I apologize for this. I send the missing script together with this email. In this script I simplified the problem somewhat by using a ref. to a string instead of a ref. to a widget. The default value of $text_curr_ref &#40;set by direct assignment&#41; behaves ok, while the value of $text_curr_ref set by a Radiobutton has an extra ref. level.

I have found 2 workarounds for the pop2 program in Mastering Perl/Tk:

1. Replace the 3 Radiobuttons by pushbuttons, plus add a means to indicate which option is currently active &#40;e. g. button colors or a Label widget&#41;.

2. Replace the 3 Radiobuttons by an Optionmenu.

I tested the workarounds under Windows XP, ActivePerl v5.10.1, Tk 804.028.

Klaus
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/853413/441752/tstradio.pl">Download tstradio.pl</a><br />
<span class="downloadcontenttype">text/x-perl 1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.369721</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
