<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #58445 for Module-Build: overzealous usage of configure_requires considered harmful</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #58445 for Module-Build: overzealous usage of configure_requires considered harmful</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Module-Build/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Module-Build/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Module-Build/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Module-Build/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Build">Module-Build CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">58445</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Module-Build/Active/">Module-Build</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-21558-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-21559-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<ul>
<li>
0.3603</li>
<li>
0.3607</li>
<li>
0.36_11</li>
</ul>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;06:42:32&nbsp;2010</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> overzealous usage of configure_requires considered harmful</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">TINITA has uploaded Parse-BBCode-0.10 these days. After uploading the
META.yml contains the lines:

configure_requires:
  Module::Build: 0.36

When asking her if this is intentional she answers she doesn&#39;t know
about this. I have reproduced the META.yml with &#34;./Build dist&#34; on my own
machine and I can confirm that there is no feedback provided that the
META.yml will contain this configure_requires condition.

There is no hint about why the condition must be met and no obvious way
to prevent the production of the configure_requires line.

Now comes the problem: people who prefer to build OS specific packages
to install software are easily locked out by such conditions.
Module::Build is part of the perl package on all known Debian variants.
So to build a debian package for Parse::BBCode now would require to
build a new custom perl package with Module::Build 0.36 before the
Parse::BBCode package can be built.

Please be more tolerant against people who want to use their current
perl and are not able to customize and build a new perl package every
few weeks. Minimum versions are OK for some packages but especially
toolchain packages must have a wider horizon and should not declare
incompatibility every few months.

I&#39;ve tried MB 0.3603, 0.3607 and 0.36_11: all behave the same.

For a reference: I&#39;ve found ticket 28563 which demanded the
configure_requires act.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;07:17:42&nbsp;2010</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires  considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Jun 2010 07:17:11 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jun 16, 2010 at 6:42 AM, Andreas Koenig via RT
&lt;bug-Module-Build@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When asking her if this is intentional she answers she doesn&#39;t know
&gt; about this. I have reproduced the META.yml with &#34;./Build dist&#34; on my own
&gt; machine and I can confirm that there is no feedback provided that the
&gt; META.yml will contain this configure_requires condition.
</div>
This is an intentional design decision.  From Module::Build::API:

auto_configure_requires

    [version 0.34]

    This parameter determines whether Module::Build will add itself
automatically to configure_requires &#40;and build_requires&#41; if
Module::Build is not already there. The required version will be the
last &#39;major&#39; release, as defined by the decimal version truncated to
two decimal places &#40;e.g. 0.34, instead of 0.3402&#41;. The default value
is true.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;07:17:43&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;08:33:50&nbsp;2010</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires  considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Jun 2010 08:33:22 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jun 16, 2010 at 7:17 AM, David Golden &lt;dagolden@cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed, Jun 16, 2010 at 6:42 AM, Andreas Koenig via RT
&gt; &lt;bug-Module-Build@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt; When asking her if this is intentional she answers she doesn&#39;t know
&gt;&gt; about this. I have reproduced the META.yml with &#34;./Build dist&#34; on my own
&gt;&gt; machine and I can confirm that there is no feedback provided that the
&gt;&gt; META.yml will contain this configure_requires condition.
</div>&gt;
&gt; This is an intentional design decision.  From Module::Build::API:
&gt;
&gt; auto_configure_requires
&gt;
&gt;    [version 0.34]
&gt;
&gt;    This parameter determines whether Module::Build will add itself
&gt; automatically to configure_requires &#40;and build_requires&#41; if
&gt; Module::Build is not already there. The required version will be the
&gt; last &#39;major&#39; release, as defined by the decimal version truncated to
&gt; two decimal places &#40;e.g. 0.34, instead of 0.3402&#41;. The default value
&gt; is true.
</div>
To clarify -- authors who use Module::Build *should* declare
Module::Build in configure_requires with a minimum version sufficient
to execute the Build.PL.  If they do not, the auto_configure_requires
is a safety net.

I will patch Module::Build to warn authors about this and note that
configure_requires is being set automatically.

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;08:46:48&nbsp;2010</span>
    <span class="description">dagolden [...] cpan.org -  Severity Critical changed to Normal</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;10:49:31&nbsp;2010</span>
    <span class="description">TINITA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Just a comment on OS packages:
Nowadays the files from a module distribution end up in different 
locations than the one from the core.
E.g.
/usr/share/perl/5.10.0/Module/Build.pm &#40;core lenny&#41;
vs.
/usr/share/perl5/Module/Build.pm &#40;own debian package&#41;

There are some exceptions like in Module::Build: it provides /usr/bin/
config_data, which is also in core, so this will create a conflict, and 
when building the package you have to do some dpkg foo to avoid this 
conflict. Works both in dh-make-perl and cpan2dist.

So if one can be bothered to do this manual workaround when building 
then this problem goes away.


But I also think there should be a better default - requirements for 
config_requires should be as low as possible.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;11:14:49&nbsp;2010</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires  considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Jun 2010 11:14:21 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jun 16, 2010 at 10:49 AM, Tina Muller via RT
&lt;bug-Module-Build@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I also think there should be a better default - requirements for
&gt; config_requires should be as low as possible.
</div>
Historically, users were responsible for ensuring they could run
configuration files like Build.PL.  Authors complained that this was
too burdensome on end users and led to frequent complaints to the
authors about requiring an up-to-date toolchain module.  Thus, authors
clamored for an automated solution. After years of discussion and
coding and testing, configure_requires was introduced to allow CPAN
clients to detect and install configuration dependencies.  Many
authors still ignore this.  Some complain that the toolchain should
deal with it.

To make life simpler for the majority of authors and users,
Module::Build automatically adds a configure_requires if authors
cannot be bothered to do so.  If the consequence of this is that an
authors&#39; modules can&#39;t easily be packaged for a particular
distribution, a very easy solution is for the author to explicitly
declare the real, minimum requirements in their modules.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;11:22:26&nbsp;2010</span>
    <span class="description">TINITA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m maybe getting off topic now, but adding a debian/preinst and a 
debian/postrm file would be really helpful for automatically creating 
debian packages.

So the preinst file should contain:
#!/bin/sh
dpkg-divert --package libmodule-build-perl --add --rename --divert /usr/
bin/config_data.perl /usr/bin/config_data

and the postrm:
dpkg-divert --package libmodule-build-perl --remove --rename --divert /
usr/bin/config_data.perl /usr/bin/config_data

This would save many many developers creating debian packages lots of 
time =&#41;
At the moment I believe many just give up because the workaround is not 
easy to find.

Would be glad if you could think about it.

tina
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;11:28:06&nbsp;2010</span>
    <span class="description">TINITA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If the consequence of this is that an
&gt; authors&#39; modules can&#39;t easily be packaged for a particular
&gt; distribution, a very easy solution is for the author to explicitly
&gt; declare the real, minimum requirements in their modules.
</div>

Well the problem is the default, and that many authors are not aware of 
the consequences because they never build debian packages theirselves.

A warning at least would be nice.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;11:48:54&nbsp;2010</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yeah, it would be nice if we could auto-detect which features of M-B an
author is using, and then figure out when those features were introduced
&#40;or when they had their latest major bugs fixed&#41;, but that&#39;s too hard.

Another idea we&#39;ve floated around for a long time is to have a way for
authors to auto-embed the version of M-B necessary for building right in
the distribution.  There are some problems with this too, but ultimately
I think they&#39;re solvable.

 -Keb

On Wed Jun 16 10:49:31 2010, TINITA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I also think there should be a better default - requirements for 
&gt; config_requires should be as low as possible.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;11:49:18&nbsp;2010</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jun 16 11:48:54 2010, KWILLIAMS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt;  -Keb
</div>
Um, make that Ken.

 -Ken
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;12:57:11&nbsp;2010</span>
    <span class="description">enobacon [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Jun 2010 09:56:56 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Eric Wilhelm &lt;enobacon [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># from Andreas Koenig via RT
# on Wednesday 16 June 2010 03:42:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Now comes the problem: people who prefer to build OS specific packages
&gt;to install software are easily locked out by such conditions.
&gt;Module::Build is part of the perl package on all known Debian
&gt; variants. So to build a debian package for Parse::BBCode now would
&gt; require to build a new custom perl package with Module::Build 0.36
&gt; before the Parse::BBCode package can be built.
</div>
Why do they need to build a new perl package?  The packager needs a 
Module::Build which satisfies configure_requires.  It doesn&#39;t need to 
be in the core path or even in a debian package.  If this is not the 
case, something in their packaging tools is not working.

--Eric
-- 
Introducing change is like pulling off a bandage: the pain is a memory
almost as soon as you feel it.
--Paul Graham
---------------------------------------------------
    <span class="clickylink"><a target="new" rel="nofollow" href="http://scratchcomputing.com">http://scratchcomputing.com</a></span>
---------------------------------------------------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;17&nbsp;01:07:42&nbsp;2010</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The problem is the default. If I understand correctly, the default will
by 0.42 on the day that 0.42 is released. Where is the elasticity that
perl always was famous for?

And sorry, I&#39;m not as fluent in making debs as I&#39;d like, so no debate
about broken packaging tools, please.

I&#39;m complaining about missing elasticity. I plead for a hardcoded value
of say 0.26 or some such. An explicit value that should be justified by
a human brain, not a substring of the current value of $VERSION.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;21:44:14&nbsp;2010</span>
    <span class="description">dagolden [...] cpan.org -  Severity Normal changed to Wishlist</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;28&nbsp;07:06:35&nbsp;2012</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jun 17 01:07:42 2010, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The problem is the default. If I understand correctly, the default will
&gt; by 0.42 on the day that 0.42 is released. Where is the elasticity that
&gt; perl always was famous for?
&gt; 
&gt; And sorry, I&#39;m not as fluent in making debs as I&#39;d like, so no debate
&gt; about broken packaging tools, please.
&gt; 
&gt; I&#39;m complaining about missing elasticity. I plead for a hardcoded value
&gt; of say 0.26 or some such. An explicit value that should be justified by
&gt; a human brain, not a substring of the current value of $VERSION.
</div>
I think I agree. I can&#39;t think of any reason why we would need to
require anything more than 0.36 &#40;Added support for PERL_MB_OPT,
necessary for local::lib and a few other features&#41; or maybe 0.3601
&#40;upgrades more cleanly with build_requires&#41;.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;02:18:00&nbsp;2012</span>
    <span class="description">enobacon [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 10 Sep 2012 23:15:57 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Eric Wilhelm &lt;enobacon [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># from Leon Timmermans via RT on Saturday 28 July 2012:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;On Thu Jun 17 01:07:42 2010, ANDK wrote:
<div class="message-stanza open">&gt;&gt; I&#39;m complaining about missing elasticity. I plead for a hardcoded
&gt;&gt; value of say 0.26 or some such. An explicit value that should be
&gt;&gt; justified by a human brain, not a substring of the current value of
&gt;&gt; $VERSION.
</div>&gt;
&gt;I think I agree. I can&#39;t think of any reason why we would need to
&gt;require anything more than 0.36 &#40;Added support for PERL_MB_OPT,
&gt;necessary for local::lib and a few other features&#41; or maybe 0.3601
&gt;&#40;upgrades more cleanly with build_requires&#41;.
</div>
I believe the original rationale behind &#34;just require the current 
version&#34; was to err on the side of always being sure that authors were 
shipping something which would successfully install.  If a version of 
M::B gets out with an incorrect default, there is a chance that it 
remains unfixed while being used to roll dists, thus requiring those 
authors to upgrade and reship just to fix M::B&#39;s error &#40;and finding out 
the hard way that their dist is not installable because of it.&#41;

If an author wants to back-off the requirement to something older, they 
have that control and responsibility.  If M::B starts hard-coding 
something, it would have to be verified at every release or it will go 
stale.  It seems like it might be better to have a per-install 
configurable value for the author to set &#40;but then, that could go stale 
too.&#41;

--Eric
-- 
---------------------------------------------------
    <span class="clickylink"><a target="new" rel="nofollow" href="http://scratchcomputing.com">http://scratchcomputing.com</a></span>
---------------------------------------------------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;05:44:30&nbsp;2012</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 11 Sep 2012 11:43:56 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andreas Koenig &lt;andreas.koenig.7os6VVqR [...] franz.ak.mind.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Eric Wilhelm via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I believe the original rationale behind &#34;just require the current 
&gt; version&#34; was to err on the side of always being sure that authors were 
&gt; shipping something which would successfully install.
</div>
Yes, but it is still erring. From a software that claims to provide a
MakeMaker replacement, erring on such an important scale is a major
obstacle for getting accepted. MakeMaker has, as far as I can remember,
always had a good measure for the needed resilience. Deliberately
refusing to provide broad compatibility is putting a burden on end
users.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If a version of 
&gt; M::B gets out with an incorrect default, there is a chance that it 
&gt; remains unfixed while being used to roll dists, thus requiring those 
&gt; authors to upgrade and reship just to fix M::B&#39;s error &#40;and finding out 
&gt; the hard way that their dist is not installable because of it.&#41;
</div>
Unless we are in an echo chamber, we should estimate that there are
significant more end users than there are authors. If there is really a
trade-off between burdon for end users and burden for authors, then we
should most often shift this burden on the author. The reason should be so
obvious that I don&#39;t believe I have to explain it here.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If an author wants to back-off the requirement to something older, they 
&gt; have that control and responsibility.  If M::B starts hard-coding 
&gt; something, it would have to be verified at every release or it will go 
&gt; stale.
</div>
Does Module::Build not have a release managers guide? Maybe it should.

For the record, the story went like this: author A of package P used
Module::Build, Module::Build put the insane dependency requirement on
the end user. Author A did not get informed. User U got hurt by
unnecessary requirements.

What happens in such situations: as end user I have to complain to
author A because I do not know where the bug sits. And potentially I
have to complain to N authors about the nonsense dependency they have.
That&#39;s an affront against the end user community.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It seems like it might be better to have a per-install 
&gt; configurable value for the author to set &#40;but then, that could go stale 
&gt; too.&#41;
</div>
Author A usually has no solid knowledge to tell which version of
Module::Build is required. If Module::Build does not get it right, so
how should she?

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;10:55:25&nbsp;2012</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jun 17 01:07:42 2010, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The problem is the default. If I understand correctly, the default will
&gt; by 0.42 on the day that 0.42 is released. 
</div>
That is not correct.  The default depends on the module release manager&#39;s 
environment.  If they don&#39;t upgrade from 0.26 to 0.42, and keep testing with 0.26, 
the default stays at 0.26.  The day they upgrade to 0.42 and test their 
distribution with it, the default changes to 0.42.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m complaining about missing elasticity. I plead for a hardcoded value
&gt; of say 0.26 or some such. An explicit value that should be justified by
&gt; a human brain, not a substring of the current value of $VERSION.
</div>
Then as soon as an author uses some feature added after 0.26, it breaks &#40;blows up 
quite painfully&#41; for the end user in some very non-obvious way.  To avoid that, 
the author has to be aware of when every single feature they&#39;re using was added, 
or a relevant bug fixed, which is basically impossible.  The only fallback would 
be to test with all released versions from 0.26 to the author&#39;s installed version 
- which should be done automatically, since this is all just to have a default 
when the author doesn&#39;t set a minimum value.

That is a very bad trade-off.

A much better strategy for an author is to keep careful control over what version 
of the build/release tools they are using, and require that as a minimum version.  
As always, if the end user wants to ignore the warning and just force the install 
anyway, they&#39;re able to do so, because they&#39;ve been given the information cleanly 
about what the author believes is the required prerequisite.

If the situation is so terrible that the packaging tools need to croak instead of 
having a reasonable default, we can debate that.  But defaulting to an untested 
prerequisite value is IMO a non-starter.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;11:05:42&nbsp;2012</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 11 05:44:30 2012, andreas.koenig.7os6VVqR@franz.ak.mind.de 
wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; From a software that claims to provide a
&gt; MakeMaker replacement, erring on such an important scale is a major
&gt; obstacle for getting accepted. 
</div>
I&#39;m sorry, I am completely tired of that line.  M::B is a MakeMaker 
*alternative*.  It does some things differently.  Intentionally.  
Better.  Or worse, if your opinion is different.  But every person with 
an ax to grind comes and says &#34;M::B will never replace MM until you 
change this.&#34;  Guess what - M::B will never replace MM *EVER*.  Neither 
will anything else, until perl itself, and even Perl itself, are 
replaced.  Which is also basically never.  People will continue to use 
MM whenever they want to, and the supply of such people will never run 
out.  So in the meantime, we can focus on building a reasonable build &#38; 
install system the way we think is useful to the community.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; MakeMaker has, as far as I can remember,
&gt; always had a good measure for the needed resilience. 
</div>
As far as I&#39;m aware, MakeMaker has never had anything even close to 
approaching any semblance of prerequisite detection.  This is [part of] 
the reason no author can ever upgrade their MakeMaker and use its new 
features without either a&#41; hand-setting the prerequisite, or b&#41; breaking 
things badly for any end user who didn&#39;t guess through mind-reading that 
they needed to upgrade too.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;11:55:33&nbsp;2012</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 11 Sep 2012 11:54:53 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jun 17 01:07:42 2010, ANDK wrote:
<div class="message-stanza open">&gt;&gt; The problem is the default. If I understand correctly, the default will
&gt;&gt; by 0.42 on the day that 0.42 is released.
</div>&gt;
&gt; That is not correct.  The default depends on the module release manager&#39;s
&gt; environment.  If they don&#39;t upgrade from 0.26 to 0.42, and keep testing with 0.26,
&gt; the default stays at 0.26.  The day they upgrade to 0.42 and test their
&gt; distribution with it, the default changes to 0.42.
</div>
Since I implemented this &#34;feature&#34; when I was the active M::B
maintainer, I figure I should chime in.

Going way back, the big knock on M::B was that users had to upgrade
M::B all the time to get things to work.  Then configure_requires was
invented and supported in the core -- meaning that any distribution
that put a sufficient version of M::B in configure_requires would just
work on a new-enough perl/toolchain.

But distribution authors aren&#39;t very good at actually doing things
that make things easier for end-users and the complaints continued.

I decided that the right way to deal with this is to have M::B default
to setting a very recent M::B as configure_requires by default.  I
didn&#39;t want to do the work to analyze the historical feature set by
version or to analyze the Build process to detect features used
because that&#39;s hard and annoying and probably creates more bugs than
it solves.

Thoughtful authors who take the time to pay attention can turn off the
automatic configure_requires or can provide their own
configure_requires instead.

I strongly encourage authors to declare their dependencies --
including configure_requires -- explicitly.

The default is designed to do something simple and stupid and
sufficient for most users in the face of lazy authors who don&#39;t
declare their own requirements.

David

-- 
David Golden &lt;dagolden@cpan.org&gt;
Take back your inbox! → <span class="clickylink"><a target="new" rel="nofollow" href="http://www.bunchmail.com/">http://www.bunchmail.com/</a></span>
Twitter/IRC: @xdg
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;12:02:56&nbsp;2012</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 11 11:55:33 2012, DAGOLDEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I decided that the right way to deal with this is to have M::B default
&gt; to setting a very recent M::B as configure_requires by default.
</div>
Wait a sec - what does &#34;very recent&#34; mean here?  I thought it meant &#34;the 
version of M::B being used right now on the author&#39;s machine&#34;.  Is it 
actually the most-recently-released version on CPAN?

If so, the criticisms I had of defaulting to an old CPAN version apply 
[nearly] equally to the new CPAN version, namely that it&#39;s specifying a 
prereq that hasn&#39;t actually been tested before release.

Should I eat my previous words?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;12:05:19&nbsp;2012</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 11 Sep 2012 12:04:32 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Sep 11, 2012 at 12:02 PM, Ken Williams via RT
&lt;bug-Module-Build@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Sep 11 11:55:33 2012, DAGOLDEN wrote:
<div class="message-stanza open">&gt;&gt; I decided that the right way to deal with this is to have M::B default
&gt;&gt; to setting a very recent M::B as configure_requires by default.
</div>&gt;
&gt; Wait a sec - what does &#34;very recent&#34; mean here?  I thought it meant &#34;the
&gt; version of M::B being used right now on the author&#39;s machine&#34;.  Is it
&gt; actually the most-recently-released version on CPAN?
</div>
IIRC, it&#39;s current version on author&#39;s machine, truncated to &#34;X.YY&#34;.

David

-- 
David Golden &lt;dagolden@cpan.org&gt;
Take back your inbox! → <span class="clickylink"><a target="new" rel="nofollow" href="http://www.bunchmail.com/">http://www.bunchmail.com/</a></span>
Twitter/IRC: @xdg
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;11&nbsp;12:45:20&nbsp;2012</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 11 Sep 2012 11:45:11 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ken Williams &lt;kwilliams [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Sep 11, 2012 at 11:05 AM, David Golden via RT &lt;
bug-Module-Build@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; IIRC, it&#39;s current version on author&#39;s machine, truncated to &#34;X.YY&#34;.
&gt;
</div>
Okay, good.  That&#39;s what I thought. =&#41;

 -Ken
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;12&nbsp;02:38:53&nbsp;2012</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Sep 2012 08:38:33 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andreas Koenig &lt;andreas.koenig.7os6VVqR [...] franz.ak.mind.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;David Golden via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Since I implemented this &#34;feature&#34; when I was the active M::B
&gt; maintainer, I figure I should chime in.
</div>
Thanks. I didn&#39;t know how this decision came about, I thought it was
really intended as it is.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Going way back, the big knock on M::B was that users had to upgrade
&gt; M::B all the time to get things to work.  Then configure_requires was
&gt; invented and supported in the core -- meaning that any distribution
&gt; that put a sufficient version of M::B in configure_requires would just
&gt; work on a new-enough perl/toolchain.
&gt;
&gt; But distribution authors aren&#39;t very good at actually doing things
&gt; that make things easier for end-users and the complaints continued.
&gt;
&gt; I decided that the right way to deal with this is to have M::B default
&gt; to setting a very recent M::B as configure_requires by default.
</div>
You wanted a very recent but you coded the one that is installed on the
author&#39;s machine cut to a mantissa of two digits. So on the day somebody
bumps to 0.41 the next round of needless annoyance for end users and
system integrators comes down upon us automatically. Hope remains it
won&#39;t happen.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I didn&#39;t want to do the work to analyze the historical feature set by
&gt; version or to analyze the Build process to detect features used
&gt; because that&#39;s hard and annoying and probably creates more bugs than
&gt; it solves.
</div>
Fair enough, in times of huge overhauls and numerous bugfixes in every
version there is not much to gain by doing this sort of homework. But in
times of relative stability and less serious changes between versions
it&#39;s harmful to declare higher dependencies than the correct one.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thoughtful authors who take the time to pay attention can turn off the
&gt; automatic configure_requires or can provide their own
&gt; configure_requires instead.
&gt;
&gt; I strongly encourage authors to declare their dependencies --
&gt; including configure_requires -- explicitly.
</div>
Of course, but encouraging authors to do their homework is no excuse for
not doing it right in the first place.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The default is designed to do something simple and stupid and
&gt; sufficient for most users in the face of lazy authors who don&#39;t
&gt; declare their own requirements.
</div>
&#34;Something simple and stupid&#34; sounds like a good characterization,
excuse me for picking that up.

If one would code &#39;0.40&#39; there statically, nothing would change compared
to status quo. And bumping that only once you know that &#39;0.41&#39; has had
time to propagate and be widely deployed would solve my gripe. It would
be a tiny bit less simple and huge amount less stupid.

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;12&nbsp;04:01:46&nbsp;2012</span>
    <span class="description">enobacon [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Sep 2012 00:59:36 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Eric Wilhelm &lt;enobacon [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># from &#40;Andreas J. Koenig&#41; via RT on Tuesday 11 September 2012:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; The default is designed to do something simple and stupid and
&gt;&gt; sufficient for most users in the face of lazy authors who don&#39;t
&gt;&gt; declare their own requirements.
</div>&gt;
&gt;&#34;Something simple and stupid&#34; sounds like a good characterization,
&gt;excuse me for picking that up.
&gt;
&gt;If one would code &#39;0.40&#39; there statically, nothing would change
&gt;compared to status quo. And bumping that only once you know that
&gt;&#39;0.41&#39; has had time to propagate and be widely deployed would solve
&gt;my gripe. It would be a tiny bit less simple and huge amount less
&gt;stupid.
</div>
The &#34;simple and stupid&#34; thing is going to be more dependable than this 
clever bug.  If *anything* changed from 0.40 to 0.41, then you have a 
chance of users getting caught without a working installer because of 
this optimization -- regardless of how &#34;widely-deployed&#34; it is.

Repeat that risk on every new release of M::B.

Is the time saved in upgrading M::B really that large?  How often is 
there a new version which doesn&#39;t fix some bug or add a feature on the 
installation side?  I think the maintenance load and the risk of bugs is 
not worth the savings &#40;whatever that savings is... if upgrading takes 
too long, let&#39;s fix that instead.&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; If a version of 
&gt;&gt; M::B gets out with an incorrect default, there is a chance that it 
&gt;&gt; remains unfixed while being used to roll dists, thus requiring
&gt;&gt; those  authors to upgrade and reship just to fix M::B&#39;s error &#40;and
&gt;&gt; finding out the hard way that their dist is not installable because
&gt;&gt; of it.&#41;
</div>&gt;
&gt;...we should estimate that there are
&gt;significant more end users than there are authors. If there is really
&gt;a trade-off between burdon for end users and burden for authors, then
&gt;we should most often shift this burden on the author.
</div>
The end users still lose here waiting days for the author to fix the bug 
introduced by M::B attempting to save a few bits and tics.

I know it&#39;s saying &#34;upgrade, upgrade&#34;, but really: how viable is it to 
*not* upgrade M::B if authors &#40;whose recently released modules are being 
installed&#41; are actively upgrading it and possibly using new features?  
You&#39;re not getting configure_requires for a M::B which came out *after* 
the module being installed, right?  With all of this change, how long 
will it take for a statically-coded value to cause a bug?

--Eric
-- 
---------------------------------------------------
    <span class="clickylink"><a target="new" rel="nofollow" href="http://scratchcomputing.com">http://scratchcomputing.com</a></span>
---------------------------------------------------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;12&nbsp;07:09:14&nbsp;2012</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Sep 2012 07:08:33 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Golden &lt;dagolden [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Sep 12, 2012 at 2:38 AM, &#40;Andreas J. Koenig&#41; via RT
&lt;bug-Module-Build@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Something simple and stupid&#34; sounds like a good characterization,
&gt; excuse me for picking that up.
</div>
Sorry. That might be an Americanism -- the KISS principle:
<span class="clickylink"><a target="new" rel="nofollow" href="http://en.wikipedia.org/wiki/KISS_principle">http://en.wikipedia.org/wiki/KISS_principle</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If one would code &#39;0.40&#39; there statically, nothing would change compared
&gt; to status quo. And bumping that only once you know that &#39;0.41&#39; has had
&gt; time to propagate and be widely deployed would solve my gripe. It would
&gt; be a tiny bit less simple and huge amount less stupid.
</div>
My view is that if M::B hard-coded a value, then it is accepting
responsibility for getting it right.  When I was maintainer, I didn&#39;t
want that responsibility.  Therefore, M::B follows a &#34;fail safe&#34;
principle, which is that if the author doesn&#39;t specify something &#40;or
turn off auto config requires&#41;, then the prereq is the version they
are using to ship because that is the only one known to work.
Anything else is a guess, which is eventually going to be wrong.

David

-- 
David Golden &lt;dagolden@cpan.org&gt;
Take back your inbox! → <span class="clickylink"><a target="new" rel="nofollow" href="http://www.bunchmail.com/">http://www.bunchmail.com/</a></span>
Twitter/IRC: @xdg
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;12&nbsp;08:27:37&nbsp;2012</span>
    <span class="description">kwilliams [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Sep 2012 07:27:28 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ken Williams &lt;kwilliams [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Sep 12, 2012 at 1:38 AM, &#40;Andreas J. Koenig&#41; via RT &lt;
bug-Module-Build@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; If one would code &#39;0.40&#39; there statically, nothing would change compared
&gt; to status quo. And bumping that only once you know that &#39;0.41&#39; has had
&gt; time to propagate and be widely deployed would solve my gripe. It would
&gt; be a tiny bit less simple and huge amount less stupid.
&gt;
</div>
Suppose we did that, imagine the breakage scenario.  Suppose the author
installs 0.42 or 0.43, and we don&#39;t think they&#39;ve propagated very far, so
the hard-coded value is still 0.40.  Then if the author uses *any* features
that were added after 0.40, or exercises any code that was buggy in 0.40
but fixed later, then this just BLOWS UP or WORKS WRONG on the end user&#39;s
machine.

So the author, if he/she wants to be a responsible person and not risk
blowups, has to 1&#41; go check what the hard-coded value is, and 2&#41; figure out
what all these feature &#38; bug changes are relative to their installed
version, and 3&#41; not use them.  So there was no point in upgrading in the
first place.  So they should never upgrade.  So we can never add new
features.  So the project is essentially dead.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;13&nbsp;02:31:13&nbsp;2012</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Sep 2012 08:30:52 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andreas Koenig &lt;andreas.koenig.7os6VVqR [...] franz.ak.mind.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;David Golden via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My view is that if M::B hard-coded a value, then it is accepting
&gt; responsibility for getting it right.  When I was maintainer, I didn&#39;t
&gt; want that responsibility.
</div>
Fair enough, but you&#39;re just trading different kinds of
responsibilities. The responsibility to not introduce new bugs and the
responsibility to not decrease the resilience and the reliabilty of the
CPAN as a whole are just two of the responsibilities you cannot really
escape when you release something.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Therefore, M::B follows a &#34;fail safe&#34;
&gt; principle, which is that if the author doesn&#39;t specify something &#40;or
&gt; turn off auto config requires&#41;, then the prereq is the version they
&gt; are using to ship because that is the only one known to work.
</div>
I&#39;m not so sure that you know it to work. All you know is that this
&#40;current&#41; Module::Build was able to generate that &#40;current&#41; release of
distro X. You do not know whether it will work for installing on the end
user machine. You do not know, say, whether this release will eat files
on the end user machine. You do not know it for the previous version
either, but if you allow the previous version, there is a chance that
the enduser will find out. Or by virtue of statistical evidence there
will be a finding on cpantesters that tells you something about which
bug is at work.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Anything else is a guess, which is eventually going to be wrong.
</div>
Sure, where there is development there are bugs. The bug I&#39;m reporting
is just one of many, but it is a meta bug, and that is why I&#39;m so
serious about it.

&#34;Eric Wilhelm via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=58445">https://rt.cpan.org/Ticket/Display.html?id=58445</a></span> &gt;
&gt;
&gt; # from &#40;Andreas J. Koenig&#41; via RT on Tuesday 11 September 2012:
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; The default is designed to do something simple and stupid and
&gt;&gt;&gt; sufficient for most users in the face of lazy authors who don&#39;t
&gt;&gt;&gt; declare their own requirements.
</div>&gt;&gt;
&gt;&gt;&#34;Something simple and stupid&#34; sounds like a good characterization,
&gt;&gt;excuse me for picking that up.
&gt;&gt;
&gt;&gt;If one would code &#39;0.40&#39; there statically, nothing would change
&gt;&gt;compared to status quo. And bumping that only once you know that
&gt;&gt;&#39;0.41&#39; has had time to propagate and be widely deployed would solve
&gt;&gt;my gripe. It would be a tiny bit less simple and huge amount less
&gt;&gt;stupid.
</div>&gt;
&gt; The &#34;simple and stupid&#34; thing is going to be more dependable than this 
&gt; clever bug.  If *anything* changed from 0.40 to 0.41, then you have a 
&gt; chance of users getting caught without a working installer because of 
&gt; this optimization -- regardless of how &#34;widely-deployed&#34; it is.
</div>
If *anything* changed, then there is a chance of users being caught with
a freshly introduced bug.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Repeat that risk on every new release of M::B.
&gt;
&gt; Is the time saved in upgrading M::B really that large?
</div>
It depends. Time that can be shifted is in general not hurting as much
as time that must be spent here and now. Multiply that time by the
number of sysadmins that will be affected.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; How often is 
&gt; there a new version which doesn&#39;t fix some bug or add a feature on the 
&gt; installation side?  I think the maintenance load and the risk of bugs is 
&gt; not worth the savings &#40;whatever that savings is... if upgrading takes 
&gt; too long, let&#39;s fix that instead.&#41;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; If a version of 
&gt;&gt;&gt; M::B gets out with an incorrect default, there is a chance that it 
&gt;&gt;&gt; remains unfixed while being used to roll dists, thus requiring
&gt;&gt;&gt; those  authors to upgrade and reship just to fix M::B&#39;s error &#40;and
&gt;&gt;&gt; finding out the hard way that their dist is not installable because
&gt;&gt;&gt; of it.&#41;
</div>&gt;&gt;
&gt;&gt;...we should estimate that there are
&gt;&gt;significant more end users than there are authors. If there is really
&gt;&gt;a trade-off between burdon for end users and burden for authors, then
&gt;&gt;we should most often shift this burden on the author.
</div>&gt;
&gt; The end users still lose here waiting days for the author to fix the bug 
&gt; introduced by M::B attempting to save a few bits and tics.
&gt;
&gt; I know it&#39;s saying &#34;upgrade, upgrade&#34;, but really: how viable is it to 
&gt; *not* upgrade M::B if authors &#40;whose recently released modules are being 
&gt; installed&#41; are actively upgrading it and possibly using new features?  
&gt; You&#39;re not getting configure_requires for a M::B which came out *after* 
&gt; the module being installed, right?  With all of this change, how long 
&gt; will it take for a statically-coded value to cause a bug?
</div>
How long it will take? Longer than in your preferred model.

The mathematical argument is easy. There are two versions of
Module::Build, v1 and v2. We all know that both have bugs. You may be
sure that the new version has less bugs than the old version. Fine. But
no doubt the two versions will have a different set of bugs.

Given p1 is the probability to be hit by a bug in v1 and p2 is the
probability to be hit by a bug in v2. The user who is locked into only
having access to v2, is a victim of a bug with probability p2.

Users who have a choice between v1 and v2, have a workaround. If they
are hit by a bug in v1, they can still try v2. They are victims of a bug
only with the probability p3. How big is p3?

If the set of bugs is completely independent of each other, the
probability is p1*p2 which is considerably less than p2. If there is a
common set of bugs it is still less than p2. And only if the bugs in v2
are a subset of the bugs in v1, then p3 equals p2. In all other cases it
is lower.

In other words, p3 is lower in the general case, and it is only in the
worst case equal to p2.

&#34;Ken Williams via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=58445">https://rt.cpan.org/Ticket/Display.html?id=58445</a></span> &gt;
&gt;
&gt; On Wed, Sep 12, 2012 at 1:38 AM, &#40;Andreas J. Koenig&#41; via RT &lt;
&gt; bug-Module-Build@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt;
&gt;&gt; If one would code &#39;0.40&#39; there statically, nothing would change compared
&gt;&gt; to status quo. And bumping that only once you know that &#39;0.41&#39; has had
&gt;&gt; time to propagate and be widely deployed would solve my gripe. It would
&gt;&gt; be a tiny bit less simple and huge amount less stupid.
&gt;&gt;
</div>&gt;
&gt; Suppose we did that, imagine the breakage scenario.  Suppose the author
&gt; installs 0.42 or 0.43, and we don&#39;t think they&#39;ve propagated very far, so
&gt; the hard-coded value is still 0.40. Then if the author uses *any* features
&gt; that were added after 0.40, or exercises any code that was buggy in 0.40
&gt; but fixed later, then this just BLOWS UP or WORKS WRONG on the end user&#39;s
&gt; machine.
&gt;
&gt; So the author, if he/she wants to be a responsible person and not risk
&gt; blowups, has to 1&#41; go check what the hard-coded value is, and 2&#41; figure out
&gt; what all these feature &#38; bug changes are relative to their installed
&gt; version, and 3&#41; not use them.  So there was no point in upgrading in the
&gt; first place.  So they should never upgrade.  So we can never add new
&gt; features.  So the project is essentially dead.
</div>
Setting up my wishful thinking hat, of course it would be wonderful if
Module::Build could determine which features this &#40;current&#41; author is
using and which features were fixed when exactly and determine the
optimal version that this current distro should put into
configure_requires. I don&#39;t expect that this will happen. That&#39;s why
David suggests KISS which I agree with in principle. But I doubt his
KISS is the right one. I for one prefer a choice for the end user.
Locking them into a single version or making the choice for them hard
needs deep justification in the very concrete case. If there is a huge
and serious bug being fixed, I would agree that it makes sense to set
configure_requires to the current version. But in the absence of
overwhelming evidence it does no good to prevent choice.

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;13&nbsp;04:15:50&nbsp;2012</span>
    <span class="description">enobacon [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Sep 2012 01:13:59 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Eric Wilhelm &lt;enobacon [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># from &#40;Andreas J. Koenig&#41; via RT on Wednesday 12 September 2012:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Setting up my wishful thinking hat, of course it would be wonderful if
&gt;Module::Build could determine which features this &#40;current&#41; author is
&gt;using and which features were fixed when exactly and determine the
&gt;optimal version that this current distro should put into
&gt;configure_requires. I don&#39;t expect that this will happen.
</div>
It could possibly be done iff every new feature in M::B was wrapped in 
&#40;and only enabled by&#41; an interface analogous to &#39;use feature ...&#39;.  That 
would be difficult to implement and maintain and authors might find it 
tedious to declare, in which case we&#39;re back to where we are now but out 
the effort and with more code to support.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;That&#39;s why
&gt;David suggests KISS which I agree with in principle. But I doubt his
&gt;KISS is the right one. I for one prefer a choice for the end user.
&gt;Locking them into a single version or making the choice for them hard
&gt;needs deep justification in the very concrete case.
</div>
The end user absolutely has a choice if they&#39;re really just trying to 
work-around a bug in the latest M::B&#39;s installation support &#40;which 
should not be very often unless something needs to be fixed in the 
testing/release process.&#41;  Further, I don&#39;t think it is very complicated 
or difficult for anyone who is prepared to make that choice to also be 
able to access the knobs.

What is the gain from running an older version?  If there are problems 
with a newer version, what are the chances that no other module being 
installed requires the latest?  It all seems like a lot of work and risk 
to enable users to avoid updating software while they&#39;re in the process 
of updating software.

--Eric
-- 
---------------------------------------------------
    <span class="clickylink"><a target="new" rel="nofollow" href="http://scratchcomputing.com">http://scratchcomputing.com</a></span>
---------------------------------------------------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;15&nbsp;01:50:37&nbsp;2012</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #58445] overzealous usage of configure_requires considered harmful</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 15 Sep 2012 07:50:17 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Build [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andreas Koenig &lt;andreas.koenig.7os6VVqR [...] franz.ak.mind.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Eric Wilhelm via RT&#34; &lt;bug-Module-Build@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It could possibly be done iff every new feature in M::B was wrapped in 
&gt; &#40;and only enabled by&#41; an interface analogous to &#39;use feature ...&#39;.  That 
&gt; would be difficult to implement and maintain and authors might find it 
&gt; tedious to declare, in which case we&#39;re back to where we are now but out 
&gt; the effort and with more code to support.
</div>
We are in violent agreement on this one. This solution is far too
complicated and most probably won&#39;t happen and is not the alternative
I&#39;m suggesting. Let&#39;s concentrate on KISS solutions.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;That&#39;s why
&gt;&gt;David suggests KISS which I agree with in principle. But I doubt his
&gt;&gt;KISS is the right one. I for one prefer a choice for the end user.
&gt;&gt;Locking them into a single version or making the choice for them hard
&gt;&gt;needs deep justification in the very concrete case.
</div>&gt;
&gt; The end user absolutely has a choice if they&#39;re really just trying to 
&gt; work-around a bug in the latest M::B&#39;s installation support &#40;which 
&gt; should not be very often unless something needs to be fixed in the 
&gt; testing/release process.&#41;
</div>
The end user has always &#34;a choice&#34;. I&#39;m reporting what has been
encountered as an annoyance. See the subject line.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Further, I don&#39;t think it is very complicated 
&gt; or difficult for anyone who is prepared to make that choice to also be 
&gt; able to access the knobs.
</div>
You seem to believe that end users who report an annoyance cannot be
right because you have not yet encountered it. While it is fine for you,
I find such an answer rather unconstructive. There are a few lines of
code in Module::Build that do two things: &#40;1&#41; they considerably increase
the probability that end users will unrightfully be told that they have
to upgrade and &#40;2&#41; they increase the probability that the end user gets
a not working environment. Case &#40;2&#41; has not yet happened but is
mathematically provable, and &#40;1&#41; is the point I have encountered in
numeroues cases and reported in this ticket.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What is the gain from running an older version?  If there are problems 
&gt; with a newer version, what are the chances that no other module being 
&gt; installed requires the latest?  It all seems like a lot of work and risk 
&gt; to enable users to avoid updating software while they&#39;re in the process 
&gt; of updating software.
</div>
On the contrary. In the process of upgrading software we always are at
risk from the very fact that we&#39;re doing it. So we are much better off
when we get resilience in all dimensions of software development we have
to deal with.

Please remember, the real reason why the motto of perl is TIMTOWTDY is
&#34;because some of them do not work&#34;. Thank you very much.

-- 
andreas
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
