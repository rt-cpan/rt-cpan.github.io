<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #91129 for Perl-Metrics-Simple: Seems to be a file size limit of 2^20 bytes &#40;1048576&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #91129 for Perl-Metrics-Simple: Seems to be a file size limit of 2^20 bytes &#40;1048576&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Metrics-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Metrics-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Metrics-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Metrics-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Metrics-Simple">Perl-Metrics-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">91129</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Metrics-Simple">Perl-Metrics-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">matisse [...] spamcop.net
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
steve.michel [...] siemens.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41108-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41109-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




TestBigWebappUtil.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1301173/689405/TestBigWebappUtil.pm">
Thu Dec 12 09:47:24 2013 (1248.9k) by steve.michel [...] siemens.com
</a>
</font></li>
</ul>


WebappUtil.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1301173/689406/WebappUtil.pm">
Thu Dec 12 09:47:25 2013 (2.4k) by steve.michel [...] siemens.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=91129">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1297682" href="/Public/Bug/Display.html?id=91129#txn-1297682">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;02&nbsp;11:42:44&nbsp;2013</span>
    <span class="description">steve.michel [...] siemens.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Seems to be a file size limit of 2^20 bytes &#40;1048576&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 2 Dec 2013 11:42:26 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Perl-Metrics-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steve Michel &lt;steve.michel [...] siemens.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1297682/687387/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/687387">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">*Hi,**
*
*It seems to work on most files, but I found it failed on a large module when its size exceeded 2^20 bytes. &#40;+1 fails&#41;*

*Can this limit be increased somehow ?

Also, some interest in reporting comment lines as a percentage of code, but it does not seem to support that yet.

**I was hoping to try this out, but the example usage for countperl fails as:**
*C:\apps\devop_tools\Perl64&gt;perl c:\apps\devop_tools\perl64\site\bin\countperl u:\DMS\cm\dms\lib\DtCmd.pm
Did not supply a document! at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 367.
Perl::Metrics::Simple::Analysis::File::_prune_non_code_lines&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metri
cs/Simple/Analysis/File.pm line 160
Perl::Metrics::Simple::Analysis::File::_make_pruned_document&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metri
cs/Simple/Analysis/File.pm line 109
Perl::Metrics::Simple::Analysis::File::_init&#40;&#39;Perl::Metrics::Simple::Analysis::File=HASH&#40;0x326bce8&#41;&#39;, &#39;path&#39;, &#39;u:\DMS\cm\dms
\lib\DtCmd.pm&#39;&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 86
Perl::Metrics::Simple::Analysis::File::new&#40;&#39;Perl::Metrics::Simple::Analysis::File&#39;, &#39;path&#39;, &#39;u:\DMS\cm\dms\lib\DtCmd.pm&#39;&#41; ca
lled at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple.pm line 44
Perl::Metrics::Simple::analyze_files&#40;&#39;Perl::Metrics::Simple=HASH&#40;0x4ef180&#41;&#39;, &#39;u:\DMS\cm\dms\lib\DtCmd.pm&#39;&#41; called at c:\apps
\devop_tools\perl64\site\bin\countperl line 97
         main::set_analysis&#40;&#41; called at c:\apps\devop_tools\perl64\site\bin\countperl line 60
         main::main&#40;&#41; called at c:\apps\devop_tools\perl64\site\bin\countperl line 53


*It is installed locally as:**
***Module id = Perl::Metrics::Simple
     CPAN_USERID  MATISSE &#40;Matisse Enzer &lt;matisse@cpan.org&gt;&#41;
     CPAN_VERSION 0.17
     CPAN_FILE    M/MA/MATISSE/Perl-Metrics-Simple-0.17.tar.gz
     UPLOAD_DATE  2012-11-15
     MANPAGE      Perl::Metrics::Simple - Count packages, subs, lines, etc. of many files.
     INST_FILE C:\apps\devop_tools\Perl64\site\lib\Perl\Metrics\Simple.pm
     INST_VERSION 0.17

*And passed installation tests as:**
*        C:\apps\devop_tools\Perl64\bin\perl.exe -MExtUtils::Command -e cp -- bin/countperl blib\script\countperl
         pl2bat.bat blib\script\countperl
         C:\apps\devop_tools\Perl64\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/001_load.t ........... ok
t/0020_find_files.t .... ok
t/0030_analyze.t ....... ok
t/0040_statistics.t .... ok
t/0050_file.t .......... ok
t/0901_pod.t ........... ok
t/0902_pod_coverage.t .. ok
t/perlcritic.t ......... skipped: Author test.  Set $ENV{TEST_AUTHOR} to a true value to run.
All tests successful.
Files=8, Tests=90,  3 wallclock secs &#40; 0.05 usr +  0.03 sys =  0.08 CPU&#41;
Result: PASS
   MATISSE/Perl-Metrics-Simple-0.17.tar.gz
   C:/apps/mvs9/vc/bin/nmake test -- OK


*Any direction or solution would be greatly appreciated.**
**
**Thanks**
*
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1297682/687388/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/687388">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1300313" href="/Public/Bug/Display.html?id=91129#txn-1300313">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;10&nbsp;10:55:01&nbsp;2013</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1300313/688899/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688899">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Steve:

countperl doesn&#39;t have any built-in limit, so a limit on file size is probably doing from perl or a system library.

Can you try on a could of different machines, and/or with different versions of Perl?

Also, 2^20 is exactly 1 megabyte &#40; 2^20 = 1048576 = 1024 * 1024&#41; which is very large as files go these days. Are you sure you are hitting this with any file larger than that size?

Can you attach an example of a failing file to this ticket?

-M

On Mon Dec 02 11:42:44 2013, steve.michel@siemens.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; *Hi,**
&gt; *
&gt; *It seems to work on most files, but I found it failed on a large
&gt; module when its size exceeded 2^20 bytes. &#40;+1 fails&#41;*
&gt; 
&gt; *Can this limit be increased somehow ?
&gt; 
&gt; Also, some interest in reporting comment lines as a percentage of
&gt; code, but it does not seem to support that yet.
&gt; 
&gt; **I was hoping to try this out, but the example usage for countperl
&gt; fails as:**
&gt; *C:\apps\devop_tools\Perl64&gt;perl
&gt; c:\apps\devop_tools\perl64\site\bin\countperl
&gt; u:\DMS\cm\dms\lib\DtCmd.pm
&gt; Did not supply a document! at
&gt; C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm
&gt; line 367.
&gt; Perl::Metrics::Simple::Analysis::File::_prune_non_code_lines&#40;undef&#41;
&gt; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metri
&gt; cs/Simple/Analysis/File.pm line 160
&gt; Perl::Metrics::Simple::Analysis::File::_make_pruned_document&#40;undef&#41;
&gt; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metri
&gt; cs/Simple/Analysis/File.pm line 109
&gt; Perl::Metrics::Simple::Analysis::File::_init&#40;&#39;Perl::Metrics::Simple::Analysis::File=HASH&#40;0x326bce8&#41;&#39;,
&gt; &#39;path&#39;, &#39;u:\DMS\cm\dms
&gt; \lib\DtCmd.pm&#39;&#41; called at
&gt; C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm
&gt; line 86
&gt; Perl::Metrics::Simple::Analysis::File::new&#40;&#39;Perl::Metrics::Simple::Analysis::File&#39;,
&gt; &#39;path&#39;, &#39;u:\DMS\cm\dms\lib\DtCmd.pm&#39;&#41; ca
&gt; lled at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple.pm
&gt; line 44
&gt; Perl::Metrics::Simple::analyze_files&#40;&#39;Perl::Metrics::Simple=HASH&#40;0x4ef180&#41;&#39;,
&gt; &#39;u:\DMS\cm\dms\lib\DtCmd.pm&#39;&#41; called at c:\apps
&gt; \devop_tools\perl64\site\bin\countperl line 97
&gt;          main::set_analysis&#40;&#41; called at
&gt; c:\apps\devop_tools\perl64\site\bin\countperl line 60
&gt;          main::main&#40;&#41; called at
&gt; c:\apps\devop_tools\perl64\site\bin\countperl line 53
&gt; 
&gt; 
&gt; *It is installed locally as:**
&gt; ***Module id = Perl::Metrics::Simple
&gt;      CPAN_USERID  MATISSE &#40;Matisse Enzer &lt;matisse@cpan.org&gt;&#41;
&gt;      CPAN_VERSION 0.17
&gt;      CPAN_FILE    M/MA/MATISSE/Perl-Metrics-Simple-0.17.tar.gz
&gt;      UPLOAD_DATE  2012-11-15
&gt;      MANPAGE      Perl::Metrics::Simple - Count packages, subs, lines,
&gt; etc. of many files.
&gt;      INST_FILE
&gt; C:\apps\devop_tools\Perl64\site\lib\Perl\Metrics\Simple.pm
&gt;      INST_VERSION 0.17
&gt; 
&gt; *And passed installation tests as:**
&gt; *        C:\apps\devop_tools\Perl64\bin\perl.exe -MExtUtils::Command
&gt; -e cp -- bin/countperl blib\script\countperl
&gt;          pl2bat.bat blib\script\countperl
&gt;          C:\apps\devop_tools\Perl64\bin\perl.exe &#34;-
&gt; MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib\lib&#39;,
&gt; &#39;blib\arch&#39;&#41;&#34; t/*.t
&gt; t/001_load.t ........... ok
&gt; t/0020_find_files.t .... ok
&gt; t/0030_analyze.t ....... ok
&gt; t/0040_statistics.t .... ok
&gt; t/0050_file.t .......... ok
&gt; t/0901_pod.t ........... ok
&gt; t/0902_pod_coverage.t .. ok
&gt; t/perlcritic.t ......... skipped: Author test.  Set $ENV{TEST_AUTHOR}
&gt; to a true value to run.
&gt; All tests successful.
&gt; Files=8, Tests=90,  3 wallclock secs &#40; 0.05 usr +  0.03 sys =  0.08
&gt; CPU&#41;
&gt; Result: PASS
&gt;    MATISSE/Perl-Metrics-Simple-0.17.tar.gz
&gt;    C:/apps/mvs9/vc/bin/nmake test -- OK
&gt; 
&gt; 
&gt; *Any direction or solution would be greatly appreciated.**
&gt; **
&gt; **Thanks**
&gt; *
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1300314" href="/Public/Bug/Display.html?id=91129#txn-1300314">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;10&nbsp;10:55:02&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1300316" href="/Public/Bug/Display.html?id=91129#txn-1300316">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;10&nbsp;10:55:02&nbsp;2013</span>
    <span class="description">matisse [...] spamcop.net -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1300317" href="/Public/Bug/Display.html?id=91129#txn-1300317">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;10&nbsp;10:55:43&nbsp;2013</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1300317/688901/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688901">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 378b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">oops typo, I meant to write that 1 megabyte is NOT a very large file these days.

On Tue Dec 10 10:55:01 2013, MATISSE wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also, 2^20 is exactly 1 megabyte &#40; 2^20 = 1048576 = 1024 * 1024&#41; which
&gt; is very large as files go these days. Are you sure you are hitting
&gt; this with any file larger than that size?
&gt; 
&gt; Can you attach an example of a failing file to this ticket?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1301173" href="/Public/Bug/Display.html?id=91129#txn-1301173">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;12&nbsp;09:47:24&nbsp;2013</span>
    <span class="description">steve.michel [...] siemens.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #91129] Seems to be a file size limit of 2^20 bytes &#40;1048576&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 12 Dec 2013 09:46:44 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Perl-Metrics-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steve Michel &lt;steve.michel [...] siemens.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1301173/689404/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/689404">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi ,

Thanks for the reply.   I agree, 1Mb is pretty small as files sizes go....although on the large side for perl modules.
&#40;btw: don&#39;t waste too much time on this...I generated the metrics on the failing file by removing all leading whitespace to drop filesize &lt;1Mb...or works on linux&#41;

Still it is a curious threshold, and repeatable on other modules...I&#39;ve attached an example small, big with the only difference being comments.
I also show it failing on Tidy.pm   &#40;this is the only &gt;1Mb .pm file in my perl installations.
I also installed on a linux box to test it there against the same files, but it ONLY fails on Windows.
Note that the perl on the linux box is 5.8.8.120, whereas the windows perl is 5.16.3.1603.

Thanks,
Steve


============= perl version exhibiting failure on Windows

12-Dec-13  08:31 AM         1,278,966 TestBigWebappUtil.pm        - Only difference for this file is the addition of many comment lines to exceed 1Mb file size

C:\apps\devop_tools\Perl64\bin&gt;perl.exe -ver

This is perl 5, version 16, subversion 3 &#40;v5.16.3&#41; built for MSWin32-x64-multi-thread
&#40;with 1 registered patch, see perl -V for more detail&#41;

Copyright 1987-2012, Larry Wall

Binary build 1603 [296746] provided by ActiveState <span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Mar 13 2013 13:31:10

C:\apps\devop_tools\Perl64\site\bin&gt;countperl u:\scripts\TestBigWebappUtil.pm
Did not supply a document! at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 367.
Perl::Metrics::Simple::Analysis::File::_prune_non_code_lines&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 160
Perl::Metrics::Simple::Analysis::File::_make_pruned_document&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 109
Perl::Metrics::Simple::Analysis::File::_init&#40;&#39;Perl::Metrics::Simple::Analysis::File=HASH&#40;0x2fb53a8&#41;&#39;, &#39;path&#39;, &#39;u:\scripts\TestBigWebappUtil.pm&#39;&#41; called at C:/apps/devop_too
ls/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 86
Perl::Metrics::Simple::Analysis::File::new&#40;&#39;Perl::Metrics::Simple::Analysis::File&#39;, &#39;path&#39;, &#39;u:\scripts\TestBigWebappUtil.pm&#39;&#41; called at C:/apps/devop_tools/Perl64/site/lib
/Perl/Metrics/Simple.pm line 44
Perl::Metrics::Simple::analyze_files&#40;&#39;Perl::Metrics::Simple=HASH&#40;0x4f2d48&#41;&#39;, &#39;u:\scripts\TestBigWebappUtil.pm&#39;&#41; called at countperl line 97
         main::set_analysis&#40;&#41; called at countperl line 60
         main::main&#40;&#41; called at countperl line 53


==================== On smaller file it works fine

26-Sep-13  12:08 PM             2,548 WebappUtil.pm

C:\apps\devop_tools\Perl64\site\bin&gt;countperl u:\scripts\WebappUtil.pm
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.       &#40;this noise could be easily fixed&#41;
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Use of uninitialized value $value in concatenation &#40;.&#41; or string at countperl line 132.
Perl files found: 1
.
.
.
List of subroutines, with most complex at top
---------------------------------------------
complexity  sub path                      size
1           {code not in named subroutines} u:\scripts\WebappUtil.pm  40

====================
==================== perl version succeeding on Linux   --- Using same TestBigWebappUtil.pm file that failed on Windows above
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; /plm/cinas/chucktestshare2/perl.d/as/perl/lnx64/bin/perl -ver
</div>
This is perl, v5.8.8 built for x86_64-linux-thread-multi
&#40;with 30 registered patches, see perl -V for more detail&#41;

Copyright 1987-2006, Larry Wall

Binary build 820 [274679] provided by ActiveState <span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Jan 22 2007 19:51:55

/plm/cinas/chucktestshare2/perl.d/as/perl/lnx64/site/bin&gt; countperl /plm/cinas/chucktestshare2/perl.d/as/perl/lnx64/site/lib/Perl/Tidy.pm &gt; /tmp/Tidy.pm.out
/plm/cinas/chucktestshare2/perl.d/as/perl/lnx64/site/bin&gt; countperl /tmp/WebappUtil.pm &gt; /tmp/WebappUtil.pm.out
/plm/cinas/chucktestshare2/perl.d/as/perl/lnx64/site/bin&gt; countperl /tmp/TestBigWebappUtil.pm &gt; /tmp/TestBigWebappUtil.pm.out

====================== Here&#39;s an example using a &gt;1Mb CPAN module     &#40;only module in my perl installation &gt;1Mb&#41;

21-Aug-13  10:08 AM         1,115,493 Tidy.pm

C:\apps\devop_tools\Perl64\site\bin&gt;countperl C:\apps\devop_tools\Perl64\site\lib\Perl\Tidy.pm
Did not supply a document! at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 367.
Perl::Metrics::Simple::Analysis::File::_prune_non_code_lines&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 160
Perl::Metrics::Simple::Analysis::File::_make_pruned_document&#40;undef&#41; called at C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 109
Perl::Metrics::Simple::Analysis::File::_init&#40;&#39;Perl::Metrics::Simple::Analysis::File=HASH&#40;0x306f238&#41;&#39;, &#39;path&#39;, &#39;C:\apps\devop_tools\Perl64\site\lib\Perl\Tidy.pm&#39;&#41; called at
C:/apps/devop_tools/Perl64/site/lib/Perl/Metrics/Simple/Analysis/File.pm line 86
Perl::Metrics::Simple::Analysis::File::new&#40;&#39;Perl::Metrics::Simple::Analysis::File&#39;, &#39;path&#39;, &#39;C:\apps\devop_tools\Perl64\site\lib\Perl\Tidy.pm&#39;&#41; called at C:/apps/devop_tool
s/Perl64/site/lib/Perl/Metrics/Simple.pm line 44
Perl::Metrics::Simple::analyze_files&#40;&#39;Perl::Metrics::Simple=HASH&#40;0x4f2de8&#41;&#39;, &#39;C:\apps\devop_tools\Perl64\site\lib\Perl\Tidy.pm&#39;&#41; called at countperl line 97
         main::set_analysis&#40;&#41; called at countperl line 60
         main::main&#40;&#41; called at countperl line 53


======================
Matisse Enzer via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=91129">https://rt.cpan.org/Ticket/Display.html?id=91129</a></span> &gt;
&gt;
&gt; oops typo, I meant to write that 1 megabyte is NOT a very large file these days.
&gt;
&gt; On Tue Dec 10 10:55:01 2013, MATISSE wrote:
&gt;
<div class="message-stanza open">&gt;&gt; Also, 2^20 is exactly 1 megabyte &#40; 2^20 = 1048576 = 1024 * 1024&#41; which
&gt;&gt; is very large as files go these days. Are you sure you are hitting
&gt;&gt; this with any file larger than that size?
&gt;&gt;
&gt;&gt; Can you attach an example of a failing file to this ticket?
</div>&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1301173/689405/TestBigWebappUtil.pm">Download TestBigWebappUtil.pm</a><br />
<span class="downloadcontenttype">text/x-perl 1.2m</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1301173/689406/WebappUtil.pm">Download WebappUtil.pm</a><br />
<span class="downloadcontenttype">text/x-perl 2.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440082" href="/Public/Bug/Display.html?id=91129#txn-1440082">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;08&nbsp;10:52:05&nbsp;2014</span>
    <span class="description">MOREGAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1440082/765517/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765517">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 106b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The 1MB limit was imposed by the PPI library. As of 1.218, PPI no longer has an input document size limit.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440321" href="/Public/Bug/Display.html?id=91129#txn-1440321">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;09&nbsp;00:41:28&nbsp;2014</span>
    <span class="description">matisse [...] spamcop.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.515693</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
