<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82964 for Prima: Test failure Can&#39;t load &#39;blib/arch/auto/Prima/Prima.so&#39; for module Prima:</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82964 for Prima: Test failure Can&#39;t load &#39;blib/arch/auto/Prima/Prima.so&#39; for module Prima:</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Prima/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Prima/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Prima/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Prima/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Prima">Prima CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82964</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Prima/Active/">Prima</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
myra.nelson [...] hughes.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-27120-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.36    </td>
  </tr>
  <tr id="CF-27121-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;25&nbsp;17:28:01&nbsp;2013</span>
    <span class="description">myra.nelson [...] hughes.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test failure Can&#39;t load &#39;blib/arch/auto/Prima/Prima.so&#39; for
 module Prima:</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">After building Prima make test fails with the following error message.

PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-Iblib/lib&#34; &#34;-Iblib/arch&#34; test.pl
Can&#39;t load &#39;blib/arch/auto/Prima/Prima.so&#39; for module Prima:
blib/arch/auto/Prima/Prima.so: undefined symbol: FreeMapObject at
/usr/lib/perl5/core_perl/DynaLoader.pm line 190.
 at test/Tester.pl line 34.
Compilation failed in require at test/Tester.pl line 34.
BEGIN failed--compilation aborted at test/Tester.pl line 34.
make: *** [test_dynamic] Error 255

perl v5.16.2 built for x86_64-linux-thread-multi
Prima 1.36
Linux gandalf 3.7.4-1-ARCH #1 SMP PREEMPT Mon Jan 21 23:05:29 CET 2013
x86_64 GNU/Linux
gtk2  2.24.14
gcc 4.7.2

I attached the complete build log.

Myra
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perl-prima-1.36-1-x86_64-build.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;25&nbsp;18:03:40&nbsp;2013</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

FreeMapObject comes from libungif, which changed API between v4 and v5. In 
v4 the function is called FreeMapObject, and in v5 GifFreeMapObject. 
Chances are that either Prima detected the ungif version incorrectly, or 
there are installation problems, i.e. header and library files have 
different versions onl your system.

Can you possibly find out what GIFLIB_MAJOR/GIFLIB_MINOR/GIF_LIB_VERSION 
are defined to in your gif_lib.h ? And what does libungif.so &#40;the one 
pointed by &#34;ldd ./blib/auto/Prima/Prima.so&#34;&#41; export, GifFreeMapObject or 
FreeMapObject? &#40;f.ex. &#34;nm /usr/lib/libungif.so&#34; can find that out&#41;.


/dk
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;25&nbsp;18:03:40&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;26&nbsp;00:14:32&nbsp;2013</span>
    <span class="description">myra.nelson [...] hughes.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> myra.nelson [...] hughes.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jan 25 18:03:40 2013, KARASIK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; FreeMapObject comes from libungif, which changed API between v4 and
</div>v5. In 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; v4 the function is called FreeMapObject, and in v5 GifFreeMapObject. 
&gt; Chances are that either Prima detected the ungif version incorrectly, or 
&gt; there are installation problems, i.e. header and library files have 
&gt; different versions onl your system.
&gt; 
&gt; Can you possibly find out what GIFLIB_MAJOR/GIFLIB_MINOR/GIF_LIB_VERSION 
&gt; are defined to in your gif_lib.h ? And what does libungif.so &#40;the one 
&gt; pointed by &#34;ldd ./blib/auto/Prima/Prima.so&#34;&#41; export, GifFreeMapObject or 
&gt; FreeMapObject? &#40;f.ex. &#34;nm /usr/lib/libungif.so&#34; can find that out&#41;.
&gt; 
&gt; 
&gt; /dk
</div>
Thanks for your quick response, however this make take some time to sort
out.

 &#34;ldd ./blib/auto/arch/Prima/Prima.so&#34; doesn&#39;t show anything for
GifFreeMapObject, but wait it gets better. &#34;nm /usr/lib/libunfig.so or
.so.4 or .so.4.1.6 comes back with no symbols. Since I&#39;ve already tipped
my hand, from gif_lib.h for 4.1.6 has #define GIF_LIB_VERSION &#34; Version
4.1, &#34;. No Major, Minor, etc.

My guess is that throughs a major monkey wrench in the works.
Occassionally using Arch does present some interesting problems. I&#39;m
going to have to determine how much breakage will occur, so far
fontforge; imlib2; and mencoder, and besides re-compiling those if I
will cause any other problems.

So for now, if it were me, I&#39;d mark this as stalled or won&#39;t fix and let
me sort it out on my end.

Again, thanks for the quick response, your time, and assistance.

Myra
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;26&nbsp;01:13:05&nbsp;2013</span>
    <span class="description">myra.nelson [...] hughes.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> myra.nelson [...] hughes.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jan 26 00:14:32 2013, myra.nelson@hughes.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Jan 25 18:03:40 2013, KARASIK wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; FreeMapObject comes from libungif, which changed API between v4 and
</div>&gt; v5. In 
<div class="message-stanza open">&gt; &gt; v4 the function is called FreeMapObject, and in v5 GifFreeMapObject. 
&gt; &gt; Chances are that either Prima detected the ungif version
</div></div>incorrectly, or 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; there are installation problems, i.e. header and library files have 
&gt; &gt; different versions onl your system.
&gt; &gt; 
&gt; &gt; Can you possibly find out what
</div></div>GIFLIB_MAJOR/GIFLIB_MINOR/GIF_LIB_VERSION 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; are defined to in your gif_lib.h ? And what does libungif.so &#40;the one 
&gt; &gt; pointed by &#34;ldd ./blib/auto/Prima/Prima.so&#34;&#41; export,
</div></div>GifFreeMapObject or 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; FreeMapObject? &#40;f.ex. &#34;nm /usr/lib/libungif.so&#34; can find that out&#41;.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; /dk
</div>&gt; 
&gt; Thanks for your quick response, however this make take some time to sort
&gt; out.
&gt; 
&gt;  &#34;ldd ./blib/auto/arch/Prima/Prima.so&#34; doesn&#39;t show anything for
&gt; GifFreeMapObject, but wait it gets better. &#34;nm /usr/lib/libunfig.so or
&gt; .so.4 or .so.4.1.6 comes back with no symbols. Since I&#39;ve already tipped
&gt; my hand, from gif_lib.h for 4.1.6 has #define GIF_LIB_VERSION &#34; Version
&gt; 4.1, &#34;. No Major, Minor, etc.
&gt; 
&gt; My guess is that throughs a major monkey wrench in the works.
&gt; Occassionally using Arch does present some interesting problems. I&#39;m
&gt; going to have to determine how much breakage will occur, so far
&gt; fontforge; imlib2; and mencoder, and besides re-compiling those if I
&gt; will cause any other problems.
&gt; 
&gt; So for now, if it were me, I&#39;d mark this as stalled or won&#39;t fix and let
&gt; me sort it out on my end.
&gt; 
&gt; Again, thanks for the quick response, your time, and assistance.
&gt; 
&gt; Myra
</div>
Please mark this closed. Prima builds and tests fine with giflib-5.0.4.
I&#39;ll just have to wait until imlib2 and some others catch up to the
latest version of giflib to be able to use Prima.

Thanks again for all your assistance.

Myra
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;26&nbsp;03:01:53&nbsp;2013</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">good to know, thank you!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;26&nbsp;03:01:54&nbsp;2013</span>
    <span class="description">KARASIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
