<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #93585 for Devel-bt: Test failures on armel, kfreebsd-amd64, mips</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #93585 for Devel-bt: Test failures on armel, kfreebsd-amd64, mips</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Devel-bt/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Devel-bt/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Devel-bt/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Devel-bt/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Devel-bt">Devel-bt CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">93585</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Devel-bt/Active/">Devel-bt</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dom [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
gregoa [...] cpan.org

<br />
LEONT [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-234624-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.06    </td>
  </tr>
  <tr id="CF-234625-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Raise-instead-of-kill-the-signal.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1405853/746285/0001-Raise-instead-of-kill-the-signal.patch">
Mon Sep 01 05:55:43 2014 (788b) by LEONT [...] cpan.org
</a>
</font></li>
</ul>


libdevel-bt-perl_build.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1343001/712652/libdevel-bt-perl_build.log">
Tue Mar 25 11:43:07 2014 (12.1k) by daniel [...] serverb.co.uk
</a>
</font></li>
</ul>


signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1343001/712653/signature.asc">
Tue Mar 25 11:43:07 2014 (899b) by daniel [...] serverb.co.uk
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;06&nbsp;17:48:56&nbsp;2014</span>
    <span class="description">dom [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test failures on armel, kfreebsd-amd64, mips</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The following test failures on the above archs were found in Debian in

<span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421</a></span>:

t/release-no-tabs.t ..... skipped: these tests are for release candidate testing
t/release-pod-syntax.t .. skipped: these tests are for release candidate testing

Test Summary Report
-------------------
t/basic.t             &#40;Wstat: 1792 Tests: 7 Failed: 7&#41;
  Failed tests:  1-7
  Non-zero exit status: 7
Files=4, Tests=7, 20 wallclock secs &#40; 0.48 usr  0.16 sys +  4.52 cusr  1.34 csys =  6.50 CPU&#41;
Result: FAIL
Failed 1/4 test programs. 7/7 subtests failed.
make[1]: *** [test_dynamic] Error 255
make[1]: Leaving directory `/Â«PKGBUILDDIRÂ»&#39;
dh_auto_test: make -j1 test returned exit code 2
make: *** [build-arch] Error 2

Cheers,
Dominic.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;11:43:07&nbsp;2014</span>
    <span class="description">daniel [...] serverb.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #93585] Additional build failures</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 Mar 2014 15:42:47 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Devel-bt [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Lintott &lt;daniel [...] serverb.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">In addition to the above architectures, Devel::bt also fails to build on
hurd-i386.

Attached is a log with the output from the build process. Following a
discussion on debian-hurd@lists.debian.org the test is getting a stack
trace of the signal handling thread... as opposed the thread which
raised the signal [0].

[0] <span class="clickylink"><a target="new" rel="nofollow" href="https://lists.debian.org/debian-hurd/2014/03/msg00061.html">https://lists.debian.org/debian-hurd/2014/03/msg00061.html</a></span>
-- 
Daniel Lintott on behalf of the Debian Perl Group
GPG Key: 4096R/5D73EC6E
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1343001/712653/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 899b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;11:43:08&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;28&nbsp;23:49:53&nbsp;2014</span>
    <span class="description">dom [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Maintainer,
 
The Debian perl group is reviewing packages with bugs which make them un-releasable; in particular when they are not heavily used by Debian users. We would like to remove such modules from Debian if we don&#39;t think they are likely to be fixed.

Devel::BT is one such module, owing to this bug, and we would like to know whether you have any plans to look at the bug in the foreseeable future before we remove the package from Debian.

If we don&#39;t hear anything we will remove the package from Debian on or around 19th September. This of course does not affect the standing of your module on CPAN.

Thank you for maintaining this module so far!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;15:53:51&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-08-28 20:49:53, DOM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dear Maintainer,
&gt; 
&gt; The Debian perl group is reviewing packages with bugs which make them
&gt; un-releasable; in particular when they are not heavily used by Debian
&gt; users. We would like to remove such modules from Debian if we don&#39;t
&gt; think they are likely to be fixed.
&gt; 
&gt; Devel::BT is one such module, owing to this bug, and we would like to
&gt; know whether you have any plans to look at the bug in the foreseeable
&gt; future before we remove the package from Debian.
&gt; 
&gt; If we don&#39;t hear anything we will remove the package from Debian on or
&gt; around 19th September. This of course does not affect the standing of
&gt; your module on CPAN.
&gt; 
&gt; Thank you for maintaining this module so far!
</div>

11:49 &lt;ether&gt; did you see this? <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93585">https://rt.cpan.org/Ticket/Display.html?id=93585</a></span>
12:32 &lt;rafl&gt; i did just now for the first time, and i&#39;m not entirely sure how i feel about it
12:33  * rafl ponders
12:36 &lt;rafl&gt; so, that module is really just a debugging aid for developers and end users
12:36 &lt;rafl&gt; the initial motivation to write it was people coming to me with thing segfaulting and me needing a backtrace to make any sense of it
12:37 &lt;rafl&gt; but repeatedly walking users through how to use gdb was a big hassle, so i automated it
12:38 &lt;rafl&gt; i have a hard time believing there are developers or endusers on mips, armel, and kfreebsd-amd64
12:38 &lt;ether&gt; heh
12:38 &lt;rafl&gt; that&#39;s probably more true for armel and mips than for kfreebsd, but still
12:38 &lt;rafl&gt; so i think this would be useful to keep for the architectures it works on
12:39 &lt;rafl&gt; cause realistically everyone uses amd64 linux
12:39 &lt;rafl&gt; i also think there&#39;s a lot of value to having this in debian
12:40 &lt;rafl&gt; cause saying &#34;apt-get install libdevel-bt-perl&#34; is a lot easier than walking a newcomer through the four dozen ways of installing modules
12:40 &lt;rafl&gt; that&#39;s kind of why i asked the perl group to package it in the first place
12:41 &lt;rafl&gt; i totally would like to get it working on all platforms, just for the sake of it, but i&#39;m not sure if that&#39;s gonna be effort well spent
12:41 &lt;rafl&gt; and debian does have ways of providing packages only for certain architectures
12:41 &lt;ether&gt; sounds like they should only package it for those architectures where tests pass, then
12:42 &lt;ether&gt; or the Makefile.PL can do that check and exit otherwise?
12:42 &lt;rafl&gt; well.. &#39;make test&#39; already bails out if things don&#39;t work. i think it&#39;d be better to not hardcode any platform names in Makefile.PL
12:43 &lt;rafl&gt; but yeah. if debian could limit the availability of that package to the platforms it&#39;s known to work on, i think that&#39;d be ideal
12:43 &lt;rafl&gt; though i haven&#39;t really been involved much in debian recently, so i&#39;m not sure what the policy on doing that is
12:43 &lt;rafl&gt; might be that they only do it for things that are truly platform dependant
12:44 &lt;rafl&gt; stuff like grub or yaboot, for example
12:45 &lt;rafl&gt; i also know that Leon has been working on a similar module that&#39;s using a very different implementation technique
12:45 &lt;rafl&gt; rather than spawning gdb he&#39;s walking the c call stack and symbol tables and whatnot manually
12:45 &lt;rafl&gt; which may or may not be more portable
12:46 &lt;rafl&gt; it might be a good idea to investigate if his module provides something functionally equivalent that Devel::bt could be deprecated in favour of
12:46 &lt;rafl&gt; i really just want the functionality to be there and easily available to relatively unskilled users - i don&#39;t really care if that functionality is provided by Devel::bt or something else
12:47 &lt;ether&gt; should I paste this conversation into the ticket and show it to leont?
12:47 &lt;rafl&gt; that&#39;d be really nice of you!
12:52 &lt;ether&gt; kk!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;15:55:26&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Cc LEONT added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;01&nbsp;05:55:43&nbsp;2014</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Mar 06 17:48:56 2014, DOM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The following test failures on the above archs were found in Debian in
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421</a></span>:
&gt; 
&gt; t/release-no-tabs.t ..... skipped: these tests are for release
&gt; candidate testing
&gt; t/release-pod-syntax.t .. skipped: these tests are for release
&gt; candidate testing
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/basic.t             &#40;Wstat: 1792 Tests: 7 Failed: 7&#41;
&gt;   Failed tests:  1-7
&gt;   Non-zero exit status: 7
&gt; Files=4, Tests=7, 20 wallclock secs &#40; 0.48 usr  0.16 sys +  4.52 cusr
&gt; 1.34 csys =  6.50 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/4 test programs. 7/7 subtests failed.
&gt; make[1]: *** [test_dynamic] Error 255
&gt; make[1]: Leaving directory `/Â«PKGBUILDDIRÂ»&#39;
&gt; dh_auto_test: make -j1 test returned exit code 2
&gt; make: *** [build-arch] Error 2
&gt; 
&gt; Cheers,
&gt; Dominic.
</div>
The attached patch might fix the issue on Hurd, I can&#39;t really say much about the issue on armel or kfreebsd-amd64 without having some build/test output from them though. As for the latter: there might be a kernel security setting interfering, I vaguely remember such an issue op OpenBSD at least.

Leon
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Raise-instead-of-kill-the-signal.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 7243c7acfa7731697dfd75e930906817588c9c2f Mon Sep 17 00:00:00 2001
From: Leon Timmermans &lt;fawaka@gmail.com&gt;
Date: Mon, 1 Sep 2014 11:53:23 +0200
Subject: [PATCH] Raise instead of kill the signal

---
 t/basic.t | 2 +-
 1 file changed, 1 insertion&#40;+&#41;, 1 deletion&#40;-&#41;

diff --git a/t/basic.t b/t/basic.t
index 4519941..95fbb90 100644
--- a/t/basic.t
+++ b/t/basic.t
@@ -18,7 +18,7 @@ local $ENV{PERL5LIB} = join $Config::Config{path_sep} =&gt; @INC;
 for my $signal &#40;@signals&#41; {
     next unless __PACKAGE__-&gt;can&#40;$signal&#41;;
     my $signum = __PACKAGE__-&gt;can&#40;$signal&#41;-&gt;&#40;&#41;;
-    my @cmd = &#40;$^X, qw&#40;-d:bt -e&#41;, &#34;kill $signum, \$\$&#34;&#41;;
+    my @cmd = &#40;$^X, qw&#40;-d:bt -MPOSIX=raise -e&#41;, &#34;raise&#40;$signum&#41;&#34;&#41;;
 
     use Capture::Tiny &#39;capture&#39;;
     my &#40;$stdout&#41; = capture { system @cmd };
-- 
1.9.1

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;21&nbsp;13:29:49&nbsp;2014</span>
    <span class="description">gregoa [...] cpan.org -  Cc GREGOA added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;21&nbsp;13:50:40&nbsp;2014</span>
    <span class="description">dom [...] earth.li -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> 721421 [...] bugs.debian.org, debian-mips [...] lists.debian.org, debian-arm [...] lists.debian.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93585] Test failures on armel, kfreebsd-amd64, mips</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 21 Sep 2014 18:50:26 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Karen Etheridge via RT &lt;bug-Devel-bt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dominic Hargreaves &lt;dom [...] earth.li&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[Adding mips and armhf porters; please see
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=721421</a></span>&gt; for
context.

On Fri, Aug 29, 2014 at 03:53:52PM -0400, Karen Etheridge via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 11:49 &lt;ether&gt; did you see this? <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93585">https://rt.cpan.org/Ticket/Display.html?id=93585</a></span>
&gt; 12:32 &lt;rafl&gt; i did just now for the first time, and i&#39;m not entirely sure how i feel about it
&gt; 12:33  * rafl ponders
&gt; 12:36 &lt;rafl&gt; so, that module is really just a debugging aid for developers and end users
&gt; 12:36 &lt;rafl&gt; the initial motivation to write it was people coming to me with thing segfaulting and me needing a backtrace to make any sense of it
&gt; 12:37 &lt;rafl&gt; but repeatedly walking users through how to use gdb was a big hassle, so i automated it
&gt; 12:38 &lt;rafl&gt; i have a hard time believing there are developers or endusers on mips, armel, and kfreebsd-amd64
&gt; 12:38 &lt;ether&gt; heh
&gt; 12:38 &lt;rafl&gt; that&#39;s probably more true for armel and mips than for kfreebsd, but still
&gt; 12:38 &lt;rafl&gt; so i think this would be useful to keep for the architectures it works on
&gt; 12:39 &lt;rafl&gt; cause realistically everyone uses amd64 linux
&gt; 12:39 &lt;rafl&gt; i also think there&#39;s a lot of value to having this in debian
&gt; 12:40 &lt;rafl&gt; cause saying &#34;apt-get install libdevel-bt-perl&#34; is a lot easier than walking a newcomer through the four dozen ways of installing modules
&gt; 12:40 &lt;rafl&gt; that&#39;s kind of why i asked the perl group to package it in the first place
&gt; 12:41 &lt;rafl&gt; i totally would like to get it working on all platforms, just for the sake of it, but i&#39;m not sure if that&#39;s gonna be effort well spent
&gt; 12:41 &lt;rafl&gt; and debian does have ways of providing packages only for certain architectures
&gt; 12:41 &lt;ether&gt; sounds like they should only package it for those architectures where tests pass, then
&gt; 12:42 &lt;ether&gt; or the Makefile.PL can do that check and exit otherwise?
&gt; 12:42 &lt;rafl&gt; well.. &#39;make test&#39; already bails out if things don&#39;t work. i think it&#39;d be better to not hardcode any platform names in Makefile.PL
&gt; 12:43 &lt;rafl&gt; but yeah. if debian could limit the availability of that package to the platforms it&#39;s known to work on, i think that&#39;d be ideal
&gt; 12:43 &lt;rafl&gt; though i haven&#39;t really been involved much in debian recently, so i&#39;m not sure what the policy on doing that is
&gt; 12:43 &lt;rafl&gt; might be that they only do it for things that are truly platform dependant
&gt; 12:44 &lt;rafl&gt; stuff like grub or yaboot, for example
&gt; 12:45 &lt;rafl&gt; i also know that Leon has been working on a similar module that&#39;s using a very different implementation technique
&gt; 12:45 &lt;rafl&gt; rather than spawning gdb he&#39;s walking the c call stack and symbol tables and whatnot manually
&gt; 12:45 &lt;rafl&gt; which may or may not be more portable
&gt; 12:46 &lt;rafl&gt; it might be a good idea to investigate if his module provides something functionally equivalent that Devel::bt could be deprecated in favour of
&gt; 12:46 &lt;rafl&gt; i really just want the functionality to be there and easily available to relatively unskilled users - i don&#39;t really care if that functionality is provided by Devel::bt or something else
&gt; 12:47 &lt;ether&gt; should I paste this conversation into the ticket and show it to leont?
&gt; 12:47 &lt;rafl&gt; that&#39;d be really nice of you!
&gt; 12:52 &lt;ether&gt; kk!
</div>
Hi Karen,

Thanks for fowarding this! Some more details have been discussed on the
Debian BTS, and I&#39;ve just asked Leon if the new logs are any use for
debugging.

Debian policy has this to say on the matter:
&#34;Specifying a list of architectures or architecture wildcards other than
any is for the minority of cases where a program is not portable or is
not useful on some architectures. Where possible, the program should be
made portable instead.&#34;[1]

I don&#39;t think excluding mips and armhf &#40;the two architectures where it
used to work&#41; would be an absolute no-go area but it would be frowned
upon.

I&#39;m also CCing the Debian arm and mips porters, in case they can help.

Cheers,
Dominic.

[1] &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Architecture&gt;">https://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Architecture&gt;</a></span>
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
