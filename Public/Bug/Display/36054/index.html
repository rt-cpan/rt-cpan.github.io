<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #36054 for Net-DNS: Enhancement Request &#40;findzonecut&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #36054 for Net-DNS: Enhancement Request &#40;findzonecut&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-DNS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-DNS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-DNS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-DNS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">36054</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-DNS">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
rfg [...] tristatelogic.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=36054">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-463994" href="/Public/Bug/Display.html?id=36054#txn-463994">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;16:05:47&nbsp;2008</span>
    <span class="description">rfg [...] tristatelogic.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Enhancement Request &#40;findzonecut&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 May 2008 13:05:12 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ronald F. Guilmette&#34; &lt;rfg [...] tristatelogic.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/463994/228472/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/228472">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 575b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Thanks for the wonderful software!  &#40;The price is right too!&#41;

For an important project I&#39;m working on, I rather desperately need
to have the functionaity provided by the C language &#39;res_findzonecut&#39;
function &#40;part of the BIND resolver library&#41; but I need to have it
in Perl, e.g. as yet another method available to users of the
Net::DNS::Resolver class.

If there is any chance at all that you would be willing to add a new
&#39;findzonecut&#39; method to the existing Net::DNS::Resolver class, then I
would be eternally grateful.

Thank you for your consideration.


Regards,
rfg
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544968" href="/Public/Bug/Display.html?id=36054#txn-544968">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:42:36&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/544968/274055/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274055">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

1. Zone walking and finding zone cuts is frowned upon by some DNS specialists. It is putting 
unneeded load on the infrastructure. Therefore I am hesitant to provide a method that eases 
this behavior.

2. On the other hand using the wire2presentation and name2labels utilities &#40;undocumented&#41; 
which are for internal consumption in Net::DNS this is all fairly trivial. See the example script 
below that takes a domain name as an argument. Will print each SOA and the NS records 
above &#40;parent&#41; and below &#40;child&#41; the zonecut .

Apologies for not getting back earlier; closing the ticket







#!/usr/bin/perl -Wall
use strict;
use Net::DNS qw &#40;wire2presentation name2labels&#41;;


my @labels=name2labels&#40;shift&#41;;


my $resolver=Net::DNS::Resolver-&gt;new;
my $parental_lookup=&#34;&#34;;

while &#40;@labels&#41; {
        my $name=compose_name&#40;@labels&#41;;

        if &#40;$parental_lookup&#41;{
                my $pckt=$resolver-&gt;send&#40;$parental_lookup,&#34;NS&#34;&#41;;
                
                if &#40;$pckt-&gt;header-&gt;ancount&#41;{
                        print_ns_a&#40;&#34;Parent&#34;, $pckt-&gt;answer&#41;;
                        $parental_lookup=0;
                }
        }
        
        my $pckt=$resolver-&gt;send&#40;$name,&#34;SOA&#34;&#41;;
        if &#40;$pckt-&gt;header-&gt;ancount&#41;{
                
                print &#34;-----\nFOUND SOA @ $name&#34; if &#40;$pckt-&gt;answer&#41;[0]-&gt;type eq &#34;SOA&#34;;
                undef&#40;$pckt&#41;;
                $pckt=$resolver-&gt;send&#40;$name,&#34;NS&#34;&#41;;
                
                if &#40;$pckt-&gt;header-&gt;ancount&#41;{
                        print_ns_a&#40;&#34;Child &#34;, $pckt-&gt;answer&#41;;
                        $parental_lookup=$name;
                }
        }
        
        shift @labels;
        
}

sub compose_name {
        my $name;
        foreach my $label &#40;@_&#41;{
                $name .= wire2presentation&#40;$label&#41; . &#34;.&#34;;
        }
        return $name;
}
        

sub print_ns_a {
        my $caption=shift;
        foreach my $ns &#40;@_&#41;{
                next unless $ns-&gt;type eq &#34;NS&#34;;
                my $apckt=$resolver-&gt;send&#40;$ns-&gt;nsdname,&#34;A&#34;&#41;;
                if &#40;$apckt-&gt;header-&gt;ancount&#41;{
                        foreach my $a &#40;$apckt-&gt;answer&#41;{
                                print $caption.&#34; NS &#34;.$ns-&gt;nsdname. &#34; : &#34;.$a-&gt;address;
                        }
                }else{
                        print &#34;No A RRs found for &#34;. $ns-&gt;nsdname;
                }
                
        }
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544969" href="/Public/Bug/Display.html?id=36054#txn-544969">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:42:37&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544972" href="/Public/Bug/Display.html?id=36054#txn-544972">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:42:38&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544979" href="/Public/Bug/Display.html?id=36054#txn-544979">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:49:44&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/544979/274062/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274062">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 43b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PS.. adding that script to the contrib dir.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544980" href="/Public/Bug/Display.html?id=36054#txn-544980">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:49:45&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544983" href="/Public/Bug/Display.html?id=36054#txn-544983">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:49:45&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/544983/274065/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274065">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 43b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PS.. adding that script to the contrib dir.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544986" href="/Public/Bug/Display.html?id=36054#txn-544986">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;08:49:46&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/544986/274068/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274068">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 43b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PS.. adding that script to the contrib dir.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545047" href="/Public/Bug/Display.html?id=36054#txn-545047">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;10:09:05&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545162" href="/Public/Bug/Display.html?id=36054#txn-545162">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;16:08:00&nbsp;2008</span>
    <span class="description">rfg [...] tristatelogic.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #36054] Enhancement Request &#40;findzonecut&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Dec 2008 13:07:45 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ronald F. Guilmette&#34; &lt;rfg [...] tristatelogic.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/545162/274169/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274169">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
In message &lt;rt-3.6.HEAD-19694-1229521356-100.36054-6-0@rt.cpan.org&gt;, you wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=36054">https://rt.cpan.org/Ticket/Display.html?id=36054</a></span> &gt;
&gt;
&gt;
&gt;
&gt;1. Zone walking and finding zone cuts is frowned upon by some DNS specialists.
&gt; It is putting 
&gt;unneeded load on the infrastructure. Therefore I am hesitant to provide a meth
&gt;od that eases 
&gt;this behavior.
</div>
While you may be correct that ``heavy&#39;&#39; use of zonecutting is frowned upon,
in some quarters, I don&#39;t think that&#39;s the most important issue.  The bottom
line is that this functionality _is_ provided in the C version of the
resolver library, some people, such as myself, know how to make judicious
and non-stressful use of the functionality, and I think that the corresponding
Perl library &#40;Net::DNS&#41; is remiss if it fails to export the same functionality
as the C library.  That sort of limitation just feeds critics of Perl who
say that its not as useful, flexible, or powerful as C.

Further, the value judgement you are making is apparently not shared by
the folks who wrote and maintain the C resolver library.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;2. On the other hand using the wire2presentation and name2labels utilities &#40;un
&gt;documented&#41; 
&gt;which are for internal consumption in Net::DNS this is all fairly trivial. See
&gt; the example script 
&gt;below that takes a domain name as an argument. Will print each SOA and the NS 
&gt;records 
&gt;above &#40;parent&#41; and below &#40;child&#41; the zonecut .
</div>
Thank you for the script.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Apologies for not getting back earlier; closing the ticket
</div>
That&#39;s OK.  Apology accepted.  Thank you for Net::DNS.  I find it most
useful.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545163" href="/Public/Bug/Display.html?id=36054#txn-545163">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;16:08:01&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545231" href="/Public/Bug/Display.html?id=36054#txn-545231">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:29&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Severity Wishlist added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545232" href="/Public/Bug/Display.html?id=36054#txn-545232">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:29&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/545232/274207/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274207">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 146b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Let me keep the ticket stalled, as wish-list. There are some other issues to work on and I want 
to try and do a release before the end of year.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545235" href="/Public/Bug/Display.html?id=36054#txn-545235">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:30&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545236" href="/Public/Bug/Display.html?id=36054#txn-545236">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:30&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/545236/274210/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274210">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 146b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Let me keep the ticket stalled, as wish-list. There are some other issues to work on and I want 
to try and do a release before the end of year.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545237" href="/Public/Bug/Display.html?id=36054#txn-545237">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:31&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545240" href="/Public/Bug/Display.html?id=36054#txn-545240">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:25:31&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545300" href="/Public/Bug/Display.html?id=36054#txn-545300">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;18&nbsp;00:33:20&nbsp;2008</span>
    <span class="description">rfg [...] tristatelogic.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #36054] Enhancement Request &#40;findzonecut&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Dec 2008 21:33:08 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ronald F. Guilmette&#34; &lt;rfg [...] tristatelogic.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/545300/274240/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/274240">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 316b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
In message &lt;rt-3.6.HEAD-19694-1229556329-114.36054-6-0@rt.cpan.org&gt;, you wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=36054">https://rt.cpan.org/Ticket/Display.html?id=36054</a></span> &gt;
&gt;
&gt;Let me keep the ticket stalled, as wish-list. There are some other issues to w
&gt;ork on and I want 
&gt;to try and do a release before the end of year.
&gt;
</div>
Perfectly fine by me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-545301" href="/Public/Bug/Display.html?id=36054#txn-545301">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;18&nbsp;00:33:21&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-546557" href="/Public/Bug/Display.html?id=36054#txn-546557">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;22&nbsp;16:42:11&nbsp;2008</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1402243" href="/Public/Bug/Display.html?id=36054#txn-1402243">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;22&nbsp;09:25:34&nbsp;2014</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1402243/744451/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/744451">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 17 16:08:00 2008, rfg@tristatelogic.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl library &#40;Net::DNS&#41; is remiss if it fails to export the same
&gt; functionality as the C library.
</div>
Net::DNS is not an attempt to translate the C library into Perl.

 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 2. On the other hand using the wire2presentation and name2labels
&gt; &gt; utilities &#40;un
&gt; &gt;  documented&#41;
&gt; &gt; which are for internal consumption in Net::DNS this is all fairly
&gt; &gt; trivial. See
&gt; &gt;   the example script
&gt; &gt;  below that takes a domain name as an argument. Will print each SOA
&gt; &gt; and the NS
&gt; &gt;  records
&gt; &gt; above &#40;parent&#41; and below &#40;child&#41; the zonecut .
</div>&gt; 
&gt; Thank you for the script.
&gt;
</div>The script used name2labels&#40;&#41; and wire2presentation&#40;&#41; which are no longer used in Net::DNS.  These will be removed in a future release.


DNS name resolution by a stub resolver requires no knowledge of where zonecuts occur in the DNS hierarchy.

Few applications require such knowledge, therefore there is little justification for including this function in the general package.

Finding the closest zonecut to a DNS name can be achieved using two lines of code and imposing negligible stress on DNS infrastructure:

        $reply = $resolver-&gt;send&#40; &#34;*.$name&#34;, &#39;NULL&#39; &#41;;
        &#40;$cut&#41; = map $_-&gt;name, $reply-&gt;authority;

A sample script &#40;find_zonecut&#41; using this technique has been added to the contrib sub-directory of the distribution.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1402244" href="/Public/Bug/Display.html?id=36054#txn-1402244">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;22&nbsp;09:25:35&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1408417" href="/Public/Bug/Display.html?id=36054#txn-1408417">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;08&nbsp;08:21:30&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.719176</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
