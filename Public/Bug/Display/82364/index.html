<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82364 for CGI: Patch - add noTimestamp option to CGI::Carp</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82364 for CGI: Patch - add noTimestamp option to CGI::Carp</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CGI/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CGI/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CGI/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CGI/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/leejo/CGI.pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/CGI">CGI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82364</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CGI/Active/">CGI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
EDAVIS [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-230860-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-230861-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;09:09:44&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Patch - add noTimestamp option to CGI::Carp</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sometimes it is useful for CGI::Carp not to add a timestamp to error
messages.  The web server may add its own timestamp anyway, and you may
prefer that any error output from the script should be identical from
one run to the next.  This patch adds a new &#39;noTimestamp&#39; option or
$NO_TIMESTAMP package variable.  Please could you consider this feature
for inclusion in the next version?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CGI.pm-3.63-noTimestamp.diff</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ru Changes Changes
--- Changes	2012-11-14 23:43:13.000000000 +0000
+++ Changes	2013-01-02 13:47:52.543627766 +0000
@@ -1,3 +1,9 @@
+Version 3.64? Jan 2, 2013
+
+    [NEW FEATURES]
+    - If you specify the new option noTimestamp, CGI::Carp no longer adds a timestamp
+      to each line of error messages.
+
 Version 3.63 Nov 12, 2012
 
     [SECURITY]
diff -ru lib/CGI/Carp.pm lib/CGI/Carp.pm
--- lib/CGI/Carp.pm	2012-11-03 00:33:07.000000000 +0000
+++ lib/CGI/Carp.pm	2013-01-02 13:52:37.480195214 +0000
@@ -265,9 +265,24 @@
 Note that this override doesn&#39;t happen until after the program has
 compiled, so any compile-time errors will still show up with the
 non-overridden program name
-  
+
+=head1 TURNING OFF TIMESTAMPS
+
+If your web server automatically adds a timestamp to each log line,
+you may not need CGI::Carp to add its own.  You can disable timestamping
+by importing &#34;noTimestamp&#34;:
+
+    use CGI::Carp qw&#40;noTimestamp&#41;;
+
+Alternatively you can set C&lt;$CGI::Carp::NO_TIMESTAMP&gt; to 1.
+
+Note that the name of the program is still automatically included in
+the message.
+
 =head1 CHANGE LOG
 
+3.54? Added noTimestamp option
+
 3.51 Added $CGI::Carp::TO_BROWSER
 
 1.29 Patch from Peter Whaite to fix the unfixable problem of CGI::Carp
@@ -340,7 +355,7 @@
 
 @ISA = qw&#40;Exporter&#41;;
 @EXPORT = qw&#40;confess croak carp&#41;;
-@EXPORT_OK = qw&#40;carpout fatalsToBrowser warningsToBrowser wrap set_message set_die_handler set_progname cluck ^name= die&#41;;
+@EXPORT_OK = qw&#40;carpout fatalsToBrowser warningsToBrowser wrap noTimestamp set_message set_die_handler set_progname cluck ^name= die&#41;;
 
 $main::SIG{__WARN__}=\&#38;CGI::Carp::warn;
 
@@ -348,7 +363,7 @@
 $CGI::Carp::CUSTOM_MSG  = undef;
 $CGI::Carp::DIE_HANDLER = undef;
 $CGI::Carp::TO_BROWSER  = 1;
-
+$CGI::Carp::NO_TIMESTAMP    = 0;
 
 # fancy import routine detects and handles &#39;errorWrap&#39; specially.
 sub import {
@@ -370,6 +385,7 @@
     Exporter::import&#40;$pkg,keys %routines&#41;;
     $Exporter::ExportLevel = $oldlevel;
     $main::SIG{__DIE__} =\&#38;CGI::Carp::die if $routines{&#39;fatalsToBrowser&#39;};
+    $CGI::Carp::NO_TIMESTAMP = 1 if $routines{&#39;noTimestamp&#39;};
 #    $pkg-&gt;export&#40;&#39;CORE::GLOBAL&#39;,&#39;die&#39;&#41;;
 }
 
@@ -385,7 +401,6 @@
 }
 
 sub stamp {
-    my $time = scalar&#40;localtime&#41;;
     my $frame = 0;
     my &#40;$id,$pack,$file,$dev,$dirs&#41;;
     if &#40;defined&#40;$CGI::Carp::PROGNAME&#41;&#41; {
@@ -397,6 +412,8 @@
         } until !$file;
     }
     &#40;$dev,$dirs,$id&#41; = File::Spec-&gt;splitpath&#40;$id&#41;;
+    return &#34;$id: &#34; if $CGI::Carp::NO_TIMESTAMP;
+    my $time = scalar&#40;localtime&#41;;
     return &#34;[$time] $id: &#34;;
 }
 
diff -ru t/carp.t t/carp.t
--- t/carp.t	2011-01-24 03:20:03.000000000 +0000
+++ t/carp.t	2013-01-02 13:57:27.941730756 +0000
@@ -3,7 +3,7 @@
 
 use strict;
 
-use Test::More tests =&gt; 61;
+use Test::More tests =&gt; 62;
 use IO::Handle;
 
 use CGI::Carp;
@@ -85,6 +85,15 @@
    &#34;/] $id: There is a problem at $q_file line $expect_l.&#34;.&#39;$/&#39;,
    &#34;CGI::Carp::warn builds correct message&#34;&#41;;
 
+# Test $NO_TIMESTAMP
+{
+    local $CGI::Carp::NO_TIMESTAMP = 1;
+    $expect_l = __LINE__ + 1;
+    like&#40;CGI::Carp::warn&#40;&#34;There is a problem&#34;&#41;,
+         qr/\A\Q$id: There is a problem at $file line $expect_l.\E\s*\z/,
+         &#34;noTimestamp&#34;&#41;;
+}
+
 # Test that _warn is called at the correct time
 $CGI::Carp::WARN = 1;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;09:24:09&nbsp;2013</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82364] Patch - add noTimestamp option to CGI::Carp</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 02 Jan 2013 09:23:44 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI.pm [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Thanks for the contribution.

I agree that it it could be a feature to not have timestamps added by
CGI::Carp, but I&#39;m unsure if the suggested way is the best way to go
about it.

Using global variables as an interface is not considered a great
practice, can be problematic when multiple users of CGI::Carp expect
different behaviors.

Here&#39;s an alternative implementation to consider:

   use CGI::Carp:
   use CGI::Carp:noTimestamps;

# The implementation in CGI::Carp::noTimestamps would look something
like this:

  # Redefine the routine responsible for adding the timestamp
  no warnings;
  sub CGI::Carp::stamp {
    ...
  }

An advantage of this approach is that it doesn&#39;t require people to
upgrade the CGI.pm distro to use it... it also works with older
versions.  &#40;Nor do you have wait for us to review and release, since you
can release it yourself&#41;.

A third option be something in between the two approaches proposed so
far. CGI::Carp could be refactored so that a function call is used whose
only purpose is decide whether to use timestamps or not. Inside stamp,
we could call:

  addTimestamp&#40;&#41;

Which would be implemented like this:

  sub addTimestamp { 1 }

An extremely minimal mix-in following the pattern above could override
it. The downside to this approach is it requires the effort to update
and release two distributions, and plus users all need to upgrade CGI.pm
plus installing the new plugin as well.


   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;09:24:11&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;12:00:23&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for your comments.  In making the noTimestamp option I was
following the existing practice of options like fatalsToBrowser,
warningsToBrowser, and wrap.  Since stamp&#40;&#41; is an ordinary subroutine
and not a method, it is not straightforward to override it in another
package as you suggest.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;12:01:53&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oh sorry, I see what you mean.  The new module would override the
stamp&#40;&#41; method in the CGI::Carp namespace.

That would work but the trouble is then you become dependent on the
implementation of CGI::Carp.  Either CGI::Carp would have to document
the stamp&#40;&#41; routine and how to override it, or the new module would risk
being broken every time the internals of CGI::Carp change.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;16&nbsp;16:53:07&nbsp;2013</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 02 12:01:53 2013, EDAVIS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Oh sorry, I see what you mean.  The new module would override the
&gt; stamp&#40;&#41; method in the CGI::Carp namespace.
&gt; 
&gt; That would work but the trouble is then you become dependent on the
&gt; implementation of CGI::Carp.  Either CGI::Carp would have to document
&gt; the stamp&#40;&#41; routine and how to override it, or the new module would 
</div>risk
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; being broken every time the internals of CGI::Carp change.
</div>
I wouldn&#39;t be too concerned about CGI::Carp changing. The module has 
reached maturity and is only being updated to fix critical issues. 
Meanwhile, a number of alternatives are increasingly being used instead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;17&nbsp;09:42:39&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, could you add a note to the CGI::Carp documentation noting that the
CGI::Carp::stamp&#40;&#41; routine can be overridden in this way?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;20&nbsp;08:04:53&nbsp;2013</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82364] Patch - add noTimestamp option to CGI::Carp</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 20 Feb 2013 08:04:36 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-cgi.pm [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OK, could you add a note to the CGI::Carp documentation noting that the
&gt; CGI::Carp::stamp&#40;&#41; routine can be overridden in this way?
</div>
Most every module in every function on CPAN can be overridden in this 
way.  That&#39;s a feature of Perl rather than off this module.

While unlike code, I do think it&#39;s appropriate for documentation to 
have some duplication, but I don&#39;t think this is place to highlight a 
broadly applicable programming technique.

If you&#39;d like this alternate functionality to be more easily available, 
I encourage to publish it as a CPAN module.

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;18&nbsp;11:50:31&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 20 08:04:53 2013, mark@summersault.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Most every module in every function on CPAN can be
&gt;overridden in this way.  That&#39;s a feature of Perl
&gt;rather than off this module.
</div>
Yes, it&#39;s just that I do not want to do so without
permission.  Otherwise some future change to CGI::Carp
would break my code, and it would be a bug in my code
rather than on CGI::Carp&#39;s side because this access
was never documented to start with.

If you feel that overriding the routine is a good way
to proceed, it&#39;s best to document that this is possible, so that a future CGI::Carp maintainer &#40;you
or anybody else&#41; will know that this is something
third party code is expecting to work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;18&nbsp;12:13:19&nbsp;2013</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">... or your other suggestion of creating an addTimestamp call, to be overridden in a mixin, would work well too.  Would you like me to make a patch for that?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;24&nbsp;11:27:48&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> mark [...] summersault.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-01-02 09:24:09, mark@summersault.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Thanks for the contribution.
</div>[...]

I vote for applying EDAVIS&#39; initial patch. The argument against global
variables is not valid here; CGI::Carp is already heavily using global
variables. Also the possible side-effects don&#39;t count here: careful
users anyway use &#34;local&#34; on globals &#40;and EDAVIS did it also in the
patched test&#41;, and anyway cgi programs are mostly limited to one
request, and anyway, this is about changing the appearance on a
server, which would be the same for all programs on that system.

The only thing I would amend is to add an example webserver to the Pod
&#40;&#34;for example Apache2 with default ErrorLogFormat setting&#34;&#41;. Maybe
also an codified example

    $CGI::Carp::NO_TIMESTAMP = $ENV{SERVER_SOFTWARE} =~ m{^Apache/&#40;\d+&#41;} and $1 &gt;= 2;

Also, if there are alternatives to CGI::Carp, then it should be listed
in SEE ALSO. I just found CGI::Carp::Throw, but it&#39;s not what I need
here, as it seems to just handle fatalsToBrowser stuff in a smart way.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;07&nbsp;05:05:26&nbsp;2014</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Would you like me to redo the patch with different
pod documentation as per Slaven R.&#39;s comment?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;07&nbsp;10:26:31&nbsp;2014</span>
    <span class="description">mark [...] stosberg.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82364] Patch - add noTimestamp option to CGI::Carp</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 07 Mar 2014 07:26:18 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> EDAVIS via RT &lt;bug-CGI.pm [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] stosberg.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">There are new maintainer&#40;s&#41; starting soon.  One of them will confirm for
you. 

Thanks for nudging this ticket along. 

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;08:17:14&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This issue has been copied to: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/leejo/CGI.pm/issues/111">https://github.com/leejo/CGI.pm/issues/111</a></span> please take all future correspondence there.
This ticket will remain open but please do not reply here.
This ticket will be closed when the github issue is dealt with.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;14:28:11&nbsp;2014</span>
    <span class="description">The RT System itself -  Queue changed from CGI.pm to CGI</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;06&nbsp;07:30:44&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patched, new release will go out within the next few days. Thanks!

commit dd1262ddbdacd18fefc4e567698846e01763c9de
Author: Lee Johnson &lt;lee@givengain.ch&gt;
Date:   Fri Jun 6 13:21:14 2014 +0200

    resolve #111 [rt.cpan.org #82364] - carp timestamp

    in CGI::Carp can switched off by use of the import noTimestamp or
    by setting the package variable $CGI::Carp::NO_TIMESTAMP to 1. the
    alternative solutions to doing this, monkey patching the methods,
    are simple to do; but i am taking the path of least resistance in
    following the current conventions of these modules by adding the
    import switch / package variable

    update t/carp.t to test for the timestamp switch both by the use
    of the package variable and import option, along with perldoc in
    the CGI::Carp module to document the feature.

    tidy up some of the perldoc in CGI::Carp and remove the CHANGE LOG
    as these are in the Changes file so there is no point duplicating
    this information

    thanks to EDAVIS@cpan.org for the patch
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;06&nbsp;07:30:46&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
