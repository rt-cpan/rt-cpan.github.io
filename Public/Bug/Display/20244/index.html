<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #20244 for Python-Serialise-Pickle: Cannot Handle Mailman Data File config.pck</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #20244 for Python-Serialise-Pickle: Cannot Handle Mailman Data File config.pck</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Python-Serialise-Pickle/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Python-Serialise-Pickle/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Python-Serialise-Pickle/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Python-Serialise-Pickle/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Python-Serialise-Pickle">Python-Serialise-Pickle CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">20244</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Python-Serialise-Pickle/Active/">Python-Serialise-Pickle</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
imacat [...] mail.imacat.idv.tw

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-27402-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.01    </td>
  </tr>
  <tr id="CF-27403-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;02&nbsp;14:23:54&nbsp;2006</span>
    <span class="description">imacat [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Cannot Handle Mailman Data File config.pck</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">===================
    Hi.  This is imacat from Taiwan.  I tried to read Mailman database
with Python::Serialise::Pickle tonight, and found an error.  This is
what I got:

imacat@rinse /tmp % cat /tmp/test.pl
#! /usr/bin/perl -w

use Python::Serialise::Pickle;
use Data::Dumper;

my &#40;$pr, $data&#41;;
$pr =
Python::Serialise::Pickle-&gt;new&#40;&#34;/var/lib/mailman/lists/mailman/config.pck&#34;&#41;;
while &#40;$data = $pr-&gt;load&#41; {
    print Data::Dumper-&gt;Dump&#40;[$data], [qw&#40;$data&#41;]&#41;;
}
$pr-&gt;close;

__END__
imacat@rinse /tmp % /tmp/test.pl
LOAD
C=}
We have no handler to deal with &#39;}&#39;
imacat@rinse /tmp %

It seems that Python::Serialise::Pickle cannot handle a certain data
type.  Could this be fixed?  Thank you.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;03&nbsp;06:49:22&nbsp;2006</span>
    <span class="description">simon [...] thegestalt.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #20244] Cannot Handle Mailman Data File config.pck</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 3 Jul 2006 11:48:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> via RT &lt;bug-Python-Serialise-Pickle [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Simon Wistow &lt;simon [...] thegestalt.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jul 02, 2006 at 02:23:54PM -0400,  via RT said:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     Hi.  This is imacat from Taiwan.  I tried to read Mailman database
&gt; with Python::Serialise::Pickle tonight, and found an error.  This is
&gt; what I got:
</div>
The Python pickle format has changed and I haven&#39;t had time to sit down 
and parse the new format. 

A work around might be to use Python to dump out a YAML file and then 
use Perl to read that back in.

Apologies,

Simon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;03&nbsp;06:49:25&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;03&nbsp;07:04:56&nbsp;2006</span>
    <span class="description">imacat [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> imacat [...] mail.imacat.idv.tw</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2006-07-03 06:49:22 星期一, simon@thegestalt.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, Jul 02, 2006 at 02:23:54PM -0400,  via RT said:
<div class="message-stanza open">&gt; &gt;     Hi.  This is imacat from Taiwan.  I tried to read Mailman database
&gt; &gt; with Python::Serialise::Pickle tonight, and found an error.  This is
&gt; &gt; what I got:
</div>&gt; The Python pickle format has changed and I haven&#39;t had time to sit down 
&gt; and parse the new format. 
&gt; A work around might be to use Python to dump out a YAML file and then 
&gt; use Perl to read that back in.
</div>
    Well... If I can do that, I would code my application in pure Python
and need no Python::Serialise::Pickle at all. ^^;

    Thank you for this anyway.  Currently I&#39;m wrapping the output of
mailman scripts.  It&#39;s quite stupid and inefficient.  I&#39;m waiting for
your new Python::Serialise::Pickle.  Please tell me if there is anything
I can help.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;05&nbsp;13:36:08&nbsp;2008</span>
    <span class="description">hjp [...] hjp.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> hjp [...] hjp.at</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 03 06:49:22 2006, simon@thegestalt.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, Jul 02, 2006 at 02:23:54PM -0400,  via RT said:
<div class="message-stanza open">&gt; &gt;     Hi.  This is imacat from Taiwan.  I tried to read Mailman database
&gt; &gt; with Python::Serialise::Pickle tonight, and found an error.  This is
&gt; &gt; what I got:
</div>&gt; 
&gt; The Python pickle format has changed and I haven&#39;t had time to sit down 
&gt; and parse the new format. 
</div>
I ran into the same problem this week and implemented enough of protocol
version 1 to be able to parse the Mailman config files I have. It&#39;s
still not even a complete implementation of version 1 &#40;not to mention
version 2&#41;, it&#39;s quite buggy, undocumented and missing test cases. But
if you are interested I&#39;ll clean it up and send you the patches.

        hp
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;06&nbsp;22:49:05&nbsp;2008</span>
    <span class="description">hjp [...] hjp.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> hjp [...] hjp.at</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jan 05 13:36:08 2008, hjp@hjp.at wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I ran into the same problem this week and implemented enough of protocol
&gt; version 1 to be able to parse the Mailman config files I have. It&#39;s
&gt; still not even a complete implementation of version 1 &#40;not to mention
&gt; version 2&#41;, it&#39;s quite buggy, undocumented and missing test cases. But
&gt; if you are interested I&#39;ll clean it up and send you the patches.
</div>
Well, I added tests for all the new opcodes, and fixed some of the old
ones. There may still be some bugs, but the tests all pass now and they
cover all source lines, so I guess it&#39;s clean enough now.

I am attaching the complete distribution because the patch would be larger. 
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;26&nbsp;01:33:54&nbsp;2008</span>
    <span class="description">imacat [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> imacat [...] mail.imacat.idv.tw</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jan 06 22:49:05 2008, hjp@hjp.at wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Well, I added tests for all the new opcodes, and fixed some of the old
&gt; ones. There may still be some bugs, but the tests all pass now and they
&gt; cover all source lines, so I guess it&#39;s clean enough now.
</div>
Dear Peter,

    Hi.  This is imacat from Taiwan.  Sorry for the reply late.  Well,
your test suites fails.

     1. That t/tmp is read-only after untarring the source.  I did a
&#34;chmod +w t/tmp&#34; and things work.  Module::Build changes every source
file to read-only before &#34;./Build dist&#34;.  You can either use
ExtUtils::MakeMaker instead, or use another file name for your purpose.

        I would suggest you to untar your &#34;./Build dist&#34; source and test
again before release.  Several unexpected things happens during
&#34;./Build dist&#34;, in my experience.

     2. That float comparison fails at t/09binnumbers.t.  The failure is
attached below:

imacat@cotton tmp/Python-Serialise-Pickle-0.02 % perl -Iblib/lib
t/09binnumbers.t
1..7
ok 1 - use Python::Serialise::Pickle;
ok 2
LOAD
ok 3 - binint1
LOAD
ok 4 - binint2
LOAD
ok 5 - binint &#40;positive&#41;
LOAD
ok 6 - binint &#40;negative&#41;
LOAD
not ok 7 - binfloat
#   Failed test &#39;binfloat&#39;
#   at t/09binnumbers.t line 15.
#          got: &#39;3.14000000000000012&#39;
#     expected: &#39;3.14&#39;
# Looks like you failed 1 test of 7.
imacat@cotton tmp/Python-Serialise-Pickle-0.02 %

    I suppose this fails on x86_64 and &#34;i386 compiled with uselongdouble&#34;. 
I do not remember how others solve this, but I suppose you can use:

is&#40;sprintf&#40;&#34;%f&#34;, $ps-&gt;load&#41; + 0, 3.14, &#34;binfloat&#34;&#41;;

    instead of

is&#40;$ps-&gt;load, 3.14, &#34;binfloat&#34;&#41;;

    I suppose there must be wiser solution than this somewhere else.

    Please tell me if you need any more information, or if I could be of
any help.  Thank you.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;30&nbsp;05:31:59&nbsp;2008</span>
    <span class="description">hjp [...] hjp.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> hjp [...] hjp.at</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 26 01:33:54 2008, IMACAT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Jan 06 22:49:05 2008, hjp@hjp.at wrote:
<div class="message-stanza open">&gt; &gt; Well, I added tests for all the new opcodes, and fixed some of the old
&gt; &gt; ones. There may still be some bugs, but the tests all pass now and they
&gt; &gt; cover all source lines, so I guess it&#39;s clean enough now.
</div>&gt; 
&gt;     Hi.  This is imacat from Taiwan.  Sorry for the reply late.
</div>
No problem. I&#39;m late, too &#40;somehow I expected rt to send me mail if the
ticket changes, but apparently it doesn&#39;t&#41; and the Simon is late, too
;-&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Well, your test suites fails.
&gt; 
&gt;      1. That t/tmp is read-only after untarring the source.
</div>
It shouldn&#39;t be in source. Apparently I added it to the MANIFEST by
mistake. &#40;And the tests which create it should probably remove it when
they are finished&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;         I would suggest you to untar your &#34;./Build dist&#34; source and test
&gt; again before release.
</div>
Good advice. I&#39;ll keep it in mind.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;      2. That float comparison fails at t/09binnumbers.t.  The failure is
&gt; attached below:
&gt; 
&gt; imacat@cotton tmp/Python-Serialise-Pickle-0.02 % perl -Iblib/lib
&gt; t/09binnumbers.t
&gt; 1..7
&gt; ok 1 - use Python::Serialise::Pickle;
&gt; ok 2
&gt; LOAD
&gt; ok 3 - binint1
&gt; LOAD
&gt; ok 4 - binint2
&gt; LOAD
&gt; ok 5 - binint &#40;positive&#41;
&gt; LOAD
&gt; ok 6 - binint &#40;negative&#41;
&gt; LOAD
&gt; not ok 7 - binfloat
&gt; #   Failed test &#39;binfloat&#39;
&gt; #   at t/09binnumbers.t line 15.
&gt; #          got: &#39;3.14000000000000012&#39;
&gt; #     expected: &#39;3.14&#39;
&gt; # Looks like you failed 1 test of 7.
&gt; imacat@cotton tmp/Python-Serialise-Pickle-0.02 %
&gt; 
&gt;     I suppose this fails on x86_64 and &#34;i386 compiled with
</div>uselongdouble&#34;. 

Yes, that&#39;s expected. The test was designed to check if the result is
exact with 64 bit doubles. It cannot work with longer &#40;or shorter&#41;
doubles. It could be skipped for other sizes, but there is a better way
...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I do not remember how others solve this, but I suppose you can use:
&gt; 
&gt; is&#40;sprintf&#40;&#34;%f&#34;, $ps-&gt;load&#41; + 0, 3.14, &#34;binfloat&#34;&#41;;
</div>
Nope, that doesn&#39;t check if the result is exactly what it should be.
A better test would be

is&#40;$ps-&gt;load, 3.140000000000000124344978758017532527446746826171875,
&#34;binfloat&#34;&#41;;

that should work with all possible floating point representations.

        hp
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;13&nbsp;01:50:17&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I would very much like to see 0.02 &#40;or later&#41; officially released.
Reading works for me, but I&#39;m not too keen on playing with writing
until it&#39;s official.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
