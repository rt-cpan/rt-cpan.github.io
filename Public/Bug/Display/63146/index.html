<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #63146 for Convert-ASN1: Problems with Convert::ASN1</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #63146 for Convert-ASN1: Problems with Convert::ASN1</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Convert-ASN1">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Convert-ASN1">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Convert-ASN1">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Convert-ASN1">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/gbarr/perl-Convert-ASN1/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Convert-ASN1">Convert-ASN1 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">63146</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Convert-ASN1">Convert-ASN1</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
guenther.degenfelder [...] datev.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-7912-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-7913-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




smime.p7s<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/857376/443763/smime.p7s">
Fri Nov 19 09:39:24 2010 (1.6k) by guenther.degenfelder [...] datev.de
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/857275/443705/smime.p7s">
Fri Nov 19 06:13:46 2010 (1.6k) by guenther.degenfelder [...] datev.de
</a>
</font></li>
</ul>


vCard.vcf<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/857376/443762/vCard.vcf">
Fri Nov 19 09:39:24 2010 (2.2k) by guenther.degenfelder [...] datev.de
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/857275/443704/vCard.vcf">
Fri Nov 19 06:13:46 2010 (2.2k) by guenther.degenfelder [...] datev.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=63146">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857275" href="/Public/Bug/Display.html?id=63146#txn-857275">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;06:13:46&nbsp;2010</span>
    <span class="description">guenther.degenfelder [...] datev.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problems with Convert::ASN1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Nov 2010 12:13:32 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Convert-ASN1 [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Guenther Degenfelder - DATEV eG &#34; &lt;postdienste [...] datev.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/857275/443703/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/443703">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello!

I have weird problems with Convert::ASN1 and can not find any advice on the Internet.

Many names for elements are causing decode errors. For example
        TransferMessage ::= SEQUENCE {
                CHOICE {
                        putrequest      Putrequest
                }
        }
works, but &#39; Transfermessage&#39; &#40;lower case &#39;m&#39;&#41; works not. Also &#39;PutRequest&#39; &#40;upper case &#39;R&#39;&#41; works not. The &#39;encode&#39; method returns in both cases
        decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
Even &#39;LDAPMessage&#39;, as in the example &#39;ldap&#39; comming with the ASN1 package, works not!

I also can not have more than 5 elements in this &#39;CHOICE&#39;. Otherwise I get also:
        decode error 30&lt;=&gt;66 0 8  at .../Convert/ASN1/_decode.pm line 106.
And it is not possible to have more than one &#39;*Message&#39; sequence!

I am using Convert::ASN1 version 0.22 and tried this with Perl V 5.10.0 on openSUSE 11.1 and Windows XP Service Pack 3.

Below is a little example of code for trying the behaviour.

Hoping for your help!

Kind regards

Guenther Degenfelder

DATEV eG

Internet-Dienste | P532

Telefon +49&#40;911&#41;319-1539 | Telefax +49&#40;911&#41;14701707
E-Mail guenther.degenfelder@datev.de | www.datev.de
Paumgartnerstr. 6 - 14 | 90329 Nuernberg

-------------------------------------------------------------------------------------------------------------------------------

#!/usr/bin/perl

use strict;
use warnings;
use Convert::ASN1;
use Convert::ASN1::Debug&#40;&#39;asn_dump&#39;,&#39;asn_hexdump&#39;&#41;;

my $desc = &lt;&lt;&#39;ESQ&#39;;
        -- TransferMessage works, ControlMessage not:
        --      decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
        -- Controlmessage works, Transfermessage not, LDAPMessage not
        Transfermessage ::= SEQUENCE {
                id      INTEGER,
                CHOICE {
                        putrequest      Putrequest
                }
        }
        -- Putrequest works, PutRequest not:
        --      decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
        -- PutrEquest works, PutreQuest not
        Putrequest ::= [APPLICATION 1] SEQUENCE {
                filename        OCTET STRING
        }
ESQ

print &#34;ASN1 VERSION&#40;&#34;,$Convert::ASN1::VERSION,&#34;&#41;\n&#34;;

my $asn=Convert::ASN1-&gt;new;
if&#40;!$asn-&gt;prepare&#40;$desc&#41;&#41; {
        die&#40;$asn-&gt;error&#41;;
}

my $macro=$asn-&gt;find&#40;&#39;Transfermessage&#39;&#41;;
if&#40;!defined&#40;$macro&#41;&#41; {
        die&#40;$asn-&gt;error&#41;;
}

my $pdu=$macro-&gt;encode&#40;
        &#39;id&#39;=&gt;47,
        &#39;putrequest&#39;=&gt;{
                &#39;filename&#39;=&gt;&#39;filenameputrequest&#39;
        }
&#41;;

Convert::ASN1::asn_dump&#40;$pdu&#41;;

my $pduvals=$asn-&gt;decode&#40;$pdu&#41;;
if&#40;!$pduvals&#41; {
        die&#40;$asn-&gt;error&#41;;
}

print &#34;putrequest id&#40;&#34;,$pduvals-&gt;{&#39;id&#39;},&#34;&#41; filename&#40;&#34;,$pduvals-&gt;{&#39;putrequest&#39;}-&gt;{&#39;filename&#39;},&#34;&#41;\n&#34;;

------------------------------------

Diese E-Mail wurde mit einem Zertifikat der DATEV eG signiert. Damit kÃ¶nnen Sie sicher sein, dass die Nachricht so von uns gesendet wurde. Wenn Sie eine Meldung erhalten, dass die Signatur ungÃ¼ltig ist oder nicht geprÃ¼ft werden kann, fehlt das Zertifikat zu dieser Signatur auf Ihrem Rechner. Informationen zu Zertifikaten und zur digitalen Signatur finden Sie unter www.datev.de/zertifikate im Internet.




DATEV eG
90329 NÃ¼rnberg | Telefon +49&#40;911&#41;319-0 | Telefax +49&#40;911&#41;319-3196
E-Mail info@datev.de | Internet www.datev.de
Sitz: 90429 NÃ¼rnberg, Paumgartnerstr. 6-14 | Registergericht NÃ¼rnberg, GenReg Nr.70

Vorstand
Prof. Dieter Kempf &#40;Vorsitzender&#41;
Dipl.-Kfm. Wolfgang Stegmann &#40;stellvertretender Vorsitzender&#41;
Dipl.-Kfm. Michael Leistenschneider
JÃ¶rg Rabe v. Pappenheim
Dipl.-Vw. Eckhard Schwarzer
Vorsitzender des Aufsichtsrates: Reinhard Verholen
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/857275/443704/vCard.vcf">Download vCard.vcf</a><br />
<span class="downloadcontenttype">text/x-vcard 2.2k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/857275/443705/smime.p7s">Download smime.p7s</a><br />
<span class="downloadcontenttype">application/x-pkcs7-signature 1.6k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857320" href="/Public/Bug/Display.html?id=63146#txn-857320">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;08:11:38&nbsp;2010</span>
    <span class="description">GBARR [...] CPAN.ORG -  Status changed from &#39;new&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857376" href="/Public/Bug/Display.html?id=63146#txn-857376">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;09:39:23&nbsp;2010</span>
    <span class="description">guenther.degenfelder [...] datev.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #63146] AutoReply: Problems with Convert::ASN1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Nov 2010 15:39:12 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Convert-ASN1 [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Guenther Degenfelder - DATEV eG &#34; &lt;postdienste [...] datev.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/857376/443761/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/443761">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello!

Graham said:
        my $pduvals= *** $macro ***-&gt;decode&#40;$pdu&#41;;
not
        my $pduvals= *** $asn ***-&gt;decode&#40;$pdu&#41;;

That was easy! All problems disappeared!

Kind regards

Guenther Degenfelder

DATEV eG

Internet-Dienste | P532

Telefon +49&#40;911&#41;319-1539 | Telefax +49&#40;911&#41;14701707
E-Mail guenther.degenfelder@datev.de | www.datev.de
Paumgartnerstr. 6 - 14 | 90329 Nuernberg


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----UrsprÃ¼ngliche Nachricht-----
Von:  &#34;Bugs in Convert-ASN1 via RT&#34; &lt;bug-Convert-ASN1@rt.cpan.org&gt;
Gesendet: Fr 19.11.2010 12:39
An: &#34;guenther.degenfelder@datev.de&#34; &lt;guenther.degenfelder@datev.de&gt;
Cc:  
Betreff: [rt.cpan.org #63146] AutoReply: Problems with Convert::ASN1


Greetings,

This message has been automatically generated in response to the
creation of a trouble ticket regarding:
        &#34;Problems with Convert::ASN1&#34;, 
a summary of which appears below.

There is no need to reply to this message right now.  Your ticket has been
assigned an ID of [rt.cpan.org #63146].  Your ticket is accessible
on the web at:

    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63146">https://rt.cpan.org/Ticket/Display.html?id=63146</a></span>

Please include the string:

         [rt.cpan.org #63146]

in the subject line of all future correspondence about this issue. To do so, 
you may reply to this message.

                        Thank you,
                        bug-Convert-ASN1@rt.cpan.org

-------------------------------------------------------------------------
Hello!

I have weird problems with Convert::ASN1 and can not find any advice on the Internet.

Many names for elements are causing decode errors. For example
        TransferMessage ::= SEQUENCE {
                CHOICE {
                        putrequest      Putrequest
                }
        }
works, but &#39; Transfermessage&#39; &#40;lower case &#39;m&#39;&#41; works not. Also &#39;PutRequest&#39; &#40;upper case &#39;R&#39;&#41; works not. The &#39;encode&#39; method returns in both cases
        decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
Even &#39;LDAPMessage&#39;, as in the example &#39;ldap&#39; comming with the ASN1 package, works not!

I also can not have more than 5 elements in this &#39;CHOICE&#39;. Otherwise I get also:
        decode error 30&lt;=&gt;66 0 8  at .../Convert/ASN1/_decode.pm line 106.
And it is not possible to have more than one &#39;*Message&#39; sequence!

I am using Convert::ASN1 version 0.22 and tried this with Perl V 5.10.0 on openSUSE 11.1 and Windows XP Service Pack 3.

Below is a little example of code for trying the behaviour.

Hoping for your help!

Kind regards

Guenther Degenfelder

DATEV eG

Internet-Dienste | P532

Telefon +49&#40;911&#41;319-1539 | Telefax +49&#40;911&#41;14701707
E-Mail guenther.degenfelder@datev.de | www.datev.de
Paumgartnerstr. 6 - 14 | 90329 Nuernberg

-------------------------------------------------------------------------------------------------------------------------------

#!/usr/bin/perl

use strict;
use warnings;
use Convert::ASN1;
use Convert::ASN1::Debug&#40;&#39;asn_dump&#39;,&#39;asn_hexdump&#39;&#41;;

my $desc = &lt;&lt;&#39;ESQ&#39;;
        -- TransferMessage works, ControlMessage not:
        --      decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
        -- Controlmessage works, Transfermessage not, LDAPMessage not
        Transfermessage ::= SEQUENCE {
                id      INTEGER,
                CHOICE {
                        putrequest      Putrequest
                }
        }
        -- Putrequest works, PutRequest not:
        --      decode error 30&lt;=&gt;61 0 8  at .../Convert/ASN1/_decode.pm line 106.
        -- PutrEquest works, PutreQuest not
        Putrequest ::= [APPLICATION 1] SEQUENCE {
                filename        OCTET STRING
        }
ESQ

print &#34;ASN1 VERSION&#40;&#34;,$Convert::ASN1::VERSION,&#34;&#41;\n&#34;;

my $asn=Convert::ASN1-&gt;new;
if&#40;!$asn-&gt;prepare&#40;$desc&#41;&#41; {
        die&#40;$asn-&gt;error&#41;;
}

my $macro=$asn-&gt;find&#40;&#39;Transfermessage&#39;&#41;;
if&#40;!defined&#40;$macro&#41;&#41; {
        die&#40;$asn-&gt;error&#41;;
}

my $pdu=$macro-&gt;encode&#40;
        &#39;id&#39;=&gt;47,
        &#39;putrequest&#39;=&gt;{
                &#39;filename&#39;=&gt;&#39;filenameputrequest&#39;
        }
&#41;;

Convert::ASN1::asn_dump&#40;$pdu&#41;;

my $pduvals=$asn-&gt;decode&#40;$pdu&#41;;
if&#40;!$pduvals&#41; {
        die&#40;$asn-&gt;error&#41;;
}

print &#34;putrequest id&#40;&#34;,$pduvals-&gt;{&#39;id&#39;},&#34;&#41; filename&#40;&#34;,$pduvals-&gt;{&#39;putrequest&#39;}-&gt;{&#39;filename&#39;},&#34;&#41;\n&#34;;

------------------------------------

Diese E-Mail wurde mit einem Zertifikat der DATEV eG signiert. Damit kÃ¶nnen Sie sicher sein, dass die Nachricht so von uns gesendet wurde. Wenn Sie eine Meldung erhalten, dass die Signatur ungÃ¼ltig ist oder nicht geprÃ¼ft werden kann, fehlt das Zertifikat zu dieser Signatur auf Ihrem Rechner. Informationen zu Zertifikaten und zur digitalen Signatur finden Sie unter www.datev.de/zertifikate im Internet.




DATEV eG
90329 NÃ¼rnberg | Telefon +49&#40;911&#41;319-0 | Telefax +49&#40;911&#41;319-3196
E-Mail info@datev.de | Internet www.datev.de
Sitz: 90429 NÃ¼rnberg, Paumgartnerstr. 6-14 | Registergericht NÃ¼rnberg, GenReg Nr.70

Vorstand
Prof. Dieter Kempf &#40;Vorsitzender&#41;
Dipl.-Kfm. Wolfgang Stegmann &#40;stellvertretender Vorsitzender&#41;
Dipl.-Kfm. Michael Leistenschneider
JÃ¶rg Rabe v. Pappenheim
Dipl.-Vw. Eckhard Schwarzer
Vorsitzender des Aufsichtsrates: Reinhard Verholen

------------------------------------

Diese E-Mail wurde mit einem Zertifikat der DATEV eG signiert. Damit kÃ¶nnen Sie sicher sein, dass die Nachricht so von uns gesendet wurde. Wenn Sie eine Meldung erhalten, dass die Signatur ungÃ¼ltig ist oder nicht geprÃ¼ft werden kann, fehlt das Zertifikat zu dieser Signatur auf Ihrem Rechner. Informationen zu Zertifikaten und zur digitalen Signatur finden Sie unter www.datev.de/zertifikate im Internet.




DATEV eG
90329 NÃ¼rnberg | Telefon +49&#40;911&#41;319-0 | Telefax +49&#40;911&#41;319-3196
E-Mail info@datev.de | Internet www.datev.de
Sitz: 90429 NÃ¼rnberg, Paumgartnerstr. 6-14 | Registergericht NÃ¼rnberg, GenReg Nr.70

Vorstand
Prof. Dieter Kempf &#40;Vorsitzender&#41;
Dipl.-Kfm. Wolfgang Stegmann &#40;stellvertretender Vorsitzender&#41;
Dipl.-Kfm. Michael Leistenschneider
JÃ¶rg Rabe v. Pappenheim
Dipl.-Vw. Eckhard Schwarzer
Vorsitzender des Aufsichtsrates: Reinhard Verholen
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/857376/443762/vCard.vcf">Download vCard.vcf</a><br />
<span class="downloadcontenttype">text/x-vcard 2.2k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/857376/443763/smime.p7s">Download smime.p7s</a><br />
<span class="downloadcontenttype">application/x-pkcs7-signature 1.6k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857378" href="/Public/Bug/Display.html?id=63146#txn-857378">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;09:39:24&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857379" href="/Public/Bug/Display.html?id=63146#txn-857379">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;09:44:03&nbsp;2010</span>
    <span class="description">GBARR [...] CPAN.ORG -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.438739</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
