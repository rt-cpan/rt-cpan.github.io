<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #73406 for Mojolicious-Plugin-CSRFProtect: Not all AJAX requests should be protected</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #73406 for Mojolicious-Plugin-CSRFProtect: Not all AJAX requests should be protected</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Mojolicious-Plugin-CSRFProtect">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Mojolicious-Plugin-CSRFProtect">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Mojolicious-Plugin-CSRFProtect">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Mojolicious-Plugin-CSRFProtect">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mojolicious-Plugin-CSRFProtect">Mojolicious-Plugin-CSRFProtect CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">73406</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Mojolicious-Plugin-CSRFProtect">Mojolicious-Plugin-CSRFProtect</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nikita.dedik [...] bulyon.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-240926-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-240927-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=73406">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1013727" href="/Public/Bug/Display.html?id=73406#txn-1013727">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;21&nbsp;03:50:42&nbsp;2011</span>
    <span class="description">nikita.dedik [...] bulyon.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Not all AJAX requests should be protected</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1013727/528529/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528529">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 266b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Protection should be enabled only for AJAX requests which used 
jquery_ajax_csrf_protection helper. Currently the protection is enabled 
for all AJAX requests, even when it&#39;s not needed. Example: infinite 
scrolling &#40;which is an AJAX but doesn&#39;t require protection&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014195" href="/Public/Bug/Display.html?id=73406#txn-1014195">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;13:00:27&nbsp;2011</span>
    <span class="description">KOORCHIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014195/528800/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528800">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 847b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд Дек 21 03:50:42 2011, nikita.dedik@bulyon.com писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Protection should be enabled only for AJAX requests which used 
&gt; jquery_ajax_csrf_protection helper. 
</div>You should use this helper in your template. It will add javascript 
which registers callback which adds protection when &#34;ajaxSend&#34; event 
occurs. So, &#34;jquery_ajax_csrf_protection&#34; helper is called only by 
action which renders html page. 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Currently the protection is enabled 
&gt; for all AJAX requests, even when it&#39;s not needed. Example: infinite 
&gt; scrolling &#40;which is an AJAX but doesn&#39;t require protection&#41;.
</div>I cannot distinguish between events which require protection and events 
which do not require protection. If you use JQuery for sending ajax then 
everything will be ok. For example, &#34;infinite scrolling&#34; in jqGrid works 
just fine.

jquery_ajax_csrf_protection 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014197" href="/Public/Bug/Display.html?id=73406#txn-1014197">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;13:00:28&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014458" href="/Public/Bug/Display.html?id=73406#txn-1014458">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;01:54:46&nbsp;2011</span>
    <span class="description">nikita.dedik [...] bulyon.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> nikita.dedik [...] bulyon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014458/528921/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528921">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">You misunderstood.

In the current implementation all requests with X-Requested-With header 
are checked for CSRF token, whether or not it&#39;s really needed. It&#39;s 
better to only check requests from pages which used 
jquery_ajax_csrf_protection helper for rendering. Session can be used 
to store when the helper is called, somehow.

Чтв Дек 22 13:00:27 2011, KOORCHIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Срд Дек 21 03:50:42 2011, nikita.dedik@bulyon.com писал:
<div class="message-stanza open">&gt; &gt; Protection should be enabled only for AJAX requests which used 
&gt; &gt; jquery_ajax_csrf_protection helper. 
</div>&gt; You should use this helper in your template. It will add javascript 
&gt; which registers callback which adds protection when &#34;ajaxSend&#34; event 
&gt; occurs. So, &#34;jquery_ajax_csrf_protection&#34; helper is called only by 
&gt; action which renders html page. 
&gt; 
<div class="message-stanza open">&gt; &gt;Currently the protection is enabled 
&gt; &gt; for all AJAX requests, even when it&#39;s not needed. Example: infinite 
&gt; &gt; scrolling &#40;which is an AJAX but doesn&#39;t require protection&#41;.
</div>&gt; I cannot distinguish between events which require protection and 
</div>events 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; which do not require protection. If you use JQuery for sending ajax 
</div>then 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; everything will be ok. For example, &#34;infinite scrolling&#34; in jqGrid 
</div>works 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; just fine.
&gt; 
&gt; jquery_ajax_csrf_protection 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014470" href="/Public/Bug/Display.html?id=73406#txn-1014470">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:26:19&nbsp;2011</span>
    <span class="description">KOORCHIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014470/528933/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528933">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 559b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Дек 23 01:54:46 2011, nikita.dedik@bulyon.com писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You misunderstood.
&gt; 
&gt; In the current implementation all requests with X-Requested-With header 
&gt; are checked for CSRF token, whether or not it&#39;s really needed. It&#39;s 
&gt; better to only check requests from pages which used 
&gt; jquery_ajax_csrf_protection helper for rendering. Session can be used 
&gt; to store when the helper is called, somehow.
</div>
How can I know that request comes from page which uses 
jquery_ajax_csrf_protection? You can send request from that page 
absolutly to any route.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014472" href="/Public/Bug/Display.html?id=73406#txn-1014472">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:33:29&nbsp;2011</span>
    <span class="description">nikita.dedik [...] bulyon.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> nikita.dedik [...] bulyon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014472/528935/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528935">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 708b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Maybe a way to configure the plugin&#39;s behavior per route, somehow?

Птн Дек 23 03:26:19 2011, KOORCHIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Птн Дек 23 01:54:46 2011, nikita.dedik@bulyon.com писал:
<div class="message-stanza open">&gt; &gt; You misunderstood.
&gt; &gt; 
&gt; &gt; In the current implementation all requests with X-Requested-With 
</div></div>header 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; are checked for CSRF token, whether or not it&#39;s really needed. It&#39;s 
&gt; &gt; better to only check requests from pages which used 
&gt; &gt; jquery_ajax_csrf_protection helper for rendering. Session can be 
</div></div>used 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; to store when the helper is called, somehow.
</div>&gt; 
&gt; How can I know that request comes from page which uses 
&gt; jquery_ajax_csrf_protection? You can send request from that page 
&gt; absolutly to any route.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014474" href="/Public/Bug/Display.html?id=73406#txn-1014474">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:43:58&nbsp;2011</span>
    <span class="description">KOORCHIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014474/528937/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528937">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 670b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Дек 23 03:33:29 2011, nikita.dedik@bulyon.com писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Maybe a way to configure the plugin&#39;s behavior per route, somehow?
</div>
No it is impossible to define which action will be called in 
&#34;after_static_dispatch&#34; hook.

I thought about this from very beginning - 
<span class="clickylink"><a target="new" rel="nofollow" href="http://groups.google.com/group/mojolicious/browse_thread/thread/5222d4e8">http://groups.google.com/group/mojolicious/browse_thread/thread/5222d4e8</a></span>
881541c5/cfe81192d7dadc72?lnk=gst&#38;q=koorchik#cfe81192d7dadc72

Also, I asked Sebastian for this feature 
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kraih/mojo/issues/253">https://github.com/kraih/mojo/issues/253</a></span>

I will disable CSRF protection for AJAX GET requests. It does not make  
sense to protect AJAX GET because it does not increase security at all.
So, your issue will be fixed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014476" href="/Public/Bug/Display.html?id=73406#txn-1014476">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:52:03&nbsp;2011</span>
    <span class="description">nikita.dedik [...] bulyon.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> nikita.dedik [...] bulyon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014476/528939/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528939">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 835b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Good decision &#41;. Thanks!

If you decide to move to Moscow, let me know &#41;.

Птн Дек 23 03:43:58 2011, KOORCHIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Птн Дек 23 03:33:29 2011, nikita.dedik@bulyon.com писал:
<div class="message-stanza open">&gt; &gt; Maybe a way to configure the plugin&#39;s behavior per route, somehow?
</div>&gt; 
&gt; No it is impossible to define which action will be called in 
&gt; &#34;after_static_dispatch&#34; hook.
&gt; 
&gt; I thought about this from very beginning - 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://groups.google.com/group/mojolicious/browse_thread/">http://groups.google.com/group/mojolicious/browse_thread/</a></span>
</div>thread/5222d4e8
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 881541c5/cfe81192d7dadc72?lnk=gst&#38;q=koorchik#cfe81192d7dadc72
&gt; 
&gt; Also, I asked Sebastian for this feature 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kraih/mojo/issues/253">https://github.com/kraih/mojo/issues/253</a></span>
&gt; 
&gt; I will disable CSRF protection for AJAX GET requests. It does not 
</div>make  
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; sense to protect AJAX GET because it does not increase security at 
</div>all.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So, your issue will be fixed.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014478" href="/Public/Bug/Display.html?id=73406#txn-1014478">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:58:37&nbsp;2011</span>
    <span class="description">KOORCHIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014478/528941/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528941">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 140b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Good decision &#41;. Thanks!
</div>Have uploaded new version to CPAN. Soon will be available.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;If you decide to move to Moscow, let me know &#41;.
</div>ok :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014480" href="/Public/Bug/Display.html?id=73406#txn-1014480">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;03:58:38&nbsp;2011</span>
    <span class="description">KOORCHIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.469223</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
