<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #743 for Geo-WeatherNOAA: handling forecast areas for metropolitan area</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #743 for Geo-WeatherNOAA: handling forecast areas for metropolitan area</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Geo-WeatherNOAA/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Geo-WeatherNOAA/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Geo-WeatherNOAA/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Geo-WeatherNOAA/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Geo-WeatherNOAA">Geo-WeatherNOAA CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">743</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Geo-WeatherNOAA/Active/">Geo-WeatherNOAA</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
anna [...] water.ca.gov

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-14548-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14549-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;13&nbsp;19:50:27&nbsp;2002</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> handling forecast areas for metropolitan area</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">We were quite enthusiastic about finding your module, Geo::WeatherNOAA when we first heard about it from the Perl E-Newsletter &#40;by TechRepublic&#41;.  We have a cooperative agreement with NOAA and put many of their products on our site at CDEC &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://cdec.water.ca.gov">http://cdec.water.ca.gov</a></span>&#41;.  We thought that by using your module, we could provide another way for our users to retrieve NOAA weather data.  

Alas, as I tested your module, I became aware of its inability to handle some of our &#34;real-life&#34; situations, though your test scripts worked fine.  

We happen to operate out of California and many of the zonal products for this state split up large metropolitan areas into several forecast areas.  So for us, when we tried the following, we didn&#39;t get a forecast as expected.


$ perl -MGeo::WeatherNOAA -e &#34;print print_forecast&#40;&#39;Sacramento&#39;,&#39;CA&#39;&#41;&#34;;
Geo::WeatherNOAA.pm v.4.37
As of :
$ 


So I looked at the actual zonal forecast to use the exact phrasing for the city and tried this, but to no avail.


$ perl -MGeo::WeatherNOAA -e &#34;print print_forecast&#40;&#39;Downtown Sac&#39;,&#39;CA&#39;&#41;&#34;;
Geo::WeatherNOAA.pm v.4.37
As of :
$ 


Lastly, I tried truncating the name of the city and got a forecast, but it wasn&#39;t the right one.


$ perl -MGeo::WeatherNOAA -e &#34;print print_forecast&#40;&#39;Sac&#39;,&#39;CA&#39;&#41;&#34;;
Geo::WeatherNOAA.pm v.4.37
As of 4:00pm &#40;PDT&#41; Thu Jun 13, 2002:
WARNING: 
Tonight: Clear. Lows in the upper 50s. South wind to 10 mph. 
Friday: Sunny. Highs in the lower 90s. South wind to 10 mph. 
Friday Night: Clear. Lows in the middle 50s. Light wind. 
Saturday: Sunny. Highs in the lower 90s. South wind to 10 mph. 
Saturday Night: Clear. In the upper 50s. 
Sunday: Sunny. Highs in the lower 90s. 
Monday Through Thursday: Dry. Lows lower 60s. Highs lower 90s. = 
$ 



The correct forecast for the city of Sacramento should be the following &#40;from <span class="clickylink"><a target="new" rel="nofollow" href="http://iwin.nws.noaa.gov/iwin/ca/zone.html&#41;">http://iwin.nws.noaa.gov/iwin/ca/zone.html&#41;</a></span>.  What was retrieved above was for the cities of Redding and Red Bluff &#40;Northern Sacramento Valley&#41;.

CAZ017-141130-
        SOUTHERN SACRAMENTO VALLEY-
        INCLUDING...SACRAMENTO
        400 PM PDT THU JUN 13 2002

        .TONIGHT...CLEAR. LOWS FROM THE LOWER TO MIDDLE 50S. SOUTH WIND 10 TO
        15 MPH...DECREASING DURING THE NIGHT.
        .FRIDAY...SUNNY. HIGHS MID TO UPPER 80S. SOUTHWEST WIND 5 TO 15 MPH.
        .FRIDAY NIGHT...CLEAR. LOWS IN THE MIDDLE 50S. SOUTH WIND TO 10 MPH.
        .SATURDAY...CLEAR. HIGHS MID TO UPPER 80S. SOUTHWEST WIND TO 10 MPH.
        .SATURDAY NIGHT...CLEAR. LOWS IN THE MIDDLE 50S.
        .SUNDAY...SUNNY. HIGHS FROM THE UPPER 80S TO LOWER 90S.
        .MONDAY THROUGH THURSDAY...DRY. LOWS 50S. HIGHS MID 80S TO LOWER 90S.

        =
        $$



I was wondering if you&#39;ll be working on a bug fix.  We would really like to use your module at some point in the future.

Thanks in advance for your reply,
Anna
</div></div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
