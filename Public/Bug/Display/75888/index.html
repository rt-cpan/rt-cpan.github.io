<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75888 for Plient: CURL errors with many fast requests</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75888 for Plient: CURL errors with many fast requests</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Plient/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Plient/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Plient/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Plient/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Plient">Plient CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75888</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Plient/Active/">Plient</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cameron [...] entitycoding.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-241202-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.03    </td>
  </tr>
  <tr id="CF-241203-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;16:07:19&nbsp;2012</span>
    <span class="description">cameron [...] entitycoding.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CURL errors with many fast requests</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Using the plient module, and I really like it because I use windows and 
linux machines in the same environment and prefer to use Curl where 
available.  But I am running into an issue when I am making curl 
requests at a very fast rate.  After approximately 610 requests in a 
foreach loop, I receive an error:
sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;
sh: -c: line 1: syntax error: unexpected end of file

And it looks like there is some form of an error reading the pipe from 
the pipe open for the curl request.

However, when using LWP, this works perfectly.  I can only expect it&#39;s 
because of the number of requests and the pipe open.  What about using 
the WWW::Curl module instead of using the actual system command?

System:
Fedora 16 x86_64
Perl 5.14
Plient 0.03

Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;16:29:36&nbsp;2012</span>
    <span class="description">cameron [...] entitycoding.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cameron [...] entitycoding.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Additionally, if I set:
Plient-&gt;handler_preference&#40; &#34;http&#34;, [ &#34;HTTPTiny&#34;, &#34;HTTPLite&#34;, &#34;LWP&#34; ] &#41;;

I receive no errors.  Which is why I was led to believe that it is 
because of the pipe open in the curl and wget modules.

On Mon Mar 19 16:07:19 2012, cameronjacobs wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Using the plient module, and I really like it because I use windows 
</div>and 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; linux machines in the same environment and prefer to use Curl where 
&gt; available.  But I am running into an issue when I am making curl 
&gt; requests at a very fast rate.  After approximately 610 requests in a 
&gt; foreach loop, I receive an error:
&gt; sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;
&gt; sh: -c: line 1: syntax error: unexpected end of file
&gt; 
&gt; And it looks like there is some form of an error reading the pipe from 
&gt; the pipe open for the curl request.
&gt; 
&gt; However, when using LWP, this works perfectly.  I can only expect it&#39;s 
&gt; because of the number of requests and the pipe open.  What about using 
&gt; the WWW::Curl module instead of using the actual system command?
&gt; 
&gt; System:
&gt; Fedora 16 x86_64
&gt; Perl 5.14
&gt; Plient 0.03
&gt; 
&gt; Thanks!
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;21:15:24&nbsp;2012</span>
    <span class="description">sunnavy [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75888] CURL errors with many fast requests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Mar 2012 09:15:07 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Cameron Jacobs via RT &lt;bug-Plient [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sunnavy &lt;sunnavy [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Does this issue only happen when at a very fast rate or with some specific
urls?

sunnavy

On 12-03-19 16:07, Cameron Jacobs via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Mon Mar 19 16:07:19 2012: Request 75888 was acted upon.
&gt; Transaction: Ticket created by cameronjacobs
&gt;        Queue: Plient
&gt;      Subject: CURL errors with many fast requests
&gt;    Broken in: 0.03
&gt;     Severity: Important
&gt;        Owner: Nobody
&gt;   Requestors: cameron@entitycoding.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75888">https://rt.cpan.org/Ticket/Display.html?id=75888</a></span> &gt;
&gt; 
&gt; 
&gt; Using the plient module, and I really like it because I use windows and 
&gt; linux machines in the same environment and prefer to use Curl where 
&gt; available.  But I am running into an issue when I am making curl 
&gt; requests at a very fast rate.  After approximately 610 requests in a 
&gt; foreach loop, I receive an error:
&gt; sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;
&gt; sh: -c: line 1: syntax error: unexpected end of file
&gt; 
&gt; And it looks like there is some form of an error reading the pipe from 
&gt; the pipe open for the curl request.
&gt; 
&gt; However, when using LWP, this works perfectly.  I can only expect it&#39;s 
&gt; because of the number of requests and the pipe open.  What about using 
&gt; the WWW::Curl module instead of using the actual system command?
&gt; 
&gt; System:
&gt; Fedora 16 x86_64
&gt; Perl 5.14
&gt; Plient 0.03
&gt; 
&gt; Thanks!
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;21:15:55&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;11:29:54&nbsp;2012</span>
    <span class="description">cameron [...] entitycoding.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cameron [...] entitycoding.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Actually, it&#39;s running the exact same url, the only difference is they 
are all post requests, and the data is different for each post.  I just 
checked the data and the only difference seems to be that the record 
that it&#39;s failing on, one of the field&#39;s values contains a single quote 
&#40;&#39;&#41;.  So perhaps it&#39;s it could be a problem with them not being escaped.

On Mon Mar 19 21:15:24 2012, SUNNAVY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Does this issue only happen when at a very fast rate or with some 
</div>specific
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; urls?
&gt; 
&gt; sunnavy
&gt; 
&gt; On 12-03-19 16:07, Cameron Jacobs via RT wrote:
<div class="message-stanza open">&gt; &gt; Mon Mar 19 16:07:19 2012: Request 75888 was acted upon.
&gt; &gt; Transaction: Ticket created by cameronjacobs
&gt; &gt;        Queue: Plient
&gt; &gt;      Subject: CURL errors with many fast requests
&gt; &gt;    Broken in: 0.03
&gt; &gt;     Severity: Important
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: cameron@entitycoding.com
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75888">https://rt.cpan.org/Ticket/Display.html?id=75888</a></span> &gt;
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Using the plient module, and I really like it because I use windows 
</div></div>and 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; linux machines in the same environment and prefer to use Curl where 
&gt; &gt; available.  But I am running into an issue when I am making curl 
&gt; &gt; requests at a very fast rate.  After approximately 610 requests in a 
&gt; &gt; foreach loop, I receive an error:
&gt; &gt; sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;
&gt; &gt; sh: -c: line 1: syntax error: unexpected end of file
&gt; &gt; 
&gt; &gt; And it looks like there is some form of an error reading the pipe 
</div>from 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; the pipe open for the curl request.
&gt; &gt; 
&gt; &gt; However, when using LWP, this works perfectly.  I can only expect 
</div>it&#39;s 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; because of the number of requests and the pipe open.  What about 
</div>using 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; the WWW::Curl module instead of using the actual system command?
&gt; &gt; 
&gt; &gt; System:
&gt; &gt; Fedora 16 x86_64
&gt; &gt; Perl 5.14
&gt; &gt; Plient 0.03
&gt; &gt; 
&gt; &gt; Thanks!
&gt; &gt; 
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
