<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #58159 for Date-Manip: Ambiguous timezone &#34;EST&#34; handled differently in v5 and v6</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #58159 for Date-Manip: Ambiguous timezone &#34;EST&#34; handled differently in v5 and v6</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Date-Manip">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Date-Manip">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Date-Manip">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Date-Manip">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Date-Manip">Date-Manip CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">58159</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Date-Manip">Date-Manip</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chrisb [...] debian.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-45268-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
6.11    </td>
  </tr>
  <tr id="CF-45269-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=58159">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-786941" href="/Public/Bug/Display.html?id=58159#txn-786941">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;06:53:15&nbsp;2010</span>
    <span class="description">chrisb [...] debian.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Ambiguous timezone &#34;EST&#34; handled differently in v5 and v6</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/786941/407690/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/407690">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is related to a bug reported in Debian against the 
DateTime::Format::DateManip perl module: <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/cgi-">http://bugs.debian.org/cgi-</a></span>
bin/bugreport.cgi?bug=574317

The test suite for that module has started failing with Date::Manip v6, 
because it uses the timezone &#34;EST&#34; in the test. The new timezone code in 
version 6 treats this timezone differently from version 5. It comes down 
to the fact that there&#39;s more than one timezone with the abbreviation 
&#34;EST&#34;:

EST Eastern Summer Time     Australia       UTC + 11 hours
EST Eastern Standard Time   Australia       UTC + 10 hours
EST Eastern Standard Time   North America   UTC - 5 hours
&#40;from: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.timeanddate.com/library/abbreviations/timezones/&#41;">http://www.timeanddate.com/library/abbreviations/timezones/&#41;</a></span>

However, from the wikipedia article on Australian Eastern Standard Time:

The proper names of Australia&#39;s time zones vary. In international 
contexts they are often called Australian Western Standard Time &#40;AWST&#41;, 
Australian Central Standard Time &#40;ACST&#41;, and Australian Eastern Standard 
Time &#40;AEST&#41;. In domestic contexts the leading &#34;Australian&#34; is often 
dropped.

Version 5 used to pick the American EST, whereas version 6 picks the 
Australian version. I think that this change of behaviour is a bug. It 
certainly looks to me as if the American EST is more widely used than 
the Australian.

Perhaps Date::Manip should have some way to assign priorities to these 
ambiguous timezones? The default behaviour would then be to treat the 
abbreviation EST as the American one, with some way to adjust the 
priorities if necessary..
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-786955" href="/Public/Bug/Display.html?id=58159#txn-786955">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;07:27:52&nbsp;2010</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/786955/407702/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/407702">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">What you are reporting is not a bug in v6... it&#39;s actually a bug in v5
that is now fixed.

Date::Manip v5 treated timezone abbreviations &#40;e.g. EST&#41; as timezones,
so it treated EST the same way as the timezone America/New_York.
Clearly, this is NOT the correct behavior, and v6 finally corrects that.
V6 uses the abbreviations to determine a timezone in a way that produces
a correct date. In other words, in the America/New_York timezone, the
abbreviation on Jun 5 is EDT, so the date &#39;Jun 5 EST&#39; is NOT in the
America/New_York timezone. It is either in some other timezone &#40;if there
is a timezone that uses the EST abbreviation on Jun 5&#41; or invalid.

In this case, it falls in an Australian timezone, and that&#39;s exactly
what is happening in the &#34;bug&#34; you&#39;re reporting. The solution isn&#39;t to
change Date::Manip&#39;s behavior &#40;which is correct after many years of
being wrong&#41;... it&#39;s to rewrite the test.

With respect to your comment about the wikipedia description... all of
the timezone information in Date::Manip comes from recognized standards.
The bulk of it comes from the Olsen database which is pretty much the
definitive source of timezone information. Wikipedia is nice... but if
it doesn&#39;t match the information in the Olsen database, I&#39;m going to
have to treat wikipedia as being the incorrect one. NOTE: I have NOT
investigated the actual results of the failed test, so I&#39;m not sure
whether the information on wikipedia is incorrect, or if you&#39;re not
looking up the correct information &#40;i.e. comparing apples to oranges&#41;.

Finally, with respect to your suggestion that Date::Manip have a way to
prioritize ambiguous timezones, it does. These are documented in the
Date::Manip::TZ manual. Look at the define_abbrev, define_alias, and
define_offset methods. However, these will NOT solve the &#39;problem&#39; you
are reporting, because no prioritization will ever cause Date::Manip to
produce an invalid date. In other words, no matter what priority you
assign, &#39;Jun 5 EST&#39; is NEVER going to be in America/New_York.

I hope this clarifies things.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-786957" href="/Public/Bug/Display.html?id=58159#txn-786957">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;07:27:53&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-786958" href="/Public/Bug/Display.html?id=58159#txn-786958">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;07:27:53&nbsp;2010</span>
    <span class="description">sbeck [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-789288" href="/Public/Bug/Display.html?id=58159#txn-789288">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;10&nbsp;14:59:00&nbsp;2010</span>
    <span class="description">chrisb [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> chrisb [...] debian.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/789288/408939/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/408939">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jun 05 07:27:52 2010, SBECK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What you are reporting is not a bug in v6... it&#39;s actually a bug in v5
&gt; that is now fixed.
&gt; 
&gt; Date::Manip v5 treated timezone abbreviations &#40;e.g. EST&#41; as timezones,
&gt; so it treated EST the same way as the timezone America/New_York.
&gt; Clearly, this is NOT the correct behavior, and v6 finally corrects 
</div>that.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; V6 uses the abbreviations to determine a timezone in a way that 
</div>produces
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; a correct date. In other words, in the America/New_York timezone, the
&gt; abbreviation on Jun 5 is EDT, so the date &#39;Jun 5 EST&#39; is NOT in the
&gt; America/New_York timezone. It is either in some other timezone &#40;if 
</div>there
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; is a timezone that uses the EST abbreviation on Jun 5&#41; or invalid.
</div>
Sorry, it seems I neglected to include the date in the original report. 
Actually, the date string that we&#39;re trying to parse is &#34;March 23, 2003 
12:00 EST&#34;, which seems to be during winter time &#40;EST&#41; according to 
&#39;date&#39;:

$ TZ=&#39;America/New_York&#39; date --date &#39;2003-03-23 12:00&#39;
Sun Mar 23 12:00:00 EST 2003

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Finally, with respect to your suggestion that Date::Manip have a 
&gt; way to prioritize ambiguous timezones, it does. These are
&gt; documented in the Date::Manip::TZ manual. Look at the
&gt; define_abbrev, define_alias, and define_offset methods.
</div>
In which case, I believe that &#34;EST&#34; during winter time should pick 
America over Australia. As per the discussion on the Debian bug report, 
we believe that &#34;EST&#34; is more commonly used to describe the American 
timezone than the Australian, so where it is ambiguous, it should prefer 
the American timezone. This would give Date::Manip the best chance of 
correctly parsing an ambiguous date.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-789290" href="/Public/Bug/Display.html?id=58159#txn-789290">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;10&nbsp;14:59:00&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-789299" href="/Public/Bug/Display.html?id=58159#txn-789299">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;10&nbsp;15:38:42&nbsp;2010</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/789299/408951/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/408951">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry, it seems I neglected to include the date in the original report. 
&gt; Actually, the date string that we&#39;re trying to parse is &#34;March 23, 2003 
&gt; 12:00 EST&#34;, which seems to be during winter time &#40;EST&#41; according to 
&gt; &#39;date&#39;:
</div>
I did some more looking... previously, I hadn&#39;t actually looked at the
test script, since it&#39;s not part of Date::Manip.

It is doing:

   Date_Init&#40;&#34;TZ=EST&#34;&#41;;

instead of the much better:

   Date_Init&#40;&#34;TZ=America/New_York&#34;&#41;;

Actually, since this is deprecated, an even better call would be:

   Date_Init&#40;&#34;setdate=now,America/New_York&#34;&#41;;


Since they are specifying the timezone using the only the abbreviation,
it&#39;s using some information from the system, including the current
timezone value of isdst. Since it is currently in DST, it&#39;s ending up
using the Australian timezone.

In other words, the proper way to specify a timezone is to use an actual
timezone name/alias. EST is kind of used as a timezone alias in
Date::Manip 5.xx, but that is only because timezone support was so
broken in 5.xx.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Finally, with respect to your suggestion that Date::Manip have a 
&gt; &gt; way to prioritize ambiguous timezones, it does. These are
&gt; &gt; documented in the Date::Manip::TZ manual. Look at the
&gt; &gt; define_abbrev, define_alias, and define_offset methods.
</div>&gt; 
&gt; In which case, I believe that &#34;EST&#34; during winter time should pick 
&gt; America over Australia. As per the discussion on the Debian bug report, 
&gt; we believe that &#34;EST&#34; is more commonly used to describe the American 
&gt; timezone than the Australian, so where it is ambiguous, it should prefer 
&gt; the American timezone. This would give Date::Manip the best chance of 
&gt; correctly parsing an ambiguous date.
</div>
And it does... but this is done in the Date_Init call, NOT when the date
is parsed. So, the timezone was set before a date of &#39;March 23&#39; was used.


In any case,this is actually kind of a tricky problem since there are
now two versions of Date::Manip that are not 100% compatible, and if the
DateTime-Format-DateManip module wants their test suite to work with
either one, they&#39;re going to have to add some version-specific handling
in a few cases.

It shouldn&#39;t be hard, and I&#39;ll be happy to work with them if they are
interested.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-789301" href="/Public/Bug/Display.html?id=58159#txn-789301">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;10&nbsp;15:39:39&nbsp;2010</span>
    <span class="description">sbeck [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.450933</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
