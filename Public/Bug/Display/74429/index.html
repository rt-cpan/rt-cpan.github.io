<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #74429 for Perl-Critic: &#39;Negative array index should be used&#39; a little misleading</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #74429 for Perl-Critic: &#39;Negative array index should be used&#39; a little misleading</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Critic">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Critic">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Critic">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Critic">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/Perl-Critic/Perl-Critic/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Critic">Perl-Critic CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">74429</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Critic">Perl-Critic</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
EDAVIS [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-25198-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.116    </td>
  </tr>
  <tr id="CF-25199-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=74429">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1028299" href="/Public/Bug/Display.html?id=74429#txn-1028299">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;11:48:14&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &#39;Negative array index should be used&#39; a little misleading</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1028299/536472/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536472">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 914b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Variables::RequireNegativeIndices complains about $x[$#x-1] and suggests
using a negative array index instead.  But in fact $x[-2] does not have
quite the same semantics.  If the array has only a single element then
$x[$#x-1] will give that element, but $x[-2] is undef.

Similarly $x[@x-2] is *not* equivalent to $x[-2], as the long text for
this policy claims.

It is still true that using &#40;$#x - something&#41; in an array index is
usually bad practice, and that some kind of expression using a negative
index would be a better way to write it.  But the current short and long
messages give the impression that you can simply replace the troublesome
expression with one using a negative offset.

As a special case $x[$#x] and $x[@x-1] and $x[-1] are indeed equivalent.
The policy can suggest changing those without caveats.  If the array
index is not one of these cases then it needs to give a more nuanced
warning.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1028409" href="/Public/Bug/Display.html?id=74429#txn-1028409">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;21:50:36&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1028409/536542/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536542">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 26 11:48:14 2012, EDAVIS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Variables::RequireNegativeIndices complains about $x[$#x-1] and
&gt; suggests using a negative array index instead.  But in fact $x[-2]
&gt; does not have quite the same semantics.  If the array has only a
&gt; single element then $x[$#x-1] will give that element, but $x[-2]
&gt; is undef.
&gt; 
&gt; Similarly $x[@x-2] is *not* equivalent to $x[-2], as the long text
&gt; for this policy claims.
&gt; 
&gt; It is still true that using &#40;$#x - something&#41; in an array index is
&gt; usually bad practice, and that some kind of expression using a
&gt; negative index would be a better way to write it.  But the current
&gt; short and long messages give the impression that you can simply
&gt; replace the troublesome expression with one using a negative offset.
&gt;
&gt; As a special case $x[$#x] and $x[@x-1] and $x[-1] are indeed
&gt; equivalent. The policy can suggest changing those without caveats.
&gt; If the array index is not one of these cases then it needs to give
&gt; a more nuanced warning.
</div>
Okay, I&#39;m not Conway or any of the other Perl demiurges. But to my mind
the real reason that things like $x[@x-2] should not be used is that the
semantics change based on whether the computed index is negative, and if
I were rewriting the long explanation that&#39;s what I would focus on,
rather than the special cases where the three different constructions
actually give the same thing all the time. Something like

=pod

Perl treats a negative array subscript as an offset from the end. Given
this, the preferred way to get the last element is C&lt;$x[-1]&gt;, not
C&lt;$x[$#x]&gt; or C&lt;$x[@x-1]&gt;, and the preferred way to get the next-to-last
is C&lt;$x[-2]&gt;, not C&lt;$x[$#x-1&gt; or C&lt;$x[@x-2]&gt;.

The biggest argument against the non-preferred forms is that their
semantics change when the computed index becomes negative. If C&lt;@x&gt;
contains at least two elements, C&lt;$x[$#x-1]&gt; and C&lt;$x[@x-2]&gt; are
equivalent to $x[-2]. But if it contains a single element, C&lt;$x[$#x-1]&gt;
and C&lt;$x[@x-2]&gt; are equivalent to $x[-1]. Simply put, the preferred form
is more likely to do what you actually want.

As Conway points out, the preferred forms also perform better, are more
readable, and are easier to maintain.

This policy notices all of the simple forms of the above problem, but
does not recognize any of these more complex examples:

    $some-&gt;[$data_structure]-&gt;[$#{$some-&gt;[$data_structure]} -1];
    my $ref = \@arr;
    $ref-&gt;[$#arr];

=cut

As for the short message, it&#39;s hard to be very nuanced in just one line.
You say that the short message gives the impression that the different
forms are equivalent, but it seems to me that &#34;Negative array index
should be used&#34; is silent on whether they are exactly equivalent.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1028412" href="/Public/Bug/Display.html?id=74429#txn-1028412">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;21:50:37&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030028" href="/Public/Bug/Display.html?id=74429#txn-1030028">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;07:05:37&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030028/537265/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537265">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 117b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The long text you suggest looks good.  For the one-liner, how about

    Consider using negative array index instead
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1032481" href="/Public/Bug/Display.html?id=74429#txn-1032481">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;03&nbsp;13:30:07&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1032481/538730/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/538730">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 30 07:05:37 2012, EDAVIS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The long text you suggest looks good.  For the one-liner, how about
&gt; 
&gt;     Consider using negative array index instead
</div>
&#34;Consider&#34; is a fairly weak word. It seems to me that someone who is not
serious about implementing the recommendation of a given policy should
not run that policy. Perl::Critic is, after all, a tool, not a
straitjacket. Given that:
* This policy is being run,
* This policy&#39;s point is to promote the use of negative indices,
* This policy&#39;s name is &#34;RequireNegativeIndices&#34; &#40;not &#39;Suggest...&#41;,
* This policy&#39;s severity is &#34;high&#34;,
I feel that &#34;Negative array index should be used&#34; is a reasonable
statement of the purpose of the policy.

Do you have a real-world example that needs to be implemented by backing
off from the array size or last index rather than using a negative
index? I have come up with a couple examples, but they seem to me to be
very contrived, and to produce monumentally unclear code.

1&#41; If you iterate from -@array to $#array you iterate over the array
twice. But if you are going to iterate more than once, what stops you
from doing it three times, or more? Besides, this policy does not
actually prevent &#39;for $inx &#40; -@array .. $#array &#41; { ... }&#39;, which is the
natural way to do this.

2&#41; If you are sufficiently &#34;clever&#34;, you might be be able to get a
default applied somehow, but I have not been able to contrive an actual
example. It seems to me that the more maintainable way to do this would
be to apply the default explicitly, because that way you don&#39;t have to
worry about the index becoming -2 somehow.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1034984" href="/Public/Bug/Display.html?id=74429#txn-1034984">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;09&nbsp;11:52:16&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1034984/540208/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/540208">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 516b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, I&#39;m not that exercised about the short text for this policy.
&#40;The long text as it currently stands, however, is factually incorrect
and should be changed.&#41;

The real-world example that motivated this bug report was that when
maintaining an older program, prompted by this policy, I globally
changed $x[$#x] to $x[-1] and $x[$#x-1] to $x[-2].  That latter change
is unsound.
So the real-world example is an example of human fallibility rather than
some code which particularly enjoys the semantics of $x[$#x-1].
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1042171" href="/Public/Bug/Display.html?id=74429#txn-1042171">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;25&nbsp;01:26:07&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042171/544295/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/544295">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 790b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 09 11:52:16 2012, EDAVIS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OK, I&#39;m not that exercised about the short text for this policy.
&gt; &#40;The long text as it currently stands, however, is factually incorrect
&gt; and should be changed.&#41;
&gt; 
&gt; The real-world example that motivated this bug report was that when
&gt; maintaining an older program, prompted by this policy, I globally
&gt; changed $x[$#x] to $x[-1] and $x[$#x-1] to $x[-2].  That latter change
&gt; is unsound.
&gt; So the real-world example is an example of human fallibility rather than
&gt; some code which particularly enjoys the semantics of $x[$#x-1].
&gt; 
</div>
So someone wrote code that depended on the semantics of $x[$#x-1], and
you got burned straightening it out? Yukkk!

Jeff and Elliot - are you on board with making some change like the POD
proposed up-thread?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1042175" href="/Public/Bug/Display.html?id=74429#txn-1042175">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;25&nbsp;01:59:17&nbsp;2012</span>
    <span class="description">jeff [...] imaginative-software.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74429] &#39;Negative array index should be used&#39; a little misleading</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 24 Feb 2012 22:59:05 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Critic [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jeffrey Thalhammer &lt;jeff [...] imaginative-software.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042175/544299/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/544299">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 292b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Feb 24, 2012, at 10:26 PM, Tom Wyant via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Jeff and Elliot - are you on board with making some change like the POD
&gt; proposed up-thread?
</div>
It hurts my head just thinking about these expressions.  Ed has clearly thought about this a lot.  So I vote to do whatever he says.

-Jeff
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042175/544300/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/544300">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043550" href="/Public/Bug/Display.html?id=74429#txn-1043550">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;21:54:46&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1043550/545135/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545135">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 210b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Change to long description of policy committed as SVN revision 4120.
This change is approximately what was proposed above, with a word here
and there tweaked, and the phrase about the semantic change made bold.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043553" href="/Public/Bug/Display.html?id=74429#txn-1043553">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;21:55:08&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043554" href="/Public/Bug/Display.html?id=74429#txn-1043554">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;21:58:07&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1043554/545138/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545138">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 385b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Feb 27 21:54:46 2012, WYANT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Change to long description of policy committed as SVN revision 4120.
&gt; This change is approximately what was proposed above, with a word here
&gt; and there tweaked, and the phrase about the semantic change made bold.
</div>
PS - I reverted the MANIFEST change before committing this, in an
attempt _not_ to further entangle the whole MANIFEST issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043557" href="/Public/Bug/Display.html?id=74429#txn-1043557">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;21:58:09&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043561" href="/Public/Bug/Display.html?id=74429#txn-1043561">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;22:47:05&nbsp;2012</span>
    <span class="description">wyant [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044814" href="/Public/Bug/Display.html?id=74429#txn-1044814">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;01&nbsp;09:31:40&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044814/545834/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545834">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 27b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for working on this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044816" href="/Public/Bug/Display.html?id=74429#txn-1044816">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;01&nbsp;09:31:41&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044817" href="/Public/Bug/Display.html?id=74429#txn-1044817">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;01&nbsp;09:32:21&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044817/545836/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545836">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 124b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Argh - I asked the rt web interface to keep the status at &#39;patched&#39; but
it decided to reopen the bug when adding my comment.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044819" href="/Public/Bug/Display.html?id=74429#txn-1044819">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;01&nbsp;09:32:22&nbsp;2012</span>
    <span class="description">EDAVIS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1097810" href="/Public/Bug/Display.html?id=74429#txn-1097810">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;11&nbsp;03:32:56&nbsp;2012</span>
    <span class="description">thaljef [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1097810/577163/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/577163">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 150b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed and released in Perl-Critic-1.118.  Thanks for reporting this.

-- 
Jeffrey Thalhammer
Imaginative Software Systems
www.imaginative-software.com
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1097813" href="/Public/Bug/Display.html?id=74429#txn-1097813">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;11&nbsp;03:32:56&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1097814" href="/Public/Bug/Display.html?id=74429#txn-1097814">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;11&nbsp;03:32:57&nbsp;2012</span>
    <span class="description">thaljef [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.556622</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
