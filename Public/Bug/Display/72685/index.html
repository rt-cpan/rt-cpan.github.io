<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #72685 for Catalyst-Action-REST: Test breaks for t/data-serializer.t</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #72685 for Catalyst-Action-REST: Test breaks for t/data-serializer.t</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Catalyst-Action-REST/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Catalyst-Action-REST/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Catalyst-Action-REST/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Catalyst-Action-REST/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Catalyst-Action-REST">Catalyst-Action-REST CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">72685</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Catalyst-Action-REST/Active/">Catalyst-Action-REST</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
shantanu.bhadoria [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-41594-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.06    </td>
  </tr>
  <tr id="CF-41595-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;23&nbsp;21:45:57&nbsp;2011</span>
    <span class="description">shantanu.bhadoria [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test breaks for t/data-serializer.t</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">administrator@administrator-G41M-ES2L:~/Downloads/Catalyst-Action-REST-0.93$
prove -l t/data-serializer.t 
t/data-serializer.t .. 1/? 
#   Failed test &#39;POST text/x-data-taxi succeeded&#39;
#   at t/data-serializer.t line 53.

#   Failed test &#39;POST text/x-data-taxi data matches&#39;
#   at t/data-serializer.t line 54.
#          got: &#39;Bad Request&#39;
#     expected: &#39;is good for monkey&#39;

#   Failed test &#39;POST text/x-data-dumper succeeded&#39;
#   at t/data-serializer.t line 53.

#   Failed test &#39;POST text/x-data-dumper data matches&#39;
#   at t/data-serializer.t line 54.
#          got: &#39;Bad Request&#39;
#     expected: &#39;is good for monkey&#39;

#   Failed test &#39;POST text/x-php-serialization succeeded&#39;
#   at t/data-serializer.t line 53.

#   Failed test &#39;POST text/x-php-serialization data matches&#39;
#   at t/data-serializer.t line 54.
#          got: &#39;Bad Request&#39;
#     expected: &#39;is good for monkey&#39;

#   Failed test &#39;POST text/x-data-denter succeeded&#39;
#   at t/data-serializer.t line 53.

#   Failed test &#39;POST text/x-data-denter data matches&#39;
#   at t/data-serializer.t line 54.
#          got: &#39;Bad Request&#39;
#     expected: &#39;is good for monkey&#39;

#   Failed test &#39;POST application/x-storable succeeded&#39;
#   at t/data-serializer.t line 53.

#   Failed test &#39;POST application/x-storable data matches&#39;
#   at t/data-serializer.t line 54.
#          got: &#39;Bad Request&#39;
#     expected: &#39;is good for monkey&#39;
# Looks like you failed 10 tests of 31.
t/data-serializer.t .. Dubious, test returned 10 &#40;wstat 2560, 0xa00&#41;
Failed 10/31 subtests 

Test Summary Report
-------------------
t/data-serializer.t &#40;Wstat: 2560 Tests: 31 Failed: 10&#41;
  Failed tests:  8-9, 12-13, 16-17, 20-21, 24-25
  Non-zero exit status: 10
Files=1, Tests=31,  1 wallclock secs &#40; 0.03 usr  0.00 sys +  1.06 cusr 
0.05 csys =  1.14 CPU&#41;
Result: FAIL


The samething happens when I install via cpan. Unfortunately due to my
schedule I wasn&#39;t able to look into finding a fix, but I guess it should
be logged here anyway.
thanks,
-Shantanu Bhadoria
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;23&nbsp;02:51:13&nbsp;2012</span>
    <span class="description">david [...] audacitas.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> david [...] audacitas.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can confirm that this happens with Catalyst runtime v5.9 but _not_
with v5.8 and I suspect it&#39;s something to do with the PSGI
implementation. Note that the failed tests are caused by the request
being rejected by the test server, not the test controller
t/lib/Test/Serialize/Controller/REST.pm: the action monkey_put&#40;&#41; is not
being invoked for the failed cases but _is_ invoked for the successful ones.

HTH
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;23&nbsp;02:51:15&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;04&nbsp;08:30:28&nbsp;2013</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Apr 23 02:51:13 2012, djgp wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can confirm that this happens with Catalyst runtime v5.9 but _not_
&gt; with v5.8 and I suspect it&#39;s something to do with the PSGI
&gt; implementation. Note that the failed tests are caused by the request
&gt; being rejected by the test server, not the test controller
&gt; t/lib/Test/Serialize/Controller/REST.pm: the action monkey_put&#40;&#41; is not
&gt; being invoked for the failed cases but _is_ invoked for the successful ones.
&gt; 
&gt; HTH
</div>
I can confirm that this problem exists, but only for tests against perl 5.10.1.   I get successful 
test suite runs for all of 5.12.4, 5.14.3 and 5.16.2.   This is true for all 4 of the following 
platforms: 32 bit RHEL5, 32 bit RHEL6, 64 bit RHEL5 and 64 bit RHEL 6.

These tests are done using the latest versions of ALL CPAN dependencies for this distribution, 
as of March 2, 2013.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;04&nbsp;08:30:47&nbsp;2013</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Broken in 1.06 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;04&nbsp;08:30:48&nbsp;2013</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Broken in 0.93 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;11&nbsp;16:50:54&nbsp;2013</span>
    <span class="description">frioux [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 04 08:30:28 2013, WPMOORE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Apr 23 02:51:13 2012, djgp wrote:
<div class="message-stanza open">&gt; &gt; I can confirm that this happens with Catalyst runtime v5.9 but _not_
&gt; &gt; with v5.8 and I suspect it&#39;s something to do with the PSGI
&gt; &gt; implementation. Note that the failed tests are caused by the request
&gt; &gt; being rejected by the test server, not the test controller
&gt; &gt; t/lib/Test/Serialize/Controller/REST.pm: the action monkey_put&#40;&#41; is
</div>&gt; not
<div class="message-stanza open">&gt; &gt; being invoked for the failed cases but _is_ invoked for the
</div>&gt; successful ones.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; HTH
</div>&gt; 
&gt; I can confirm that this problem exists, but only for tests against
&gt; perl 5.10.1.   I get successful
&gt; test suite runs for all of 5.12.4, 5.14.3 and 5.16.2.   This is true
&gt; for all 4 of the following
&gt; platforms: 32 bit RHEL5, 32 bit RHEL6, 64 bit RHEL5 and 64 bit RHEL 6.
&gt; 
&gt; These tests are done using the latest versions of ALL CPAN
&gt; dependencies for this distribution,
&gt; as of March 2, 2013.
</div>
Working on a &#34;fix.&#34;  Hopefully it will be released in a few hours.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;16&nbsp;09:00:32&nbsp;2013</span>
    <span class="description">bobtfish [...] bobtfish.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 23 21:45:57 2011, shantanubhadoria wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; administrator@administrator-G41M-ES2L:~/Downloads/Catalyst-Action-REST-0.93$
&gt; prove -l t/data-serializer.t 
&gt; t/data-serializer.t .. 1/? 
</div>
This has now been fixed!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;16&nbsp;09:05:49&nbsp;2013</span>
    <span class="description">bobtfish [...] bobtfish.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
