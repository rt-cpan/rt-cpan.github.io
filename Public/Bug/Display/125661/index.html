<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #125661 for GDGraph: bar graph shadow exists when value/height of bar is zero</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #125661 for GDGraph: bar graph shadow exists when value/height of bar is zero</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=GDGraph">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=GDGraph">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=GDGraph">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=GDGraph">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GDGraph">GDGraph CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>There are plenty of good ideas of what people can do published here on the queue. Turning a patch from the tracker into a pull request is not one of them. In order to get maintainers' attention way more quickier, PR should have at least a sample included. We know it's hard to test images generating software, but it doesn't mean we can not test numbers produced by intermediate algorithms used to generate these images, so either a test or a sample.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">125661</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=GDGraph">GDGraph</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
islaind [...] yahoo.co.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14346-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14347-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=125661">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1792433" href="/Public/Bug/Display.html?id=125661#txn-1792433">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;23&nbsp;07:19:17&nbsp;2018</span>
    <span class="description">islaind [...] yahoo.co.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> bar graph shadow exists when value/height of bar is zero</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 23 Jun 2018 14:18:51 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GDGraph [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> / &lt;islaind [...] yahoo.co.uk&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1792433/964015/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964015">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

first of all, many thanks for providing GD::Graph as free software.

the problem:

I don&#39;t know if this is a bug or a feature but when the data for a 
particular bar is zero, its height is zero. But still a shadow exists 
rendered on the horizontal axis. This shadow may lead a user to think 
that there is some small value in that bar when in fact there is none. 
It&#39;s just a shadow! Especially accute when shadow color and bar color 
are not that different colors.

reproduce:

You will notice in the output of the following short script that 1st, 
3rd and 4th bars have values of zero, i.e. zero heights but the shadow 
still drops onto the vertical axis causing confusion &#40;to me at least&#41;.

bw,
bliako


test script:

use strict;
use warnings;

use GD::Graph::bars;

my $gd = GD::Graph::bars-&gt;new&#40;&#41;;
$gd-&gt;set&#40;
         bgclr =&gt; &#39;white&#39;,
         fgclor =&gt; &#39;yellow&#39;,
         dclrs =&gt; [ qw&#40;red pink blue cyan&#41; ],
         shadow_depth    =&gt; 1,
         bar_spacing     =&gt; 3,
         transparent =&gt; 0,
         show_values =&gt; 1,
&#41;;
my $data = GD::Graph::Data-&gt;new&#40;[
     [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
     [    0,    2,    0,    0,    3,  1.5,    1,     3,     4],
]&#41; or die GD::Graph::Data-&gt;error;

$gd-&gt;plot&#40;$data&#41; or die $gd-&gt;error;
my $file = &#39;bars.png&#39;;
open&#40;my $out, &#39;&gt;&#39;, $file&#41; or die &#34;Cannot open &#39;$file&#39; for write: $!&#34;;
binmode $out;
print $out $gd-&gt;gd-&gt;png;
close $out;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793331" href="/Public/Bug/Display.html?id=125661#txn-1793331">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;27&nbsp;22:18:14&nbsp;2018</span>
    <span class="description">martien.verbruggen [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125661] bar graph shadow exists when value/height of bar is zero</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 Jun 2018 12:17:49 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GDGraph [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martien Verbruggen &lt;martien.verbruggen [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793331/964486/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964486">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

It&#39;s been quite a while since I&#39;ve worked on GD::Graph: in fact I handed
over maintenance to Benjamin Warfield years ago: I don&#39;t know whether he
still actively works on it..

This is the first time I&#39;ve seen this problem though. it is possible it has
always existed and you&#39;re the first to notice it, but it&#39;s also possible
something has changed in GD that has caused some rounding things. I
remember a lot of rounding issues that were solved with hacks in the code.

Either way, I am unlikely to find time to change the code, and to try to
work this one out. If you&#39;re willing to try, I can always see whether I can
accept a change and update the version.

I did find a workaround/hack: If you set the fields that are 0 right now to
undef, then GD::Graph won&#39;t even try to render the bars at all, and the
shadow disappears.

Sorry I can&#39;t be of more help right now.

Martien

On Sat, 23 Jun 2018 at 21:19 / via RT &lt;bug-GDGraph@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sat Jun 23 07:19:17 2018: Request 125661 was acted upon.
&gt; Transaction: Ticket created by islaind@yahoo.co.uk
&gt;        Queue: GDGraph
&gt;      Subject: bar graph shadow exists when value/height of bar is zero
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: islaind@yahoo.co.uk
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt;
&gt;
&gt; Hi there,
&gt;
&gt; first of all, many thanks for providing GD::Graph as free software.
&gt;
&gt; the problem:
&gt;
&gt; I don&#39;t know if this is a bug or a feature but when the data for a
&gt; particular bar is zero, its height is zero. But still a shadow exists
&gt; rendered on the horizontal axis. This shadow may lead a user to think
&gt; that there is some small value in that bar when in fact there is none.
&gt; It&#39;s just a shadow! Especially accute when shadow color and bar color
&gt; are not that different colors.
&gt;
&gt; reproduce:
&gt;
&gt; You will notice in the output of the following short script that 1st,
&gt; 3rd and 4th bars have values of zero, i.e. zero heights but the shadow
&gt; still drops onto the vertical axis causing confusion &#40;to me at least&#41;.
&gt;
&gt; bw,
&gt; bliako
&gt;
&gt;
&gt; test script:
&gt;
&gt; use strict;
&gt; use warnings;
&gt;
&gt; use GD::Graph::bars;
&gt;
&gt; my $gd = GD::Graph::bars-&gt;new&#40;&#41;;
&gt; $gd-&gt;set&#40;
&gt;          bgclr =&gt; &#39;white&#39;,
&gt;          fgclor =&gt; &#39;yellow&#39;,
&gt;          dclrs =&gt; [ qw&#40;red pink blue cyan&#41; ],
&gt;          shadow_depth    =&gt; 1,
&gt;          bar_spacing     =&gt; 3,
&gt;          transparent =&gt; 0,
&gt;          show_values =&gt; 1,
&gt; &#41;;
&gt; my $data = GD::Graph::Data-&gt;new&#40;[
&gt;      [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
&gt;      [    0,    2,    0,    0,    3,  1.5,    1,     3,     4],
&gt; ]&#41; or die GD::Graph::Data-&gt;error;
&gt;
&gt; $gd-&gt;plot&#40;$data&#41; or die $gd-&gt;error;
&gt; my $file = &#39;bars.png&#39;;
&gt; open&#40;my $out, &#39;&gt;&#39;, $file&#41; or die &#34;Cannot open &#39;$file&#39; for write: $!&#34;;
&gt; binmode $out;
&gt; print $out $gd-&gt;gd-&gt;png;
&gt; close $out;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793331/964487/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964487">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793332" href="/Public/Bug/Display.html?id=125661#txn-1793332">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;27&nbsp;22:18:15&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793393" href="/Public/Bug/Display.html?id=125661#txn-1793393">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;28&nbsp;05:07:09&nbsp;2018</span>
    <span class="description">islaind [...] yahoo.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125661] bar graph shadow exists when value/height of bar is zero</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 Jun 2018 12:06:44 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GDGraph [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> / &lt;islaind [...] yahoo.co.uk&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793393/964522/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964522">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Martien,

Thank your for your email.

I will have a look at the code and if I find a remedy I will let you 
know. Nothing but free time for me right now.

Many thanks for GD!

Andreas Hadjiprocopis

On 28/06/18 05:18, Martien Verbruggen via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt; 
&gt; Hello,
&gt; 
&gt; It&#39;s been quite a while since I&#39;ve worked on GD::Graph: in fact I handed
&gt; over maintenance to Benjamin Warfield years ago: I don&#39;t know whether he
&gt; still actively works on it..
&gt; 
&gt; This is the first time I&#39;ve seen this problem though. it is possible it has
&gt; always existed and you&#39;re the first to notice it, but it&#39;s also possible
&gt; something has changed in GD that has caused some rounding things. I
&gt; remember a lot of rounding issues that were solved with hacks in the code.
&gt; 
&gt; Either way, I am unlikely to find time to change the code, and to try to
&gt; work this one out. If you&#39;re willing to try, I can always see whether I can
&gt; accept a change and update the version.
&gt; 
&gt; I did find a workaround/hack: If you set the fields that are 0 right now to
&gt; undef, then GD::Graph won&#39;t even try to render the bars at all, and the
&gt; shadow disappears.
&gt; 
&gt; Sorry I can&#39;t be of more help right now.
&gt; 
&gt; Martien
&gt; 
&gt; On Sat, 23 Jun 2018 at 21:19 / via RT &lt;bug-GDGraph@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt;&gt; Sat Jun 23 07:19:17 2018: Request 125661 was acted upon.
&gt;&gt; Transaction: Ticket created by islaind@yahoo.co.uk
&gt;&gt;         Queue: GDGraph
&gt;&gt;       Subject: bar graph shadow exists when value/height of bar is zero
&gt;&gt;     Broken in: &#40;no value&#41;
&gt;&gt;      Severity: &#40;no value&#41;
&gt;&gt;         Owner: Nobody
&gt;&gt;    Requestors: islaind@yahoo.co.uk
&gt;&gt;        Status: new
&gt;&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi there,
&gt;&gt;
&gt;&gt; first of all, many thanks for providing GD::Graph as free software.
&gt;&gt;
&gt;&gt; the problem:
&gt;&gt;
&gt;&gt; I don&#39;t know if this is a bug or a feature but when the data for a
&gt;&gt; particular bar is zero, its height is zero. But still a shadow exists
&gt;&gt; rendered on the horizontal axis. This shadow may lead a user to think
&gt;&gt; that there is some small value in that bar when in fact there is none.
&gt;&gt; It&#39;s just a shadow! Especially accute when shadow color and bar color
&gt;&gt; are not that different colors.
&gt;&gt;
&gt;&gt; reproduce:
&gt;&gt;
&gt;&gt; You will notice in the output of the following short script that 1st,
&gt;&gt; 3rd and 4th bars have values of zero, i.e. zero heights but the shadow
&gt;&gt; still drops onto the vertical axis causing confusion &#40;to me at least&#41;.
&gt;&gt;
&gt;&gt; bw,
&gt;&gt; bliako
&gt;&gt;
&gt;&gt;
&gt;&gt; test script:
&gt;&gt;
&gt;&gt; use strict;
&gt;&gt; use warnings;
&gt;&gt;
&gt;&gt; use GD::Graph::bars;
&gt;&gt;
&gt;&gt; my $gd = GD::Graph::bars-&gt;new&#40;&#41;;
&gt;&gt; $gd-&gt;set&#40;
&gt;&gt;           bgclr =&gt; &#39;white&#39;,
&gt;&gt;           fgclor =&gt; &#39;yellow&#39;,
&gt;&gt;           dclrs =&gt; [ qw&#40;red pink blue cyan&#41; ],
&gt;&gt;           shadow_depth    =&gt; 1,
&gt;&gt;           bar_spacing     =&gt; 3,
&gt;&gt;           transparent =&gt; 0,
&gt;&gt;           show_values =&gt; 1,
&gt;&gt; &#41;;
&gt;&gt; my $data = GD::Graph::Data-&gt;new&#40;[
&gt;&gt;       [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
&gt;&gt;       [    0,    2,    0,    0,    3,  1.5,    1,     3,     4],
&gt;&gt; ]&#41; or die GD::Graph::Data-&gt;error;
&gt;&gt;
&gt;&gt; $gd-&gt;plot&#40;$data&#41; or die $gd-&gt;error;
&gt;&gt; my $file = &#39;bars.png&#39;;
&gt;&gt; open&#40;my $out, &#39;&gt;&#39;, $file&#41; or die &#34;Cannot open &#39;$file&#39; for write: $!&#34;;
&gt;&gt; binmode $out;
&gt;&gt; print $out $gd-&gt;gd-&gt;png;
&gt;&gt; close $out;
&gt;&gt;
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793428" href="/Public/Bug/Display.html?id=125661#txn-1793428">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;28&nbsp;09:54:50&nbsp;2018</span>
    <span class="description">islaind [...] yahoo.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125661] bar graph shadow exists when value/height of bar is zero</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 Jun 2018 16:54:33 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GDGraph [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> / &lt;islaind [...] yahoo.co.uk&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793428/964541/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964541">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi again,

I think I have found a couple of fixes:
The file I am referring to is: GD/Graph/bars.pm &#40;# $Id: bars.pm,v 1.26 
2007/04/26 03:16:09 ben Exp $&#41; which is what cpanm installs on my 
machine with perl v5.26.2

** Fix #1 : quick and dirty
The idea is that shadows should not be drawn if $value &#40;the actual data 
value&#41; is zero.
In line 103 of said file &#40;you can find that line if you search for &#39;# 
XXX Clean this up&#39;&#41; inside _draw_shadow&#40;&#41;

the line
if &#40;$value &gt;= 0&#41;

should be changed to

if &#40;$value &gt; 0&#41;

and its associated &#34;else&#34; should become

elsif&#40; $value &lt; 0 &#41;

alternatively insert a
if&#40; $value == 0 &#41;{ return }
in line 101
----------------------

** Fix #2 : elaborate but possibly more correct.
The idea is that shadows should not be drawn unless the actual-data 
rectangle has height &#40;or length in case of horizontal bars&#41; of more than 
X. There is a little problem though: the shadows are drawn first and 
then the actual-data rectangle.

in sub draw_data_set_v&#40;&#41; which is responsible for the vertical-bars 
drawing, add this in line 273:

if&#40; abs&#40;$bottom-$t&#41; &lt; 1 &#41;{ next }

in this case $bottom and $t are the y1/y2 of the actual-data rectangle

in sub draw_data_set_h&#40;&#41; which is responsible for the horizontal-bars 
drawing, add this in line 157:

if&#40; abs&#40;$l-$r&#41; &lt; 1 &#41;{ next }

in this case $l and $r are the x1/x2 of the actual-data rectangle.

To recap: what the above 2 conditionals do is to check whether the 
actual-data rectangle to be drawn later on will have so little height 
&#40;width in the case of horizontal bars&#41; that shadows should not be drawn.

bw,

Andreas


On 28/06/18 05:18, Martien Verbruggen via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt; 
&gt; Hello,
&gt; 
&gt; It&#39;s been quite a while since I&#39;ve worked on GD::Graph: in fact I handed
&gt; over maintenance to Benjamin Warfield years ago: I don&#39;t know whether he
&gt; still actively works on it..
&gt; 
&gt; This is the first time I&#39;ve seen this problem though. it is possible it has
&gt; always existed and you&#39;re the first to notice it, but it&#39;s also possible
&gt; something has changed in GD that has caused some rounding things. I
&gt; remember a lot of rounding issues that were solved with hacks in the code.
&gt; 
&gt; Either way, I am unlikely to find time to change the code, and to try to
&gt; work this one out. If you&#39;re willing to try, I can always see whether I can
&gt; accept a change and update the version.
&gt; 
&gt; I did find a workaround/hack: If you set the fields that are 0 right now to
&gt; undef, then GD::Graph won&#39;t even try to render the bars at all, and the
&gt; shadow disappears.
&gt; 
&gt; Sorry I can&#39;t be of more help right now.
&gt; 
&gt; Martien
&gt; 
&gt; On Sat, 23 Jun 2018 at 21:19 / via RT &lt;bug-GDGraph@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt;&gt; Sat Jun 23 07:19:17 2018: Request 125661 was acted upon.
&gt;&gt; Transaction: Ticket created by islaind@yahoo.co.uk
&gt;&gt;         Queue: GDGraph
&gt;&gt;       Subject: bar graph shadow exists when value/height of bar is zero
&gt;&gt;     Broken in: &#40;no value&#41;
&gt;&gt;      Severity: &#40;no value&#41;
&gt;&gt;         Owner: Nobody
&gt;&gt;    Requestors: islaind@yahoo.co.uk
&gt;&gt;        Status: new
&gt;&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi there,
&gt;&gt;
&gt;&gt; first of all, many thanks for providing GD::Graph as free software.
&gt;&gt;
&gt;&gt; the problem:
&gt;&gt;
&gt;&gt; I don&#39;t know if this is a bug or a feature but when the data for a
&gt;&gt; particular bar is zero, its height is zero. But still a shadow exists
&gt;&gt; rendered on the horizontal axis. This shadow may lead a user to think
&gt;&gt; that there is some small value in that bar when in fact there is none.
&gt;&gt; It&#39;s just a shadow! Especially accute when shadow color and bar color
&gt;&gt; are not that different colors.
&gt;&gt;
&gt;&gt; reproduce:
&gt;&gt;
&gt;&gt; You will notice in the output of the following short script that 1st,
&gt;&gt; 3rd and 4th bars have values of zero, i.e. zero heights but the shadow
&gt;&gt; still drops onto the vertical axis causing confusion &#40;to me at least&#41;.
&gt;&gt;
&gt;&gt; bw,
&gt;&gt; bliako
&gt;&gt;
&gt;&gt;
&gt;&gt; test script:
&gt;&gt;
&gt;&gt; use strict;
&gt;&gt; use warnings;
&gt;&gt;
&gt;&gt; use GD::Graph::bars;
&gt;&gt;
&gt;&gt; my $gd = GD::Graph::bars-&gt;new&#40;&#41;;
&gt;&gt; $gd-&gt;set&#40;
&gt;&gt;           bgclr =&gt; &#39;white&#39;,
&gt;&gt;           fgclor =&gt; &#39;yellow&#39;,
&gt;&gt;           dclrs =&gt; [ qw&#40;red pink blue cyan&#41; ],
&gt;&gt;           shadow_depth    =&gt; 1,
&gt;&gt;           bar_spacing     =&gt; 3,
&gt;&gt;           transparent =&gt; 0,
&gt;&gt;           show_values =&gt; 1,
&gt;&gt; &#41;;
&gt;&gt; my $data = GD::Graph::Data-&gt;new&#40;[
&gt;&gt;       [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
&gt;&gt;       [    0,    2,    0,    0,    3,  1.5,    1,     3,     4],
&gt;&gt; ]&#41; or die GD::Graph::Data-&gt;error;
&gt;&gt;
&gt;&gt; $gd-&gt;plot&#40;$data&#41; or die $gd-&gt;error;
&gt;&gt; my $file = &#39;bars.png&#39;;
&gt;&gt; open&#40;my $out, &#39;&gt;&#39;, $file&#41; or die &#34;Cannot open &#39;$file&#39; for write: $!&#34;;
&gt;&gt; binmode $out;
&gt;&gt; print $out $gd-&gt;gd-&gt;png;
&gt;&gt; close $out;
&gt;&gt;
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1793506" href="/Public/Bug/Display.html?id=125661#txn-1793506">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;28&nbsp;19:32:52&nbsp;2018</span>
    <span class="description">martien.verbruggen [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #125661] bar graph shadow exists when value/height of bar is zero</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Jun 2018 09:32:29 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GDGraph [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martien Verbruggen &lt;martien.verbruggen [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793506/964593/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964593">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks. I&#39;ll try to have a look on the weekend.

On Thu, 28 Jun 2018 at 23:54 / via RT &lt;bug-GDGraph@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: GDGraph
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt;
&gt; Hi again,
&gt;
&gt; I think I have found a couple of fixes:
&gt; The file I am referring to is: GD/Graph/bars.pm &#40;# $Id: bars.pm,v 1.26
&gt; 2007/04/26 03:16:09 ben Exp $&#41; which is what cpanm installs on my
&gt; machine with perl v5.26.2
&gt;
&gt; ** Fix #1 : quick and dirty
&gt; The idea is that shadows should not be drawn if $value &#40;the actual data
&gt; value&#41; is zero.
&gt; In line 103 of said file &#40;you can find that line if you search for &#39;#
&gt; XXX Clean this up&#39;&#41; inside _draw_shadow&#40;&#41;
&gt;
&gt; the line
&gt; if &#40;$value &gt;= 0&#41;
&gt;
&gt; should be changed to
&gt;
&gt; if &#40;$value &gt; 0&#41;
&gt;
&gt; and its associated &#34;else&#34; should become
&gt;
&gt; elsif&#40; $value &lt; 0 &#41;
&gt;
&gt; alternatively insert a
&gt; if&#40; $value == 0 &#41;{ return }
&gt; in line 101
&gt; ----------------------
&gt;
&gt; ** Fix #2 : elaborate but possibly more correct.
&gt; The idea is that shadows should not be drawn unless the actual-data
&gt; rectangle has height &#40;or length in case of horizontal bars&#41; of more than
&gt; X. There is a little problem though: the shadows are drawn first and
&gt; then the actual-data rectangle.
&gt;
&gt; in sub draw_data_set_v&#40;&#41; which is responsible for the vertical-bars
&gt; drawing, add this in line 273:
&gt;
&gt; if&#40; abs&#40;$bottom-$t&#41; &lt; 1 &#41;{ next }
&gt;
&gt; in this case $bottom and $t are the y1/y2 of the actual-data rectangle
&gt;
&gt; in sub draw_data_set_h&#40;&#41; which is responsible for the horizontal-bars
&gt; drawing, add this in line 157:
&gt;
&gt; if&#40; abs&#40;$l-$r&#41; &lt; 1 &#41;{ next }
&gt;
&gt; in this case $l and $r are the x1/x2 of the actual-data rectangle.
&gt;
&gt; To recap: what the above 2 conditionals do is to check whether the
&gt; actual-data rectangle to be drawn later on will have so little height
&gt; &#40;width in the case of horizontal bars&#41; that shadows should not be drawn.
&gt;
&gt; bw,
&gt;
&gt; Andreas
&gt;
&gt;
&gt; On 28/06/18 05:18, Martien Verbruggen via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt; &gt;
&gt; &gt; Hello,
&gt; &gt;
&gt; &gt; It&#39;s been quite a while since I&#39;ve worked on GD::Graph: in fact I handed
&gt; &gt; over maintenance to Benjamin Warfield years ago: I don&#39;t know whether he
&gt; &gt; still actively works on it..
&gt; &gt;
&gt; &gt; This is the first time I&#39;ve seen this problem though. it is possible it
</div>&gt; has
<div class="message-stanza open">&gt; &gt; always existed and you&#39;re the first to notice it, but it&#39;s also possible
&gt; &gt; something has changed in GD that has caused some rounding things. I
&gt; &gt; remember a lot of rounding issues that were solved with hacks in the
</div>&gt; code.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Either way, I am unlikely to find time to change the code, and to try to
&gt; &gt; work this one out. If you&#39;re willing to try, I can always see whether I
</div>&gt; can
<div class="message-stanza open">&gt; &gt; accept a change and update the version.
&gt; &gt;
&gt; &gt; I did find a workaround/hack: If you set the fields that are 0 right now
</div>&gt; to
<div class="message-stanza open">&gt; &gt; undef, then GD::Graph won&#39;t even try to render the bars at all, and the
&gt; &gt; shadow disappears.
&gt; &gt;
&gt; &gt; Sorry I can&#39;t be of more help right now.
&gt; &gt;
&gt; &gt; Martien
&gt; &gt;
&gt; &gt; On Sat, 23 Jun 2018 at 21:19 / via RT &lt;bug-GDGraph@rt.cpan.org&gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt;&gt; Sat Jun 23 07:19:17 2018: Request 125661 was acted upon.
&gt; &gt;&gt; Transaction: Ticket created by islaind@yahoo.co.uk
&gt; &gt;&gt;         Queue: GDGraph
&gt; &gt;&gt;       Subject: bar graph shadow exists when value/height of bar is zero
&gt; &gt;&gt;     Broken in: &#40;no value&#41;
&gt; &gt;&gt;      Severity: &#40;no value&#41;
&gt; &gt;&gt;         Owner: Nobody
&gt; &gt;&gt;    Requestors: islaind@yahoo.co.uk
&gt; &gt;&gt;        Status: new
&gt; &gt;&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125661">https://rt.cpan.org/Ticket/Display.html?id=125661</a></span> &gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Hi there,
&gt; &gt;&gt;
&gt; &gt;&gt; first of all, many thanks for providing GD::Graph as free software.
&gt; &gt;&gt;
&gt; &gt;&gt; the problem:
&gt; &gt;&gt;
&gt; &gt;&gt; I don&#39;t know if this is a bug or a feature but when the data for a
&gt; &gt;&gt; particular bar is zero, its height is zero. But still a shadow exists
&gt; &gt;&gt; rendered on the horizontal axis. This shadow may lead a user to think
&gt; &gt;&gt; that there is some small value in that bar when in fact there is none.
&gt; &gt;&gt; It&#39;s just a shadow! Especially accute when shadow color and bar color
&gt; &gt;&gt; are not that different colors.
&gt; &gt;&gt;
&gt; &gt;&gt; reproduce:
&gt; &gt;&gt;
&gt; &gt;&gt; You will notice in the output of the following short script that 1st,
&gt; &gt;&gt; 3rd and 4th bars have values of zero, i.e. zero heights but the shadow
&gt; &gt;&gt; still drops onto the vertical axis causing confusion &#40;to me at least&#41;.
&gt; &gt;&gt;
&gt; &gt;&gt; bw,
&gt; &gt;&gt; bliako
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; test script:
&gt; &gt;&gt;
&gt; &gt;&gt; use strict;
&gt; &gt;&gt; use warnings;
&gt; &gt;&gt;
&gt; &gt;&gt; use GD::Graph::bars;
&gt; &gt;&gt;
&gt; &gt;&gt; my $gd = GD::Graph::bars-&gt;new&#40;&#41;;
&gt; &gt;&gt; $gd-&gt;set&#40;
&gt; &gt;&gt;           bgclr =&gt; &#39;white&#39;,
&gt; &gt;&gt;           fgclor =&gt; &#39;yellow&#39;,
&gt; &gt;&gt;           dclrs =&gt; [ qw&#40;red pink blue cyan&#41; ],
&gt; &gt;&gt;           shadow_depth    =&gt; 1,
&gt; &gt;&gt;           bar_spacing     =&gt; 3,
&gt; &gt;&gt;           transparent =&gt; 0,
&gt; &gt;&gt;           show_values =&gt; 1,
&gt; &gt;&gt; &#41;;
&gt; &gt;&gt; my $data = GD::Graph::Data-&gt;new&#40;[
&gt; &gt;&gt;       [&#34;1st&#34;,&#34;2nd&#34;,&#34;3rd&#34;,&#34;4th&#34;,&#34;5th&#34;,&#34;6th&#34;,&#34;7th&#34;, &#34;8th&#34;, &#34;9th&#34;],
&gt; &gt;&gt;       [    0,    2,    0,    0,    3,  1.5,    1,     3,     4],
&gt; &gt;&gt; ]&#41; or die GD::Graph::Data-&gt;error;
&gt; &gt;&gt;
&gt; &gt;&gt; $gd-&gt;plot&#40;$data&#41; or die $gd-&gt;error;
&gt; &gt;&gt; my $file = &#39;bars.png&#39;;
&gt; &gt;&gt; open&#40;my $out, &#39;&gt;&#39;, $file&#41; or die &#34;Cannot open &#39;$file&#39; for write: $!&#34;;
&gt; &gt;&gt; binmode $out;
&gt; &gt;&gt; print $out $gd-&gt;gd-&gt;png;
&gt; &gt;&gt; close $out;
&gt; &gt;&gt;
</div>&gt; &gt;
</div>&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1793506/964594/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/964594">with headers</a>
<br />
<span class="downloadcontenttype">text/html 7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.421798</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
