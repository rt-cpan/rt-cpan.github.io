<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #113685 for B-Hooks-EndOfScope: Presence of random 0-returning program named &#39;cc&#39; in PATH adds hard dep on Variable::Magic</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #113685 for B-Hooks-EndOfScope: Presence of random 0-returning program named &#39;cc&#39; in PATH adds hard dep on Variable::Magic</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/B-Hooks-EndOfScope/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/B-Hooks-EndOfScope/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/B-Hooks-EndOfScope/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/B-Hooks-EndOfScope/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/B-Hooks-EndOfScope">B-Hooks-EndOfScope CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">113685</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/B-Hooks-EndOfScope/Active/">B-Hooks-EndOfScope</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ether [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-224248-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.17-TRIAL</li>
<li>
0.19</li>
</ul>
    </td>
  </tr>
  <tr id="CF-224249-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<ul>
<li>
0.18-TRIAL</li>
<li>
0.20</li>
</ul>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;11&nbsp;12:52:52&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Presence of random 0-returning program named &#39;cc&#39; in PATH adds
 hard dep on Variable::Magic</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is an issue just like <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your case the optional xs prereq is injected.

Attached a complete session log.

Contact leont for advice how to use ExtUtils::HasCompiler &#40;which does not have this problem&#41;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> bheos_argh.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">rabbit@Ahasver:~$ cpanm --look --dev B::Hooks::EndOfScope
--&gt; Working on B::Hooks::EndOfScope
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/E/ET/ETHER/B-Hooks-EndOfScope-0.16-TRIAL.tar.gz">http://www.cpan.org/authors/id/E/ET/ETHER/B-Hooks-EndOfScope-0.16-TRIAL.tar.gz</a></span> ... OK
Entering /home/rabbit/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16 with /bin/bash



rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ ln -sf /bin/true ~/bin/cc




rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ ls -l $&#40;which cc&#41;
lrwxrwxrwx 1 rabbit rabbit 9 Apr 11 18:47 /home/rabbit/bin/cc -&gt; /bin/true




rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ perl Makefile.PL 
Checking if your kit is complete...
Looks good
Generating a Unix-style Makefile
Writing Makefile for B::Hooks::EndOfScope
Writing MYMETA.yml and MYMETA.json




rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ grep &#39;PREREQ.*Magic&#39; Makefile
#     PREREQ_PM =&gt; { warnings=&gt;q[0], File::Glob=&gt;q[0], ExtUtils::MakeMaker=&gt;q[0], File::Spec=&gt;q[0], strict=&gt;q[0], Test::More=&gt;q[0.89], Sub::Exporter::Progressive=&gt;q[0.001006], IPC::Open2=&gt;q[0], Module::Implementation=&gt;q[0.05], Variable::Magic=&gt;q[0.48] }




rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ ln -sf /bin/false ~/bin/cc




rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ ls -l $&#40;which cc&#41;
lrwxrwxrwx 1 rabbit rabbit 10 Apr 11 18:48 /home/rabbit/bin/cc -&gt; /bin/false



rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ perl Makefile.PL 
Generating a Unix-style Makefile
Writing Makefile for B::Hooks::EndOfScope
Writing MYMETA.yml and MYMETA.json



rabbit@Ahasver:~/.cpanm/work/1460393220.24298/B-Hooks-EndOfScope-0.16$ grep &#39;PREREQ.*Magic&#39; Makefile
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;11&nbsp;13:05:20&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-11 09:52:52, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is an issue just like
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your case
&gt; the optional xs prereq is injected.
&gt; 
&gt; Attached a complete session log.
&gt; 
&gt; Contact leont for advice how to use ExtUtils::HasCompiler &#40;which does
&gt; not have this problem&#41;.
</div>

Note to self:
this is actually an issue in Dist::Zilla::Plugin::DynamicPrereqs, which is where the can_xs&#40;&#41; definition is coming from -- but dates back to B::Hooks::EndOfScope again because the plugin used this module&#39;s implementation of can_xs&#40;&#41; &#40;so as to not cause a change in behaviour when moving to using the plugin for Makefile.PL modification&#41;.

I&#39;ve been monitoring the development of ExtUtils::HasCompiler, and waiting for the right time to switch to using it internally. Perhaps it is now mature enough to consider switching.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;11&nbsp;13:05:20&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;22:21:21&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;22:39:24&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-11 09:52:52, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is an issue just like
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your case
&gt; the optional xs prereq is injected.
</div>
Looking at the referenced ticket, you say &#34;As a bonus point EU::CB does not get tripped by this&#34; --
am I correct then in inferring that your perl and EUMM are too old to understand configure-requires
prereqs? I think this scenario can only happen if ExtUtils::CBuilder is not installed &#40;which only
happens if configure prereqs aren&#39;t satisfied&#41;:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-TRIAL/Makefile.PL#L117-120">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-TRIAL/Makefile.PL#L117-120</a></span>

This seems to be the path where we check if the cc executable is runnable, but we don&#39;t actually run it.  It&#39;s the other path that uses EUCB, which you say is fine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;22:40:44&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-18 19:39:24, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2016-04-11 09:52:52, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt; This is an issue just like
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your
&gt; &gt; case
&gt; &gt; the optional xs prereq is injected.
</div>&gt; 
&gt; Looking at the referenced ticket, you say &#34;As a bonus point EU::CB
&gt; does not get tripped by this&#34; --
&gt; am I correct then in inferring that your perl and EUMM are too old to
&gt; understand configure-requires
&gt; prereqs? I think this scenario can only happen if ExtUtils::CBuilder
&gt; is not installed &#40;which only
&gt; happens if configure prereqs aren&#39;t satisfied&#41;:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-</a></span>
&gt; TRIAL/Makefile.PL#L117-120
&gt; 
&gt; This seems to be the path where we check if the cc executable is
&gt; runnable, but we don&#39;t actually run it.  It&#39;s the other path that uses
&gt; EUCB, which you say is fine.
</div>
I&#39;ve made a note of that here: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karenetheridge/Dist-Zilla-Plugin-DynamicPrereqs/commit/09424a020f879b4379130b2a9b47d61428921153">https://github.com/karenetheridge/Dist-Zilla-Plugin-DynamicPrereqs/commit/09424a020f879b4379130b2a9b47d61428921153</a></span>

However I will also pursue fixing this by using ExtUtils::HasCompiler instead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;00:05:35&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #113685] Presence of random 0-returning program named &#39;cc&#39; in PATH adds hard dep on Variable::Magic</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Apr 2016 06:05:17 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-B-Hooks-EndOfScope [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 04/19/2016 04:39 AM, Karen Etheridge via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113685">https://rt.cpan.org/Ticket/Display.html?id=113685</a></span> &gt;
&gt;
&gt; On 2016-04-11 09:52:52, RIBASUSHI wrote:
<div class="message-stanza open">&gt;&gt; This is an issue just like
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your case
&gt;&gt; the optional xs prereq is injected.
</div>&gt; Looking at the referenced ticket, you say &#34;As a bonus point EU::CB does not get tripped by this&#34; --
&gt; am I correct then in inferring that your perl and EUMM are too old to understand configure-requires
&gt; prereqs? I think this scenario can only happen if ExtUtils::CBuilder is not installed &#40;which only
&gt; happens if configure prereqs aren&#39;t satisfied&#41;:
</div>
I don&#39;t follow. RT#113682 does not mention EU::CB in any manner.

Perhaps you are confusing this with the completely unrelated RT#113635 ?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;00:17:58&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-18 21:05:35, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 04/19/2016 04:39 AM, Karen Etheridge via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113685">https://rt.cpan.org/Ticket/Display.html?id=113685</a></span> &gt;
&gt; &gt;
&gt; &gt; On 2016-04-11 09:52:52, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt;&gt; This is an issue just like
&gt; &gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=113682">https://rt.cpan.org/Ticket/Display.html?id=113682</a></span>, except in your
&gt; &gt;&gt; case
&gt; &gt;&gt; the optional xs prereq is injected.
</div>&gt; &gt; Looking at the referenced ticket, you say &#34;As a bonus point EU::CB
&gt; &gt; does not get tripped by this&#34; --
&gt; &gt; am I correct then in inferring that your perl and EUMM are too old to
&gt; &gt; understand configure-requires
&gt; &gt; prereqs? I think this scenario can only happen if ExtUtils::CBuilder
&gt; &gt; is not installed &#40;which only
&gt; &gt; happens if configure prereqs aren&#39;t satisfied&#41;:
</div>&gt; 
&gt; I don&#39;t follow. RT#113682 does not mention EU::CB in any manner.
&gt; Perhaps you are confusing this with the completely unrelated RT#113635
&gt; ?
</div>
Ok, so is this a problem with ExtUtils::CBuilder?  That&#39;s what does the final check in can_xs, that should be returning false if `cc` fails: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-TRIAL/Makefile.PL#L156-166">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-TRIAL/Makefile.PL#L156-166</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;00:52:47&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 19 06:17:58 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Ok, so is this a problem with ExtUtils::CBuilder?  That&#39;s what does
&gt; the final check in can_xs, that should be returning false if `cc`
&gt; fails: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-</a></span>
&gt; TRIAL/Makefile.PL#L156-166
</div>
The entire raison d&#39;etre of ExtUtils::HasCompiler &#40;and previously unsuccessfully of Config::Autoconf&#41; is that EU::CB is not reliable. This is beyond &#34;common knowledge&#34; at this point, I can not fathom how you of all people can be unclear on this.

Attached is a session log replicating the failure &#40;something you can do from your terminal in exactly the same steps&#41;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> eli5.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">rabbit@Ahasver:~$ cpanm --look B::Hooks::EndOfScope@0.16
--&gt; Working on B::Hooks::EndOfScope
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/E/ET/ETHER/B-Hooks-EndOfScope-0.16-TRIAL.tar.gz">http://www.cpan.org/authors/id/E/ET/ETHER/B-Hooks-EndOfScope-0.16-TRIAL.tar.gz</a></span> ... OK
Entering /home/rabbit/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16 with /bin/bash



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ ln -s /bin/true ~/bin/cc



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ ls -l $&#40;which cc&#41;
lrwxrwxrwx 1 rabbit rabbit 9 Apr 19 06:21 /home/rabbit/bin/cc -&gt; /bin/true



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ git init .
Initialized empty Git repository in /home/rabbit/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16/.git/



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ git add .



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ nano Makefile.PL 



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ git diff
diff --git a/Makefile.PL b/Makefile.PL
index e4571ec..e8a605d 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -150,15 +150,18 @@ int boot_sanexs&#40;&#41; {
 END_C
   close $FH;
 
+use Devel::Dwarn;
+
+
   # Can the C compiler access the same headers XS does
   my @libs   = &#40;&#41;;
   my $object = undef;
   eval {
     local $^W = 0;
-    $object = $builder-&gt;compile&#40;
+    $object = Dwarn $builder-&gt;compile&#40;
       source =&gt; $tmpfile,
     &#41;;
-    @libs = $builder-&gt;link&#40;
+    @libs = Dwarn $builder-&gt;link&#40;
       objects     =&gt; $object,
       module_name =&gt; &#39;sanexs&#39;,
     &#41;;
@@ -166,12 +169,12 @@ END_C
   my $result = $@ ? 0 : 1;
 
   # Clean up all the build files
-  foreach &#40; $tmpfile, $object, @libs &#41; {
-    next unless defined $_;
-    1 while unlink;
-  }
+#  foreach &#40; $tmpfile, $object, @libs &#41; {
+#    next unless defined $_;
+#    1 while unlink;
+#  }
 
-  return $result;
+  return Dwarn $result;
 }
 
 sub is_smoker {



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ perl Makefile.PL 
&#34;compilexs-dsLOC.o&#34;
&#34;compilexs-dsLOC.so&#34;
1
Generating a Unix-style Makefile
Writing Makefile for B::Hooks::EndOfScope
Writing MYMETA.yml and MYMETA.json




rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ ls -l compilexs*
-rw------- 1 rabbit rabbit 145 Apr 19 06:28 compilexs-dsLOC.c



rabbit@Ahasver:~/.cpanm/work/1461039994.11594/B-Hooks-EndOfScope-0.16$ grep Variable Makefile
#     PREREQ_PM =&gt; { warnings=&gt;q[0], File::Glob=&gt;q[0], ExtUtils::MakeMaker=&gt;q[0], File::Spec=&gt;q[0], strict=&gt;q[0], Test::More=&gt;q[0.89], Sub::Exporter::Progressive=&gt;q[0.001006], IPC::Open2=&gt;q[0], Module::Implementation=&gt;q[0.05], Variable::Magic=&gt;q[0.48] }
	$&#40;NOECHO&#41; $&#40;ECHO&#41; &#39;  Variable::Magic: &#39;\&#39;&#39;0.48&#39;\&#39;&#39;&#39; &gt;&gt; META_new.yml
	$&#40;NOECHO&#41; $&#40;ECHO&#41; &#39;            &#34;Variable::Magic&#34; : &#34;0.48&#34;,&#39; &gt;&gt; META_new.json
	$&#40;NOECHO&#41; $&#40;ECHO&#41; &#39;        &lt;REQUIRE NAME=&#34;Variable::Magic&#34; VERSION=&#34;0.48&#34; /&gt;&#39; &gt;&gt; $&#40;DISTNAME&#41;.ppd

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;01:10:17&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-18 21:52:47, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Apr 19 06:17:58 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Ok, so is this a problem with ExtUtils::CBuilder?  That&#39;s what does
&gt; &gt; the final check in can_xs, that should be returning false if `cc`
&gt; &gt; fails: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-">https://metacpan.org/source/ETHER/B-Hooks-EndOfScope-0.16-</a></span>
&gt; &gt; TRIAL/Makefile.PL#L156-166
</div>&gt; 
&gt; The entire raison d&#39;etre of ExtUtils::HasCompiler &#40;and previously
&gt; unsuccessfully of Config::Autoconf&#41; is that EU::CB is not reliable.
&gt; This is beyond &#34;common knowledge&#34; at this point, I can not fathom how
&gt; you of all people can be unclear on this.
</div>
I fail to see how being insulting is at all constructive here, when I was just asking for confirmation since apparently I got two tickets mixed up.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;01:35:46&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 19 07:10:17 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I fail to see how being insulting is at all constructive here
</div>
Apologies if you feel insulted. I am exasperated due to the direction this conversation has taken. Let me know if there are outstanding unanswered questions – I will do my best to address them only after the frustration subsides.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;01:40:37&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-18 22:35:46, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Apr 19 07:10:17 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; I fail to see how being insulting is at all constructive here
</div>&gt; 
&gt; Apologies if you feel insulted. I am exasperated due to the direction
&gt; this conversation has taken. Let me know if there are outstanding
&gt; unanswered questions – I will do my best to address them only after
&gt; the frustration subsides.
</div>

I&#39;m trying to clarify if the problem is all in EUCB, or if there is something &#40;realistic&#41; that I can do in BHEOS&#39;s Makefile.PL to make things better &#40;other than simply switching to ExtUtils::HasCompiler&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;02:11:50&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #113685] Presence of random 0-returning program named &#39;cc&#39; in PATH adds hard dep on Variable::Magic</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Apr 2016 08:11:34 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-B-Hooks-EndOfScope [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 04/19/2016 07:40 AM, Karen Etheridge via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m trying to clarify if the problem is all in EUCB, or if there is 
&gt; something &#40;realistic&#41; that I can do in BHEOS&#39;s Makefile.PL to make 
&gt; things better &#40;other than simply switching to ExtUtils::HasCompiler&#41;. 
</div>
Leont is the best person to definitively answer this for you, given he 
has very recently worked on both EUHC and EUCB
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;04:55:05&nbsp;2016</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 19 01:40:37 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m trying to clarify if the problem is all in EUCB, or if there is
&gt; something &#40;realistic&#41; that I can do in BHEOS&#39;s Makefile.PL to make
&gt; things better &#40;other than simply switching to ExtUtils::HasCompiler&#41;.
</div>
CBuilder-&gt;have_compiler is problematic. It can easily be fixed &#40;and I am planning to do that&#41;, but given that it won&#39;t propagate to end users without using configure-requires that&#39;s not terribly helpful. Fortunately you&#39;re already not using have_compiler which makes fixing this easier.

You could fix it in can_xs by loading the product of the linking. Something like «DynaLoader::dl_load_file&#40;File::Spec-&gt;rel2abs&#40;$lib_file&#41;&#41; or ...» &#40;with $lib_file being the first return value of CBuilder-&gt;link&#41; should do the trick. HasCompiler does a bit more than that, but the loading is the most important check by far.

But yeah, on the long term HasCompiler should be the easier route for this.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;04:59:13&nbsp;2016</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 19 04:55:05 2016, LEONT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But yeah, on the long term HasCompiler should be the easier route for
&gt; this.
</div>
Erm, that sounds like I think HasCompiler isn&#39;t ready for prime-time, which I don&#39;t want to imply. I meant that more in the sense of &#34;adding one line of code is an easier change, but it&#39;s not the path towards the future&#34;

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;12:37:53&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-19 01:59:13, LEONT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Apr 19 04:55:05 2016, LEONT wrote:
<div class="message-stanza open">&gt; &gt; But yeah, on the long term HasCompiler should be the easier route for
&gt; &gt; this.
</div>&gt; 
&gt; Erm, that sounds like I think HasCompiler isn&#39;t ready for prime-time,
&gt; which I don&#39;t want to imply. I meant that more in the sense of &#34;adding
&gt; one line of code is an easier change, but it&#39;s not the path towards
&gt; the future&#34;
</div>
I&#39;m working on switching DynamicPrereqs &#40;which BHEOS uses&#41; from EUCB to EUHC, and will either release both as trial today or while in Rugby &#40;and will grab you for a review&#41;. Neither release will be going stable without a few people signing off on the changes &#40;including everyone presently in this thread&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;07:27:18&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">ExtUtils::HasCompiler is being used in B-Hooks-EndOfScope-0.17-TRIAL -- please let me know how this works out!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;07:27:27&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;09:55:55&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 21 13:27:18 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ExtUtils::HasCompiler is being used in B-Hooks-EndOfScope-0.17-TRIAL
&gt; -- please let me know how this works out!
</div>
It doesn&#39;t:

<span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/dbsrgits/dbix-class/jobs/124750245#L610">https://travis-ci.org/dbsrgits/dbix-class/jobs/124750245#L610</a></span>

Also when shipping trial releases please change the status to &#39;patched&#39; instead of closing. Otherwise there is no mechanism to notify me when a stable version has shipped.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;09:55:57&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;11:16:48&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-21 06:55:55, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Apr 21 13:27:18 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; ExtUtils::HasCompiler is being used in B-Hooks-EndOfScope-0.17-TRIAL
&gt; &gt; -- please let me know how this works out!
</div>&gt; 
&gt; It doesn&#39;t:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/dbsrgits/dbix-class/jobs/124750245#L610">https://travis-ci.org/dbsrgits/dbix-class/jobs/124750245#L610</a></span>
</div>
Ah, yes, that&#39;s due to the overly-enthusiastic inlining of modules, which results in File::* from my install &#40;5.23.9&#41; being inlined unnecessarily, which I already fixed in the repo when haarg commented on it.

I shall do another release forthwith.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;11:23:04&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I shall do another release forthwith.
</div>
Hopefully now fixed with B-Hooks-EndOfScope-0.18-TRIAL.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;11:23:06&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;21&nbsp;18:03:38&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Fixed in 0.18-TRIAL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;22&nbsp;04:31:50&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 21 17:23:04 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; I shall do another release forthwith.
</div>&gt; 
&gt; Hopefully now fixed with B-Hooks-EndOfScope-0.18-TRIAL.
</div>
Seems to pass ok, will retest on stable to make sure.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;02&nbsp;20:50:11&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-22 01:31:50, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Apr 21 17:23:04 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; 
<div class="message-stanza open">&gt; &gt; &gt; I shall do another release forthwith.
</div>&gt; &gt; 
&gt; &gt; Hopefully now fixed with B-Hooks-EndOfScope-0.18-TRIAL.
</div>&gt; 
&gt; Seems to pass ok, will retest on stable to make sure.
&gt; 
&gt; 
</div>

Now stable in 0.19.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;02&nbsp;20:50:19&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;10:58:44&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue May 03 02:50:11 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2016-04-22 01:31:50, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt; On Thu Apr 21 17:23:04 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; 
<div class="message-stanza open">&gt; &gt; &gt; &gt; I shall do another release forthwith.
</div>&gt; &gt; &gt; 
&gt; &gt; &gt; Hopefully now fixed with B-Hooks-EndOfScope-0.18-TRIAL.
</div>&gt; &gt; 
&gt; &gt; Seems to pass ok, will retest on stable to make sure.
&gt; &gt; 
</div>&gt; 
&gt; Now stable in 0.19.
</div>
Sadly 0.19 broke everything again, as it reverted to bundling a large ./inc/ just like 0.17 did:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.18-TRIAL%2F">https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.18-TRIAL%2F</a></span>

In fact .19 now bundles even more than .17 did:
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.17-TRIAL%2F">https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.17-TRIAL%2F</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;10:58:46&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;12:43:25&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-05-06 07:58:44, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue May 03 02:50:11 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; On 2016-04-22 01:31:50, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Thu Apr 21 17:23:04 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; I shall do another release forthwith.
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hopefully now fixed with B-Hooks-EndOfScope-0.18-TRIAL.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Seems to pass ok, will retest on stable to make sure.
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt; Now stable in 0.19.
</div>&gt; 
&gt; Sadly 0.19 broke everything again, as it reverted to bundling a large
&gt; ./inc/ just like 0.17 did:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-">https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-</a></span>
&gt; 0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.18-TRIAL%2F
&gt; 
&gt; In fact .19 now bundles even more than .17 did:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-">https://metacpan.org/diff/file?target=ETHER%2FB-Hooks-EndOfScope-</a></span>
&gt; 0.19%2F&#38;source=ETHER%2FB-Hooks-EndOfScope-0.17-TRIAL%2F
</div>

I&#39;ve release 0.20 with the extra crud removed, and pursuing the new regression upstream.
I&#39;m extremely sorry about that; I neglected to check the tarball diff before I released because I hadn&#39;t changed anything in this distribution itself since the last trial.. but bits upstream had moved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;12:43:27&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;19:50:12&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Fixed in 0.20 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;19:50:12&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Broken in 0.17-TRIAL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;19:50:12&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Broken in 0.19 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;19:50:12&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Root issue patched in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=128089">https://rt.perl.org/Ticket/Display.html?id=128089</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;May&nbsp;06&nbsp;19:50:25&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Reference to https://rt.perl.org/Ticket/Display.html?id=128089 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
