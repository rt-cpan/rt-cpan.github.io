<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #59862 for Perl-Dist-Strawberry: Default state of Binmode is NOT binary pass thru</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #59862 for Perl-Dist-Strawberry: Default state of Binmode is NOT binary pass thru</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Dist-Strawberry">Perl-Dist-Strawberry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">59862</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Perl-Dist-Strawberry/Active/">Perl-Dist-Strawberry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bill.spernow [...] securitymentors.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-40214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;09:01:36&nbsp;2010</span>
    <span class="description">bill.spernow [...] securitymentors.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Default state of Binmode is NOT binary pass thru</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dist: Strawberry v5.12.0.1
Platform: Win 7 Ultimate 64 bit and XP Pro 64 bit

Put the attached files into a folder named C:\Perl_Binmode_BUG_Docs

When executed the script will calculate the MD5 hash value of the
included two TEXT files.  These two TEXT files are different in that one
has 0D/0A end-of-line values throughout the file, while the other ONLY
has OA values.

The problem I&#39;ve discovered is that PERL calculates the EXACT SAME hash
value for both files!!!

It appears that BINMODE in its default state is filtering OD hex values
out of the data stream such that they are NEVER passed on to the MD5
digest function.

Please advise...
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perl_Binmode_BUG_Example.pl</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">use bytes;

my $Count = 0;
my $PathPlusFilenameFound = &#39;&#39;;
my $FileNameFound = &#39;&#39;;
my $PathToFilenameFound = &#39;&#39;;
my $HashValueCalculated = 0;
my $md5;
my $Record;
my $PassCount = 0;
my $ASCII_Value;
use File::Find;
use Digest::MD5;
use File::Basename;

open &#40;DUMP, &#39;&gt;C:/Perl_BUG_Docs/Dump-File.txt&#39;&#41;;

@ARGV = qw&#40;C:/Perl_BUG_Docs/&#41; unless @ARGV;
sub GetAllNames { 
	$Count++;
	$PathPlusFilenameFound = $File::Find::name, -d &#38;&#38; &#34;/&#34;, &#34;\n&#34;;
  print &#34;1-Starting hash of $PathPlusFilenameFound\n&#34;;
	if &#40;$Count &gt; 1&#41; { 
	  $FileNameFound = basename&#40;$PathPlusFilenameFound&#41;;
	  $PathToFileNameFound = dirname&#40;$PathPlusFilenameFound&#41;;
	  print &#34;2-Changing DIR to $PathToFileNameFound\n&#34;;
	  chdir &#40;$PathToFileNameFound&#41;;
	  open&#40;SourceFile, &#34;&lt;$FileNameFound&#34;&#41; or die &#34;Can&#39;t open SourceFile: $!&#34;;
    print &#34;Just opened: $FileNameFound\n&#34;;
    $PassCount = 0;
    $Record = &#39;&#39;;
    binmode&#40;Source_File&#41;;

    $md5 = Digest::MD5-&gt;new;

       while &#40;read&#40;SourceFile, $Record, 1&#41;&#41; {
          $LenGot = length&#40;$Record&#41;;
          $md5-&gt;add&#40;$Record&#41;;
          $ASCII_Value = ord&#40;$Record&#41;;
          $PassCount++;
          print DUMP &#34;$FileNameFound  Count: $PassCount  Length: $LenGot  Data: $Record   $ASCII_Value\n&#34;;
          }
          
     $HashValueCalculated = $md5-&gt;hexdigest;
     close&#40;SourceFile&#41; or die &#34;Can&#39;t close SourceFile: $!&#34;;
     print  &#34;RESULTS: $PassCount  $HashValueCalculated  $FileNameFound\n\n&#34;;
     }  
  }
find &#40;\&#38;GetAllNames, @ARGV&#41;;
print &#34;Total Count is $Count\n&#34;;
close &#40;DUMP&#41;;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Example_Text_With-0Ds-0As.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Outside In® Viewer Technology © 1991, 2007, 2008, 2009 Oracle.
v8.3.2 for Windows 2000, XP, 2003 Server, Vista, 2008 Server

Updated Oct 1, 2009

This viewer component works with X-Ways Forensics/WinHex 12.1 and later,
if operated with a forensic license issued for v12.05 and later.

1&#41; If you already have a file named msvcr80.dll in your Windows system
under C:\Windows\WinSxS\x86_Microsoft.VC80.CRT_*, you can omit this
step. Otherwise first please install the appropriate Microsoft Visual C++
2005 SP1 Redistributable Package for your Windows environment.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=en</a></span>

2&#41; Extract all the viewer component files to a folder of your choice
and point X-Ways Forensics to this folder in the Options | Viewer
Programs dialog window, by clicking the &#34;...&#34; button in the &#34;Use
separate viewer component&#34; section. By default, X-Ways Forensics
expects the viewer component files in a subfolder \viewer of its own
installation path.

3&#41; Enable [x] Use separate viewer component.

The viewer component will now be used for the preview mode and for
the full window view &#40;when double-clicking files in the directory
browser&#41;. It also enables finding in text PDF documents and more.


--


Zuletzt aktualisiert am 1. Okt. 2009.

Diese Viewer-Komponente funktioniert mit X-Ways Forensics/WinHex 12.1
und neuer, wenn betrieben mit einer forensischen Lizenz, die auf v12.05
oder neuer ausgestellt ist.

1&#41; Wenn Sie bereits eine Datei namens msvcr80.dll in Ihrem Windows-System
unter C:\Windows\WinSxS\x86_Microsoft.VC80.CRT_* haben, können Sie diesen
Schritt überspringen. Andernfalls installieren Sie bitte erst das korrekte
Microsoft Visual C++ 2005 SP1 Redistributable Package für Ihr Windows.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=de">http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=de</a></span>

2&#41; Extrahieren Sie alle Dateien der Viewer-Komponente in einen Ordner
Ihrer Wahl und verweisen Sie X-Ways Forensics auf diesen Ordner im
Dialogfenster Optionen | Viewer-Programme, indem Sie auf den Schalter
&#34;...&#34; hinter &#34;Separate Viewer-Komponente verwenden&#34; klicken. Standardmäßig
erwartet X-Ways Forensics die Viewer-Komponente im Ordner \viewer unterhalb
des Installationspfads.

3&#41; Schalten Sie [x] &#34;Separate Viewer-Komponente verwenden&#34; ein.

Die Viewer-Komponente wird fortan für den Vorschau-Modus und die
volle Fensteransicht &#40;nach Doppelklick auf Dateien im Verzeichnis-Browser&#41;
verwendet. Sie erlaubt auch das Finden von Text in PDF-Dokumenten u. a.</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Example_Text_Without-0Ds.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Outside In® Viewer Technology © 1991, 2007, 2008, 2009 Oracle.
v8.3.2 for Windows 2000, XP, 2003 Server, Vista, 2008 Server

Updated Oct 1, 2009

This viewer component works with X-Ways Forensics/WinHex 12.1 and later,
if operated with a forensic license issued for v12.05 and later.

1&#41; If you already have a file named msvcr80.dll in your Windows system
under C:\Windows\WinSxS\x86_Microsoft.VC80.CRT_*, you can omit this
step. Otherwise first please install the appropriate Microsoft Visual C++
2005 SP1 Redistributable Package for your Windows environment.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=en">http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=en</a></span>

2&#41; Extract all the viewer component files to a folder of your choice
and point X-Ways Forensics to this folder in the Options | Viewer
Programs dialog window, by clicking the &#34;...&#34; button in the &#34;Use
separate viewer component&#34; section. By default, X-Ways Forensics
expects the viewer component files in a subfolder \viewer of its own
installation path.

3&#41; Enable [x] Use separate viewer component.

The viewer component will now be used for the preview mode and for
the full window view &#40;when double-clicking files in the directory
browser&#41;. It also enables finding in text PDF documents and more.


--


Zuletzt aktualisiert am 1. Okt. 2009.

Diese Viewer-Komponente funktioniert mit X-Ways Forensics/WinHex 12.1
und neuer, wenn betrieben mit einer forensischen Lizenz, die auf v12.05
oder neuer ausgestellt ist.

1&#41; Wenn Sie bereits eine Datei namens msvcr80.dll in Ihrem Windows-System
unter C:\Windows\WinSxS\x86_Microsoft.VC80.CRT_* haben, können Sie diesen
Schritt überspringen. Andernfalls installieren Sie bitte erst das korrekte
Microsoft Visual C++ 2005 SP1 Redistributable Package für Ihr Windows.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=de">http://www.microsoft.com/downloads/details.aspx?FamilyID=200b2fd9-ae1a-4a14-984d-389c36f85647&#38;DisplayLang=de</a></span>

2&#41; Extrahieren Sie alle Dateien der Viewer-Komponente in einen Ordner
Ihrer Wahl und verweisen Sie X-Ways Forensics auf diesen Ordner im
Dialogfenster Optionen | Viewer-Programme, indem Sie auf den Schalter
&#34;...&#34; hinter &#34;Separate Viewer-Komponente verwenden&#34; klicken. Standardmäßig
erwartet X-Ways Forensics die Viewer-Komponente im Ordner \viewer unterhalb
des Installationspfads.

3&#41; Schalten Sie [x] &#34;Separate Viewer-Komponente verwenden&#34; ein.

Die Viewer-Komponente wird fortan für den Vorschau-Modus und die
volle Fensteransicht &#40;nach Doppelklick auf Dateien im Verzeichnis-Browser&#41;
verwendet. Sie erlaubt auch das Finden von Text in PDF-Dokumenten u. a.</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;26&nbsp;15:50:16&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Try to turn warnings on and you will see:<br>

binmode() on unopened filehandle Source_File at ....<br>

<br>

then fix it like this:<br>

- binmode(Source_File);<br>

+ binmode(SourceFile);<br>

<br>

and you will got the expected result.<br>

<br>

--<br>

kmx<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;26&nbsp;15:50:17&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;26&nbsp;15:50:18&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
