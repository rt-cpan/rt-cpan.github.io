<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #123126 for XML-Compile-SOAP: Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #123126 for XML-Compile-SOAP: Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=XML-Compile-SOAP">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=XML-Compile-SOAP">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=XML-Compile-SOAP">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=XML-Compile-SOAP">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-Compile-SOAP">XML-Compile-SOAP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">123126</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=XML-Compile-SOAP">XML-Compile-SOAP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jordan.ayers [...] paydia.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45614-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45615-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




header_body_test_case.tgz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1750317/941583/header_body_test_case.tgz">
Fri Sep 29 11:25:26 2017 (1.7k) by jordan.ayers [...] paydia.com
</a>
</font></li>
</ul>


OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1750317/941582/OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png">
Fri Sep 29 11:25:26 2017 (5.7k) by jordan.ayers [...] paydia.com
</a>
</font></li>
</ul>


OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1750081/941436/OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png">
Wed Sep 27 19:00:34 2017 (5.7k) by jordan.ayers [...] paydia.com
</a>
</font></li>
</ul>


OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1749770/941227/OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png">
Mon Sep 25 19:07:46 2017 (5.7k) by jordan.ayers [...] paydia.com
</a>
</font></li>
</ul>


OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1750648/941801/OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png">
Mon Oct 02 10:33:56 2017 (5.7k) by jordan.ayers [...] paydia.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=123126">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1749770" href="/Public/Bug/Display.html?id=123126#txn-1749770">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;25&nbsp;19:07:46&nbsp;2017</span>
    <span class="description">jordan.ayers [...] paydia.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 25 Sep 2017 22:51:41 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-Compile-SOAP [...] rt.cpan.org&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jordan Ayers &lt;jordan.ayers [...] paydia.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1749770/941225/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941225">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,


    I&#39;ve used XML::Compile::SOAP as part of an interface to some unusual SOAP services.  While I&#39;ve been able to interact with most without changes to the module, the built in special handling of &#39;Header&#39; and &#39;Body&#39; properties appear to be incompatible with one set of services.  I have a patch &#40;copy included below&#41; that covers my needs, but was wondering if an option to disable this behavior on a specific request or action could be added to the module.


Basic structure of the needed request:
&lt;Envelope&gt;&lt;Body&gt;

&lt;FooRequest&gt;

&lt;Header prop1=&#34;a&#34; prop2=&#34;b&#34; /&gt;

&lt;Body&gt;

    &lt;Bar&gt;123&lt;/Bar&gt;

&lt;/Body&gt;

&lt;/FooRequest&gt;

&lt;/Body&gt;&lt;/Envelope&gt;


Basic structure of client code:

my $wsdl = XML::Compile::WSDL11-&gt;new&#40;&#39;SomeServices.wsdl&#39;&#41;;

$wsdl-&gt;importDefinitions&#40;&#39;SomeService.xsd&#39;&#41;;

my $foo_call = $wsdl-&gt;compileClient&#40;&#39;Operation_Foo&#39;, server =&gt; $server_address&#41;;

my &#40;$res, $trace&#41; = $foo_call-&gt;&#40;{

    Header =&gt; { prop1 =&gt; &#39;a&#39;, prop2 =&gt; &#39;b&#39; },

    Body =&gt; { Bar =&gt; &#39;123&#39; },

}&#41;;


But this produces something like:

&lt;Envelope&gt;&lt;Header /&gt;&lt;Body /&gt;&lt;/Envelope&gt;


I also tried using { Body =&gt; { FooRequest =&gt; { Header =&gt; ..., Body =&gt; ... } } for the call, but that produced &lt;Envelope&gt;&lt;Body /&gt;&lt;/Envelope&gt;.  If there&#39;s another way to submit this kind of request, I haven&#39;t found it yet.


I was only implementing client side code; no testing was done related to generating server code.  Issues appear to be only on the message building side of things; I found workarounds for any issues parsing responses without changes to this module.


Environment:

    I&#39;m running this under perl 5.24.2 on CentOS 6.  The service files appear to be SOAP 1.1 services &#40;using <span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/soap/">http://schemas.xmlsoap.org/soap/</a></span>, <span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/soap/encoding/">http://schemas.xmlsoap.org/soap/encoding/</a></span>, etc.&#41;.  The actual wsdl/xsd files are probably under an NDA; if it matters, I could try to put together definition files for the work-alike example above instead.  SOAP modules in use for the client code:
XML::Compile::WSDL11 3.06

XML::Compile::SOAP, XML::Compile::SOAP11, XML::Compile::Transport::SOAPHTTP &#40;this package, version 3.22&#41;



This patch moves the problem from one unlikely name collision to another.  A better interface for such a switch would be as an option to $wsdl-&gt;compileClient&#40;&#41;, but I am not familiar with what would be needed to implement that.  This patch allows the following code to produce the desired request:

my &#40;$res, $trace&#41; = $foo_call-&gt;&#40;{

    PassHeaderAndBody =&gt; {},

    Header =&gt; { prop1 =&gt; &#39;a&#39;, prop2 =&gt; &#39;b&#39; },

    Body =&gt; { Bar =&gt; &#39;123&#39; },

}&#41;;


diff against XML::Compile::SOAP 3.22:

--- a/lib/XML/Compile/SOAP.pm     2017-06-30 03:05:06.000000000 -0600
+++ b/lib/XML/Compile/SOAP.pm     2017-09-25 15:49:04.000000000 -0500
@@ -100,6 +100,9 @@
     my $env = $xml-&gt;isa&#40;&#39;XML::LibXML::Document&#39;&#41; ? $xml-&gt;documentElement :$xml;

     my &#40;@header, @body, $wsa_action&#41;;
+# Add an off switch for this behavior...
+my&#40;$skip&#41; = $env-&gt;getChildrenByLocalName&#40;&#39;PassHeaderAndBody&#39;&#41;;
+if &#40; !$skip &#41; {
     if&#40;my &#40;$header&#41; = $env-&gt;getChildrenByLocalName&#40;&#39;Header&#39;&#41;&#41;
     {   @header = map { $_-&gt;isa&#40;&#39;XML::LibXML::Element&#39;&#41; ? type_of_node&#40;$_&#41; : &#40;&#41;}
            $header-&gt;childNodes;
@@ -114,6 +117,7 @@
     {   @body = map { $_-&gt;isa&#40;&#39;XML::LibXML::Element&#39;&#41; ? type_of_node&#40;$_&#41; : &#40;&#41; }
            $body-&gt;childNodes;
     }
+}

     +{ header     =&gt; \@header
      , body       =&gt; \@body
@@ -177,7 +181,13 @@
           || XML::LibXML::Document-&gt;new&#40;&#39;1.0&#39;, $charset || &#39;UTF-8&#39;&#41;;

         my %data;
-        $data{$_}  = delete $copy{$_} for qw/Header Body/;
+        # Add an off switch for this behavior...
+        if &#40; defined $copy{PassHeaderAndBody} &#41; {
+            delete $copy{PassHeaderAndBody};
+        }
+        else{
+            $data{$_}  = delete $copy{$_} for qw/Header Body/;
+        }
         $data{Body} ||= {};

         foreach my $label &#40;@$hlabels&#41;

Jordan Ayers
Chief Software Engineer
[1471356788247_PastedImage]
Jordan.Ayers@COREcashless.com&lt;mailto:Jordan.Ayers@COREcashless.com&gt;
www.COREcashless.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1749770/941226/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941226">with headers</a>
<br />
<span class="downloadcontenttype">text/html 10.1k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1749770/941227/OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png">Download OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png</a><br />
<span class="downloadcontenttype">image/png 5.7k</span>
</div>
<div class="messagebody">
<img alt="OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png" title="OutlookEmoji-1471356788247_PastedImagef0472531-6874-4567-9e2b-6ec10c41dcb1.png" src="/Ticket/Attachment/1749770/941227/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750067" href="/Public/Bug/Display.html?id=123126#txn-1750067">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;27&nbsp;17:10:54&nbsp;2017</span>
    <span class="description">Mark [...] Overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 27 Sep 2017 22:54:02 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Jordan Ayers via RT &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;mark [...] overmeer.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750067/941423/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941423">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Jordan Ayers via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [170926 12:34]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Mon Sep 25 19:07:46 2017: Request 123126 was acted upon.
&gt; Transaction: Ticket created by jordan.ayers@paydia.com
&gt;        Queue: XML-Compile-SOAP
&gt;      Subject: Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Basic structure of the needed request:
&gt; &lt;Envelope&gt;&lt;Body&gt;
&gt;   &lt;FooRequest&gt;
&gt;     &lt;Header prop1=&#34;a&#34; prop2=&#34;b&#34; /&gt;
&gt;     &lt;Body&gt;&lt;Bar&gt;123&lt;/Bar&gt;&lt;/Body&gt;
&gt;   &lt;/FooRequest&gt;
&gt; &lt;/Body&gt;&lt;/Envelope&gt;
</div>
Wow, this tops my long list of broken WSDL designs!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I also tried using { Body =&gt; { FooRequest =&gt; { Header =&gt; ..., Body =&gt;
&gt; ... } } for the call, but that produced &lt;Envelope&gt;&lt;Body /&gt;&lt;/Envelope&gt;.
&gt; If there&#39;s another way to submit this kind of request, I haven&#39;t found
&gt; it yet.
</div>
I think that $wsdl-&gt;explain will suggest you to use
    Body =&gt; { Header =&gt; ..., Body =&gt; ... }
Have you tried that?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The actual wsdl/xsd files are probably under an NDA;
</div>
I would keep those WSDLs hidden from the outside world as well ;-&#41;

Are you sure that the response is incorrectly decoded?
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750068" href="/Public/Bug/Display.html?id=123126#txn-1750068">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;27&nbsp;17:10:55&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750081" href="/Public/Bug/Display.html?id=123126#txn-1750081">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;27&nbsp;19:00:34&nbsp;2017</span>
    <span class="description">jordan.ayers [...] paydia.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 27 Sep 2017 22:27:20 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-Compile-SOAP [...] rt.cpan.org&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jordan Ayers &lt;jordan.ayers [...] paydia.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750081/941434/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941434">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Mark,


    Thanks for taking a look.


    I had missed $wsdl-&gt;explain, but it recommends the { Header =&gt; ..., Body =&gt; ... } approach I started with.


  Trying the { Body =&gt; { Header =&gt; ..., Body =&gt; ... } } approach also produced &lt;Envelope&gt;&lt;Body /&gt;&lt;Envelope&gt;.


    I don&#39;t have any known issues on the input parsing side; initial implementation on this was a few years ago &#40;with version 2.26&#41;, and between my local demo server not matching the real one, and probably doing a few things the hard way, I expect the complexity in the code there is my fault.  It&#39;s working without patches and I was going to leave that part alone.

    But if this request structure is technically allowed but not currently usable, I thought it might be worth checking upstream, rather than carrying my patches forward each dependency update.



Other details from $wsdl-&gt;explain &#40;equivalent to this&#41;:

# Describing complex fooNs:FooRequest

# is an unnamed complex

{ # sequence of Header, Body


  # is an unnamed complex

  Header =&gt;

  { # list of attributes; mostly strings

  }


  # is an unnamed complex

  Body =&gt;

  { # Sequence of Bar, Bar2


    # is a xs:string

    Bar =&gt; &#34;example&#34;,


    # is a  xs:string

    # is optional

    Bar2 =&gt; &#34;example&#34;,

  }, }


Jordan Ayers
Chief Software Engineer
[1471356788247_PastedImage]
Jordan.Ayers@COREcashless.com&lt;mailto:Jordan.Ayers@COREcashless.com&gt;
www.COREcashless.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750081/941435/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941435">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.3k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750081/941436/OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png">Download OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png</a><br />
<span class="downloadcontenttype">image/png 5.7k</span>
</div>
<div class="messagebody">
<img alt="OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png" title="OutlookEmoji-1471356788247_PastedImageafbede9d-fd88-4317-ae73-3e0603e4ba14.png" src="/Ticket/Attachment/1750081/941436/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750136" href="/Public/Bug/Display.html?id=123126#txn-1750136">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;28&nbsp;06:15:57&nbsp;2017</span>
    <span class="description">mark [...] nluug.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 Sep 2017 11:56:03 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Jordan Ayers via RT &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;mark [...] nluug.nl&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750136/941461/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941461">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Jordan Ayers via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [170927 23:01]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123126">https://rt.cpan.org/Ticket/Display.html?id=123126</a></span> &gt;
&gt; 
&gt; Trying the { Body =&gt; { Header =&gt; ..., Body =&gt; ... } } approach
&gt; also produced &lt;Envelope&gt;&lt;Body /&gt;&lt;Envelope&gt;.
</div>
Don&#39;t you get any warnings about &#39;unused tags&#39;?
Try  &#34;use Log::Report mode =&gt; 2;&#34;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But if this request structure is technically allowed but not currently
&gt; usable, I thought it might be worth checking upstream, rather than
&gt; carrying my patches forward each dependency update.
</div>
I see no reason for your schema not to work, besides the simplification
in collecting Header and Body parameters...

In XML/Compile/SOAP.pm line 205, you will find two commented lines of
code.  Uncomment them, and see whether your parameters get unpacked
correctly.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Other details from $wsdl-&gt;explain &#40;equivalent to this&#41;:
&gt; 
&gt; # Describing complex fooNs:FooRequest
&gt; # is an unnamed complex
&gt; 
&gt; { # sequence of Header, Body
&gt;   # is an unnamed complex
&gt; 
&gt;   Header =&gt;
&gt;   { # list of attributes; mostly strings
&gt;   }
&gt; 
&gt;   # is an unnamed complex
&gt;   Body =&gt;
&gt;   { # Sequence of Bar, Bar2
&gt;     # is a xs:string
&gt;     Bar =&gt; &#34;example&#34;,
&gt; 
&gt;     # is a  xs:string
&gt;     # is optional
&gt;     Bar2 =&gt; &#34;example&#34;,
&gt;   }, }
</div>
Yeh, this is as I expected it to be.  So this should work:
   $wsdl-&gt;call&#40;&#39;...mycall...&#39;, Body =&gt;
      { Header =&gt; {}, Body =&gt; { Bar =&gt; &#39;example&#39;, Bar2 =&gt; &#39;example&#39; } };

I expect you eversee another error message, unrelated to the Body/Body
problem.
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750317" href="/Public/Bug/Display.html?id=123126#txn-1750317">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;29&nbsp;11:25:26&nbsp;2017</span>
    <span class="description">jordan.ayers [...] paydia.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Sep 2017 15:24:52 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-Compile-SOAP [...] rt.cpan.org&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jordan Ayers &lt;jordan.ayers [...] paydia.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750317/941580/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941580">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 585b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m still not able to force the right structure, but I&#39;ve now put together a test case which exhibits the problem, and uses similar methods to define the service action&#39;s body format.  Files attached. You should be able to reproduce the issue with this.


Results for the various ways suggested so far for issuing the call are included, but none are producing the expected format.  Output includes the unused property warnings.


Jordan Ayers
Chief Software Engineer
[1471356788247_PastedImage]
Jordan.Ayers@COREcashless.com&lt;mailto:Jordan.Ayers@COREcashless.com&gt;
www.COREcashless.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750317/941581/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941581">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.7k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750317/941582/OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png">Download OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png</a><br />
<span class="downloadcontenttype">image/png 5.7k</span>
</div>
<div class="messagebody">
<img alt="OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png" title="OutlookEmoji-1471356788247_PastedImage13544a13-c5e0-48d1-9397-a7d830cb088b.png" src="/Ticket/Attachment/1750317/941582/" /></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750317/941583/header_body_test_case.tgz">Download header_body_test_case.tgz</a><br />
<span class="downloadcontenttype">application/x-compressed-tar 1.7k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750505" href="/Public/Bug/Display.html?id=123126#txn-1750505">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;01&nbsp;03:44:51&nbsp;2017</span>
    <span class="description">Mark [...] Overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 1 Oct 2017 09:44:26 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Jordan Ayers via RT &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;mark [...] overmeer.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750505/941698/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941698">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Mark Overmeer &#40;mark@nluug.nl&#41; [170928 11:56]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; * Jordan Ayers via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [170927 23:01]:
<div class="message-stanza open">&gt; &gt;        Queue: XML-Compile-SOAP
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123126">https://rt.cpan.org/Ticket/Display.html?id=123126</a></span> &gt;
&gt; &gt; 
&gt; &gt; Trying the { Body =&gt; { Header =&gt; ..., Body =&gt; ... } } approach
&gt; &gt; also produced &lt;Envelope&gt;&lt;Body /&gt;&lt;Envelope&gt;.
</div></div>
Your example helped me a lot.  I tried to figure-out what was wrong for
quite some time... until I decided to create a version which was nearly
the same, but without conflicting names...

Actually, fields { A =&gt; 1, B =&gt; 2 } are
not short for Body =&gt; { A =&gt; 1, B =&gt; 2 } and also
not short for Body =&gt; $operation =&gt; { A =&gt; 1, B =&gt; 2 }
but Body =&gt; $body_part_name =&gt; { A =&gt; 1, B =&gt; 2 }

The reason is that a body can contain more than one part.   The
structure is equivalent to that of the header components.

In your example WSDL, the body part&#39;s name is &#39;part&#39;.  Hence:
    Body =&gt; part =&gt; { Body =&gt; {}, Header =&gt; {} }

I hope that helps.
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750648" href="/Public/Bug/Display.html?id=123126#txn-1750648">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;02&nbsp;10:33:56&nbsp;2017</span>
    <span class="description">jordan.ayers [...] paydia.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 2 Oct 2017 14:18:41 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-Compile-SOAP [...] rt.cpan.org&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jordan Ayers &lt;jordan.ayers [...] paydia.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750648/941799/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941799">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 822b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I see it in the $wsdl-&gt;explain&#40;&#41; output now; I had thought &#39;$part&#39; was a library assigned name when I first saw it, and had forgotten that line by the time I was preparing the example.  And since I left it out of my earlier post, there wasn&#39;t any way for you to see it initially.

So it is possible, and the calling style is discoverable &#40;so a control over the calling style won&#39;t add any value here&#41;.  I was chasing the wrong behavior when the short calling style stopped working &#40;header/body handling vs. automatic part name insertion&#41;.

This set of modules has been very helpful in several service integrations for us; it&#39;s good work.


Thank you for your time.


Jordan Ayers
Chief Software Engineer
[1471356788247_PastedImage]
Jordan.Ayers@COREcashless.com&lt;mailto:Jordan.Ayers@COREcashless.com&gt;
www.COREcashless.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750648/941800/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941800">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.7k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750648/941801/OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png">Download OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png</a><br />
<span class="downloadcontenttype">image/png 5.7k</span>
</div>
<div class="messagebody">
<img alt="OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png" title="OutlookEmoji-1471356788247_PastedImagef3f9c2cb-e4e4-427c-b849-82f40079f4d7.png" src="/Ticket/Attachment/1750648/941801/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1750774" href="/Public/Bug/Display.html?id=123126#txn-1750774">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;03&nbsp;03:03:52&nbsp;2017</span>
    <span class="description">solutions [...] overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #123126] Issues when request element has properties named &#39;Header&#39; and &#39;Body&#39;.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 3 Oct 2017 08:46:44 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Jordan Ayers via RT &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;solutions [...] overmeer.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1750774/941862/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/941862">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Jordan Ayers via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [171002 14:34]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=123126">https://rt.cpan.org/Ticket/Display.html?id=123126</a></span> &gt;
&gt; 
&gt; I see it in the $wsdl-&gt;explain&#40;&#41; output now; I had thought &#39;$part&#39;
&gt; was a library assigned name when I first saw it, and had forgotten that
&gt; line by the time I was preparing the example.  And since I left it out
&gt; of my earlier post, there wasn&#39;t any way for you to see it initially.
</div>
Ten years after the initial implementation, I cannot remember all the
weirdness either ;-&#41;  The explain text will be a little bit clearer for
next release.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
</div>Thank you for your great example: hunting bugs very important for the
quality of code!
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1756224" href="/Public/Bug/Display.html?id=123126#txn-1756224">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;08&nbsp;04:05:56&nbsp;2017</span>
    <span class="description">MARKOV [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1756224/944968/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/944968">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 104b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">After a long hunt for the correct solution, we discovered that there is no need
for changes in the code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1756226" href="/Public/Bug/Display.html?id=123126#txn-1756226">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;08&nbsp;04:05:56&nbsp;2017</span>
    <span class="description">MARKOV [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.798191</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
