<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #63494 for XML-Compile-SOAP: response with complex array type fails to parse</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #63494 for XML-Compile-SOAP: response with complex array type fails to parse</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/XML-Compile-SOAP/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/XML-Compile-SOAP/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/XML-Compile-SOAP/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/XML-Compile-SOAP/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-Compile-SOAP">XML-Compile-SOAP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">63494</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/XML-Compile-SOAP/Active/">XML-Compile-SOAP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cpan698301 [...] mstier.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45614-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45615-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;01&nbsp;04:46:35&nbsp;2010</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> response with complex array type fails to parse</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No error, I just get an undefined answer.


Response from PHP SoapServer:

&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;SOAP-ENV:Envelope
xmlns:SOAP-ENV=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/soap/envelope/">http://schemas.xmlsoap.org/soap/envelope/</a></span>&#34;
xmlns:ns1=&#34;MyCompany.SubDivision&#34;&gt;&lt;SOAP-ENV:Body&gt;&lt;ns1:DeleteServerResponse&gt;&lt;ns1:status&gt;0&lt;/ns1:status&gt;&lt;ns1:errmessage&gt;no
error&lt;/ns1:errmessage&gt;&lt;ns1:content&gt;&lt;ns1:Description&gt;&lt;ns1:some_id&gt;3&lt;/ns1:some_id&gt;&lt;/ns1:Description&gt;&lt;ns1:Description&gt;&lt;ns1:some_id&gt;1&lt;/ns1:some_id&gt;&lt;/ns1:Description&gt;&lt;ns1:Description&gt;&lt;ns1:some_id&gt;456&lt;/ns1:some_id&gt;&lt;/ns1:Description&gt;&lt;/ns1:content&gt;&lt;/ns1:DeleteServerResponse&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;


WSDL is attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> WSDL_arraytest.xml</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;wsdl:definitions xmlns:soap=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/soap/">http://schemas.xmlsoap.org/wsdl/soap/</a></span>&#34; xmlns:tm=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://microsoft.com/wsdl/mime/textMatching/">http://microsoft.com/wsdl/mime/textMatching/</a></span>&#34; xmlns:mime=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/mime/">http://schemas.xmlsoap.org/wsdl/mime/</a></span>&#34; xmlns:tns=&#34;MyCompany.SubDivision&#34; xmlns:xsd=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</a></span>&#34; xmlns:http=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/http/">http://schemas.xmlsoap.org/wsdl/http/</a></span>&#34; targetNamespace=&#34;MyCompany.SubDivision&#34; xmlns:wsdl=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/">http://schemas.xmlsoap.org/wsdl/</a></span>&#34; xmlns:SOAP-ENC=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/soap/encoding/">http://schemas.xmlsoap.org/soap/encoding/</a></span>&#34;&gt;
  &lt;wsdl:documentation xmlns:wsdl=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/">http://schemas.xmlsoap.org/wsdl/</a></span>&#34;&gt;some description&lt;/wsdl:documentation&gt;
  &lt;wsdl:types&gt;
    &lt;xsd:schema elementFormDefault=&#34;qualified&#34; targetNamespace=&#34;MyCompany.SubDivision&#34;&gt;
      &lt;xsd:complexType name=&#34;Description&#34;&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:element minOccurs=&#34;1&#34; maxOccurs=&#34;1&#34; name=&#34;some_id&#34; type=&#34;xsd:integer&#34; /&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:complexType&gt;
      &lt;xsd:complexType name=&#34;ArrayOfDescription&#34;&gt;
        &lt;xsd:complexContent mixed=&#34;false&#34;&gt;
          &lt;xsd:restriction base=&#34;SOAP-ENC:Array&#34;&gt;
            &lt;xsd:attribute ref=&#34;SOAP-ENC:arrayType&#34; wsdl:arrayType=&#34;tns:Description[]&#34; /&gt;
          &lt;/xsd:restriction&gt;
        &lt;/xsd:complexContent&gt;
      &lt;/xsd:complexType&gt;
      &lt;xsd:element name=&#34;DeleteServer&#34;&gt;
        &lt;xsd:complexType&gt;
          &lt;xsd:sequence&gt;
            &lt;xsd:element minOccurs=&#34;1&#34; maxOccurs=&#34;1&#34; name=&#34;strMACAddress&#34; type=&#34;xsd:string&#34; /&gt;
          &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;
      &lt;/xsd:element&gt;
      &lt;xsd:element name=&#34;DeleteServerResponse&#34;&gt;
        &lt;xsd:complexType&gt;
          &lt;xsd:sequence&gt;
            &lt;xsd:element minOccurs=&#34;1&#34; maxOccurs=&#34;1&#34; name=&#34;status&#34; type=&#34;xsd:integer&#34; /&gt;
            &lt;xsd:element minOccurs=&#34;1&#34; maxOccurs=&#34;1&#34; name=&#34;errmessage&#34; type=&#34;xsd:string&#34; /&gt;
            &lt;xsd:element minOccurs=&#34;1&#34; maxOccurs=&#34;1&#34; name=&#34;content&#34; type=&#34;tns:ArrayOfDescription&#34; /&gt;
          &lt;/xsd:sequence&gt;
        &lt;/xsd:complexType&gt;
      &lt;/xsd:element&gt;
    &lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name=&#34;DeleteServerSoapIn&#34;&gt;
    &lt;wsdl:part name=&#34;parameters&#34; element=&#34;tns:DeleteServer&#34; /&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:message name=&#34;DeleteServerSoapOut&#34;&gt;
    &lt;wsdl:part name=&#34;parameters&#34; element=&#34;tns:DeleteServerResponse&#34; /&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:portType name=&#34;MyCompany.SubDivisionSoap&#34;&gt;
    &lt;wsdl:operation name=&#34;DeleteServer&#34;&gt;
      &lt;wsdl:input message=&#34;tns:DeleteServerSoapIn&#34; /&gt;
      &lt;wsdl:output message=&#34;tns:DeleteServerSoapOut&#34; /&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:portType&gt;
  &lt;wsdl:binding name=&#34;MyCompany.SubDivisionSoap&#34; type=&#34;tns:MyCompany.SubDivisionSoap&#34;&gt;
    &lt;soap:binding transport=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/soap/http">http://schemas.xmlsoap.org/soap/http</a></span>&#34; /&gt;
    &lt;wsdl:operation name=&#34;DeleteServer&#34;&gt;
      &lt;soap:operation soapAction=&#34;MyCompany.SubDivision/DeleteServer&#34; style=&#34;document&#34; /&gt;
      &lt;wsdl:input&gt;
        &lt;soap:body use=&#34;literal&#34; /&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
        &lt;soap:body use=&#34;literal&#34; /&gt;
      &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:binding&gt;
  &lt;wsdl:service name=&#34;MyCompany.SubDivision&#34;&gt;
    &lt;wsdl:documentation xmlns:wsdl=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://schemas.xmlsoap.org/wsdl/">http://schemas.xmlsoap.org/wsdl/</a></span>&#34;&gt;URIs get invalidated after some time. You need to re-load this WSDL then. Do not try to obtain them manually because they are attached to session handling.&lt;/wsdl:documentation&gt;
    &lt;wsdl:port name=&#34;MyCompany.SubDivisionSoap&#34; binding=&#34;tns:MyCompany.SubDivisionSoap&#34;&gt;
      &lt;soap:address location=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://127.0.0.1/soap/server_arraytest.php">http://127.0.0.1/soap/server_arraytest.php</a></span>&#34; /&gt;
    &lt;/wsdl:port&gt;
  &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;24&nbsp;05:26:20&nbsp;2010</span>
    <span class="description">MARKOV [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">sorry, missed it.

The bug may be present, but your description is unclear and I do not
have an environment where I can test your example. It would be easiest
if you try to debug it with by adding a few print statements to
XML/Compile/SOAP11/Encoding.pm

SOAP-RPC is a bad idea.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;24&nbsp;05:26:21&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;24&nbsp;06:43:20&nbsp;2010</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The bug may be present, but your description is unclear and I do not
&gt; have an environment where I can test your example. It would be easiest
&gt; if you try to debug it with by adding a few print statements to
&gt; XML/Compile/SOAP11/Encoding.pm
</div>
Would it help, too, to set up the corresponding service port?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; SOAP-RPC is a bad idea.
</div>
Why is that? Do you recommended alternative? Would be very helpful
because we are planning some &#40;rpc like?&#41; platform-independent API based
on web/ip protocols.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;24&nbsp;11:25:11&nbsp;2010</span>
    <span class="description">Mark [...] Overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #63494] response with complex array type fails to parse</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 24 Dec 2010 17:24:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;mark [...] overmeer.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">* <span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [101224 11:43]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63494">https://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt; &gt; The bug may be present, but your description is unclear and I do not
&gt; &gt; have an environment where I can test your example. It would be easiest
&gt; &gt; if you try to debug it with by adding a few print statements to
&gt; &gt; XML/Compile/SOAP11/Encoding.pm
</div>&gt; 
&gt; Would it help, too, to set up the corresponding service port?
</div>
Yes, a server/port combination with the real server behind it
would help.  I&#39;ll try to fix it.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; SOAP-RPC is a bad idea.
</div>&gt; 
&gt; Why is that? Do you recommended alternative? Would be very helpful
&gt; because we are planning some &#40;rpc like?&#41; platform-independent API based
&gt; on web/ip protocols.
</div>
RPC is not well-defined; it passes data without a pre-defined nice
structure. The receiving program can only hope that the structure is
about the same as last time...

At the same time, there is very solid way of passing data via SOAP in
document style. Of course, people have to take a few minutes to describe
their data-structures in schema&#39;s, but it is well spent.
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;28&nbsp;07:40:30&nbsp;2010</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Would it help, too, to set up the corresponding service port?
</div>&gt; 
&gt; Yes, a server/port combination with the real server behind it
&gt; would help.  I&#39;ll try to fix it.
</div>
Ok, here it is:

<span class="clickylink"><a target="new" rel="nofollow" href="http://pub.mstier.de/soaptest/server_arraytest.php?WSDL">http://pub.mstier.de/soaptest/server_arraytest.php?WSDL</a></span>

Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;28&nbsp;15:40:20&nbsp;2010</span>
    <span class="description">solutions [...] overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #63494] response with complex array type fails to parse</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Dec 2010 21:40:03 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;solutions [...] overmeer.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">* <span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [101228 12:40]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63494">https://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Would it help, too, to set up the corresponding service port?
</div>&gt; &gt; 
&gt; &gt; Yes, a server/port combination with the real server behind it
&gt; &gt; would help.  I&#39;ll try to fix it.
</div>&gt; 
&gt; Ok, here it is:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://pub.mstier.de/soaptest/server_arraytest.php?WSDL">http://pub.mstier.de/soaptest/server_arraytest.php?WSDL</a></span>
</div>
I get a &#34;forbidden&#34;
Please sent the correct address via a direct mail, not via public RT.
-- 
               MarkOv

------------------------------------------------------------------------
drs Mark A.C.J. Overmeer                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;01&nbsp;19:17:49&nbsp;2011</span>
    <span class="description">Mark [...] Overmeer.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #63494] response with complex array type fails to parse</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 2 Jan 2011 01:17:32 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT&#34; &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;mark [...] overmeer.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">* <span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span> via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [101224 11:43]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63494">https://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt;&gt; SOAP-RPC is a bad idea.
</div></div>
Actually, the WSDL is neither document style SOAP &#40;as it tells it is&#41;
nor SOAP-RPC... it is somewhere inbetween. I am not sure whether this
SOAP-ENC use in document style SOAP is permitted. At least you are the
first to complain about it ;-&#41;

Are you able to influence the WSDL?  Then consider the following:
  . change the target namespace in something which is URI compliant
  . change the status and some_id type into &#34;int&#34; &#40;not &#34;integer&#34;,
    which can be 18 digits&#41;.
  . change &#34;some_id&#34; into &#34;some-id&#34;, XML style.
  . change the &#34;content&#34; definition into

   &lt;xsd:element ref=&#34;tns:content&#34; /&gt;
   ...
   &lt;xsd:element name=&#34;content&#34;&gt;
     &lt;xsd:sequence&gt;
       &lt;xsd:element name=&#34;Description&#34; type=&#34;tns:description&#34;
           minOccurs=&#34;0&#34; maxOccurs=&#34;unbounded&#34; /&gt;
     &lt;/xsd:sequence&gt;
   &lt;/xsd:element&gt;

   &lt;xsd:complexType name=&#34;description&#34;&gt;
     &lt;xsd:sequence&gt;
       &lt;xsd:element name=&#34;some_id&#34; type=&#34;xsd:int&#34; /&gt;
     &lt;/xsd:sequence&gt;
   &lt;/xsd:complexType&gt;

   It is just a few lines longer, but really document style.

I will need to fix the implementation if I am sure that this
SOAP-ENC mixing with docstyle is permitted by the docs. But I
hate it.  Attached is a cowardous work-around.
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
drs Mark A.C.J. Overmeer                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;04&nbsp;09:21:25&nbsp;2011</span>
    <span class="description">mark-bkwrds3u [...] mstier.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #63494] response with complex array type fails to parse</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Jan 2011 15:21:13 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-XML-Compile-SOAP [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Mark&#34; &lt;mark-bkwrds3u [...] mstier.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmm, ok, I read <span class="clickylink"><a target="new" rel="nofollow" href="http://www.eherenow.com/soapfight.htm">http://www.eherenow.com/soapfight.htm</a></span> and start to
understand.

I intended to use WSDL to describe call parameters, but the better
solution seems to use document/literal plus some XML schema definition for
the body. Do you agree?

Best regards,
Mark


On Sun, January 2, 2011 01:17, Mark Overmeer via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=63494">http://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt;
&gt; *
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk</a></span>
&gt; via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [101224 11:43]:
<div class="message-stanza open">&gt;&gt;        Queue: XML-Compile-SOAP
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63494">https://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt; SOAP-RPC is a bad idea.
</div></div>&gt;
&gt; Actually, the WSDL is neither document style SOAP &#40;as it tells it is&#41;
&gt; nor SOAP-RPC... it is somewhere inbetween. I am not sure whether this
&gt; SOAP-ENC use in document style SOAP is permitted. At least you are the
&gt; first to complain about it ;-&#41;
&gt;
&gt; Are you able to influence the WSDL?  Then consider the following:
&gt;   . change the target namespace in something which is URI compliant
&gt;   . change the status and some_id type into &#34;int&#34; &#40;not &#34;integer&#34;,
&gt;     which can be 18 digits&#41;.
&gt;   . change &#34;some_id&#34; into &#34;some-id&#34;, XML style.
&gt;   . change the &#34;content&#34; definition into
&gt;
&gt;    &lt;xsd:element ref=&#34;tns:content&#34; /&gt;
&gt;    ...
&gt;    &lt;xsd:element name=&#34;content&#34;&gt;
&gt;      &lt;xsd:sequence&gt;
&gt;        &lt;xsd:element name=&#34;Description&#34; type=&#34;tns:description&#34;
&gt;            minOccurs=&#34;0&#34; maxOccurs=&#34;unbounded&#34; /&gt;
&gt;      &lt;/xsd:sequence&gt;
&gt;    &lt;/xsd:element&gt;
&gt;
&gt;    &lt;xsd:complexType name=&#34;description&#34;&gt;
&gt;      &lt;xsd:sequence&gt;
&gt;        &lt;xsd:element name=&#34;some_id&#34; type=&#34;xsd:int&#34; /&gt;
&gt;      &lt;/xsd:sequence&gt;
&gt;    &lt;/xsd:complexType&gt;
&gt;
&gt;    It is just a few lines longer, but really document style.
&gt;
&gt; I will need to fix the implementation if I am sure that this
&gt; SOAP-ENC mixing with docstyle is permitted by the docs. But I
&gt; hate it.  Attached is a cowardous work-around.
&gt; --
&gt; Regards,
&gt;                MarkOv
&gt;
&gt; ------------------------------------------------------------------------
&gt;        Mark Overmeer MSc                                MARKOV Solutions
&gt; drs Mark A.C.J. Overmeer                                MARKOV Solutions
&gt;        Mark@Overmeer.net                          solutions@overmeer.net
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
&gt;
&gt;
&gt;
</div>

-- 
The keywords &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;,
&#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this
document are to be interpreted as described in RFC-2119
[<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a></span>].
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;04&nbsp;09:33:39&nbsp;2011</span>
    <span class="description">secretaris [...] nluug.nl -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #63494] response with complex array type fails to parse</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Jan 2011 15:33:24 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mark via RT &lt;bug-XML-Compile-SOAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Overmeer &lt;secretaris [...] nluug.nl&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">* Mark via RT &#40;bug-XML-Compile-SOAP@rt.cpan.org&#41; [110104 14:21]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: XML-Compile-SOAP
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=63494">https://rt.cpan.org/Ticket/Display.html?id=63494</a></span> &gt;
&gt; 
&gt; I intended to use WSDL to describe call parameters, but the better
&gt; solution seems to use document/literal plus some XML schema definition for
&gt; the body. Do you agree?
</div>
Yes.  Well, your WSDL is already document/literal. My example can be
used as base for the rewrite. That&#39;s not complex.

Add soapAction or wsaw &#40;see ::WSA&#41; definitions to your WSDL when there
are many ports.
-- 
Regards,
               MarkOv

------------------------------------------------------------------------
       Mark Overmeer MSc                                MARKOV Solutions
       Mark@Overmeer.net                          solutions@overmeer.net
<span class="clickylink"><a target="new" rel="nofollow" href="http://Mark.Overmeer.net">http://Mark.Overmeer.net</a></span>                   <span class="clickylink"><a target="new" rel="nofollow" href="http://solutions.overmeer.net">http://solutions.overmeer.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;06&nbsp;12:48:40&nbsp;2011</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="http://ws-i.org/Profiles/BasicProfile-2_0%28WGD%29.html">http://ws-i.org/Profiles/BasicProfile-2_0%28WGD%29.html</a></span>

I followed the recommendation from 4.3.3 and re-expressed the arrays in
my WSDL according to it. It works now.

BTW: the SOAP style I&#39;m trying to use is called &#34;document/literal
wrapped&#34; on
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ibm.com/developerworks/webservices/library/ws-whichwsdl/">http://www.ibm.com/developerworks/webservices/library/ws-whichwsdl/</a></span>

Thanks for the great support!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;30&nbsp;03:48:22&nbsp;2011</span>
    <span class="description">MARKOV [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">no error
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;30&nbsp;03:48:23&nbsp;2011</span>
    <span class="description">MARKOV [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
