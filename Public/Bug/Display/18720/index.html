<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18720 for Archive-Tar: [PATCH] Archive::Tar creates POSIX style tar files unnecessarily and by default, leading to compatibility problems particularly with WinZip.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18720 for Archive-Tar: [PATCH] Archive::Tar creates POSIX style tar files unnecessarily and by default, leading to compatibility problems particularly with WinZip.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Archive-Tar">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Archive-Tar">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Archive-Tar">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Archive-Tar">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Archive-Tar">Archive-Tar CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18720</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Archive-Tar">Archive-Tar</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
yves [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
module-build-general [...] lists.sourceforge.net

<br />
perl5-porters [...] perl.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-2526-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.99_01</li>
<li>
1.29</li>
</ul>
    </td>
  </tr>
  <tr id="CF-2527-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Archive-Tar-1.29_01.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/186661/66522/Archive-Tar-1.29_01.patch">
Fri Apr 14 12:27:43 2006 (12.2k) by yves [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=18720">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-186661" href="/Public/Bug/Display.html?id=18720#txn-186661">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;14&nbsp;12:27:43&nbsp;2006</span>
    <span class="description">yves [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;List - Module-Build&#34; &lt;module-build-general [...] lists.sourceforge.net&gt;,
 &#34;Perl Porters&#34; &lt;perl5-porters [...] perl.org&gt;,</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PATCH] Archive::Tar creates POSIX style tar files unnecessarily
 and by default, leading to compatibility problems particularly with
 WinZip.</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/186661/66519/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/66519">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Archive::Tar since around version .99 has been producing files with a
POSIX flavour header by default. This behaviour is undesirable as it
means that the files are not readable with many Win32 based compression
tools, most notably WinZip.

This is especially bad as the POSIX longfile name support is used even
when it needn&#39;t be, that is when the stored file name is shorter than
100 bytes.

The attached patch resolves this issue &#40;it has been open since 2003 at
least&#41;, by reverting to using the original single field naming scheme
when it is possible, and then falling back to the Gnu Extend Header long
name file support when necessary. This removes the older
$DO_NO_USE_PREFIX flag and replaces it with a flag of the opposite
meaning, and with a clearer name: $POSIX_LONGFILE.

IMO this is desirable because: 

A&#41; POSIX long filename support appears to be restricted to paths of a
maximum of 156 chars and files of 100 chars. Older versions of A::T will
produce mangled tar files when these restrictions are exceeded which is
 in violation of the POSIX standards which mandate that a fatal error be
thrown. &#40;GNU tar itself only warns and refuses to add the file&#41;

B&#41; Gnu Extended Header longfile support does not have a file length
restriction and is correctly handled by WinZip.

C&#41; Using the single field mechansim appears to be supported by
everything so when the stored paths are short there is no need to
confuse things with long file naming issues.

Additional changes are that I did a bit of refactoring and code clean up
of dead or unnecessary code.

With the patch applied all tests pass, and WinZip can correctly read the
files.

Open issues unresolved by this patch: 

Archive::Tar is much less picky about what filenames it will encode into
the archive than something like gnu tar is. For instance tar will remove
leading directory components that are left of or are &#39;..&#39;, likewise
normally it will convert absolute filenames to relative by removing
volume and root slashes. Archive::Tar does none of this. 

cheers,
Yves
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Archive-Tar-1.29_01.patch</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/186661/66522/Archive-Tar-1.29_01.patch">Download Archive-Tar-1.29_01.patch</a><br />
<span class="downloadcontenttype">text/x-diff 12.2k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191096" href="/Public/Bug/Display.html?id=18720#txn-191096">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;29&nbsp;12:32:46&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/191096/69272/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/69272">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 635b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 14 12:27:43 2006, YVES wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The attached patch resolves this issue &#40;it has been open since 2003 at
&gt; least&#41;, by reverting to using the original single field naming scheme
&gt; when it is possible, and then falling back to the Gnu Extend Header long
&gt; name file support when necessary. This removes the older
&gt; $DO_NO_USE_PREFIX flag and replaces it with a flag of the opposite
&gt; meaning, and with a clearer name: $POSIX_LONGFILE.
</div>
Hi Yves,

thanks for the patch. Since it&#39;s a rather large and possibly far-reaching patch,
I will have to take some extra time to review it.

I&#39;ll get back to you as soon as possible

-- Jos
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191097" href="/Public/Bug/Display.html?id=18720#txn-191097">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;29&nbsp;12:32:47&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191891" href="/Public/Bug/Display.html?id=18720#txn-191891">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:31&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 0.99_02 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191892" href="/Public/Bug/Display.html?id=18720#txn-191892">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:31&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 0.99_03 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191893" href="/Public/Bug/Display.html?id=18720#txn-191893">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:31&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 0.99_04 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191894" href="/Public/Bug/Display.html?id=18720#txn-191894">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:31&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 0.99_05 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191895" href="/Public/Bug/Display.html?id=18720#txn-191895">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 0.99_06 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191896" href="/Public/Bug/Display.html?id=18720#txn-191896">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.00 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191897" href="/Public/Bug/Display.html?id=18720#txn-191897">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.01 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191898" href="/Public/Bug/Display.html?id=18720#txn-191898">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.02 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191899" href="/Public/Bug/Display.html?id=18720#txn-191899">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.03 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191900" href="/Public/Bug/Display.html?id=18720#txn-191900">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:32&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.04 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191901" href="/Public/Bug/Display.html?id=18720#txn-191901">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:33&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.05 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191902" href="/Public/Bug/Display.html?id=18720#txn-191902">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:33&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.06 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191903" href="/Public/Bug/Display.html?id=18720#txn-191903">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:33&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.07 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191904" href="/Public/Bug/Display.html?id=18720#txn-191904">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:33&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.08 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191905" href="/Public/Bug/Display.html?id=18720#txn-191905">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:33&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.09 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191906" href="/Public/Bug/Display.html?id=18720#txn-191906">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.10 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191907" href="/Public/Bug/Display.html?id=18720#txn-191907">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.20 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191908" href="/Public/Bug/Display.html?id=18720#txn-191908">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.21 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191909" href="/Public/Bug/Display.html?id=18720#txn-191909">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.22 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191910" href="/Public/Bug/Display.html?id=18720#txn-191910">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.23 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191911" href="/Public/Bug/Display.html?id=18720#txn-191911">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.24 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191912" href="/Public/Bug/Display.html?id=18720#txn-191912">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.25 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191913" href="/Public/Bug/Display.html?id=18720#txn-191913">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:34&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.26 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191914" href="/Public/Bug/Display.html?id=18720#txn-191914">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;09:18:36&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Broken in 1.28 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191947" href="/Public/Bug/Display.html?id=18720#txn-191947">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;11:34:21&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/191947/69699/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/69699">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 14 12:27:43 2006, YVES wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Archive::Tar since around version .99 has been producing files with a
&gt; POSIX flavour header by default. This behaviour is undesirable as it
&gt; means that the files are not readable with many Win32 based compression
&gt; tools, most notably WinZip.
</div>[...]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is especially bad as the POSIX longfile name support is used even
&gt; when it needn&#39;t be, that is when the stored file name is shorter than
&gt; 100 bytes.
</div>
This is a good point you raise, and seems like something worth fixing.
However, since the patch you attached addresses many more issues than
just this one, i&#39;ts hard to decipher which parts would need to be applied.

I&#39;d be interested in a patch for just this particular issue.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The attached patch resolves this issue &#40;it has been open since 2003 at
&gt; least&#41;, by reverting to using the original single field naming scheme
&gt; when it is possible, and then falling back to the Gnu Extend Header long
&gt; name file support when necessary. This removes the older
&gt; $DO_NO_USE_PREFIX flag and replaces it with a flag of the opposite
&gt; meaning, and with a clearer name: $POSIX_LONGFILE.
</div>
I&#39;ve done quite a bit of thinking about this, and have asked various others
for their input in this, as well as testing the possible scenarios. In the end,
I&#39;ve decided that the patch as it is will not be applied, for the following reasons:

* POSIX-tar is the standard tar on many unix filesystems, including Solaris,
IRIX and AIX. Applying this change will break all A::T generated tar files for
those platforms. This is not only a backwards incompatible change, but will
cripple their use of tools such as CPAN.pm and CPANPLUS.

* On Win32, installation tools such as CPAN.pm and CPANPLUS use Archive::Tar
or cygwin&#39;s /bin/tar, which both support POSIX and GNU-tar file formats, so their
use of the CPAN installers will not be hampered.

* Archive::Tar already supports a way to change the POSIX-compliant archives
to GNU-style archives. Users worried about these issues have the choice to do
the right thing for their Win32 users, without breaking backward compatibility
of Archive::Tar.
Since this behaviour may not be 100% apparent to the novice user, I have added
a FAQ entry about this particalur issue &#40;See below&#41;

* Changing of the global variable C&lt;$DO_NOT_USE_PREFIX&gt; is also a backwards
incompatible change, which, unless unavoidable, should not be done as it will
break peoples existing code.

Here&#39;s the docpatch i&#39;ve applied to inform users of the issues involving the use of
A::T, and the intricacies of the tar format itself:

1432,1438c1432,1443
&lt; By default, C&lt;Archive::Tar&gt; will try to put paths that are over
&lt; 100 characters in the C&lt;prefix&gt; field of your tar header. However,
&lt; some older tar programs do not implement this spec. To retain
&lt; compatibility with these older versions, you can set the
&lt; C&lt;$DO_NOT_USE_PREFIX&gt; variable to a true value, and C&lt;Archive::Tar&gt;
&lt; will use an alternate way of dealing with paths over 100 characters
&lt; by using the C&lt;GNU Extended Header&gt; feature.
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; By default, C&lt;Archive::Tar&gt; will try to put paths that are over 
&gt; 100 characters in the C&lt;prefix&gt; field of your tar header, as
&gt; defined per POSIX-standard. However, some &#40;older&#41; tar programs 
&gt; do not implement this spec. To retain compatibility with these older 
&gt; or non-POSIX compliant versions, you can set the C&lt;$DO_NOT_USE_PREFIX&gt; 
&gt; variable to a true value, and C&lt;Archive::Tar&gt; will use an alternate 
&gt; way of dealing with paths over 100 characters by using the 
&gt; C&lt;GNU Extended Header&gt; feature.
&gt; 
&gt; Note that clients who do not support the C&lt;GNU Extended Header&gt;
&gt; feature will not be able to read these archives. Such clients include
&gt; tars on C&lt;Solaris&gt;, C&lt;Irix&gt; and C&lt;AIX&gt;.
</div>1539a1545,1555
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; =item I&#39;m using WinZip, or some other non-POSIX client, and files are not being extracted 
</div>properly!
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; By default, C&lt;Archive::Tar&gt; is in a completely POSIX-compatible
&gt; mode, which uses the POSIX-specification of C&lt;tar&gt; to store files.
&gt; For paths greather than 100 characters, this is done using the
&gt; C&lt;POSIX header prefix&gt;. Non-POSIX-compatible clients may not support
&gt; this part of the specification, and may only support the C&lt;GNU Extended
<div class="message-stanza open">&gt; Header&gt; functionality. To facilitate those clients, you can set the
</div>&gt; C&lt;$Archive::Tar::DO_NOT_USE_PREFIX&gt; variable to C&lt;true&gt;. See the 
&gt; C&lt;GLOBAL VARIABLES&gt; section for details on this variable.
&gt; 
</div>1621a1638,1662
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; =head1 SEE ALSO
&gt; 
&gt; =over 4
&gt; 
&gt; =item The GNU tar specification
&gt; 
&gt; C&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/software/tar/manual/tar.html">http://www.gnu.org/software/tar/manual/tar.html</a></span>&gt;
&gt; 
&gt; =item The PAX format specication
&gt; 
&gt; The specifcation which tar derives from; C&lt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.opengroup.org/onlinepubs/">http://www.opengroup.org/onlinepubs/</a></span>
</div>007904975/utilities/pax.html&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; =item A comparison of GNU and POSIX tar standards; C&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.delorie.com/gnu/">http://www.delorie.com/gnu/</a></span>
</div>docs/tar/tar_114.html&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; =item GNU tar intends to switch to POSIX compatibility
&gt; 
&gt; GNU Tar authors have expressed their intention to become completely
&gt; POSIX-compatible; C&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.gnu.org/software/tar/manual/html_node/">http://www.gnu.org/software/tar/manual/html_node/</a></span>
</div>Formats.html&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; =item A Comparison between various tar implementations
&gt; 
&gt; Lists known issues and incompatibilities; C&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gd.tuwien.ac.at/utils/archivers/star/">http://gd.tuwien.ac.at/utils/archivers/star/</a></span>
</div>README.otherbugs&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; =back
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-191950" href="/Public/Bug/Display.html?id=18720#txn-191950">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;May&nbsp;02&nbsp;11:34:22&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.61945</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
