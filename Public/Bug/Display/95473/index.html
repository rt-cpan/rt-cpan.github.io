<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #95473 for Net-SSLeay: Feature request with patch included: OCSP support</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #95473 for Net-SSLeay: Feature request with patch included: OCSP support</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SSLeay">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SSLeay">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SSLeay">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SSLeay">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">95473</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SSLeay">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MIKEM [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Steffen_Ullrich [...] genua.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1363325/723828/diff">
Thu May 15 02:15:55 2014 (899b) by Steffen_Ullrich [...] genua.de
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1361686/722880/diff">
Sun May 11 10:23:02 2014 (1.7k) by Steffen_Ullrich [...] genua.de
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1361344/722676/diff">
Sat May 10 08:21:22 2014 (2.9k) by Steffen_Ullrich [...] genua.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=95473">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360702" href="/Public/Bug/Display.html?id=95473#txn-1360702">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;08&nbsp;14:34:49&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Feature request with patch included: OCSP support</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360702/722303/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722303">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 966b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/noxxi/p5-io-socket-ssl/blob/ocsp/docs/net-ssley-ocsp.patch">https://github.com/noxxi/p5-io-socket-ssl/blob/ocsp/docs/net-ssley-ocsp.patch</a></span>
you&#39;ll find a patch against the current SVN version of Net::SSLeay, which adds support for checking the revocation status of certificates using OCSP.
It has support for requesting OCSP stapling and also the necessary functionality to requesting OCSP responses from the OCSP responders specified in the certificates.

The patch comes with hopefully enough documentation and also a test. It also added a TRACE function to the XS module so that one can do debugging using the $Net::SSLeay::trace variable from inside XS too.

The patch is used to add OCSP handling to IO::Socket::SSL, currently only at the ocsp branch at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/noxxi/p5-io-socket-ssl/tree/ocsp">https://github.com/noxxi/p5-io-socket-ssl/tree/ocsp</a></span> but I hope that I&#39;ll release it in a few days.

It would be nice if you could incorporate the patch, because it implements a feature which got just after the heartbleed attack more valuable :&#41;

Regards,
Steffen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360749" href="/Public/Bug/Display.html?id=95473#txn-1360749">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;08&nbsp;17:52:36&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 09 May 2014 07:52:20 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360749/722332/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722332">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks for your patch.
It has now been added in SVN 403

Hmmm, somehow your patch removed ASN1_TIME_free. Fixed.

This seems to be an important patch.
I would be happy if you would test this SVN version thoroughly and if you 
report it to be OK, I will make a new release of net-ssleay.

Cheers.


On Thursday, May 08, 2014 02:34:50 PM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu May 08 14:34:49 2014: Request 95473 was acted upon.
&gt; Transaction: Ticket created by SULLR
&gt;        Queue: Net-SSLeay
&gt;      Subject: Feature request with patch included: OCSP support
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: Steffen_Ullrich@genua.de
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; 
&gt; Hi,
&gt; at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/noxxi/p5-io-socket-ssl/blob/ocsp/docs/net-ssley-ocsp.pat">https://github.com/noxxi/p5-io-socket-ssl/blob/ocsp/docs/net-ssley-ocsp.pat</a></span>
&gt; ch you&#39;ll find a patch against the current SVN version of Net::SSLeay, which
&gt; adds support for checking the revocation status of certificates using OCSP.
&gt; It has support for requesting OCSP stapling and also the necessary
&gt; functionality to requesting OCSP responses from the OCSP responders
&gt; specified in the certificates.
&gt; 
&gt; The patch comes with hopefully enough documentation and also a test. It also
&gt; added a TRACE function to the XS module so that one can do debugging using
&gt; the $Net::SSLeay::trace variable from inside XS too.
&gt; 
&gt; The patch is used to add OCSP handling to IO::Socket::SSL, currently only at
&gt; the ocsp branch at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/noxxi/p5-io-socket-ssl/tree/ocsp">https://github.com/noxxi/p5-io-socket-ssl/tree/ocsp</a></span> but
&gt; I hope that I&#39;ll release it in a few days.
&gt; 
&gt; It would be nice if you could incorporate the patch, because it implements a
&gt; feature which got just after the heartbleed attack more valuable :&#41;
&gt; 
&gt; Regards,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360750" href="/Public/Bug/Display.html?id=95473#txn-1360750">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;08&nbsp;17:52:37&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360937" href="/Public/Bug/Display.html?id=95473#txn-1360937">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;03:49:10&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 9 May 2014 09:48:38 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360937/722428/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722428">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for your patch.
&gt; It has now been added in SVN 403
</div>
Thanks for applying.
I think the new test t/external/ocsp.t is still missing from the SVN.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hmmm, somehow your patch removed ASN1_TIME_free. Fixed.
</div>
Oops. Good that you detected that.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This seems to be an important patch.
&gt; I would be happy if you would test this SVN version thoroughly and if you 
&gt; report it to be OK, I will make a new release of net-ssleay.
</div>
I currently run a test against the Alexa 10000 top sites.
The code behaves stable, altough the results are very interesting:
- About 30% of the sites get certification errors, mostly because they have
  the wrong hostname in the certificate &#40;often a CDN&#41;.
  As long as this happens only for sites, which are not used for https this
  might be ok, but then they should better not listen for https at all. 
- there are lots of intermediate certificates which do not have OCSP URIs
- only few sites support OCSP response stapling yet &#40;less than 10%&#41;

Regards,
Steffen

-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361214" href="/Public/Bug/Display.html?id=95473#txn-1361214">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;17:02:50&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 May 2014 07:02:36 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361214/722589/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722589">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Friday, May 09, 2014 03:49:11 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt; &gt; Thanks for your patch.
&gt; &gt; It has now been added in SVN 403
</div>&gt; 
&gt; Thanks for applying.
&gt; I think the new test t/external/ocsp.t is still missing from the SVN.
</div>
Ooops should be there in SVN 404 now.

Thanks for checking

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Hmmm, somehow your patch removed ASN1_TIME_free. Fixed.
</div>&gt; 
&gt; Oops. Good that you detected that.
&gt; 
<div class="message-stanza open">&gt; &gt; This seems to be an important patch.
&gt; &gt; I would be happy if you would test this SVN version thoroughly and if you
&gt; &gt; report it to be OK, I will make a new release of net-ssleay.
</div>&gt; 
&gt; I currently run a test against the Alexa 10000 top sites.
&gt; The code behaves stable, altough the results are very interesting:
&gt; - About 30% of the sites get certification errors, mostly because they have
&gt;   the wrong hostname in the certificate &#40;often a CDN&#41;.
&gt;   As long as this happens only for sites, which are not used for https this
&gt;   might be ok, but then they should better not listen for https at all.
&gt; - there are lots of intermediate certificates which do not have OCSP URIs
&gt; - only few sites support OCSP response stapling yet &#40;less than 10%&#41;
</div>
OK, if you can confirm t/external/ocsp.t is there for you I will make a new 
release.

Cheers.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Regards,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361222" href="/Public/Bug/Display.html?id=95473#txn-1361222">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;17:18:32&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 9 May 2014 23:18:05 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361222/722597/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722597">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 403b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OK, if you can confirm t/external/ocsp.t is there for you I will make a new 
&gt; release.
</div>
Yes, it is there.

Thanks a lot,
Steffen

-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361251" href="/Public/Bug/Display.html?id=95473#txn-1361251">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;18:10:14&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 May 2014 08:10:03 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361251/722616/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722616">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 574b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks,
new version 1.59 uploaded to CPAN

On Friday, May 09, 2014 05:18:32 PM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt; &gt; OK, if you can confirm t/external/ocsp.t is there for you I will make a
&gt; &gt; new
&gt; &gt; release.
</div>&gt; 
&gt; Yes, it is there.
&gt; 
&gt; Thanks a lot,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361344" href="/Public/Bug/Display.html?id=95473#txn-1361344">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;10&nbsp;08:21:22&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 May 2014 14:20:59 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361344/722675/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722675">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 749b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, May 09, 2014 at 06:10:15PM -0400, Mike McCauley via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; Thanks,
&gt; new version 1.59 uploaded to CPAN
</div>
Thanks,
looking at cpantesters I found one FAIL with a version of openssl which
does not support OCSP yet. Attached diff fixes the test so that it checks
if OCSP is supported at all. Also it fixes some newly introduced warnings
if compiled with -Wall.

Regards,
Steffen

-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361344/722676/diff">Download diff</a><br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361490" href="/Public/Bug/Display.html?id=95473#txn-1361490">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;10&nbsp;17:32:51&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 May 2014 07:32:41 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361490/722766/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722766">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 957b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Steffen,

Thanks. This will be in the next release.

Cheers.


On Saturday, May 10, 2014 08:21:23 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; On Fri, May 09, 2014 at 06:10:15PM -0400, Mike McCauley via RT &lt;bug-Net-
</div>SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; &gt; 
&gt; &gt; Thanks,
&gt; &gt; new version 1.59 uploaded to CPAN
</div>&gt; 
&gt; Thanks,
&gt; looking at cpantesters I found one FAIL with a version of openssl which
&gt; does not support OCSP yet. Attached diff fixes the test so that it checks
&gt; if OCSP is supported at all. Also it fixes some newly introduced warnings
&gt; if compiled with -Wall.
&gt; 
&gt; Regards,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361686" href="/Public/Bug/Display.html?id=95473#txn-1361686">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;11&nbsp;10:23:02&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 May 2014 16:22:41 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361686/722879/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722879">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1016b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, May 10, 2014 at 05:32:52PM -0400, Mike McCauley via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; Hi Steffen,
&gt; 
&gt; Thanks. This will be in the next release.
</div>
Thank you.

Unfortunatly I have yet another diff.
This one changes calloc to Newx and free to Safefree, otherwise there might be
problems because calloc is done from a different memory pool than free &#40;depends
on the build options for perl, but seen on Windows&#41;.

And I&#39;ve found a memory leak in OCSP_response_results, where I forgot to have
the &#40;Safe&#41;free.

I hope this was it then, the cpantesters look good so far &#40;life tests are enabled 
by default with IO::Socket::SSL, and this includes OCSP test&#41;.

Regards,
Steffen

-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361686/722880/diff">Download diff</a><br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361986" href="/Public/Bug/Display.html?id=95473#txn-1361986">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;12&nbsp;03:32:22&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 May 2014 17:32:08 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361986/723017/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723017">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

your patch is now in SVN 407. If you will test I will make a new release.

Cheers.

On Sunday, May 11, 2014 10:23:03 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; On Sat, May 10, 2014 at 05:32:52PM -0400, Mike McCauley via RT &lt;bug-Net-
</div>SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; &gt; 
&gt; &gt; Hi Steffen,
&gt; &gt; 
&gt; &gt; Thanks. This will be in the next release.
</div>&gt; 
&gt; Thank you.
&gt; 
&gt; Unfortunatly I have yet another diff.
&gt; This one changes calloc to Newx and free to Safefree, otherwise there might
&gt; be problems because calloc is done from a different memory pool than free
&gt; &#40;depends on the build options for perl, but seen on Windows&#41;.
&gt; 
&gt; And I&#39;ve found a memory leak in OCSP_response_results, where I forgot to
&gt; have the &#40;Safe&#41;free.
&gt; 
&gt; I hope this was it then, the cpantesters look good so far &#40;life tests are
&gt; enabled by default with IO::Socket::SSL, and this includes OCSP test&#41;.
&gt; 
&gt; Regards,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1362005" href="/Public/Bug/Display.html?id=95473#txn-1362005">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;12&nbsp;04:05:41&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 May 2014 10:05:18 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1362005/723030/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723030">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 396b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; your patch is now in SVN 407. If you will test I will make a new release.
</div>
Yes, it looks good for me.

Thanks,
Steffen


-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1362057" href="/Public/Bug/Display.html?id=95473#txn-1362057">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;12&nbsp;06:06:55&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 May 2014 20:06:44 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1362057/723062/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723062">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 555b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks.
1.61 is now uploaded.

Cheers.

On Monday, May 12, 2014 04:05:42 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt; &gt; your patch is now in SVN 407. If you will test I will make a new release.
</div>&gt; 
&gt; Yes, it looks good for me.
&gt; 
&gt; Thanks,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1363325" href="/Public/Bug/Display.html?id=95473#txn-1363325">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;15&nbsp;02:15:55&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 May 2014 08:15:30 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1363325/723827/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723827">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, May 12, 2014 at 06:06:57AM -0400, Mike McCauley via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; Thanks.
&gt; 1.61 is now uploaded.
</div>
Thank you.

I have yet another diff, but this is not a bug in the code but just to make
the feature better: when checking the complety chain against revocation I
often got the problem, that the signature of the OCSP response for the
lowest chain certificate could not be verified. It turns out that some CA
&#40;like Verisign&#41; sign this OCSP response with the CA we have in the trust
store and don&#39;t attach this certifcate at the response. 
But OpenSSL by itself only considers the certificates included in the
response and SSL_OCSP_response_verify added the certificates in the chain
too.

With the attached patch we also add the trusted CA from the store which
signed the lowest chain certificate, at least if we could not verify the
OCSP response without doing it. This seems to solve the problem, e.g.
now I can also verify the OCSP responses for the lowest chain certificates.

Regards,
Steffen


-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1363325/723828/diff">Download diff</a><br />
<span class="downloadcontenttype">text/plain 899b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1363333" href="/Public/Bug/Display.html?id=95473#txn-1363333">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;15&nbsp;02:31:00&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 May 2014 16:30:40 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1363333/723834/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723834">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Steffen,

Thanks.
Your patch is now in SVN 408. In case you think of some more improvements 
soon, I will not make a new release just yet.

Cheers.
 
On Thursday, May 15, 2014 02:15:56 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; On Mon, May 12, 2014 at 06:06:57AM -0400, Mike McCauley via RT &lt;bug-Net-
</div>SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; &gt; 
&gt; &gt; Thanks.
&gt; &gt; 1.61 is now uploaded.
</div>&gt; 
&gt; Thank you.
&gt; 
&gt; I have yet another diff, but this is not a bug in the code but just to make
&gt; the feature better: when checking the complety chain against revocation I
&gt; often got the problem, that the signature of the OCSP response for the
&gt; lowest chain certificate could not be verified. It turns out that some CA
&gt; &#40;like Verisign&#41; sign this OCSP response with the CA we have in the trust
&gt; store and don&#39;t attach this certifcate at the response.
&gt; But OpenSSL by itself only considers the certificates included in the
&gt; response and SSL_OCSP_response_verify added the certificates in the chain
&gt; too.
&gt; 
&gt; With the attached patch we also add the trusted CA from the store which
&gt; signed the lowest chain certificate, at least if we could not verify the
&gt; OCSP response without doing it. This seems to solve the problem, e.g.
&gt; now I can also verify the OCSP responses for the lowest chain certificates.
&gt; 
&gt; Regards,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1363346" href="/Public/Bug/Display.html?id=95473#txn-1363346">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;15&nbsp;02:45:12&nbsp;2014</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 May 2014 08:44:52 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mike McCauley via RT &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Ullrich &lt;Steffen_Ullrich [...] genua.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1363346/723846/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723846">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 732b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, May 15, 2014 at 02:31:02AM -0400, Mike McCauley via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; Hi Steffen,
&gt; 
&gt; Thanks.
&gt; Your patch is now in SVN 408. In case you think of some more improvements 
&gt; soon, I will not make a new release just yet.
</div>
No, I think I will slow down now :&#41;
For now I think all is done for OCSP on the client side and OCSP on the server
side can wait.

Thanks,
Steffen

-- 
genua
Gesellschaft fuer Netzwerk- und Unix-Administration mbH
Domagkstrasse 7, 85551 Kirchheim bei Muenchen
tel +49 89 991950-0, fax -999, www.genua.de
Geschaeftsfuehrer: Dr. Magnus Harlander, Dr. Michaela Harlander,
Bernhard Schneck. Amtsgericht Muenchen HRB 98238
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1364691" href="/Public/Bug/Display.html?id=95473#txn-1364691">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;18&nbsp;17:21:32&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 May 2014 07:21:20 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1364691/724530/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/724530">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 958b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Steffen,

Version 1.62 has now been uploaded with your latest change.

Cheers.

On Thursday, May 15, 2014 02:45:13 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; On Thu, May 15, 2014 at 02:31:02AM -0400, Mike McCauley via RT &lt;bug-Net-
</div>SSLeay@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; &gt; 
&gt; &gt; Hi Steffen,
&gt; &gt; 
&gt; &gt; Thanks.
&gt; &gt; Your patch is now in SVN 408. In case you think of some more improvements
&gt; &gt; soon, I will not make a new release just yet.
</div>&gt; 
&gt; No, I think I will slow down now :&#41;
&gt; For now I think all is done for OCSP on the client side and OCSP on the
&gt; server side can wait.
&gt; 
&gt; Thanks,
&gt; Steffen
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1364862" href="/Public/Bug/Display.html?id=95473#txn-1364862">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;10:03:35&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1364862/724625/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/724625">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 18 17:21:32 2014, mikem@airspayce.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Steffen,
&gt; 
&gt; Version 1.62 has now been uploaded with your latest change.
</div>
I&#39;m seeing this with openssl 1.0.0 through to 1.0.0j &#40;openssl 0.9.8* and openssl 1.0.0k onwards seem OK&#41;:

$ make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*/*.t t/*/*/*.t
t/external/08_external.t ............... ok
t/external/15_altnames.t ............... ok
t/external/20_cert_chain.t ............. ok
# tcp connect to www.live.com:443 ok
# got stapled OCSP response
# SSL_connect ok
# fingerprint matches
# status=0 as expected: nextUpd=Wed May 21 05:49:50 2014
# no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVIntl-ocsp.verisign.com">http://EVIntl-ocsp.verisign.com</a></span> | /1.3.6.1.4.1.311.60.2.1.3=US/1.3.6.1.4.1.311.60.2.1.2=Washington/businessCategory=Private Organization/serialNumber=600413485/C=US/postalCode=98052/ST=Washington/L=Redmond/street=1 Microsoft Way/O=Microsoft Corporation/OU=Outlook Kahuna DUB-DC A May2013/CN=mail.live.com
# no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVSecure-ocsp.verisign.com">http://EVSecure-ocsp.verisign.com</a></span> | /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at <span class="clickylink"><a target="new" rel="nofollow" href="https://www.verisign.com/rpa">https://www.verisign.com/rpa</a></span> &#40;c&#41;06/CN=VeriSign Class 3 Extended Validation SSL SGC CA
# no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://ocsp.verisign.com">http://ocsp.verisign.com</a></span> | /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=&#40;c&#41; 2006 VeriSign, Inc. - For authorized use only/CN=VeriSign Class 3 Public Primary Certification Authority - G5
# tcp connect to www.google.com:443 ok
# got no stapled OCSP response
# SSL_connect ok
# tcp connect to revoked.grc.com:443 ok
# got stapled OCSP response
# SSL_connect ok
# fingerprint matches
#   Failed test &#39;cannot verify response: &#39;
#   at t/external/ocsp.t line 178.
# Looks like you failed 1 test of 3.
t/external/ocsp.t ...................... 
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/3 subtests 
        &#40;less 1 skipped subtest: 1 okay&#41;
t/handle/external/10_destroy.t ......... ok
t/handle/external/50_external.t ........ ok
t/handle/local/05_use.t ................ ok
t/local/01_pod.t ....................... ok
t/local/02_pod_coverage.t .............. skipped: these tests are for only for release candidate testing. Enable with RELEASE_TESTING=1
t/local/03_use.t ....................... ok
# Version info:
# Testing Net::SSLeay 1.63, Perl 5.010000, /usr/bin/perl
# OpenSSL version:  &#39;OpenSSL 1.0.0b-fips 16 Nov 2010&#39;
# OpenSSL platform: &#39;platform: linux-x86_64&#39;
t/local/04_basic.t ..................... ok
t/local/05_passwd_cb.t ................. ok
t/local/06_tcpecho.t ................... ok
t/local/07_sslecho.t ................... ok
t/local/08_pipe.t ...................... ok
t/local/15_bio.t ....................... ok
t/local/20_autoload.t .................. ok
t/local/21_constants.t ................. ok
t/local/30_error.t ..................... ok
t/local/31_rsa_generate_key.t .......... ok
t/local/32_x509_get_cert_info.t ........ ok
t/local/33_x509_create_cert.t .......... ok
t/local/34_x509_crl.t .................. ok
t/local/35_ephemeral.t ................. ok
t/local/36_verify.t .................... ok
t/local/37_asn1_time.t ................. ok
t/local/38_priv-key.t .................. ok
t/local/39_pkcs12.t .................... ok
t/local/40_npn_support.t ............... skipped: openssl 1.0.1 required
t/local/41_alpn_support.t .............. skipped: openssl 1.0.2 required
t/local/50_digest.t .................... ok
t/local/61_threads-cb-crash.t .......... ok
t/local/62_threads-ctx_new-deadlock.t .. ok
t/local/kwalitee.t ..................... skipped: these tests are for only for release candidate testing. Enable with RELEASE_TESTING=1
Test Summary Report
-------------------
t/external/ocsp.t                    &#40;Wstat: 256 Tests: 3 Failed: 1&#41;
  Failed test:  3
  Non-zero exit status: 1
Files=34, Tests=2726, 14 wallclock secs &#40; 0.40 usr  0.06 sys +  3.03 cusr  0.22 csys =  3.71 CPU&#41;
Result: FAIL
Failed 1/34 test programs. 1/2726 subtests failed.
make: *** [test_dynamic] Error 255
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1364865" href="/Public/Bug/Display.html?id=95473#txn-1364865">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;10:56:05&nbsp;2014</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1364865/724628/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/724628">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 19 10:03:35 2014, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun May 18 17:21:32 2014, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; Hi Steffen,
&gt; &gt;
&gt; &gt; Version 1.62 has now been uploaded with your latest change.
</div>&gt; 
&gt; I&#39;m seeing this with openssl 1.0.0 through to 1.0.0j &#40;openssl 0.9.8*
&gt; and openssl 1.0.0k onwards seem OK&#41;:
&gt; 
&gt; $ make test
&gt; PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*/*.t t/*/*/*.t
&gt; t/external/08_external.t ............... ok
&gt; t/external/15_altnames.t ............... ok
&gt; t/external/20_cert_chain.t ............. ok
&gt; # tcp connect to www.live.com:443 ok
&gt; # got stapled OCSP response
&gt; # SSL_connect ok
&gt; # fingerprint matches
&gt; # status=0 as expected: nextUpd=Wed May 21 05:49:50 2014
&gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVIntl-ocsp.verisign.com">http://EVIntl-ocsp.verisign.com</a></span> |
&gt; /1.3.6.1.4.1.311.60.2.1.3=US/1.3.6.1.4.1.311.60.2.1.2=Washington/businessCategory=Private
&gt; Organization/serialNumber=600413485/C=US/postalCode=98052/ST=Washington/L=Redmond/street=1
&gt; Microsoft Way/O=Microsoft Corporation/OU=Outlook Kahuna DUB-DC A
&gt; May2013/CN=mail.live.com
&gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVSecure-ocsp.verisign.com">http://EVSecure-ocsp.verisign.com</a></span> |
&gt; /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://www.verisign.com/rpa">https://www.verisign.com/rpa</a></span> &#40;c&#41;06/CN=VeriSign Class 3 Extended
&gt; Validation SSL SGC CA
&gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://ocsp.verisign.com">http://ocsp.verisign.com</a></span> | /C=US/O=VeriSign,
&gt; Inc./OU=VeriSign Trust Network/OU=&#40;c&#41; 2006 VeriSign, Inc. - For
&gt; authorized use only/CN=VeriSign Class 3 Public Primary Certification
&gt; Authority - G5
&gt; # tcp connect to www.google.com:443 ok
&gt; # got no stapled OCSP response
&gt; # SSL_connect ok
&gt; # tcp connect to revoked.grc.com:443 ok
&gt; # got stapled OCSP response
&gt; # SSL_connect ok
&gt; # fingerprint matches
&gt; #   Failed test &#39;cannot verify response: &#39;
&gt; #   at t/external/ocsp.t line 178.
&gt; # Looks like you failed 1 test of 3.
&gt;  t/external/ocsp.t ......................
&gt; Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt;  Failed 1/3 subtests
&gt;         &#40;less 1 skipped subtest: 1 okay&#41;
&gt; t/handle/external/10_destroy.t ......... ok
&gt; t/handle/external/50_external.t ........ ok
&gt; t/handle/local/05_use.t ................ ok
&gt; t/local/01_pod.t ....................... ok
&gt; t/local/02_pod_coverage.t .............. skipped: these tests are for
&gt; only for release candidate testing. Enable with RELEASE_TESTING=1
&gt; t/local/03_use.t ....................... ok
&gt; # Version info:
&gt; # Testing Net::SSLeay 1.63, Perl 5.010000, /usr/bin/perl
&gt; # OpenSSL version:  &#39;OpenSSL 1.0.0b-fips 16 Nov 2010&#39;
&gt; # OpenSSL platform: &#39;platform: linux-x86_64&#39;
&gt; t/local/04_basic.t ..................... ok
&gt; t/local/05_passwd_cb.t ................. ok
&gt; t/local/06_tcpecho.t ................... ok
&gt; t/local/07_sslecho.t ................... ok
&gt; t/local/08_pipe.t ...................... ok
&gt; t/local/15_bio.t ....................... ok
&gt; t/local/20_autoload.t .................. ok
&gt; t/local/21_constants.t ................. ok
&gt; t/local/30_error.t ..................... ok
&gt; t/local/31_rsa_generate_key.t .......... ok
&gt; t/local/32_x509_get_cert_info.t ........ ok
&gt; t/local/33_x509_create_cert.t .......... ok
&gt; t/local/34_x509_crl.t .................. ok
&gt; t/local/35_ephemeral.t ................. ok
&gt; t/local/36_verify.t .................... ok
&gt; t/local/37_asn1_time.t ................. ok
&gt; t/local/38_priv-key.t .................. ok
&gt; t/local/39_pkcs12.t .................... ok
&gt; t/local/40_npn_support.t ............... skipped: openssl 1.0.1
&gt; required
&gt; t/local/41_alpn_support.t .............. skipped: openssl 1.0.2
&gt; required
&gt; t/local/50_digest.t .................... ok
&gt; t/local/61_threads-cb-crash.t .......... ok
&gt; t/local/62_threads-ctx_new-deadlock.t .. ok
&gt; t/local/kwalitee.t ..................... skipped: these tests are for
&gt; only for release candidate testing. Enable with RELEASE_TESTING=1
&gt; Test Summary Report
&gt; -------------------
&gt; t/external/ocsp.t                    &#40;Wstat: 256 Tests: 3 Failed: 1&#41;
&gt;   Failed test:  3
&gt;   Non-zero exit status: 1
&gt; Files=34, Tests=2726, 14 wallclock secs &#40; 0.40 usr  0.06 sys +  3.03
&gt; cusr  0.22 csys =  3.71 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/34 test programs. 1/2726 subtests failed.
&gt; make: *** [test_dynamic] Error 255
</div>
I don&#39;t see these failures if I have HTTP::Tiny installed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1364974" href="/Public/Bug/Display.html?id=95473#txn-1364974">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;17:25:48&nbsp;2014</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95473] Feature request with patch included: OCSP support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 May 2014 07:25:33 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1364974/724687/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/724687">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
thanks for reporting this.
Fixed in SVN 411.

Cheers.

On Monday, May 19, 2014 10:56:06 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95473">https://rt.cpan.org/Ticket/Display.html?id=95473</a></span> &gt;
&gt; 
&gt; On Mon May 19 10:03:35 2014, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; On Sun May 18 17:21:32 2014, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi Steffen,
&gt; &gt; &gt; 
&gt; &gt; &gt; Version 1.62 has now been uploaded with your latest change.
</div>&gt; &gt; 
&gt; &gt; I&#39;m seeing this with openssl 1.0.0 through to 1.0.0j &#40;openssl 0.9.8*
&gt; &gt; and openssl 1.0.0k onwards seem OK&#41;:
&gt; &gt; 
&gt; &gt; $ make test
&gt; &gt; PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &gt; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*/*.t t/*/*/*.t
&gt; &gt; t/external/08_external.t ............... ok
&gt; &gt; t/external/15_altnames.t ............... ok
&gt; &gt; t/external/20_cert_chain.t ............. ok
&gt; &gt; # tcp connect to www.live.com:443 ok
&gt; &gt; # got stapled OCSP response
&gt; &gt; # SSL_connect ok
&gt; &gt; # fingerprint matches
&gt; &gt; # status=0 as expected: nextUpd=Wed May 21 05:49:50 2014
&gt; &gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVIntl-ocsp.verisign.com">http://EVIntl-ocsp.verisign.com</a></span> |
&gt; &gt; /1.3.6.1.4.1.311.60.2.1.3=US/1.3.6.1.4.1.311.60.2.1.2=Washington/businessC
&gt; &gt; ategory=Private
&gt; &gt; Organization/serialNumber=600413485/C=US/postalCode=98052/ST=Washington/L
&gt; &gt; =Redmond/street=1 Microsoft Way/O=Microsoft Corporation/OU=Outlook Kahuna
&gt; &gt; DUB-DC A
&gt; &gt; May2013/CN=mail.live.com
&gt; &gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://EVSecure-ocsp.verisign.com">http://EVSecure-ocsp.verisign.com</a></span> |
&gt; &gt; /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://www.verisign.com/rpa">https://www.verisign.com/rpa</a></span> &#40;c&#41;06/CN=VeriSign Class 3 Extended
&gt; &gt; Validation SSL SGC CA
&gt; &gt; # no HTTP: skip checking <span class="clickylink"><a target="new" rel="nofollow" href="http://ocsp.verisign.com">http://ocsp.verisign.com</a></span> | /C=US/O=VeriSign,
&gt; &gt; Inc./OU=VeriSign Trust Network/OU=&#40;c&#41; 2006 VeriSign, Inc. - For
&gt; &gt; authorized use only/CN=VeriSign Class 3 Public Primary Certification
&gt; &gt; Authority - G5
&gt; &gt; # tcp connect to www.google.com:443 ok
&gt; &gt; # got no stapled OCSP response
&gt; &gt; # SSL_connect ok
&gt; &gt; # tcp connect to revoked.grc.com:443 ok
&gt; &gt; # got stapled OCSP response
&gt; &gt; # SSL_connect ok
&gt; &gt; # fingerprint matches
&gt; &gt; #   Failed test &#39;cannot verify response: &#39;
&gt; &gt; #   at t/external/ocsp.t line 178.
&gt; &gt; # Looks like you failed 1 test of 3.
&gt; &gt; 
&gt; &gt;  t/external/ocsp.t ......................
&gt; &gt; 
&gt; &gt; Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt; &gt; 
&gt; &gt;  Failed 1/3 subtests
&gt; &gt;  
&gt; &gt;         &#40;less 1 skipped subtest: 1 okay&#41;
&gt; &gt; 
&gt; &gt; t/handle/external/10_destroy.t ......... ok
&gt; &gt; t/handle/external/50_external.t ........ ok
&gt; &gt; t/handle/local/05_use.t ................ ok
&gt; &gt; t/local/01_pod.t ....................... ok
&gt; &gt; t/local/02_pod_coverage.t .............. skipped: these tests are for
&gt; &gt; only for release candidate testing. Enable with RELEASE_TESTING=1
&gt; &gt; t/local/03_use.t ....................... ok
&gt; &gt; # Version info:
&gt; &gt; # Testing Net::SSLeay 1.63, Perl 5.010000, /usr/bin/perl
&gt; &gt; # OpenSSL version:  &#39;OpenSSL 1.0.0b-fips 16 Nov 2010&#39;
&gt; &gt; # OpenSSL platform: &#39;platform: linux-x86_64&#39;
&gt; &gt; t/local/04_basic.t ..................... ok
&gt; &gt; t/local/05_passwd_cb.t ................. ok
&gt; &gt; t/local/06_tcpecho.t ................... ok
&gt; &gt; t/local/07_sslecho.t ................... ok
&gt; &gt; t/local/08_pipe.t ...................... ok
&gt; &gt; t/local/15_bio.t ....................... ok
&gt; &gt; t/local/20_autoload.t .................. ok
&gt; &gt; t/local/21_constants.t ................. ok
&gt; &gt; t/local/30_error.t ..................... ok
&gt; &gt; t/local/31_rsa_generate_key.t .......... ok
&gt; &gt; t/local/32_x509_get_cert_info.t ........ ok
&gt; &gt; t/local/33_x509_create_cert.t .......... ok
&gt; &gt; t/local/34_x509_crl.t .................. ok
&gt; &gt; t/local/35_ephemeral.t ................. ok
&gt; &gt; t/local/36_verify.t .................... ok
&gt; &gt; t/local/37_asn1_time.t ................. ok
&gt; &gt; t/local/38_priv-key.t .................. ok
&gt; &gt; t/local/39_pkcs12.t .................... ok
&gt; &gt; t/local/40_npn_support.t ............... skipped: openssl 1.0.1
&gt; &gt; required
&gt; &gt; t/local/41_alpn_support.t .............. skipped: openssl 1.0.2
&gt; &gt; required
&gt; &gt; t/local/50_digest.t .................... ok
&gt; &gt; t/local/61_threads-cb-crash.t .......... ok
&gt; &gt; t/local/62_threads-ctx_new-deadlock.t .. ok
&gt; &gt; t/local/kwalitee.t ..................... skipped: these tests are for
&gt; &gt; only for release candidate testing. Enable with RELEASE_TESTING=1
&gt; &gt; Test Summary Report
&gt; &gt; -------------------
&gt; &gt; t/external/ocsp.t                    &#40;Wstat: 256 Tests: 3 Failed: 1&#41;
&gt; &gt; 
&gt; &gt;   Failed test:  3
&gt; &gt;   Non-zero exit status: 1
&gt; &gt; 
&gt; &gt; Files=34, Tests=2726, 14 wallclock secs &#40; 0.40 usr  0.06 sys +  3.03
&gt; &gt; cusr  0.22 csys =  3.71 CPU&#41;
&gt; &gt; Result: FAIL
&gt; &gt; Failed 1/34 test programs. 1/2726 subtests failed.
&gt; &gt; make: *** [test_dynamic] Error 255
</div>&gt; 
&gt; I don&#39;t see these failures if I have HTTP::Tiny installed.
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474                       Fax   +61 7 5598-7070
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1367539" href="/Public/Bug/Display.html?id=95473#txn-1367539">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;24&nbsp;03:26:10&nbsp;2014</span>
    <span class="description">MIKEM [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1367541" href="/Public/Bug/Display.html?id=95473#txn-1367541">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;May&nbsp;24&nbsp;03:26:11&nbsp;2014</span>
    <span class="description">MIKEM [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.097349</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
