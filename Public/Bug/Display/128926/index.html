<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #128926 for Tk-JComboBox: Active Bugs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #128926 for Tk-JComboBox: Active Bugs</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Tk-JComboBox/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Tk-JComboBox/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Tk-JComboBox/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Tk-JComboBox/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk-JComboBox">Tk-JComboBox CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">128926</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Tk-JComboBox/Active/">Tk-JComboBox</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Philip.Campbell [...] UHhospitals.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33828-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33829-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;25&nbsp;13:12:18&nbsp;2019</span>
    <span class="description">Philip.Campbell [...] UHhospitals.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Active Bugs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 25 Mar 2019 17:10:36 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Tk-JComboBox [...] rt.cpan.org&#34; &lt;bug-Tk-JComboBox [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Campbell, Philip Dale&#34; &lt;Philip.Campbell [...] UHhospitals.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
I just ran across the following issue, for which a fix was found at the time &#40;but apparently never reported&#41;:
<span class="clickylink"><a target="new" rel="nofollow" href="https://www.perlmonks.org/bare/?node_id=799022">https://www.perlmonks.org/bare/?node_id=799022</a></span>

First time when I try changing state from &#39;disabled&#39; to &#39;normal&#39; to a JComboBox widget it throws an error like this:
Tk::Error: Can&#39;t set -state to `normal&#39; for
Tk::JComboBox=HASH&#40;0x84da458&#41;: Cannot use undef value for object of
type &#39;color&#39; at /usr/lib/perl5/site_perl/5.10.0/Tk/JComboBox.pm line
1061.

The proposed solution:

can you try the following patch? &#40;The second change is not related to this issue but seems obvious...&#41;

Cheers, Christoph

--- C:\Dokumente und Einstellungen\chris\Desktop\devel\ngre\Tk\JComboB

+ox-old.pm    Mo Okt 30 05:29:15 2006

+++ C:\Dokumente und Einstellungen\chris\Desktop\devel\ngre\Tk\JComboB

+ox.pm    So Okt  4 14:05:48 2009

@@ -1030,7 +1030,7 @@

          $entry-&gt;configure&#40;-background =&gt; $bg&#41;;

       }

    }

-   if &#40;$fg ne $button-&gt;cget&#40;&#39;-foreground&#39;&#41;&#41; {

+   if &#40;$fg ne $entry-&gt;cget&#40;&#39;-foreground&#39;&#41;&#41; {

       $entry-&gt;{$SWAP_FG} = $entry-&gt;cget&#40;&#39;-foreground&#39;&#41;;

       $entry-&gt;configure&#40;-foreground =&gt; $fg&#41;;

    }

@@ -1052,7 +1052,7 @@

       $entry-&gt;configure&#40;-state =&gt; &#39;normal&#39;&#41;;

       return if $Tk::VERSION &gt;= 804;



-      my $bg = $entry-&gt;{SWAP_BG};

+      my $bg = $entry-&gt;{$SWAP_BG};

       $entry-&gt;{$SWAP_BG} = $entry-&gt;cget&#40;&#39;-background&#39;&#41;;

       $entry-&gt;configure&#40;-background =&gt; $bg&#41;;

    }

Which does resolve the problem for me, as well.


Also, it appears this issue has been resolved &#40;code updated&#41;, but the bug-track remains &#34;active&#34;:
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=73187">https://rt.cpan.org/Public/Bug/Display.html?id=73187</a></span>


And for this bug report:
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=60970">https://rt.cpan.org/Public/Bug/Display.html?id=60970</a></span>
Because the original cure &#40;limiting the position of the drop-down&#41; seems worse than the disease &#40;drop-down selections appearing off-screen&#41;, I disabled bounds-checking &#40;beginning at line 1324&#41;:
   ## X/Y values must be at least 0, to display popup on screen. Typically,
   ## this will only ever be a problem for the X value.
# PDC - disable to support multiple-monitor layout
#   $popupPosX = 0 if $popupPosX &lt; 0;
#   $popupPosY = 0 if $popupPosY &lt; 0;

   ## X/Y values must not allow the popup to be displayed beyond the maximum
   ## limits allowed for the screen. Again, this will might happen
# PDC - disable to support multiple-monitor layout
#   $popupPosX = $maxX - $popupWidth  if &#40;&#40;$popupPosX + $popupWidth&#41; &gt; $maxX&#41;;
#   $popupPosY = $maxY - $popupHeight if &#40;&#40;$popupPosY + $popupHeight&#41; &gt; $maxY&#41;;

--
Thanks,
pDale Campbell
pDaleC@GMail.com
Visit us at www.UHhospitals.org.

The enclosed information is STRICTLY CONFIDENTIAL and is intended for the
use of the addressee only. University Hospitals and its affiliates disclaim
any responsibility for unauthorized disclosure of this information to anyone
other than the addressee.

Federal and Ohio law protect patient medical information, including
psychiatric_disorders, &#40;H.I.V&#41; test results, A.I.Ds-related conditions,
alcohol, and/or drug_dependence or abuse disclosed in this email. Federal
regulation &#40;42 CFR Part 2&#41; and Ohio Revised Code section 5122.31 and
3701.243 prohibit disclosure of this information without the specific
written consent of the person to whom it pertains, or as otherwise permitted
by law.
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>

<div class="messagebody">
<img alt="image001.gif" title="image001.gif" src="/Ticket/Attachment/1839558/988885/" /></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
