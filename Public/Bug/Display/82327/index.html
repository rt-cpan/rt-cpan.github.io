<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82327 for Module-Implementation: [RFC] Augment/supplement the symbols argument with regex capabilities</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82327 for Module-Implementation: [RFC] Augment/supplement the symbols argument with regex capabilities</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Module-Implementation">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Module-Implementation">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Module-Implementation">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Module-Implementation">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Implementation">Module-Implementation CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82327</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Module-Implementation">Module-Implementation</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242378-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242379-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=82327">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160404" href="/Public/Bug/Display.html?id=82327#txn-1160404">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;09:40:09&nbsp;2012</span>
    <span class="description">ribasushi [...] leporine.io -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160404/610108/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610108">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 797b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The use case is to replace this block [1] with the single call to
Module::Implementation::build_loader_sub&#40;&#41;. Specifically useful for
Package::Stash since it invoking itself while loading makes it behave
funny under older perls, and under the debugger.

I am just handwaving the idea before writing code, to see if you agree
with the idea in principle. I am thinhking that the regex interface is
really only applicable to function names, hence symbols =&gt; [ &#39;a&#39;, &#39;b&#39;,
qr/foo/ ] should DTRT. If you dislike the API duality - an alternative
would be functions_matching =&gt; \@list_of_qrs, or something like that.

Let me know what you think and I&#39;ll come up with the patches/tests/docs/etc.

[1]
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/carloslima/package-stash/blob/convert-to-module-implementation/lib/Package/Stash.pm#L20">https://github.com/carloslima/package-stash/blob/convert-to-module-implementation/lib/Package/Stash.pm#L20</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1161942" href="/Public/Bug/Display.html?id=82327#txn-1161942">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;04&nbsp;05:00:30&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1161942/610925/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610925">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 160b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Any word on this? I got the go-ahead from doy to supply more patches to
Package::Stash - implementing this would make for the cleanest approach
of all. 

Cheers
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1161944" href="/Public/Bug/Display.html?id=82327#txn-1161944">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;04&nbsp;05:00:31&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1162051" href="/Public/Bug/Display.html?id=82327#txn-1162051">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;04&nbsp;09:59:29&nbsp;2013</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 4 Jan 2013 08:59:19 -0600 &#40;CST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter Rabbitson via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1162051/610984/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610984">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 668b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Module-Implementation
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;
&gt; Any word on this? I got the go-ahead from doy to supply more patches to
&gt; Package::Stash - implementing this would make for the cleanest approach
&gt; of all.
</div>
Sure, I think allowing a single regex and using that to match sub names is 
the simplest way to go.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1162054" href="/Public/Bug/Display.html?id=82327#txn-1162054">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;04&nbsp;10:20:04&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 5 Jan 2013 02:19:46 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;autarch [...] urth.org via RT&#34; &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ribasushi [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1162054/610987/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610987">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 775b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Jan 04, 2013 at 09:59:29AM -0500, autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; 
&gt; On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;       Queue: Module-Implementation
&gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;
&gt; &gt; Any word on this? I got the go-ahead from doy to supply more patches to
&gt; &gt; Package::Stash - implementing this would make for the cleanest approach
&gt; &gt; of all.
</div>&gt; 
&gt; Sure, I think allowing a single regex and using that to match sub names is 
&gt; the simplest way to go.
</div>
So then &#40;to double check&#41; something like:

symbols =&gt; [qw&#40;func1 func2 $globalvar %globalhash&#41;, qr/^any_method_like_/ ]

I&#39;ll get you something towards the end of today if you find the syntax
agreeable.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1162063" href="/Public/Bug/Display.html?id=82327#txn-1162063">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;04&nbsp;10:32:07&nbsp;2013</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 4 Jan 2013 09:31:58 -0600 &#40;CST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter Rabbitson via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1162063/610994/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610994">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Module-Implementation
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;
&gt; On Fri, Jan 04, 2013 at 09:59:29AM -0500, autarch@urth.org via RT wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;&gt;
&gt;&gt; On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt;       Queue: Module-Implementation
&gt;&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Any word on this? I got the go-ahead from doy to supply more patches to
&gt;&gt;&gt; Package::Stash - implementing this would make for the cleanest approach
&gt;&gt;&gt; of all.
</div>&gt;&gt;
&gt;&gt; Sure, I think allowing a single regex and using that to match sub names is
&gt;&gt; the simplest way to go.
</div>&gt;
&gt; So then &#40;to double check&#41; something like:
&gt;
&gt; symbols =&gt; [qw&#40;func1 func2 $globalvar %globalhash&#41;, qr/^any_method_like_/ ]
&gt;
&gt; I&#39;ll get you something towards the end of today if you find the syntax
&gt; agreeable.
</div>
Yeah, that seems good. Actually, I guess we should allow &gt;1 regex, since 
there&#39;s no reason to disallow it in the context of an array.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1233228" href="/Public/Bug/Display.html?id=82327#txn-1233228">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;08&nbsp;01:19:34&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1233228/651731/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/651731">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jan 04 10:32:07 2013, autarch@urth.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;       Queue: Module-Implementation
&gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;
&gt; &gt; On Fri, Jan 04, 2013 at 09:59:29AM -0500, autarch@urth.org via RT
</div>&gt; wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Fri, 4 Jan 2013, Peter Rabbitson via RT wrote:
&gt; &gt;&gt;
<div class="message-stanza open">&gt; &gt;&gt;&gt;       Queue: Module-Implementation
&gt; &gt;&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Any word on this? I got the go-ahead from doy to supply more
</div></div></div>&gt; patches to
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt;&gt; Package::Stash - implementing this would make for the cleanest
</div></div>&gt; approach
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt;&gt; of all.
</div>&gt; &gt;&gt;
&gt; &gt;&gt; Sure, I think allowing a single regex and using that to match sub
</div></div>&gt; names is
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; the simplest way to go.
</div>&gt; &gt;
&gt; &gt; So then &#40;to double check&#41; something like:
&gt; &gt;
&gt; &gt; symbols =&gt; [qw&#40;func1 func2 $globalvar %globalhash&#41;,
</div>&gt; qr/^any_method_like_/ ]
<div class="message-stanza open">&gt; &gt;
&gt; &gt; I&#39;ll get you something towards the end of today if you find the
</div>&gt; syntax
<div class="message-stanza open">&gt; &gt; agreeable.
</div>&gt; 
&gt; Yeah, that seems good. Actually, I guess we should allow &gt;1 regex,
&gt; since
&gt; there&#39;s no reason to disallow it in the context of an array.
&gt; 
</div>
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/compare/c2f67a8c...eab3c0b1">https://github.com/ribasushi/module_implementation/compare/c2f67a8c...eab3c0b1</a></span>

Patchset including this and other stuff. It is a lot of changes, but the commits are well isolated - review them one by one.

Let me know if anything needs fixing etc.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1233249" href="/Public/Bug/Display.html?id=82327#txn-1233249">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;08&nbsp;02:07:39&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1233249/651748/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/651748">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 109b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">One more commit, cleans up an author test:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235541" href="/Public/Bug/Display.html?id=82327#txn-1235541">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;14&nbsp;12:53:04&nbsp;2013</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235541/652984/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/652984">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 08 02:07:39 2013, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; One more commit, cleans up an author test:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div>
I took a look at this, and I like the general idea, but the implementation seems overly complicated.

I don&#39;t like that regexes load copy _different_ symbols than strings. Why should only regexes look at multiple packages? What&#39;s the use case for using multiple implementations at all? If there is a use case, why should string matching apply here too?

I&#39;m also not sure it makes sense to limit regexes to just subroutines. It probably _does_ make sense to to require that a regex that wants to match some other type include the sigil. In other words, we could pass the symbols into the regex with their leading sigil _except_ for subs.

That all said, I&#39;d like to keep this as simple as possible. I&#39;d be inclined to start with having regexes match subs only, and only look at one package.

I made a copy of your fork in the branch &#34;riba&#34;, which should now be visible on GitHub. I&#39;ve made some style/naming tweaks in that branch, so it probably makes sense to do future work off of that.

Thanks,

-dave
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235547" href="/Public/Bug/Display.html?id=82327#txn-1235547">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;14&nbsp;13:02:08&nbsp;2013</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235547/652989/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/652989">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 632b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 08 02:07:39 2013, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; One more commit, cleans up an author test:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div>
It also occurs to me that always loading all implementations is probably an anti-feature in some cases. It&#39;s possible that some implementations may use up a lot of memory. For example, maybe the module provides access to some sort of data set. One implementation uses an external file &#40;Berkeley DB, whatever&#41; and one provides it as an in-memory hash as a fallback. In that case you really don&#39;t want to load the in-memory hash version since maybe it uses 10MB of memory.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235595" href="/Public/Bug/Display.html?id=82327#txn-1235595">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;14&nbsp;15:53:01&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 14 Jul 2013 19:52:42 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Dave Rolsky via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235595/653017/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/653017">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 609b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; 
&gt; On Mon Jul 08 02:07:39 2013, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt; One more commit, cleans up an author test:
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div>&gt; 
&gt; I took a look at this, and I like the general idea, but the implementation seems overly complicated.
&gt; 
&gt; I don&#39;t like that regexes load copy _different_ symbols than strings. Why should only regexes look at multiple packages?
</div>
I am confused by the above sentence. Please clarify so I can reply to the rest.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235597" href="/Public/Bug/Display.html?id=82327#txn-1235597">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;14&nbsp;16:09:51&nbsp;2013</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 14 Jul 2013 15:09:36 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter Rabbitson via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235597/653019/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/653019">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 14 Jul 2013, Peter Rabbitson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Module-Implementation
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;
&gt; On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt;&gt;
&gt;&gt; On Mon Jul 08 02:07:39 2013, RIBASUSHI wrote:
<div class="message-stanza open">&gt;&gt;&gt; One more commit, cleans up an author test:
&gt;&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div>&gt;&gt;
&gt;&gt; I took a look at this, and I like the general idea, but the implementation seems overly complicated.
&gt;&gt;
&gt;&gt; I don&#39;t like that regexes load copy _different_ symbols than strings. Why should only regexes look at multiple packages?
</div>&gt;
&gt; I am confused by the above sentence. Please clarify so I can reply to the rest.
</div>
Doh, I combined two things. One is that regexes only look at subs. The 
more I think about it the more I think that&#39;s a good idea.

The second is that regexes look at multiple implementation packages. I 
don&#39;t understand the use case for this at all, especially since you 
explicitly check that implementations are consistent.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235719" href="/Public/Bug/Display.html?id=82327#txn-1235719">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;15&nbsp;04:15:56&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 15 Jul 2013 08:15:37 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;autarch [...] urth.org via RT&#34; &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235719/653103/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/653103">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jul 14, 2013 at 04:09:52PM -0400, autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; 
&gt; On Sun, 14 Jul 2013, Peter Rabbitson via RT wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;       Queue: Module-Implementation
&gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;
&gt; &gt; On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<div class="message-stanza open">&gt; &gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Mon Jul 08 02:07:39 2013, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt;&gt;&gt; One more commit, cleans up an author test:
&gt; &gt;&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ribasushi/module_implementation/commit/dfa78a05">https://github.com/ribasushi/module_implementation/commit/dfa78a05</a></span>
</div>&gt; &gt;&gt;
&gt; &gt;&gt; I took a look at this, and I like the general idea, but the implementation seems overly complicated.
&gt; &gt;&gt;
&gt; &gt;&gt; I don&#39;t like that regexes load copy _different_ symbols than strings. Why should only regexes look at multiple packages?
</div>&gt; &gt;
&gt; &gt; I am confused by the above sentence. Please clarify so I can reply to the rest.
</div>&gt; 
&gt; Doh, I combined two things. One is that regexes only look at subs. The 
&gt; more I think about it the more I think that&#39;s a good idea.
</div>
Right, as I do not see a way *how* to specify that a regex is supposed to 
match a specific symbol type. We could do &#40;... { &#39;*&#39; =&gt; qr/.../ }... &#41;
but this goes against simplicity.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The second is that regexes look at multiple implementation packages. I 
&gt; don&#39;t understand the use case for this at all, especially since you 
&gt; explicitly check that implementations are consistent.
&gt; 
</div>
This is *how* I check that implementations are consistent. If I do not
look at all implementor-packages, I can not compile lists to compare.

Now why the complexity of ensuring that implementation lists match: I
wanted to prevent *extra* symbols being imported from one of the
implementations without the user realizing it. Basically say you start
with A &#40;foo bar&#41; and B &#40;foo bar&#41;. You do an import based on qr/^[a-z]/i.
Then you add &#39;baz_internal&#39; to B - boom, you got an inconsistency you
are not likely to even realize exists.

Inspiration for this was Package::Stash itself - it blindly copies
any sub: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DOY/Package-Stash-0.35/lib/Package/Stash.pm#L29">https://metacpan.org/source/DOY/Package-Stash-0.35/lib/Package/Stash.pm#L29</a></span>

I am not hellbent on insisting this stays. But it seemed like the
only right thing to do, *especially* given the open-endedness of the
regex inclusion mechanism.

As far as it being an anti-feature loading a lot of extra crap - if
this is an issue, one can always request a specific implementation via
the envvar, in which case the entire mechanism is circumvented.

In any case - your call
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1235721" href="/Public/Bug/Display.html?id=82327#txn-1235721">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;15&nbsp;04:33:51&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 15 Jul 2013 08:33:36 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Dave Rolsky via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1235721/653105/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/653105">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 705b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; What&#39;s the use case for using multiple implementations at all? If there is a use case, why should string matching apply here too?
&gt; 
</div>
I now realized what confused you - I wrote the docs incorrectly. Of course
the implementations from *only one* package are imported, no matter what.
The scope that deals with symbol copy is here [1]. As you can see $from
is set once and never varies.

The rest &#40;loading and scanning all implementations&#41; is just a consistency
check that happens once per compile time, as I explained earlier.

[1] <span class="clickylink"><a target="new" rel="nofollow" href="http://git.urth.org/cgit.cgi/Module-Implementation.git/tree/lib/Module/Implementation.pm?h=riba#n162">http://git.urth.org/cgit.cgi/Module-Implementation.git/tree/lib/Module/Implementation.pm?h=riba#n162</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1238883" href="/Public/Bug/Display.html?id=82327#txn-1238883">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;22&nbsp;11:53:54&nbsp;2013</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1238883/654970/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/654970">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 959b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 15 04:33:51 2013, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; What&#39;s the use case for using multiple implementations at all? If
</div>&gt; there is a use case, why should string matching apply here too?
<div class="message-stanza open">&gt; &gt;
</div>&gt; 
&gt; I now realized what confused you - I wrote the docs incorrectly. Of
&gt; course
&gt; the implementations from *only one* package are imported, no matter
&gt; what.
&gt; The scope that deals with symbol copy is here [1]. As you can see
&gt; $from
&gt; is set once and never varies.
&gt; 
&gt; The rest &#40;loading and scanning all implementations&#41; is just a
&gt; consistency
&gt; check that happens once per compile time, as I explained earlier.
&gt; 
&gt; [1] <span class="clickylink"><a target="new" rel="nofollow" href="http://git.urth.org/cgit.cgi/Module-">http://git.urth.org/cgit.cgi/Module-</a></span>
&gt; Implementation.git/tree/lib/Module/Implementation.pm?h=riba#n162
</div>
I think it&#39;d be best to make this consistency checking an opt-in thing. Module authors are probably in a better position to decide if it makes sense for their distros.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1239034" href="/Public/Bug/Display.html?id=82327#txn-1239034">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;22&nbsp;16:37:22&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 22 Jul 2013 20:37:02 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Dave Rolsky via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1239034/655042/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/655042">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Jul 22, 2013 at 11:53:54AM -0400, Dave Rolsky via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; 
&gt; On Mon Jul 15 04:33:51 2013, RIBASUSHI wrote:
<div class="message-stanza open">&gt; &gt; On Sun, Jul 14, 2013 at 12:53:04PM -0400, Dave Rolsky via RT wrote:
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; What&#39;s the use case for using multiple implementations at all? If
</div>&gt; &gt; there is a use case, why should string matching apply here too?
<div class="message-stanza open">&gt; &gt; &gt;
</div>&gt; &gt; 
&gt; &gt; I now realized what confused you - I wrote the docs incorrectly. Of
&gt; &gt; course
&gt; &gt; the implementations from *only one* package are imported, no matter
&gt; &gt; what.
&gt; &gt; The scope that deals with symbol copy is here [1]. As you can see
&gt; &gt; $from
&gt; &gt; is set once and never varies.
&gt; &gt; 
&gt; &gt; The rest &#40;loading and scanning all implementations&#41; is just a
&gt; &gt; consistency
&gt; &gt; check that happens once per compile time, as I explained earlier.
&gt; &gt; 
&gt; &gt; [1] <span class="clickylink"><a target="new" rel="nofollow" href="http://git.urth.org/cgit.cgi/Module-">http://git.urth.org/cgit.cgi/Module-</a></span>
&gt; &gt; Implementation.git/tree/lib/Module/Implementation.pm?h=riba#n162
</div>&gt; 
&gt; I think it&#39;d be best to make this consistency checking an opt-in thing. Module authors are probably in a better position to decide if it makes sense for their distros.
</div>
I think this is way too dangerous and messy with a regex based import. I 
was going to suggest a strictures-like check that will make the 
full-load run only when $0 =~ /t\// r somesuch.

However if the best you can settle for is an opt-in, I think the entire 
&#34;pick methods based on a regex&#34; thing is a non-starter, and this 
patchset should go &#34;resting&#34; ;&#41;

Let me know what you think
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1240331" href="/Public/Bug/Display.html?id=82327#txn-1240331">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;24&nbsp;14:34:37&nbsp;2013</span>
    <span class="description">DOY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1240331/655871/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/655871">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 136b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I agree with autarch - having your code die because of code that isn&#39;t even going to be used at all is not really that great of an idea.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1240516" href="/Public/Bug/Display.html?id=82327#txn-1240516">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;24&nbsp;16:49:02&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1240516/655912/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/655912">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 306b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Alrighty. In this case I fully retract the feature request, since offering match-based imports from potentially differing implementations is an exceedingly bad idea.

I&#39;ll rework the patchset later on to include just some of the cleanups.

Please close this ticket and kill the branch in the repo.

Cheers!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1245086" href="/Public/Bug/Display.html?id=82327#txn-1245086">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;03&nbsp;12:49:04&nbsp;2013</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Aug 2013 11:48:48 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter Rabbitson via RT &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1245086/658582/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/658582">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 908b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, 22 Jul 2013, Peter Rabbitson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think this is way too dangerous and messy with a regex based import. I
&gt; was going to suggest a strictures-like check that will make the
&gt; full-load run only when $0 =~ /t\// r somesuch.
&gt;
&gt; However if the best you can settle for is an opt-in, I think the entire
&gt; &#34;pick methods based on a regex&#34; thing is a non-starter, and this
&gt; patchset should go &#34;resting&#34; ;&#41;
&gt;
&gt; Let me know what you think
</div>
I think an opt-in is best, but I don&#39;t think that means the whole idea is 
not worth doing. But if you don&#39;t want it do it as an opt-in, that&#39;s ok. I 
may get around to adding this at some point myself.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1245683" href="/Public/Bug/Display.html?id=82327#txn-1245683">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;05&nbsp;02:23:07&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82327] [RFC] Augment/supplement the symbols argument with regex capabilities</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 5 Aug 2013 06:22:53 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;autarch [...] urth.org via RT&#34; &lt;bug-Module-Implementation [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1245683/658961/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/658961">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Aug 03, 2013 at 12:49:05PM -0400, autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82327">https://rt.cpan.org/Ticket/Display.html?id=82327</a></span> &gt;
&gt; 
&gt; On Mon, 22 Jul 2013, Peter Rabbitson via RT wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; I think this is way too dangerous and messy with a regex based import. I
&gt; &gt; was going to suggest a strictures-like check that will make the
&gt; &gt; full-load run only when $0 =~ /t\// r somesuch.
&gt; &gt;
&gt; &gt; However if the best you can settle for is an opt-in, I think the entire
&gt; &gt; &#34;pick methods based on a regex&#34; thing is a non-starter, and this
&gt; &gt; patchset should go &#34;resting&#34; ;&#41;
&gt; &gt;
&gt; &gt; Let me know what you think
</div>&gt; 
&gt; I think an opt-in is best, but I don&#39;t think that means the whole idea is 
&gt; not worth doing. But if you don&#39;t want it do it as an opt-in, that&#39;s ok. I 
&gt; may get around to adding this at some point myself.
&gt; 
</div>
Having a wildcard-based mechanism which does *not* check for consistency 
of the import lists is too dangerous to my taste. Even if the feature 
gets added I am not likely to use it, and wouldn&#39;t recommend someone 
does either.

Hence the &#34;kill the idea&#34; idea ;&#41;
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.692915</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
