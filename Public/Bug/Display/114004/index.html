<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #114004 for Math-Polynomial: t/11_math_bigrat.t fails with recent Math-BigInt &#40;&gt;= 1.999718&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #114004 for Math-Polynomial: t/11_math_bigrat.t fails with recent Math-BigInt &#40;&gt;= 1.999718&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Math-Polynomial/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Math-Polynomial/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Math-Polynomial/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Math-Polynomial/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-Polynomial">Math-Polynomial CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">114004</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Math-Polynomial/Active/">Math-Polynomial</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">hasch-cpan [...] cozap.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
pjacklam [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-20850-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
1.008</li>
<li>
1.011</li>
<li>
1.000</li>
<li>
1.001</li>
<li>
1.002</li>
<li>
1.003</li>
<li>
1.004</li>
<li>
1.005</li>
<li>
1.006</li>
<li>
1.007</li>
<li>
1.009</li>
</ul>
    </td>
  </tr>
  <tr id="CF-20851-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.012    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;26&nbsp;13:47:53&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> pjacklam [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/11_math_bigrat.t fails with recent Math-BigInt &#40;&gt;= 1.999718&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">See subject. Test failure looks like this:

# Failed test 5 in t/11_math_bigrat.t at line 43
#  t/11_math_bigrat.t line 43 is: ok&#40;$p == $q&#41;;
t/11_math_bigrat.t ... 
Failed 1/8 subtests 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;27&nbsp;03:18:27&nbsp;2016</span>
    <span class="description">peter.john.acklam [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">You need to use Math::BigRat v0.260803 or later.

Changes were made to the Math-BigInt distribution which required changes to the Math-BigRat distribution too. Because of this, certain combinations of the two distributions don&#39;t work together.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;27&nbsp;03:18:28&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;28&nbsp;11:50:56&nbsp;2016</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As Peter John Acklam correctly observed, incompatible versions of Math::BigInt and Math::BigRat can lead to Math::BigRat giving wrong results.  Upgrading both to their latest releases should fix the problem.

Math-Polynomial-1.009 now lists Math::BigInt and Math::BigRat as recommended dependencies.  This should make future reports more meaningful as versions of prerequisites will be included.

Thank you for testing this.  As Math-Polynomial appears not to take the blame this time, I&#39;ll close the ticket when reports for release 1.009 confirm our findings.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;03&nbsp;01:50:07&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-07-28 11:50:56, MHASCH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As Peter John Acklam correctly observed, incompatible versions of
&gt; Math::BigInt and Math::BigRat can lead to Math::BigRat giving wrong
&gt; results.  Upgrading both to their latest releases should fix the
&gt; problem.
&gt; 
&gt; Math-Polynomial-1.009 now lists Math::BigInt and Math::BigRat as
&gt; recommended dependencies.  This should make future reports more
&gt; meaningful as versions of prerequisites will be included.
&gt; 
&gt; Thank you for testing this.  As Math-Polynomial appears not to take
&gt; the blame this time, I&#39;ll close the ticket when reports for release
&gt; 1.009 confirm our findings.
&gt; 
</div>
Unfortunately it seems that the recommended modules are listed in CPAN::Reporter reports. For example:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/0a9dc5ac-5512-11e6-a2cb-9cfa4cac9722">http://www.cpantesters.org/cpan/report/0a9dc5ac-5512-11e6-a2cb-9cfa4cac9722</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;06&nbsp;11:02:26&nbsp;2016</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The metadata changes in Math-Polynomial-1.009 failed to make test reports actually more meaningful.
The next version will have an explicit diagnostic listing relevant module versions.

Note that all evidence so far suggests that our test failure is triggered by errors in rational arithmetic which in turn stems from incompatible combinations of Math::BigRat and Math::BigInt versions.
While it is very unfortunate that such version combinations exist, there is not much we can do about it other than requiring quite recent versions of both modules.

Just ignoring the failure does not feel right.
Broken arithmetic can not simply be tolerated.
Math::Polynomial of course would be good to use with other coefficient types.
We could perhaps come up with run-time checks guarding against really crazy coefficient behaviour.

First, however, we&#39;ll try to improve test diagnostics in order to give some guidance to users suffering from well-known incompatibilities.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;06&nbsp;15:12:47&nbsp;2016</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The failure can be reproduced with a fresh perl-5.24.0 and a policy to follow all prerequisites, like this:

- perl-5.24.0 ships with Math-BigInt-1.999715 and Math-BigRat-0.260802

- current Math-Polynomial-1.009 recommends Math::ModInt

- current Math-ModInt-0.011 recommends Math::BigInt::GMP

- current Math-BigInt-GMP-1.51 requires Math::BigInt &gt;= 1.999719

- current Math-BigInt-1.999726 gets installed

- the combination of Math-BigInt-1.999726 and Math-BigRat-0.260802 is broken

As a remedy, the next Math-Polynomial release will recommend Math::BigRat 0.260804.  This in turn will work with a recent Math-BigInt release.  In fact it requires Math::BigInt &gt;= 1.999718.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;14&nbsp;13:43:39&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-08-06 15:12:47, MHASCH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The failure can be reproduced with a fresh perl-5.24.0 and a policy to
&gt; follow all prerequisites, like this:
&gt; 
&gt; - perl-5.24.0 ships with Math-BigInt-1.999715 and Math-BigRat-0.260802
&gt; 
&gt; - current Math-Polynomial-1.009 recommends Math::ModInt
&gt; 
&gt; - current Math-ModInt-0.011 recommends Math::BigInt::GMP
&gt; 
&gt; - current Math-BigInt-GMP-1.51 requires Math::BigInt &gt;= 1.999719
&gt; 
&gt; - current Math-BigInt-1.999726 gets installed
&gt; 
&gt; - the combination of Math-BigInt-1.999726 and Math-BigRat-0.260802 is
&gt; broken
&gt; 
&gt; As a remedy, the next Math-Polynomial release will recommend
&gt; Math::BigRat 0.260804.  This in turn will work with a recent Math-
&gt; BigInt release.  In fact it requires Math::BigInt &gt;= 1.999718.
</div>
Just a recommendation means that smokers and users may still see test failures &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Math-Polynomial%201.011">http://matrix.cpantesters.org/?dist=Math-Polynomial%201.011</a></span> &#41;. So either the minimum version should be a hard requirement, or the failing test should be skipped if Math::BigRat is not new enough.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;14&nbsp;13:43:59&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 1.011 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;14&nbsp;15:44:27&nbsp;2016</span>
    <span class="description">mhasch-cpanbugs [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mhasch-cpanbugs [...] cozap.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 14 13:43:39 2016, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2016-08-06 15:12:47, MHASCH wrote:
<div class="message-stanza open">&gt; &gt; The failure can be reproduced with a fresh perl-5.24.0 and a policy
&gt; &gt; to
&gt; &gt; follow all prerequisites, like this:
&gt; &gt;
&gt; &gt; - perl-5.24.0 ships with Math-BigInt-1.999715 and Math-BigRat-
&gt; &gt; 0.260802
&gt; &gt;
&gt; &gt; - current Math-Polynomial-1.009 recommends Math::ModInt
&gt; &gt;
&gt; &gt; - current Math-ModInt-0.011 recommends Math::BigInt::GMP
&gt; &gt;
&gt; &gt; - current Math-BigInt-GMP-1.51 requires Math::BigInt &gt;= 1.999719
&gt; &gt;
&gt; &gt; - current Math-BigInt-1.999726 gets installed
&gt; &gt;
&gt; &gt; - the combination of Math-BigInt-1.999726 and Math-BigRat-0.260802 is
&gt; &gt; broken
&gt; &gt;
&gt; &gt; As a remedy, the next Math-Polynomial release will recommend
&gt; &gt; Math::BigRat 0.260804.  This in turn will work with a recent Math-
&gt; &gt; BigInt release.  In fact it requires Math::BigInt &gt;= 1.999718.
</div>&gt; 
&gt; Just a recommendation means that smokers and users may still see test
&gt; failures &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Math-">http://matrix.cpantesters.org/?dist=Math-</a></span>
&gt; Polynomial%201.011 &#41;. So either the minimum version should be a hard
&gt; requirement, or the failing test should be skipped if Math::BigRat is
&gt; not new enough.
</div>
You are right that the change did not make the failures go away.
I had figured if the new BigInt version came via recommendation, more recommemdations might do the trick.

I don&#39;t like the idea to make Math::Big&lt;whatever&gt; a mandatory prerequisite.
These modules are not and will not be required.
They are just supposed to make good coefficient spaces.

Now unfortunately Math::BigInt got severely broken and Math::BigRat got its own distro so it is not to be taken for granted that a BigRat version recent enough to cope with the problem is available on a platform where Math::Polynomial is going to be installed.

Consequently, whether or not Math::Polynomial can be used together with Math::BigRat to do symbolic math depends on circumstances we &#40;Math::Polynomial maintainers&#41; can not control.

As long as the root problem does not get fixed, it seems best to make our test suite independent of BigInt/BigRat behaviour and stop recommending these modules as being compatible.
Look out for Math-Polynomial-1.012 in the near future.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;08:51:01&nbsp;2016</span>
    <span class="description">peter.john.acklam [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 14 15:44:27 2016, mhasch-cpanbugs@cozap.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now unfortunately Math::BigInt got severely broken and Math::BigRat
&gt; got its own distro so it is not to be taken for granted that a BigRat
&gt; version recent enough to cope with the problem is available on a
&gt; platform where Math::Polynomial is going to be installed.
</div>
Math::Big&#40;Int|Float|Rat&#41; have always been broken, but through the
years they have gradually become less broken.

If this issue is still present, please provide a stripped-down example
illustrating the problem, and I will look into it.

Peter
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;22&nbsp;18:25:09&nbsp;2016</span>
    <span class="description">mhasch-cpanbugs [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Peter John Acklam &lt;pjacklam [...] online.no&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #114004] t/11_math_bigrat.t fails with recent Math-BigInt &#40;&gt;= 1.999718&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 23 Nov 2016 00:24:43 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Peter John Acklam via RT &lt;bug-Math-Polynomial [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martin Becker &lt;mhasch-cpanbugs [...] cozap.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Peter,

On Sun, Nov 20, 2016 at 08:51:02AM -0500, Peter John Acklam via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Math-Polynomial
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=114004">https://rt.cpan.org/Ticket/Display.html?id=114004</a></span> &gt;
&gt; 
&gt; On Fri Oct 14 15:44:27 2016, mhasch-cpanbugs@cozap.com wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Now unfortunately Math::BigInt got severely broken and Math::BigRat
&gt; &gt; got its own distro so it is not to be taken for granted that a BigRat
&gt; &gt; version recent enough to cope with the problem is available on a
&gt; &gt; platform where Math::Polynomial is going to be installed.
</div>&gt; 
&gt; Math::Big&#40;Int|Float|Rat&#41; have always been broken, but through the
&gt; years they have gradually become less broken.
</div>
Thank you for your cooperation in settling this issue.  I can
see now that asking you to take back the change to blsft&#40;&#41; and
brsft&#40;&#41; in Math-BigInt-1.999717, that breaks older versions of
Math::BigRat which in turn breaks any client code attempting
do do rational arithmetic using an unfortunate combination
of these modules, would be a bit much to ask.  You certainly
should be able to decide where backwards-compatibility must be
sacrificed in favour of progress.

Our problem here would go away if we were able to force clients
to update Math::BigRat together with Math::BigInt.  While the
Perl module infrastructure of today lacks a general solution
to impose restrictions on reverse dependencies, I can see a
special solution for our case.  After all, both modules are
under active development by the same author and maintainer.

And here is my suggestion:  Include Math::BigRat in the
Math-BigInt distribution for now.  You&#39;ll be free to continue
parallel development of the &#34;Big Three&#34; big number modules as
before, but with much less danger for downstream code to be
left with a problematic combination of these.

Future incompatible changes, of course, could be made easier to
cope with in a number of ways.  For one thing, I&#39;d like methods
to change their name when there is new semantics.  That way,
old and new semantics could coexist for a while with some sort
of deprecation music.  Once deprecation was over, clients would
fail spectacularly rather than giving wrong results silently.
An important math library, and an arbitrary precision one at
that, should go to great lengths to avoid the latter.

The unification of Math::BigInt, Math::BigFloat, and now
Math::BigRat, into one distribution does not need to be
permanent.  It should last long enough for the mainstream to
catch up, and of course as long as substantial changes affecting
all three of them are to be anticipated.

Could you be persuaded to do this?  I&#39;d gladly include updated
module recommendations into my distributions then.  I consider
it the best way to weed out outdated Math::BigRat versions from
systems where only Math::BigInt is intentionally being upgraded.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:38&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.000 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:38&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.001 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.002 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.004 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.005 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.006 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.007 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 1.009 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Fixed in 1.012 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:39&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Beginning with Math-Polynomial-1.012 we handle compatibility issues with alien modules differently.
Rather than failing, our test suite will just emit interesting skip messages.  We still need to improve the visibility of such messages though.  Ideas welcome.

Closing this ticket.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:40&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:50:45&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;12&nbsp;03:51:21&nbsp;2017</span>
    <span class="description">hasch-cpan [...] cozap.com -  Severity Normal added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
