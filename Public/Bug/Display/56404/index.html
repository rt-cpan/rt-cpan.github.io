<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #56404 for Perl-Dist-Strawberry: Unacceptable installation practices</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #56404 for Perl-Dist-Strawberry: Unacceptable installation practices</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Dist-Strawberry">Perl-Dist-Strawberry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">56404</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Perl-Dist-Strawberry/Active/">Perl-Dist-Strawberry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cpan [...] gleizer.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-40214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;08&nbsp;16:55:25&nbsp;2010</span>
    <span class="description">http://www.gleizer.net/oid/sg/ -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Unacceptable installation practices</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">5.10.1.1, as downloaded from <span class="clickylink"><a target="new" rel="nofollow" href="http://strawberryperl.com/">http://strawberryperl.com/</a></span> on 4/8/10,
installs on the C: drive without a &#40;at least obvious&#41; choice or
confirmation. In this case it installed onto a customer&#39;s C: drive,
which I was explicitly asked not to put anything on. Removed and
installed ActiveState.

Please make the install process more transparent and enable review and
confirmation of install actions before installation. Otherwise this is
too Microsoft.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;08&nbsp;19:14:46&nbsp;2010</span>
    <span class="description">perl [...] csjewell.fastmail.us -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56404] Unacceptable installation practices </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 08 Apr 2010 17:14:32 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.gleizer.net/oid/sg/">http://www.gleizer.net/oid/sg/</a></span> via RT&#34; &lt;bug-Perl-Dist-Strawberry [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Curtis Jewell&#34; &lt;perl [...] csjewell.fastmail.us&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, we know. :&#40;

Right now, 5.8.x and 5.10.x versions of Strawberry Perl are &#34;hardcoded&#34;
builds.  &#40;There&#39;s a bug in Perl that&#39;s preventing us from making a
&#34;pick-your-install-location&#34; &#40;I call it &#34;relocatable&#34;&#41; installer for
those versions of Perl:
<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=73562">http://rt.perl.org/rt3/Public/Bug/Display.html?id=73562</a></span> &#41;

[ActiveState chose not to add modules &#40;other than their own PPM
installation environment&#41; to the perl core, so they don&#39;t use the
&#34;vendor&#34; directory - we do, so we do.]

I need a little help walking through the Perl source in order to fix
this bug - my C skills are rusty and not entirely up to the task. 

The soon-to-be-version 5.12.0 does not have this bug, and a relocatable
installer for it is currently in beta testing. &#40;a version based on
5.12.0-RC0 is available at <span class="clickylink"><a target="new" rel="nofollow" href="http://strawberryperl.com/beta/">http://strawberryperl.com/beta/</a></span>, but if
you&#39;re wanting this for a client, I can&#39;t recommend it. A second beta
based on the final 5.12.0 bits should be available within 7 days &#40;and
hopefully sooner&#41; of those bits being released &#40;they&#39;re currently on
RC4, with plans to release the bits this Saturday, from what I&#39;m told.&#41; 
It should be &#34;out of beta&#34; and recommendable by May 15th or so. &#40;I
usually give new versions of Perl a month to settle in place.&#41;

Given that, there are two things that were done for previous versions,
and will continue to be done for future 5.8.x/5.10.x versions:

1&#41; There&#39;s a version that installs to D:\strawberry instead of
C:\strawberry available at <span class="clickylink"><a target="new" rel="nofollow" href="http://strawberryperl.com/releases.html">http://strawberryperl.com/releases.html</a></span> &#40;the
link at the text &#34;Other D: drive, ZIP, and Portable editions&#34; on the
main page&#41;

The question of &#34;Why are more drives not available?&#34; is that it takes
about 90 minutes of building for each drive &#40;and 30-40 minutes of
uploading per file uploaded - my build machine is on a rural United
States DSL connection&#41; on a 2009-era desktop - that and I have to have
something attached to the drive letter in question that&#39;s writeable to
build to. Beyond D-drive builds, the number of people requesting
additional drives is minimal. &#40;The build times end up at 150 minutes on
a 2005-era desktop, and 270 minutes on a 2005-era laptop, for
comparison. The process is IO-bound for the most part.&#41;

2&#41; There&#39;s a &#34;portable&#34; version &#40;for USB-stick use&#41; available at the
same location. It&#39;s not the easiest to use, but it&#39;s getting easier.

If either of those versions don&#39;t suit, the software we use to create
the installer itself is &#40;mostly&#41; on the CPAN &#40;the rest of it is on
Sourceforge, but one of the parts that&#39;s on the CPAN will download and
install that part for you&#41; and you could use that on your own machine to
create an installer that installs to a location of the client&#39;s choice -
I can assist you in doing so.

If you build your own installer, and if there are particular modules
that your client wants installed that aren&#39;t already in the Strawberry
installer, you could add those to the installer if you wish. &#40;The
assumption being that they&#39;ll build on Strawberry Perl in the first
place - you may wish to check that before saying yes to those requests!&#41;

Hope that information helps you.

--Curtis Jewell
--
Curtis Jewell
csjewell@cpan.org           <span class="clickylink"><a target="new" rel="nofollow" href="http://csjewell.dreamwidth.org/">http://csjewell.dreamwidth.org/</a></span>
perl@csjewell.fastmail.us   <span class="clickylink"><a target="new" rel="nofollow" href="http://csjewell.comyr.org/perl/">http://csjewell.comyr.org/perl/</a></span>

&#34;Your random numbers are not that random&#34; -- perl-5.10.1.tar.gz/util.c

Strawberry Perl for Windows betas: <span class="clickylink"><a target="new" rel="nofollow" href="http://strawberryperl.com/beta/">http://strawberryperl.com/beta/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;08&nbsp;19:14:49&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;04&nbsp;04:30:38&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">According to my tests relocation works nice with strawberry perl 5.12.0 - both 32/64bit (April 2010).<br>

<br>

IMHO this RT could be closed.<br>

<br>

--<br>

kmx<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;19&nbsp;19:33:18&nbsp;2010</span>
    <span class="description">csjewell [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue May 04 04:30:38 2010, KMX wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; According to my tests relocation works nice with strawberry perl
&gt; 5.12.0 - both
&gt; 32/64bit &#40;April 2010&#41;.
&gt; 
&gt; IMHO this RT could be closed.
</div>
The only reason this isn&#39;t closed yet is because he&#39;s right - the
5.8/5.10 non-relocatable versions SHOULD warn you where they are
installing to within the installer - especially since we&#39;ll be building
5.10 versions until 5.14.1 is expected to be out.

Will be fixing that in the next day or two, however.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;21&nbsp;04:39:57&nbsp;2010</span>
    <span class="description">csjewell [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 19 19:33:18 2010, CSJEWELL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue May 04 04:30:38 2010, KMX wrote:
<div class="message-stanza open">&gt; &gt; According to my tests relocation works nice with strawberry perl
&gt; &gt; 5.12.0 - both
&gt; &gt; 32/64bit &#40;April 2010&#41;.
&gt; &gt; 
&gt; &gt; IMHO this RT could be closed.
</div>&gt; 
&gt; The only reason this isn&#39;t closed yet is because he&#39;s right - the
&gt; 5.8/5.10 non-relocatable versions SHOULD warn you where they are
&gt; installing to within the installer - especially since we&#39;ll be building
&gt; 5.10 versions until 5.14.1 is expected to be out.
&gt; 
&gt; Will be fixing that in the next day or two, however.
</div>
Patched as of r12289.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;21&nbsp;04:39:59&nbsp;2010</span>
    <span class="description">csjewell [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;19&nbsp;23:47:09&nbsp;2010</span>
    <span class="description">csjewell [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
