<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #105153 for Prima: Prima, PDL and MS Windows difficulties</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #105153 for Prima: Prima, PDL and MS Windows difficulties</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Prima">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Prima">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Prima">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Prima">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Prima">Prima CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">105153</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Prima">Prima</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sisyphus [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
kmx [...] atlas.cz

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27120-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27121-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




fix.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1506486/802936/fix.diff">
Wed Jun 10 11:38:20 2015 (527b) by kmx [...] cpan.org
</a>
</font></li>
</ul>


Makefile<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1506469/802920/Makefile">
Wed Jun 10 10:35:57 2015 (158.8k) by sisyphus1 [...] optusnet.com.au
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=105153">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506453" href="/Public/Bug/Display.html?id=105153#txn-1506453">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;08:05:31&nbsp;2015</span>
    <span class="description">sisyphus [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> kmx [...] atlas.cz</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Prima, PDL and MS Windows difficulties</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506453/802907/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802907">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Dmitry,

On Windows, with recent Prima &#40;including 1.43&#41; Prima::Config&#39;s %Prima::Config::Config is being populated with a lot of entries relating to the build directory - eg, for me:

&#39;inc&#39; =&gt; &#39;-IC:/sisyphusion/Prima-1.43\\include -IC:/sisyphusion/Prima-1.43\\include\\generic&#39;,

&#39;dlname&#39; =&gt; &#39;C:\\sisyphusion\\Prima-1.43\\blib\\arch\\auto\\Prima\\Prima.dll&#39;,

&#39;gencls&#39; =&gt; &#39;C:\\sisyphusion\\Prima-1.43\\blib\\script\\gencls.bat&#39;,

&#39;tmlink&#39; =&gt; &#39;C:\\sisyphusion\\Prima-1.43\\blib\\script\\tmlink.bat&#39;,

&#39;libname&#39; =&gt; &#39;C:\\sisyphusion\\Prima-1.43\\blib\\arch\\auto\\Prima\\libPrima.a&#39;,

&#39;incpaths&#39; =&gt; [
                &#39;C:/sisyphusion/Prima-1.43\\include&#39;,
                &#39;C:/sisyphusion/Prima-1.43\\include\\generic&#39;
              ],

&#39;libs&#39; =&gt; &#39;C:\\sisyphusion\\Prima-1.43\\blib\\arch\\auto\\Prima\\libPrima.a&#39;,

The problem is that PDL::Drawing::Prima &#40;which is a prereq for PDL::Graphics::Prima&#41; picks up those locations from Prima::Config and assumes that they still exist and still contain the files they once did.
Neither of those assumptions is inevitably correct.

We&#39;re thinking that Prima::Config should be specifying &#34;instalment&#34; locations rather than &#34;build&#34; locations.
But, if our thinking is wrong, then clearly the bug is instead in PDL::Drawing::Prima.

See
<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/p/pdl/mailman/pdl-devel/thread/0FF8D75172AD4F9D9373859854236E65%40OwnerPC311012/#msg34193012">http://sourceforge.net/p/pdl/mailman/pdl-devel/thread/0FF8D75172AD4F9D9373859854236E65%40OwnerPC311012/#msg34193012</a></span>
for the discussion we had.

Cheers,
Rob
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506459" href="/Public/Bug/Display.html?id=105153#txn-1506459">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;09:34:25&nbsp;2015</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506459/802913/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802913">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1001b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Rob,

It looks like there&#39;s something strange going on your installation. The reason is 
because Prima::Config is a bit special. When Prima is just built, indeed it lies in the blib directory containing all the blib paths. This is needed for CPAN testing of modules depending on Prima incpaths, but Prima not itself being installed.

However after &#39;make install&#39; the installed version of the file is hacked so that it contains the real system-wide paths. One should be able to see the difference at least by that the blib Config has %Config_inst hash, while the system-wide hasn&#39;t. This is done in Makefile with --postinstall command.

So I&#39;m saying that if your system-wide Config contains c:/sisyphusion that&#39;s strange. Do you possibly install Prima by some other means than &#39;make install&#39;? Looking at kmx&#39;s response he&#39;s having same problem on strwaberry portable, but I&#39;ve just run the Prima install on the latest 5.22 portable and I cannot reproduce the problem. Am I missing something here?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506460" href="/Public/Bug/Display.html?id=105153#txn-1506460">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;09:34:25&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506469" href="/Public/Bug/Display.html?id=105153#txn-1506469">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;10:35:57&nbsp;2015</span>
    <span class="description">sisyphus1 [...] optusnet.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &lt;kmx [...] atlas.cz&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #105153] Prima, PDL and MS Windows difficulties</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 11 Jun 2015 00:34:31 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Prima [...] rt.cpan.org&gt;, &lt;sisyphus [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;sisyphus1 [...] optusnet.com.au&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506469/802919/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802919">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message----- 
From: KARASIK via RT
Sent: Wednesday, June 10, 2015 11:34 PM
To: sisyphus@cpan.org
Cc: kmx@atlas.cz
Subject: [rt.cpan.org #105153] Prima, PDL and MS Windows difficulties

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=105153">https://rt.cpan.org/Ticket/Display.html?id=105153</a></span> &gt;

<div class="message-stanza open">&gt; However after &#39;make install&#39; the installed version of the file is hacked 
&gt; so that it contains the real system-wide paths.
</div>
I&#39;m thinking that hack is not being performed.
Attached is the generated Makefile for my perl-5.16 build. Does it look as 
you expect ?

<div class="message-stanza open">&gt; So I&#39;m saying that if your system-wide Config contains c:/sisyphusion 
&gt; that&#39;s strange.
</div>
C:/sisyphusion/Prima-1.43 is, of course, the top level source directory.
Yes, I think it&#39;s strange, too :-&#41;

<div class="message-stanza open">&gt; Do you possibly install Prima by some other means than &#39;make install&#39;?
</div>
No, the only thing I do that&#39;s perhaps not anticipated is that I build 
manually.
Well ... it&#39;s scripted .... but instead of the script running &#39;cpan -i 
Prima&#39; or somesuch, it runs &#40;in C:\sisyphusion\Prima-1.43&#41;:

perl Makefile.PL 
LIBS=&#34;-LC:\MinGW\msys\1.0\local\lib -lXpm -lgif -lpng -ltiff -ljpeg -lz&#34;;
followed by
dmake
followed by
dmake test
followed by
dmake install

<div class="message-stanza open">&gt; Looking at kmx&#39;s response he&#39;s having same problem on strwaberry portable, 
&gt; but I&#39;ve just run the Prima install on the latest 5.22 portable and I 
&gt; cannot reproduce the problem. Am I missing something here?
</div>
Hmmm ... maybe there&#39;s more to the way it&#39;s built than meets the eye.

Cheers,
Rob
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506469/802920/Makefile">Download Makefile</a><br />
<span class="downloadcontenttype">application/octet-stream 158.8k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506473" href="/Public/Bug/Display.html?id=105153#txn-1506473">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;10:56:04&nbsp;2015</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506473/802923/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802923">with headers</a>
<br />
<span class="downloadcontenttype">text/html 361b</span>
</div>
<div class="messagebody">
<div class="message-stanza">At the end of: perl Makefile.PL I see<br>

<br>

** Warning: expected format of Makefile generated by ExtUtils::MakeMaker<br>

is changed, so post-installation steps may not be performed correcty.<br>

Prima will run OK, but modules dependent on it may not build.<br>

Please notify the author.<br>

<br>

which seems to be directly related to this issue
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506476" href="/Public/Bug/Display.html?id=105153#txn-1506476">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;11:07:43&nbsp;2015</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506476/802926/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802926">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza">Relevant part of my Makefile<br>


<pre>
pure_perl_install :: all
    $(NOECHO) $(MOD_INSTALL) \
        read &quot;$(PERL_ARCHLIB)\auto\$(FULLEXT)\.packlist&quot; \
        write &quot;$(DESTINSTALLARCHLIB)\auto\$(FULLEXT)\.packlist&quot; \
        &quot;$(INST_LIB)&quot; &quot;$(DESTINSTALLPRIVLIB)&quot; \
        &quot;$(INST_ARCHLIB)&quot; &quot;$(DESTINSTALLARCHLIB)&quot; \
        &quot;$(INST_BIN)&quot; &quot;$(DESTINSTALLBIN)&quot; \
        &quot;$(INST_SCRIPT)&quot; &quot;$(DESTINSTALLSCRIPT)&quot; \
        &quot;$(INST_MAN1DIR)&quot; &quot;$(DESTINSTALLMAN1DIR)&quot; \
        &quot;$(INST_MAN3DIR)&quot; &quot;$(DESTINSTALLMAN3DIR)&quot;
    $(NOECHO) $(WARN_IF_OLD_PACKLIST) \
        &quot;$(SITEARCHEXP)\auto\$(FULLEXT)&quot;


pure_site_install :: all
    $(NOECHO) $(MOD_INSTALL) \
        read &quot;$(SITEARCHEXP)\auto\$(FULLEXT)\.packlist&quot; \
        write &quot;$(DESTINSTALLSITEARCH)\auto\$(FULLEXT)\.packlist&quot; \
        &quot;$(INST_LIB)&quot; &quot;$(DESTINSTALLSITELIB)&quot; \
        &quot;$(INST_ARCHLIB)&quot; &quot;$(DESTINSTALLSITEARCH)&quot; \
        &quot;$(INST_BIN)&quot; &quot;$(DESTINSTALLSITEBIN)&quot; \
        &quot;$(INST_SCRIPT)&quot; &quot;$(DESTINSTALLSITESCRIPT)&quot; \
        &quot;$(INST_MAN1DIR)&quot; &quot;$(DESTINSTALLSITEMAN1DIR)&quot; \
        &quot;$(INST_MAN3DIR)&quot; &quot;$(DESTINSTALLSITEMAN3DIR)&quot;
    $(NOECHO) $(WARN_IF_OLD_PACKLIST) \
        &quot;$(PERL_ARCHLIB)\auto\$(FULLEXT)&quot;

pure_vendor_install :: all
    $(NOECHO) $(MOD_INSTALL) \
        read &quot;$(VENDORARCHEXP)\auto\$(FULLEXT)\.packlist&quot; \
        write &quot;$(DESTINSTALLVENDORARCH)\auto\$(FULLEXT)\.packlist&quot; \
        &quot;$(INST_LIB)&quot; &quot;$(DESTINSTALLVENDORLIB)&quot; \
        &quot;$(INST_ARCHLIB)&quot; &quot;$(DESTINSTALLVENDORARCH)&quot; \
        &quot;$(INST_BIN)&quot; &quot;$(DESTINSTALLVENDORBIN)&quot; \
        &quot;$(INST_SCRIPT)&quot; &quot;$(DESTINSTALLVENDORSCRIPT)&quot; \
        &quot;$(INST_MAN1DIR)&quot; &quot;$(DESTINSTALLVENDORMAN1DIR)&quot; \
        &quot;$(INST_MAN3DIR)&quot; &quot;$(DESTINSTALLVENDORMAN3DIR)&quot;</pre>

<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506486" href="/Public/Bug/Display.html?id=105153#txn-1506486">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;11:38:20&nbsp;2015</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506486/802935/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802935">with headers</a>
<br />
<span class="downloadcontenttype">text/html 88b</span>
</div>
<div class="messagebody">
<div class="message-stanza">See attached patch for Makefile.PL (quick hack, probably not completely cross-platform).
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fix.diff</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506486/802936/fix.diff">Download fix.diff</a><br />
<span class="downloadcontenttype">text/x-diff 527b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Makefile.PL.OLD	2015-04-10 21:17:48.000000000 +0200
+++ Makefile.PL	2015-06-10 17:34:24.740302300 +0200
@@ -2062,8 +2062,8 @@
 	my $t = $self-&gt;SUPER::install&#40;@_&#41;;
 	my $n = $t =~ s[
 		&#40;pure_\w+_install.*?&#41;                       # 1
-		&#40;INST_ARCHLIB\&#41;\s+&#41;\$\&#40;DEST&#40;\w+&#41;\&#41;&#40;.*?&#41;     # 2,3,4
-		&#40;INST_BIN\&#41;\s+&#41;\$\&#40;DEST&#40;\w+&#41;\&#41;&#40;.*?&#41;         # 5,6,7
+		&#40;INST_ARCHLIB\&#41;[&#34;\s]+&#41;\$\&#40;DEST&#40;\w+&#41;\&#41;&#40;.*?&#41;     # 2,3,4
+		&#40;INST_BIN\&#41;[&#34;\s]+&#41;\$\&#40;DEST&#40;\w+&#41;\&#41;&#40;.*?&#41;         # 5,6,7
 		&#40;.*?&#41;                                       # 8
 		\n\n
 	][
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506489" href="/Public/Bug/Display.html?id=105153#txn-1506489">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;11:40:06&nbsp;2015</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506489/802939/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802939">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza">With the patch above the installed Config.pm looks like this:

<pre>

# This file was automatically generated.
package Prima::Config;
use vars qw(%Config);

%Config = (
    ifs                   =&gt; &#39;\\&#39;,
    quote                 =&gt; &#39;\&quot;&#39;,
    platform              =&gt; &#39;win32&#39;,
    incpaths              =&gt; [ &#39;D:\strawberry32\perl\site\lib\Prima\CORE&#39;,&#39;D:\strawberry32\perl\site\lib\Prima\CORE\generic&#39; ],
    gencls                =&gt; &#39;D:\strawberry32\perl\site\bin\gencls.bat&#39;,
    tmlink                =&gt; &#39;D:\strawberry32\perl\site\bin\tmlink.bat&#39;,
    scriptext             =&gt; &#39;.bat&#39;,
    genclsoptions         =&gt; &#39;--tml --h --inc&#39;,
    cobjflag              =&gt; &#39;-o &#39;,
    coutexecflag          =&gt; &#39;-o &#39;,
    clinkprefix           =&gt; &#39;&#39;,
    clibpathflag          =&gt; &#39;-L&#39;,
    cdefs                 =&gt; [],
    libext                =&gt; &#39;.a&#39;,
    libprefix             =&gt; &#39;lib&#39;,
    libname               =&gt; &#39;D:\strawberry32\perl\site\lib\auto\Prima\libPrima.a&#39;,
    dlname                =&gt; &#39;D:\strawberry32\perl\site\lib\auto\Prima\Prima.xs.dll&#39;,
    ldoutflag             =&gt; &#39;-o &#39;,
    ldlibflag             =&gt; &#39;-l&#39;,
    ldlibpathflag         =&gt; &#39;-L&#39;,
    ldpaths               =&gt; [],
    ldlibs                =&gt; [&#39;Xpm&#39;,&#39;gif&#39;,&#39;tiff&#39;,&#39;png&#39;,&#39;jpeg&#39;,&#39;gdi32&#39;,&#39;mpr&#39;,&#39;winspool&#39;,&#39;comdlg32&#39;],
    ldlibext              =&gt; &#39;&#39;,
    inline                =&gt; &#39;inline&#39;,
    dl_load_flags         =&gt; 0,

    inc                   =&gt; &#39;-ID:\strawberry32\perl\site\lib\Prima\CORE -ID:\strawberry32\perl\site\lib\Prima\CORE\generic&#39;,
    define                =&gt; &#39;&#39;,
    libs                  =&gt; &#39;D:\strawberry32\perl\site\lib\auto\Prima\libPrima.a&#39;,
);

1;
</pre>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506492" href="/Public/Bug/Display.html?id=105153#txn-1506492">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;11:41:43&nbsp;2015</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506492/802942/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802942">with headers</a>
<br />
<span class="downloadcontenttype">text/html 158b</span>
</div>
<div class="messagebody">
<div class="message-stanza">... which is unfortunatelly not too friendly to strawberry portability as things break when a user moves the whole portable strawberry dir to another location
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506542" href="/Public/Bug/Display.html?id=105153#txn-1506542">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;14:19:44&nbsp;2015</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506542/802977/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802977">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 115b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Rob, kmx, can you possibly test the latest github or 1.43_1 version? I believe the Makefile bug was addressed there
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506565" href="/Public/Bug/Display.html?id=105153#txn-1506565">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;15:44:39&nbsp;2015</span>
    <span class="description">kmx [...] atlas.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #105153] Prima, PDL and MS Windows difficulties</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 10 Jun 2015 21:44:18 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Prima [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] atlas.cz&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506565/802993/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802993">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 62b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The latest Prima from github + PDL::Drawing::Prima build fine
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506568" href="/Public/Bug/Display.html?id=105153#txn-1506568">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;15:54:31&nbsp;2015</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506568/802996/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802996">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 223b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">That&#39;s nice! I guess I close the ticket now.

Btw I somehow missed the message where the pdl-devel mailing list was moved to SF, and didn&#39;t re-subscribe. Now I did, so if there are problems again we can discuss it there.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506570" href="/Public/Bug/Display.html?id=105153#txn-1506570">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;15:54:34&nbsp;2015</span>
    <span class="description">KARASIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.542453</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
