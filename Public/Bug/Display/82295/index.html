<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82295 for CPAN: Strange and very annoying bug/problem with Cygwin</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82295 for CPAN: Strange and very annoying bug/problem with Cygwin</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CPAN">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CPAN">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CPAN">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CPAN">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPAN">CPAN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82295</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CPAN">CPAN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
BOLDRA [...] boldra.org

<br />
piemas25 [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-8164-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.9600    </td>
  </tr>
  <tr id="CF-8165-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=82295">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1159927" href="/Public/Bug/Display.html?id=82295#txn-1159927">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;21:08:38&nbsp;2012</span>
    <span class="description">mascip [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Strange and very annoying bug/problem with Cygwin</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1159927/609854/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609854">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 22.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160110" href="/Public/Bug/Display.html?id=82295#txn-1160110">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;11:23:14&nbsp;2012</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160110/609952/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609952">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 454b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry to hear that. Unfortunately I have no cygwin around. From your
description this looks much more like a cygwin bug than a CPAN.pm bug.
If the problem persists for you, you should probably dive a bit into the
code and make it more robust against this case. I&#39;m interested in your
findings and will gladly apply simple special cases for cygwin when you
can do the ground work but I&#39;m reluctant to just invent some heuristics
that I cannot test myself.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160113" href="/Public/Bug/Display.html?id=82295#txn-1160113">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;11:23:15&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160170" href="/Public/Bug/Display.html?id=82295#txn-1160170">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;13:40:40&nbsp;2012</span>
    <span class="description">piemas25 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82295] Strange and very annoying bug/problem with Cygwin</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 Dec 2012 18:40:28 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> pierre masci &lt;piemas25 [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160170/609981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609981">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 867b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for your motivating answer, i&#39;ll see how it goes, if it
continues i might try and understand. I&#39;m considering going back to
Linux-Land too. On the other hand, having to tweak into the modules to
be able to install them has been quite teachful ;-&#41;

On 28 December 2012 16:23, Andreas Koenig via RT &lt;bug-CPAN@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82295">https://rt.cpan.org/Ticket/Display.html?id=82295</a></span> &gt;
&gt;
&gt; Sorry to hear that. Unfortunately I have no cygwin around. From your
&gt; description this looks much more like a cygwin bug than a CPAN.pm bug.
&gt; If the problem persists for you, you should probably dive a bit into the
&gt; code and make it more robust against this case. I&#39;m interested in your
&gt; findings and will gladly apply simple special cases for cygwin when you
&gt; can do the ground work but I&#39;m reluctant to just invent some heuristics
&gt; that I cannot test myself.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1657503" href="/Public/Bug/Display.html?id=82295#txn-1657503">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;10&nbsp;21:48:51&nbsp;2016</span>
    <span class="description">NHORNE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1657503/889571/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/889571">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 107b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">FWIW, this problem still exists on Perl5.25.2.  Sorry to say that it makes Perl on Cygwin almost unusuable.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1659383" href="/Public/Bug/Display.html?id=82295#txn-1659383">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;17&nbsp;01:07:37&nbsp;2016</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1659383/890691/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/890691">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 338b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just set up a cygwin. Sample report: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/a154f439-6bf6-1014-9ba0-94355c8d98b0">http://www.cpantesters.org/cpan/report/a154f439-6bf6-1014-9ba0-94355c8d98b0</a></span>

So far could not reproduce.

Next version of CPAN.pm &#40;2.16&#41; will try to get more diagnostics when it happens again. If this does not help, we need to consider some retry-after-failing-move option.

Thanks for the reminder.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1675283" href="/Public/Bug/Display.html?id=82295#txn-1675283">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;07&nbsp;22:17:08&nbsp;2016</span>
    <span class="description">NHORNE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1675283/899049/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/899049">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 735b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 17 01:07:37 2016, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just set up a cygwin. Sample report:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/a154f439-6bf6-1014-9ba0-">http://www.cpantesters.org/cpan/report/a154f439-6bf6-1014-9ba0-</a></span>
&gt; 94355c8d98b0
&gt; 
&gt; So far could not reproduce.
&gt; 
&gt; Next version of CPAN.pm &#40;2.16&#41; will try to get more diagnostics when
&gt; it happens again. If this does not help, we need to consider some
&gt; retry-after-failing-move option.
&gt; 
&gt; Thanks for the reminder.
</div>
Thanks, more diagnostics could indeed help.

Here&#39;s a sample with 2.14:

Running install for module &#39;Marpa::R2&#39;
Checksum for //utilite/mirrors/CPAN/authors/id/J/JK/JKEGL/Marpa-R2-3.000000.tar.gz ok
Couldn&#39;t move /cygdrive/i/cpan/build/tmp-12332/Marpa-R2-3.000000/t to /cygdrive/i/cpan/build/Marpa-R2-3.000000-0/t: Is a directory
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1675286" href="/Public/Bug/Display.html?id=82295#txn-1675286">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;07&nbsp;22:21:44&nbsp;2016</span>
    <span class="description">NHORNE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1675286/899052/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/899052">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 110b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Actually I don&#39;t think it&#39;s Cygwin related.  I can get the same error with Activestate Perl native on Windows.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1675289" href="/Public/Bug/Display.html?id=82295#txn-1675289">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;07&nbsp;22:24:13&nbsp;2016</span>
    <span class="description">NHORNE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1675289/899055/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/899055">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 571b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 07 22:21:44 2016, NHORNE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Actually I don&#39;t think it&#39;s Cygwin related.  I can get the same error
&gt; with Activestate Perl native on Windows.
</div>
Here is some output on Activestate, using CPAN 2.14:

Running install for module &#39;IPC::System::Simple&#39;
Checksum for \\utilite\mirrors\CPAN\authors\id\P\PJ\PJF\IPC-System-Simple-1.25.tar.gz ok
Couldn&#39;t move I:\cpan\build\tmp-7008\IPC-System-Simple-1.25\t to I:\cpan\build\IPC-System-Simple-1.25-0\t: No such file or directory
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">                                                                                cpan&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1675938" href="/Public/Bug/Display.html?id=82295#txn-1675938">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;11&nbsp;09:26:21&nbsp;2016</span>
    <span class="description">NHORNE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1675938/899418/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/899418">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 204b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">If this helps, I can&#39;t reproduce the problem on Windows XP, only on Windows 10.  My gut feeling is that something has changed in the permissions scheme that Windows now uses and that causes the breakage.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1832317" href="/Public/Bug/Display.html?id=82295#txn-1832317">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;06&nbsp;11:41:44&nbsp;2019</span>
    <span class="description">BOLDRA [...] boldra.org -  Requestor BOLDRA added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1832319" href="/Public/Bug/Display.html?id=82295#txn-1832319">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;06&nbsp;11:44:03&nbsp;2019</span>
    <span class="description">TINITA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1832319/985410/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/985410">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 992b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 11 15:26:21 2016, NHORNE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If this helps, I can&#39;t reproduce the problem on Windows XP, only on
&gt; Windows 10.  My gut feeling is that something has changed in the
&gt; permissions scheme that Windows now uses and that causes the breakage.
</div>

Indeed it seems to be a permission problem!
I was sitting together with Paul Boldra today who has the same problem &#40;on Windows 10 I believe&#41;, after updating cygwin.
We found out that the correct error message is actually lost, because of how File::Copy::move&#40;&#41; works.
It attempts to do a rename&#40;&#41; first. If this fails, it tries other methods, and we haven&#39;t completely found out why the second attempt &#40;with copy&#40;&#41; and unlink&#40;&#41;&#41; produces a different error message, but:

* The error message from rename&#40;&#41; is &#34;Permission denied&#34;
* If we put a &#34;sleep 1&#34; after the rename, it suddenly works

So it has todo with copying many files after each other.

For the record: CPAN::VERSION=2.18; File::Copy::VERSION=2.32, perl 5.26


Hope that helps!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1865046" href="/Public/Bug/Display.html?id=82295#txn-1865046">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;24&nbsp;11:15:42&nbsp;2019</span>
    <span class="description">loic.corbasson [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1865046/1001541/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1001541">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer 06 FÃ©v 2019 11:44:03, TINITA a Ã©critÂ :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Oct 11 15:26:21 2016, NHORNE wrote:
<div class="message-stanza open">&gt; &gt; If this helps, I can&#39;t reproduce the problem on Windows XP, only on
&gt; &gt; Windows 10.  My gut feeling is that something has changed in the
&gt; &gt; permissions scheme that Windows now uses and that causes the
&gt; &gt; breakage.
</div>&gt; 
&gt; 
&gt; Indeed it seems to be a permission problem!
&gt; I was sitting together with Paul Boldra today who has the same problem
&gt; &#40;on Windows 10 I believe&#41;, after updating cygwin.
&gt; We found out that the correct error message is actually lost, because
&gt; of how File::Copy::move&#40;&#41; works.
&gt; It attempts to do a rename&#40;&#41; first. If this fails, it tries other
&gt; methods, and we haven&#39;t completely found out why the second attempt
&gt; &#40;with copy&#40;&#41; and unlink&#40;&#41;&#41; produces a different error message, but:
&gt; 
&gt; * The error message from rename&#40;&#41; is &#34;Permission denied&#34;
&gt; * If we put a &#34;sleep 1&#34; after the rename, it suddenly works
&gt; 
&gt; So it has todo with copying many files after each other.
&gt; 
&gt; For the record: CPAN::VERSION=2.18; File::Copy::VERSION=2.32, perl
&gt; 5.26
&gt; 
</div>
I can confirm this on Windows 7 SP1 &#40;64-bit&#41; with Cygwin-x86_64 v3.0.7-1, Perl v5.26.3, File::Copy v2.32, so this is not only a Windows 10 problem.

These packages failed CPAN installation:
- Crypt::Mode::CBC
- Crypt::Mode::ECB
- HTML::Tidy
- Excel::Writer::XLSX
- Spreadsheet::ParseXLSX
Other, more lightweight, packages installed correctly before and after these, e.g. Module::Build or XML::XPathEngine.

As mentioned by Tina MÃ¼ller, this dirty hack allows the listed failing packages to install normally &#40;albeit a bit slowly when moving files&#41;:

--- Copy.pm     2019-09-24 17:00:39.291599500 +0200
+++ Copy-hacked.pm      2019-09-24 17:00:28.903599500 +0200
@@ -278,7 +278,9 @@
             1 while unlink $to;
     }

+    sleep&#40;1&#41;;
     return 1 if rename $from, $to;
+    sleep&#40;1&#41;;

     # Did rename return an error even though it succeeded, because $to
     # is on a remote NFS file system, and NFS lost the server&#39;s ack?

Feel free to contact me if you need further tests.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1876459" href="/Public/Bug/Display.html?id=82295#txn-1876459">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;27&nbsp;19:46:15&nbsp;2019</span>
    <span class="description">WAGNERC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1876459/1007033/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1007033">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Andreas, I too have run across this bug.  However, I have some interesting diagnostic information.  Your debug code triggered nicely.

First, my environment:
Microsoft Windows [Version 6.1.7601] 7 SP1 64bit
CYGWIN_NT-6.1 applejack 3.1.0&#40;0.340/5/3&#41; 2019-11-19 13:58 x86_64 Cygwin
This is perl 5, version 22, subversion 4 &#40;v5.22.4&#41; built for cygwin-thread-multi

I had this happen once before but it stopped and I forgot about it.  However today it cropped up again.  As hinted at by the sleep&#40;1&#41; hack, I think that this is a resource issue.  I keep TaskInfo running at all times to monitor my system and I was getting alerts.  The number of file handles was clocking over 100,000.  This is clearly a resource leak being poked by Cygwin.  System &#40;the kernel&#41; is sitting on about 75,000 right now.  I had been doing compile checks on my Perl lib path and I was watching the handle count tick up.  Closing all Cygwin processes does not free the handles; I have to reboot.

I then wanted to do some CPAN installations and vwa-la.  It was rather random and just keeping trying let them eventually succeed.  It also happened when trying to install manually. i.e. make, make test, etc.

The error message:

cpan[3]&gt; force get CPAN
Running get for module &#39;CPAN&#39;
WARNING: This key is not certified with a trusted signature!
Primary key fingerprint: 2E66 557A B97C 19C7 91AF  8E20 328D A867 450F 89EC
Signature for /home/wagnerc/.cpan/sources/authors/id/A/AN/ANDK/CHECKSUMS ok
Checksum for /home/wagnerc/.cpan/sources/authors/id/A/AN/ANDK/CPAN-2.27.tar.gz ok
Couldn&#39;t move /home/wagnerc/.cpan/build/tmp-5290/CPAN-2.27/lib to /home/wagnerc/.cpan/build/CPAN-2.27-7/lib: Is a directory; #82295? CPAN::VERSION=2.27; File::Copy::VERSION=2.30; /home/wagnerc/.cpan/build/tmp-5290/CPAN-2.27/lib exists; /home/wagnerc/.cpan/build/CPAN-2.27-7/lib does not exist; cwd=/home/wagnerc/.cpan/build/tmp-5290;


I assume that the permission denied error stems from Windows or Cygwin not being able to allocate a handle.  But seemingly only File::Copy is affected since this is the only situation where I&#39;ve seen this happen.  The hard drive is a RAID 1 SSD so device slowness is not the issue.


Since I know how to trigger the bug, let me know if you want to try out some new handling code.


Merry 3rd Day of Christmas,

-Chris
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.575584</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
