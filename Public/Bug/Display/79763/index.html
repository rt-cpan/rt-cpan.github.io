<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79763 for perl-ldap: ldap_explode_dn issue with special characters</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79763 for perl-ldap: ldap_explode_dn issue with special characters</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=perl-ldap">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=perl-ldap">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=perl-ldap">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=perl-ldap">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/perl-ldap">perl-ldap CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79763</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=perl-ldap">perl-ldap</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ctcard [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25226-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25227-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.50    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=79763">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1121782" href="/Public/Bug/Display.html?id=79763#txn-1121782">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;20&nbsp;11:54:19&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 20 Sep 2012 15:54:08 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1121782/590172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 976b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
According to the LDAP v3 specification, a DN like &#39;cn=CN\=#a&#39; with an unescaped # character is a valid DN, but the function ldap_explode_dn in Net::LDAP::Util.pm rejects it.

I am using Net::LDAP 0.40 &#40;from perl-LDAP-0.40-1.el6.noarch&#41; on centos 6, with perl 5.10.1, but as far as I can see this bug exists in all versions of Net::LDAP.

This issue seems similar to one reported in the Spring LDAP parser &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://jira.springsource.org/browse/LDAP-229&#41;">https://jira.springsource.org/browse/LDAP-229&#41;</a></span>, and comments on that bug indicate that such DNs became valid
in LDAP v3:

&#34;However there were made some significant DN syntax changes for LDAPv3 which are summarized atÂ <span class="clickylink"><a target="new" rel="nofollow" href="http://tools.ietf.org/html/rfc4514#appendix-B">http://tools.ietf.org/html/rfc4514#appendix-B</a></span>Â :
+ did not require escaping of equals sign &#40;&#39;=&#39; U+003D&#41; characters,
+ did not require escaping of non-leading number sign &#40;&#39;#&#39; U+0023&#41; characters,
+ allowed space &#40;&#39; &#39; U+0020&#41; to be escaped as &#39;\ &#39;,
+ required hex escaping of null &#40;U+0000&#41; characters, and
+ removed LDAPv2-only constructs.
&#34;                                         
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1121827" href="/Public/Bug/Display.html?id=79763#txn-1121827">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;20&nbsp;13:25:55&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ctcard [...] hotmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 20 Sep 2012 19:30:36 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1121827/590196/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590196">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On Thursday, 20. September 2012, Chris Card via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Sep 20 11:54:19 2012: Request 79763 was acted upon.
&gt; Transaction: Ticket created by ctcard@hotmail.com
&gt;        Queue: perl-ldap
&gt;      Subject: ldap_explode_dn issue with special characters
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: ctcard@hotmail.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79763">https://rt.cpan.org/Ticket/Display.html?id=79763</a></span> &gt;
&gt; 
&gt; 
&gt; 
&gt; According to the LDAP v3 specification, a DN like &#39;cn=CN\=#a&#39; with an
&gt; unescaped # character is a valid DN, but the function ldap_explode_dn in
&gt; Net::LDAP::Util.pm rejects it.
&gt; 
&gt; I am using Net::LDAP 0.40 &#40;from perl-LDAP-0.40-1.el6.noarch&#41; on centos 6,
&gt; with perl 5.10.1, but as far as I can see this bug exists in all versions
&gt; of Net::LDAP.
&gt; 
&gt; This issue seems similar to one reported in the Spring LDAP parser
&gt; &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://jira.springsource.org/browse/LDAP-229&#41;">https://jira.springsource.org/browse/LDAP-229&#41;</a></span>, and comments on that bug
&gt; indicate that such DNs became valid in LDAP v3:
&gt; 
&gt; &#34;However there were made some significant DN syntax changes for LDAPv3
&gt; which are summarized at <span class="clickylink"><a target="new" rel="nofollow" href="http://tools.ietf.org/html/rfc4514#appendix-B">http://tools.ietf.org/html/rfc4514#appendix-B</a></span> : +
&gt; did not require escaping of equals sign &#40;&#39;=&#39; U+003D&#41; characters, + did not
&gt; require escaping of non-leading number sign &#40;&#39;#&#39; U+0023&#41; characters, +
&gt; allowed space &#40;&#39; &#39; U+0020&#41; to be escaped as &#39;\ &#39;,
&gt; + required hex escaping of null &#40;U+0000&#41; characters, and
&gt; + removed LDAPv2-only constructs.
&gt; &#34;
</div>
You&#39;re right.

all releases of perl-ldap up to 0.48 &#40;which was released today&#41; are affected.

There is a patch in my repository at github that should cover most - if not 
all - of the changes:
  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-">https://github.com/marschap/perl-</a></span>
ldap/commit/125632a514120ee72912e5fc5b5dd5d1e9c76075

Any feedback on this patch is very welcome.

Best
PEter

-- 
Peter Marschall
peter@adpm.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1121830" href="/Public/Bug/Display.html?id=79763#txn-1121830">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;20&nbsp;13:25:56&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122004" href="/Public/Bug/Display.html?id=79763#txn-1122004">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;03:19:23&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 07:19:10 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;peter [...] adpm.de&gt;, &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122004/590273/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590273">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 772b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hi Peter,
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; According to the LDAP v3 specification, a DN like &#39;cn=CN\=#a&#39; with an
&gt; &gt; unescaped # character is a valid DN, but the function ldap_explode_dn in
&gt; &gt; Net::LDAP::Util.pm rejects it.
</div></div>&lt;snip&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You&#39;re right.
&gt;
&gt; all releases of perl-ldap up to 0.48 &#40;which was released today&#41; are affected.
&gt;
&gt; There is a patch in my repository at github that should cover most - if not
&gt; all - of the changes:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-">https://github.com/marschap/perl-</a></span>
&gt; ldap/commit/125632a514120ee72912e5fc5b5dd5d1e9c76075
&gt;
&gt; Any feedback on this patch is very welcome.
&gt;
&gt; Best
&gt; PEter
</div>
Thanks for that, I&#39;ll give the patch a try. I see you&#39;ve made the regex much more readable if nothing else :&#41;

Is this patch going to make its way into a CPAN release any time soon?

regards

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122010" href="/Public/Bug/Display.html?id=79763#txn-1122010">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;03:54:37&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 09:59:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122010/590278/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590278">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1009b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On Friday, 21. September 2012, Chris Card via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for that, I&#39;ll give the patch a try. I see you&#39;ve made the regex
&gt; much more readable if nothing else :&#41;
&gt; 
&gt; Is this patch going to make its way into a CPAN release any time soon?
</div>
That depends on the feedback I get ;-&#41;
I don&#39;t want to release a broken implementation if I can help it.
Especially if it affects an area of the code that is so central.

Before your bug report came in, I got a bug report on the perl-ldap mailing 
list &#40;that&#39;s why I was so quick with my answer about the patch ;-&#41; where I am 
hoping for response too

In addition to that, I wrote to the openldap-technical mailing list in the 
hope to get feedback from the &#34;authorities&#34; who co-authored the RFCs.

You might want to run the test suite &#40;t/01canon_dn.t&#41; to see where the 
differences are between 
* the old implementation and the new one with rfc2253=&gt;1
* the old implementation and the new one with rfc2253=&gt;0

Best
PEter

-- 
Peter Marschall
peter@adpm.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122020" href="/Public/Bug/Display.html?id=79763#txn-1122020">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;04:14:59&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 08:14:51 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122020/590289/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590289">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hi
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Thanks for that, I&#39;ll give the patch a try. I see you&#39;ve made the regex
&gt; &gt; much more readable if nothing else :&#41;
&gt; &gt;
&gt; &gt; Is this patch going to make its way into a CPAN release any time soon?
</div>&gt;
&gt; That depends on the feedback I get ;-&#41;
&gt; I don&#39;t want to release a broken implementation if I can help it.
&gt; Especially if it affects an area of the code that is so central.
&gt;
&gt; Before your bug report came in, I got a bug report on the perl-ldap mailing
&gt; list &#40;that&#39;s why I was so quick with my answer about the patch ;-&#41; where I am
&gt; hoping for response too
&gt;
&gt; In addition to that, I wrote to the openldap-technical mailing list in the
&gt; hope to get feedback from the &#34;authorities&#34; who co-authored the RFCs.
&gt;
&gt; You might want to run the test suite &#40;t/01canon_dn.t&#41; to see where the
&gt; differences are between
&gt; * the old implementation and the new one with rfc2253=&gt;1
&gt; * the old implementation and the new one with rfc2253=&gt;0
</div>I downloaded the zip from your repository and did the usual perl Makefile.PL; make; make test stuff.
I get 7 failures from t/01canon_dn.t:

1..70
ok 1
ok 2
ok 3
ok 4
ok 5
&#39;OU=Sales+CN=J. Smith;O=Widget Inc.;C=US&#39; failed to parse
not ok 6
ok 7
ok 8
ok 9
&#39;OU=&#34;Sales&#34;+CN=J. Smith,O=Widget Inc.,C=US&#39; failed to parse
not ok 10
&#39;OU=&#34;Sales+CN=J. Smith&#34;,O=Widget Inc.,C=US&#39; failed to parse
not ok 11
&#39;cn=J.\20Smith\+ou=Sales,O=Widget\20Inc.,C=US&#39; should not have parsed
Â &#39;CN=J. Smith\2bou\3dSales,O=Widget Inc.,C=US&#39;
not ok 12
ok 13
&lt;snipped&gt;
ok 24
&#39;cn=Clif Harden+IDNumber=&#34;a0125589 &#34;,ou=tiPerson,ou=person,o=ti,c=us&#39; failed to parse
not ok 25
ok 26
&#39;Cn=&#34; Â Graham Â Barr Â &#34;,OU=person,O=vc,C=us&#39; failed to parse
not ok 27
&#39;cn=&#34; Â Graham \20Barr\20 &#34;,OU=person,O=vc,C=us&#39; failed to parse
not ok 28
ok 29
&lt;snipped&gt;
ok 70
Failed 7/70 subtestsÂ 

Is that expected?

regards

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122022" href="/Public/Bug/Display.html?id=79763#txn-1122022">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;04:50:13&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 08:49:59 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122022/590291/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590291">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Thanks for that, I&#39;ll give the patch a try. I see you&#39;ve made the regex
&gt; &gt; &gt; much more readable if nothing else :&#41;
&gt; &gt; &gt;
&gt; &gt; &gt; Is this patch going to make its way into a CPAN release any time soon?
</div>&gt; &gt;
&gt; &gt; That depends on the feedback I get ;-&#41;
&gt; &gt; I don&#39;t want to release a broken implementation if I can help it.
&gt; &gt; Especially if it affects an area of the code that is so central.
&gt; &gt;
&gt; &gt; Before your bug report came in, I got a bug report on the perl-ldap mailing
&gt; &gt; list &#40;that&#39;s why I was so quick with my answer about the patch ;-&#41; where I am
&gt; &gt; hoping for response too
&gt; &gt;
&gt; &gt; In addition to that, I wrote to the openldap-technical mailing list in the
&gt; &gt; hope to get feedback from the &#34;authorities&#34; who co-authored the RFCs.
&gt; &gt;
&gt; &gt; You might want to run the test suite &#40;t/01canon_dn.t&#41; to see where the
&gt; &gt; differences are between
&gt; &gt; * the old implementation and the new one with rfc2253=&gt;1
&gt; &gt; * the old implementation and the new one with rfc2253=&gt;0
</div>&gt; I downloaded the zip from your repository and did the usual perl Makefile.PL; make; make test stuff.
&gt; I get 7 failures from t/01canon_dn.t:
&gt;
</div>&lt;snipped&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is that expected?
</div>Answering my own question: yes, those failures are all for DNs which are valid in rfc2253 but not valid in rfc4514.
However, I&#39;m wondering if the patch is too strict, since openldap slapdn accepts DNs valid in rfc4514 or rfc2253.

regards

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122029" href="/Public/Bug/Display.html?id=79763#txn-1122029">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;05:41:39&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 11:46:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122029/590293/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590293">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 826b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Friday, 21. September 2012, you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: perl-ldap
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79763">https://rt.cpan.org/Ticket/Display.html?id=79763</a></span> &gt;
&gt; [...]
<div class="message-stanza open">&gt; &gt; Is that expected?
</div></div>Yes, it is.
the test suite is not updated yet.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Answering my own question: yes, those failures are all for DNs which are
&gt; valid in rfc2253 but not valid in rfc4514. However, I&#39;m wondering if the
&gt; patch is too strict, since openldap slapdn accepts DNs valid in rfc4514 or
&gt; rfc2253.
</div>Hmmm, at a first glance that sounds a bit like wanting to keep the cake and 
eating it ;-&#41;
Changing the patch will definitely allow DNs which are illeagal in one of the 
two modes.
&#40;Remember: you wrote about &#34;removed LDAPv2-only constructs&#34; ;-&#41;

Nonetheless: ideas how the patch can modified to be more permissive are 
welcome.

Best
Peter

-- 
Peter Marschall
peter@adpm.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122032" href="/Public/Bug/Display.html?id=79763#txn-1122032">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;06:07:38&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 10:07:29 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122032/590296/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590296">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 802b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Answering my own question: yes, those failures are all for DNs which are
&gt; &gt; valid in rfc2253 but not valid in rfc4514. However, I&#39;m wondering if the
&gt; &gt; patch is too strict, since openldap slapdn accepts DNs valid in rfc4514 or
&gt; &gt; rfc2253.
</div>&gt; Hmmm, at a first glance that sounds a bit like wanting to keep the cake and
&gt; eating it ;-&#41;
&gt; Changing the patch will definitely allow DNs which are illeagal in one of the
&gt; two modes.
&gt; &#40;Remember: you wrote about &#34;removed LDAPv2-only constructs&#34; ;-&#41;
</div>Ideally I&#39;d like Net::LDAP to accept the same set of DNs as openldap, but I can work round that
by calling ldap_explode_dn with rfc2253 set if a DN fails validation against the rfc4514 rules.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Nonetheless: ideas how the patch can modified to be more permissive are
&gt; welcome.
</div>
Chris

                                          
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122045" href="/Public/Bug/Display.html?id=79763#txn-1122045">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;06:30:58&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 12:35:44 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122045/590304/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590304">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 608b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Friday, 21. September 2012, you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Ideally I&#39;d like Net::LDAP to accept the same set of DNs as openldap,
</div></div>
Mission accomplished ;-&#41;
For those 7 DNs that fail the test suite &#40;in one direction or the other&#41;,
  slapdn $DN
behaves exactly as 
  Net::LDAP::Util::ldap_explode_dn&#40;$DN, rfc2253 =&gt; 0&#41;
does

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; but I
&gt; can work round that by calling ldap_explode_dn with rfc2253 set if a DN
&gt; fails validation against the rfc4514 rules.
&gt; 
<div class="message-stanza open">&gt; &gt; Nonetheless: ideas how the patch can modified to be more permissive are
&gt; &gt; welcome.
</div></div>I was hoping for patches ;-&#41;&#41;&#41;

Best
PEter

-- 
Peter Marschall
peter@adpm.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122064" href="/Public/Bug/Display.html?id=79763#txn-1122064">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;07:32:57&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 11:32:46 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122064/590313/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590313">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 491b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; Ideally I&#39;d like Net::LDAP to accept the same set of DNs as openldap,
</div>&gt;
&gt; Mission accomplished ;-&#41;
&gt; For those 7 DNs that fail the test suite &#40;in one direction or the other&#41;,
&gt; slapdn $DN
&gt; behaves exactly as
&gt; Net::LDAP::Util::ldap_explode_dn&#40;$DN, rfc2253 =&gt; 0&#41;
&gt; does
</div>Not for me &#40;unless I&#39;ve misunderstood what you mean&#41;.
For example &#39;OU=Sales+CN=J. Smith;O=Widget Inc.;C=US&#39; gives &#34;failed to parse&#34; in 01canon_dn.t, but
slapdn accepts it &#40;openldap 2.4.31&#41;.

Chris


                                          
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122144" href="/Public/Bug/Display.html?id=79763#txn-1122144">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;11:59:45&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 18:04:35 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122144/590358/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590358">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On Friday, 21. September 2012, you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Not for me &#40;unless I&#39;ve misunderstood what you mean&#41;.
&gt; For example &#39;OU=Sales+CN=J. Smith;O=Widget Inc.;C=US&#39; gives &#34;failed to
&gt; parse&#34; in 01canon_dn.t, but slapdn accepts it &#40;openldap 2.4.31&#41;.
</div>
Please also have a look at a new alternative solution to the ldap_explode_dn
issue w.r.t. RFC 4514:
  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed">https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed</a></span>

This alternative tries to adhere to Postel&#39;s law, &#34;be conservative in what you 
do, be liberal in what you accept from others&#34;.

Pro&#39;s:
- no additional option &#40;like &#39;rfc2253&#39;&#41; necessary
- should not break existing code that relied on some RFC 2253 peculiarities
  &#40;at least, the probability to do so is much lower&#41;
- higher compatibilitiy to openLDAP&#39;s slapdn than the other alternative

Con&#39;s:
- might accept DN&#39;s that are not conforming to any of the RFCs
  &#40;but canonical_dn will make them confiorming to both&#41;

Which of the alternatives do you prefer?

I guess this one is more to your liking ,-&#41;

Best
PEter

-- 
Peter Marschall
peter@adpm.de
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122144/590359/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590359">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122147" href="/Public/Bug/Display.html?id=79763#txn-1122147">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;12:21:28&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 16:21:16 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122147/590362/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590362">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Friday, 21. September 2012, you wrote:
<div class="message-stanza open">&gt; &gt; Not for me &#40;unless I&#39;ve misunderstood what you mean&#41;.
&gt; &gt; For example &#39;OU=Sales+CN=J. Smith;O=Widget Inc.;C=US&#39; gives &#34;failed to
&gt; &gt; parse&#34; in 01canon_dn.t, but slapdn accepts it &#40;openldap 2.4.31&#41;.
</div>&gt;
&gt; Please also have a look at a new alternative solution to the ldap_explode_dn
&gt; issue w.r.t. RFC 4514:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed">https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed</a></span>
&gt;
&gt; This alternative tries to adhere to Postel&#39;s law, &#34;be conservative in what you
&gt; do, be liberal in what you accept from others&#34;.
&gt;
&gt; Pro&#39;s:
&gt; - no additional option &#40;like &#39;rfc2253&#39;&#41; necessary
&gt; - should not break existing code that relied on some RFC 2253 peculiarities
&gt; &#40;at least, the probability to do so is much lower&#41;
&gt; - higher compatibilitiy to openLDAP&#39;s slapdn than the other alternative
&gt;
&gt; Con&#39;s:
&gt; - might accept DN&#39;s that are not conforming to any of the RFCs
&gt; &#40;but canonical_dn will make them confiorming to both&#41;
&gt;
&gt; Which of the alternatives do you prefer?
&gt;
&gt; I guess this one is more to your liking ,-&#41;
</div>Thanks! Â I&#39;ll give this version a try and get back to you &#40;though it may not be until Monday now&#41;

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122706" href="/Public/Bug/Display.html?id=79763#txn-1122706">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;24&nbsp;03:22:36&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 24 Sep 2012 07:22:16 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122706/590665/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590665">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; On Friday, 21. September 2012, you wrote:
<div class="message-stanza open">&gt; &gt; &gt; Not for me &#40;unless I&#39;ve misunderstood what you mean&#41;.
&gt; &gt; &gt; For example &#39;OU=Sales+CN=J. Smith;O=Widget Inc.;C=US&#39; gives &#34;failed to
&gt; &gt; &gt; parse&#34; in 01canon_dn.t, but slapdn accepts it &#40;openldap 2.4.31&#41;.
</div>&gt; &gt;
&gt; &gt; Please also have a look at a new alternative solution to the ldap_explode_dn
&gt; &gt; issue w.r.t. RFC 4514:
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed">https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed</a></span>
&gt; &gt;
&gt; &gt; This alternative tries to adhere to Postel&#39;s law, &#34;be conservative in what you
&gt; &gt; do, be liberal in what you accept from others&#34;.
&gt; &gt;
&gt; &gt; Pro&#39;s:
&gt; &gt; - no additional option &#40;like &#39;rfc2253&#39;&#41; necessary
&gt; &gt; - should not break existing code that relied on some RFC 2253 peculiarities
&gt; &gt; &#40;at least, the probability to do so is much lower&#41;
&gt; &gt; - higher compatibilitiy to openLDAP&#39;s slapdn than the other alternative
&gt; &gt;
&gt; &gt; Con&#39;s:
&gt; &gt; - might accept DN&#39;s that are not conforming to any of the RFCs
&gt; &gt; &#40;but canonical_dn will make them confiorming to both&#41;
&gt; &gt;
&gt; &gt; Which of the alternatives do you prefer?
&gt; &gt;
&gt; &gt; I guess this one is more to your liking ,-&#41;
</div>&gt; Thanks! I&#39;ll give this version a try and get back to you &#40;though it may not be until Monday now&#41;
</div>That patch looks good to me, and yes, I would prefer it.

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125645" href="/Public/Bug/Display.html?id=79763#txn-1125645">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;03&nbsp;11:11:01&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 3 Oct 2012 15:10:51 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125645/592167/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/592167">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 382b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hi
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please also have a look at a new alternative solution to the ldap_explode_dn
&gt; issue w.r.t. RFC 4514:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed">https://github.com/marschap/perl-ldap/tree/ldap_explode_dn-relaxed</a></span>
&gt;
&gt; This alternative tries to adhere to Postel&#39;s law, &#34;be conservative in what you
&gt; do, be liberal in what you accept from others&#34;.
</div>Any idea when this patch will be generally available?

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125660" href="/Public/Bug/Display.html?id=79763#txn-1125660">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;03&nbsp;11:42:47&nbsp;2012</span>
    <span class="description">peter [...] adpm.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 3 Oct 2012 17:48:03 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-perl-ldap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Marschall &lt;peter [...] adpm.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125660/592172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/592172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 227b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On Wednesday, 3. October 2012, you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Any idea when this patch will be generally available?
</div>
I plan to release perl-ldap 0.49 in October, and it will contain the patch.

Best
Peter

-- 
Peter Marschall
peter@adpm.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1125965" href="/Public/Bug/Display.html?id=79763#txn-1125965">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;04&nbsp;05:00:48&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 4 Oct 2012 09:00:26 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1125965/592344/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/592344">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 222b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wednesday, 3. October 2012, you wrote:
<div class="message-stanza open">&gt; &gt; Any idea when this patch will be generally available?
</div>&gt;
&gt; I plan to release perl-ldap 0.49 in October, and it will contain the patch.
&gt;
</div>excellent, thanks!

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1126649" href="/Public/Bug/Display.html?id=79763#txn-1126649">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;06&nbsp;10:08:23&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Fixed in 0.49 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1126650" href="/Public/Bug/Display.html?id=79763#txn-1126650">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;06&nbsp;10:09:14&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1126650/592732/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/592732">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 65b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in release 0.49 with the patch previously posted on github.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1126653" href="/Public/Bug/Display.html?id=79763#txn-1126653">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;06&nbsp;10:09:15&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1127663" href="/Public/Bug/Display.html?id=79763#txn-1127663">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;10&nbsp;10:25:07&nbsp;2012</span>
    <span class="description">ctcard [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #79763] Resolved: ldap_explode_dn issue with special characters</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 10 Oct 2012 14:24:53 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-perl-ldap [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Card &lt;ctcard [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1127663/593278/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/593278">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 682b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
HiÂ 

----------------------------------------
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Subject: [rt.cpan.org #79763] Resolved: ldap_explode_dn issue with special characters
&gt; From: bug-perl-ldap@rt.cpan.org
&gt; To: ctcard@hotmail.com
&gt; Date: Sat, 6 Oct 2012 10:09:15 -0400
&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79763">https://rt.cpan.org/Ticket/Display.html?id=79763</a></span> &gt;
&gt;
&gt; According to our records, your request has been resolved. If you have any
&gt; further questions or concerns, please respond to this message.
</div>
I&#39;m trying to integrate Net::LDAP 0.49 into our environment, but I notice that the version of Net::LDAP::Util.pm has not changed - it&#39;s still at version 0.12 - whichÂ 
is causing me problems, since the fix is in that module.

Chris                                     
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1127665" href="/Public/Bug/Display.html?id=79763#txn-1127665">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;10&nbsp;10:25:08&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1146638" href="/Public/Bug/Display.html?id=79763#txn-1146638">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;24&nbsp;10:03:07&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1146640" href="/Public/Bug/Display.html?id=79763#txn-1146640">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;24&nbsp;10:03:13&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Fixed in 0.50 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1146641" href="/Public/Bug/Display.html?id=79763#txn-1146641">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;24&nbsp;10:03:13&nbsp;2012</span>
    <span class="description">MARSCHAP [...] cpan.org -  Fixed in 0.49 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.972887</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
