<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #71718 for Tk: Tk won&#39;t install in Strawberry Perl 5.12.3.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #71718 for Tk: Tk won&#39;t install in Strawberry Perl 5.12.3.0</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Tk">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Tk">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Tk">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Tk">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk">Tk CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">71718</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Tk">Tk</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sflitman [...] xenoscience.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-33610-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
804.029_501    </td>
  </tr>
  <tr id="CF-33611-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=71718">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-988323" href="/Public/Bug/Display.html?id=71718#txn-988323">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;07:04:18&nbsp;2011</span>
    <span class="description">sflitman [...] xenoscience.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tk won&#39;t install in Strawberry Perl 5.12.3.0</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/988323/514508/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/514508">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Tk fails when installed using cpan shell.   I am running on 64-bit
Windows 7 using a fresh install of Strawberry Perl 5.12.3.0

The development version can be downloaded from CPAN and extracted, then
dmake fails with windres error.  This can be overcome by rerunning the
windres command line with --use-temp-file option:

    windres --use-temp-file -o tkres.o --include-dir . --include-dir
mTk/win/rc mTk/win/rc/tk.rc

&#40;note this is GNU windres &#40;GNU Binutils&#41; 2.20.51.20100123&#41;


At that point, Tk compiles correctly.  However, it then fails on test
with two test programs GPFing: 

----------------------------------------------------------------

t\create.t ................... 1/543 # Test 270 got: &#34;bad cursor spec
\&#34;cursor\&#34;
 at t\\create.t line 160.\n&#34; &#40;t\create.t at line 168 fail #18&#41;
#     Expected: &#34;&#34; &#40;Cannot re-configure TList&#41;
#  t\create.t line 168 is:         ok&#40;$@,&#34;&#34;,&#34;Cannot re-configure $class&#34;&#41;;
Tk_FreeCursor received unknown cursor argument

This application has requested the Runtime to terminate it in an unusual
way.
Please contact the application&#39;s support team for more information.
t\create.t ................... Dubious, test returned 3 &#40;wstat 768, 0x300&#41;

---------------------------------------------------------------- 

t\zzTixGrid.t ................ 1/33 Tk_FreeCursor called before Tk_GetCursor

This application has requested the Runtime to terminate it in an unusual
way.
Please contact the application&#39;s support team for more information.
t\zzTixGrid.t ................ Dubious, test returned 3 &#40;wstat 768, 0x300&#41;
All 33 subtests passed

Test Summary Report
-------------------
t\after.t                  &#40;Wstat: 0 Tests: 6 Failed: 0&#41;
  TODO passed:   1-6
t\create.t                 &#40;Wstat: 768 Tests: 271 Failed: 1&#41;
  Failed test:  270
  Non-zero exit status: 3
  Parse errors: Bad plan.  You planned 543 tests but ran 271.
t\listbox.t                &#40;Wstat: 0 Tests: 537 Failed: 0&#41;
  TODO passed:   320-322, 328
t\text.t                   &#40;Wstat: 0 Tests: 415 Failed: 0&#41;
  TODO passed:   121
t\wm-tcl.t                 &#40;Wstat: 0 Tests: 315 Failed: 0&#41;
  TODO passed:   68
t\zzScrolled.t             &#40;Wstat: 0 Tests: 94 Failed: 0&#41;
  TODO passed:   52, 66, 80, 94
t\zzTixGrid.t              &#40;Wstat: 768 Tests: 33 Failed: 0&#41;
  Non-zero exit status: 3
Files=71, Tests=3956, 47 wallclock secs &#40; 0.70 usr +  0.05 sys =  0.75 CPU&#41;
Result: FAIL
Failed 2/71 test programs. 1/3956 subtests failed.
dmake.EXE:  Error code 3, while making &#39;test_dynamic&#39;

---------------------------------------------------------------- 

Hope that helps!
SSF
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-988352" href="/Public/Bug/Display.html?id=71718#txn-988352">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;09:53:58&nbsp;2011</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/988352/514519/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/514519">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 438b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Regarding the windres problem: can you download
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/perl-tk/zipball/RT71718-windres-tempfile">https://github.com/eserte/perl-tk/zipball/RT71718-windres-tempfile</a></span>
and see if this fixes the problem?

Reading the windres documentation
<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceware.org/binutils/docs/binutils/windres.html">http://sourceware.org/binutils/docs/binutils/windres.html</a></span>
it seems that the --use-temp-file switch is recommended only for oldish
systems like Windows 98. Do you know if your system is somehow special
so this problem happens again?

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-988355" href="/Public/Bug/Display.html?id=71718#txn-988355">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;09:53:59&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1288064" href="/Public/Bug/Display.html?id=71718#txn-1288064">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;14&nbsp;19:52:46&nbsp;2013</span>
    <span class="description">ch.1987.ad [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #71718] Tk won&#39;t install in Strawberry Perl 5.18.1.1-64bit on Windows 8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 14 Nov 2013 16:52:32 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Corey H &lt;ch.1987.ad [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288064/682582/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682582">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Downloaded Tk 804.031
Unpacked to C:\strawberry_perl\perl\lib\Tk-804.031
Opened a `cmd` to the directory.
`perl Makefile.PL` #worked
`dmake` #worked
`dmake test` #failed &#40;I tried running as Admin and I got the same stuff.

t\coloreditor.t .............. ok
t\create.t ...................
# Test 270 got: &#34;bad cursor spec \&#34;cursor\&#34; at t\\create.t line 160.\n&#34;
&#40;t\create.t at line 168 fail #18&#41;

#     Expected: &#34;&#34; &#40;Cannot re-configure TList&#41;
#  t\create.t line 168 is:         ok&#40;$@,&#34;&#34;,&#34;Cannot re-configure $class&#34;&#41;;

Tk_FreeCursor received unknown cursor argument


This application has requested the Runtime to terminate it in an unusual
way.
Please contact the application&#39;s support team for more information.
#THIS IS WHERE THE WINDOWS 8 &#34;Perl Interpreter has stopped working&#34; window
shows

Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
Failed 273/543 subtests
t\cursor.t ................... ok
t\dash.t ..................... ok
t\dialogbox.t ................ ok
t\dirtree.t .................. ok
t\entry.t .................... ok
t\errordialog.t .............. ok
XS_Tk__Callback_Call error:Intentional error.


XS_Tk__Callback_Call error:Intentional error.


Background Error: window &#34;.dialog&#34; was deleted before its visibility
changed at
C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Widget.pm line 1000.

Background Error: window &#34;.dialog&#34; was deleted before its visibility
changed at
C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Widget.pm line 1000.

t\exefiles.t ................. skipped: not on Windows &#40;because of fork,
waitpid...&#41;
t\fbox.t ..................... ok
t\fileevent.t ................ ok
t\fileevent2.t ............... ok
t\fileselect.t ............... ok
Font {Courier New} 8 still in cache.

t\font.t ..................... ok
t\fork.t ..................... skipped: No real fork on Windows-like
systems
t\geomgr.t ................... ok
t\iso8859-1.t ................ ok
t\itemstyle.t ................ ok
t\JP.t ....................... ok
t\KR.t ....................... ok
t\leak.t ..................... skipped: need Devel::Leak
t\list.t ..................... ok
t\listbox.t .................. ok
t\listvar.t .................. ok
t\magic.t .................... ok
t\mega.t ..................... ok
t\msgbox.t ................... ok
t\mwm.t ...................... skipped: Tk::Mwm not built on MSWin32
t\objglue.t .................. ok
t\optmenu.t .................. ok
t\photo.t ....................

#   Failed test &#39;No error loading t/test.png as png&#39;

#   at t\photo.t line 45.

#          got: &#39;invalid after png_start_read_image or png_read_update_info
at
C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Image.pm line 21.
# &#39;
#     expected: &#39;&#39;



#   Failed test &#39;Loading t/test.png &#40;png&#41;&#39;

#   at t\photo.t line 46.

invalid after png_start_read_image or png_read_update_info at
C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Image.pm line 21.

# Looks like you planned 105 tests but ran 7.

# Looks like you failed 2 tests of 7 run.
# Looks like your test exited with 25 just after 7.


Dubious, test returned 25 &#40;wstat 6400, 0x1900&#41;
Failed 100/105 subtests
t\pixmap.t ................... ok
t\progbar.t .................. ok
t\property.t ................. skipped: property only work on X11
t\regexp.t ................... ok
t\Require.t .................. ok
t\rotext.t ................... ok
t\slaves.t ................... ok
t\table.t .................... ok
Stack moved 2f0e218 =&gt; 2f0e220

t\text.t ..................... ok
untie attempted while 3 inner references still exist at t\text2.t line 59.

untie attempted while 10 inner references still exist at t\text2.t line 70.

t\text2.t .................... ok
t\textundo.t ................. ok
t\Tkxs.t ..................... ok
t\Trace.t .................... ok
t\trace1.t ................... ok
t\unicode.t .................. ok
t\widget.t ................... ok
t\wm-tcl.t ................... ok
# Start update 2

# . update 0.007 2

# .label update 0.015 1

# Start Popup 2

# .toplevel Popup 0.00763 2

# .toplevel.label Popup 0.00894 1

# Start withdraw 0

# Start Popup Again 2

# .toplevel Popup Again 0.00386 2

# .toplevel.label Popup Again 0.00508 1

# Start destroy 0

t\wm-time.t .................. ok
t\wm.t ....................... ok
t\X.t ........................ ok
t\zzHList.t .................. ok
t\zzPhoto.t .................. ok
t\zzScrolled.t ............... ok
t\zzText.t ................... ok
t\zzTixGrid.t ................
Tk_FreeCursor called before Tk_GetCursor

This application has requested the Runtime to terminate it in an unusual
way.
Please contact the application&#39;s support team for more information.
#THIS IS WHERE THE WINDOWS 8 &#34;Perl Interpreter has stopped working&#34; window
shows

Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
All 33 subtests passed

Test Summary Report
-------------------
t\after.t                  &#40;Wstat: 0 Tests: 6 Failed: 0&#41;
  TODO passed:   1-6
t\create.t                 &#40;Wstat: 65280 Tests: 271 Failed: 1&#41;
  Failed test:  270
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 543 tests but ran 271.
t\listbox.t                &#40;Wstat: 0 Tests: 537 Failed: 0&#41;
  TODO passed:   320-322, 328
t\photo.t                  &#40;Wstat: 6400 Tests: 7 Failed: 2&#41;
  Failed tests:  5-6
  Non-zero exit status: 25
  Parse errors: Bad plan.  You planned 105 tests but ran 7.
t\text.t                   &#40;Wstat: 0 Tests: 415 Failed: 0&#41;
  TODO passed:   121
t\wm-tcl.t                 &#40;Wstat: 0 Tests: 315 Failed: 0&#41;
  TODO passed:   68
t\zzScrolled.t             &#40;Wstat: 0 Tests: 94 Failed: 0&#41;
  TODO passed:   52, 66, 80, 94
t\zzTixGrid.t              &#40;Wstat: 65280 Tests: 33 Failed: 0&#41;
  Non-zero exit status: 255
Files=72, Tests=3879, 118 wallclock secs &#40; 1.14 usr +  0.13 sys =  1.27
CPU&#41;
Result: FAIL
Failed 3/72 test programs. 3/3879 subtests failed.

dmake.exe:  Warning: -- Target [pTk\libpTk.a] was made but the time stamp
has not been updated.
dmake.exe:  Error code 255, while making &#39;test_dynamic&#39;



I added the comment &#34;#THIS IS WHERE THE WINDOWS 8 &#39;Perl Interpreter has
stopped working&#39; window shows&#34; appropriately. Once I exit the window it
goes to the next test. This happened twice.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288064/682583/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682583">with headers</a>
<br />
<span class="downloadcontenttype">text/html 7.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1288178" href="/Public/Bug/Display.html?id=71718#txn-1288178">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;15&nbsp;02:51:49&nbsp;2013</span>
    <span class="description">slaven [...] rezic.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #71718] Tk won&#39;t install in Strawberry Perl 5.18.1.1-64bit on Windows 8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Nov 2013 08:48:40 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Slaven Rezic &lt;slaven [...] rezic.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288178/682641/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682641">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Corey H via RT&#34; &lt;bug-Tk@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Tk
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=71718">https://rt.cpan.org/Ticket/Display.html?id=71718</a></span> &gt;
&gt;
&gt; Downloaded Tk 804.031
&gt; Unpacked to C:\strawberry_perl\perl\lib\Tk-804.031
&gt; Opened a `cmd` to the directory.
&gt; `perl Makefile.PL` #worked
&gt; `dmake` #worked
&gt; `dmake test` #failed &#40;I tried running as Admin and I got the same stuff.
</div>
[...]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t\create.t ...................
&gt; # Test 270 got: &#34;bad cursor spec \&#34;cursor\&#34; at t\\create.t line 160.\n&#34;
&gt; &#40;t\create.t at line 168 fail #18&#41;
&gt;
&gt; #     Expected: &#34;&#34; &#40;Cannot re-configure TList&#41;
&gt; #  t\create.t line 168 is:         ok&#40;$@,&#34;&#34;,&#34;Cannot re-configure $class&#34;&#41;;
&gt;
&gt; Tk_FreeCursor received unknown cursor argument
&gt;
&gt;
&gt; This application has requested the Runtime to terminate it in an unusual
&gt; way.
&gt; Please contact the application&#39;s support team for more information.
&gt; #THIS IS WHERE THE WINDOWS 8 &#34;Perl Interpreter has stopped working&#34; window
&gt; shows
</div>
This problem I cannot reproduce on my 32bit Windows VM. I think it could
be related to the 64bit version.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t\photo.t ....................
&gt;
&gt; #   Failed test &#39;No error loading t/test.png as png&#39;
&gt;
&gt; #   at t\photo.t line 45.
&gt;
&gt; #          got: &#39;invalid after png_start_read_image or png_read_update_info
&gt; at
&gt; C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Image.pm line 21.
&gt; # &#39;
&gt; #     expected: &#39;&#39;
&gt;
&gt;
&gt;
&gt; #   Failed test &#39;Loading t/test.png &#40;png&#41;&#39;
&gt;
&gt; #   at t\photo.t line 46.
&gt;
&gt; invalid after png_start_read_image or png_read_update_info at
&gt; C:\strawberry_perl\perl\lib\Tk-804.031\blib\lib/Tk/Image.pm line 21.
&gt;
&gt; # Looks like you planned 105 tests but ran 7.
&gt;
&gt; # Looks like you failed 2 tests of 7 run.
&gt; # Looks like your test exited with 25 just after 7.
&gt;
</div>
This is already addressed in the git repository, currently only in a
branch &#40;png16-compat&#41;, see:

    <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/perl-tk/commit/e580cc33c9b4bbf724ff6133fcb161d1d3c3a6b8">https://github.com/eserte/perl-tk/commit/e580cc33c9b4bbf724ff6133fcb161d1d3c3a6b8</a></span>

Regards,
    Slaven

-- 
Slaven Rezic - slaven &lt;at&gt; rezic &lt;dot&gt; de

    Berlin Perl Mongers - <span class="clickylink"><a target="new" rel="nofollow" href="http://berlin.pm.org">http://berlin.pm.org</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1288659" href="/Public/Bug/Display.html?id=71718#txn-1288659">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;15&nbsp;17:05:55&nbsp;2013</span>
    <span class="description">ch.1987.ad [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #71718] Tk discovered fix.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Nov 2013 14:05:42 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Corey H &lt;ch.1987.ad [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288659/682834/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682834">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 132b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">pTk\tixTList.h:
replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;

pTk\tixGrid.h:
replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288659/682835/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682835">with headers</a>
<br />
<span class="downloadcontenttype">text/html 243b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1288675" href="/Public/Bug/Display.html?id=71718#txn-1288675">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;15&nbsp;17:27:33&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1288675/682841/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682841">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 327b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-11-15 17:05:55, ch.1987.ad@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; pTk\tixTList.h:
&gt; replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;
&gt; 
&gt; pTk\tixGrid.h:
&gt; replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;
</div>
Thanks. Are you familiar with git? Can you try the branch &#34;XXX-merge&#34; from <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/perl-tk">https://github.com/eserte/perl-tk</a></span> ?

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1288678" href="/Public/Bug/Display.html?id=71718#txn-1288678">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;15&nbsp;17:29:26&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1289065" href="/Public/Bug/Display.html?id=71718#txn-1289065">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;17&nbsp;07:49:27&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1289065/683027/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/683027">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 463b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-11-15 17:27:33, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2013-11-15 17:05:55, ch.1987.ad@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; pTk\tixTList.h:
&gt; &gt; replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;
&gt; &gt;
&gt; &gt; pTk\tixGrid.h:
&gt; &gt; replace &#34;Cursor cursor;&#34; with &#34;Tk_Cursor cursor;&#34;
</div>&gt; 
&gt; Thanks. Are you familiar with git? Can you try the branch &#34;XXX-merge&#34;
&gt; from <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/perl-tk">https://github.com/eserte/perl-tk</a></span> ?
</div>
SREZIC/Tk-804.031_500.tar.gz is out and contains the Cursor -&gt; Tk_Cursor change.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1289068" href="/Public/Bug/Display.html?id=71718#txn-1289068">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;17&nbsp;07:49:28&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1289130" href="/Public/Bug/Display.html?id=71718#txn-1289130">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;17&nbsp;11:07:29&nbsp;2013</span>
    <span class="description">ch.1987.ad [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #71718] Testing on Windows 8 64-bit works. 0 error messages too.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 17 Nov 2013 08:07:16 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Corey H &lt;ch.1987.ad [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1289130/683065/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/683065">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 77b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#trying branch &#34;XXX-merge&#34;...
perl Makefile.PL
dmake
dmake test # all works!
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1289130/683066/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/683066">with headers</a>
<br />
<span class="downloadcontenttype">text/html 151b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1292090" href="/Public/Bug/Display.html?id=71718#txn-1292090">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;23&nbsp;02:05:19&nbsp;2013</span>
    <span class="description">sflitman [...] xenoscience.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #71718] Tk won&#39;t install in Strawberry Perl 5.18.1.1-64bit on Windows 8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 23 Nov 2013 00:04:37 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Steve Flitman, MD&#34; &lt;sflitman [...] xenoscience.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1292090/684615/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/684615">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 848b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, I found these extra errors in Strawberry Perl 5.12.3 64bit on Windows 7

t\create.t ................... 1/543 # Test 270 got: &#34;bad cursor spec 
\&#34;cursor\&#34;
  at t\\create.t line 160.\n&#34; &#40;t\create.t at line 168 fail #18&#41;
#     Expected: &#34;&#34; &#40;Cannot re-configure TList&#41;
#  t\create.t line 168 is:         ok&#40;$@,&#34;&#34;,&#34;Cannot re-configure $class&#34;&#41;;
Tk_FreeCursor received unknown cursor argument

This application has requested the Runtime to terminate it in an unusual 
way.
Please contact the application&#39;s support team for more information.

t\zzTixGrid.t ................ 1/33 Tk_FreeCursor called before Tk_GetCursor

This application has requested the Runtime to terminate it in an unusual 
way.
Please contact the application&#39;s support team for more information.
t\zzTixGrid.t ................ Dubious, test returned 255 &#40;wstat 65280, 
0xff00&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1292158" href="/Public/Bug/Display.html?id=71718#txn-1292158">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;23&nbsp;04:47:18&nbsp;2013</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1292158/684652/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/684652">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-11-23 02:05:19, sflitman wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi, I found these extra errors in Strawberry Perl 5.12.3 64bit on Windows 7
&gt; 
&gt; t\create.t ................... 1/543 # Test 270 got: &#34;bad cursor spec 
&gt; \&#34;cursor\&#34;
&gt;   at t\\create.t line 160.\n&#34; &#40;t\create.t at line 168 fail #18&#41;
&gt; #     Expected: &#34;&#34; &#40;Cannot re-configure TList&#41;
&gt; #  t\create.t line 168 is:         ok&#40;$@,&#34;&#34;,&#34;Cannot re-configure $class&#34;&#41;;
&gt; Tk_FreeCursor received unknown cursor argument
&gt; 
&gt; This application has requested the Runtime to terminate it in an unusual 
&gt; way.
&gt; Please contact the application&#39;s support team for more information.
&gt; 
&gt; t\zzTixGrid.t ................ 1/33 Tk_FreeCursor called before Tk_GetCursor
&gt; 
&gt; This application has requested the Runtime to terminate it in an unusual 
&gt; way.
&gt; Please contact the application&#39;s support team for more information.
&gt; t\zzTixGrid.t ................ Dubious, test returned 255 &#40;wstat 65280, 
&gt; 0xff00&#41;
&gt; 
</div>
Hi Steve, is this with the latest development version of Tk? Please try

    cpan -i SREZIC/Tk-804.031_501.tar.gz

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.607933</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
