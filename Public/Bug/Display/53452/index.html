<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #53452 for YAML: YAML 0.71 changed default encoding for YAML::LoadFile?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #53452 for YAML: YAML 0.71 changed default encoding for YAML::LoadFile?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/YAML/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/YAML/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/YAML/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/YAML/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/ingydotnet/yaml-pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/YAML">YAML CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">53452</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/YAML/Active/">YAML</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
pc88mxer [...] gmail.com

<br />
schroeer [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-37890-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.71    </td>
  </tr>
  <tr id="CF-37891-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;06&nbsp;18:12:37&nbsp;2010</span>
    <span class="description">pc88mxer [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> YAML 0.71 changed default encoding for YAML::LoadFile?</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza">After installing YAML-0.71, some unit tests for HTTP-Body-1.05 fail. Looks like YAML::LoadFile() now assumes the file is encoded using utf-8 whereas before it didn't - or maybe something else is going on.<br>

<br>

Here are the HTTP-Body test failures:<br>

<br>


<div>t/05urlencoded.t ... 1/31</div>


<div># &nbsp; Failed test '001 UrlEncoded param'</div>


<div># &nbsp; at t/05urlencoded.t line 32.</div>


<div># &nbsp; &nbsp; Structures begin differing at:</div>


<div># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$got-&gt;{text2} = '&Atilde;&yen;&Atilde;&curren;&Atilde;&para;&Atilde;&yen;&Atilde;&curren;&Atilde;&para;'</div>


<div># &nbsp; &nbsp; $expected-&gt;{text2} = '&aring;&auml;&ouml;&aring;&auml;&ouml;'</div>


<div>&nbsp;</div>


<div># &nbsp; Failed test '003 UrlEncoded param'</div>


<div># &nbsp; at t/05urlencoded.t line 32.</div>


<div># &nbsp; &nbsp; Structures begin differing at:</div>


<div># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$got-&gt;{text2} = '&Atilde;&yen;&Atilde;&curren;&Atilde;&para;&Atilde;&yen;&Atilde;&curren;&Atilde;&para;'</div>


<div># &nbsp; &nbsp; $expected-&gt;{text2} = '&aring;&auml;&ouml;&aring;&auml;&ouml;'</div>


<div># Looks like you failed 2 tests of 31.</div>


<div>&nbsp;</div>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;05:52:27&nbsp;2010</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53452] YAML 0.71 changed default encoding for  YAML::LoadFile?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 7 Jan 2010 21:31:30 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-YAML [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I didn&#39;t make the actual change, but as I understand it YAML is
defined as being Unicode?


2010/1/7 E R via RT &lt;bug-YAML@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Wed Jan 06 18:12:37 2010: Request 53452 was acted upon.
&gt; Transaction: Ticket created by pc88mxer@gmail.com
&gt;       Queue: YAML
&gt;     Subject: YAML 0.71 changed default encoding for YAML::LoadFile?
&gt;   Broken in: 0.71
&gt;    Severity: Normal
&gt;       Owner: Nobody
&gt;  Requestors: pc88mxer@gmail.com
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=53452">https://rt.cpan.org/Ticket/Display.html?id=53452</a></span> &gt;
&gt;
&gt;
&gt; After installing YAML-0.71, some unit tests for HTTP-Body-1.05 fail. Looks like
&gt; YAML::LoadFile&#40;&#41; now assumes the file is encoded using utf-8 whereas before it
&gt; didn&#39;t - or maybe something else is going on.
&gt;
&gt; Here are the HTTP-Body test failures:
&gt;
&gt; t/05urlencoded.t ... 1/31# Failed test &#39;001 UrlEncoded param&#39;# at
&gt; t/05urlencoded.t line 32.# Structures begin differing at:# $got-&gt;{text2} =
&gt; &#39;Ã¥Ã¤Ã¶Ã¥Ã¤Ã¶&#39;# $expected-&gt;{text2} = &#39;åäöåäö&#39; # Failed test &#39;003 UrlEncoded
&gt; param&#39;# at t/05urlencoded.t line 32.# Structures begin differing at:#
&gt; $got-&gt;{text2} = &#39;Ã¥Ã¤Ã¶Ã¥Ã¤Ã¶&#39;# $expected-&gt;{text2} = &#39;åäöåäö&#39;# Looks like you
&gt; failed 2 tests of 31.
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;05:52:28&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;10:08:06&nbsp;2010</span>
    <span class="description">pc88mxer [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53452] YAML 0.71 changed default encoding for  YAML::LoadFile?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 7 Jan 2010 09:06:21 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-YAML [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> E R &lt;pc88mxer [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Jan 7, 2010 at 4:52 AM, Reserved Local Account via RT
&lt;bug-YAML@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=53452">https://rt.cpan.org/Ticket/Display.html?id=53452</a></span> &gt;
&gt;
&gt; I didn&#39;t make the actual change, but as I understand it YAML is
&gt; defined as being Unicode?
</div>
it very well be that it is HTTP-Body&#39;s problem - there&#39;s a ticket
about this filed with them as well.

HTTP-Body passes all of its tests with YAML-0.70 but not with 0.71.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;
&gt; 2010/1/7 E R via RT &lt;bug-YAML@rt.cpan.org&gt;:
<div class="message-stanza open">&gt;&gt; Wed Jan 06 18:12:37 2010: Request 53452 was acted upon.
&gt;&gt; Transaction: Ticket created by pc88mxer@gmail.com
&gt;&gt;       Queue: YAML
&gt;&gt;     Subject: YAML 0.71 changed default encoding for YAML::LoadFile?
&gt;&gt;   Broken in: 0.71
&gt;&gt;    Severity: Normal
&gt;&gt;       Owner: Nobody
&gt;&gt;  Requestors: pc88mxer@gmail.com
&gt;&gt;      Status: new
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=53452">https://rt.cpan.org/Ticket/Display.html?id=53452</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; After installing YAML-0.71, some unit tests for HTTP-Body-1.05 fail. Looks like
&gt;&gt; YAML::LoadFile&#40;&#41; now assumes the file is encoded using utf-8 whereas before it
&gt;&gt; didn&#39;t - or maybe something else is going on.
&gt;&gt;
&gt;&gt; Here are the HTTP-Body test failures:
&gt;&gt;
&gt;&gt; t/05urlencoded.t ... 1/31# Failed test &#39;001 UrlEncoded param&#39;# at
&gt;&gt; t/05urlencoded.t line 32.# Structures begin differing at:# $got-&gt;{text2} =
&gt;&gt; &#39;Ã¥Ã¤Ã¶Ã¥Ã¤Ã¶&#39;# $expected-&gt;{text2} = &#39;åäöåäö&#39; # Failed test &#39;003 UrlEncoded
&gt;&gt; param&#39;# at t/05urlencoded.t line 32.# Structures begin differing at:#
&gt;&gt; $got-&gt;{text2} = &#39;Ã¥Ã¤Ã¶Ã¥Ã¤Ã¶&#39;# $expected-&gt;{text2} = &#39;åäöåäö&#39;# Looks like you
&gt;&gt; failed 2 tests of 31.
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;15:13:22&nbsp;2010</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">On Wed Jan 06 18:12:37 2010, pc88mxer@gmail.com wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After installing YAML-0.71, some unit tests for HTTP-Body-1.05 fail. <br>

&gt; Looks like <br>

&gt; YAML::LoadFile() now assumes the file is encoded using utf-8 whereas <br>

&gt; before it <br>

&gt; didn't - or maybe something else is going on. <br>

&gt;  <br>

&gt; Here are the HTTP-Body test failures: <br>

&gt;  <br>

&gt; t/05urlencoded.t ... 1/31# Failed test '001 UrlEncoded param'# at <br>

&gt; t/05urlencoded.t line 32.# Structures begin differing at:# $got- <br>
<div class="message-stanza open">&gt; &gt;{text2} = <br>
</div>&gt; '&Atilde;&yen;&Atilde;&curren;&Atilde;&para;&Atilde;&yen;&Atilde;&curren;&Atilde;&para;'# $expected-&gt;{text2} = '&aring;&auml;&ouml;&aring;&auml;&ouml;' # Failed test '003 <br>

&gt; UrlEncoded <br>

&gt; param'# at t/05urlencoded.t line 32.# Structures begin differing at:# <br>

&gt; $got-&gt;{text2} = '&Atilde;&yen;&Atilde;&curren;&Atilde;&para;&Atilde;&yen;&Atilde;&curren;&Atilde;&para;'# $expected-&gt;{text2} = '&aring;&auml;&ouml;&aring;&auml;&ouml;'# Looks <br>

&gt; like you <br>

&gt; failed 2 tests of 31. <br>
</div><br>

I&nbsp;have the same issue, HTTP::Body fails its tests after YAML was changed in the recent revision.&nbsp; This is causing Catalyst to no longer be installable without force or a distropref.&nbsp; I'm not certain if this is a false positive test failure for HTTP::Body or not.<br>

<br>

Any thoughts on the best way to coordinate solving this?&nbsp; I don't know enough about utf8 myself to really help, although my suspicion is that this test failure in HTTP::Body is bogus, given how many people are using it with Catalyst without trouble.<br>

<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;15:26:18&nbsp;2010</span>
    <span class="description">pc88mxer [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53452] YAML 0.71 changed default encoding for  YAML::LoadFile?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 7 Jan 2010 14:25:53 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-YAML [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> E R &lt;pc88mxer [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Jan 7, 2010 at 2:13 PM, John Napiorkowski via RT
&lt;bug-YAML@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Any thoughts on the best way to coordinate solving this? I don&#39;t know enough
&gt; about utf8 myself to really help, although my suspicion is that this test
&gt; failure in HTTP::Body is bogus, given how many people are using it with
&gt; Catalyst without trouble.
</div>
Yeah - I&#39;m sure it&#39;s not a real problem.

My guess is that the fix is modify the file
t/data/urlencoded/001-results.yml and change the line which begins:

text2: &lt;C3&gt;&lt;A5&gt;...

&#40;note that this is how the file appears in a pager like less. The &lt;C3&gt;
and &lt;A5&gt; are single bytes in the file.&#41;

Each of these bytes needs to be UTF-8 encoded, so that the replacement
line would look like:

text2: &lt;C3&gt;&lt;83&gt;&lt;C2&gt;&lt;A5&gt;...

e.g. running the file through this script:

use Encode;
while &#40;&lt;&gt;&#41; { print Encode::encode&#40;&#39;utf-8&#39;, $_&#41;; }

Note - this is not tested, but I&#39;m pretty sure this is the issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;09&nbsp;05:34:45&nbsp;2010</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">FWIW, I just posted a solution for HTTP::Body in the ticket #53424. It
untangles the relation between YAML::LoadFile and HTTP::Body and in fact
that seems like the only option available.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;20&nbsp;18:04:23&nbsp;2010</span>
    <span class="description">schroeer [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Mi 06. Jan 2010, 18:12:37, pc88mxer@gmail.com schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After installing YAML-0.71, some unit tests for HTTP-Body-1.05 fail.
&gt; Looks like
&gt; YAML::LoadFile&#40;&#41; now assumes the file is encoded using utf-8 whereas
&gt; before it
&gt; didn&#39;t - or maybe something else is going on.
</div>
This is really a change that was introduced in version 0.71 and that is
documented in the Changes file, but nowhere in the docs.

I&#39;d also like to point out that this change makes scripts fail that were
working before. That&#39;s when the script loads a file in eg. iso-8859-1
encoding. Afaics this was allowed before and I imagine the number of
scripts doing so to be quite high.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;21&nbsp;05:11:45&nbsp;2010</span>
    <span class="description">schroeer [...] cpan.org -  Requestor SCHROEER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;20&nbsp;04:21:23&nbsp;2010</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I fixed RT#25434 in 0.71 release.

Most YAML implementation in Perl are buggy regarding encoding, and this
must be fixed as CPAN is now relying more and more on META.yml.
A strict encoding is important for interoperability. In previous
releases, the file encoding used was the local one, which is dependent
on the environnement writing the file and the environment reading it and
they may differ on their defaults.

YAML::Tiny still has to be fixed &#40;RT#48885&#41;.


So if HTTP::Body has invalid YAML files in its test suite, thoses files
must be fixed.

-- 
Olivier Mengué - <span class="clickylink"><a target="new" rel="nofollow" href="http://o.mengue.free.fr/">http://o.mengue.free.fr/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;14&nbsp;02:48:40&nbsp;2014</span>
    <span class="description">ingy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This issue has been copied to: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/ingydotnet/yaml-pm/issues/102">https://github.com/ingydotnet/yaml-pm/issues/102</a></span> please take all future correspondence there.
This ticket will remain open but please do not reply here.
This ticket will be closed when the github issue is dealt with.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;01&nbsp;11:45:18&nbsp;2019</span>
    <span class="description">TINITA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It looks like this can be closed. Please reopen if necessary.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;May&nbsp;01&nbsp;11:45:19&nbsp;2019</span>
    <span class="description">TINITA [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
