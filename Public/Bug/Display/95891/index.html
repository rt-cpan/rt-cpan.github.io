<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #95596 for Net-DNS: Net::DNS::Reolver::Base-&gt;read_config_file list</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #95596 for Net-DNS: Net::DNS::Reolver::Base-&gt;read_config_file list</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-DNS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-DNS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-DNS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-DNS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">95596</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-DNS">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
alexander.bluhm [...] gmx.net

<br />
bortzmeyer [...] nic.fr

<br />
lukasz [...] trabinski.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.75    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=95596">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1362396" href="/Public/Bug/Display.html?id=95596#txn-1362396">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;12&nbsp;18:57:38&nbsp;2014</span>
    <span class="description">alexander.bluhm [...] gmx.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::DNS::Reolver::Base-&gt;read_config_file list</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1362396/723267/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723267">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The file /etc/resolv.conf may contain more than one search or
nameserver keyword.  In Net-DNS-0.75 a bug has been introduced that
only the last line is taken.  Before that, all values were pushed
together, but the push has been removed in 0.75.  It worked with
0.74.  This little patch fixes the issue.

--- lib/Net/DNS/Resolver/Base.pm.orig   Thu May  8 10:12:03 2014
+++ lib/Net/DNS/Resolver/Base.pm        Tue May 13 00:35:14 2014
@@ -242,12 +242,14 @@ sub read_config_file {
                        };
 
                        /^search/ &#38;&#38; do {
-                               &#40; $keyword, @searchlist &#41; = split;
+                               &#40; $keyword, my @list &#41; = split;
+                               push @searchlist, @list;
                                next;
                        };
 
                        /^nameserver/ &#38;&#38; do {
-                               &#40; $keyword, @ns &#41; = split;
+                               &#40; $keyword, my @list &#41; = split;
+                               push @ns, @list;
                                foreach my $ns &#40;@ns&#41; {
                                        $ns = &#39;0.0.0.0&#39; if $ns eq &#39;0&#39;;
                                }


OpenBSD t430s.bluhm.invalid 5.5 GENERIC.MP#76 amd64

Summary of my perl5 &#40;revision 5 version 18 subversion 2&#41; configuration:
   
  Platform:
    osname=openbsd, osvers=5.5, archname=amd64-openbsd
    uname=&#39;openbsd&#39;
    config_args=&#39;-dsE -Dopenbsd_distribution=defined -Dccflags=-DNO_LOCALE_NUMERIC -DNO_LOCALE_COLLATE -Dmksymlinks&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-DNO_LOCALE_NUMERIC -DNO_LOCALE_COLLATE -fno-strict-aliasing -fno-delete-null-pointer-checks -pipe -fstack-protector -I/usr/local/include&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-DNO_LOCALE_NUMERIC -DNO_LOCALE_COLLATE -fno-strict-aliasing -fno-delete-null-pointer-checks -pipe -fstack-protector -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.2.1 20070719 &#39;, gccosandvers=&#39;openbsd5.5&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;-Wl,-E  -fstack-protector&#39;
    libpth=/usr/lib
    libs=-lm -lutil -lc
    perllibs=-lm -lutil -lc
    libc=/usr/lib/libc.so.74.2, so=so, useshrplib=true, libperl=libperl.so.15.0
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-R/usr/libdata/perl5/amd64-openbsd/5.18.2/CORE&#39;
    cccdlflags=&#39;-DPIC -fPIC &#39;, lddlflags=&#39;-shared -fPIC  -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: HAS_TIMES PERLIO_LAYERS PERL_DONT_CREATE_GVSV
                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD PERL_MALLOC_WRAP
                        PERL_PRESERVE_IVUV PERL_SAWAMPERSAND USE_64_BIT_ALL
                        USE_64_BIT_INT USE_LARGE_FILES USE_LOCALE
                        USE_LOCALE_CTYPE USE_PERLIO USE_PERL_ATOF
  Locally applied patches:
        uncommitted-changes
  Built under openbsd
  Compiled at May 12 2014 22:30:04
  @INC:
    /usr/local/libdata/perl5/site_perl/amd64-openbsd
    /usr/libdata/perl5/site_perl/amd64-openbsd
    /usr/local/libdata/perl5/site_perl
    /usr/libdata/perl5/site_perl
    /usr/libdata/perl5/amd64-openbsd/5.18.2
    /usr/local/libdata/perl5/amd64-openbsd/5.18.2
    /usr/libdata/perl5
    /usr/local/libdata/perl5
    .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1365327" href="/Public/Bug/Display.html?id=95596#txn-1365327">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;17:13:55&nbsp;2014</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1365327/724857/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/724857">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 12 18:57:38 2014, bluhm wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The file /etc/resolv.conf may contain more than one search or
&gt; nameserver keyword.
</div>
There can be more than one nameserver line, the content of which are intended to be concatenated to form the nameservers&#40;&#41; list.
The correct behaviour will be restored in 0.76

The domain and search keywords are mutually exclusive. If more than one instance of these keywords is present, the last instance wins. 
[linux resolv.conf man page]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1365328" href="/Public/Bug/Display.html?id=95596#txn-1365328">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;17:13:56&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366599" href="/Public/Bug/Display.html?id=95596#txn-1366599">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;15:48:19&nbsp;2014</span>
    <span class="description">bortzmeyer [...] nic.fr - Ticket #95878:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bortzmeyer [...] nic.fr</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Two regressions in 0.75 &#40;IPv6 and names of name servers&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 22 May 2014 21:47:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Stephane Bortzmeyer &lt;bortzmeyer [...] nic.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366599/725711/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725711">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have a /etc/resolv.conf which contains IPv6 addresses. With 0.68,
this code worked:

#!/usr/bin/perl

use Net::DNS::Resolver;

my $res = Net::DNS::Resolver-&gt;new;
print $res-&gt;nameservers, &#34;\n&#34;;
$res-&gt;nameserver&#40;&#39;8.8.8.8&#39;&#41;;
print $res-&gt;nameservers, &#34;\n&#34;;
$res-&gt;nameserver&#40;&#39;a.root-servers.net&#39;&#41;;
print $res-&gt;nameservers, &#34;\n&#34;;

It displayed:

% perl test-dns.pl
::1192.134.4.162192.134.4.163
8.8.8.8
198.41.0.4
%

With 0.75, parsing of resolv.conf fails silently:

% perl test-dns.pl

8.8.8.8

%

If I modify the script to use a custom resolv.conf with only IPv4
addresses:

my $res = Net::DNS::Resolver-&gt;new&#40;config_file =&gt; &#39;/etc/resolv-ipv4only.conf&#39;&#41;;

parsing works:

% perl test-dns.pl
192.134.4.163
8.8.8.8

%

But using names &#40;and not IP addresses&#41; still fails. It worked before
and several programs &#40;not mine, programs retrieved from various
places&#41; depend on this behaviour.


% perl -V
Summary of my perl5 &#40;revision 5 version 18 subversion 2&#41; configuration:
   
  Platform:
    osname=linux, osvers=3.4.75-1-arch, archname=armv6l-linux-thread-multi
    uname=&#39;linux root-armv6-copy 3.4.75-1-arch #1 smp preempt mon jan 6 21:20:50 mst 2014 armv6l gnulinux &#39;
    config_args=&#39;-des -Dusethreads -Duseshrplib -Doptimize=-march=armv6 -mfloat-abi=hard -mfpu=vfp -O2 -pipe -fstack-protector --param=ssp-buffer-size=4 -Dprefix=/usr -Dvendorprefix=/usr -Dprivlib=/usr/share/perl5/core_perl -Darchlib=/usr/lib/perl5/core_perl -Dsitelib=/usr/share/perl5/site_perl -Dsitearch=/usr/lib/perl5/site_perl -Dvendorlib=/usr/share/perl5/vendor_perl -Dvendorarch=/usr/lib/perl5/vendor_perl -Dscriptdir=/usr/bin/core_perl -Dsitescript=/usr/bin/site_perl -Dvendorscript=/usr/bin/vendor_perl -Dinc_version_list=none -Dman1ext=1perl -Dman3ext=3perl -Dlddlflags=-shared -Wl,-O1,--sort-common,--as-needed,-z,relro -Dldflags=-Wl,-O1,--sort-common,--as-needed,-z,relro&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-march=armv6 -mfloat-abi=hard -mfpu=vfp -O2 -pipe -fstack-protector --param=ssp-buffer-size=4&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.7.2&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=8
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;-Wl,-O1,--sort-common,--as-needed,-z,relro -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lpthread -lc -lgdbm_compat
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=/lib/libc-2.17.so, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;2.17&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E -Wl,-rpath,/usr/lib/perl5/core_perl/CORE&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -Wl,-O1,--sort-common,--as-needed,-z,relro -L/usr/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS
                        PERL_DONT_CREATE_GVSV
                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
                        PERL_PRESERVE_IVUV PERL_SAWAMPERSAND USE_ITHREADS
                        USE_LARGE_FILES USE_LOCALE USE_LOCALE_COLLATE
                        USE_LOCALE_CTYPE USE_LOCALE_NUMERIC USE_PERLIO
                        USE_PERL_ATOF USE_REENTRANT_API
  Built under linux
  Compiled at Jan 14 2014 02:12:40
  @INC:
    .
    /home/stephane/lib
    /usr/lib/perl5/site_perl
    /usr/share/perl5/site_perl
    /usr/lib/perl5/vendor_perl
    /usr/share/perl5/vendor_perl
    /usr/lib/perl5/core_perl
    /usr/share/perl5/core_perl

ArchLinux

% uname -a
Linux alarmpi 3.12.20-1-ARCH #1 PREEMPT Sun May 18 12:13:26 MDT 2014 armv6l GNU/Linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366610" href="/Public/Bug/Display.html?id=95596#txn-1366610">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;17:00:44&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org - Ticket #95878:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366610/725718/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725718">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 163b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Stephane, could you please try if this developers release resolves the issue:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz">http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz</a></span>

Thanks!
Willem
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366611" href="/Public/Bug/Display.html?id=95596#txn-1366611">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;17:00:45&nbsp;2014</span>
    <span class="description">The RT System itself - Ticket #95878:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366777" href="/Public/Bug/Display.html?id=95596#txn-1366777">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;03:54:00&nbsp;2014</span>
    <span class="description">lukasz [...] trabinski.net - Ticket #95891:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Bartłomiej Solarz-Niesłuchowski &lt;Bartlomiej.Solarz-Niesluchowski [...] wit.edu.pl&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perl-Net-DNS-0.75 - problem after upgrade</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 May 2014 09:53:50 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Łukasz Trąbiński &lt;lukasz [...] trabinski.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366777/725811/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725811">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 779b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

After upgrade to perl-Net-DNS-0.75 we have problem with module.

If you have more than one nameserver in /etc/resolver.conf module doesn&#39;t
work correctly:


Example:

oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# cat /etc/resolv.conf
search wsisiz.edu.pl
#domain .wsisiz.edu.pl
nameserver 2001:1a68:a::40
nameserver 213.135.44.40
nameserver 213.135.47.126
nameserver 213.135.34.25
nameserver 212.87.0.37



oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# perl mx wsisiz.edu.pl
^C

time out

Only one nameserver resolver in /etc/resolv.conf and it&#39;s work OK:

oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# cat /etc/resolv.conf
search wsisiz.edu.pl
nameserver 2001:1a68:a::40

oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# perl mx wsisiz.edu.pl
0       dervish.wsisiz.edu.pl
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366777/725812/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725812">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366780" href="/Public/Bug/Display.html?id=95596#txn-1366780">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;03:58:16&nbsp;2014</span>
    <span class="description">bortzmeyer [...] nic.fr - Ticket #95878:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bortzmeyer [...] nic.fr</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95878] Two regressions in 0.75 &#40;IPv6 and names of name servers&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 May 2014 09:57:17 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> NLnet Labs via RT &lt;bug-Net-DNS [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Stephane Bortzmeyer &lt;bortzmeyer [...] nic.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366780/725815/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725815">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 343b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, May 22, 2014 at 05:00:45PM -0400,
 NLnet Labs via RT &lt;bug-Net-DNS@rt.cpan.org&gt; wrote 
 a message of 8 lines which said:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Stephane, could you please try if this developers release resolves the issue:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz">http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz</a></span>
</div>
It works perfectly, and solves the two regressions, thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366782" href="/Public/Bug/Display.html?id=95596#txn-1366782">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:03:15&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org - Ticket #95891:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366782/725817/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725817">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Łukasz,

More people are effected by this bug.  I think a quick bugfix release for this issue might be wise.  In the mean time you can use this developers release to mitigate. <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz">http://www.cpan.org/authors/id/N/NL/NLNETLABS/Net-DNS-0.75_1.tar.gz</a></span> .

Best regards,

-- Willem


On Fri 23 Mei 2014 03:54:00, lukasz@trabinski.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi
&gt; 
&gt; After upgrade to perl-Net-DNS-0.75 we have problem with module.
&gt; 
&gt; If you have more than one nameserver in /etc/resolver.conf module doesn&#39;t
&gt; work correctly:
&gt; 
&gt; 
&gt; Example:
&gt; 
&gt; oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# cat /etc/resolv.conf
&gt; search wsisiz.edu.pl
&gt; #domain .wsisiz.edu.pl
&gt; nameserver 2001:1a68:a::40
&gt; nameserver 213.135.44.40
&gt; nameserver 213.135.47.126
&gt; nameserver 213.135.34.25
&gt; nameserver 212.87.0.37
&gt; 
&gt; 
&gt; 
&gt; oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# perl mx wsisiz.edu.pl
&gt; ^C
&gt; 
&gt; time out
&gt; 
&gt; Only one nameserver resolver in /etc/resolv.conf and it&#39;s work OK:
&gt; 
&gt; oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# cat /etc/resolv.conf
&gt; search wsisiz.edu.pl
&gt; nameserver 2001:1a68:a::40
&gt; 
&gt; oceanic:/usr/share/doc/perl-Net-DNS-0.75/demo# perl mx wsisiz.edu.pl
&gt; 0       dervish.wsisiz.edu.pl
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366783" href="/Public/Bug/Display.html?id=95596#txn-1366783">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:03:15&nbsp;2014</span>
    <span class="description">The RT System itself - Ticket #95891:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366786" href="/Public/Bug/Display.html?id=95596#txn-1366786">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:04:05&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org - Ticket #95891:  Merged into ticket #95596</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366787" href="/Public/Bug/Display.html?id=95596#txn-1366787">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:04:05&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org - Ticket #95878:  Merged into ticket #95596</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366788" href="/Public/Bug/Display.html?id=95596#txn-1366788">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:06:48&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org - Ticket #95878:  Merged into ticket #95596</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366789" href="/Public/Bug/Display.html?id=95596#txn-1366789">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;04:06:48&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org -  Merged into ticket #95596</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1379274" href="/Public/Bug/Display.html?id=95596#txn-1379274">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;25&nbsp;05:07:41&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1379274/732341/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/732341">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 16b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved in 0.76
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1379277" href="/Public/Bug/Display.html?id=95596#txn-1379277">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;25&nbsp;05:07:43&nbsp;2014</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.606595</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
