<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #95419 for Perl-Tidy: perltidy incorrectly assumes &#39;case&#39; is special</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #95419 for Perl-Tidy: perltidy incorrectly assumes &#39;case&#39; is special</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Tidy">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Tidy">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Tidy">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Tidy">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Tidy">Perl-Tidy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">95419</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Tidy">Perl-Tidy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chad.granum [...] dreamhost.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25260-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25261-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=95419">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1359930" href="/Public/Bug/Display.html?id=95419#txn-1359930">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;06&nbsp;18:10:52&nbsp;2014</span>
    <span class="description">chad.granum [...] dreamhost.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perltidy incorrectly assumes &#39;case&#39; is special</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 May 2014 15:10:40 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad Granum &lt;chad.granum [...] dreamhost.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359930/721824/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721824">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">case is not a resevred keyword in perl. It is not special in any-way unless
you use features/modules that enable it. Perltidy should treat it like it
would any other function.

This bug came up in a Fennec unit test where &#39;case&#39; is an exported function.

Sample:

    case &#34;blah&#34; =&gt; sub { {a =&gt; 1} };

Gets tidied to:

    case &#34;blah&#34; =&gt; sub {
        {
            a =&gt; 1;
        }
    };

Which is a syntax error with that extra semicolon.

Tidyrc used:
    --indent-columns=4               # size of indentation
    --nt                             # no tabs
    --continuation-indentation=4     # indentation of wrapped lines
    --maximum-line-length=0          # max line length before wrapping
&#40;turn it off&#41;
    --nooutdent-long-quotes          # do not outdent overly long quotes
    --paren-tightness=2              # no spacing for parentheses
    --square-bracket-tightness=2     # no spacing for square brackets
    --brace-tightness=2              # no spacing for hash curly braces
    --block-brace-tightness=0        # spacing for coderef curly braces
    --comma-arrow-breakpoints=1      # break long key/value pair lists
    --break-at-old-comma-breakpoints # this attempts to retain list break
points
    --no-blanks-before-comments      # do not insert blank lines before
comments
    --indent-spaced-block-comments   # no blanks before comments
    --nocuddled-else                 # Do not cuddle else
    --nospace-for-semicolon          # no space before semicolons in loops
    --nospace-terminal-semicolon     # no space before termonal semicolons
    --notrim-qw                      # Do not mess with qw{} whitespace
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359930/721825/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721825">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360033" href="/Public/Bug/Display.html?id=95419#txn-1360033">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;07&nbsp;00:30:13&nbsp;2014</span>
    <span class="description">s7078hancock [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95419] perltidy incorrectly assumes &#39;case&#39; is special</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 May 2014 21:30:02 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Tidy [...] rt.cpan.org&#34; &lt;bug-Perl-Tidy [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Hancock &lt;s7078hancock [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360033/721908/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721908">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Chad, I will fix that in the next release.  Thanks, Steve

On Wednesday, May 7, 2014, Chad Granum via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue May 06 18:10:52 2014: Request 95419 was acted upon.
&gt; Transaction: Ticket created by chad.granum@dreamhost.com &lt;javascript:;&gt;
&gt;        Queue: Perl-Tidy
&gt;      Subject: perltidy incorrectly assumes &#39;case&#39; is special
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: chad.granum@dreamhost.com &lt;javascript:;&gt;
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt;
&gt;
&gt; case is not a resevred keyword in perl. It is not special in any-way unless
&gt; you use features/modules that enable it. Perltidy should treat it like it
&gt; would any other function.
&gt;
&gt; This bug came up in a Fennec unit test where &#39;case&#39; is an exported
&gt; function.
&gt;
&gt; Sample:
&gt;
&gt;     case &#34;blah&#34; =&gt; sub { {a =&gt; 1} };
&gt;
&gt; Gets tidied to:
&gt;
&gt;     case &#34;blah&#34; =&gt; sub {
&gt;         {
&gt;             a =&gt; 1;
&gt;         }
&gt;     };
&gt;
&gt; Which is a syntax error with that extra semicolon.
&gt;
&gt; Tidyrc used:
&gt;     --indent-columns=4               # size of indentation
&gt;     --nt                             # no tabs
&gt;     --continuation-indentation=4     # indentation of wrapped lines
&gt;     --maximum-line-length=0          # max line length before wrapping
&gt; &#40;turn it off&#41;
&gt;     --nooutdent-long-quotes          # do not outdent overly long quotes
&gt;     --paren-tightness=2              # no spacing for parentheses
&gt;     --square-bracket-tightness=2     # no spacing for square brackets
&gt;     --brace-tightness=2              # no spacing for hash curly braces
&gt;     --block-brace-tightness=0        # spacing for coderef curly braces
&gt;     --comma-arrow-breakpoints=1      # break long key/value pair lists
&gt;     --break-at-old-comma-breakpoints # this attempts to retain list break
&gt; points
&gt;     --no-blanks-before-comments      # do not insert blank lines before
&gt; comments
&gt;     --indent-spaced-block-comments   # no blanks before comments
&gt;     --nocuddled-else                 # Do not cuddle else
&gt;     --nospace-for-semicolon          # no space before semicolons in loops
&gt;     --nospace-terminal-semicolon     # no space before termonal semicolons
&gt;     --notrim-qw                      # Do not mess with qw{} whitespace
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360033/721909/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721909">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360034" href="/Public/Bug/Display.html?id=95419#txn-1360034">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;07&nbsp;00:30:13&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369850" href="/Public/Bug/Display.html?id=95419#txn-1369850">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;29&nbsp;18:43:52&nbsp;2014</span>
    <span class="description">s7078hancock [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95419] perltidy incorrectly assumes &#39;case&#39; is special</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 29 May 2014 15:43:39 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Tidy [...] rt.cpan.org&#34; &lt;bug-Perl-Tidy [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Hancock &lt;s7078hancock [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369850/727310/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727310">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Chad,
I started working on this and can&#39;t reproduce it.  What version of perltidy
are you running?
Thanks,
Steve


On Tue, May 6, 2014 at 9:30 PM, Steven Hancock via RT &lt;
bug-Perl-Tidy@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Perl-Tidy
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt;
&gt; Chad, I will fix that in the next release.  Thanks, Steve
&gt;
&gt; On Wednesday, May 7, 2014, Chad Granum via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt;
&gt; wrote:
&gt;
<div class="message-stanza open">&gt; &gt; Tue May 06 18:10:52 2014: Request 95419 was acted upon.
&gt; &gt; Transaction: Ticket created by chad.granum@dreamhost.com &lt;javascript:;&gt;
&gt; &gt;        Queue: Perl-Tidy
&gt; &gt;      Subject: perltidy incorrectly assumes &#39;case&#39; is special
&gt; &gt;    Broken in: &#40;no value&#41;
&gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: chad.granum@dreamhost.com &lt;javascript:;&gt;
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; case is not a resevred keyword in perl. It is not special in any-way
</div>&gt; unless
<div class="message-stanza open">&gt; &gt; you use features/modules that enable it. Perltidy should treat it like it
&gt; &gt; would any other function.
&gt; &gt;
&gt; &gt; This bug came up in a Fennec unit test where &#39;case&#39; is an exported
&gt; &gt; function.
&gt; &gt;
&gt; &gt; Sample:
&gt; &gt;
&gt; &gt;     case &#34;blah&#34; =&gt; sub { {a =&gt; 1} };
&gt; &gt;
&gt; &gt; Gets tidied to:
&gt; &gt;
&gt; &gt;     case &#34;blah&#34; =&gt; sub {
&gt; &gt;         {
&gt; &gt;             a =&gt; 1;
&gt; &gt;         }
&gt; &gt;     };
&gt; &gt;
&gt; &gt; Which is a syntax error with that extra semicolon.
&gt; &gt;
&gt; &gt; Tidyrc used:
&gt; &gt;     --indent-columns=4               # size of indentation
&gt; &gt;     --nt                             # no tabs
&gt; &gt;     --continuation-indentation=4     # indentation of wrapped lines
&gt; &gt;     --maximum-line-length=0          # max line length before wrapping
&gt; &gt; &#40;turn it off&#41;
&gt; &gt;     --nooutdent-long-quotes          # do not outdent overly long quotes
&gt; &gt;     --paren-tightness=2              # no spacing for parentheses
&gt; &gt;     --square-bracket-tightness=2     # no spacing for square brackets
&gt; &gt;     --brace-tightness=2              # no spacing for hash curly braces
&gt; &gt;     --block-brace-tightness=0        # spacing for coderef curly braces
&gt; &gt;     --comma-arrow-breakpoints=1      # break long key/value pair lists
&gt; &gt;     --break-at-old-comma-breakpoints # this attempts to retain list break
&gt; &gt; points
&gt; &gt;     --no-blanks-before-comments      # do not insert blank lines before
&gt; &gt; comments
&gt; &gt;     --indent-spaced-block-comments   # no blanks before comments
&gt; &gt;     --nocuddled-else                 # Do not cuddle else
&gt; &gt;     --nospace-for-semicolon          # no space before semicolons in
</div>&gt; loops
<div class="message-stanza open">&gt; &gt;     --nospace-terminal-semicolon     # no space before termonal
</div>&gt; semicolons
<div class="message-stanza open">&gt; &gt;     --notrim-qw                      # Do not mess with qw{} whitespace
&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369850/727311/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727311">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1370036" href="/Public/Bug/Display.html?id=95419#txn-1370036">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;30&nbsp;10:43:38&nbsp;2014</span>
    <span class="description">chad.granum [...] dreamhost.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95419] perltidy incorrectly assumes &#39;case&#39; is special</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 May 2014 07:43:25 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad Granum &lt;chad.granum [...] dreamhost.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1370036/727412/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727412">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">cgranum@fubar $ perltidy -v

       [~]
This is perltidy, v20071205

Copyright 2000-2007, Steve Hancock

Perltidy is free software and may be copied under the terms of the GNU
General Public License, which is included in the distribution files.

Complete documentation for perltidy can be found using &#39;man perltidy&#39;
or on the internet at <span class="clickylink"><a target="new" rel="nofollow" href="http://perltidy.sourceforge.net">http://perltidy.sourceforge.net</a></span>.


Yikes, looks like our server is using quite an old version. I will see if
we can convince the syadmins to upgrade.


On Thu, May 29, 2014 at 3:43 PM, Steven Hancock via RT &lt;
bug-Perl-Tidy@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt;
&gt; Chad,
&gt; I started working on this and can&#39;t reproduce it.  What version of perltidy
&gt; are you running?
&gt; Thanks,
&gt; Steve
&gt;
&gt;
&gt; On Tue, May 6, 2014 at 9:30 PM, Steven Hancock via RT &lt;
&gt; bug-Perl-Tidy@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt; &gt;        Queue: Perl-Tidy
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt; &gt;
&gt; &gt; Chad, I will fix that in the next release.  Thanks, Steve
&gt; &gt;
&gt; &gt; On Wednesday, May 7, 2014, Chad Granum via RT &lt;bug-Perl-Tidy@rt.cpan.org
&gt; &gt;
&gt; &gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Tue May 06 18:10:52 2014: Request 95419 was acted upon.
&gt; &gt; &gt; Transaction: Ticket created by chad.granum@dreamhost.com
</div></div>&gt; &lt;javascript:;&gt;
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt;        Queue: Perl-Tidy
&gt; &gt; &gt;      Subject: perltidy incorrectly assumes &#39;case&#39; is special
&gt; &gt; &gt;    Broken in: &#40;no value&#41;
&gt; &gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt; &gt;        Owner: Nobody
&gt; &gt; &gt;   Requestors: chad.granum@dreamhost.com &lt;javascript:;&gt;
&gt; &gt; &gt;       Status: new
&gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; case is not a resevred keyword in perl. It is not special in any-way
</div>&gt; &gt; unless
<div class="message-stanza open">&gt; &gt; &gt; you use features/modules that enable it. Perltidy should treat it like
</div></div>&gt; it
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; would any other function.
&gt; &gt; &gt;
&gt; &gt; &gt; This bug came up in a Fennec unit test where &#39;case&#39; is an exported
&gt; &gt; &gt; function.
&gt; &gt; &gt;
&gt; &gt; &gt; Sample:
&gt; &gt; &gt;
&gt; &gt; &gt;     case &#34;blah&#34; =&gt; sub { {a =&gt; 1} };
&gt; &gt; &gt;
&gt; &gt; &gt; Gets tidied to:
&gt; &gt; &gt;
&gt; &gt; &gt;     case &#34;blah&#34; =&gt; sub {
&gt; &gt; &gt;         {
&gt; &gt; &gt;             a =&gt; 1;
&gt; &gt; &gt;         }
&gt; &gt; &gt;     };
&gt; &gt; &gt;
&gt; &gt; &gt; Which is a syntax error with that extra semicolon.
&gt; &gt; &gt;
&gt; &gt; &gt; Tidyrc used:
&gt; &gt; &gt;     --indent-columns=4               # size of indentation
&gt; &gt; &gt;     --nt                             # no tabs
&gt; &gt; &gt;     --continuation-indentation=4     # indentation of wrapped lines
&gt; &gt; &gt;     --maximum-line-length=0          # max line length before wrapping
&gt; &gt; &gt; &#40;turn it off&#41;
&gt; &gt; &gt;     --nooutdent-long-quotes          # do not outdent overly long
</div></div>&gt; quotes
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt;     --paren-tightness=2              # no spacing for parentheses
&gt; &gt; &gt;     --square-bracket-tightness=2     # no spacing for square brackets
&gt; &gt; &gt;     --brace-tightness=2              # no spacing for hash curly braces
&gt; &gt; &gt;     --block-brace-tightness=0        # spacing for coderef curly braces
&gt; &gt; &gt;     --comma-arrow-breakpoints=1      # break long key/value pair lists
&gt; &gt; &gt;     --break-at-old-comma-breakpoints # this attempts to retain list
</div></div>&gt; break
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; points
&gt; &gt; &gt;     --no-blanks-before-comments      # do not insert blank lines before
&gt; &gt; &gt; comments
&gt; &gt; &gt;     --indent-spaced-block-comments   # no blanks before comments
&gt; &gt; &gt;     --nocuddled-else                 # Do not cuddle else
&gt; &gt; &gt;     --nospace-for-semicolon          # no space before semicolons in
</div>&gt; &gt; loops
<div class="message-stanza open">&gt; &gt; &gt;     --nospace-terminal-semicolon     # no space before termonal
</div>&gt; &gt; semicolons
<div class="message-stanza open">&gt; &gt; &gt;     --notrim-qw                      # Do not mess with qw{} whitespace
&gt; &gt; &gt;
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1370036/727413/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727413">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1370038" href="/Public/Bug/Display.html?id=95419#txn-1370038">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;30&nbsp;10:47:53&nbsp;2014</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1370038/727415/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727415">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 87b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ll close this ticket since the problem does not occur in the latest version. -- Steve
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1370040" href="/Public/Bug/Display.html?id=95419#txn-1370040">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;30&nbsp;10:47:54&nbsp;2014</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1370042" href="/Public/Bug/Display.html?id=95419#txn-1370042">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;30&nbsp;10:49:32&nbsp;2014</span>
    <span class="description">chad.granum [...] dreamhost.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95419] perltidy incorrectly assumes &#39;case&#39; is special</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 May 2014 07:49:21 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad Granum &lt;chad.granum [...] dreamhost.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1370042/727419/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727419">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 279b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, sorry for the trouble!


On Fri, May 30, 2014 at 7:47 AM, Steve Hancock via RT &lt;
bug-Perl-Tidy@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95419">https://rt.cpan.org/Ticket/Display.html?id=95419</a></span> &gt;
&gt;
&gt; I&#39;ll close this ticket since the problem does not occur in the latest
&gt; version. -- Steve
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1370042/727420/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727420">with headers</a>
<br />
<span class="downloadcontenttype">text/html 674b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.505535</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
