<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #121959 for Perl-Tidy: PERLTIDY doesn&#39;t seem to honor .../</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #121959 for Perl-Tidy: PERLTIDY doesn&#39;t seem to honor .../</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Tidy">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Tidy">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Tidy">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Tidy">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Tidy">Perl-Tidy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">121959</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Tidy">Perl-Tidy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jwittkoski [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25260-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25261-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=121959">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1730818" href="/Public/Bug/Display.html?id=121959#txn-1730818">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;01&nbsp;23:17:50&nbsp;2017</span>
    <span class="description">jwittkoski [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PERLTIDY doesn&#39;t seem to honor .../</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 1 Jun 2017 23:17:37 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Wittkoski &lt;jwittkoski [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1730818/930669/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930669">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 327b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">With a directory layout like:

project
project/.perltidyrc
project/lib

When working in the project/lib directory, this finds the
project/.perltidyrc:

perltidy --pro=.../.perltidyrc -dpro

But this doesn&#39;t:

PERLTIDY=.../.perltidyrc perltidy -dpro
Shouldn&#39;t the .../ notation be honored when seen in the environment
variable?
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1730818/930670/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930670">with headers</a>
<br />
<span class="downloadcontenttype">text/html 639b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1731071" href="/Public/Bug/Display.html?id=121959#txn-1731071">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;03&nbsp;20:25:41&nbsp;2017</span>
    <span class="description">s7078hancock [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #121959] PERLTIDY doesn&#39;t seem to honor .../</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Jun 2017 17:25:21 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Hancock &lt;s7078hancock [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731071/930826/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930826">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">John,
1: Do you really want three dots before the slash instead of two?
2: The PERLTIDY envirnoment variable indicates the perltidyrc file or
directory, not the entire command.  So even with two dots, your
example would not work.
Steve

On 6/1/17, John Wittkoski via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Jun 01 23:17:50 2017: Request 121959 was acted upon.
&gt; Transaction: Ticket created by jwittkoski@gmail.com
&gt;        Queue: Perl-Tidy
&gt;      Subject: PERLTIDY doesn&#39;t seem to honor .../
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: jwittkoski@gmail.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;
&gt;
&gt; With a directory layout like:
&gt;
&gt; project
&gt; project/.perltidyrc
&gt; project/lib
&gt;
&gt; When working in the project/lib directory, this finds the
&gt; project/.perltidyrc:
&gt;
&gt; perltidy --pro=.../.perltidyrc -dpro
&gt;
&gt; But this doesn&#39;t:
&gt;
&gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt; Shouldn&#39;t the .../ notation be honored when seen in the environment
&gt; variable?
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1731072" href="/Public/Bug/Display.html?id=121959#txn-1731072">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;03&nbsp;20:25:41&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1731075" href="/Public/Bug/Display.html?id=121959#txn-1731075">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;03&nbsp;23:45:44&nbsp;2017</span>
    <span class="description">jwittkoski [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #121959] PERLTIDY doesn&#39;t seem to honor .../</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Jun 2017 23:45:17 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Wittkoski &lt;jwittkoski [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731075/930830/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930830">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Steve,
1. Yes, the three dots was intentional. The documentation for the perltidy
-profile option &#40;
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/distribution/Perl-Tidy/bin/perltidy&#41;">https://metacpan.org/pod/distribution/Perl-Tidy/bin/perltidy&#41;</a></span> states:

&#34;A pathname begins with three dots, e.g. &#34;.../.perltidyrc&#34;, indicates that
the file should be searched for starting in the current directory and
working upwards. This makes it easier to have multiple projects each with
their own .perltidyrc in their root directories.&#34;

&#40;See also the second entry in Perl::Tidy&#39;s CHANGES file dated &#34;2010 12 17&#34;&#41;

Because the PERLTIDY environment variable is another way to specify the
profile file to use, I expected it to understand the same notation. The
example commands were meant to show that it does not behave the same way.

Basically, by setting PERLTIDY to &#34;.../.perltidyrc&#34; I would expect it to
find the .perltidyrc file in the root of my project even when I am in a sub
&#40;or sub sub... etc&#41; directory.

2. When using shell syntax this line:

PERLTIDY=.../.perltidyrc perltidy -dpro
Does not mean: set PERLTIDY to the value &#39;.../.perltidyrc perltidy -dpro&#39;

It means: set PERLTIDY to the value &#39;.../.perltidyrc&#39; and then run the
command &#39;perltidy -dpro&#39;

Essentially it is the same as saying:

export PERLTIDY=.../.perltidyrc
perltidy -dpro

But allows you to do it on a single line.


John



On Sat, Jun 3, 2017 at 8:25 PM, Steven Hancock via RT &lt;
bug-Perl-Tidy@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;
&gt; John,
&gt; 1: Do you really want three dots before the slash instead of two?
&gt; 2: The PERLTIDY envirnoment variable indicates the perltidyrc file or
&gt; directory, not the entire command.  So even with two dots, your
&gt; example would not work.
&gt; Steve
&gt;
&gt; On 6/1/17, John Wittkoski via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; Thu Jun 01 23:17:50 2017: Request 121959 was acted upon.
&gt; &gt; Transaction: Ticket created by jwittkoski@gmail.com
&gt; &gt;        Queue: Perl-Tidy
&gt; &gt;      Subject: PERLTIDY doesn&#39;t seem to honor .../
&gt; &gt;    Broken in: &#40;no value&#41;
&gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: jwittkoski@gmail.com
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; With a directory layout like:
&gt; &gt;
&gt; &gt; project
&gt; &gt; project/.perltidyrc
&gt; &gt; project/lib
&gt; &gt;
&gt; &gt; When working in the project/lib directory, this finds the
&gt; &gt; project/.perltidyrc:
&gt; &gt;
&gt; &gt; perltidy --pro=.../.perltidyrc -dpro
&gt; &gt;
&gt; &gt; But this doesn&#39;t:
&gt; &gt;
&gt; &gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt; &gt; Shouldn&#39;t the .../ notation be honored when seen in the environment
&gt; &gt; variable?
&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731075/930831/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930831">with headers</a>
<br />
<span class="downloadcontenttype">text/html 6.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1731080" href="/Public/Bug/Display.html?id=121959#txn-1731080">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;04&nbsp;00:04:45&nbsp;2017</span>
    <span class="description">jwittkoski [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #121959] PERLTIDY doesn&#39;t seem to honor .../</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Jun 2017 00:04:30 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Wittkoski &lt;jwittkoski [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731080/930836/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930836">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Steve,
Sorry for the abbreviated example in the original report. Below is a full
series of shell commands showing that the &#34;.../&#34; notation is recognized and
finds the expected .perltidyrc file when using the --profile option but not
when the same value is specified using the PERLTIDY environment variable.

John


mkdir project

cd project

echo &#34;# empty profile file&#34; &gt; .perltidyrc

mkdir lib

cd lib

perltidy --profile=.../.perltidyrc -dpro

# Dump of file: &#39;/Users/john.wittkoski/perltidy.example/project/.perltidyrc&#39;

# empty profile file

export PERLTIDY=.../.perltidyrc

perltidy -dpro

# Config file search...system reported as: darwin

# Testing: .perltidyrc

# Examining: $ENV{PERLTIDY} = .../.perltidyrc

# Testing: .../.perltidyrc

# Testing: .../.perltidyrc/.perltidyrc

# Examining: $ENV{HOME} = /Users/jwittkoski

# Testing: /Users/jwittkoski/.perltidyrc

# Testing: /usr/local/etc/perltidyrc

# Testing: /etc/perltidyrc

# ...no config file found




On Sat, Jun 3, 2017 at 11:45 PM, John Wittkoski &lt;jwittkoski@gmail.com&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Steve,
&gt; 1. Yes, the three dots was intentional. The documentation for the perltidy
&gt; -profile option &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/distribution/Perl-Tidy/bin/">https://metacpan.org/pod/distribution/Perl-Tidy/bin/</a></span>
&gt; perltidy&#41; states:
&gt;
&gt; &#34;A pathname begins with three dots, e.g. &#34;.../.perltidyrc&#34;, indicates
&gt; that the file should be searched for starting in the current directory and
&gt; working upwards. This makes it easier to have multiple projects each with
&gt; their own .perltidyrc in their root directories.&#34;
&gt;
&gt; &#40;See also the second entry in Perl::Tidy&#39;s CHANGES file dated &#34;2010 12
&gt; 17&#34;&#41;
&gt;
&gt; Because the PERLTIDY environment variable is another way to specify the
&gt; profile file to use, I expected it to understand the same notation. The
&gt; example commands were meant to show that it does not behave the same way.
&gt;
&gt; Basically, by setting PERLTIDY to &#34;.../.perltidyrc&#34; I would expect it to
&gt; find the .perltidyrc file in the root of my project even when I am in a sub
&gt; &#40;or sub sub... etc&#41; directory.
&gt;
&gt; 2. When using shell syntax this line:
&gt;
&gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt; Does not mean: set PERLTIDY to the value &#39;.../.perltidyrc perltidy -dpro&#39;
&gt;
&gt; It means: set PERLTIDY to the value &#39;.../.perltidyrc&#39; and then run the
&gt; command &#39;perltidy -dpro&#39;
&gt;
&gt; Essentially it is the same as saying:
&gt;
&gt; export PERLTIDY=.../.perltidyrc
&gt; perltidy -dpro
&gt;
&gt; But allows you to do it on a single line.
&gt;
&gt;
&gt; John
&gt;
&gt;
&gt;
&gt; On Sat, Jun 3, 2017 at 8:25 PM, Steven Hancock via RT &lt;
&gt; bug-Perl-Tidy@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;&gt;
&gt;&gt; John,
&gt;&gt; 1: Do you really want three dots before the slash instead of two?
&gt;&gt; 2: The PERLTIDY envirnoment variable indicates the perltidyrc file or
&gt;&gt; directory, not the entire command.  So even with two dots, your
&gt;&gt; example would not work.
&gt;&gt; Steve
&gt;&gt;
&gt;&gt; On 6/1/17, John Wittkoski via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt; &gt; Thu Jun 01 23:17:50 2017: Request 121959 was acted upon.
&gt;&gt; &gt; Transaction: Ticket created by jwittkoski@gmail.com
&gt;&gt; &gt;        Queue: Perl-Tidy
&gt;&gt; &gt;      Subject: PERLTIDY doesn&#39;t seem to honor .../
&gt;&gt; &gt;    Broken in: &#40;no value&#41;
&gt;&gt; &gt;     Severity: &#40;no value&#41;
&gt;&gt; &gt;        Owner: Nobody
&gt;&gt; &gt;   Requestors: jwittkoski@gmail.com
&gt;&gt; &gt;       Status: new
&gt;&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; With a directory layout like:
&gt;&gt; &gt;
&gt;&gt; &gt; project
&gt;&gt; &gt; project/.perltidyrc
&gt;&gt; &gt; project/lib
&gt;&gt; &gt;
&gt;&gt; &gt; When working in the project/lib directory, this finds the
&gt;&gt; &gt; project/.perltidyrc:
&gt;&gt; &gt;
&gt;&gt; &gt; perltidy --pro=.../.perltidyrc -dpro
&gt;&gt; &gt;
&gt;&gt; &gt; But this doesn&#39;t:
&gt;&gt; &gt;
&gt;&gt; &gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt;&gt; &gt; Shouldn&#39;t the .../ notation be honored when seen in the environment
&gt;&gt; &gt; variable?
&gt;&gt; &gt;
&gt;&gt; &gt;
</div>&gt;&gt;
&gt;&gt;
</div>&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731080/930837/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930837">with headers</a>
<br />
<span class="downloadcontenttype">text/html 9.1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1731137" href="/Public/Bug/Display.html?id=121959#txn-1731137">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;04&nbsp;10:45:56&nbsp;2017</span>
    <span class="description">s7078hancock [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #121959] PERLTIDY doesn&#39;t seem to honor .../</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Jun 2017 07:45:40 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Hancock &lt;s7078hancock [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1731137/930867/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/930867">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi John,
Okay, I&#39;m in sync with you now. I had forgotten about that option. I
agree and will add it to the next release.
Thanks,
Steve

On 6/3/17, John Wittkoski via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Perl-Tidy
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;
&gt; Steve,
&gt; Sorry for the abbreviated example in the original report. Below is a full
&gt; series of shell commands showing that the &#34;.../&#34; notation is recognized and
&gt; finds the expected .perltidyrc file when using the --profile option but not
&gt; when the same value is specified using the PERLTIDY environment variable.
&gt;
&gt; John
&gt;
&gt;
&gt; mkdir project
&gt;
&gt; cd project
&gt;
&gt; echo &#34;# empty profile file&#34; &gt; .perltidyrc
&gt;
&gt; mkdir lib
&gt;
&gt; cd lib
&gt;
&gt; perltidy --profile=.../.perltidyrc -dpro
&gt;
&gt; # Dump of file:
&gt; &#39;/Users/john.wittkoski/perltidy.example/project/.perltidyrc&#39;
&gt;
&gt; # empty profile file
&gt;
&gt; export PERLTIDY=.../.perltidyrc
&gt;
&gt; perltidy -dpro
&gt;
&gt; # Config file search...system reported as: darwin
&gt;
&gt; # Testing: .perltidyrc
&gt;
&gt; # Examining: $ENV{PERLTIDY} = .../.perltidyrc
&gt;
&gt; # Testing: .../.perltidyrc
&gt;
&gt; # Testing: .../.perltidyrc/.perltidyrc
&gt;
&gt; # Examining: $ENV{HOME} = /Users/jwittkoski
&gt;
&gt; # Testing: /Users/jwittkoski/.perltidyrc
&gt;
&gt; # Testing: /usr/local/etc/perltidyrc
&gt;
&gt; # Testing: /etc/perltidyrc
&gt;
&gt; # ...no config file found
&gt;
&gt;
&gt;
&gt;
&gt; On Sat, Jun 3, 2017 at 11:45 PM, John Wittkoski &lt;jwittkoski@gmail.com&gt;
&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt; Steve,
&gt;&gt; 1. Yes, the three dots was intentional. The documentation for the
&gt;&gt; perltidy
&gt;&gt; -profile option &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/distribution/Perl-Tidy/bin/">https://metacpan.org/pod/distribution/Perl-Tidy/bin/</a></span>
&gt;&gt; perltidy&#41; states:
&gt;&gt;
&gt;&gt; &#34;A pathname begins with three dots, e.g. &#34;.../.perltidyrc&#34;, indicates
&gt;&gt; that the file should be searched for starting in the current directory
&gt;&gt; and
&gt;&gt; working upwards. This makes it easier to have multiple projects each with
&gt;&gt; their own .perltidyrc in their root directories.&#34;
&gt;&gt;
&gt;&gt; &#40;See also the second entry in Perl::Tidy&#39;s CHANGES file dated &#34;2010 12
&gt;&gt; 17&#34;&#41;
&gt;&gt;
&gt;&gt; Because the PERLTIDY environment variable is another way to specify the
&gt;&gt; profile file to use, I expected it to understand the same notation. The
&gt;&gt; example commands were meant to show that it does not behave the same way.
&gt;&gt;
&gt;&gt; Basically, by setting PERLTIDY to &#34;.../.perltidyrc&#34; I would expect it to
&gt;&gt; find the .perltidyrc file in the root of my project even when I am in a
&gt;&gt; sub
&gt;&gt; &#40;or sub sub... etc&#41; directory.
&gt;&gt;
&gt;&gt; 2. When using shell syntax this line:
&gt;&gt;
&gt;&gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt;&gt; Does not mean: set PERLTIDY to the value &#39;.../.perltidyrc perltidy -dpro&#39;
&gt;&gt;
&gt;&gt; It means: set PERLTIDY to the value &#39;.../.perltidyrc&#39; and then run the
&gt;&gt; command &#39;perltidy -dpro&#39;
&gt;&gt;
&gt;&gt; Essentially it is the same as saying:
&gt;&gt;
&gt;&gt; export PERLTIDY=.../.perltidyrc
&gt;&gt; perltidy -dpro
&gt;&gt;
&gt;&gt; But allows you to do it on a single line.
&gt;&gt;
&gt;&gt;
&gt;&gt; John
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sat, Jun 3, 2017 at 8:25 PM, Steven Hancock via RT &lt;
&gt;&gt; bug-Perl-Tidy@rt.cpan.org&gt; wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; John,
&gt;&gt;&gt; 1: Do you really want three dots before the slash instead of two?
&gt;&gt;&gt; 2: The PERLTIDY envirnoment variable indicates the perltidyrc file or
&gt;&gt;&gt; directory, not the entire command.  So even with two dots, your
&gt;&gt;&gt; example would not work.
&gt;&gt;&gt; Steve
&gt;&gt;&gt;
&gt;&gt;&gt; On 6/1/17, John Wittkoski via RT &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt;&gt; &gt; Thu Jun 01 23:17:50 2017: Request 121959 was acted upon.
&gt;&gt;&gt; &gt; Transaction: Ticket created by jwittkoski@gmail.com
&gt;&gt;&gt; &gt;        Queue: Perl-Tidy
&gt;&gt;&gt; &gt;      Subject: PERLTIDY doesn&#39;t seem to honor .../
&gt;&gt;&gt; &gt;    Broken in: &#40;no value&#41;
&gt;&gt;&gt; &gt;     Severity: &#40;no value&#41;
&gt;&gt;&gt; &gt;        Owner: Nobody
&gt;&gt;&gt; &gt;   Requestors: jwittkoski@gmail.com
&gt;&gt;&gt; &gt;       Status: new
&gt;&gt;&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121959">https://rt.cpan.org/Ticket/Display.html?id=121959</a></span> &gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; With a directory layout like:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; project
&gt;&gt;&gt; &gt; project/.perltidyrc
&gt;&gt;&gt; &gt; project/lib
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; When working in the project/lib directory, this finds the
&gt;&gt;&gt; &gt; project/.perltidyrc:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; perltidy --pro=.../.perltidyrc -dpro
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; But this doesn&#39;t:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; PERLTIDY=.../.perltidyrc perltidy -dpro
&gt;&gt;&gt; &gt; Shouldn&#39;t the .../ notation be honored when seen in the environment
&gt;&gt;&gt; &gt; variable?
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;
</div>&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
</div>&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762189" href="/Public/Bug/Display.html?id=121959#txn-1762189">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;09:50:13&nbsp;2017</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1762189/948376/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/948376">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 34b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is fixed in version 20171214.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1762191" href="/Public/Bug/Display.html?id=121959#txn-1762191">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;14&nbsp;09:50:13&nbsp;2017</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.436299</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
