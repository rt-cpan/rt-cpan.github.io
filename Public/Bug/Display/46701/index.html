<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #46701 for Encode: Incorrect character mapping in Encode::GSM0338</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #46701 for Encode: Incorrect character mapping in Encode::GSM0338</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Encode/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Encode/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Encode/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Encode/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Encode">Encode CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">46701</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Encode/Active/">Encode</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bhawkeslewis [...] googlemail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
pali [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12062-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.33    </td>
  </tr>
  <tr id="CF-12063-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.47    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;06&nbsp;06:03:09&nbsp;2009</span>
    <span class="description">bhawkeslewis [...] googlemail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Incorrect character mapping in Encode::GSM0338</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As you can see from the source code:

<span class="clickylink"><a target="new" rel="nofollow" href="http://cpansearch.perl.org/src/DANKOGAI/Encode-">http://cpansearch.perl.org/src/DANKOGAI/Encode-</a></span>
2.33/lib/Encode/GSM0338.pm

Encode::GSM maps 0x09 in GSM to lowercase c cedilla in Unicode &#40;U+00E7&#41;.

&#34;\x{00E7}&#34; =&gt; &#34;\x09&#34;,        # LATIN SMALL LETTER C WITH CEDILLA

But I think this is wrong.

GSM 03.38 maps the same character to /uppercase/ c cedilla &#40;U+00C7&#41;.

See ETSI TS 100 900 V7.2.0 &#40;1999-07&#41; Digital cellular telecommunications 
system &#40;Phase 2+&#41;; Alphabets and language-specific information &#40;GSM 
03.38 version 7.2.0 Release 1998&#41;, Section 6.2.1 &#40;&#34;Default Alphabet&#34;&#41;:

<span class="clickylink"><a target="new" rel="nofollow" href="http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf">http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf</a></span>

So this line needs changing to:

&#34;\x{00C7}&#34; =&gt; &#34;\x09&#34;,        # LATIN CAPITAL LETTER C WITH CEDILLA
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;09:16:19&nbsp;2009</span>
    <span class="description">DANKOGAI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jun 06 06:03:09 2009, benjaminhawkeslewis wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As you can see from the source code:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpansearch.perl.org/src/DANKOGAI/Encode-">http://cpansearch.perl.org/src/DANKOGAI/Encode-</a></span>
&gt; 2.33/lib/Encode/GSM0338.pm
&gt; 
&gt; Encode::GSM maps 0x09 in GSM to lowercase c cedilla in Unicode &#40;U+00E7&#41;.
&gt; 
&gt; &#34;\x{00E7}&#34; =&gt; &#34;\x09&#34;,        # LATIN SMALL LETTER C WITH CEDILLA
&gt; 
&gt; But I think this is wrong.
&gt; 
&gt; GSM 03.38 maps the same character to /uppercase/ c cedilla &#40;U+00C7&#41;.
&gt; 
&gt; See ETSI TS 100 900 V7.2.0 &#40;1999-07&#41; Digital cellular telecommunications 
&gt; system &#40;Phase 2+&#41;; Alphabets and language-specific information &#40;GSM 
&gt; 03.38 version 7.2.0 Release 1998&#41;, Section 6.2.1 &#40;&#34;Default Alphabet&#34;&#41;:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf">http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf</a></span>
&gt; 
&gt; So this line needs changing to:
&gt; 
&gt; &#34;\x{00C7}&#34; =&gt; &#34;\x09&#34;,        # LATIN CAPITAL LETTER C WITH CEDILLA
</div>
But that conflicts with what

<span class="clickylink"><a target="new" rel="nofollow" href="http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf">http://pda.etsi.org/exchangefolder/ts_100900v070200p.pdf</a></span>

says. Section 6.2.1 just shows the glyph.  No unicode code point.

Dan the Encode Maintainer
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;09:16:19&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;18&nbsp;20:37:34&nbsp;2013</span>
    <span class="description">wiml [...] hhhh.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The Unicode Consortium&#39;s mapping table for GSM 03.38 has this to say on the matter:


#       The ETSI GSM 03.38 specification shows an uppercase C-cedilla
#       glyph at 0x09. This may be the result of limited display
#       capabilities for handling characters with descenders. However, the
#       language coverage intent is clearly for the lowercase c-cedilla, as shown
#       in the mapping below. The mapping for uppercase C-cedilla is shown
#       in a commented line in the mapping table.


The other accented characters in column 0000 of the table are mostly lowercase with no uppercase equivalents elsewhere in the mapping, so who knows.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;09:07:34&nbsp;2020</span>
    <span class="description">pali [...] cpan.org -  Cc PALI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;09:09:00&nbsp;2020</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Just to note that since Encode version 2.47 is GSM0338 byte 0x09 mapped to UNICODE code point U+00C7 &#40;LATIN CAPITAL LETTER C WITH CEDILLA&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;09:13:53&nbsp;2020</span>
    <span class="description">DANKOGAI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/dankogai/p5-encode/pull/149">https://github.com/dankogai/p5-encode/pull/149</a></span>

should resolve all that.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;09:13:54&nbsp;2020</span>
    <span class="description">DANKOGAI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;16:00:43&nbsp;2020</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 18 20:37:34 2013, WIML wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The Unicode Consortium&#39;s mapping table for GSM 03.38 has this to say
&gt; on the matter:
&gt; 
&gt; 
&gt; #       The ETSI GSM 03.38 specification shows an uppercase C-cedilla
&gt; #       glyph at 0x09. This may be the result of limited display
&gt; #       capabilities for handling characters with descenders. However, the
&gt; #       language coverage intent is clearly for the lowercase c-cedilla, as shown
&gt; #       in the mapping below. The mapping for uppercase C-cedilla is shown
&gt; #       in a commented line in the mapping table.
&gt; 
&gt; 
&gt; The other accented characters in column 0000 of the table are mostly
&gt; lowercase with no uppercase equivalents elsewhere in the mapping, so
&gt; who knows.
</div>
I&#39;m afraid, but Unicode Consortium&#39;s mapping table is incorrect here. Maybe older GSM specifications were not clear about this issue &#40;and Unicode Consortium come up with that incorrect interpretation&#41;, but the latest GSM 03.38 specification ETSI TS 123 038 V16.0.0 &#40;2020-07&#41; available at <span class="clickylink"><a target="new" rel="nofollow" href="https://www.etsi.org/deliver/etsi_ts/123000_123099/123038/16.00.00_60/ts_123038v160000p.pdf">https://www.etsi.org/deliver/etsi_ts/123000_123099/123038/16.00.00_60/ts_123038v160000p.pdf</a></span> is clear in fact that Upper case C-cedilla is at the position 0x09 of GSM 7 bit Default Alphabet and lower case C-cedilla is available in some National Single Shift Alphabets. National Single Shift Alphabets are used when requested via escape byte 0x1B. So GSM 03.38 supports both lower case and upper case C-cedilla. Above Unicode Consortium&#39;s mapping table supports only lower case C-cedilla which is limitation due to incorrect interpretation.

Just to note that Encode::GSM0338 currently does not provide National Single Shift Alphabets, therefore it does not support lower case C-cedilla. Indication of National Single Shift Alphabets is out-of-band and therefore National Single Shift Alphabets cannot be implemented directly into Encode::GSM0338 module as Encode API does not provide out-of-band settings when encoding/decoding strings. So the best choice for future implementation of National Single Shift Alphabets and National Locking Shift Alphabets into Encode API would be to provide new encoding modules for every alphabet. E.g. GSM0338-Turkish, GSM0338-Spanish, ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;25&nbsp;16:00:45&nbsp;2020</span>
    <span class="description">pali [...] cpan.org -  Fixed in 2.47 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
