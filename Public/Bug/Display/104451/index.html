<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #104451 for Catalyst-Runtime: Errors using type constraints in Args</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #104451 for Catalyst-Runtime: Errors using type constraints in Args</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Catalyst-Runtime">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Catalyst-Runtime">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Catalyst-Runtime">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Catalyst-Runtime">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Catalyst-Runtime">Catalyst-Runtime CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">104451</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Catalyst-Runtime">Catalyst-Runtime</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
autumn [...] autumnlansing.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-40040-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
5.90090</li>
<li>
5.90091</li>
</ul>
    </td>
  </tr>
  <tr id="CF-40041-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=104451">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1496545" href="/Public/Bug/Display.html?id=104451#txn-1496545">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;14&nbsp;17:38:36&nbsp;2015</span>
    <span class="description">autumn [...] autumnlansing.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Errors using type constraints in Args</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1496545/797125/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/797125">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was looking forward to using type constraints in Args with this new release, but I keep stumbling across the same error message. Following the examples in the Route Matching pod, doing this:

sub item : Chained&#40;&#39;base&#39;&#41; PathPart&#40;&#39;item&#39;&#41; GET Args&#40;&#39;Int&#39;&#41; {
    my &#40; $self, $c, $item &#41; = @_;
    ....
}

results in this error message:

&#39;Int&#39; not a type constraint in /item at /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.

Trying the same method using Types::Standard without quoting the type, as per the documentation, produces the same error. Trying it with multiple type constraints, as per the docs, also turns up a similar error message:

&#39;Int,Int,Str&#39; not a type constraint in /item at /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.

I tried this in two of my Catalyst projects, both with the same result. Thinking the problem might have something to do with other parts of my code, I created a brand-new Catalyst project for testing, using the helper script, and copy-pasted two examples from the docs into the Root controller:

sub find :Path&#40;&#39;&#39;&#41; Args&#40;&#39;Int&#39;&#41; {
    my &#40;$self, $c, $int&#41; = @_;
}

and 

use Types::Standard qw/Int Str/;

sub find :Path&#40;&#39;&#39;&#41; Args&#40;Int,Int,Str&#41; {
    my &#40;$self, $c, $int1, $int2, $str&#41; = @_;
}

I still get the same error messages with both. This happens with Args and CaptureArgs.

I&#39;m far from being a Perl guru, so looking at line 246 of Catalyst::Action, in the resolve_type_constraint method, I&#39;m not sure what&#39;s going on there enough to know where the problem lies.

my @tc = eval &#34;package ${\$self-&gt;class}; $name&#34; or die &#34;&#39;$name&#39; not a type constraint in ${\$self-&gt;private_path}&#34;;

I&#39;ve never seen eval used with &#34;package&#34; and can&#39;t find any explanation of what it does with a Google search &#40;and only a few examples using grep.cpan.me&#41;, so I may be reading this wrong. It seems to be testing whether both the referring package exists and that $name isn&#39;t empty? The die message though seems to indicate that it&#39;s testing whether $name is a valid type constraint, but I don&#39;t see it actually doing that. $name obviously exists, as it&#39;s being returned in the error message, so I&#39;m assuming the package statement is causing the issue?

Also, since using multiple constraint arguments results in &#39;Int,Int,Str&#39; as $name, the die message appears to be even more confusing, as &#39;Int,Int,Str&#39; would certainly never be a valid type constraint.

I&#39;m using Perl 5.20.1 on Linux kernel 3.16.7, openSUSE 13.2 x86_64.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1515744" href="/Public/Bug/Display.html?id=104451#txn-1515744">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;09&nbsp;02:49:05&nbsp;2015</span>
    <span class="description">juan.paredes [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> juan.paredes [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1515744/808398/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/808398">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 579b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">El Jue May 14 17:38:36 2015, autumn@autumnlansing.com escribió:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; sub item : Chained&#40;&#39;base&#39;&#41; PathPart&#40;&#39;item&#39;&#41; GET Args&#40;&#39;Int&#39;&#41; {
&gt;     my &#40; $self, $c, $item &#41; = @_;
&gt;     ....
&gt; }
&gt; 
&gt; results in this error message:
&gt; 
&gt; &#39;Int&#39; not a type constraint in /item at
&gt; /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.
&gt; 
&gt; Trying the same method using Types::Standard without quoting the type,
&gt; as per the documentation, produces the same error.
</div>
Make sure you aren&#39;t using namespace::autoclean on your Controller, as it will remove the imported types from Types::Standard
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1515745" href="/Public/Bug/Display.html?id=104451#txn-1515745">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;09&nbsp;02:49:07&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1530517" href="/Public/Bug/Display.html?id=104451#txn-1530517">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;30&nbsp;08:16:25&nbsp;2015</span>
    <span class="description">https://me.yahoo.com/a/GPQLTshqg8I40rqMZn.WsdSPLg--#3b3c9 -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sgivan [...] yahoo.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1530517/816564/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/816564">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m seeing this bug in the arg_contraints.t:

args [20] do not match the type constraints in action &#39;user&#39; at t/arg_constraints.t line 509.
captures [1 2 3 4 5] do not match the type constraints in actionchain ending with &#39;finally&#39; at t/arg_constraints.t line 523.
args [a] do not match the type constraints in action &#39;finally&#39; at t/arg_constraints.t line 532.
captures [a a 3 4 4] do not match the type constraints in actionchain ending with &#39;finally&#39; at t/arg_constraints.t line 537.
args [1] do not match the type constraints in action &#39;heart&#39; at t/arg_constraints.t line 545.
captures [2] do not match the type constraints in actionchain ending with &#39;utf8_end&#39; at t/arg_constraints.t line 554.
[error] Caught exception in engine &#34;Int is not a constraint! at /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;

#   Failed test at t/arg_constraints.t line 589.
#          got: &#39;Bad Request&#39;
#     expected: &#39;an_int &#40;withrole&#41;&#39;
[error] Caught exception in engine &#34;Int is not a constraint! at /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;

#   Failed test at t/arg_constraints.t line 594.
#          got: &#39;Bad Request&#39;
#     expected: &#39;from_parent 1&#39;
# Looks like you failed 2 tests of 69.


I&#39;m using perl 5.12.2 on freeBSD.

#   Failed test at t/arg_constraints.t line 589.
#          got: &#39;Bad Request&#39;
#     expected: &#39;an_int &#40;withrole&#41;&#39;
[error] Caught exception in engine &#34;Int is not a constraint! at /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;

#   Failed test at t/arg_constraints.t line 594.
#          got: &#39;Bad Request&#39;
#     expected: &#39;from_parent 1&#39;
# Looks like you failed 2 tests of 69.


On Thu Jul 09 02:49:05 2015, jparedes wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; El Jue May 14 17:38:36 2015, autumn@autumnlansing.com escribió:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; sub item : Chained&#40;&#39;base&#39;&#41; PathPart&#40;&#39;item&#39;&#41; GET Args&#40;&#39;Int&#39;&#41; {
&gt; &gt;     my &#40; $self, $c, $item &#41; = @_;
&gt; &gt;     ....
&gt; &gt; }
&gt; &gt;
&gt; &gt; results in this error message:
&gt; &gt;
&gt; &gt; &#39;Int&#39; not a type constraint in /item at
&gt; &gt; /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.
&gt; &gt;
&gt; &gt; Trying the same method using Types::Standard without quoting the
&gt; &gt; type,
&gt; &gt; as per the documentation, produces the same error.
</div>&gt; 
&gt; Make sure you aren&#39;t using namespace::autoclean on your Controller, as
&gt; it will remove the imported types from Types::Standard
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1530580" href="/Public/Bug/Display.html?id=104451#txn-1530580">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;30&nbsp;13:23:02&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1530580/816595/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/816595">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-08-30 08:16:25, <span class="clickylink"><a target="new" rel="nofollow" href="https://me.yahoo.com/a/GPQLTshqg8I40rqMZn.WsdSPLg--#3b3c9">https://me.yahoo.com/a/GPQLTshqg8I40rqMZn.WsdSPLg--#3b3c9</a></span> wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m seeing this bug in the arg_contraints.t:
&gt; 
&gt; args [20] do not match the type constraints in action &#39;user&#39; at
&gt; t/arg_constraints.t line 509.
&gt; captures [1 2 3 4 5] do not match the type constraints in actionchain
&gt; ending with &#39;finally&#39; at t/arg_constraints.t line 523.
&gt; args [a] do not match the type constraints in action &#39;finally&#39; at
&gt; t/arg_constraints.t line 532.
&gt; captures [a a 3 4 4] do not match the type constraints in actionchain
&gt; ending with &#39;finally&#39; at t/arg_constraints.t line 537.
&gt; args [1] do not match the type constraints in action &#39;heart&#39; at
&gt; t/arg_constraints.t line 545.
&gt; captures [2] do not match the type constraints in actionchain ending
&gt; with &#39;utf8_end&#39; at t/arg_constraints.t line 554.
&gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; 
&gt; #   Failed test at t/arg_constraints.t line 589.
&gt; #          got: &#39;Bad Request&#39;
&gt; #     expected: &#39;an_int &#40;withrole&#41;&#39;
&gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; 
&gt; #   Failed test at t/arg_constraints.t line 594.
&gt; #          got: &#39;Bad Request&#39;
&gt; #     expected: &#39;from_parent 1&#39;
&gt; # Looks like you failed 2 tests of 69.
&gt; 
&gt; 
&gt; I&#39;m using perl 5.12.2 on freeBSD.
&gt; 
&gt; #   Failed test at t/arg_constraints.t line 589.
&gt; #          got: &#39;Bad Request&#39;
&gt; #     expected: &#39;an_int &#40;withrole&#41;&#39;
&gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; 
&gt; #   Failed test at t/arg_constraints.t line 594.
&gt; #          got: &#39;Bad Request&#39;
&gt; #     expected: &#39;from_parent 1&#39;
&gt; # Looks like you failed 2 tests of 69.
&gt; 
</div>
I see the same problem on a linux system &#40;debian/wheezy&#41;, perl 5.14.4.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; On Thu Jul 09 02:49:05 2015, jparedes wrote:
<div class="message-stanza open">&gt; &gt; El Jue May 14 17:38:36 2015, autumn@autumnlansing.com escribió:
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; sub item : Chained&#40;&#39;base&#39;&#41; PathPart&#40;&#39;item&#39;&#41; GET Args&#40;&#39;Int&#39;&#41; {
&gt; &gt; &gt;     my &#40; $self, $c, $item &#41; = @_;
&gt; &gt; &gt;     ....
&gt; &gt; &gt; }
&gt; &gt; &gt;
&gt; &gt; &gt; results in this error message:
&gt; &gt; &gt;
&gt; &gt; &gt; &#39;Int&#39; not a type constraint in /item at
&gt; &gt; &gt; /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.
&gt; &gt; &gt;
&gt; &gt; &gt; Trying the same method using Types::Standard without quoting the
&gt; &gt; &gt; type,
&gt; &gt; &gt; as per the documentation, produces the same error.
</div>&gt; &gt;
&gt; &gt; Make sure you aren&#39;t using namespace::autoclean on your Controller,
&gt; &gt; as
&gt; &gt; it will remove the imported types from Types::Standard
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1549410" href="/Public/Bug/Display.html?id=104451#txn-1549410">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;29&nbsp;16:38:52&nbsp;2015</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1549410/827300/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/827300">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can people verify they still have errors like this?  We&#39;ve done a bunch of updates over the past few months and also updated the route matching pod with more help.   Please review and close ticket if its all good

On Sun Aug 30 13:23:02 2015, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2015-08-30 08:16:25,
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://me.yahoo.com/a/GPQLTshqg8I40rqMZn.WsdSPLg--#3b3c9">https://me.yahoo.com/a/GPQLTshqg8I40rqMZn.WsdSPLg--#3b3c9</a></span> wrote:
<div class="message-stanza open">&gt; &gt; I&#39;m seeing this bug in the arg_contraints.t:
&gt; &gt;
&gt; &gt; args [20] do not match the type constraints in action &#39;user&#39; at
&gt; &gt; t/arg_constraints.t line 509.
&gt; &gt; captures [1 2 3 4 5] do not match the type constraints in actionchain
&gt; &gt; ending with &#39;finally&#39; at t/arg_constraints.t line 523.
&gt; &gt; args [a] do not match the type constraints in action &#39;finally&#39; at
&gt; &gt; t/arg_constraints.t line 532.
&gt; &gt; captures [a a 3 4 4] do not match the type constraints in actionchain
&gt; &gt; ending with &#39;finally&#39; at t/arg_constraints.t line 537.
&gt; &gt; args [1] do not match the type constraints in action &#39;heart&#39; at
&gt; &gt; t/arg_constraints.t line 545.
&gt; &gt; captures [2] do not match the type constraints in actionchain ending
&gt; &gt; with &#39;utf8_end&#39; at t/arg_constraints.t line 554.
&gt; &gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; &gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; &gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; &gt;
&gt; &gt; #   Failed test at t/arg_constraints.t line 589.
&gt; &gt; #          got: &#39;Bad Request&#39;
&gt; &gt; #     expected: &#39;an_int &#40;withrole&#41;&#39;
&gt; &gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; &gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; &gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; &gt;
&gt; &gt; #   Failed test at t/arg_constraints.t line 594.
&gt; &gt; #          got: &#39;Bad Request&#39;
&gt; &gt; #     expected: &#39;from_parent 1&#39;
&gt; &gt; # Looks like you failed 2 tests of 69.
&gt; &gt;
&gt; &gt;
&gt; &gt; I&#39;m using perl 5.12.2 on freeBSD.
&gt; &gt;
&gt; &gt; #   Failed test at t/arg_constraints.t line 589.
&gt; &gt; #          got: &#39;Bad Request&#39;
&gt; &gt; #     expected: &#39;an_int &#40;withrole&#41;&#39;
&gt; &gt; [error] Caught exception in engine &#34;Int is not a constraint! at
&gt; &gt; /usr/home/xxxx/.cpan/build/Catalyst-Runtime-5.90100-
&gt; &gt; rjVccJ/blib/lib/Catalyst/Action.pm line 153.&#34;
&gt; &gt;
&gt; &gt; #   Failed test at t/arg_constraints.t line 594.
&gt; &gt; #          got: &#39;Bad Request&#39;
&gt; &gt; #     expected: &#39;from_parent 1&#39;
&gt; &gt; # Looks like you failed 2 tests of 69.
&gt; &gt;
</div>&gt; 
&gt; I see the same problem on a linux system &#40;debian/wheezy&#41;, perl 5.14.4.
&gt; 
<div class="message-stanza open">&gt; &gt;
&gt; &gt; On Thu Jul 09 02:49:05 2015, jparedes wrote:
<div class="message-stanza open">&gt; &gt; &gt; El Jue May 14 17:38:36 2015, autumn@autumnlansing.com escribió:
<div class="message-stanza open">&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; sub item : Chained&#40;&#39;base&#39;&#41; PathPart&#40;&#39;item&#39;&#41; GET Args&#40;&#39;Int&#39;&#41; {
&gt; &gt; &gt; &gt;     my &#40; $self, $c, $item &#41; = @_;
&gt; &gt; &gt; &gt;     ....
&gt; &gt; &gt; &gt; }
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; results in this error message:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &#39;Int&#39; not a type constraint in /item at
&gt; &gt; &gt; &gt; /home/autumn/perl5/lib/perl5/Catalyst/Action.pm line 246.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Trying the same method using Types::Standard without quoting the
&gt; &gt; &gt; &gt; type,
&gt; &gt; &gt; &gt; as per the documentation, produces the same error.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Make sure you aren&#39;t using namespace::autoclean on your Controller,
&gt; &gt; &gt; as
&gt; &gt; &gt; it will remove the imported types from Types::Standard
</div></div></div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.370409</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
