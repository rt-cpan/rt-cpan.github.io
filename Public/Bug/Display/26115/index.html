<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #26115 for Test-Deep: Test::Deep breaks -&gt;isa&#40;&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #26115 for Test-Deep: Test::Deep breaks -&gt;isa&#40;&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Deep">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Deep">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Deep">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Deep">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://github.com/rjbs/Test-Deep/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Deep">Test-Deep CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">26115</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Deep">Test-Deep</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jdhedden [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-31370-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.096    </td>
  </tr>
  <tr id="CF-31371-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test_deep_isa_bug.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/306589/139292/test_deep_isa_bug.pl">
Thu Apr 05 09:32:31 2007 (338b) by jdhedden [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=26115">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306589" href="/Public/Bug/Display.html?id=26115#txn-306589">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;09:32:30&nbsp;2007</span>
    <span class="description">jdhedden [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test::Deep breaks -&gt;isa&#40;&#41;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/306589/139289/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139289">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 489b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Test::Deep causes main-&gt;isa&#40;&#39;Foo&#39;&#41; to return true.  The attached script
produces the following output:

1..2
ok 1 - &#39;main&#39; is not a &#39;Foo&#39; before using Test::Deep
not ok 2 - &#39;main&#39; should not be a &#39;Foo&#39; after using Test::Deep
#   Failed test &#39;&#39;main&#39; should not be a &#39;Foo&#39; after using Test::Deep&#39;
#   at ./bug.pl line 14.
# &#39;main-&gt;isa&#40;&#39;Foo&#39;&#41;&#39; yields: Test::Deep::Isa=HASH&#40;0x10194378&#41;
# Looks like you failed 1 test of 2.

This problem was identified in: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpanforum.com/threads/4765">http://www.cpanforum.com/threads/4765</a></span>
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test_deep_isa_bug.pl</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/306589/139292/test_deep_isa_bug.pl">Download test_deep_isa_bug.pl</a><br />
<span class="downloadcontenttype">text/x-perl 338b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl

use strict;
use warnings;

use Test::More tests =&gt; 2;

BEGIN {
    ok&#40;! main-&gt;isa&#40;&#39;Foo&#39;&#41;, q/&#39;main&#39; is not a &#39;Foo&#39; before using Test::Deep/&#41;;
}

use Test::Deep;

ok&#40;! main-&gt;isa&#40;&#39;Foo&#39;&#41;, q/&#39;main&#39; should not be a &#39;Foo&#39; after using Test::Deep/&#41;;
diag&#40;&#34;&#39;main-&gt;isa&#40;&#39;Foo&#39;&#41;&#39; yields: &#34; . main-&gt;isa&#40;&#39;Foo&#39;&#41;&#41;;

# EOF
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306603" href="/Public/Bug/Display.html?id=26115#txn-306603">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;10:55:49&nbsp;2007</span>
    <span class="description">FDALY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/306603/139298/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139298">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 418b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, this is unfortunate, although why anyone would be calling -&gt;isa on
main I don&#39;t know.

It&#39;s easy to work around this by doing

use Test::Deep &#40;&#41;;

or

use Test::Deep qw&#40; only the functions I want &#41;;

both of these will prevent &#38;isa being poked into your namespace.

Removing &#38;isa from the default export list is not an option as it would
break existing code.

I&#39;ll add a note in the docs next time I do a release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306604" href="/Public/Bug/Display.html?id=26115#txn-306604">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;10:56:08&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306606" href="/Public/Bug/Display.html?id=26115#txn-306606">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;10:56:17&nbsp;2007</span>
    <span class="description">FDALY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306607" href="/Public/Bug/Display.html?id=26115#txn-306607">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;11:07:39&nbsp;2007</span>
    <span class="description">jdhedden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> JDHEDDEN [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/306607/139300/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139300">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 291b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, this is unfortunate, although why anyone would be
&gt; calling -&gt;isa on main I don&#39;t know.
</div>
The conflict occurs with Devel::StackTrace which does some
tests on all the levels of the caller&#40;&#41; stack - main being
the last one.  &#40;It occurs at line 61 in StackTrace.pm if
you&#39;re interested.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306608" href="/Public/Bug/Display.html?id=26115#txn-306608">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;11:08:03&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306616" href="/Public/Bug/Display.html?id=26115#txn-306616">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;11:22:48&nbsp;2007</span>
    <span class="description">fergal [...] esatclear.ie -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26115] Test::Deep breaks -&gt;isa&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 5 Apr 2007 16:22:19 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Deep [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Fergal Daly&#34; &lt;fergal [...] esatclear.ie&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/306616/139306/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139306">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 133b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">That&#39;s intersting. I&#39;d call that a questionable practice but then
again, it&#39;s useful and  there&#39;s no alternative to doing it either.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306707" href="/Public/Bug/Display.html?id=26115#txn-306707">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;23:56:31&nbsp;2007</span>
    <span class="description">jdhedden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> JDHEDDEN [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/306707/139363/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139363">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 279b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 05 11:22:48 2007, fergal@esatclear.ie wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That&#39;s intersting. I&#39;d call that a questionable practice but then
&gt; again, it&#39;s useful and  there&#39;s no alternative to doing it either.
</div>
Out of curiosity, why is it that your code breaks -&gt;isa, and why can&#39;t
you &#39;fix&#39; it?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-306741" href="/Public/Bug/Display.html?id=26115#txn-306741">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;04:15:43&nbsp;2007</span>
    <span class="description">fergal [...] esatclear.ie -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26115] Test::Deep breaks -&gt;isa&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 09:15:28 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Deep [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Fergal Daly&#34; &lt;fergal [...] esatclear.ie&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/306741/139385/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/139385">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 971b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">My code doesn&#39;t &#34;break&#34; isa. When you define an isa subroutine in a
class, it has a special meaning but I&#39;m not defining it in a class,
I&#39;m just defining it in a normal package where it should be called as
a function, not as a method, this is perfectly valid perl. The same
goes for can&#40;&#41; and does&#40;&#41; subroutines. They only have a special with
relation to classes.

The problem is that Devel::StackTrace calls -&gt;isa&#40;&#41; on _all_ of the
packages it sees in the stack, whether they&#39;re classes or not &#40;a more
fundamental problem with Perl is that there&#39;s no way to tell&#41;.

The reason I won&#39;t change Test::Deep is because the existing users of
Test::Deep have written their tests expecting it to export isa. If it
stopped, these test scripts would break and modules authors would
receive bug reports and have to make new releases etc etc.

I will however file a bug against Devel::StackTrace and see if we can
work out something better than calling -&gt;isa on everything it sees.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376673" href="/Public/Bug/Display.html?id=26115#txn-376673">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;19:51:03&nbsp;2007</span>
    <span class="description">FDALY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/376673/171929/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/171929">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 108b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Couldn&#39;t work something out with Devel::Stacktrace but I can&#39;t
changeTest::Deep either so I&#39;m closing this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376675" href="/Public/Bug/Display.html?id=26115#txn-376675">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;19:51:05&nbsp;2007</span>
    <span class="description">FDALY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-469321" href="/Public/Bug/Display.html?id=26115#txn-469321">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;07:23:40&nbsp;2008</span>
    <span class="description">FDALY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/469321/231407/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/231407">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 225b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As of 0.103 &#40;just released&#41;, isa&#40;&#41; will behave as
UNIVERSAL::isa&#40;&#41; when called with 2 arguments and as regular
Test::Deep::isa when called with 1. It&#39;s somewhat ugly but should clear
up this problem without breaking old code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-469322" href="/Public/Bug/Display.html?id=26115#txn-469322">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;07:23:42&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-573615" href="/Public/Bug/Display.html?id=26115#txn-573615">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;05&nbsp;17:59:30&nbsp;2009</span>
    <span class="description">FDALY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/573615/289551/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/289551">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 19b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">jusr resolving this
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-573617" href="/Public/Bug/Display.html?id=26115#txn-573617">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;05&nbsp;17:59:31&nbsp;2009</span>
    <span class="description">FDALY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-828932" href="/Public/Bug/Display.html?id=26115#txn-828932">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;09&nbsp;09:27:48&nbsp;2010</span>
    <span class="description">icestar [...] inbox.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> icestar [...] inbox.ru</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/828932/429416/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/429416">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 366b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Mar 05 17:59:30 2009, FDALY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; jusr resolving this
</div>
Hello.
I&#39;ve got a lot of warnings from UNIVERSAL::isa module like:
&#34;Called UNIVERSAL::isa&#40;&#41; as a function, not a method&#34;
They go from Devel::StackTrace module.
Maybe you should not export and override the isa method in the main 
package by default? One day you should decide to remove deprecated code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-828935" href="/Public/Bug/Display.html?id=26115#txn-828935">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;09&nbsp;09:27:49&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1089730" href="/Public/Bug/Display.html?id=26115#txn-1089730">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;13&nbsp;15:14:46&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1089730/572835/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/572835">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 84b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I suspect this may be fixed now, with the recentish changes to how isa&#40;&#41;
is handled?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1089738" href="/Public/Bug/Display.html?id=26115#txn-1089738">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;13&nbsp;15:28:49&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1089738/572838/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/572838">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 497b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Sep 09 09:27:48 2010, Alien wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Mar 05 17:59:30 2009, FDALY wrote:
<div class="message-stanza open">&gt; &gt; jusr resolving this
</div>&gt; 
&gt; Hello.
&gt; I&#39;ve got a lot of warnings from UNIVERSAL::isa module like:
&gt; &#34;Called UNIVERSAL::isa&#40;&#41; as a function, not a method&#34;
&gt; They go from Devel::StackTrace module.
&gt; Maybe you should not export and override the isa method in the main 
&gt; package by default? One day you should decide to remove deprecated code.
</div>
UNIVERSAL::isaâ€™s warnings are more often than not false positives.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1090758" href="/Public/Bug/Display.html?id=26115#txn-1090758">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;16&nbsp;12:24:26&nbsp;2012</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1090758/573268/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/573268">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 344b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Right now, the code does: goto &#38;UNIVERSAL::isa;

I don&#39;t mind replacing it with &#40;shift&#41;-&gt;isa&#40;@_&#41; or something in the future, if any real problem is 
found.

In general, though, I don&#39;t think there is an actual bug, other than &#34;somebody used the 
UNIVERSAL::isa library.&#34;

I will be providing an export set without &#34;isa&#34; sometime soon.

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1090761" href="/Public/Bug/Display.html?id=26115#txn-1090761">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;16&nbsp;12:24:27&nbsp;2012</span>
    <span class="description">rjbs [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.883677</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
