<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42622 for PDF-API2: Many &#34;Called UNIVERSAL::can&#40;&#41; as a function&#34; warnings</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42622 for PDF-API2: Many &#34;Called UNIVERSAL::can&#40;&#41; as a function&#34; warnings</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PDF-API2">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PDF-API2">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PDF-API2">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PDF-API2">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PDF-API2">PDF-API2 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42622</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PDF-API2">PDF-API2</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dfs [...] roaringpenguin.com

<br />
dfs+pause [...] roaringpenguin.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24958-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24959-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Avoid-using-UNIVERSAL-can.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/560142/282776/0001-Avoid-using-UNIVERSAL-can.patch">
Mon Jan 26 15:30:36 2009 (9.7k) by dmo+pause [...] dmo.ca
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=42622">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-544656" href="/Public/Bug/Display.html?id=42622#txn-544656">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;16&nbsp;17:08:15&nbsp;2008</span>
    <span class="description">dfs+pause [...] roaringpenguin.com - Ticket #41766:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/544656/273867/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/273867">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 684b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

In one of my unit tests for a product we&#39;re developing, I get many
errors like this:

Called UNIVERSAL::can&#40;&#41; as a function, not a method at
/usr/share/perl5/PDF/API2/Basic/PDF/Objind.pm line 150


According to &#39;perldoc UNIVERSAL::can&#39;:

       Some authors call methods in the UNIVERSAL class on potential
invocants
       as functions, bypassing any possible overriding.  This is wrong
and you
       should not do it.  Unfortunately, not everyone heeds this warning and
       their bad code can break your good code.

I&#39;m wondering if you can go through and fix all instances of:

    UNIVERSAL::can&#40;$object, &#39;method&#39;&#41;

to be:

    $object-&gt;can&#40;&#39;method&#39;&#41;

Thanks,

David.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-557485" href="/Public/Bug/Display.html?id=42622#txn-557485">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;21&nbsp;16:04:29&nbsp;2009</span>
    <span class="description">dfs+pause [...] roaringpenguin.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Many &#34;Called UNIVERSAL::can&#40;&#41; as a function&#34; warnings</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/557485/281266/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/281266">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 162b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I opened a ticket about this earlier, but I forgot to set the
Subject. :-&#40;  Please see <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Public/Bug/Display.html?id=41766">http://rt.cpan.org/Public/Bug/Display.html?id=41766</a></span>

Regards,

David.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-560142" href="/Public/Bug/Display.html?id=42622#txn-560142">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;26&nbsp;15:30:36&nbsp;2009</span>
    <span class="description">dmo+pause [...] dmo.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/560142/282773/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/282773">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 291b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The attached patch converts

   UNIVERSAL::can&#40;$foo, &#39;method&#39;&#41;

to the more-correct &#40;or, at least, less nagging&#41;

   blessed&#40;$foo&#41; &#38;&#38; $foo-&gt;can&#40;&#39;method&#39;&#41; 

This requires Scalar::Util to obtain &#39;blessed&#39;.  This shouldn&#39;t be a
dependency problem as PDF::API2 relies on other perl 5.8 features.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/560142/282776/0001-Avoid-using-UNIVERSAL-can.patch">Download 0001-Avoid-using-UNIVERSAL-can.patch</a><br />
<span class="downloadcontenttype">text/x-diff 9.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/lib/PDF/API2/Basic/PDF/Array.pm b/lib/PDF/API2/Basic/PDF/Array.pm
index f59f64a..87fb758 100644
--- a/lib/PDF/API2/Basic/PDF/Array.pm
+++ b/lib/PDF/API2/Basic/PDF/Array.pm
@@ -32,6 +32,8 @@ use vars qw&#40;@ISA&#41;;
 use PDF::API2::Basic::PDF::Objind;
 @ISA = qw&#40;PDF::API2::Basic::PDF::Objind&#41;;
 
+use Scalar::Util qw&#40;blessed&#41;;
+
 no warnings qw[ deprecated recursion uninitialized ];
 
 =head1 NAME
@@ -172,7 +174,7 @@ sub copy
     $res-&gt;{&#39; val&#39;} = [];
     foreach $e &#40;@{$self-&gt;{&#39; val&#39;}}&#41;
     {
-        if &#40;UNIVERSAL::can&#40;$e, &#34;is_obj&#34;&#41; &#38;&#38; !$e-&gt;is_obj&#40;$pdf&#41;&#41;
+        if &#40;blessed&#40;$e&#41; &#38;&#38; $e-&gt;can&#40;&#39;is_obj&#39;&#41; &#38;&#38; !$e-&gt;is_obj&#40;$pdf&#41;&#41;
         { push&#40;@{$res-&gt;{&#39; val&#39;}}, $e-&gt;copy&#40;$pdf&#41;&#41;; }
         else
         { push&#40;@{$res-&gt;{&#39; val&#39;}}, $e&#41;; }
diff --git a/lib/PDF/API2/Basic/PDF/File.pm b/lib/PDF/API2/Basic/PDF/File.pm
index a937106..1763cca 100644
--- a/lib/PDF/API2/Basic/PDF/File.pm
+++ b/lib/PDF/API2/Basic/PDF/File.pm
@@ -198,6 +198,7 @@ use PDF::API2::Basic::PDF::String;
 use PDF::API2::Basic::PDF::Page;
 use PDF::API2::Basic::PDF::Pages;
 use PDF::API2::Basic::PDF::Null;
+use Scalar::Util qw&#40;blessed&#41;;
 
 no warnings qw[ deprecated recursion uninitialized ];
 
@@ -358,7 +359,7 @@ sub release
     map { $self-&gt;{$_}=undef; delete $self-&gt;{$_}; } keys %{$self};
     while &#40;my $item = shift @tofree&#41;
     {
-        if &#40;UNIVERSAL::can&#40;$item,&#39;release&#39;&#41;&#41;
+        if &#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41;
         {
             $item-&gt;release&#40;1&#41;;
         }
diff --git a/lib/PDF/API2/Basic/PDF/Filter.pm b/lib/PDF/API2/Basic/PDF/Filter.pm
index b418111..7ef4d36 100644
--- a/lib/PDF/API2/Basic/PDF/Filter.pm
+++ b/lib/PDF/API2/Basic/PDF/Filter.pm
@@ -28,6 +28,8 @@ package PDF::API2::Basic::PDF::Filter;
 
 no warnings qw[ deprecated recursion uninitialized ];
 
+use Scalar::Util qw&#40;blessed&#41;;
+
 =head1 NAME
 
 PDF::API2::Basic::PDF::Filter - Abstract superclass for PDF stream filters
@@ -98,7 +100,7 @@ sub release
     while &#40;my $item = shift @tofree&#41;
     {
         my $ref = ref&#40;$item&#41;;
-        if &#40;UNIVERSAL::can&#40;$item, &#39;release&#39;&#41;&#41;
+        if &#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41;
         { $item-&gt;release&#40;&#41;; }
         elsif &#40;$ref eq &#39;ARRAY&#39;&#41;
         { push&#40; @tofree, @{$item} &#41;; }
diff --git a/lib/PDF/API2/Basic/PDF/Literal.pm b/lib/PDF/API2/Basic/PDF/Literal.pm
index eeeae32..f5916bd 100644
--- a/lib/PDF/API2/Basic/PDF/Literal.pm
+++ b/lib/PDF/API2/Basic/PDF/Literal.pm
@@ -42,6 +42,7 @@ use PDF::API2::Basic::PDF::Objind;
 
 use PDF::API2::Basic::PDF::Filter;
 use PDF::API2::Basic::PDF::Name;
+use Scalar::Util qw&#40;blessed&#41;;
 
 no warnings qw[ deprecated recursion uninitialized ];
 
@@ -91,7 +92,7 @@ sub outobjdeep
             {
                 $fh-&gt;print&#40;&#39;&lt;&lt;&#39;.join&#40;&#39; &#39;, map { &#39;/&#39;.PDF::API2::Basic::PDF::Name::string_to_name&#40;$_&#41;.&#39; &#39;.$self-&gt;{$k}-&gt;{$_} } sort keys %{$self-&gt;{$k}}&#41;.&#34; &gt;&gt;\n&#34;&#41;;
             } 
-            elsif&#40;UNIVERSAL::can&#40;$self-&gt;{$k},&#39;outobj&#39;&#41;&#41; 
+            elsif&#40;blessed&#40;$self-&gt;{$k}&#41; &#38;&#38; $self-&gt;{$k}-&gt;can&#40;&#39;outobj&#39;&#41;&#41; 
             {
                 $self-&gt;{$k}-&gt;outobj&#40;$fh, $pdf, %opts&#41;;
                 $fh-&gt;print&#40;&#34;\n&#34;&#41;;
diff --git a/lib/PDF/API2/Basic/PDF/Objind.pm b/lib/PDF/API2/Basic/PDF/Objind.pm
index f8df2e6..2d4105c 100644
--- a/lib/PDF/API2/Basic/PDF/Objind.pm
+++ b/lib/PDF/API2/Basic/PDF/Objind.pm
@@ -72,6 +72,7 @@ Holds a direct reference to the next free object in the free list.
 use strict;
 use vars qw&#40;@inst %inst $uidc&#41;;
 no warnings qw[ deprecated recursion uninitialized ];
+use Scalar::Util qw&#40;blessed&#41;;
 
 # protected keys during emptying and copying, etc.
 
@@ -147,7 +148,7 @@ sub __release
     while &#40;my $item = shift @tofree&#41;
     {
         my $ref = ref&#40;$item&#41;;
-        if &#40;UNIVERSAL::can&#40;$item, &#39;release&#39;&#41;&#41;
+        if &#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41;
         { $item-&gt;release&#40;$force&#41;; }
         elsif &#40;$ref eq &#39;ARRAY&#39;&#41;
         { push&#40; @tofree, @{$item} &#41;; }
@@ -174,7 +175,7 @@ sub release
     while&#40;my $item = shift @tofree&#41; 
     {
         my $ref = ref&#40;$item&#41; || next; # common case: value is not reference
-        if&#40;UNIVERSAL::can&#40;$item, &#39;release&#39;&#41;&#41; 
+        if&#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41; 
         {
             $item-&gt;release&#40;&#41;;
         } 
@@ -365,7 +366,7 @@ sub copy
     {
         next if $inst{$k};
         next if defined $res-&gt;{$k};
-        if &#40;UNIVERSAL::can&#40;$self-&gt;{$k}, &#34;is_obj&#34;&#41; &#38;&#38; !$self-&gt;{$k}-&gt;is_obj&#40;$pdf&#41;&#41;
+        if &#40;blessed&#40;$self-&gt;{$k}&#41; &#38;&#38; $self-&gt;{$k}-&gt;can&#40;&#39;is_obj&#39;&#41; &#38;&#38; !$self-&gt;{$k}-&gt;is_obj&#40;$pdf&#41;&#41;
         { $res-&gt;{$k} = $self-&gt;{$k}-&gt;copy&#40;$pdf&#41;; }
         else
         { $res-&gt;{$k} = $self-&gt;{$k}; }
diff --git a/lib/PDF/API2/Basic/TTF/Font.pm b/lib/PDF/API2/Basic/TTF/Font.pm
index 313fa3c..00b6fd9 100644
--- a/lib/PDF/API2/Basic/TTF/Font.pm
+++ b/lib/PDF/API2/Basic/TTF/Font.pm
@@ -141,6 +141,7 @@ use IO::File;
 use strict;
 use vars qw&#40;%tables $VERSION $dumper&#41;;
 use Symbol&#40;&#41;;
+use Scalar::Util qw&#40;blessed&#41;;
 
 require 5.006;
 
@@ -694,7 +695,7 @@ sub release
     while &#40;my $item = shift @tofree&#41;
     {
         my $ref = ref&#40;$item&#41;;
-        if &#40;UNIVERSAL::can&#40;$item, &#39;release&#39;&#41;&#41;
+        if &#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41;
         { $item-&gt;release&#40;&#41;; }
         elsif &#40;$ref eq &#39;ARRAY&#39;&#41;
         { push&#40; @tofree, @{$item} &#41;; }
diff --git a/lib/PDF/API2/Basic/TTF/Table.pm b/lib/PDF/API2/Basic/TTF/Table.pm
index 152985b..164efbf 100644
--- a/lib/PDF/API2/Basic/TTF/Table.pm
+++ b/lib/PDF/API2/Basic/TTF/Table.pm
@@ -373,7 +373,7 @@ sub release
     while &#40;my $item = shift @tofree&#41;
     {
         my $ref = ref&#40;$item&#41;;
-        if &#40;UNIVERSAL::can&#40;$item, &#39;release&#39;&#41;&#41;
+        if &#40;blessed&#40;$item&#41; &#38;&#38; $item-&gt;can&#40;&#39;release&#39;&#41;&#41;
         { $item-&gt;release&#40;&#41;; }
         elsif &#40;$ref eq &#39;ARRAY&#39;&#41;
         { push&#40; @tofree, @{$item} &#41;; }
diff --git a/lib/PDF/API2/Lite.pm b/lib/PDF/API2/Lite.pm
index d31c50b..e425ba8 100644
--- a/lib/PDF/API2/Lite.pm
+++ b/lib/PDF/API2/Lite.pm
@@ -38,6 +38,7 @@ BEGIN {
     use PDF::API2;
     use PDF::API2::Util;
     use PDF::API2::Basic::PDF::Utils;
+    use Scalar::Util qw&#40;blessed&#41;;
 
     use POSIX qw&#40; ceil floor &#41;;
 
@@ -134,9 +135,9 @@ sub saveas {
     }
     $self-&gt;{api}-&gt;end;
     foreach my $k &#40;keys %{$self}&#41; {
-        if&#40;UNIVERSAL::can&#40;$k,&#39;release&#39;&#41;&#41; {
+        if&#40;blessed&#40;$k&#41; &#38;&#38; $k-&gt;can&#40;&#39;release&#39;&#41;&#41; {
             $k-&gt;release&#40;1&#41;;
-        } elsif&#40;UNIVERSAL::can&#40;$k,&#39;end&#39;&#41;&#41; {
+        } elsif&#40;blessed&#40;$k&#41; &#38;&#38; $k-&gt;can&#40;&#39;end&#39;&#41;&#41; {
             $k-&gt;end;
         }
         $self-&gt;{$k}=undef;
diff --git a/lib/PDF/API2/Resource/BaseFont.pm b/lib/PDF/API2/Resource/BaseFont.pm
index 7c8aee2..ccd8feb 100644
--- a/lib/PDF/API2/Resource/BaseFont.pm
+++ b/lib/PDF/API2/Resource/BaseFont.pm
@@ -41,7 +41,8 @@ BEGIN {
     use PDF::API2::Basic::PDF::Utils;
     use PDF::API2::Resource;
     use Compress::Zlib;
-    
+    use Scalar::Util qw&#40;blessed&#41;;
+
     use vars qw&#40;@ISA $VERSION&#41;;
 
     @ISA = qw&#40; PDF::API2::Resource &#41;;
@@ -150,7 +151,7 @@ sub tounicodemap {
     $cmap.=qq|   /Supplement 0\n|;
     $cmap.=qq|&gt;&gt; def\n|;
     $cmap.=sprintf&#40;qq|/CMapName /pdfapi2-%s+0 def\n|,$self-&gt;name&#41;;
-    if&#40;UNIVERSAL::can&#40;$self,&#39;uniByCId&#39;&#41; &#38;&#38; UNIVERSAL::can&#40;$self,&#39;glyphNum&#39;&#41;&#41; {
+    if&#40;blessed&#40;$self&#41; &#38;&#38; $self-&gt;can&#40;&#39;uniByCId&#39;&#41; &#38;&#38; blessed&#40;$self&#41; &#38;&#38; $self-&gt;can&#40;&#39;glyphNum&#39;&#41;&#41; {
         # this is a type0 font
         $cmap.=sprintf&#40;qq|1 begincodespacerange &lt;0000&gt; &lt;%04X&gt; endcodespacerange\n|,$self-&gt;glyphNum-1&#41;;
         for&#40;my $j=0;$j&lt;$self-&gt;glyphNum;$j++&#41; {
diff --git a/lib/PDF/API2/Resource/CIDFont.pm b/lib/PDF/API2/Resource/CIDFont.pm
index 0ac2032..576b17d 100644
--- a/lib/PDF/API2/Resource/CIDFont.pm
+++ b/lib/PDF/API2/Resource/CIDFont.pm
@@ -41,6 +41,7 @@ BEGIN
     use PDF::API2::Util;
     use PDF::API2::Basic::PDF::Utils;
     use PDF::API2::Resource::BaseFont;
+    use Scalar::Util qw&#40;blessed&#41;;
 
     use POSIX;
 
@@ -195,7 +196,7 @@ sub cidsByStr
     {
         $text=$self-&gt;cidsByUtf&#40;decode&#40;$self-&gt;data-&gt;{encode},$text&#41;&#41;;
     } 
-    elsif&#40;!is_utf8&#40;$text&#41; &#38;&#38; UNIVERSAL::can&#40;$self,&#39;issymbol&#39;&#41; &#38;&#38; $self-&gt;issymbol &#38;&#38; $self-&gt;data-&gt;{decode} eq &#39;ident&#39;&#41; 
+    elsif&#40;!is_utf8&#40;$text&#41; &#38;&#38; blessed&#40;$self&#41; &#38;&#38; $self-&gt;can&#40;&#39;issymbol&#39;&#41; &#38;&#38; $self-&gt;issymbol &#38;&#38; $self-&gt;data-&gt;{decode} eq &#39;ident&#39;&#41; 
     {
         $text=pack&#40;&#39;U*&#39;,&#40;map { $_+0xf000 } unpack&#40;&#39;C*&#39;,$text&#41;&#41;&#41;;
         $text=$self-&gt;cidsByUtf&#40;$text&#41;;
@@ -261,7 +262,7 @@ sub text
 sub text_cid 
 {
     my &#40;$self,$text,$size&#41;=@_;
-    if&#40;UNIVERSAL::can&#40;$self,&#39;fontfile&#39;&#41;&#41;
+    if&#40;blessed&#40;$self&#41; &#38;&#38; $self-&gt;can&#40;&#39;fontfile&#39;&#41;&#41;
     {
         foreach my $g &#40;unpack&#40;&#39;n*&#39;,$text&#41;&#41; 
         {
@@ -282,7 +283,7 @@ sub text_cid
 sub text_cid_kern 
 {
     my &#40;$self,$text,$size,$ident&#41;=@_;
-    if&#40;UNIVERSAL::can&#40;$self,&#39;fontfile&#39;&#41;&#41;
+    if&#40;blessed&#40;$self&#41; &#38;&#38; $self-&gt;can&#40;&#39;fontfile&#39;&#41;&#41;
     {
         foreach my $g &#40;unpack&#40;&#39;n*&#39;,$text&#41;&#41; 
         {
diff --git a/lib/PDF/API2/Resource/XObject/Image/GD.pm b/lib/PDF/API2/Resource/XObject/Image/GD.pm
index e1ae004..2fba4ee 100644
--- a/lib/PDF/API2/Resource/XObject/Image/GD.pm
+++ b/lib/PDF/API2/Resource/XObject/Image/GD.pm
@@ -39,6 +39,7 @@ BEGIN {
     use PDF::API2::Resource::XObject::Image;
 
     use POSIX;
+    use Scalar::Util qw&#40;blessed&#41;;
 
     use vars qw&#40;@ISA $VERSION&#41;;
 
@@ -101,13 +102,13 @@ sub read_gd {
     $self-&gt;bpc&#40;8&#41;;
     $self-&gt;colorspace&#40;&#39;DeviceRGB&#39;&#41;;
 
-    if&#40;UNIVERSAL::can&#40;$gd,&#39;jpeg&#39;&#41; &#38;&#38; &#40;$c &gt; 256&#41; &#38;&#38; !$opts{-lossless}&#41; {
+    if&#40;blessed&#40;$gd&#41; &#38;&#38; $gd-&gt;can&#40;&#39;jpeg&#39;&#41; &#38;&#38; &#40;$c &gt; 256&#41; &#38;&#38; !$opts{-lossless}&#41; {
 
         $self-&gt;filters&#40;&#39;DCTDecode&#39;&#41;;
         $self-&gt;{&#39; nofilt&#39;}=1;
         $self-&gt;{&#39; stream&#39;}=$gd-&gt;jpeg&#40;75&#41;;
 
-    } elsif&#40;UNIVERSAL::can&#40;$gd,&#39;raw&#39;&#41;&#41; {
+    } elsif&#40;blessed&#40;$gd&#41; &#38;&#38; $gd-&gt;can&#40;&#39;raw&#39;&#41;&#41; {
 
         $self-&gt;filters&#40;&#39;FlateDecode&#39;&#41;;
         $self-&gt;{&#39; stream&#39;}=$gd-&gt;raw;
@@ -184,4 +185,4 @@ alfred reibenschuh
     added CVS id/log
 
 
-=cut
\ No newline at end of file
+=cut
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-560143" href="/Public/Bug/Display.html?id=42622#txn-560143">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;26&nbsp;15:30:37&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-597058" href="/Public/Bug/Display.html?id=42622#txn-597058">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;27&nbsp;14:28:49&nbsp;2009</span>
    <span class="description">otto.hirr [...] olabinc.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/597058/302458/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/302458">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 72b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">carried to PDF::API3 as <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=45479">https://rt.cpan.org/Ticket/Display.html?id=45479</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-597097" href="/Public/Bug/Display.html?id=42622#txn-597097">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;27&nbsp;14:35:02&nbsp;2009</span>
    <span class="description">otto.hirr [...] olabinc.com - Ticket #41766:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/597097/302483/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/302483">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 72b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">carried to PDF::API3 as <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=45482">https://rt.cpan.org/Ticket/Display.html?id=45482</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-597098" href="/Public/Bug/Display.html?id=42622#txn-597098">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;27&nbsp;14:35:03&nbsp;2009</span>
    <span class="description">The RT System itself - Ticket #41766:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-886458" href="/Public/Bug/Display.html?id=42622#txn-886458">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;19:51:57&nbsp;2011</span>
    <span class="description">steve [...] deefs.net - Ticket #41766:  Merged into ticket #42622</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-886459" href="/Public/Bug/Display.html?id=42622#txn-886459">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;24&nbsp;19:51:57&nbsp;2011</span>
    <span class="description">steve [...] deefs.net -  Merged into ticket #42622</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1375182" href="/Public/Bug/Display.html?id=42622#txn-1375182">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;13&nbsp;08:56:21&nbsp;2014</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1375182/730234/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/730234">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 180b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This warning is the result of using a module that changes core Perl behavior.

To get rid of the warning, look for and eliminate a &#34;use UNIVERSAL::can&#34; line elsewhere in your code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1375185" href="/Public/Bug/Display.html?id=42622#txn-1375185">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;13&nbsp;08:56:22&nbsp;2014</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.556177</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
