<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #73431 for Net-IMAP-Simple: + go ahead error from google</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #73431 for Net-IMAP-Simple: + go ahead error from google</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-IMAP-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-IMAP-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-IMAP-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-IMAP-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-IMAP-Simple">Net-IMAP-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">73431</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-IMAP-Simple">Net-IMAP-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
MSTEVENS [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
michael.smith [...] dianomi.com

<br />
michael.stevens [...] dianomi.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-22730-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.2019    </td>
  </tr>
  <tr id="CF-22731-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




bounce-scanner.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1014161/528778/bounce-scanner.pl">
Thu Dec 22 11:07:11 2011 (2.1k) by mstevens [...] etla.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=73431">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014092" href="/Public/Bug/Display.html?id=73431#txn-1014092">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:07:19&nbsp;2011</span>
    <span class="description">MSTEVENS [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> michael.stevens [...] dianomi.com, michael.smith [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> + go ahead error from google</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014092/528730/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528730">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 364b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi.

I&#39;m connecting to gmail with Net::IMAP::Simple and getting a number of 
messages in a folder.

Intermittently I get an error from this code:

  my $message = $imap-&gt;get&#40;$i&#41; or die &#34;IMAP get error: &#34; . $imap-&gt;errstr;

of

IMAP get error: warning unknown return string &#40;id=96&#41;: + go ahead

I&#39;m not necessarily saying this is a bug, but can you provide any help?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014095" href="/Public/Bug/Display.html?id=73431#txn-1014095">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:08:30&nbsp;2011</span>
    <span class="description">MSTEVENS [...] cpan.org -  Broken in 1.2019 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014096" href="/Public/Bug/Display.html?id=73431#txn-1014096">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:08:57&nbsp;2011</span>
    <span class="description">MSTEVENS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014096/528733/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528733">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 474b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 10:07:19 2011, MSTEVENS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi.
&gt; 
&gt; I&#39;m connecting to gmail with Net::IMAP::Simple and getting a number of 
&gt; messages in a folder.
&gt; 
&gt; Intermittently I get an error from this code:
&gt; 
&gt;   my $message = $imap-&gt;get&#40;$i&#41; or die &#34;IMAP get error: &#34; . $imap-
&gt;errstr;
&gt; 
&gt; of
&gt; 
&gt; IMAP get error: warning unknown return string &#40;id=96&#41;: + go ahead
&gt; 
&gt; I&#39;m not necessarily saying this is a bug, but can you provide any 
</div>help?

I&#39;m using 1.2019 on perl 5.12.2.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014099" href="/Public/Bug/Display.html?id=73431#txn-1014099">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:08:58&nbsp;2011</span>
    <span class="description">MSTEVENS [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014126" href="/Public/Bug/Display.html?id=73431#txn-1014126">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:33:38&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014126/528753/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528753">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 584b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 10:07:19 2011, MSTEVENS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; IMAP get error: warning unknown return string &#40;id=96&#41;: + go ahead
</div>
I believe that&#39;s a pretty standard IMAP thing to say.  It&#39;s odd that
it&#39;s never come up before.  Do you know what imap server you&#39;re running
against?  I can&#39;t reproduce that here &#40;or I&#39;d have fixed it&#41;, so any
information, logs, or patches you can produce are most welcome — patches
most welcome via github, but anything will do.

-Paul


If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014137" href="/Public/Bug/Display.html?id=73431#txn-1014137">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:44:37&nbsp;2011</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> MSTEVENS [...] cpan.org, michael.smith [...] dianomi.com, michael.stevens [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 22 Dec 2011 15:44:22 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014137/528759/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528759">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 22, 2011 at 10:33:39AM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; On Thu Dec 22 10:07:19 2011, MSTEVENS wrote:
<div class="message-stanza open">&gt; &gt; IMAP get error: warning unknown return string &#40;id=96&#41;: + go ahead
</div>&gt; 
&gt; I believe that&#39;s a pretty standard IMAP thing to say.  It&#39;s odd that
&gt; it&#39;s never come up before.  Do you know what imap server you&#39;re running
&gt; against?  I can&#39;t reproduce that here &#40;or I&#39;d have fixed it&#41;, so any
&gt; information, logs, or patches you can produce are most welcome — patches
&gt; most welcome via github, but anything will do.
</div>
It&#39;s running against the gmail IMAP server. Here&#39;s some sample logs:

[...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 14 FETCH 5 RFC822\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 616 in sub _process_cmd] * 5 FETCH &#40;RFC822 {2510}\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1083 in sub _read_multiline] [0] censored email content goes here
[...l/5.12.2/Net/IMAP/Simple.pm line 616 in sub _process_cmd]  FLAGS &#40;\Seen&#41;&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok]  FLAGS &#40;\Seen&#41;&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1035 in sub _seterrstr] warning unknown return string &#40;id=14&#41;:  FLAGS &#40;\Seen&#41;&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 616 in sub _process_cmd] 14 OK Success\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 14 OK Success\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 15 APPEND &#34;OldBounces&#34; &#40;&#41; {2510}\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] + go ahead\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] + go ahead\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1035 in sub _seterrstr] warning unknown return string &#40;id=15&#41;: + go ahead\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] * 4 EXPUNGE\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] * 4 EXPUNGE\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] * 4 EXISTS\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] * 4 EXISTS\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] 15 OK [APPENDUID 44 11988] &#40;Success&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 15 OK [APPENDUID 44 11988] &#40;Success&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 16 STORE 5 +FLAGS &#40;\Deleted&#41;\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 758 in sub _process_cmd] 16 OK Success\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 16 OK Success\r\n
Getting message 6
[...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 17 FETCH 6 RFC822\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 616 in sub _process_cmd] 17 OK Success\r\n
[...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 17 OK Success\r\n
IMAP get error: warning unknown return string &#40;id=15&#41;: + go ahead

I&#39;ve edited out the actual message content.

If there&#39;s something more specific you&#39;re after let me know.

Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014140" href="/Public/Bug/Display.html?id=73431#txn-1014140">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:47:52&nbsp;2011</span>
    <span class="description">MSTEVENS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014140/528762/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528762">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 601b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 10:33:38 2011, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Dec 22 10:07:19 2011, MSTEVENS wrote:
<div class="message-stanza open">&gt; &gt; IMAP get error: warning unknown return string &#40;id=96&#41;: + go ahead
</div>&gt; 
&gt; I believe that&#39;s a pretty standard IMAP thing to say.  It&#39;s odd that
&gt; it&#39;s never come up before.  Do you know what imap server you&#39;re running
&gt; against?  I can&#39;t reproduce that here &#40;or I&#39;d have fixed it&#41;, so any
&gt; information, logs, or patches you can produce are most welcome — 
</div>patches
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; most welcome via github, but anything will do.
</div>
Separate question, where can I find the github repo? it doesn&#39;t seem to 
be in the man page.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014143" href="/Public/Bug/Display.html?id=73431#txn-1014143">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;10:55:53&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014143/528765/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528765">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 383b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 10:47:52 2011, MSTEVENS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Separate question, where can I find the github repo? it doesn&#39;t seem to 
&gt; be in the man page.
</div>
Nope, just the Makefile.PL &#40;shows up on the CPAN I believe&#41;.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jettero/net--imap--simple">https://github.com/jettero/net--imap--simple</a></span>
-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014146" href="/Public/Bug/Display.html?id=73431#txn-1014146">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;11:00:37&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014146/528768/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528768">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 10:44:37 2011, mstevens@etla.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 14 OK
&gt; Success\r\n
&gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 15 APPEND
&gt; &#34;OldBounces&#34; &#40;&#41; {2510}\r\n
&gt; [...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] + go
&gt; ahead\r\n
&gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] + go
&gt; ahead\r\n
&gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1035 in sub _seterrstr] warning
&gt; unknown return string &#40;id=15&#41;: + go ahead\r\n
</div>
This part is interesting to me.  Why is it trying to append, and why
doesn&#39;t it append something?  I think the error is showing up on the
next command &#40;quirk of error checking&#41; rather than being associated with
the get&#40;&#41;.

I use this module with gmail every 3 minutes &#40;literally&#41; and I&#39;ve never
seen this before.  I use get&#40;&#41; and put&#40;&#41; frequently to move things
around my folders there.

So I wish to know more about what functions you called in what order and
whether you somehow &#40;accidentally&#41; posted an 2510 byte APPEND command
without actually appending the 2510 bytes.

That&#39;s what the go ahead is saying: ok, send me the 2510 bytes you promised.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014161" href="/Public/Bug/Display.html?id=73431#txn-1014161">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;11:07:10&nbsp;2011</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> MSTEVENS [...] cpan.org, michael.smith [...] dianomi.com, michael.stevens [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 22 Dec 2011 16:07:01 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014161/528777/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528777">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 22, 2011 at 11:00:38AM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; On Thu Dec 22 10:44:37 2011, mstevens@etla.org wrote:
<div class="message-stanza open">&gt; &gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] 14 OK
&gt; &gt; Success\r\n
&gt; &gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1069 in sub _send_cmd] 15 APPEND
&gt; &gt; &#34;OldBounces&#34; &#40;&#41; {2510}\r\n
&gt; &gt; [...l/5.12.2/Net/IMAP/Simple.pm line 657 in sub _process_cmd] + go
&gt; &gt; ahead\r\n
&gt; &gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1089 in sub _cmd_ok] + go
&gt; &gt; ahead\r\n
&gt; &gt; [...l/5.12.2/Net/IMAP/Simple.pm line 1035 in sub _seterrstr] warning
&gt; &gt; unknown return string &#40;id=15&#41;: + go ahead\r\n
</div>&gt; 
&gt; This part is interesting to me.  Why is it trying to append, and why
&gt; doesn&#39;t it append something?  I think the error is showing up on the
&gt; next command &#40;quirk of error checking&#41; rather than being associated with
&gt; the get&#40;&#41;.
&gt; 
&gt; I use this module with gmail every 3 minutes &#40;literally&#41; and I&#39;ve never
&gt; seen this before.  I use get&#40;&#41; and put&#40;&#41; frequently to move things
&gt; around my folders there.
&gt; 
&gt; So I wish to know more about what functions you called in what order and
&gt; whether you somehow &#40;accidentally&#41; posted an 2510 byte APPEND command
&gt; without actually appending the 2510 bytes.
&gt; 
&gt; That&#39;s what the go ahead is saying: ok, send me the 2510 bytes you promised.
</div>
There&#39;s nothing I&#39;ve censored from the log there. I cut out a bit after
&#34;FETCH 5&#34; with the message body.

I&#39;ve attached the code I&#39;m using &#40;it&#39;s not too long&#41; after some
censorship to remove login details.

I could perhaps provide a fuller session log privately but I&#39;d like to
keep it out of RT.

Michael
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014161/528778/bounce-scanner.pl">Download bounce-scanner.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014225" href="/Public/Bug/Display.html?id=73431#txn-1014225">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;22&nbsp;14:49:09&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014225/528825/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528825">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 840b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 22 11:07:10 2011, mstevens@etla.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I could perhaps provide a fuller session log privately but I&#39;d like to
&gt; keep it out of RT.
</div>
No, that won&#39;t be necessary.  I&#39;ll clearly just have to grab the go
ahead and clear it out or something.  Your code looks totally legit to
me.  I can&#39;t see any reason it&#39;d fail to send the message after the
APPEND.  Gmail does really weird things with some of the special
mailboxes &#40;non-imap things&#41;, but it doesn&#39;t even look like one of those
cases.  I have literally no idea why you&#39;re seeing this as an error.

I have some ideas for fixes, but without knowing why it&#39;s causing a
problem, they&#39;re just guesses.

Does it do it every time? or just randomly?
-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014503" href="/Public/Bug/Display.html?id=73431#txn-1014503">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;05:50:01&nbsp;2011</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> MSTEVENS [...] cpan.org, michael.smith [...] dianomi.com, michael.stevens [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 Dec 2011 10:49:51 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014503/528949/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528949">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 22, 2011 at 02:49:11PM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; On Thu Dec 22 11:07:10 2011, mstevens@etla.org wrote:
<div class="message-stanza open">&gt; &gt; I could perhaps provide a fuller session log privately but I&#39;d like to
&gt; &gt; keep it out of RT.
</div>&gt; 
&gt; No, that won&#39;t be necessary.  I&#39;ll clearly just have to grab the go
&gt; ahead and clear it out or something.  Your code looks totally legit to
&gt; me.  I can&#39;t see any reason it&#39;d fail to send the message after the
&gt; APPEND.  Gmail does really weird things with some of the special
&gt; mailboxes &#40;non-imap things&#41;, but it doesn&#39;t even look like one of those
&gt; cases.  I have literally no idea why you&#39;re seeing this as an error.
&gt; 
&gt; I have some ideas for fixes, but without knowing why it&#39;s causing a
&gt; problem, they&#39;re just guesses.
&gt; 
&gt; Does it do it every time? or just randomly?
</div>
It seems to be intermittent - the script you saw is moving messages from
one mailbox to another, it happens maybe every few dozen messages.

Possibly I&#39;ll lose the ability to test once it finishes cleaning out the
first mailbox.

I also sometimes see a slightly different error:

IMAP get error: warning unknown return string &#40;id=22&#41;:  FLAGS &#40;\Seen&#41;&#41;

Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014545" href="/Public/Bug/Display.html?id=73431#txn-1014545">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;09:33:46&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1014545/528983/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/528983">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, first of all, the problem seems to have been that imap does not
produce an error when a message doesn&#39;t exist.  NiS was just returning
whatever random warning happened to have happened last.  I believe this
is due to gmail randomly disappearing things they shouldn&#39;t.  I didn&#39;t
look it up, but I&#39;m pretty sure imap servers are supposed to preserve
the message numbers from a select until you&#39;re done with the select
session.  Whatever.

I taught NiS to do two things: first, generate a meaningful error in the
case that a message doesn&#39;t exist.  Second, return &#40;spuriously&#41; a \n in
the case that the message is 0 bytes.  This can happen in certain weird
kinds of internal imap errors and things.

The new version, 1.2027, should be on the cpan today or tomorrow maybe.
 Or you can get it at <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/">http://jettero.pl/</a></span>


I also have some bug-irrelevant processing tips for you.  The download
upload method works, but it&#39;s really slow.  It&#39;s better to copy things
internal to the server in as few commands as possible.  This also has a
side effect of working around message number changes &#40;grr, google&#41;.

$msg = $imap-&gt;get&#40;$i&#41;;
# do things
push @to_copy, $i if $something;
push @to_delete, $i; # almost always?


# later

$imap-&gt;copy&#40; $imap-&gt;list2range&#40;@to_copy&#41;, &#34;oldMailBox&#34; &#41;; # BAMN!!
$imap-&gt;delete&#40; $imap-&gt;list2range&#40;@to_delete&#41; &#41;; # see ya
$imap-&gt;quit; 

-Paul

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1014548" href="/Public/Bug/Display.html?id=73431#txn-1014548">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;23&nbsp;09:33:47&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1015036" href="/Public/Bug/Display.html?id=73431#txn-1015036">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;26&nbsp;09:37:21&nbsp;2011</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> MSTEVENS [...] cpan.org, michael.smith [...] dianomi.com, michael.stevens [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 26 Dec 2011 14:37:12 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1015036/529214/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/529214">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Dec 23, 2011 at 09:33:47AM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; OK, first of all, the problem seems to have been that imap does not
&gt; produce an error when a message doesn&#39;t exist.  NiS was just returning
&gt; whatever random warning happened to have happened last.  I believe this
&gt; is due to gmail randomly disappearing things they shouldn&#39;t.  I didn&#39;t
&gt; look it up, but I&#39;m pretty sure imap servers are supposed to preserve
&gt; the message numbers from a select until you&#39;re done with the select
&gt; session.  Whatever.
&gt; 
&gt; I taught NiS to do two things: first, generate a meaningful error in the
&gt; case that a message doesn&#39;t exist.  Second, return &#40;spuriously&#41; a \n in
&gt; the case that the message is 0 bytes.  This can happen in certain weird
&gt; kinds of internal imap errors and things.
&gt; 
&gt; The new version, 1.2027, should be on the cpan today or tomorrow maybe.
&gt;  Or you can get it at <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/">http://jettero.pl/</a></span>
</div>
I&#39;ve just upgraded to this and will see if it fixes the problem.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I also have some bug-irrelevant processing tips for you.  The download
&gt; upload method works, but it&#39;s really slow.  It&#39;s better to copy things
&gt; internal to the server in as few commands as possible.  This also has a
&gt; side effect of working around message number changes &#40;grr, google&#41;.
&gt; 
&gt; $msg = $imap-&gt;get&#40;$i&#41;;
&gt; # do things
&gt; push @to_copy, $i if $something;
&gt; push @to_delete, $i; # almost always?
&gt; 
&gt; 
&gt; # later
&gt; 
&gt; $imap-&gt;copy&#40; $imap-&gt;list2range&#40;@to_copy&#41;, &#34;oldMailBox&#34; &#41;; # BAMN!!
&gt; $imap-&gt;delete&#40; $imap-&gt;list2range&#40;@to_delete&#41; &#41;; # see ya
&gt; $imap-&gt;quit; 
</div> 
Thanks, I might give that a go.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1015039" href="/Public/Bug/Display.html?id=73431#txn-1015039">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;26&nbsp;09:37:23&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1015231" href="/Public/Bug/Display.html?id=73431#txn-1015231">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;27&nbsp;07:34:45&nbsp;2011</span>
    <span class="description">michael.stevens [...] dianomi.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> michael.smith [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 27 Dec 2011 12:34:14 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;michael.stevens [...] dianomi.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1015231/529307/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/529307">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 26 December 2011 14:37, mstevens@etla.org via RT &lt;
bug-Net-IMAP-Simple@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt;
&gt; On Fri, Dec 23, 2011 at 09:33:47AM -0500, Paul Miller via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; &gt;
&gt; &gt; OK, first of all, the problem seems to have been that imap does not
&gt; &gt; produce an error when a message doesn&#39;t exist.  NiS was just returning
&gt; &gt; whatever random warning happened to have happened last.  I believe this
&gt; &gt; is due to gmail randomly disappearing things they shouldn&#39;t.  I didn&#39;t
&gt; &gt; look it up, but I&#39;m pretty sure imap servers are supposed to preserve
&gt; &gt; the message numbers from a select until you&#39;re done with the select
&gt; &gt; session.  Whatever.
&gt; &gt;
&gt; &gt; I taught NiS to do two things: first, generate a meaningful error in the
&gt; &gt; case that a message doesn&#39;t exist.  Second, return &#40;spuriously&#41; a \n in
&gt; &gt; the case that the message is 0 bytes.  This can happen in certain weird
&gt; &gt; kinds of internal imap errors and things.
&gt; &gt;
&gt; &gt; The new version, 1.2027, should be on the cpan today or tomorrow maybe.
&gt; &gt;  Or you can get it at <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/">http://jettero.pl/</a></span>
</div>&gt;
&gt; I&#39;ve just upgraded to this and will see if it fixes the problem.
&gt;
<div class="message-stanza open">&gt; &gt; I also have some bug-irrelevant processing tips for you.  The download
&gt; &gt; upload method works, but it&#39;s really slow.  It&#39;s better to copy things
&gt; &gt; internal to the server in as few commands as possible.  This also has a
&gt; &gt; side effect of working around message number changes &#40;grr, google&#41;.
&gt; &gt;
&gt; &gt; $msg = $imap-&gt;get&#40;$i&#41;;
&gt; &gt; # do things
&gt; &gt; push @to_copy, $i if $something;
&gt; &gt; push @to_delete, $i; # almost always?
&gt; &gt;
&gt; &gt;
&gt; &gt; # later
&gt; &gt;
&gt; &gt; $imap-&gt;copy&#40; $imap-&gt;list2range&#40;@to_copy&#41;, &#34;oldMailBox&#34; &#41;; # BAMN!!
&gt; &gt; $imap-&gt;delete&#40; $imap-&gt;list2range&#40;@to_delete&#41; &#41;; # see ya
&gt; &gt; $imap-&gt;quit;
</div>&gt;
&gt; Thanks, I might give that a go.
&gt;
</div>
Since upgrading I&#39;m seeing a different error:

IMAP get error: message not found at /opt/www/bin/bounce-scanner.pl line 24.

I&#39;m wondering if this is, as you suggeted, something with message numbers
changing.

Michael
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1015231/529308/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/529308">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1015607" href="/Public/Bug/Display.html?id=73431#txn-1015607">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;28&nbsp;07:12:53&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1015607/529467/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/529467">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 511b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Since upgrading I&#39;m seeing a different error:
&gt; 
&gt; IMAP get error: message not found at /opt/www/bin/bounce-scanner.pl
</div>line 24.


That is the error that I added and it was the error you should have been
getting all along.  It is correct.  The original error was just whatever
error happened to be sitting on the stack at the time you requested a
message that wasn&#39;t there.


-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1016675" href="/Public/Bug/Display.html?id=73431#txn-1016675">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;30&nbsp;13:18:59&nbsp;2011</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> michael.smith [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Dec 2011 18:18:47 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1016675/530063/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/530063">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 627b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Dec 28, 2011 at 07:12:56AM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; Since upgrading I&#39;m seeing a different error:
&gt; &gt; 
&gt; &gt; IMAP get error: message not found at /opt/www/bin/bounce-scanner.pl
</div>&gt; line 24.
&gt; 
&gt; 
&gt; That is the error that I added and it was the error you should have been
&gt; getting all along.  It is correct.  The original error was just whatever
&gt; error happened to be sitting on the stack at the time you requested a
&gt; message that wasn&#39;t there.
</div>
Thanks.

Trying your serverside copy solution now, it seems to be behaving a lot
better.

Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030013" href="/Public/Bug/Display.html?id=73431#txn-1030013">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;06:55:16&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030013/537250/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537250">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 22b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;forgot to close this&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030016" href="/Public/Bug/Display.html?id=73431#txn-1030016">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;06:55:17&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030018" href="/Public/Bug/Display.html?id=73431#txn-1030018">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;06:57:20&nbsp;2012</span>
    <span class="description">mstevens [...] etla.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> michael.smith [...] dianomi.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 30 Jan 2012 11:57:10 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael Stevens &lt;mstevens [...] etla.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030018/537254/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537254">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 282b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Jan 30, 2012 at 06:55:17AM -0500, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; 
&gt; &#40;forgot to close this&#41;
</div>
Just to be annoying and possibly reopen, I&#39;ve noticed I&#39;ve been seeing
&#34;FLAGS &#40;\Seen&#41;&#34; as part of my message bodies.

Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030021" href="/Public/Bug/Display.html?id=73431#txn-1030021">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;06:57:20&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030025" href="/Public/Bug/Display.html?id=73431#txn-1030025">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;07:00:11&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73431] + go ahead error from google</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 30 Jan 2012 06:59:58 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Miller &lt;jettero [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030025/537261/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537261">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 612b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thought that was just my school mailserver.  Please open a new ticket for
that.

--
Message brief, sent from phone.
On Jan 30, 2012 6:57 AM, &#34;mstevens@etla.org via RT&#34; &lt;
bug-Net-IMAP-Simple@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Net-IMAP-Simple
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt;
&gt; On Mon, Jan 30, 2012 at 06:55:17AM -0500, Paul Miller via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73431">https://rt.cpan.org/Ticket/Display.html?id=73431</a></span> &gt;
&gt; &gt;
&gt; &gt; &#40;forgot to close this&#41;
</div>&gt;
&gt; Just to be annoying and possibly reopen, I&#39;ve noticed I&#39;ve been seeing
&gt; &#34;FLAGS &#40;\Seen&#41;&#34; as part of my message bodies.
&gt;
&gt; Michael
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030025/537262/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537262">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030039" href="/Public/Bug/Display.html?id=73431#txn-1030039">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;07:13:31&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1030039/537270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/537270">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 26b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;replying reopens tickets&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1030042" href="/Public/Bug/Display.html?id=73431#txn-1030042">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;07:13:32&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.921163</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
