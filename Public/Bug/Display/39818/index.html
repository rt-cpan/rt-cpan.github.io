<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #39818 for Win32-TieRegistry: SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #39818 for Win32-TieRegistry: SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Win32-TieRegistry/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Win32-TieRegistry/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Win32-TieRegistry/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Win32-TieRegistry/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-TieRegistry">Win32-TieRegistry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">39818</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Win32-TieRegistry/Active/">Win32-TieRegistry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
adrian [...] elisp.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35796-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35797-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.28    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;04&nbsp;08:49:56&nbsp;2008</span>
    <span class="description">adrian [...] elisp.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 04 Oct 2008 14:40:59 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adrian Aichner&#34; &lt;adrian [...] elisp.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Try to include any information you think might help the developer
&gt; isolate, reproduce and fix your problem.
</div>
Hi!

I am merely point out a somewhat un-obvious failure mechanism which
others seem to have stumbled across as well, judging from error
messages reported.

I have not seen the failure mode described anywhere, so here goes my
analysis.

It would be great if the failure mode could be made more obvious by a
more meaningful error message or other means.

Would it make sense for Win32::TieRegistry to just plain out REQUIRE
Win32::WinError?

@subkey successfully collects all timezone subkeys with

sub _enumSubKeys
{

in TieRegistry.pm.

Then we hit:

    if&#40;  ! _NoMoreItems&#40;&#41;  &#41; {

The problem is the German error message not matching the expected
English version in the absence of module Win32::WinError!

  DB&lt;34&gt; p $_NoMoreItems
^No more data
  DB&lt;35&gt; p _ErrNum
203
  DB&lt;36&gt; p _ErrMsg
Das System konnte die eingegebene Umgebungsoption nicht finden.

  DB&lt;37&gt; p _ErrMsg
Das System konnte die eingegebene Umgebungsoption nicht finden.

  DB&lt;38&gt; 

I&#39;m willing to discuss and test alternatives to improve the situation,
possibly even provide a patch.

Regards!

Adrian

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Be sure to include at least the following information:
&gt; 
&gt;     * Distribution name and version &#40;For example, &#34;DBIx-SearchBuilder-0.46&#34;&#41;
&gt;     * Perl version &#40;Find this by running the command perl -v&#41;
</div>
I use Strawberry Perl 5.10.0.2

This is perl, v5.10.0 built for MSWin32-x86-multi-thread

Copyright 1987-2007, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.

Strawberry Perl 5.8.8.2 shows the same.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     * Operating System vendor and version &#40;Find this by running the
&gt;       command uname -a&#41;
</div>
Betriebssystemname      Microsoft Windows XP Professional       
Version 5.1.2600 Service Pack 3 Build 2600      
Systemtyp       X86-basierter PC        
Gebietsschema   Deutschland     
Hardwareabstraktionsebene       Version = &#34;5.1.2600.5512 &#40;xpsp.080413-2111&#41;&#34;
Zeitzone        Westeurop√§ische Sommerzeit      

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Other things that are often helpful:
&gt; 
&gt;     * Details about your operating environment that might be related
&gt;       to the issue being described
</div>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     * Exact cut and pasted error or warning messages
</div>
Can&#39;t use an undefined value as an ARRAY reference at c:/strawberry/perl/site/lib/Win32/TieRegistry.pm line 714.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     * The shortest, clearest code you can manage to write which
&gt;       reproduces the bug described.
</div>
1. Run on a non-English Windows XP installation WITHOUT
   Win32::WinError module installed &#40;or moved out of the way&#41;:

2. Following code will err with above error message in my module version
$PACK    = &#39;Win32::TieRegistry&#39;; # Used in error messages.
$VERSION = &#39;0.25&#39;;               # Released 2006-03-23

use DateTime;
my $tz = DateTime::TimeZone-&gt;new&#40; name =&gt; &#34;local&#34; &#41;;

3. Now install/restore the Win32::WinError module and the code will
   work without error.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     * A patch against the latest released version of this distribution
&gt;       which fixes this bug.
</div>
None.

-- 
Adrian Aichner
 mailto:adrian@elisp.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;15&nbsp;04:11:30&nbsp;2008</span>
    <span class="description">tye.mcqueen [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39818] SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 15 Oct 2008 00:03:56 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tye McQueen&#34; &lt;tye.mcqueen [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;
bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; It would be great if the failure mode could be made more obvious by a
&gt; more meaningful error message or other means.
&gt;
&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt; Win32::WinError?
</div>

Yes, much of the support for working without some key features, such as a
useful $^E and the Win32::WinError module should be dropped now.

For this module, I am currently in the middle of a rather long-running round
of reconciling several different sources of improvements to it &#40;very
long-running due to only rarely finding the time to work on that project, in
part because another project is the work to make this type of thing much
easier for me to do&#41;.

So a simple patch would be appreciated.  A complex patch would likely only
be useful as a suggestion since the most up-to-date incarnation of this
module is not something currently available nor something that I will be
likely to make available at the moment.

Though, my hope is to fairly soon have the module so you can even apply
patches yourself.

Thanks,
Tye
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;15&nbsp;04:11:33&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;16&nbsp;06:57:44&nbsp;2008</span>
    <span class="description">adrian [...] elisp.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> adrian [...] elisp.de</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39818] SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 16 Oct 2008 12:57:03 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adrian Aichner &lt;adrian [...] elisp.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Tye McQueen via RT&#34; &lt;bug-Win32-TieRegistry@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39818">http://rt.cpan.org/Ticket/Display.html?id=39818</a></span> &gt;
&gt;
&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;
&gt; bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt;
&gt;&gt; It would be great if the failure mode could be made more obvious by a
&gt;&gt; more meaningful error message or other means.
&gt;&gt;
&gt;&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;&gt; Win32::WinError?
</div>&gt;
&gt;
&gt; Yes, much of the support for working without some key features, such as a
&gt; useful $^E and the Win32::WinError module should be dropped now.
&gt;
&gt; For this module, I am currently in the middle of a rather long-running round
&gt; of reconciling several different sources of improvements to it &#40;very
&gt; long-running due to only rarely finding the time to work on that project, in
&gt; part because another project is the work to make this type of thing much
&gt; easier for me to do&#41;.
&gt;
&gt; So a simple patch would be appreciated.  A complex patch would likely only
</div>
Hello Tye, thanks for sharing an outlook on the future of
Win32::TieRegistry.

I&#39;m unsure of the general direction a simple patch should take.

Would it make sense to fall back to the numeric values of the errors
handled in the module when Win32::WinError is not available?

How about somthing like the following?

if &#40; eval { require Win32::WinError } &#41; {
    $_NoMoreItems  = Win32::WinError::constant&#40;&#34;ERROR_NO_MORE_ITEMS&#34;,0&#41;;
    $_FileNotFound = Win32::WinError::constant&#40;&#34;ERROR_FILE_NOT_FOUND&#34;,0&#41;;
    $_TooSmall     = Win32::WinError::constant&#40;&#34;ERROR_INSUFFICIENT_BUFFER&#34;,0&#41;;
    $_MoreData     = Win32::WinError::constant&#40;&#34;ERROR_MORE_DATA&#34;,0&#41;;
} else {
    my $_NoMoreItems = &#38;Errno::ERROR_NO_MORE_ITEMS;
    my $_FileNotFound = &#38;Errno::ERROR_FILE_NOT_FOUND;
    my $_TooSmall     = &#38;Errno::ERROR_INSUFFICIENT_BUFFER;
    my $_MoreData     = &#38;Errno::ERROR_MORE_DATA;
}

Best regards!

Adrian

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; be useful as a suggestion since the most up-to-date incarnation of this
&gt; module is not something currently available nor something that I will be
&gt; likely to make available at the moment.
&gt;
&gt; Though, my hope is to fairly soon have the module so you can even apply
&gt; patches yourself.
&gt;
&gt; Thanks,
&gt; Tye
&gt;
&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;
&gt; bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
&gt;
&gt;     It would be great if the failure mode could be made more obvious by a
&gt;     more meaningful error message or other means.
&gt;    
&gt;     Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;     Win32::WinError?
&gt;
&gt; Yes, much of the support for working without some key features, such as a
&gt; useful $^E and the Win32::WinError module should be dropped now.
&gt;
&gt; For this module, I am currently in the middle of a rather long-running round
&gt; of reconciling several different sources of improvements to it &#40;very
&gt; long-running due to only rarely finding the time to work on that project, in
&gt; part because another project is the work to make this type of thing much
&gt; easier for me to do&#41;.
&gt;
&gt; So a simple patch would be appreciated.  A complex patch would likely only be
&gt; useful as a suggestion since the most up-to-date incarnation of this module is
&gt; not something currently available nor something that I will be likely to make
&gt; available at the moment.
&gt;
&gt; Though, my hope is to fairly soon have the module so you can even apply
&gt; patches yourself.
&gt;
&gt; Thanks,
&gt; Tye
&gt;
</div>
-- 
Adrian Aichner
 mailto:adrian@elisp.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;16&nbsp;09:06:23&nbsp;2008</span>
    <span class="description">adamkennedybackup [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39818] SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 17 Oct 2008 00:06:12 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adam Kennedy&#34; &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">WinError looks well maintained and safe, should I just make the
dependency enforced?

Adam K

2008/10/15 Tye McQueen via RT &lt;bug-Win32-TieRegistry@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Win32-TieRegistry
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39818">http://rt.cpan.org/Ticket/Display.html?id=39818</a></span> &gt;
&gt;
&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;
&gt; bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt;
&gt;&gt; It would be great if the failure mode could be made more obvious by a
&gt;&gt; more meaningful error message or other means.
&gt;&gt;
&gt;&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;&gt; Win32::WinError?
</div>&gt;
&gt;
&gt; Yes, much of the support for working without some key features, such as a
&gt; useful $^E and the Win32::WinError module should be dropped now.
&gt;
&gt; For this module, I am currently in the middle of a rather long-running round
&gt; of reconciling several different sources of improvements to it &#40;very
&gt; long-running due to only rarely finding the time to work on that project, in
&gt; part because another project is the work to make this type of thing much
&gt; easier for me to do&#41;.
&gt;
&gt; So a simple patch would be appreciated.  A complex patch would likely only
&gt; be useful as a suggestion since the most up-to-date incarnation of this
&gt; module is not something currently available nor something that I will be
&gt; likely to make available at the moment.
&gt;
&gt; Though, my hope is to fairly soon have the module so you can even apply
&gt; patches yourself.
&gt;
&gt; Thanks,
&gt; Tye
&gt;
&gt;
&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt;
&gt;&gt; It would be great if the failure mode could be made more obvious by a
&gt;&gt; more meaningful error message or other means.
&gt;&gt;
&gt;&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;&gt; Win32::WinError?
</div>&gt;
&gt;
&gt; Yes, much of the support for working without some key features, such as a useful $^E and the Win32::WinError module should be dropped now.
&gt;
&gt; For this module, I am currently in the middle of a rather long-running round of reconciling several different sources of improvements to it &#40;very long-running due to only rarely finding the time to work on that project, in part because another project is the work to make this type of thing much easier for me to do&#41;.
&gt;
&gt; So a simple patch would be appreciated.  A complex patch would likely only be useful as a suggestion since the most up-to-date incarnation of this module is not something currently available nor something that I will be likely to make available at the moment.
&gt;
&gt; Though, my hope is to fairly soon have the module so you can even apply patches yourself.
&gt;
&gt; Thanks,
&gt; Tye
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;16&nbsp;10:01:47&nbsp;2008</span>
    <span class="description">adrian [...] elisp.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39818] SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 16 Oct 2008 16:01:10 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adrian Aichner &lt;adrian [...] elisp.de&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Adam Kennedy via RT&#34; &lt;bug-Win32-TieRegistry@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39818">http://rt.cpan.org/Ticket/Display.html?id=39818</a></span> &gt;
&gt;
&gt; WinError looks well maintained and safe, should I just make the
&gt; dependency enforced?
</div>
Hi Adam!

A concern I would have with this approach is breaking existing
installations.

People upgrading Win32::TieRegistry to such a fix might be taken aback
by failures of existing scripts.

They can fix this easily by installing Win32::WinError as well, but it
might come as an unpleasant side-effect of the upgrade, taking
additional time.

Are there any CPAN module policies or guidelines about this kind of
thing?

Adrian

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Adam K
&gt;
&gt; 2008/10/15 Tye McQueen via RT &lt;bug-Win32-TieRegistry@rt.cpan.org&gt;:
<div class="message-stanza open">&gt;&gt;       Queue: Win32-TieRegistry
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39818">http://rt.cpan.org/Ticket/Display.html?id=39818</a></span> &gt;
&gt;&gt;
&gt;&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;
&gt;&gt; bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt;
&gt;&gt;&gt; It would be great if the failure mode could be made more obvious by a
&gt;&gt;&gt; more meaningful error message or other means.
&gt;&gt;&gt;
&gt;&gt;&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;&gt;&gt; Win32::WinError?
</div>&gt;&gt;
&gt;&gt;
&gt;&gt; Yes, much of the support for working without some key features, such as a
&gt;&gt; useful $^E and the Win32::WinError module should be dropped now.
&gt;&gt;
&gt;&gt; For this module, I am currently in the middle of a rather long-running round
&gt;&gt; of reconciling several different sources of improvements to it &#40;very
&gt;&gt; long-running due to only rarely finding the time to work on that project, in
&gt;&gt; part because another project is the work to make this type of thing much
&gt;&gt; easier for me to do&#41;.
&gt;&gt;
&gt;&gt; So a simple patch would be appreciated.  A complex patch would likely only
&gt;&gt; be useful as a suggestion since the most up-to-date incarnation of this
&gt;&gt; module is not something currently available nor something that I will be
&gt;&gt; likely to make available at the moment.
&gt;&gt;
&gt;&gt; Though, my hope is to fairly soon have the module so you can even apply
&gt;&gt; patches yourself.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Tye
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sat, Oct 4, 2008 at 5:49 AM, adrian@elisp.de via RT &lt;bug-Win32-TieRegistry@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt;&gt;
&gt;&gt;&gt; It would be great if the failure mode could be made more obvious by a
&gt;&gt;&gt; more meaningful error message or other means.
&gt;&gt;&gt;
&gt;&gt;&gt; Would it make sense for Win32::TieRegistry to just plain out REQUIRE
&gt;&gt;&gt; Win32::WinError?
</div>&gt;&gt;
&gt;&gt;
&gt;&gt; Yes, much of the support for working without some key features, such as a useful $^E and the Win32::WinError module should be dropped now.
&gt;&gt;
&gt;&gt; For this module, I am currently in the middle of a rather long-running round of reconciling several different sources of improvements to it &#40;very long-running due to only rarely finding the time to work on that project, in part because another project is the work to make this type of thing much easier for me to do&#41;.
&gt;&gt;
&gt;&gt; So a simple patch would be appreciated.  A complex patch would likely only be useful as a suggestion since the most up-to-date incarnation of this module is not something currently available nor something that I will be likely to make available at the moment.
&gt;&gt;
&gt;&gt; Though, my hope is to fairly soon have the module so you can even apply patches yourself.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Tye
&gt;&gt;
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
</div>
-- 
Adrian Aichner
 mailto:adrian@elisp.de
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;16&nbsp;11:03:00&nbsp;2008</span>
    <span class="description">tye.mcqueen [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39818] SubKeyNames fails in German Windows XP, unless Win32::WinError is installed</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 16 Oct 2008 08:02:36 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-TieRegistry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tye McQueen&#34; &lt;tye.mcqueen [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Oct 16, 2008 at 6:06 AM, Adam Kennedy wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; WinError looks well maintained and safe, should I just make the
&gt; dependency enforced?
&gt;
</div>
Yes, that is exactly what I was referring to when I said:

2008/10/15 Tye McQueen via RT &lt;bug-Win32-TieRegistry@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Yes, much of the support for working without some key features, such as a
&gt; &gt; useful $^E and the Win32::WinError module should be dropped now.
</div>&gt;
</div>
Thanks,
Tye
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;24&nbsp;13:13:33&nbsp;2012</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawlUWH9bcXS1vuMY08GeMTtCbnnqAMRinig -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bdimych</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!

I&#39;ve encountered this bug and have some thoughts

1&#41; it seems that other bugs
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=32598">https://rt.cpan.org/Public/Bug/Display.html?id=32598</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=25102">https://rt.cpan.org/Public/Bug/Display.html?id=25102</a></span>
actually the same thing

2&#41; imho it should be mentioned in the manual
in the BUGS section something like
&#34;Several functions fail on non-english system if Win32::WinError is not
installed.
The error message is: Can&#39;t use an undefined value as an ARRAY reference&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;14&nbsp;09:11:50&nbsp;2014</span>
    <span class="description">frioux [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Sep 24 13:13:33 2012, <span class="clickylink"><a target="new" rel="nofollow" href="https://www.google.com/accounts/o8/id?id=AItOawlUWH9bcXS1vuMY08GeMTtCbnnqAMRinig">https://www.google.com/accounts/o8/id?id=AItOawlUWH9bcXS1vuMY08GeMTtCbnnqAMRinig</a></span> wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi!
&gt; 
&gt; I&#39;ve encountered this bug and have some thoughts
&gt; 
&gt; 1&#41; it seems that other bugs
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=32598">https://rt.cpan.org/Public/Bug/Display.html?id=32598</a></span>
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=25102">https://rt.cpan.org/Public/Bug/Display.html?id=25102</a></span>
&gt; actually the same thing
&gt; 
&gt; 2&#41; imho it should be mentioned in the manual
&gt; in the BUGS section something like
&gt; &#34;Several functions fail on non-english system if Win32::WinError is not
&gt; installed.
&gt; The error message is: Can&#39;t use an undefined value as an ARRAY reference&#34;
&gt; 
</div>
The problem is with Win32API::Registry. See some good analysis here: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Public/Bug/Display.html?id=123207">https://rt.perl.org/Public/Bug/Display.html?id=123207</a></span>

The only solution is to patch Win32API::Registry. The author seems a little unresponsive &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=37750.&#41;">https://rt.cpan.org/Ticket/Display.html?id=37750.&#41;</a></span> If someone who knows XS would like to offer to take it over I think that would be best. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;05&nbsp;02:32:20&nbsp;2015</span>
    <span class="description">CHORNY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;05&nbsp;02:32:22&nbsp;2015</span>
    <span class="description">CHORNY [...] cpan.org -  Fixed in 0.28 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
