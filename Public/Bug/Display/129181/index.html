<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #129181 for Data-TableAutoSum: Test failures &#40;hash randomization?&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #129181 for Data-TableAutoSum: Test failures &#40;hash randomization?&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Data-TableAutoSum/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Data-TableAutoSum/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Data-TableAutoSum/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Data-TableAutoSum/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Data-TableAutoSum">Data-TableAutoSum CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">129181</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Data-TableAutoSum/Active/">Data-TableAutoSum</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9360-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.08    </td>
  </tr>
  <tr id="CF-9361-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.09    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;14&nbsp;09:58:38&nbsp;2019</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test failures &#40;hash randomization?&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The test suite fails on almost all of my smoker systems. The test log output is quite long because of warnings and usually truncated on CPAN Testers &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/8926edfe-52c6-11e9-ab3e-5b43707c0951">http://www.cpantesters.org/cpan/report/8926edfe-52c6-11e9-ab3e-5b43707c0951</a></span> for a sample report&#41;.

The actual failure seems to be:

...
t/result.t ............ ok
Name &#34;main::STORED_TALE&#34; used only once: possible typo at t/store_read.t line 32.

#   Failed test &#39;Read stored table has the same as_string representantion as the original &#40;ARRAY&#40;0x5637bc4f9018&#41;xARRAY&#40;0x5637bc5486f8&#41; table&#41;&#39;
#   at t/store_read.t line 37.
#          got: &#39;\t     Col 0\t Col 1\t Col 2\t Col 3\t Col 4\t Col 5\t Col 6\t Col 7\t Col 8\t Col 9\t Col 10\t        Col 11\t        Col 12\t        Col 13\t        Col 14\t        Col 15\t        Col 16\t        Col 17\t        Col 18\t        Col 19\t        Col 20\t        Col 21\t        Col 22\t        Col 23\t        Col 24\t        Col 25\t        Col 26\t        Col 27\t        Col 28\t        Col 29\t        Col 30\t        Col 31\t        Col 32\t        Col 33\t        Col 34\t        Col 35\t        Col 36\t        Col 37\t        Col 38\t        Col 39\t        Col 40\t        Col 41\t        Col 42\t        Col 43\t        Col 44\t        Col 45\t        Col 46\t        Col 47\t        Col 48\t        Col 49\t        Sum\n
... &#40;more rows following&#41; ...

For perls &lt; 5.18 I don&#39;t see any fail reports, so maybe the cause here is hash randomization introduced in newer perls?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;28&nbsp;05:16:14&nbsp;2019</span>
    <span class="description">bigj [...] kamelfreund.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the report,

it had nothing to do with hashing,
but I fixed:
- these many warnings &#40;have correctly increased with perl versions&#41;, I developped it with Perl 5.6 :-o
- storing the file with immediate flushing
- main problem was that there were small floating errors when calculating random numbers truncating on 3 digits. I now round them in the tests to integers to avoid such stuff. Could it be that Perl &lt; 5.18 test suite run perl with 32 bit or anything else.

Anyway, the module worked, but tests failed :-o
Also, somehow I doubt anyone will still use it :-o - but who knows.
I&#39;d use pandas instead for sure nowadays :-&#41;

Version 0.09 with this fix is uploading
and Version 0.10 including a link to the github repo in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/hanfried/Data-TableAutoSum">https://github.com/hanfried/Data-TableAutoSum</a></span> is uploading.

When tests are running over next days, I&#39;ll mark it as resolved.

On Sun Apr 14 09:58:38 2019, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The test suite fails on almost all of my smoker systems. The test log
&gt; output is quite long because of warnings and usually truncated on CPAN
&gt; Testers &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/8926edfe-52c6-">http://www.cpantesters.org/cpan/report/8926edfe-52c6-</a></span>
&gt; 11e9-ab3e-5b43707c0951 for a sample report&#41;.
&gt; 
&gt; The actual failure seems to be:
&gt; 
&gt; ...
&gt; t/result.t ............ ok
&gt; Name &#34;main::STORED_TALE&#34; used only once: possible typo at
&gt; t/store_read.t line 32.
&gt; 
&gt; #   Failed test &#39;Read stored table has the same as_string
&gt; representantion as the original
&gt; &#40;ARRAY&#40;0x5637bc4f9018&#41;xARRAY&#40;0x5637bc5486f8&#41; table&#41;&#39;
&gt; #   at t/store_read.t line 37.
&gt; #          got: &#39;\t     Col 0\t Col 1\t Col 2\t Col 3\t Col 4\t Col
&gt; 5\t Col 6\t Col 7\t Col 8\t Col 9\t Col 10\t        Col 11\t
&gt; Col 12\t        Col 13\t        Col 14\t        Col 15\t        Col
&gt; 16\t        Col 17\t        Col 18\t        Col 19\t        Col 20\t
&gt; Col 21\t        Col 22\t        Col 23\t        Col 24\t        Col
&gt; 25\t        Col 26\t        Col 27\t        Col 28\t        Col 29\t
&gt; Col 30\t        Col 31\t        Col 32\t        Col 33\t        Col
&gt; 34\t        Col 35\t        Col 36\t        Col 37\t        Col 38\t
&gt; Col 39\t        Col 40\t        Col 41\t        Col 42\t        Col
&gt; 43\t        Col 44\t        Col 45\t        Col 46\t        Col 47\t
&gt; Col 48\t        Col 49\t        Sum\n
&gt; ... &#40;more rows following&#41; ...
&gt; 
&gt; For perls &lt; 5.18 I don&#39;t see any fail reports, so maybe the cause here
&gt; is hash randomization introduced in newer perls?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;28&nbsp;05:16:15&nbsp;2019</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;28&nbsp;05:16:15&nbsp;2019</span>
    <span class="description">bigj [...] kamelfreund.de -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;29&nbsp;05:31:34&nbsp;2019</span>
    <span class="description">bigj [...] kamelfreund.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">All tests are now green, so I&#39;ll mark it as resolved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;29&nbsp;05:31:34&nbsp;2019</span>
    <span class="description">bigj [...] kamelfreund.de -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;29&nbsp;05:31:34&nbsp;2019</span>
    <span class="description">bigj [...] kamelfreund.de -  Fixed in 0.09 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
