<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80300 for PDL-Graphics-Gnuplot: 1.2-2 won&#39;t build on perl-5.8.x</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80300 for PDL-Graphics-Gnuplot: 1.2-2 won&#39;t build on perl-5.8.x</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PDL-Graphics-Gnuplot">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PDL-Graphics-Gnuplot">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PDL-Graphics-Gnuplot">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PDL-Graphics-Gnuplot">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PDL-Graphics-Gnuplot">PDL-Graphics-Gnuplot CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80300</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PDL-Graphics-Gnuplot">PDL-Graphics-Gnuplot</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sisyphus [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-239690-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.2-2    </td>
  </tr>
  <tr id="CF-239691-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




defined_op.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1131451/595368/defined_op.diff">
Sun Oct 21 03:13:25 2012 (7.7k) by sisyphus [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=80300">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131193" href="/Public/Bug/Display.html?id=80300#txn-1131193">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;04:54:15&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 1.2-2 won&#39;t build on perl-5.8.x</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131193/595200/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595200">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 818b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
perl-5.8.x doesn&#39;t understand the // operator &#40;which is to be found in a
few places in PDL/Graphics/Gnuplot.pm&#41;.
If we don&#39;t want to make this module available for 5.8.x, then we should
probably &#39;use 5.10;&#39; in the Makefile.PL &#40;and perhaps do the same in
Gnuplot.pm&#41;. This would signal our intention quite clearly that pre-5.10
versions of perl are not supported.

Otherwise, I guess we should replace the instances of the // operator in
Gnuplot.pm with code that 5.8.x *does* understand.

AFAIK PDL itself still supports 5.8.1 and later - some may regard that
as sufficient reason that PDL::Graphics::Gnuplot ought to build on perls
back to 5.8.1.

I personally have no vested interest regarding which &#40;if any&#41; path is
chosen.

&#40;If a patch is required here, just let me know and and I will create it.&#41;

Cheers,
Rob
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131434" href="/Public/Bug/Display.html?id=80300#txn-1131434">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;21&nbsp;02:13:07&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131434/595354/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595354">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 289b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 04:54:15 2012, SISYPHUS wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If we don&#39;t want to make this module available for 5.8.x, then we should
&gt; probably &#39;use 5.10;&#39; in the Makefile.PL &#40;and perhaps do the same in
&gt; Gnuplot.pm&#41;.
</div>
Except, of course, that should be &#39;use 5.01;&#39; &#40;or even &#39;use 5.010;&#39;&#41;.

Cheers,
Rob
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131437" href="/Public/Bug/Display.html?id=80300#txn-1131437">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;21&nbsp;02:13:08&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131438" href="/Public/Bug/Display.html?id=80300#txn-1131438">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;21&nbsp;02:22:19&nbsp;2012</span>
    <span class="description">craig [...] deforest.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Craig DeForest &lt;craig [...] deforest.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #80300] 1.2-2 won&#39;t build on perl-5.8.x</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 21 Oct 2012 00:22:04 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDL-Graphics-Gnuplot [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Craig DeForest &lt;craig [...] deforest.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131438/595357/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595357">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 593b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yup.

I&#39;m all for putting in a &#34;use 5.010&#34; - if someone can&#39;t be bothered to upgrade perl in 5 years, they just don&#39;t care.


On Oct 21, 2012, at 12:13 AM, Sisyphus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: PDL-Graphics-Gnuplot
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80300">https://rt.cpan.org/Ticket/Display.html?id=80300</a></span> &gt;
&gt; 
&gt; On Sat Oct 20 04:54:15 2012, SISYPHUS wrote:
&gt; 
<div class="message-stanza open">&gt;&gt; If we don&#39;t want to make this module available for 5.8.x, then we should
&gt;&gt; probably &#39;use 5.10;&#39; in the Makefile.PL &#40;and perhaps do the same in
&gt;&gt; Gnuplot.pm&#41;.
</div>&gt; 
&gt; Except, of course, that should be &#39;use 5.01;&#39; &#40;or even &#39;use 5.010;&#39;&#41;.
&gt; 
&gt; Cheers,
&gt; Rob
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131441" href="/Public/Bug/Display.html?id=80300#txn-1131441">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;21&nbsp;02:28:58&nbsp;2012</span>
    <span class="description">drzowie [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131441/595360/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595360">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 127b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Okay, this is fixed in git -- I just added &#34;use 5.010&#34;.  Will push up to CPAN as 1.2.3 when the 
current round is dealt with.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131451" href="/Public/Bug/Display.html?id=80300#txn-1131451">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;21&nbsp;03:13:25&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131451/595367/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595367">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 345b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 04:54:15 2012, SISYPHUS wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Otherwise, I guess we should replace the instances of the // operator in
&gt; Gnuplot.pm with code that 5.8.x *does* understand.
</div>
If you wish to go down this path, you might like to check that the
attached patch to Gnuplot.pm is satisfactory.
It worked ok for me on 5.8.9 on MS Windows.

Cheers,
Rob
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> defined_op.diff</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131451/595368/defined_op.diff">Download defined_op.diff</a><br />
<span class="downloadcontenttype">text/x-diff 7.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Gnuplot.pm_orig	2012-10-21 17:41:23 +1100
+++ Gnuplot.pm	2012-10-21 18:00:29 +1100
@@ -2122,7 +2122,7 @@
     for my $i&#40;0..$#$chunks&#41; {
 
 	# Allow global binary/ASCII flag to be overridden by per-curve binary/ASCII flag
-	$chunks-&gt;[$i]-&gt;{binaryCurveFlag} = $chunks-&gt;[$i]-&gt;{binaryWith} // $binary_mode;
+	$chunks-&gt;[$i]-&gt;{binaryCurveFlag} = _defined_eq&#40;$chunks-&gt;[$i]-&gt;{binaryWith}, $binary_mode&#41;;
 
 	# Everything else is an image fix
 	next if&#40; $chunks-&gt;[$i]-&gt;{cdims} != 2 &#41;;
@@ -2232,7 +2232,7 @@
     # If we&#39;re working with time data, and timefmt isn&#39;t set, then default it to &#39;%s&#39;.
     $this-&gt;{options}-&gt;{timefmt} = &#39;%s&#39;
 	if &#40; !defined&#40;$this-&gt;{options}-&gt;{timefmt}&#41; and  
-	     grep { &#40;$this-&gt;{options}-&gt;{$_.&#34;data&#34;} // &#34;&#34;&#41; =~ m/^time/i }  qw/x x2 y y2 z cb/ &#41;;
+	     grep { _defined_eq&#40;$this-&gt;{options}-&gt;{$_.&#34;data&#34;}, &#34;&#34;&#41; =~ m/^time/i }  qw/x x2 y y2 z cb/ &#41;;
     
     ##########
     # Merge in any temporary options that have been set by the argument parsing.
@@ -2601,7 +2601,7 @@
 
 	    # Make sure we know our &#34;with&#34; style...
 	    unless&#40;$chunk{options}{with}&#41; {
-		$chunk{options}{with} = $this-&gt;{options}-&gt;{&#39;globalwith&#39;} // [&#34;lines&#34;];
+		$chunk{options}{with} = _defined_eq&#40;$this-&gt;{options}-&gt;{&#39;globalwith&#39;}, [&#34;lines&#34;]&#41;;
 	    }
 
 	    # validate &#34;with&#34; and get imgFlag and tupleSizes.
@@ -3301,7 +3301,7 @@
 my $mouse_serial = 0;
 sub read_mouse {
     my $this = shift;
-    my $message = shift // &#34;Click mouse in plot to continue...&#34;;
+    my $message = _defined_eq&#40;shift, &#34;Click mouse in plot to continue...&#34;&#41;;
 
     barf &#34;read_mouse: This plot uses the &#39;$this-&gt;{terminal}&#39; terminal, which doesn&#39;t support mousing\n&#34;
 	unless&#40;$this-&gt;{mouse}&#41;;
@@ -3324,7 +3324,7 @@
 
     $string =~ m/Key: &#40;\-?\d+&#41;&#40; +at xy:&#40;[^\s\,]+&#41;,&#40;[^\s\,]+&#41;? button:&#40;\d+&#41;? shift:&#40;\d+&#41; alt:&#40;\d+&#41; ctrl:&#40;\d+&#41;&#41;?/ 
 	|| barf &#34;read_mouse: string $string doesn&#39;t look right - doesn&#39;t match parse regexp.\n&#34;;
-    my&#40;$ch,$x,$y,$b,$sft,$alt,$ctl&#41; = map { $_ // &#34;&#34; } &#40;$1,$3,$4,$5,$6,$7,$8&#41;;
+    my&#40;$ch,$x,$y,$b,$sft,$alt,$ctl&#41; = map { _defined_eq&#40;$_, &#34;&#34;&#41; } &#40;$1,$3,$4,$5,$6,$7,$8&#41;;
 
     if&#40;wantarray&#41; {
 	return &#40;$x,$y, &#40;$ch&gt;=32&#41;?chr&#40;$ch&#41;:undef, 
@@ -4056,8 +4056,8 @@
 			       my @numbers = &#40;&#41;;
 			       my @v = @$v;
 			       
-			       while&#40; @v &#38;&#38; &#40;&#40;$v[0]//&#34;&#34;&#41; =~ m/^&#40;\s*\-?&#40;&#40;\d+\.?\d*&#41;|&#40;\d*\.\d+&#41;&#41;&#40;[eE][\+\-]\d*&#41;?\s*&#41;?$/ &#41;&#41; {
-				   push&#40;@numbers, &#40;shift&#40;@v&#41;//&#34;&#34;&#41;&#41;;
+			       while&#40; @v &#38;&#38; &#40;_defined_eq&#40;$v[0], &#34;&#34;&#41; =~ m/^&#40;\s*\-?&#40;&#40;\d+\.?\d*&#41;|&#40;\d*\.\d+&#41;&#41;&#40;[eE][\+\-]\d*&#41;?\s*&#41;?$/ &#41;&#41; {
+				   push&#40;@numbers, _defined_eq&#40;shift&#40;@v&#41;, &#34;&#34;&#41;&#41;;
 			       }
 			       my $s = &#34;&#34;;
 			       $s .= &#34;set view &#34;.join&#40;&#34;,&#34;,@numbers&#41;.&#34;\n&#34; if&#40;@numbers&#41;;
@@ -4243,7 +4243,7 @@
          # data is here so that it gets sorted properly into each chunk -- but it doesn&#39;t get specified this way.
          # the output string just specifies STDIN.   The magic output string gets replaced post facto with the test and
          # real output format specifiers.
-    &#39;cdims&#39;     =&gt; [sub { my $s = $_[1] // 0;  # Number of dimensions in a column
+    &#39;cdims&#39;     =&gt; [sub { my $s = _defined_eq&#40;$_[1], 0&#41;;  # Number of dimensions in a column
 			  if&#40;$s==0 or $s==1 or $s==2&#41; {
 			      return $s;
 			  } else {
@@ -4716,7 +4716,7 @@
 			      push&#40;@list, &#34;&#40;&#34;, join&#40;&#34;, &#34;,
 					       map {
 						   barf &#34;&lt;foo&gt;tics: labels list elements must be duals or triples as list refs&#34;  unless&#40;ref $_ eq &#39;ARRAY&#39;&#41;;
-						   sprintf&#40;&#39;&#34;%s&#34; %s %s&#39;, $_-&gt;[0]//&#34;&#34;, $_-&gt;[1]//0, $_-&gt;[2]//&#34;&#34;&#41;;
+						   sprintf&#40;&#39;&#34;%s&#34; %s %s&#39;, _defined_eq&#40;$_-&gt;[0], &#34;&#34;&#41;, _defined_eq&#40;$_-&gt;[1], 0&#41;, _defined_eq&#40;$_-&gt;[2], &#34;&#34;&#41;&#41;;
 					       
 					       } @{$new-&gt;{labels}}
 					       &#41;,
@@ -4983,7 +4983,7 @@
 
     #### A boolean or &#39;time&#39; &#40;for &lt;foo&gt;data plot options&#41;
     &#39;bt&#39; =&gt; sub { my&#40;$k,$v,$h&#41; = @_;
-		  return &#34;set $k\n&#34; unless &#40;$v // &#34;&#34;  and  $v=~m/^t/i&#41;;
+		  return &#34;set $k\n&#34; unless &#40;_defined_eq&#40;$v, &#34;&#34;&#41;  and  $v=~m/^t/i&#41;;
 		  return &#34;set $k $v\n&#34;;rxt hel
                  },
 
@@ -5214,17 +5214,17 @@
 
 
 		     #looks like &#39;set &lt;foo&gt;range restore&#39; &#40;only way &#39;r&#39; can be the first char&#41;
-		     return &#34;set $k &#34;.join&#40;&#34; &#34;,@$v&#41;.&#34;\n&#34; if&#40;&#40;$v-&gt;[0] // &#39;&#39;&#41; =~ m/^\s*r/i&#41;;
+		     return &#34;set $k &#34;.join&#40;&#34; &#34;,@$v&#41;.&#34;\n&#34; if&#40;_defined_eq&#40;$v-&gt;[0], &#39;&#39;&#41; =~ m/^\s*r/i&#41;;
 
 
 		     # first element is an empty range specifier - emit.
-		     return &#34;set $k &#34;.join&#40;&#34; &#34;,@$v&#41;.&#34;\n&#34; if&#40;&#40;$v-&gt;[0] // &#39;&#39;&#41; =~ m/\s*\[\s*\]/&#41;;
+		     return &#34;set $k &#34;.join&#40;&#34; &#34;,@$v&#41;.&#34;\n&#34; if&#40;_defined_eq&#40;$v-&gt;[0], &#39;&#39;&#41; =~ m/\s*\[\s*\]/&#41;;
 
 		     my $c = substr&#40;$k,0,1&#41;;
-		     my $tfmt = &#40; $h-&gt;{$c.&#34;data&#34;} // &#34;&#34; &#41; =~ m/time/;
+		     my $tfmt = _defined_eq&#40; $h-&gt;{$c.&#34;data&#34;}, &#34;&#34; &#41; =~ m/time/;
 		     
 		     # first element has a nonempty range specifier &#40;naked or not&#41;.
-		     if&#40;&#40;$v-&gt;[0] // &#39;&#39;&#41; =~ m/\:/&#41; {
+		     if&#40;_defined_eq&#40;$v-&gt;[0], &#39;&#39;&#41; =~ m/\:/&#41; {
 			 $v-&gt;[0]=~ s/^\s*&#40;&#40;.*[^\s]&#41;?&#41;\s*$/$1/; # trim leading and trailing whitespace if present
 
 			 unless&#40;$v-&gt;[0] =~ m/^\[/&#41; {
@@ -5247,7 +5247,7 @@
 		     # specifier out of &#39;em, then emit.
 		     # Here&#39;s a little fillip: gnuplot requires quotes around time ranges
 		     # if the corresponding axes are time data.  Handle that bizarre case.
-		     if&#40; &#40;$h-&gt;{$c.&#34;data&#34;} // &#34;&#34; &#41; =~ m/time/ &#41; {
+		     if&#40; _defined_eq&#40;$h-&gt;{$c.&#34;data&#34;}, &#34;&#34; &#41; =~ m/time/ &#41; {
 			 return sprintf&#40;&#34;set %s [%s:%s]\n&#34;,$k, &#40;&#40;defined $v-&gt;[0]&#41;?&#34;\&#34;$v-&gt;[0]\&#34;&#34;:&#34;*&#34;&#41;, &#40;&#40;defined $v-&gt;[1]&#41;?&#34;\&#34;$v-&gt;[1]\&#34;&#34;:&#34;*&#34;&#41;&#41;;
 		     }
 	
@@ -5262,7 +5262,7 @@
 		      # if the corresponding axes are time data.  Handle that bizarre case.
 		      my $c = substr&#40;$k,0,1&#41;;
 
-		      if&#40; &#40;&#40;$this and $this-&gt;{options} and $this-&gt;{options}-&gt;{$c.&#34;data&#34;}&#41; // &#34;&#34; &#41; =~ m/time/ &#41; {
+		      if&#40; _defined_eq&#40;&#40;$this and $this-&gt;{options} and $this-&gt;{options}-&gt;{$c.&#34;data&#34;}&#41;, &#34;&#34; &#41; =~ m/time/ &#41; {
 			  print STDERR &#34;WARNING: gnuplot-4.6.1 date range bug triggered.  Check the date scale.\n&#34;;
 			  return sprintf&#40;&#34; [%s:%s] &#34;,&#40;&#40;defined $v-&gt;[0]&#41;?&#34;\&#34;$v-&gt;[0]\&#34;&#34;:&#34;&#34;&#41;, &#40;&#40;defined $v-&gt;[1]&#41;?&#34;\&#34;$v-&gt;[1]\&#34;&#34;:&#34;&#34;&#41;&#41;;
 		      }
@@ -5607,8 +5607,8 @@
     $terminalOpt-&gt;{&#34;wait&#34;} = [ &#39;s&#39; , sub { return &#34;&#34; }, undef, $i++, &#34;wait time before throwing an error &#40;default 5s&#41;&#34; ];
     $termTab-&gt;{$k} = { desc =&gt; $termTabSource-&gt;{$k}-&gt;{desc},
 		       unit =&gt; $termTabSource-&gt;{$k}-&gt;{unit},
-		       mouse =&gt; $termTabSource-&gt;{$k}-&gt;{mouse} // 0,
-		       int   =&gt; $termTabSource-&gt;{$k}-&gt;{int} // 0,
+		       mouse =&gt; _defined_eq&#40;$termTabSource-&gt;{$k}-&gt;{mouse}, 0&#41;,
+		       int   =&gt; _defined_eq&#40;$termTabSource-&gt;{$k}-&gt;{int}, 0&#41;,
 		       opt  =&gt; [ $terminalOpt, 
 				 undef, # This gets filled in on first use in the constructor.
 				 &#34;$k terminal options&#34;
@@ -5920,9 +5920,9 @@
 sub _checkpoint {
     my $this   = shift;
     my $suffix = shift || &#34;main&#34;;
-    my $opt = shift // {};
-    my $notimeout = $opt-&gt;{notimeout} // 0;
-    my $printwarnings = &#40;&#40;$opt-&gt;{printwarnings} // 0&#41; and !&#40;$this-&gt;{options}-&gt;{silent} // 0&#41;&#41;;
+    my $opt = _defined_eq&#40;shift, {}&#41;;
+    my $notimeout = _defined_eq&#40;$opt-&gt;{notimeout}, 0&#41;;
+    my $printwarnings = &#40;_defined_eq&#40;$opt-&gt;{printwarnings}, 0&#41; and !_defined_eq&#40;$this-&gt;{options}-&gt;{silent}, 0&#41;&#41;;
     
     my $pipeerr = $this-&gt;{&#34;err-$suffix&#34;};
 
@@ -5950,7 +5950,7 @@
 	_logEvent&#40;$this, &#34;Trying to read from gnuplot &#40;suffix $suffix&#41;&#34;&#41; if $this-&gt;{options}{tee};
 
 	my $terminal =$this-&gt;{options}-&gt;{terminal};
-	my $delay = &#40;&#40;$this-&gt;{&#39;wait&#39;}//0&#41; + 0&#41; || 5;
+	my $delay = &#40;_defined_eq&#40;$this-&gt;{&#39;wait&#39;}, 0&#41; + 0&#41; || 5;
 
 	if&#40;$this-&gt;{&#34;echobuffer-$suffix&#34;}&#41; {
 	    $fromerr = $this-&gt;{&#34;echobuffer-$suffix&#34;};
@@ -6172,7 +6172,7 @@
 	    splice @$with, $i,1; # remove &#39;resample&#39; from list
 	    $resample_flag = 1;
 	    if&#40; &#40;$with-&gt;[$i]&#41; =~ m/&#40;\d+&#41;&#40;\,&#40;\d+&#41;&#41;?/ &#41; {
-		@resample_dims = &#40;$1, $3 // $1&#41;;
+		@resample_dims = &#40;$1, _defined_eq&#40;$3, $1&#41;&#41;;
 		splice @$with, $i, 1;
 	    }
 	    $i--;
@@ -6294,6 +6294,11 @@
 
 }
 
+# The // operator works only with 5.10 and later. This sub does the same,
+# and works with perl-5.8 as well.
+sub _defined_eq {
+  defined&#40;$_[0]&#41; ? $_[0] : $_[1];
+}
 
 =head1 COMPATIBILITY
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131889" href="/Public/Bug/Display.html?id=80300#txn-1131889">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;22&nbsp;12:33:39&nbsp;2012</span>
    <span class="description">drzowie [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131889/595619/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595619">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 27b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">1.3 is marked &#34;use 5.010&#34;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131892" href="/Public/Bug/Display.html?id=80300#txn-1131892">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;22&nbsp;12:33:39&nbsp;2012</span>
    <span class="description">drzowie [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.347465</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
