<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #70570 for Net-Appliance-Session: Command Queing Problem</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #70570 for Net-Appliance-Session: Command Queing Problem</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-Appliance-Session/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-Appliance-Session/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-Appliance-Session/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-Appliance-Session/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-Appliance-Session">Net-Appliance-Session CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">70570</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-Appliance-Session/Active/">Net-Appliance-Session</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">OLIVER [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mathias [...] handsche.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-41116-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.112290    </td>
  </tr>
  <tr id="CF-41117-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;29&nbsp;03:17:29&nbsp;2011</span>
    <span class="description">mathias [...] handsche.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Command Queing Problem</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Oliver,
firstly thanks so much for your great module. I&#39;m using the Version &lt;3
now for years without any problems.

I just upgraded my module to 3.112290 and I&#39;m now debugging my problem
for hours. I would be really happy if you could help me.

It seems that the command queing mechanism in the module is faster than
the real life.


Example:

I do a copy command:

copy
ftp://summer:summer@10.14.37.160//tftpboot/c1841-adventerprisek9-mz.151-2.T3.bin
flash:

But the result is the result of the prior &#34;wr&#34;

$VAR1 = &#39;end^MHAN1841#wr^MBuilding configuration...^M[OK]^M&#39;;

After that I do a verify ... but the Result is the Result of the copy
command. I also get a lot of ugly Backspaces &#40;BS&#41; and Carrige Returns &#40;CR&#41;.

verify /md5 flash:c1841-adventerprisek9-mz.151-2.T3.bin
98e90514850c3630dd9ab072c9fbe0e3

$VAR1 = &#39;^MHAN1841#copy
ftp://summer:summer@10.14.37.160//tftpboot/c1841-adventerprisek9^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H$baykom:baykom@10.14.37.160//tftpboot/c1841-adventerprisek9-
       
^H^H^H^H^H^H^H^H^Hmz.151-2.^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^Hkom@10.14.37.160//tftpboot/c1841-adventerprisek9-mz.151-2.T
        ^H^H^H^H^H^H^H^H^H3.bin
fla^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H^H37.160//tftpboot/c1841-adventerprisek9-mz.151-2.T3.bin
flas         ^H^H^H^H^H^H^H^H^Hh:^MDestination filename
[c1841-adventerprisek9-mz.151-2.T3.bin]? ^MAccessing
ftp://*****:*****@10.14.37.160//tftpboot/c1841-adventerprisek9-mz.151-2.T3.bin...^M&#39;;
$VAR2 = &#39;%Error opening
ftp://*****:*****@10.14.37.160//tftpboot/c1841-adventerprisek9-mz.151-2.T3.bin
&#40;Protocol error&#41;^M&#39;;


I just attaced the complete logfile and my part of the code.

Regards

Mathias
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> han1841.debug.clean</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> script.pl</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">sub betanken {
    my &#40;$hostname, $transport, $username, $password, $timeout&#41; = @_;
	
    
    my $a = `snmpget -v 2c -c $snmp_ro_community -O vq $hostname .1.3.6.1.4.1.9.2.1.73.0 2&gt;/dev/null`;
	
	$a =~ m/flash.{0,1}\:\/{0,1}&#40;.*&#41;&#34;/i;
	
	unless &#40;$1&#41; {
		print &#34;$hostname\tError\tnot reachable via SNMP\n&#34;;
		$pm-&gt;finish;
	}
	
	my $running_ios = $1;

	unless&#40;$zuordnungen{$running_ios}&#41; {
		print &#34;$hostname\tError\tno new matching IOS found &#40;found: $running_ios&#41;\n&#34;;
		$pm-&gt;finish;
	}
	my $new_ios = $zuordnungen{$running_ios}{&#39;ZIEL-IOS&#39;};
	
	unless&#40;$checksums{$new_ios}&#41; {
		print &#34;$hostname\tError\tno Checksum for new IOS found\n&#34;;
		$pm-&gt;finish;
	}
	
	
	
	#my $ram_in_byte = `snmpget -v 2c -c $snmp_ro_community -O vq $hostname .1.3.6.1.4.1.9.3.6.6.0 2&gt;/dev/null`;
    
	
	
    my $s = Net::Appliance::Session-&gt;new&#40;{
        host      =&gt; $hostname,
        transport =&gt; $transport,
        personality =&gt; &#39;ios&#39;,     
		Timeout   =&gt; 600,
		connect_options =&gt; {
			opts=&gt; [ &#39;-o&#39;, &#39;StrictHostKeyChecking=no&#39;],
			},
    }&#41;;
	
	
	#print &#34;\n DEBUG WIRD NACH &#34;.$debug_dir.$hostname.&#34; geschrieben \n&#34;;
	$s-&gt;nci-&gt;logger-&gt;log_config&#40;{
					dispatchers =&gt; [&#39;file_debug&#39;,&#39;file_info&#39;,&#39;file_notice&#39;,&#39;file_warning&#39;],
					screen =&gt; {
						class =&gt; &#39;Log::Dispatch::Screen&#39;,
						min_level =&gt; &#39;debug&#39;,
					},
					file_debug =&gt; {
						class =&gt; &#39;Log::Dispatch::File&#39;,
						min_level =&gt; &#39;debug&#39;,
						filename =&gt; $debug_dir.$hostname.&#34;.debug&#34;,
					},
					file_info =&gt; {
						class =&gt; &#39;Log::Dispatch::File&#39;,
						min_level =&gt; &#39;info&#39;,
						filename =&gt; $debug_dir.$hostname.&#34;.info&#34;,
					},
					file_notice =&gt; {
						class =&gt; &#39;Log::Dispatch::File&#39;,
						min_level =&gt; &#39;notice&#39;,
						filename =&gt; $debug_dir.$hostname.&#34;.notice&#34;,
					},
					file_warning =&gt; {
						class =&gt; &#39;Log::Dispatch::File&#39;,
						min_level =&gt; &#39;warning&#39;,
						filename =&gt; $debug_dir.$hostname.&#34;.warning&#34;,
					},
	 }&#41;;
	 
	open &#40;FH, &#34;&gt; &#34;.$debug_dir.$hostname.&#34;.extract&#34;&#41;;
	
	$s-&gt;set_global_log_at&#40;&#39;debug&#39;&#41;;
	# $s-&gt;nci-&gt;logger-&gt;log_flags&#40;{
						# dump =&gt; &#39;debug&#39;,
						# }&#41;;
	
    
    my $debug_log = $debug_dir.$hostname;
    
 
    eval {

        $s-&gt;connect&#40;{  
            username =&gt; $username,
            password =&gt; $password,
        }&#41;; 
        
      
            
		my @memory = $s-&gt;cmd&#40;&#39;sh ver | i memory|Flash&#39;&#41;;
		
		my &#40;$type, $mem, $flash&#41;;
		
		if &#40;@memory ~~ /Cisco &#40;\w*\d+&#41;.* with &#40;\d+&#41;K\/&#40;\d+&#41;K bytes of memory/&#41;{
			$type = $1;
			$mem = int &#40;&#40;$2+$3&#41;/1024&#41;;
		}
		
		if &#40;@memory ~~ /&#40;\d+&#41;K bytes of .*Read/&#41;{
			$flash = int &#40;$1/1000&#41;;
		}
		
		if &#40;$mem &lt; &#40;$checksums{$new_ios}{&#39;DRAM&#39;} * 0.90&#41;&#41; {
			print &#34;$hostname\tError\ttoo less DRAM\tFound: $mem Needed: &#34;.$checksums{$new_ios}{&#39;DRAM&#39;}.&#34;\n&#34;;
			$pm-&gt;finish;
		}
		
		if &#40;$flash &lt; &#40;$checksums{$new_ios}{&#39;FLASH&#39;} * 0.90&#41;&#41; {
			print &#34;$hostname\tError\ttoo less FLASH\tFound: $flash Needed: &#34;.$checksums{$new_ios}{&#39;FLASH&#39;}.&#34;\n&#34;;
			$pm-&gt;finish;
		}

		
		
		my @dir = $s-&gt;cmd&#40;&#39;dir&#39;&#41;;
		
		my $drive;
		if &#40;@dir ~~ m/Directory of &#40;\w+&#41;:/&#41; {
		   $drive = $1;
		}
		else {
			print &#40;&#34;$hostname\tError\tCould not determine destionation flash drive&#34;&#41;;
			$pm-&gt;finish;
		}		
		
		my $banner = &lt;&lt;&#39;HERE&#39;;
banner login ^C

        ############################
        #    !!! Attention !!!     #
        ############################
        # Router will be cuurently #
        # upgraded to new IOS      #
        #                          #
        # DON&#39;T CHANGE THE CONFIG  #
        # DON&#39;T REBOOT THE ROUTER  #
        #                          #
        ############################
^C

HERE
	
		
		$s-&gt;cmd&#40;&#34;conf t&#34;&#41;;
		$s-&gt;cmd&#40;$banner&#41;;
		$s-&gt;cmd&#40;&#34;no ip ftp passive&#34;&#41;;
		$s-&gt;cmd&#40;&#34;ip ftp source-interface Loopback0&#34;&#41;;
		$s-&gt;cmd&#40;&#34;no boot system&#34;&#41;;
		$s-&gt;cmd&#40;&#34;line vty 0 4&#34;&#41;;
		$s-&gt;cmd&#40;&#34;exec-timeout 60 0&#34;&#41;;
		$s-&gt;cmd&#40;&#34;end&#34;&#41;;
		$s-&gt;cmd&#40;&#34;wr&#34;&#41;;
	
	    $s-&gt;cmd&#40;&#34;format $drive:\n\n\n&#34;&#41;;
		

		my @transfer_status;
		my $erfolg = &#39;false&#39;;
		my $i;
		SCHLEIFE: for &#40;$i = 1; $i&lt;$max_ftp_retries; $i++ &#41;{
			 @transfer_status = $s-&gt;cmd&#40;&#39;copy ftp://summer:summer@&#39;.$file_host.&#39;/&#39;.$ftp_image_dir.$new_ios.&#34; &#34;.$drive.&#34;:\n\n\n&#34;&#41;;
			 print FH &#34;\n\n&#34;.&#39;copy ftp://summer:summer@&#39;.$file_host.&#39;/&#39;.$ftp_image_dir.$new_ios.&#34; &#34;.$drive.&#34;:\n\n\n&#34;.&#34;\n\n&#34;;
			 print FH Dumper&#40;@transfer_status&#41;;
			 foreach my $a &#40;@transfer_status&#41; {
				if &#40;$a =~ m/OK/i&#41; {
					$erfolg = &#39;true&#39;;
					last SCHLEIFE;
				}
			 }
			 sleep&#40;60&#41;;
		}

		
		if &#40;$erfolg eq &#39;false&#39;&#41; {
		  @transfer_status = $s-&gt;cmd&#40;&#39;copy tftp://&#39;.$file_host.$tftp_image_dir.$new_ios.&#34; &#34;.$drive.&#34;:\n\n\n&#34;&#41;;
		  print FH &#34;\n\n&#34;.&#39;copy tftp://&#39;.$file_host.$tftp_image_dir.$new_ios.&#34; &#34;.$drive.&#34;:\n\n\n&#34;.&#34;\n\n&#34;;
		  print FH Dumper&#40;@transfer_status&#41;;
		  foreach my $a &#40;@transfer_status&#41; {
				if &#40;$a =~ m/OK/i&#41; {
					$erfolg = &#39;true&#39;;
					last;
				}
			 }
		}
		
		if &#40;$erfolg eq &#39;false&#39;&#41; {
			print &#40;&#34;$hostname\tError\tTransfer of IOS Image failed Anzahl $i\n&#34;&#41;;
			#print Dumper&#40;$ftp_status&#41;;
			$pm-&gt;finish;
		}
		
			
		
		$s-&gt;cmd&#40;&#34;dir&#34;&#41;;
		
		my @verify = $s-&gt;cmd&#40;
	 			   &#39;verify /md5 &#39;.$drive.&#39;:&#39;.$new_ios.&#34; &#34;.$checksums{$new_ios}{&#39;MD5&#39;}
	 	&#41;;
		
		print FH &#34;\n\n&#34;.&#39;verify /md5 &#39;.$drive.&#39;:&#39;.$new_ios.&#34; &#34;.$checksums{$new_ios}{&#39;MD5&#39;}.&#34;\n\n&#34;;
		print FH Dumper&#40;@verify&#41;;
		
		
		if &#40;@verify ~~ m/^Verified/&#41; {
			$s-&gt;cmd&#40;&#34;conf t&#34;&#41;;
			$s-&gt;cmd&#40;&#34;no banner login&#34;&#41;;
			$s-&gt;cmd&#40;&#34;end&#34;&#41;;
			$s-&gt;cmd&#40;&#34;wr&#34;&#41;;
			print &#34;$hostname\tOK\tRUN: $running_ios New: $new_ios Type: $type RAM: $mem &#34;.$drive.&#34;: $flash\n&#34;;
		}
		else {
			print &#34;$hostname\tError\tRUN: $running_ios New: $new_ios Type: $type RAM: $mem &#34;.$drive.&#34;: $flash\n&#34;;
		}
       
    };
	
	if &#40; UNIVERSAL::isa&#40;$@,&#39;Net::Appliance::Session::Exception&#39;&#41; &#41; {
		open &#40;FERROR, &#34;&gt;&gt; &#34;.$error_dir.$hostname&#41; or croak &#34;Cannot open $error_dir.$hostname $1\n&#34;;
		print FERROR $@-&gt;message, &#34;\n&#34;;  # fault description from Net::Appliance::Session
		print FERROR $@-&gt;errmsg, &#34;\n&#34;;   # message from Net::Telnet
		print FERROR $@-&gt;lastline, &#34;\n&#34;; # last line of output from your appliance
		close &#40;FERROR&#41;;
		# perform any other cleanup as necessary
	}
	
	$s-&gt;close;
	close&#40;FH&#41;;
    
	
	
}</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;08&nbsp;18:07:14&nbsp;2011</span>
    <span class="description">OLIVER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Sorry for the delay in responding, I was moving house!

I&#39;ll try to take a look at your problem over the next few days and reply soon.

regards,
oliver.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;08&nbsp;18:07:14&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;08&nbsp;18:07:15&nbsp;2011</span>
    <span class="description">OLIVER [...] cpan.org -  Given to OLIVER</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;18&nbsp;04:29:32&nbsp;2011</span>
    <span class="description">OLIVER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Mathias,

On Mon Aug 29 03:17:29 2011, mathias4bitcard wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It seems that the command queing mechanism in the module is faster
&gt;    than the real life.
&gt; 
&gt; After that I do a verify ... but the Result is the Result of the copy
&gt; command. I also get a lot of ugly Backspaces &#40;BS&#41; and Carrige Returns
&gt;    &#40;CR&#41;.
</div>
I&#39;ve investigated the problem and recently released new versions of Net::CLI::Interact and 
Net::Appliance::Session. These two have changes to the way responses are handled which 
should improve things for you.

In particular, the module now strips non-printing control characters, and handles line endings 
&#40;CR&#41; better. The module should produce sensible results for you.

One piece of advice I can give is to issue a terminal *width* setting to the device, in privileged 
&#40;enable&#41; mode: $s-&gt;cmd&#40;&#39;terminal width 512&#39;&#41;;

Please let me know how you get on.

regards,
oliver.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;18&nbsp;04:29:33&nbsp;2011</span>
    <span class="description">OLIVER [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
