<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #128913 for Mail-IMAPClient: Mail::IMAPClient question on message_to_file</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #128913 for Mail-IMAPClient: Mail::IMAPClient question on message_to_file</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Mail-IMAPClient">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Mail-IMAPClient">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Mail-IMAPClient">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Mail-IMAPClient">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mail-IMAPClient">Mail-IMAPClient CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">128913</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Mail-IMAPClient">Mail-IMAPClient</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dailylama [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19960-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19961-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=128913">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839306" href="/Public/Bug/Display.html?id=128913#txn-1839306">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;06:26:44&nbsp;2019</span>
    <span class="description">dailylama [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fwd: Undeliverable: Mail::IMAPClient</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 22 Mar 2019 12:26:01 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mail-IMAPClient [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Afanasiy Fet &lt;dailylama [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1839306/988774/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/988774">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 11.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">have you checked if

message_to_file

is correctly saving messages to file which have
attachment-files with utf8 filenames?

I&#39;m getting error from this:

$obj-&gt;message_to_file&#40;&#34;$temp&#34;, $msg&#41;
my $message = $temp-&gt;slurp;
Email::MIME-&gt;new&#40;$message&#41;;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">---------- Forwarded message ---------
From: &lt;postmaster@kernengroup.com&gt;
Date: Fri, Mar 22, 2019 at 8:55 AM
Subject: Undeliverable: Mail::IMAPClient
To: &lt;dailylama@gmail.com&gt;


Your message to imap@kernengroup.com couldn&#39;t be delivered.
imap wasn&#39;t found at kernengroup.com.
dailylama Office 365 imap
*Action Required* Recipient
Unknown To address

How to Fix It
The address may be misspelled or may not exist. Try one or more of the
following:

   - Send the message again following these steps: In Outlook, open this
   non-delivery report &#40;NDR&#41; and choose *Send Again* from the Report
   ribbon. In Outlook on the web, select this NDR, then select the link &#34;*To
   send this message again, click here.*&#34; Then delete and retype the entire
   recipient address. If prompted with an Auto-Complete List suggestion don&#39;t
   select it. After typing the complete address, click *Send*.
   - Contact the recipient &#40;by phone, for example&#41; to check that the
   address exists and is correct.
   - The recipient may have set up email forwarding to an incorrect
   address. Ask them to check that any forwarding they&#39;ve set up is working
   correctly.
   - Clear the recipient Auto-Complete List in Outlook or Outlook on the
   web by following the steps in this article: Fix email delivery issues
   for error code 5.1.10 in Office 365
   &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=532972">https://go.microsoft.com/fwlink/?LinkId=532972</a></span>&gt;, and then send the
   message again. Retype the entire recipient address before selecting
   *Send*.

If the problem continues, forward this message to your email admin. If
you&#39;re an email admin, refer to the *More Info for Email Admins* section
below.

*Was this helpful? Send feedback to Microsoft
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=525921">https://go.microsoft.com/fwlink/?LinkId=525921</a></span>&gt;.*
------------------------------

More Info for Email Admins
*Status code: 550 5.1.10*

This error occurs because the sender sent a message to an email address
hosted by Office 365 but the address is incorrect or doesn&#39;t exist at the
destination domain. The error is reported by the recipient domain&#39;s email
server, but most often it must be fixed by the person who sent the message.
If the steps in the *How to Fix It* section above don&#39;t fix the problem,
and you&#39;re the email admin for the recipient, try one or more of the
following:

*The email address exists and is correct* - Confirm that the recipient
address exists, is correct, and is accepting messages.

*Synchronize your directories* - If you have a hybrid environment and are
using directory synchronization make sure the recipient&#39;s email address is
synced correctly in both Office 365 and in your on-premises directory.

*Errant forwarding rule* - Check for forwarding rules that aren&#39;t behaving
as expected. Forwarding can be set up by an admin via mail flow rules or
mailbox forwarding address settings, or by the recipient via the Inbox
Rules feature.

*Recipient has a valid license* - Make sure the recipient has an Office 365
license assigned to them. The recipient&#39;s email admin can use the Office
365 admin center to assign a license &#40;Users &gt; Active Users &gt; select the
recipient &gt; Assigned License &gt; Edit&#41;.

*Mail flow settings and MX records are not correct* - Misconfigured mail
flow or MX record settings can cause this error. Check your Office 365 mail
flow settings to make sure your domain and any mail flow connectors are set
up correctly. Also, work with your domain registrar to make sure the MX
records for your domain are configured correctly.

For more information and additional tips to fix this issue, see Fix email
delivery issues for error code 5.1.10 in Office 365
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=532972">https://go.microsoft.com/fwlink/?LinkId=532972</a></span>&gt;.

Original Message Details
Created Date: 3/22/2019 6:54:32 AM
Sender Address: dailylama@gmail.com
Recipient Address: imap@kernengroup.com
Subject: Mail::IMAPClient

Error Details
Reported error: *550 5.1.10 RESOLVER.ADR.RecipientNotFound; Recipient
imap@kernengroup.com &lt;imap@kernengroup.com&gt; not found by SMTP address
lookup*
DSN generated by: MWHPR1701MB1872.namprd17.prod.outlook.com
Message Hops
HOP TIME &#40;UTC&#41; FROM TO WITH RELAY TIME
1 3/22/2019
6:54:45 AM mail-lj1-f171.google.com SMTP 13 sec
2 3/22/2019
6:54:45 AM mail-lj1-f171.google.com xx1.develooper.com ESMTPS *
3 3/22/2019
6:55:13 AM xx1.develooper.com localhost SMTP 28 sec
4 3/22/2019
6:55:14 AM localhost localhost ESMTP 1 sec
5 3/22/2019
6:55:14 AM xx1.develooper.com mx3.develooper.com ESMTPS *
6 3/22/2019
6:55:15 AM mx3.develooper.com
CO1NAM05FT045.mail.protection.outlook.com Microsoft
SMTP Server &#40;version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41;
1 sec
7 3/22/2019
6:55:15 AM CO1NAM05FT045.eop-nam05.prod.protection.outlook.com
DM5PR17CA0057.outlook.office365.com Microsoft SMTP Server &#40;version=TLS1_2,
cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41; *
8 3/22/2019
6:55:16 AM DM5PR17CA0057.namprd17.prod.outlook.com
MWHPR1701MB1872.namprd17.prod.outlook.com Microsoft SMTP Server
&#40;version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41; 1 sec

Original Message Headers

Received: from DM5PR17CA0057.namprd17.prod.outlook.com &#40;2603:10b6:3:13f::19&#41;
 by MWHPR1701MB1872.namprd17.prod.outlook.com &#40;2603:10b6:301:1d::18&#41; with
 Microsoft SMTP Server &#40;version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41; id 15.20.1730.18; Fri, 22 Mar
 2019 06:55:16 +0000
Received: from CO1NAM05FT045.eop-nam05.prod.protection.outlook.com
 &#40;2a01:111:f400:7e50::203&#41; by DM5PR17CA0057.outlook.office365.com
 &#40;2603:10b6:3:13f::19&#41; with Microsoft SMTP Server &#40;version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41; id 15.20.1730.15 via Frontend
 Transport; Fri, 22 Mar 2019 06:55:15 +0000
Authentication-Results: spf=softfail &#40;sender IP is 207.171.7.185&#41;
 smtp.mailfrom=gmail.com; kernengroup.com; dkim=pass &#40;signature was verified&#41;
 header.d=gmail.com;kernengroup.com; dmarc=pass action=none
 header.from=gmail.com;
Received-SPF: SoftFail &#40;protection.outlook.com: domain of transitioning
 gmail.com discourages use of 207.171.7.185 as permitted sender&#41;
Received: from mx3.develooper.com &#40;207.171.7.185&#41; by
 CO1NAM05FT045.mail.protection.outlook.com &#40;10.152.96.159&#41; with Microsoft SMTP
 Server &#40;version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#41; id
 15.20.1750.4 via Frontend Transport; Fri, 22 Mar 2019 06:55:15 +0000
Received: from xx1.develooper.com &#40;xx1.dev [10.0.100.115]&#41;
        &#40;using TLSv1 with cipher ADH-AES256-SHA &#40;256/256 bits&#41;&#41;
        &#40;No client certificate requested&#41;
        by mx3.develooper.com &#40;Postfix&#41; with ESMTPS id 63FB646F
        for &lt;imap@kernengroup.com&gt;; Thu, 21 Mar 2019 23:55:14 -0700 &#40;PDT&#41;
Received: from localhost &#40;xx1.develooper.com [127.0.0.1]&#41;
        by localhost &#40;Postfix&#41; with ESMTP id 5047E7CEEC
        for &lt;imap@kernengroup.com&gt;; Thu, 21 Mar 2019 23:55:14 -0700 &#40;PDT&#41;
X-Spam-Checker-Version: SpamAssassin 3.3.1 &#40;2010-03-16&#41; on mx3.develooper.com
X-Spam-Status: No, score=-2.0 required=6.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FROM,RCVD_IN_DNSWL_NONE autolearn=ham
        version=3.3.1
Received: from xx1.develooper.com &#40;xx1.develooper.com [127.0.0.1]&#41;
        by localhost &#40;Postfix&#41; with SMTP id 34B5C7CED0
        for &lt;imap@kernengroup.com&gt;; Thu, 21 Mar 2019 23:55:13 -0700 &#40;PDT&#41;
X-CPAN.org: This message routed through the cpan.org mail forwarding
service.  Please use PAUSE pause.perl.org to configure your delivery
settings.
Received: from mail-lj1-f171.google.com &#40;mail-lj1-f171.google.com
[209.85.208.171]&#41;
        &#40;using TLSv1 with cipher AES128-SHA &#40;128/128 bits&#41;&#41;
        &#40;No client certificate requested&#41;
        by xx1.develooper.com &#40;Postfix&#41; with ESMTPS id 527F37CF29
        for &lt;DJKERNEN@cpan.org&gt;; Thu, 21 Mar 2019 23:54:45 -0700 &#40;PDT&#41;
Received: by mail-lj1-f171.google.com with SMTP id j89so1120026ljb.1
        for &lt;DJKERNEN@cpan.org&gt;; Thu, 21 Mar 2019 23:54:45 -0700 &#40;PDT&#41;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:reply-to:from:date:message-id:subject:to;
        bh=jft1d6Rr+SEuQh1NWPDttvULCjvq29cl/3E9jK5w90U=;
        b=JPCxeZpwB7ib2A5wG20RnXam/zja0YXAT71QWHs97vmRdCtV72cWAFZKGJZ3SFCYkO
         0aQiEUYozlKCDqnFZzmWYEC8vrA2moWzij38VbXqryQie8dpgwBPCRnacPOx+rIpvmSB
         nDcv1nVjimOAs8MGj0epIeh+rvIlkNWfIiGi41pIKe/KWpQRPJjO7MUnWuzardhZ96kg
         aIospjWljDcZ+3mRdxf9asz8fw7T5++SO5cmENWbBDsSTahOn4IyuX30o5faUITCrGQX
         0IDaywmtsSYHB1tKJlZ3qOnjvAMGuJoln5oXRyG/oa9l8jA+PPknEqeBUZdOB6+tCheC
         38iA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:reply-to:from:date:message-id
         :subject:to;
        bh=jft1d6Rr+SEuQh1NWPDttvULCjvq29cl/3E9jK5w90U=;
        b=gI1B7EH+Tlg7LKkpyssyFonk8YVWs9vgKOuOFMDCTcbw2Pwshq8CeJ54KMx3yFkk/R
         NnBCITrb/X1eQ3FP4SdkhuAorz43nMn5FbDD03RfADP617pKCc/1siCYw6Rqp0DbDqNF
         5pBDqQL51onjLWtGasC/edn6UOuCZ8F7+yuZIuZ6QuY9WI8Wk+FnMWPosTSRd18TOJ9b
         drZL4U0vm6gJ3OdAyUmPYoq36fBV1RJzIHMyeyxpdPVDhS/nb7E3YyqEeJ1ZTrdyAIQ4
         n24EkV2w8r/f/Dm5UXcT/3kZBiBTJHeHOcMT2Clnq8bbOnq47ANr1b7Tl8anzWoAt6xL
         tu+Q==
X-Gm-Message-State: APjAAAVmjfiSWaJ+aEdhPcaZWd4iRvjKsxopI/EOxRJUYqF4MRMC72L3
        b9CLz+LDDoo99C5WJgcym0IC058X/uUS/HKOjyr8/JJZnKI=
X-Google-Smtp-Source:
APXvYqw/POBFbIFyIf2JJTdl32ebSfKMMV7QwboCbspqT6RKlMzdqk2ppO3URlkL5Tgn18w61Y/N9yHZwE0nVDUd0d4=
X-Received: by 2002:a2e:87d8:: with SMTP id v24mr2142580ljj.172.1553237683454;
 Thu, 21 Mar 2019 23:54:43 -0700 &#40;PDT&#41;
MIME-Version: 1.0
Reply-To: dailylama@gmail.com
From: Afanasiy Fet &lt;dailylama@gmail.com&gt;
Date: Fri, 22 Mar 2019 08:54:32 +0200
Message-ID: &lt;CADJk8Zekx18dzav6XDtXqVrnqMNSxVbRtGdOefBikJo7wO=2nA@mail.gmail.com&gt;
Subject: Mail::IMAPClient
To: DJKERNEN@cpan.org
Content-Type: text/plain; charset=&#34;UTF-8&#34;
X-PMX-Version: 5.6.1.2065439, Antispam-Engine: 2.7.2.376379,
Antispam-Data: 2019.1.28.225115
X-PMX-Spam: Gauge=IIIIIIII, Probability=8%, Report=&#39;
 HTML_00_01 0.05, HTML_00_10 0.05, BODYTEXTP_SIZE_3000_LESS 0,
BODYTEXTP_SIZE_400_LESS 0, BODY_SIZE_1000_LESS 0, BODY_SIZE_100_199 0,
BODY_SIZE_2000_LESS 0, BODY_SIZE_5000_LESS 0, BODY_SIZE_7000_LESS 0,
CT_TEXT_PLAIN_UTF8_CAPS 0, DKIM_ALIGNS 0, DKIM_SIGNATURE 0,
NO_CTA_URI_FOUND 0, NO_URI_FOUND 0, NO_URI_HTTPS 0,
REPLYTO_SAMEAS_FROM 0, SMALL_BODY 0, SPF_PASS 0, WEBMAIL_SOURCE 0,
__CT 0, __CT_TEXT_PLAIN 0, __DKIM_ALIGNS_1 0, __DKIM_ALIGNS_2 0,
__DQ_NEG_HEUR 0, __DQ_NEG_IP 0, __FRAUD_WEBMAIL 0,
__FRAUD_WEBMAIL_FROM 0, __FRAUD_WEBMAIL_REPLYTO 0, __FROM_GMAIL 0,
__FUR_RDNS_GMAIL 0, __HAS_FROM 0, __HAS_MSGID 0, __HAS_REPLYTO 0,
__HELO_GMAIL 0, __MIME_TEXT_ONLY 0, __MIME_TEXT_P 0, __MIME_TEXT_P1 0,
__MIME_VERSION 0, __NO_HTML_TAG_RAW 0, __PHISH_SPEAR_STRUCTURE_1 0,
__PHISH_SPEAR_SUBJ_SUBJECT 0, __RDNS_WEBMAIL 0,
__REPLYTO_SAMEAS_FROM_ACC 0, __REPLYTO_SAMEAS_FROM_ADDY 0,
 __REPLYTO_SAMEAS_FROM_DOMAIN 0, __SANE_MSGID 0, __TO_MALFORMED_2 0,
__TO_NO_NAME 0, __X_GOOGLE_DKIM_SIGNATURE 0, __YOUTUBE_RCVD 0,
__zen.spamhaus.org_ERROR &#39;
Return-Path: dailylama@gmail.com
X-EOPAttributedMessage: 0
X-EOPTenantAttributedMessage: 11a05a03-8d9a-450d-86cd-8bac2174142d:0
X-Forefront-Antispam-Report: CIP:207.171.7.185;IPV:NLI;CTRY:US;EFV:NLI;
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 4991fc60-e905-4838-3484-08d6ae93566c
X-Microsoft-Antispam:
        BCL:0;PCL:0;RULEID:&#40;2390118&#41;&#40;7020095&#41;&#40;4652040&#41;&#40;5600127&#41;&#40;711020&#41;&#40;4605104&#41;&#40;4709054&#41;&#40;1401299&#41;&#40;8001031&#41;&#40;1421009&#41;&#40;1402095&#41;&#40;71702078&#41;;SRVR:MWHPR1701MB1872;
X-MS-TrafficTypeDiagnostic: MWHPR1701MB1872:




<div class="message-stanza open">---------- Forwarded message ----------
From: Afanasiy Fet &lt;dailylama@gmail.com&gt;
To: DJKERNEN@cpan.org
Cc:
Bcc:
Date: Fri, 22 Mar 2019 08:54:32 +0200
Subject: Mail::IMAPClient
have you checked if

message_to_file

is correctly saving messages to file which have
attachment-files with utf8 filenames?
</div></div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1839306/988775/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/988775">with headers</a>
<br />
<span class="downloadcontenttype">text/html 36.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839356" href="/Public/Bug/Display.html?id=128913#txn-1839356">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;13:45:44&nbsp;2019</span>
    <span class="description">PLOBBES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1839356/988806/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/988806">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 397b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The question was:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; have you checked if
&gt; 
&gt; message_to_file
&gt; 
&gt; is correctly saving messages to file which have
&gt; attachment-files with utf8 filenames?
</div>
I may be missing the point of the question here, but the content and/or number of attachments to a message has no bearing on the behavior of message_to_file.

If you disagree, please provide some support to back up the disagreement.  Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839357" href="/Public/Bug/Display.html?id=128913#txn-1839357">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;13:45:45&nbsp;2019</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839360" href="/Public/Bug/Display.html?id=128913#txn-1839360">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;13:45:45&nbsp;2019</span>
    <span class="description">PLOBBES [...] cpan.org -  Subject changed from &#39;Fwd: Undeliverable: Mail::IMAPClient&#39; to &#39;Mail::IMAPClient question on message_to_file&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839361" href="/Public/Bug/Display.html?id=128913#txn-1839361">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;13:45:45&nbsp;2019</span>
    <span class="description">PLOBBES [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1839403" href="/Public/Bug/Display.html?id=128913#txn-1839403">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;23&nbsp;04:51:47&nbsp;2019</span>
    <span class="description">dailylama [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #128913] Fwd: Undeliverable: Mail::IMAPClient</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 23 Mar 2019 10:51:19 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mail-IMAPClient [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Afanasiy Fet &lt;dailylama [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1839403/988841/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/988841">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m trying Email::MIME-&gt;new&#40;&#41; on the file which was saved by message_to_file&#40;&#41;

An issue with utf8 filename is closed &#40;perhaps bug fixed&#41; here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rjbs/Email-MIME/issues/18">https://github.com/rjbs/Email-MIME/issues/18</a></span>

why I&#39;m guessing only source of problem is message_to_file.


Also I found that message_to_file&#40;path&#41; does not flush the Path::Tiny::tempfile,
but does flush with filehandle as parameter. No documentation if is
there is sorts of threading going on behind the scenes

On Fri, Mar 22, 2019 at 7:45 PM Phil Pearl &#40;Lobbes&#41; via RT
&lt;bug-Mail-IMAPClient@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=128913">https://rt.cpan.org/Ticket/Display.html?id=128913</a></span> &gt;
&gt;
&gt; The question was:
&gt;
<div class="message-stanza open">&gt; &gt; have you checked if
&gt; &gt;
&gt; &gt; message_to_file
&gt; &gt;
&gt; &gt; is correctly saving messages to file which have
&gt; &gt; attachment-files with utf8 filenames?
</div>&gt;
&gt; I may be missing the point of the question here, but the content and/or number of attachments to a message has no bearing on the behavior of message_to_file.
&gt;
&gt; If you disagree, please provide some support to back up the disagreement.  Thanks!
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.429901</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
