<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #107023 for Geo-GDAL: Allow environment variables for Makefile.PL arguments</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #107023 for Geo-GDAL: Allow environment variables for Makefile.PL arguments</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Geo-GDAL/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Geo-GDAL/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Geo-GDAL/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Geo-GDAL/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Geo-GDAL">Geo-GDAL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">107023</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Geo-GDAL/Active/">Geo-GDAL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ari.jolma [...] gmail.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SLAFFAN [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14474-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14475-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.00003    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;20:05:44&nbsp;2015</span>
    <span class="description">SLAFFAN [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Allow environment variables for Makefile.PL arguments</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Ari,

Geo::GDAL is difficult to install using cpanm for most of my use cases, mainly because gdal is installed in local directories or there are minor version mismatches.  

The main reason is that Makefile.pl needs arguments to be passed to provide the location of the gdal-config file, and also version checks.

What do you think of adding support for environment variables which can be used in the absence of command line arguments?  

For example, --gdal-config could be PERL_GEOGDAL_CONFIG or similar, and --no-version-check PERL_GEOGDAL_NO_VERSION_CHECK.

I can work something up if you agree.  


Regards,
Shawn.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;02:57:22&nbsp;2015</span>
    <span class="description">ari.jolma [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Sep 10 20:05:44 2015, SLAFFAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello Ari,
&gt; 
&gt; Geo::GDAL is difficult to install using cpanm for most of my use
&gt; cases, mainly because gdal is installed in local directories or there
&gt; are minor version mismatches.
&gt; 
&gt; The main reason is that Makefile.pl needs arguments to be passed to
&gt; provide the location of the gdal-config file, and also version checks.
&gt; 
&gt; What do you think of adding support for environment variables which
&gt; can be used in the absence of command line arguments?
&gt; 
&gt; For example, --gdal-config could be PERL_GEOGDAL_CONFIG or similar,
&gt; and --no-version-check PERL_GEOGDAL_NO_VERSION_CHECK.
</div>
I can do that.

I updated yesterday the GDAL wiki page for Perl

<span class="clickylink"><a target="new" rel="nofollow" href="https://trac.osgeo.org/gdal/wiki/GdalOgrInPerl">https://trac.osgeo.org/gdal/wiki/GdalOgrInPerl</a></span>

and one thing to note is that sometimes the GDAL in the system is from older branch.

Ari

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I can work something up if you agree.
&gt; 
&gt; 
&gt; Regards,
&gt; Shawn.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;02:57:22&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;03:54:44&nbsp;2015</span>
    <span class="description">ari.jolma [...] gmail.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;11&nbsp;23:28:25&nbsp;2015</span>
    <span class="description">SLAFFAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Sep 11 02:57:22 2015, AJOLMA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Sep 10 20:05:44 2015, SLAFFAN wrote:
<div class="message-stanza open">&gt; &gt; Hello Ari,
&gt; &gt;
&gt; &gt; Geo::GDAL is difficult to install using cpanm for most of my use
&gt; &gt; cases, mainly because gdal is installed in local directories or there
&gt; &gt; are minor version mismatches.
&gt; &gt;
&gt; &gt; The main reason is that Makefile.pl needs arguments to be passed to
&gt; &gt; provide the location of the gdal-config file, and also version
&gt; &gt; checks.
&gt; &gt;
&gt; &gt; What do you think of adding support for environment variables which
&gt; &gt; can be used in the absence of command line arguments?
&gt; &gt;
&gt; &gt; For example, --gdal-config could be PERL_GEOGDAL_CONFIG or similar,
&gt; &gt; and --no-version-check PERL_GEOGDAL_NO_VERSION_CHECK.
</div>&gt; 
&gt; I can do that.
&gt; 
&gt; I updated yesterday the GDAL wiki page for Perl
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://trac.osgeo.org/gdal/wiki/GdalOgrInPerl">https://trac.osgeo.org/gdal/wiki/GdalOgrInPerl</a></span>
&gt; 
&gt; and one thing to note is that sometimes the GDAL in the system is from
&gt; older branch.
&gt; 
&gt; Ari
&gt; 
<div class="message-stanza open">&gt; &gt;
&gt; &gt; I can work something up if you agree.
&gt; &gt;
&gt; &gt;
&gt; &gt; Regards,
&gt; &gt; Shawn.
</div></div>

Thanks Ari,

The system GDAL being different is the main reason I use the gdal-config argument. Currently I need to compile a local GDAL, as the non-experimental Ubuntu distribution is still at 1.10.  
See also <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/shawnlaffan/bd_travis_experiment">https://travis-ci.org/shawnlaffan/bd_travis_experiment</a></span> and the number of install commands need in the .travis.yml file to get it to work.  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml">https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml</a></span>

Shawn.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;12&nbsp;04:11:14&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Cc SREZIC added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;14&nbsp;02:45:11&nbsp;2015</span>
    <span class="description">ari.jolma [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Sep 11 23:28:25 2015, SLAFFAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; The system GDAL being different is the main reason I use the gdal-
&gt; config argument. Currently I need to compile a local GDAL, as the non-
&gt; experimental Ubuntu distribution is still at 1.10.
&gt; See also <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/shawnlaffan/bd_travis_experiment">https://travis-ci.org/shawnlaffan/bd_travis_experiment</a></span> and
&gt; the number of install commands need in the .travis.yml file to get it
&gt; to work.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml">https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml</a></span>
</div>
Ok. Your perlbrew commands do not seem to work.

I&#39;ve tried to fix this issue in trunk and in 2.0 branch. The new 2.00003 in CPAN contains the fixes. It also contains fixes for the other bug reported here. Makefile.PL now executes gdal-config if it is not the one in the same GDAL distro tree.

I don&#39;t know why you get rat errors &#40;RasterAttributeTable&#41;. I&#39;ll look into that.

Ari

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Shawn.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;14&nbsp;02:45:25&nbsp;2015</span>
    <span class="description">ari.jolma [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;14&nbsp;02:45:26&nbsp;2015</span>
    <span class="description">ari.jolma [...] gmail.com -  Fixed in 2.00003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;14&nbsp;03:37:10&nbsp;2015</span>
    <span class="description">SLAFFAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Sep 14 02:45:11 2015, AJOLMA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Sep 11 23:28:25 2015, SLAFFAN wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; The system GDAL being different is the main reason I use the gdal-
&gt; &gt; config argument. Currently I need to compile a local GDAL, as the
&gt; &gt; non-
&gt; &gt; experimental Ubuntu distribution is still at 1.10.
&gt; &gt; See also <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/shawnlaffan/bd_travis_experiment">https://travis-ci.org/shawnlaffan/bd_travis_experiment</a></span> and
&gt; &gt; the number of install commands need in the .travis.yml file to get it
&gt; &gt; to work.
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml">https://github.com/shawnlaffan/bd_travis_experiment/blob/master/.travis.yml</a></span>
</div>&gt; 
&gt; Ok. Your perlbrew commands do not seem to work.
&gt; 
&gt; I&#39;ve tried to fix this issue in trunk and in 2.0 branch. The new
&gt; 2.00003 in CPAN contains the fixes. It also contains fixes for the
&gt; other bug reported here. Makefile.PL now executes gdal-config if it is
&gt; not the one in the same GDAL distro tree.
&gt; 
&gt; I don&#39;t know why you get rat errors &#40;RasterAttributeTable&#41;. I&#39;ll look
&gt; into that.
&gt; 
&gt; Ari
&gt; 
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Shawn.
</div></div>
Thanks Ari,


I&#39;ll update the travis checks to use GDAL 2 and Geo::GDAL 2.00003 and see how it goes.


Shawn.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
