<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #124401 for IO-Socket-SSL: Debian Wheezy drops OpenSSL TLSv1 and TLSv1.1</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #124401 for IO-Socket-SSL: Debian Wheezy drops OpenSSL TLSv1 and TLSv1.1</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/IO-Socket-SSL/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/IO-Socket-SSL/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/IO-Socket-SSL/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/IO-Socket-SSL/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-Socket-SSL">IO-Socket-SSL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">124401</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/IO-Socket-SSL/Active/">IO-Socket-SSL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
noamr [...] beyondsecurity.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17228-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17229-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;12&nbsp;10:01:51&nbsp;2018</span>
    <span class="description">noamr [...] beyondsecurity.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Debian Wheezy drops OpenSSL TLSv1 and TLSv1.1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Feb 2018 17:00:57 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-IO-Socket-SSL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Noam Rathaus &lt;noamr [...] beyondsecurity.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Debian Wheezy no longer includes OpenSSL with TLSv1 and TLSv1.1, making it
impossible to go through the &#34;make test&#34;:
t/plain_upgrade_downgrade.t ....... ok
t/protocol_version.t .............. 1/? # looks like OpenSSL was compiled
without TLSv1_1 support

#   Failed test &#39;accept SSLv23:!TLSv1_2 with TLSv1&#39;
#   at t/protocol_version.t line 135.
#          got: &#39;TLSv1_1&#39;
#     expected: &#39;TLSv1&#39;
# Looks like you failed 1 test of 8.

A possible workaround &#40;which I used&#41; is remove TLSv1 TLSv1_1 references
from the package

Not sure if this is a good overall solution

-- 

Thanks,
Noam Rathaus
Beyond Security

PGP Key ID: 2D24B275B1EB4475 &#40;Exp 2018-03&#41;
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;08:26:25&nbsp;2018</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Mo 12. Feb 2018, 10:01:51, noamr@beyondsecurity.com schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Debian Wheezy no longer includes OpenSSL with TLSv1 and TLSv1.1, making it
&gt; impossible to go through the &#34;make test&#34;:
&gt; t/plain_upgrade_downgrade.t ....... ok
&gt; t/protocol_version.t .............. 1/? # looks like OpenSSL was compiled
&gt; without TLSv1_1 support
&gt; 
&gt; #   Failed test &#39;accept SSLv23:!TLSv1_2 with TLSv1&#39;
&gt; #   at t/protocol_version.t line 135.
&gt; #          got: &#39;TLSv1_1&#39;
&gt; #     expected: &#39;TLSv1&#39;
&gt; # Looks like you failed 1 test of 8.
&gt; 
&gt; A possible workaround &#40;which I used&#41; is remove TLSv1 TLSv1_1 references
&gt; from the package
&gt; 
&gt; Not sure if this is a good overall solution
&gt; 
</div>
I cannot reproduce the problem.
First, I cannot see that OpenSSL on Wheezy has disabled TLS 1.0 and TLS 1.1 but only that on some newer versions like buster the change is done. The change was reverted but if I install the relevant version 1.1.0f-5 of openssl, libssl1.1-dev and libssl-dev I get the following output:

ok 1 - accept SSLv23 with any, got TLSv1_2
# looks like OpenSSL was compiled without SSLv3 support
# looks like OpenSSL was compiled without TLSv1 support
# failed to accept TLSv1
# failed to accept TLSv1_1
# looks like OpenSSL was compiled without TLSv1_1 support
ok 2 - accept TLSv1_2 with TLSv1_2
ok 3 - accept SSLv23 with TLSv1_2
1..3

This means it correctly identifies that TLSv1 and TLSv1_1 are not available and adapts the test so that it still succeeds.

Given that you did not specify a version of IO::Socket::SSL you use my guess is that you are using a version older than 2.050 because such an issue was fixed in 2.050.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;08:26:26&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;08:26:26&nbsp;2018</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;08:37:00&nbsp;2018</span>
    <span class="description">noamr [...] beyondsecurity.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> behroozi [...] www.pls.uni.edu</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124401] Debian Wheezy drops OpenSSL TLSv1 and TLSv1.1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Feb 2018 13:36:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-IO-Socket-SSL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Noam Rathaus &lt;noamr [...] beyondsecurity.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

I will check the version next week and tell you, I donâ€™t have access to the
machine at the moment

On Thu, 15 Feb 2018 at 14:26, Steffen Ullrich via RT &lt;
bug-IO-Socket-SSL@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=124401">https://rt.cpan.org/Ticket/Display.html?id=124401</a></span> &gt;
&gt;
&gt; Am Mo 12. Feb 2018, 10:01:51, noamr@beyondsecurity.com schrieb:
<div class="message-stanza open">&gt; &gt; Debian Wheezy no longer includes OpenSSL with TLSv1 and TLSv1.1, making
</div>&gt; it
<div class="message-stanza open">&gt; &gt; impossible to go through the &#34;make test&#34;:
&gt; &gt; t/plain_upgrade_downgrade.t ....... ok
&gt; &gt; t/protocol_version.t .............. 1/? # looks like OpenSSL was compiled
&gt; &gt; without TLSv1_1 support
&gt; &gt;
&gt; &gt; #   Failed test &#39;accept SSLv23:!TLSv1_2 with TLSv1&#39;
&gt; &gt; #   at t/protocol_version.t line 135.
&gt; &gt; #          got: &#39;TLSv1_1&#39;
&gt; &gt; #     expected: &#39;TLSv1&#39;
&gt; &gt; # Looks like you failed 1 test of 8.
&gt; &gt;
&gt; &gt; A possible workaround &#40;which I used&#41; is remove TLSv1 TLSv1_1 references
&gt; &gt; from the package
&gt; &gt;
&gt; &gt; Not sure if this is a good overall solution
&gt; &gt;
</div>&gt;
&gt; I cannot reproduce the problem.
&gt; First, I cannot see that OpenSSL on Wheezy has disabled TLS 1.0 and TLS
&gt; 1.1 but only that on some newer versions like buster the change is done.
&gt; The change was reverted but if I install the relevant version 1.1.0f-5 of
&gt; openssl, libssl1.1-dev and libssl-dev I get the following output:
&gt;
&gt; ok 1 - accept SSLv23 with any, got TLSv1_2
&gt; # looks like OpenSSL was compiled without SSLv3 support
&gt; # looks like OpenSSL was compiled without TLSv1 support
&gt; # failed to accept TLSv1
&gt; # failed to accept TLSv1_1
&gt; # looks like OpenSSL was compiled without TLSv1_1 support
&gt; ok 2 - accept TLSv1_2 with TLSv1_2
&gt; ok 3 - accept SSLv23 with TLSv1_2
&gt; 1..3
&gt;
&gt; This means it correctly identifies that TLSv1 and TLSv1_1 are not
&gt; available and adapts the test so that it still succeeds.
&gt;
&gt; Given that you did not specify a version of IO::Socket::SSL you use my
&gt; guess is that you are using a version older than 2.050 because such an
&gt; issue was fixed in 2.050.
&gt;
&gt;
&gt;
&gt; --
</div>Thanks,
Noam Rathaus
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
