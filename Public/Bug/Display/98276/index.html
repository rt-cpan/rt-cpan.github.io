<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #98276 for Compress-Snappy: Differences between bundled library and the current version?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #98276 for Compress-Snappy: Differences between bundled library and the current version?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Compress-Snappy/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Compress-Snappy/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Compress-Snappy/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Compress-Snappy/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Compress-Snappy">Compress-Snappy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">98276</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Compress-Snappy/Active/">Compress-Snappy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
DDICK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-237910-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.23    </td>
  </tr>
  <tr id="CF-237911-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;23&nbsp;02:01:35&nbsp;2014</span>
    <span class="description">DDICK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Differences between bundled library and the current version?</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, 

I&#39;m trying to package this library for Fedora. In order to do so, i need to remove the bundled c library and rely on the Fedora provided version of snappy &#40;v1.1.0&#41;.

The only way i could get that to work was with the attached patch.

Could you check this out and let me know if this is the correct way to unbundle your version of the snappy library for Fedora ?

Any suggestions/explanations you might have to explain the differences would be most welcome.

Cheers
Dave
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> compress_snappy_unbundle.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -Naur old/Makefile.PL new/Makefile.PL
--- old/Makefile.PL	2013-10-13 18:26:49.000000000 +1100
+++ new/Makefile.PL	2014-08-23 14:18:22.085946140 +1000
@@ -31,6 +31,8 @@
     },
 
     DEFINE =&gt; $ctz,
+    LIBS   =&gt; &#39;-lsnappy&#39;,
+
 
     dist  =&gt; { COMPRESS =&gt; &#39;gzip -9f&#39;, SUFFIX =&gt; &#39;gz&#39;, },
     clean =&gt; { FILES    =&gt; &#39;Compress-Snappy-*&#39; },
diff -Naur old/Snappy.xs new/Snappy.xs
--- old/Snappy.xs	2012-09-09 03:23:49.000000000 +1000
+++ new/Snappy.xs	2014-08-23 15:37:46.416968105 +1000
@@ -7,8 +7,7 @@
 #define NEED_sv_2pvbyte
 #include &#34;ppport.h&#34;
 
-#include &#34;src/csnappy_compress.c&#34;
-#include &#34;src/csnappy_decompress.c&#34;
+#include &lt;snappy-c.h&gt;
 
 MODULE = Compress::Snappy    PACKAGE = Compress::Snappy
 
@@ -20,8 +19,7 @@
 PREINIT:
     char *src, *dest;
     STRLEN src_len;
-    uint32_t dest_len;
-    void *working_memory;
+    size_t dest_len;
 CODE:
     if &#40;SvROK&#40;sv&#41; &#38;&#38; ! SvAMAGIC&#40;sv&#41;&#41;
         sv = SvRV&#40;sv&#41;;
@@ -30,19 +28,15 @@
     src = SvPVbyte&#40;sv, src_len&#41;;
     if &#40;! src_len&#41;
         XSRETURN_NO;
-    dest_len = csnappy_max_compressed_length&#40;src_len&#41;;
+    dest_len = snappy_max_compressed_length&#40;src_len&#41;;
     if &#40;! dest_len&#41;
         XSRETURN_UNDEF;
-    Newx&#40;working_memory, CSNAPPY_WORKMEM_BYTES, void *&#41;;
-    if &#40;! working_memory&#41;
-        XSRETURN_UNDEF;
     RETVAL = newSV&#40;dest_len&#41;;
     dest = SvPVX&#40;RETVAL&#41;;
     if &#40;! dest&#41;
         XSRETURN_UNDEF;
-    csnappy_compress&#40;src, src_len, dest, &#38;dest_len, working_memory,
-                     CSNAPPY_WORKMEM_BYTES_POWER_OF_TWO&#41;;
-    Safefree&#40;working_memory&#41;;
+    if &#40;snappy_compress&#40;src, src_len, dest, &#38;dest_len&#41; != SNAPPY_OK&#41;
+        XSRETURN_UNDEF;
     SvCUR_set&#40;RETVAL, dest_len&#41;;
     SvPOK_on&#40;RETVAL&#41;;
 OUTPUT:
@@ -56,8 +50,7 @@
 PREINIT:
     char *src, *dest;
     STRLEN src_len;
-    uint32_t dest_len;
-    int header_len;
+    size_t dest_len;
 CODE:
     PERL_UNUSED_VAR&#40;ix&#41;; /* -W */
     if &#40;SvROK&#40;sv&#41;&#41;
@@ -67,15 +60,13 @@
     src = SvPVbyte&#40;sv, src_len&#41;;
     if &#40;! src_len&#41;
         XSRETURN_NO;
-    header_len = csnappy_get_uncompressed_length&#40;src, src_len, &#38;dest_len&#41;;
-    if &#40;0 &gt; header_len || ! dest_len&#41;
+    if &#40;snappy_uncompressed_length&#40;src, src_len, &#38;dest_len&#41; != SNAPPY_OK&#41;
         XSRETURN_UNDEF;
     RETVAL = newSV&#40;dest_len&#41;;
     dest = SvPVX&#40;RETVAL&#41;;
     if &#40;! dest&#41;
         XSRETURN_UNDEF;
-    if &#40;csnappy_decompress_noheader&#40;src + header_len, src_len - header_len,
-                                    dest, &#38;dest_len&#41;&#41;
+    if &#40;snappy_uncompress&#40;src, src_len, dest, &#38;dest_len&#41; != SNAPPY_OK&#41;
         XSRETURN_UNDEF;
     SvCUR_set&#40;RETVAL, dest_len&#41;;
     SvPOK_on&#40;RETVAL&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;23&nbsp;09:23:28&nbsp;2014</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Aug 23 02:01:35 2014, DDICK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I&#39;m trying to package this library for Fedora. In order to do so, i
&gt; need to remove the bundled c library and rely on the Fedora provided
&gt; version of snappy &#40;v1.1.0&#41;.
&gt; 
&gt; The only way i could get that to work was with the attached patch.
&gt; 
&gt; Could you check this out and let me know if this is the correct way to
&gt; unbundle your version of the snappy library for Fedora ?
&gt; 
&gt; Any suggestions/explanations you might have to explain the differences
&gt; would be most welcome.
&gt; 
&gt; Cheers
&gt; Dave
</div>

This module uses the csnappy library [1], not the official google snappy library. It looks like the debian folks are doing similar work [2]. But if you make substantial changes to my code, I obviously can&#39;t support it. If you package csnappy in Fedora, I can update the Makefile.PL to test for a system-installed csnappy library first and fallback to the bundled library otherwise. See the attached patch for what I propose.

[1] <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/zeevt/csnappy">https://github.com/zeevt/csnappy</a></span>
[2] <span class="clickylink"><a target="new" rel="nofollow" href="https://lists.debian.org/debian-wnpp/2014/07/msg01910.html">https://lists.debian.org/debian-wnpp/2014/07/msg01910.html</a></span>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> a.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/Makefile.PL b/Makefile.PL
index 7716c6e..9bc33d1 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -1,14 +1,22 @@
 use strict;
 use warnings;
 
+use Config;
 use ExtUtils::MakeMaker 6.52;
 use Devel::CheckLib;
 
-my $ctz = check_lib&#40;
+my $have_ctz = check_lib&#40;
     lib      =&gt; &#39;c&#39;,
     function =&gt; &#39;return &#40;__builtin_ctzll&#40;0x100000000LL&#41; != 32&#41;;&#39;
 &#41; ? &#39;-DHAVE_BUILTIN_CTZ&#39; : &#39;&#39;;
 
+my $have_csnappy = check_lib&#40;
+    lib     =&gt; &#39;csnappy&#39;,
+    libpath =&gt; [ split &#39; &#39;, $Config{loclibpth} ],
+    header  =&gt; [ &#39;csnappy_compress.c&#39;, &#39;csnappy_decompress.c&#39; ],
+    incpath =&gt; [ split &#39; &#39;, $Config{locincpth} ],
+&#41;;
+
 my %conf = &#40;
     NAME               =&gt; &#39;Compress::Snappy&#39;,
     AUTHOR             =&gt; &#39;gray &lt;gray@cpan.org&gt;&#39;,
@@ -30,7 +38,10 @@ my %conf = &#40;
         },
     },
 
-    DEFINE =&gt; $ctz,
+    $have_csnappy
+        ? &#40;LIBS =&gt; &#39;-lcsnappy&#39;&#41;
+        : &#40;INC =&gt; &#39;-Isrc&#39;&#41;,
+    DEFINE =&gt; $have_ctz,
 
     dist  =&gt; { COMPRESS =&gt; &#39;gzip -9f&#39;, SUFFIX =&gt; &#39;gz&#39;, },
     clean =&gt; { FILES    =&gt; &#39;Compress-Snappy-*&#39; },
diff --git a/Snappy.xs b/Snappy.xs
index 707e026..ed5b377 100644
--- a/Snappy.xs
+++ b/Snappy.xs
@@ -7,8 +7,8 @@
 #define NEED_sv_2pvbyte
 #include &#34;ppport.h&#34;
 
-#include &#34;src/csnappy_compress.c&#34;
-#include &#34;src/csnappy_decompress.c&#34;
+#include &lt;csnappy_compress.c&gt;
+#include &lt;csnappy_decompress.c&gt;
 
 MODULE = Compress::Snappy    PACKAGE = Compress::Snappy
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;23&nbsp;09:23:29&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;24&nbsp;04:57:26&nbsp;2014</span>
    <span class="description">DDICK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Aug 23 23:23:28 2014, GRAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This module uses the csnappy library [1], not the official google
&gt; snappy library. It looks like the debian folks are doing similar work
&gt; [2]. But if you make substantial changes to my code, I obviously can&#39;t
&gt; support it. If you package csnappy in Fedora, I can update the
&gt; Makefile.PL to test for a system-installed csnappy library first and
&gt; fallback to the bundled library otherwise. See the attached patch for
&gt; what I propose.
&gt; 
&gt; [1] <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/zeevt/csnappy">https://github.com/zeevt/csnappy</a></span>
&gt; [2] <span class="clickylink"><a target="new" rel="nofollow" href="https://lists.debian.org/debian-wnpp/2014/07/msg01910.html">https://lists.debian.org/debian-wnpp/2014/07/msg01910.html</a></span>
</div>
Thanks for the speedy reply.  Naturally, i&#39;m not at all keen on packaging this module in a state that you don&#39;t want to support.  I&#39;m also not keen &#40;at least for the moment&#41; on packaging the csnappy library for Fedora.  Reasons follow;

1&#41; Fedora already has the snappy library packaged which afaik offers identical functionality as far as compressing/decompressing data is concerned.  The differences &#40;once again, afaik&#41; are entirely to do with the API and the linked libraries required at runtime.
2&#41; The csnappy library &#40;according to [1] above, appears to be a redesign to suit embedding into the Linux kernel.  It is not intended as a shared library &#40;unlike snappy&#41;, and the author admits the entire shared library concept for csnappy is a hack.
3&#41; The csnappy library ability to build on multiple architectures appears to be confined to a single Makefile, which doesn&#39;t fill me with confidence with the authors interest in supporting me if i go back to him with problems.

Please let me know if the above concerns are incorrect, or if i have missed out anything you think would encourage me to package csnappy for Fedora.

If not, is there any possibility that you could use the snappy library instead of csnappy?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;24&nbsp;11:54:59&nbsp;2014</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Aug 24 04:57:26 2014, DDICK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Aug 23 23:23:28 2014, GRAY wrote:
<div class="message-stanza open">&gt; &gt; This module uses the csnappy library [1], not the official google
&gt; &gt; snappy library. It looks like the debian folks are doing similar work
&gt; &gt; [2]. But if you make substantial changes to my code, I obviously
&gt; &gt; can&#39;t
&gt; &gt; support it. If you package csnappy in Fedora, I can update the
&gt; &gt; Makefile.PL to test for a system-installed csnappy library first and
&gt; &gt; fallback to the bundled library otherwise. See the attached patch for
&gt; &gt; what I propose.
&gt; &gt;
&gt; &gt; [1] <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/zeevt/csnappy">https://github.com/zeevt/csnappy</a></span>
&gt; &gt; [2] <span class="clickylink"><a target="new" rel="nofollow" href="https://lists.debian.org/debian-wnpp/2014/07/msg01910.html">https://lists.debian.org/debian-wnpp/2014/07/msg01910.html</a></span>
</div>&gt; 
&gt; Thanks for the speedy reply.  Naturally, i&#39;m not at all keen on
&gt; packaging this module in a state that you don&#39;t want to support.  I&#39;m
&gt; also not keen &#40;at least for the moment&#41; on packaging the csnappy
&gt; library for Fedora.  Reasons follow;
&gt; 
&gt; 1&#41; Fedora already has the snappy library packaged which afaik offers
&gt; identical functionality as far as compressing/decompressing data is
&gt; concerned.  The differences &#40;once again, afaik&#41; are entirely to do
&gt; with the API and the linked libraries required at runtime.
&gt; 2&#41; The csnappy library &#40;according to [1] above, appears to be a
&gt; redesign to suit embedding into the Linux kernel.  It is not intended
&gt; as a shared library &#40;unlike snappy&#41;, and the author admits the entire
&gt; shared library concept for csnappy is a hack.
&gt; 3&#41; The csnappy library ability to build on multiple architectures
&gt; appears to be confined to a single Makefile, which doesn&#39;t fill me
&gt; with confidence with the authors interest in supporting me if i go
&gt; back to him with problems.
&gt; 
&gt; Please let me know if the above concerns are incorrect, or if i have
&gt; missed out anything you think would encourage me to package csnappy
&gt; for Fedora.
</div>
I chose csnappy because it focuses on portability across architectures and the author is responsive. The Sereal project also uses it.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If not, is there any possibility that you could use the snappy library
&gt; instead of csnappy?
</div>
No, I don&#39;t think that&#39;s a reasonable request. Compress::Snappy works everywhere now: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/distro/C/Compress-Snappy">http://www.cpantesters.org/distro/C/Compress-Snappy</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;25&nbsp;04:17:01&nbsp;2014</span>
    <span class="description">DDICK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Aug 25 01:54:59 2014, GRAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Aug 24 04:57:26 2014, DDICK wrote:
<div class="message-stanza open">&gt; &gt; Please let me know if the above concerns are incorrect, or if i have
&gt; &gt; missed out anything you think would encourage me to package csnappy
&gt; &gt; for Fedora.
</div>&gt; 
&gt; I chose csnappy because it focuses on portability across architectures
&gt; and the author is responsive. The Sereal project also uses it.
</div>
Okay.  I&#39;ll see if i can get csnappy into Fedora/CentOS. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;25&nbsp;04:17:03&nbsp;2014</span>
    <span class="description">DDICK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
