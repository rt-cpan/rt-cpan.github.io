<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #101114 for TestRail-API: Return error message when calling gettests under windows</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #101114 for TestRail-API: Return error message when calling gettests under windows</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=TestRail-API">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=TestRail-API">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=TestRail-API">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=TestRail-API">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/TestRail-API">TestRail-API CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">101114</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=TestRail-API">TestRail-API</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">TEODESIAN [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sewang [...] wyse.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-255900-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-255901-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=101114">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1445856" href="/Public/Bug/Display.html?id=101114#txn-1445856">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;24&nbsp;04:53:27&nbsp;2014</span>
    <span class="description">sewang [...] wyse.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Return error message when calling gettests under windows</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 24 Dec 2014 01:53:12 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-TestRail-API [...] rt.cpan.org&#39;&#34; &lt;bug-TestRail-API [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Senchao Wang &lt;sewang [...] wyse.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1445856/768716/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768716">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perl version: straw berry 5.20
Module version: 0.011
OS: Window 2008 R2

Detail:
We have 2 type errors when calling API getTests

1.       Test rail API return error message “&#39;x-died&#39; =&gt; &#39;read failed: A non-blocking socket operation could not be completed immediately. at C:/strawberry/perl/vendor/lib/LWP/Protocol/http.pm line 467”

This test run have 300+ test cases, and this message will not occur on Linux with same Perl code. I guess this problem related to LWP/Net::HTTP handling https website under windows.

2.       TestRail::API::catch {...} &#40;&#34;unexpected end of string while parsing JSON string, at charac&#34;...&#41; called at C:/strawberry/pe rl/vendor/lib/Try/Tiny.pm line 104

This test run have huge number of test cases &#40;700+&#41;, seems most of test data already successful return.

May be need do some s/\cj/\n/ staff before json encoding?


BTW: Both 1 and 2 have no such problem with JAVA api

Best Regards,

Senchao Wang
Software Dev Engineer
Phone:      +86-10-82862561  Dell Lync：8672561  Mobile:    +86-13366063629
senchao_wang@dell.com&lt;mailto:senchao_wang@dell.com&gt;

Dell | Cloud Client Computing
7F, South Building, Tower C, Raycom info park.
No. 2 Science Institute South Road, Haidian District, Beijing, PR China, 100190

This communication is intended for the addressee&#40;s&#41; and may contain confidential information. We do not waive confidentiality by mistransmission.  If you have received this communication in error, any use, dissemination, printing or copying is strictly prohibited; please destroy all electronic and paper copies and notify the sender immediately.

</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1445856/768717/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768717">with headers</a>
<br />
<span class="downloadcontenttype">text/html 10.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447487" href="/Public/Bug/Display.html?id=101114#txn-1447487">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:31:33&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447487/769618/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769618">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmm, I haven&#39;t got a chance yet to give the module a whirl under windows.  I guess I&#39;ll see how strawberry works soon then.

1&#41;. This sounds like a load related issue.  Maybe usage of a Retry module &#40;there are a few on CPAN&#41; would be a good workaround until a fix can be arrived at.

scripts that LWP sees as being killed mid stream usually means the CGI process got whacked by the HTTPD; possibly PHP&#39;s memory_limit being hit?

If it isn&#39;t a load related issue like you suggest, then that suggests a weakness in the windows network stack &#40;or LWP&#39;s usage of it&#41;.  Won&#39;t be sure until I can reproduce, but I&#39;m leaning toward there being a problem with LWP.  Either way, a retry module is a good bet in the meantime; a proper fix might be tricky.

2.  It does sound like a problem that could be solved by dos2unix.  I&#39;ll look into whether JSON::XS or LWP can detect/autocorrect this or if manual filtering is required.

On Wed Dec 24 04:53:27 2014, sewang@wyse.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl version: straw berry 5.20
&gt; Module version: 0.011
&gt; OS: Window 2008 R2
&gt; 
&gt; Detail:
&gt; We have 2 type errors when calling API getTests
&gt; 
&gt; 1.       Test rail API return error message “&#39;x-died&#39; =&gt; &#39;read failed:
&gt; A non-blocking socket operation could not be completed immediately. at
&gt; C:/strawberry/perl/vendor/lib/LWP/Protocol/http.pm line 467”
&gt; 
&gt; This test run have 300+ test cases, and this message will not occur on
&gt; Linux with same Perl code. I guess this problem related to
&gt; LWP/Net::HTTP handling https website under windows.
&gt; 
&gt; 2.       TestRail::API::catch {...} &#40;&#34;unexpected end of string while
&gt; parsing JSON string, at charac&#34;...&#41; called at C:/strawberry/pe
&gt; rl/vendor/lib/Try/Tiny.pm line 104
&gt; 
&gt; This test run have huge number of test cases &#40;700+&#41;, seems most of
&gt; test data already successful return.
&gt; 
&gt; May be need do some s/\cj/\n/ staff before json encoding?
&gt; 
&gt; 
&gt; BTW: Both 1 and 2 have no such problem with JAVA api
&gt; 
&gt; Best Regards,
&gt; 
&gt; Senchao Wang
&gt; Software Dev Engineer
&gt; Phone:      +86-10-82862561  Dell Lync：8672561  Mobile:    +86-
&gt; 13366063629
&gt; senchao_wang@dell.com&lt;mailto:senchao_wang@dell.com&gt;
&gt; 
&gt; Dell | Cloud Client Computing
&gt; 7F, South Building, Tower C, Raycom info park.
&gt; No. 2 Science Institute South Road, Haidian District, Beijing, PR
&gt; China, 100190
&gt; 
&gt; This communication is intended for the addressee&#40;s&#41; and may contain
&gt; confidential information. We do not waive confidentiality by
&gt; mistransmission.  If you have received this communication in error,
&gt; any use, dissemination, printing or copying is strictly prohibited;
&gt; please destroy all electronic and paper copies and notify the sender
&gt; immediately.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447488" href="/Public/Bug/Display.html?id=101114#txn-1447488">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:31:33&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447490" href="/Public/Bug/Display.html?id=101114#txn-1447490">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:31:39&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447491" href="/Public/Bug/Display.html?id=101114#txn-1447491">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:31:39&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Fixed in 0.012 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447492" href="/Public/Bug/Display.html?id=101114#txn-1447492">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:32:10&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447492/769620/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769620">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 31 00:31:33 2014, TEODESIAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hmm, I haven&#39;t got a chance yet to give the module a whirl under
&gt; windows.  I guess I&#39;ll see how strawberry works soon then.
&gt; 
&gt; 1&#41;. This sounds like a load related issue.  Maybe usage of a Retry
&gt; module &#40;there are a few on CPAN&#41; would be a good workaround until a
&gt; fix can be arrived at.
&gt; 
&gt; scripts that LWP sees as being killed mid stream usually means the CGI
&gt; process got whacked by the HTTPD; possibly PHP&#39;s memory_limit being
&gt; hit?
&gt; 
&gt; If it isn&#39;t a load related issue like you suggest, then that suggests
&gt; a weakness in the windows network stack &#40;or LWP&#39;s usage of it&#41;.  Won&#39;t
&gt; be sure until I can reproduce, but I&#39;m leaning toward there being a
&gt; problem with LWP.  Either way, a retry module is a good bet in the
&gt; meantime; a proper fix might be tricky.
&gt; 
&gt; 2.  It does sound like a problem that could be solved by dos2unix.
&gt; I&#39;ll look into whether JSON::XS or LWP can detect/autocorrect this or
&gt; if manual filtering is required.
&gt; 
&gt; On Wed Dec 24 04:53:27 2014, sewang@wyse.com wrote:
<div class="message-stanza open">&gt; &gt; Perl version: straw berry 5.20
&gt; &gt; Module version: 0.011
&gt; &gt; OS: Window 2008 R2
&gt; &gt;
&gt; &gt; Detail:
&gt; &gt; We have 2 type errors when calling API getTests
&gt; &gt;
&gt; &gt; 1.       Test rail API return error message “&#39;x-died&#39; =&gt; &#39;read
&gt; &gt; failed:
&gt; &gt; A non-blocking socket operation could not be completed immediately.
&gt; &gt; at
&gt; &gt; C:/strawberry/perl/vendor/lib/LWP/Protocol/http.pm line 467”
&gt; &gt;
&gt; &gt; This test run have 300+ test cases, and this message will not occur
&gt; &gt; on
&gt; &gt; Linux with same Perl code. I guess this problem related to
&gt; &gt; LWP/Net::HTTP handling https website under windows.
&gt; &gt;
&gt; &gt; 2.       TestRail::API::catch {...} &#40;&#34;unexpected end of string while
&gt; &gt; parsing JSON string, at charac&#34;...&#41; called at C:/strawberry/pe
&gt; &gt; rl/vendor/lib/Try/Tiny.pm line 104
&gt; &gt;
&gt; &gt; This test run have huge number of test cases &#40;700+&#41;, seems most of
&gt; &gt; test data already successful return.
&gt; &gt;
&gt; &gt; May be need do some s/\cj/\n/ staff before json encoding?
&gt; &gt;
&gt; &gt;
&gt; &gt; BTW: Both 1 and 2 have no such problem with JAVA api
&gt; &gt;
&gt; &gt; Best Regards,
&gt; &gt;
&gt; &gt; Senchao Wang
&gt; &gt; Software Dev Engineer
&gt; &gt; Phone:      +86-10-82862561  Dell Lync：8672561  Mobile:    +86-
&gt; &gt; 13366063629
&gt; &gt; senchao_wang@dell.com&lt;mailto:senchao_wang@dell.com&gt;
&gt; &gt;
&gt; &gt; Dell | Cloud Client Computing
&gt; &gt; 7F, South Building, Tower C, Raycom info park.
&gt; &gt; No. 2 Science Institute South Road, Haidian District, Beijing, PR
&gt; &gt; China, 100190
&gt; &gt;
&gt; &gt; This communication is intended for the addressee&#40;s&#41; and may contain
&gt; &gt; confidential information. We do not waive confidentiality by
&gt; &gt; mistransmission.  If you have received this communication in error,
&gt; &gt; any use, dissemination, printing or copying is strictly prohibited;
&gt; &gt; please destroy all electronic and paper copies and notify the sender
&gt; &gt; immediately.
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447494" href="/Public/Bug/Display.html?id=101114#txn-1447494">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;00:32:16&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Fixed in 0.012 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447869" href="/Public/Bug/Display.html?id=101114#txn-1447869">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;23:25:30&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1447869/769828/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/769828">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!

I can reproduce your issue on windows XP, but I have no access to windows Server 2008.  That said, they are similar technology, so it&#39;s probably the same underlying issue.

That said, it appears the version of LWP distributed with Strawberry 5.20 is busted for WinXP, and server 2008.

Works fine on Windows 7.  And LWP 6.05 works just fine, it&#39;s bundled with strawberry 5.18.2.2.

Anyways, I&#39;ve filed an issue with libwww-perl here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101226&#38;results=91ceaaf34b15f0b507794c61817da270">https://rt.cpan.org/Ticket/Display.html?id=101226&#38;results=91ceaaf34b15f0b507794c61817da270</a></span>

Thanks for letting me know about this, and let me know if you have any more trouble with LWP 6.05.

On Wed Dec 31 00:31:33 2014, TEODESIAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hmm, I haven&#39;t got a chance yet to give the module a whirl under
&gt; windows.  I guess I&#39;ll see how strawberry works soon then.
&gt; 
&gt; 1&#41;. This sounds like a load related issue.  Maybe usage of a Retry
&gt; module &#40;there are a few on CPAN&#41; would be a good workaround until a
&gt; fix can be arrived at.
&gt; 
&gt; scripts that LWP sees as being killed mid stream usually means the CGI
&gt; process got whacked by the HTTPD; possibly PHP&#39;s memory_limit being
&gt; hit?
&gt; 
&gt; If it isn&#39;t a load related issue like you suggest, then that suggests
&gt; a weakness in the windows network stack &#40;or LWP&#39;s usage of it&#41;.  Won&#39;t
&gt; be sure until I can reproduce, but I&#39;m leaning toward there being a
&gt; problem with LWP.  Either way, a retry module is a good bet in the
&gt; meantime; a proper fix might be tricky.
&gt; 
&gt; 2.  It does sound like a problem that could be solved by dos2unix.
&gt; I&#39;ll look into whether JSON::XS or LWP can detect/autocorrect this or
&gt; if manual filtering is required.
&gt; 
&gt; On Wed Dec 24 04:53:27 2014, sewang@wyse.com wrote:
<div class="message-stanza open">&gt; &gt; Perl version: straw berry 5.20
&gt; &gt; Module version: 0.011
&gt; &gt; OS: Window 2008 R2
&gt; &gt;
&gt; &gt; Detail:
&gt; &gt; We have 2 type errors when calling API getTests
&gt; &gt;
&gt; &gt; 1.       Test rail API return error message “&#39;x-died&#39; =&gt; &#39;read
&gt; &gt; failed:
&gt; &gt; A non-blocking socket operation could not be completed immediately.
&gt; &gt; at
&gt; &gt; C:/strawberry/perl/vendor/lib/LWP/Protocol/http.pm line 467”
&gt; &gt;
&gt; &gt; This test run have 300+ test cases, and this message will not occur
&gt; &gt; on
&gt; &gt; Linux with same Perl code. I guess this problem related to
&gt; &gt; LWP/Net::HTTP handling https website under windows.
&gt; &gt;
&gt; &gt; 2.       TestRail::API::catch {...} &#40;&#34;unexpected end of string while
&gt; &gt; parsing JSON string, at charac&#34;...&#41; called at C:/strawberry/pe
&gt; &gt; rl/vendor/lib/Try/Tiny.pm line 104
&gt; &gt;
&gt; &gt; This test run have huge number of test cases &#40;700+&#41;, seems most of
&gt; &gt; test data already successful return.
&gt; &gt;
&gt; &gt; May be need do some s/\cj/\n/ staff before json encoding?
&gt; &gt;
&gt; &gt;
&gt; &gt; BTW: Both 1 and 2 have no such problem with JAVA api
&gt; &gt;
&gt; &gt; Best Regards,
&gt; &gt;
&gt; &gt; Senchao Wang
&gt; &gt; Software Dev Engineer
&gt; &gt; Phone:      +86-10-82862561  Dell Lync：8672561  Mobile:    +86-
&gt; &gt; 13366063629
&gt; &gt; senchao_wang@dell.com&lt;mailto:senchao_wang@dell.com&gt;
&gt; &gt;
&gt; &gt; Dell | Cloud Client Computing
&gt; &gt; 7F, South Building, Tower C, Raycom info park.
&gt; &gt; No. 2 Science Institute South Road, Haidian District, Beijing, PR
&gt; &gt; China, 100190
&gt; &gt;
&gt; &gt; This communication is intended for the addressee&#40;s&#41; and may contain
&gt; &gt; confidential information. We do not waive confidentiality by
&gt; &gt; mistransmission.  If you have received this communication in error,
&gt; &gt; any use, dissemination, printing or copying is strictly prohibited;
&gt; &gt; please destroy all electronic and paper copies and notify the sender
&gt; &gt; immediately.
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1447871" href="/Public/Bug/Display.html?id=101114#txn-1447871">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;23:25:41&nbsp;2014</span>
    <span class="description">TEODESIAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.366971</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
