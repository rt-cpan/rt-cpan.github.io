<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #60275 for Math-BaseCnv: bad version</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #60275 for Math-BaseCnv: bad version</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Math-BaseCnv/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Math-BaseCnv/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Math-BaseCnv/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Math-BaseCnv/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-BaseCnv">Math-BaseCnv CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">60275</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Math-BaseCnv/Active/">Math-BaseCnv</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Pip [...] CPAN.Org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
CHORNY [...] cpan.org

<br />
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-20484-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.6.A6FGHKE    </td>
  </tr>
  <tr id="CF-20485-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.10    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;12&nbsp;09:57:48&nbsp;2010</span>
    <span class="description">CHORNY [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> bad version</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can&#39;t install latest XML::Tidy, because version of Math::BaseCnv
&#40;which is prereq for it&#41; cannot be determined.

Error text:

Version &#39;1.6.A6FGHKE&#39; from C:\strawberry\perl\site\lib\Math\BaseCnv.pm
does not appear to be valid:
BEGIN { q#  Hide from _packages_inside&#40;&#41;
    #; package Module::Build::ModuleInfo::_version::p2;
    use Module::Build::Version;
    no strict;

    local $VERSION;
    $VERSION=undef;
      $vsub = sub {
        our $VERSION     = &#39;1.6.A6FGHKE&#39;; our $PTVR = $VERSION; $PTVR =~
s/^\d+\.\d+\.//; # Please see `perldoc Time::PT` for an explanation of
$PTVR.;
        $VERSION
      };
  }

The fatal error was: Invalid version format &#40;non-numeric data&#41; at
C:/strawberry/perl/lib/Module/Build/ModuleInfo.pm line 348, &lt;GEN1&gt; line 17.

-- 
Alexandr Ciornii, <span class="clickylink"><a target="new" rel="nofollow" href="http://chorny.net">http://chorny.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;13&nbsp;16:46:49&nbsp;2010</span>
    <span class="description">Pip [...] CPAN.Org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi CHORNY,

Sorry you couldn&#39;t install my latest modules. I&#39;m terribly fond of my
versioning scheme though so I&#39;d ask the Module::Build::ModuleInfo
maintainer to accept the initial numeric part of my version numbers &#38;&#38;
not make it a fatal error when encountering my PipTime non-numeric
version field. PAUSE &#38;&#38; the CPAN don&#39;t have a problem so I don&#39;t see why
Module::Build should. Maybe it could be made a warning instead of a
fatal error? I don&#39;t know. I&#39;d like to keep my versions as they are.
It&#39;s unfortunate that this decision limits my modules availability so
severely. I wish the version checkers could be like PAUSE &#38;&#38; the CPAN. =&#40;
-- 
-Pip@CPAN.Org
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;13&nbsp;16:46:49&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;09&nbsp;09:55:27&nbsp;2011</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Its not *just* Module::Build, its really the whole toolchain:<br>

<br>


<div>perl -MMath::BaseCnv\ 1.6.A6FGHKE&nbsp;</div>


<div>Invalid version format (non-numeric data) at /usr/lib64/perl5/vendor_perl/5.12.2/Exporter/Heavy.pm line 123.</div>


<div>BEGIN failed--compilation aborted.</div>


<div>&nbsp;</div>


<div>perl -MMath::BaseCnv\ 1.6</div>


<div>Invalid version format (non-numeric data).</div>


<div>BEGIN failed--compilation aborted.</div>


<div><br>
perl -MMath::BaseCnv\ 1.5<br>
<div>Invalid version format (non-numeric data).</div>
<div>BEGIN failed--compilation aborted.</div>
</div>


<div>&nbsp;</div>

perl -MMath::BaseCnv -e 'print $Math::BaseCnv::VERSION'<br>

1.6.A6FGHKE<br>

<br>


<div>perl -MMath::BaseCnv -e 'print Math::BaseCnv-&gt;VERSION()'</div>


<div>Invalid version format (non-numeric data) at -e line 1.<br>
&nbsp;</div>

perl -Mversion -e 'version-&gt;parse(q{1.6.A6FGHKE})'<br>

Invalid version format (non-numeric data) at -e line 1.<br>

<br>

Whats more, due to this, from upstreams perspective, there is absolutely no way to automatically &quot;normalise&quot; your version form to match our distributions much tigher versioning scheme. We've been currently, by hand, translating your version stuff to a more sensible format, but were' looking to go completely automatic for version normalization, and as such, this version scheme of yours will inspire us to simply refuse to ship your dist instead of having to have somebody manually translate the version.&nbsp;<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;09&nbsp;09:57:55&nbsp;2011</span>
    <span class="description">KENTNL [...] cpan.org -  Requestor KENTNL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;10&nbsp;17:25:12&nbsp;2011</span>
    <span class="description">PipStuart [...] Gmail.Com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #60275] bad version</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 10 Jan 2011 16:25:00 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BaseCnv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Pip Stuart &lt;pipstuart [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Kent,

Can&#39;t the automatic &#34;normalise&#34; process simply take the beginning
Major.Minor version number &#40;/\d+\.\d+/&#41; just like the CPAN &#38;&#38; PAUSE
do? I really wouldn&#39;t ask anyone to convert my complete versions to
decimal by hand. Neither do I ask anyone to convert my third component
as Base64 or as my Time::PT format &#40;which would be more thorough&#41;. I
think it perfectly reasonable, however, to ask versions to be treated
like they are within the already working &#38;&#38; well-established systems
of CPAN &#38;&#38; PAUSE.

In case you could be bothered to understand my attachment to
non-numeric version &#34;numbers&#34;, my version-strings encode sub-second
precision in a time-stamp for the date of release. See
HTTP://Search.CPAN.Org/~Pip for my main examples of why I&#39;m reticent
on changing my &#40;albeit unconventional&#41; take on versioning &#38;&#38;
package-naming, etc..

Please, if you would, help me get Module::Build &#38;&#38; &#34;really the whole
toolchain&#34; to accept at least the prefixed decimal numeric portions of
my version formats as valid &#38;&#38; sufficient. I&#39;d like my dists to be
shipped when possible.

Thanks,
-Pip

On Sun, Jan 9, 2011 at 08:55, Kent Fredric via RT
&lt;bug-Math-BaseCnv@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Math-BaseCnv
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=60275">https://rt.cpan.org/Ticket/Display.html?id=60275</a></span> &gt;
&gt;
&gt; Its not *just* Module::Build, its really the whole toolchain:
&gt;
&gt; perl -MMath::BaseCnv\ 1.6.A6FGHKE Invalid version format &#40;non-numeric data&#41; at
&gt; /usr/lib64/perl5/vendor_perl/5.12.2/Exporter/Heavy.pm line 123.BEGIN
&gt; failed--compilation aborted. perl -MMath::BaseCnv\ 1.6Invalid version format
&gt; &#40;non-numeric data&#41;.BEGIN failed--compilation aborted.
&gt; perl -MMath::BaseCnv\ 1.5
&gt; Invalid version format &#40;non-numeric data&#41;.BEGIN failed--compilation aborted.
&gt; perl -MMath::BaseCnv -e &#39;print $Math::BaseCnv::VERSION&#39;
&gt; 1.6.A6FGHKE
&gt;
&gt; perl -MMath::BaseCnv -e &#39;print Math::BaseCnv-&gt;VERSION&#40;&#41;&#39;Invalid version format
&gt; &#40;non-numeric data&#41; at -e line 1.
&gt; perl -Mversion -e &#39;version-&gt;parse&#40;q{1.6.A6FGHKE}&#41;&#39;
&gt; Invalid version format &#40;non-numeric data&#41; at -e line 1.
&gt;
&gt; Whats more, due to this, from upstreams perspective, there is absolutely no way
&gt; to automatically &#34;normalise&#34; your version form to match our distributions much
&gt; tigher versioning scheme. We&#39;ve been currently, by hand, translating your
&gt; version stuff to a more sensible format, but were&#39; looking to go completely
&gt; automatic for version normalization, and as such, this version scheme of yours
&gt; will inspire us to simply refuse to ship your dist instead of having to have
&gt; somebody manually translate the version.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;11&nbsp;14:52:46&nbsp;2011</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">I simply don't see what you are trying to achieve with having string data in a version. <br>

<br>

If you simply want some sort of reference for when something was released, its better to encode that in the metadata somewhere.<br>

<br>

Had perl a way of having 2 versions, one external, and one for &quot;Humans&quot; you could put the ascii in the &quot;Human&quot;&nbsp;one, but the&nbsp; (computer readable)&nbsp;version field is the wrong place for it.<br>

<br>

Versions are complicated enough as it is, and adding string-data to them just makes them needlessly *more* complicated. <br>

<br>

For some, the string data will be just annotative, and not add any value to the version, for others, it will be expected to be treated as ASCII&nbsp;sort order.<br>

<br>

Does A.B mean &quot;A.B00&quot;&nbsp;or A.00B&quot;&nbsp; ?<br>

<br>

Having recently had to work with this stuff, I can confess, even simple numeric versions have a large amount of sneakily hidden suck in them, and more complexity in versions is just far far too painful.<br>

<br>

And its not &quot;Just Perl&quot;&nbsp;that matters, there are all those Linux distributions, each with their own versioning criteria, and virtually *all*&nbsp;of them completely incompatible with yours.<br>

<br>

For lack of a better option, my current solution for Gentoo at least, in order to have something that even slightly corresponds with versioning schemes like your own that is in any way reliable, is to treat the data like an ASCII&nbsp;encoded number of some sorts.<br>

<br>

&nbsp;&nbsp;&nbsp;&nbsp; 1.6.A7RJKwl =&gt; 1.6.367.991.752.21&nbsp;&nbsp;&nbsp; (&nbsp;A7 -&gt; 367, RJ -&gt;&nbsp;991 , Kw -&gt; KW&nbsp;-&gt; 752, l -&gt; L -&gt; 21  )<br>

<br>

This is pretty much the best we can do in terms of automation, because from a downstream perspective, there is no way to differentiate <br>

<br>

&nbsp;&nbsp;&nbsp; 1.6.A7RJKwl&nbsp;&nbsp; #&nbsp;intended as a comment <br>

&nbsp;&nbsp;&nbsp; 1.6.A7RJKwl&nbsp;&nbsp; #&nbsp;intended as a version <br>

<br>

And we must assume that&nbsp; the next logical increment from <br>

<br>

&nbsp;&nbsp;&nbsp; 1.6.A7RJKwl&nbsp;&nbsp; <br>

<br>

is <br>

<br>

&nbsp;&nbsp;&nbsp;&nbsp; 1.6.A7RJKwm<br>

<br>

because somebody else will want it so they can do <br>

<br>

&nbsp;&nbsp;&nbsp; 1.6a&nbsp;&nbsp; , 1.6b, 1.6c <br>

<br>

or <br>

<br>

&nbsp;&nbsp;&nbsp; 1.6.Alpha,&nbsp; 1.6.Beta, 1.6.Gamma<br>

<br>

And its pretty much just insanity trying to write *any* code that can handle that all nicely.<br>

<br>

Due to the implicit complications that come with permitting ASCII&nbsp;in versions, I'd much *sooner*&nbsp;want PAUSE&nbsp;to *reject* things with non-numeric versions than I&nbsp;would to have the toolchain, and the *whole world*&nbsp;be forced to change how their versioning systems work.<br>

<br>

<br>

If you want to keep your trailing noise, just keep it out of the places that matter in terms of API&nbsp;conformance:<br>

<br>

1.&nbsp;Keep it out of $MY::PACKAGE::VERSION&nbsp;<br>

2. Keep it out of&nbsp; Dist-Name-$version <br>

<br>

you can keep stuffing it in your POD I guess, because nothing programming needs that a whole bunch as far as&nbsp;I&nbsp;know, but I&nbsp;may be wrong about that.<br>

<p>And the question is really, do you *need* ascii in your versions? What uses it? what do you have that parses / consumes this data? <br>

We on the contrary, *need* your version to *not*&nbsp;have ascii in it. <br>

<br>

If you don't have a reason why you *need*&nbsp;it, then you merely *want* it, and wants tend to be &lt; needs. &quot;wants&quot; are often very irrational&nbsp; =).</p>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;12&nbsp;11:45:32&nbsp;2011</span>
    <span class="description">PipStuart [...] Gmail.Com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #60275] bad version</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Jan 2011 10:45:15 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BaseCnv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Pip Stuart &lt;pipstuart [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Kent,

Thanks for the thorough reply.

As I wrote earlier:

1.6.A7RJKwl

can be simply treated as

1.6

like the CPAN &#38;&#38; PAUSE do. The ASCII part can be ignored for simple
automated systems. I&#39;d like it if Module::Build &#38;&#38; whatever toolchains
would basically emulate well-established CPAN behavior, rather than
trying to hold module version numbers to some higher standard of
validity. I know it&#39;s not easy attempting to accommodate the wide
variety of peculiar versions though, &#38;&#38; my system is certainly on the
obtuse end of the scale. I&#39;d still rather not change it, unless the
CPAN forces me to at some point.

Thanks again.

Sincerely,
-Pip

On Tue, Jan 11, 2011 at 13:52, Kent Fredric via RT
&lt;bug-Math-BaseCnv@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Math-BaseCnv
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=60275">https://rt.cpan.org/Ticket/Display.html?id=60275</a></span> &gt;
&gt;
&gt; I simply don&#39;t see what you are trying to achieve with having string data in a
&gt; version.
&gt;
&gt; If you simply want some sort of reference for when something was released, its
&gt; better to encode that in the metadata somewhere.
&gt;
&gt; Had perl a way of having 2 versions, one external, and one for &#34;Humans&#34; you
&gt; could put the ascii in the &#34;Human&#34; one, but the &#40;computer readable&#41; version
&gt; field is the wrong place for it.
&gt;
&gt; Versions are complicated enough as it is, and adding string-data to them just
&gt; makes them needlessly *more* complicated.
&gt;
&gt; For some, the string data will be just annotative, and not add any value to the
&gt; version, for others, it will be expected to be treated as ASCII sort order.
&gt;
&gt; Does A.B mean &#34;A.B00&#34; or A.00B&#34; ?
&gt;
&gt; Having recently had to work with this stuff, I can confess, even simple numeric
&gt; versions have a large amount of sneakily hidden suck in them, and more
&gt; complexity in versions is just far far too painful.
&gt;
&gt; And its not &#34;Just Perl&#34; that matters, there are all those Linux distributions,
&gt; each with their own versioning criteria, and virtually *all* of them completely
&gt; incompatible with yours.
&gt;
&gt; For lack of a better option, my current solution for Gentoo at least, in order
&gt; to have something that even slightly corresponds with versioning schemes like
&gt; your own that is in any way reliable, is to treat the data like an ASCII
&gt; encoded number of some sorts.
&gt;
&gt; 1.6.A7RJKwl =&gt; 1.6.367.991.752.21 &#40; A7 -&gt; 367, RJ -&gt; 991 , Kw -&gt; KW -&gt; 752, l
&gt; -&gt; L -&gt; 21 &#41;
&gt;
&gt; This is pretty much the best we can do in terms of automation, because from a
&gt; downstream perspective, there is no way to differentiate
&gt;
&gt; 1.6.A7RJKwl # intended as a comment
&gt; 1.6.A7RJKwl # intended as a version
&gt;
&gt; And we must assume that the next logical increment from
&gt;
&gt; 1.6.A7RJKwl
&gt;
&gt; is
&gt;
&gt; 1.6.A7RJKwm
&gt;
&gt; because somebody else will want it so they can do
&gt;
&gt; 1.6a , 1.6b, 1.6c
&gt;
&gt; or
&gt;
&gt; 1.6.Alpha, 1.6.Beta, 1.6.Gamma
&gt;
&gt; And its pretty much just insanity trying to write *any* code that can handle
&gt; that all nicely.
&gt;
&gt; Due to the implicit complications that come with permitting ASCII in versions,
&gt; I&#39;d much *sooner* want PAUSE to *reject* things with non-numeric versions than
&gt; I would to have the toolchain, and the *whole world* be forced to change how
&gt; their versioning systems work.
&gt;
&gt;
&gt; If you want to keep your trailing noise, just keep it out of the places that
&gt; matter in terms of API conformance:
&gt;
&gt; 1. Keep it out of $MY::PACKAGE::VERSION
&gt; 2. Keep it out of Dist-Name-$version
&gt;
&gt; you can keep stuffing it in your POD I guess, because nothing programming needs
&gt; that a whole bunch as far as I know, but I may be wrong about that.
&gt;
&gt; And the question is really, do you *need* ascii in your versions? What uses it?
&gt; what do you have that parses / consumes this data?
&gt; We on the contrary, *need* your version to *not* have ascii in it.
&gt;
&gt; If you don&#39;t have a reason why you *need* it, then you merely *want* it, and
&gt; wants tend to be &lt; needs. &#34;wants&#34; are often very irrational =&#41;.
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;12&nbsp;14:35:09&nbsp;2011</span>
    <span class="description">hdp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 12 11:45:32 2011, PipStuart@Gmail.Com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Kent,
&gt; 
&gt; Thanks for the thorough reply.
&gt; 
&gt; As I wrote earlier:
&gt; 
&gt; 1.6.A7RJKwl
&gt; 
&gt; can be simply treated as
&gt; 
&gt; 1.6
&gt; 
&gt; like the CPAN &#38;&#38; PAUSE do.
</div>
Perl itself disagrees with PAUSE, as does the rest of the toolchain,
making it clear that PAUSE is the outlier here &#40;listing CPAN along with
it is redundant -- maybe you meant search.cpan.org, which does something
different again, and in any case is a law unto itself&#41;.

Also, your proposed rule is insufficient -- should e.g. Time::PT
1.2.565EHOV be parsed as 1.2 or as 1.2.565?  &#40;You said it should ignore
&#34;ASCII&#34;, but I think you must have meant &#34;non-numeric&#34;, because after
all, the numbers are ascii too.&#41;  Anyway, your example above suggests
1.2, but that&#39;s not what PAUSE does; Time::PT is currently indexed as
version 1.002565, not 1.2.

The rest of the world isn&#39;t going to budge to support your unique
scheme, so all you&#39;re doing is making it more difficult for people to
use your software.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;12&nbsp;16:23:13&nbsp;2011</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">The confusion gets worse:<br>

<br>

<br>

<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~pip/Time-PT-1.2.565EHOV/">http://search.cpan.org/~pip/Time-PT-1.2.565EHOV/</a></span><br>

<br>

seeing:<br>

<br>

&nbsp;&nbsp;&nbsp; Time-PT-1.2.565EHOV<br>

<br>

and <br>

<br>

&nbsp; &nbsp; &nbsp; Time-PT-1.0.42M3ChX<br>

<br>

<p>In the same screen, I somehow assumed that it was either</p>

<p>&nbsp;</p>

<p>1.0&nbsp; -&gt;&nbsp;1.2&nbsp;&nbsp;&nbsp; where the&nbsp; parts after the . were both 100%&nbsp;ascii <br>

<br>

or<br>

<br>

1.0.42 -&gt;&nbsp;1.2.56&nbsp; , with the &quot;ignored&quot;&nbsp;bit somehow being &quot;5EHOV&quot;<br>

<br>

then the confusion worsend when I&nbsp;saw <br>

<br>

Time-PT-1.0.3CNNQHc<br>

<br>

which proved the first rule was not the case, and you were mixing numerics with non-numerics, <br>

<br>

and led me to thinking your &quot;Scheme&quot;&nbsp;implied<br>

<br>

1.0.3 -&gt;&nbsp;1.0.4 -&gt; 1.2.5&nbsp; with a &quot;Magical&quot;&nbsp;boundary on where to start and stop processing Ascii.<br>

<br>

Then I&nbsp;discover &quot;3C193GQ&quot;&nbsp;is a valid Time-PT&nbsp;and all my remaining theories on how it was expected to work went out the window.&nbsp;<br>

<br>

So here are 2 things we *cant* do with your scheme:<br>

<br>

&nbsp;1. We cant' throw out the entire part after a . that contains non-numeric data and treat the whole part like ignored ASCII, because you release 2 versions where&nbsp;&nbsp; there is an ignored ascii part and the other parts are otherwise identical. <br>

<br>

2. We can't reasonably expect the part after the '.' to even be treatable as a number for the leading parts that are numbers, because they're arbitrary base64 encoded data, and thus, you might do something silly like release 1.0.AAAAAA&nbsp;followed by 1.0.BBBBBBB , which I think you'll agree, cannot be expected to work by &quot;ignoring the Ascii&quot; , because that yields 2 releases with the same version. <br>

<br>

3.&nbsp;We can't actually &quot;Just ignore it&quot;, because even &quot;ignoring it&quot; is in some way &quot;supporting it&quot;. And if we &quot;support it&quot; , more people than *just you*&nbsp;will want to use it (&nbsp;or expect it to work&nbsp;). Some will expect it to work like a B64 encoded number, and its obvious, we can't do *BOTH*&nbsp;ignoring the ascii *AND*&nbsp;treating it as a number. <br>

<br>

There is no information in your version that indicates &quot;this is just a part that can be ignored&quot; as opposed to &quot;this is information that needs to be handled&quot;. Sure, you have said repeatedly, &quot;just ignore it&quot; , but we can't enshrine &quot;Just ignore it&quot;&nbsp;in code that will work on all modules without doing something dumb like enshrining an if (&nbsp;$cpanid eq 'PIP' )&nbsp;{&nbsp; do something different }&nbsp;&nbsp;everywhere in the code.&nbsp; Unless we ignore it for *everyone* , which will turn out to be a bad idea.<br>

<br>

We *do*&nbsp;want your contributions to CPAN, and hence the entire reason for us filing bug reports like this one =). <br>

<br>

But it is in the best interests of furtherment of this contribution to CPAN for your version to meet the standards of a version that is portable and usable by code.<br>

&nbsp;</p>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;02&nbsp;20:12:57&nbsp;2011</span>
    <span class="description">chromatic [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I used Math::BaseCnv in a client project, but the fact that its version
number doesn&#39;t work with most of the CPAN toolchain is a burden on my
client installing the rest of the project. While I can normally say &#34;Run
cpanm on this tarball and everything will work,&#34; I have three choices
now: bundle Math::BaseCnv with the project, reimplement it on my own, or
tell my client to install the library manually apart from the toolchain
before installing the project.

While I&#39;d like to continue using Math::BaseCnv, it seems awfully silly
that something as trivial as a version number makes this so difficult.

Please consider revising your numbering strategy to follow CPAN
community standards.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;12&nbsp;17:35:39&nbsp;2012</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can see how encoding the release time of a distribution into the 
version number is an attractive idea. But seeing as most of your 
distributions are in a stable phase &#40;releases months, or even years apart 
from each other&#41; sub-second precision seems like overkill. Would YYYYMMDD 
in the version number not suffice?

e.g. Math-BaseCnv-2.0.20120512
or:  Math-BaseCnv-20120512.20
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;25&nbsp;13:43:46&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2012-05-12 14:35:39, TOBYINK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can see how encoding the release time of a distribution into the 
&gt; version number is an attractive idea. But seeing as most of your 
&gt; distributions are in a stable phase &#40;releases months, or even years apart 
&gt; from each other&#41; sub-second precision seems like overkill. Would YYYYMMDD 
&gt; in the version number not suffice?
&gt; 
&gt; e.g. Math-BaseCnv-2.0.20120512
&gt; or:  Math-BaseCnv-20120512.20
</div>
How would I depend on a particular version of your code, either in my code itself or in metadata?

    use Math::BaseCnv 1.6;   # blows up - non-numeric version

    WriteMakeFile&#40;
        ...,
        PREREQ_PM =&gt; {
            &#34;Math::BaseCnv&#34; =&gt; &#34;1.6&#34;,  # errors out even during &#39;perl Makefile.PL&#39;!!!
        },
    &#41;;

Please read &#39;perldoc version&#39;. You are violating the standard.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;25&nbsp;19:02:02&nbsp;2013</span>
    <span class="description">PipStuart [...] Gmail.Com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #60275] bad version</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Sep 2013 18:01:46 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-BaseCnv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Pip Stuart &lt;pipstuart [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you to everyone who has pointed all this out. I&#39;m sorry for having
violated the standard and for remaining largely inaccessible via e-mail. I
will make a concerted effort to remedy this version issue prior to any
future releases of my CPAN modules. I made a misjudgment when convenience
and aesthetics compelled me to introduce base-64 into my versions as
strings. I obviously lacked experience, diligence, and foresight to
unintentionally drop such a wrench into crucial comparisons. Please forgive
me and be patient as I attempt to ready updates. I&#39;m usually mentally
blocked and incapable of coding, yet going forward I will try to rectify
whatever harm I&#39;ve done.

It also seems fortuitous that Michael Robinton&#39;s Math::Base::Convert
already routes around my module&#39;s failings in a more efficient way.

Sincerely,
-PipStuart


On Wed, Sep 25, 2013 at 12:43 PM, Karen Etheridge via RT &lt;
bug-Math-BaseCnv@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Math-BaseCnv
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=60275">https://rt.cpan.org/Ticket/Display.html?id=60275</a></span> &gt;
&gt;
&gt; On 2012-05-12 14:35:39, TOBYINK wrote:
<div class="message-stanza open">&gt; &gt; I can see how encoding the release time of a distribution into the
&gt; &gt; version number is an attractive idea. But seeing as most of your
&gt; &gt; distributions are in a stable phase &#40;releases months, or even years apart
&gt; &gt; from each other&#41; sub-second precision seems like overkill. Would YYYYMMDD
&gt; &gt; in the version number not suffice?
&gt; &gt;
&gt; &gt; e.g. Math-BaseCnv-2.0.20120512
&gt; &gt; or:  Math-BaseCnv-20120512.20
</div>&gt;
&gt; How would I depend on a particular version of your code, either in my code
&gt; itself or in metadata?
&gt;
&gt;     use Math::BaseCnv 1.6;   # blows up - non-numeric version
&gt;
&gt;     WriteMakeFile&#40;
&gt;         ...,
&gt;         PREREQ_PM =&gt; {
&gt;             &#34;Math::BaseCnv&#34; =&gt; &#34;1.6&#34;,  # errors out even during &#39;perl
&gt; Makefile.PL&#39;!!!
&gt;         },
&gt;     &#41;;
&gt;
&gt; Please read &#39;perldoc version&#39;. You are violating the standard.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;17&nbsp;20:19:55&nbsp;2017</span>
    <span class="description">Pip [...] CPAN.Org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;17&nbsp;20:23:20&nbsp;2017</span>
    <span class="description">Pip [...] CPAN.Org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;17&nbsp;20:23:31&nbsp;2017</span>
    <span class="description">Pip [...] CPAN.Org -  Fixed in 1.10 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
