<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #83554 for IPC-Cmd: makedepend issues with Perl 5.17.10 on z/OS 1.13</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #83554 for IPC-Cmd: makedepend issues with Perl 5.17.10 on z/OS 1.13</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IPC-Cmd">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IPC-Cmd">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IPC-Cmd">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IPC-Cmd">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IPC-Cmd">IPC-Cmd CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">83554</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">deleted</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IPC-Cmd">IPC-Cmd</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
johngood [...] us.ibm.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17338-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17339-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=83554">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1184388" href="/Public/Bug/Display.html?id=83554#txn-1184388">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;22&nbsp;14:32:43&nbsp;2013</span>
    <span class="description">johngood [...] us.ibm.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> makedepend issues with Perl 5.17.10 on z/OS 1.13</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 22 Feb 2013 14:31:05 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> perl-mvs [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Goodyear &lt;johngood [...] us.ibm.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1184388/624852/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/624852">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

All,
I am starting a long running side project on z/OS that would benefit from
the development release of Perl.    I&#39;m running into some config/build
issues, so I&#39;m reaching out to the Perl community to get some help.

I have  pulled the current dev tree  &#40;5.17.10&#41; on  Feb-21 via:
   rsync -avz rsync://perl5.git.perl.org/APC/perl-current


Configure &#40;seems&#41; to run cleanly enough, the contents of myconfig are down
towards the bottom of this post.

There are problems with makedepend.    Here is some of the output of
makedepend.   Let me know what else you might have to see.


sh ./makedepend MAKE=make
...
...
perl.c
   Finding dependencies for perl.o.
   WARNING CCN3296 ./patchlevel.h:132   #include file &#34;git_version.h&#34; not
   found.
   ERROR CCN3198 perl.c:535   #if, #else, #elif, #ifdef, #ifndef block must
   be ended with #endif.
   FSUM3065 The COMPILE step ended with return code 12.
   FSUM3017 Could not compile .83952605.c. Correct the errors and try
   again.

   Where does git_version.h  come from?   I don&#39;t have it.

   Not sure why the compiler is issuing the coplaint about 535.   Is it
   possibly 535 of the preprocessor expanded version of perl.c ??

         533      destruct_level = PL_perl_destruct_level;
         534  #if defined&#40;DEBUGGING&#41; || defined&#40;PERL_TRACK_MEMPOOL&#41;
         535      {
...
...

perly.c
   Same issue for perly.c.  complaint at line 82 does not make sense

   ERROR CCN3202 perly.c:82    #endif can only appear at the end of a #if,
   #elif, #ifdef or #ifndef block.
   FSUM3065 The COMPILE step ended with return code 12.
   FSUM3017 Could not compile .83952612.c. Correct the errors and try
   again.


         71  #  define YYFPRINTF PerlIO_printf
         72
         73  #  define YYDPRINTF&#40;Args&#41;           \
         74  do {                        \
         75      if &#40;yydebug&#41;                \
         76      YYFPRINTF Args;             \
         77  } while &#40;0&#41;
         78
         79  #  define YYDSYMPRINTF&#40;Title, Token, Value&#41;         \
         80  do {                                \
         81      if &#40;yydebug&#41; {                      \
         82      YYFPRINTF &#40;Perl_debug_log, &#34;%s &#34;, Title&#41;;       \
         83      yysymprint &#40;aTHX_ Perl_debug_log,  Token, Value&#41;;   \
         84      YYFPRINTF &#40;Perl_debug_log, &#34;\n&#34;&#41;;           \
         85      }                               \
         86  } while &#40;0&#41;




Other makedepend output indicating problems
   ...
   ...

Finding dependencies for pp_sys.o.
ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
argument for parameter a.
ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
argument for parameter a.
FSUM3065 The COMPILE step ended with return code 12.
FSUM3017 Could not compile .83952614.c. Correct the errors and try again.
Finding dependencies for regcomp.o.
Finding dependencies for regexec.o.
ERROR CCN3287 regexec.c:34    The parameter list on the definition of macro
LOAD_UTF8_CHARCLASS_DEBUG_TEST is not complete.
ERROR CCN3287 regexec.c:74    The parameter list on the definition of macro
REXEC_TRIE_READ_CHAR is not complete.
FSUM3065 The COMPILE step ended with return code 12.
FSUM3017 Could not compile .67174402.c. Correct the errors and try again.
...
...

Finding dependencies for globals.o.
WARNING CCN3296 ./perl.h:4331  #include file &#34;uudmap.h&#34; not found.
WARNING CCN3296 ./perl.h:4338  #include file &#34;bitcount.h&#34; not found.
WARNING CCN3296 ./perl.h:5203  #include file &#34;mg_data.h&#34; not found.
FSUM3065 The COMPILE step ended with return code 4.
...
...

Finding dependencies for pp_pack.o.
ERROR CCN3294 pp_pack.c:115   Syntax error in expression on #if directive.
FSUM3065 The COMPILE step ended with return code 12.
FSUM3017 Could not compile .67174450.c. Correct the errors and try again.
..
..

Finding dependencies for perlmini.o.
WARNING CCN3296 ./patchlevel.h:132   #include file &#34;git_version.h&#34; not
found.
ERROR CCN3198 perlmini.c:535   #if, #else, #elif, #ifdef, #ifndef block
must be ended with #endif.
FSUM3065 The COMPILE step ended with return code 12.
FSUM3017 Could not compile .50397241.c. Correct the errors and try again.

echo Makefile.SH cflags.SH config_h.SH makedepend.SH myconfig.SH
pod/Makefile.SH | tr &#39; &#39; &#39;\n&#39; &gt;.shlist
Updating makefile...
cd x2p; make depend
sh ../makedepend MAKE=make
echo hash.c str.c util.c walk.c | tr &#39; &#39; &#39;\n&#39; &gt;.clist
Finding dependencies for hash.o.
..
..

echo Makefile.SH cflags.SH | tr &#39; &#39; &#39;\n&#39; &gt;.shlist
Updating makefile...
Now you must run &#39;make&#39;.



Does configure usually notice errors from makedepend and indicate something
needs to be fixed before running make, or is this normal



contents of ./myconfig:
cat &lt;&lt;&#39;!NO!SUBS!&#39;
Summary of my perl5 &#40;revision 5 version 17 subversion 10&#41; configuration:

  Platform:
    osname=os390, osvers=23.00, archname=os390
    uname=&#39;os390 wsya 23.00 03 2827 &#39;
    config_args=&#39;-Dprefix=/u/jgood/local -Dusedl&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;c89&#39;, ccflags =&#39;-2 -Wc,XPLINK -DMAXSIG=39 -DOEMVS -D_OE_SOCKETS
-D_XOPEN_SOURCE_EXTENDED -D_ALL_SOURCE -DYYDYNAMIC -D_
SHR_ENVIRON -DPERL_EXTERNAL_GLOB -Wc,dll -W 0,float&#40;ieee&#41;&#39;,
    optimize=&#39; &#39;,
    cppflags=&#39;&#39;
    ccversion=&#39;&#39;, gccversion=&#39;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=4321
    d_longlong=undef, longlongsize=, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=4
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;c89&#39;, ldflags =&#39;-Wl,EDIT=NO -Wl,XPLINK,dll&#39;
    libpth=/lib /usr/lib
    libs=-lm -lc
    perllibs=-lm -lc
    libc=, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dllload.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39;-W
l,XPLINK,dll /u/jgood/perlsrc/dev-2-21-2012/libperl.x&#39;
    cccdlflags=&#39;-c -Wc,XPLINK,dll,EXPORTALL&#39;, lddlflags=&#39;-W
l,XPLINK,dll /u/jgood/perlsrc/dev-2-21-2012/libperl.x&#39;

!NO!SUBS!




John Goodyear
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1184388/624853/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/624853">with headers</a>
<br />
<span class="downloadcontenttype">text/html 12.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1186041" href="/Public/Bug/Display.html?id=83554#txn-1186041">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;26&nbsp;19:58:20&nbsp;2013</span>
    <span class="description">root [...] localhost -  Ticket deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.215073</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
