<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #59656 for App-Cmd: Documentation out of sync</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #59656 for App-Cmd: Documentation out of sync</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/App-Cmd/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/App-Cmd/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/App-Cmd/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/App-Cmd/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/rjbs/App-Cmd/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/App-Cmd">App-Cmd CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">59656</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/App-Cmd/Active/">App-Cmd</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
REHSACK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-39888-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.307    </td>
  </tr>
  <tr id="CF-39889-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;23&nbsp;11:00:54&nbsp;2010</span>
    <span class="description">REHSACK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Documentation out of sync</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Ricardo,

I&#39;m working on a tool to generate some reports. My questions was: &#34;How
can I create a command plugin what is able to execute a command based on
a configuration file name?&#34;

Example:
$ genreport daily

My App::Cmd application should look into ~/.genreport/ - find daily.yaml
and creates an alias command in App::Report::Command::GenReport. This
command should be executed and it should be informed to use the daily
configuration.

I scanned the entire Pod, found that the referenced documents
App::Cmd::Plugin and App::Cmd::Manual doesn&#39;t exists anymore but finally
I figured out what I have to do by doing a static code analysis.

Neither $actual_cmd is documented nor it&#39;s explicitly explained how a
command plugin can support more than one command.

Best regards,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;28&nbsp;03:18:29&nbsp;2010</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi rjbs,

here is the promised patch - quicker than expected, because $active_cmd
contained different data than expected - but when everything is named
$command, $cmd, ... - it&#39;s hard to keep apart ...

Sno
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0003-update-pod-to-refer-the-execute-method-instead-of-ru.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From fb696a3e1a1b81d151b754a5951212420c46b1aa Mon Sep 17 00:00:00 2001
From: Jens Rehsack &lt;rehsack@googlemail.com&gt;
Date: Wed, 28 Jul 2010 08:43:50 +0200
Subject: [PATCH 3/4] update pod to refer the execute method instead of run method

---
 lib/App/Cmd/Tutorial.pod |    4 ++--
 1 files changed, 2 insertions&#40;+&#41;, 2 deletions&#40;-&#41;

diff --git a/lib/App/Cmd/Tutorial.pod b/lib/App/Cmd/Tutorial.pod
index c4571ce..cda674c 100644
--- a/lib/App/Cmd/Tutorial.pod
+++ b/lib/App/Cmd/Tutorial.pod
@@ -58,8 +58,8 @@ Now it works:
   $ yourcmd initialize
   Everything has been initialized.  &#40;Not really.&#41;
 
-The arguments to the run method are the parsed options from the command line
-&#40;that is, the switches&#41; and the remaining arguments.  With a properly
+The arguments to the execute method are the parsed options from the command
+line &#40;that is, the switches&#41; and the remaining arguments.  With a properly
 configured command class, the following invocation:
 
   $ yourcmd reset -zB --new-seed xyzxy foo.db bar.db
-- 
1.7.0.5

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0004-add-support-of-set_action.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 83ae59259656afd50f220218b6f48980a8d8015f Mon Sep 17 00:00:00 2001
From: Jens Rehsack &lt;rehsack@googlemail.com&gt;
Date: Wed, 28 Jul 2010 09:08:47 +0200
Subject: [PATCH 4/4] - add support of set_action
 - try to document command_names better in tutorial

---
 lib/App/Cmd.pm           |    4 ++-
 lib/App/Cmd/Command.pm   |   15 ++++++++++++
 lib/App/Cmd/Tutorial.pod |   55 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 73 insertions&#40;+&#41;, 1 deletions&#40;-&#41;

diff --git a/lib/App/Cmd.pm b/lib/App/Cmd.pm
index d932253..b4e394c 100644
--- a/lib/App/Cmd.pm
+++ b/lib/App/Cmd.pm
@@ -327,7 +327,9 @@ sub prepare_command {
 sub _prepare_command {
   my &#40;$self, $command, $opt, @args&#41; = @_;
   if &#40;my $plugin = $self-&gt;plugin_for&#40;$command&#41;&#41; {
-    return $plugin-&gt;prepare&#40;$self, @args&#41;;
+    my $cmd = $plugin-&gt;prepare&#40;$self, @args&#41;;
+		$cmd-&gt;set_action&#40;$command&#41;; # when a command class can support multiple commands, we should tell the chosen
+		return $cmd;
   } else {
     return $self-&gt;_bad_command&#40;$command, $opt, @args&#41;;
   }
diff --git a/lib/App/Cmd/Command.pm b/lib/App/Cmd/Command.pm
index 3eb03d1..a7fd347 100644
--- a/lib/App/Cmd/Command.pm
+++ b/lib/App/Cmd/Command.pm
@@ -69,6 +69,21 @@ sub new {
   bless $arg =&gt; $class;
 }
 
+=head2 set_action
+
+  $command_plugin-&gt;set_action&#40;$user_command&#41;;
+
+This method is called to set the user given action on command line.  The user
+action is not interesting until multiple commands with different actions
+are supported by a plugin.
+
+=cut
+
+sub set_action {
+	my &#40;$self, $command&#41; = @_;
+	$self-&gt;{action} = $command;
+}
+
 =head2 execute
 
 =for Pod::Coverage run
diff --git a/lib/App/Cmd/Tutorial.pod b/lib/App/Cmd/Tutorial.pod
index cda674c..c1c33e6 100644
--- a/lib/App/Cmd/Tutorial.pod
+++ b/lib/App/Cmd/Tutorial.pod
@@ -100,6 +100,30 @@ routine.  To improve our command class, we might add the following code:
     $self-&gt;usage_error&#40;&#34;too few arguments&#34;&#41; unless @$args;
   }
 
+In the case a command plugin is able to execute several actions, the
+command_names method must be overwritten to inform App::Cmd:
+
+  sub command_names {
+    return qw&#40;initialize reset display&#41;;
+  }
+
+But now execute is called for each of the three actions - and the command
+doesn&#39;t know the user desired action. Take a look into the attribute
+C&lt;action&gt; &#40;set by App::Cmd::Command::set_action&#41;.
+
+  my %dispatch = &#40;
+    initialize =&gt; &#39;initialized&#39;,
+    reset      =&gt; &#39;reseted&#39;,
+    display    =&gt; &#39;displayed&#39;,
+  &#41;;
+
+  sub execute {
+    my &#40;$self, $opt, $args&#41; = @_;
+    my $action = $self-&gt;{action};
+
+    print &#34;Everything has been $dispatch{$action}.  &#40;Not really.&#41;\n&#34;;
+  }
+
 =head1 TIPS
 
 =over 4
@@ -113,6 +137,37 @@ all of them.
 
 =item *
 
+For command which act as a bridge between a module with several actions on
+the same objects, it might be useful to have one command class which dispatches
+the actions properly to reduce initialization time.
+
+  package YourApp::Command::initialize;
+  sub execute { $_[0]-&gt;{embed}-&gt;initialze&#40;&#41; };
+
+  package YourApp::Command::reset;
+  sub execute { $_[0]-&gt;{embed}-&gt;reset&#40;&#41; };
+
+  package YourApp::Command::display;
+  sub execute { $_[0]-&gt;{embed}-&gt;display&#40;&#41; };
+
+  package YourApp::Command::backup;
+  sub execute { $_[0]-&gt;{embed}-&gt;backup&#40;&#41; };
+
+  package YourApp::Command::restore;
+  sub execute { $_[0]-&gt;{embed}-&gt;restore&#40;&#41; };
+
+This will force App::Cmd to load 5 plugins, loop 5 times to get the supported
+command, etc. Instead,
+
+  package YourApp::Command::settings;
+  sub command_names { return qw&#40;initialize reset display backup restore&#41;; }
+  sub execute { my $action = $self-&gt;{action}; $_[0]-&gt;{embed}-&gt;$action&#40;&#41;; }
+
+could speed up command loading dramatically, depending on the amount of
+supported actions.
+
+=item *
+
 To add a C&lt;--help&gt; option to all your commands create a base class like:
 
   package MyApp::Command;
-- 
1.7.0.5

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0002-rename-run-method-into-execute.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 84dc8d0c573ea261000509ce7b3ff8b33aa1300b Mon Sep 17 00:00:00 2001
From: Jens Rehsack &lt;rehsack@googlemail.com&gt;
Date: Wed, 28 Jul 2010 08:39:11 +0200
Subject: [PATCH 2/4] rename run&#40;&#41; method into execute&#40;&#41;

---
 lib/App/Cmd/Command/help.pm |    2 +-
 1 files changed, 1 insertions&#40;+&#41;, 1 deletions&#40;-&#41;

diff --git a/lib/App/Cmd/Command/help.pm b/lib/App/Cmd/Command/help.pm
index f7920fe..6618e41 100644
--- a/lib/App/Cmd/Command/help.pm
+++ b/lib/App/Cmd/Command/help.pm
@@ -33,7 +33,7 @@ abstracts, or display the usage screen for a subcommand with its
 description.\n&#34;
 }
 
-sub run {
+sub execute {
   my &#40;$self, $opts, $args&#41; = @_;
 
   if &#40;!@$args&#41; {
-- 
1.7.0.5

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-minor-pod-fixes.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 19ec283fe3f5bd5a8f03a528d3b8eb0769f25adc Mon Sep 17 00:00:00 2001
From: Jens Rehsack &lt;rehsack@googlemail.com&gt;
Date: Wed, 28 Jul 2010 08:23:15 +0200
Subject: [PATCH 1/4] - minor pod fixes
 - remove App::Cmd::Plugin reference, this class doesn&#39;t really exists
   and is not documented at all
 - refer to App::Cmd::Tutorial instead of App::Cmd::Manual

---
 lib/App/Cmd.pm           |    4 ++--
 lib/App/Cmd/Setup.pm     |   12 ++++++++++--
 lib/App/Cmd/Tutorial.pod |    3 ++-
 3 files changed, 14 insertions&#40;+&#41;, 5 deletions&#40;-&#41;

diff --git a/lib/App/Cmd.pm b/lib/App/Cmd.pm
index 99cfa35..d932253 100644
--- a/lib/App/Cmd.pm
+++ b/lib/App/Cmd.pm
@@ -90,7 +90,7 @@ in F&lt;YourApp/Command/blort.pm&gt;:
     $self-&gt;usage_error&#40;&#34;No args allowed&#34;&#41; if @$args;
   }
 
-  sub run {
+  sub execute {
     my &#40;$self, $opt, $args&#41; = @_;
 
     my $result = $opt-&gt;{blortex} ? blortex&#40;&#41; : blort&#40;&#41;;
@@ -111,7 +111,7 @@ and, finally, at the command line:
 App::Cmd is intended to make it easy to write complex command-line applications
 without having to think about most of the annoying things usually involved.
 
-For information on how to start using App::Cmd, see App::Cmd::Tutorial.
+For information on how to start using App::Cmd, see L&lt;App::Cmd::Tutorial&gt;.
 
 =head1 METHODS
 
diff --git a/lib/App/Cmd/Setup.pm b/lib/App/Cmd/Setup.pm
index 586489a..2f77258 100644
--- a/lib/App/Cmd/Setup.pm
+++ b/lib/App/Cmd/Setup.pm
@@ -12,7 +12,7 @@ App::Cmd::Setup - helper for setting up App::Cmd classes
 
 App::Cmd::Setup is a helper library, used to set up base classes that will be
 used as part of an App::Cmd program.  For the most part you should refer to
-L&lt;the manual|App::Cmd::Manual&gt; for how you should use this library.
+L&lt;the tutorial|App::Cmd::Tutorial&gt; for how you should use this library.
 
 This class is useful in three scenarios:
 
@@ -30,6 +30,8 @@ Instead of writing:
   package MyApp;
   use App::Cmd::Setup -app;
 
+=begin future
+
 The benefits of doing this are mostly minor, and relate to sanity-checking your
 class.  The significant benefit is that this form allows you to specify
 plugins, as in:
@@ -37,7 +39,9 @@ plugins, as in:
   package MyApp;
   use App::Cmd::Setup -app =&gt; { plugins =&gt; [ &#39;Prompt&#39; ] };
 
-Plugins are described in L&lt;App::Cmd::Manual&gt; and L&lt;App::Cmd::Plugin&gt;.
+Plugins are described in L&lt;App::Cmd::Tutorial&gt; and L&lt;App::Cmd::Plugin&gt;.
+
+=end future
 
 =item when writing abstract base classes for commands
 
@@ -57,6 +61,8 @@ Do not confuse this with the way you will write specific commands:
 Again, this form mostly performs some validation and setup behind the scenes
 for you.  You can use C&lt;L&lt;base&gt;&gt; if you prefer.
 
+=begin future
+
 =item when writing App::Cmd plugins
 
 L&lt;App::Cmd::Plugin&gt; is a mechanism that allows an App::Cmd class to inject code
@@ -71,6 +77,8 @@ L&lt;App::Cmd::Plugin&gt;.
 
 =back
 
+=end future
+
 =cut
 
 use App::Cmd &#40;&#41;;
diff --git a/lib/App/Cmd/Tutorial.pod b/lib/App/Cmd/Tutorial.pod
index c3edf0c..c4571ce 100644
--- a/lib/App/Cmd/Tutorial.pod
+++ b/lib/App/Cmd/Tutorial.pod
@@ -80,7 +80,8 @@ C&lt;usage_desc&gt; provides the usage format string; C&lt;opt_spec&gt; provides the option
 specification list; C&lt;validate_args&gt; is run after Getopt::Long::Descriptive,
 and is meant to validate the C&lt;$args&gt;, which GLD ignores.
 
-The first two methods provide configuration passed to GLD&#39;s C&lt;describe_options&gt; routine.  To improve our command class, we might add the following code:
+The first two methods provide configuration passed to GLD&#39;s C&lt;describe_options&gt;
+routine.  To improve our command class, we might add the following code:
 
   sub usage_desc { &#34;yourcmd %o [dbfile ...]&#34; }
 
-- 
1.7.0.5

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;28&nbsp;03:18:31&nbsp;2010</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;15:34:58&nbsp;2010</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">had a typo in the last patch, here is the diff against it ...
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Fixing-typo-in-calling-convention.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From f78d6318c746e5b5c6e5c6ada9fdc66d7da174fc Mon Sep 17 00:00:00 2001
From: Jens Rehsack &lt;rehsack@googlemail.com&gt;
Date: Fri, 30 Jul 2010 21:31:28 +0200
Subject: [PATCH] Fixing typo in calling convention

---
 lib/App/Cmd.pm |    4 ++--
 1 files changed, 2 insertions&#40;+&#41;, 2 deletions&#40;-&#41;

diff --git a/lib/App/Cmd.pm b/lib/App/Cmd.pm
index b4e394c..eb23e79 100644
--- a/lib/App/Cmd.pm
+++ b/lib/App/Cmd.pm
@@ -327,9 +327,9 @@ sub prepare_command {
 sub _prepare_command {
   my &#40;$self, $command, $opt, @args&#41; = @_;
   if &#40;my $plugin = $self-&gt;plugin_for&#40;$command&#41;&#41; {
-    my $cmd = $plugin-&gt;prepare&#40;$self, @args&#41;;
+    my &#40;$cmd, $opt, @args&#41; = $plugin-&gt;prepare&#40;$self, @args&#41;;
 		$cmd-&gt;set_action&#40;$command&#41;; # when a command class can support multiple commands, we should tell the chosen
-		return $cmd;
+		return &#40;$cmd, $opt, @args&#41;;
   } else {
     return $self-&gt;_bad_command&#40;$command, $opt, @args&#41;;
   }
-- 
1.7.0.5

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;04&nbsp;14:50:12&nbsp;2010</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> add a &#34;which command name was used&#34; mechanism</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve merged in most of the documentation fixes.  Thanks.

I think it&#39;s reasonable for a $command object to know what command name was used to 
reach it.  I can&#39;t accept the patch, yet, for a few reasons:

1. It should be $command-&gt;command_name_used or something like that.  -&gt;action makes 
it sound like we&#39;re introducing yet another major concept, when we&#39;re just asking &#40;more or 
less&#41; what $ARGV[1] was -- which command_name for the command was used.

2. I think it&#39;s a bad idea to use the command name for any real behavior change.  That should 
be done with distinct command plugins.  All this means is that I don&#39;t want the 
documentation to show how to do this.  Please replace those docs with something that just 
says &#34;you can find out what name was used by calling such and such method.&#34;

3. No tests were provided.

If you can provide future work as a git remote, that would be great.  If not, that&#39;s okay.

Thanks very much for your contributions!

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;04&nbsp;14:50:43&nbsp;2010</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">...by the way, a rebased version of your unmerged commits are available in my github repo for 
this project as the multi-action-commands branch.

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;07&nbsp;08:22:29&nbsp;2013</span>
    <span class="description">rjbs [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
