<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #102118 for Image-ExifTool: t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #102118 for Image-ExifTool: t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Image-ExifTool/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Image-ExifTool/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Image-ExifTool">Image-ExifTool CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">102118</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Image-ExifTool/Active/">Image-ExifTool</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16626-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
9.76    </td>
  </tr>
  <tr id="CF-16627-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
9.90    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;02:52:38&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On a FreeBSD 10.1 system with perl 5.20.1 with uselongdouble enabled &#34;make test&#34; fails:

  Test 4 differs beginning at line 93:
    Test gave: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.50000000000000022-4.50000000000000028&#34;
    Should be: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.5-4.5&#34;

  Test 5 differs beginning at line 103:
    Test gave: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 50mm f/1.80000000000000011&#34;
    Should be: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 50mm f/1.8&#34;

  Test 7 differs beginning at line 111:
    Test gave: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.50000000000000022-4.50000000000000028&#34;
    Should be: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.5-4.5&#34;
t/Nikon.t .......... 
Failed 3/9 subtests 

This seems to be the only platform where the test is failing... linux with -Duselongdouble seems to be fine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;08:03:47&nbsp;2015</span>
    <span class="description">phil [...] owl.phy.queensu.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Phil Harvey &lt;phil [...] physics.queensu.ca&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102118] t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Feb 2015 08:02:21 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> SREZIC [...] cpan.org, bug-Image-ExifTool [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Phil Harvey &lt;phil [...] owl.phy.queensu.ca&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for this report.

Would it be possible for you to look at the resulting t/Nikon_4.failed
file to see if Lens is the only effected tag?  My tests will only report
the first occurrence in each file.

The output of this command will give me all the information I need:

diff t/Nikon_4.out t/Nikon_4.failed

Thanks.

        - Phil

On Feb 14, 2015, at 2:52 AM, Slaven_Rezic via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   Test 4 differs beginning at line 93:
&gt;     Test gave: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
&gt; f/3.50000000000000022-4.50000000000000028&#34;
&gt;     Should be: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
&gt; f/3.5-4.5&#34;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;08:03:48&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;12:14:48&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-02-14 08:03:47, phil@owl.phy.queensu.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for this report.
&gt; 
&gt; Would it be possible for you to look at the resulting t/Nikon_4.failed
&gt; file to see if Lens is the only effected tag?  My tests will only report
&gt; the first occurrence in each file.
&gt; 
&gt; The output of this command will give me all the information I need:
&gt; 
&gt; diff t/Nikon_4.out t/Nikon_4.failed
&gt; 
&gt; Thanks.
&gt; 
&gt;       - Phil
&gt; 
&gt; On Feb 14, 2015, at 2:52 AM, Slaven_Rezic via RT wrote:
<div class="message-stanza open">&gt; &gt;   Test 4 differs beginning at line 93:
&gt; &gt;     Test gave: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
&gt; &gt; f/3.50000000000000022-4.50000000000000028&#34;
&gt; &gt;     Should be: &#34;[MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
&gt; &gt; f/3.5-4.5&#34;
</div>&gt; 
</div>
It seems that there are more differences --- diff attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> nikon.diff</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">1c1
&lt; [ExifTool, ExifTool, ExifTool] ExifToolVersion - ExifTool Version Number: 9.32
---
&gt; [ExifTool, ExifTool, ExifTool] ExifToolVersion - ExifTool Version Number: 9.76
4,8c4,8
&lt; [File, System, Image] FileSize - File Size: 6.8 kB
&lt; [File, System, Time] FileModifyDate - File Modification Date/Time: 2013:06:12 12:34:49-04:00
&lt; [File, System, Time] FileAccessDate - File Access Date/Time: 2013:06:12 12:34:49-04:00
&lt; [File, System, Time] FileInodeChangeDate - File Inode Change Date/Time: 2013:06:12 12:34:49-04:00
&lt; [File, System, Image] FilePermissions - File Permissions: rw-r--r--
---
&gt; [File, System, Image] FileSize - File Size: 6.9 kB
&gt; [File, System, Time] FileModifyDate - File Modification Date/Time: 2015:02:14 18:13:22+01:00
&gt; [File, System, Time] FileAccessDate - File Access Date/Time: 2015:02:14 18:13:22+01:00
&gt; [File, System, Time] FileInodeChangeDate - File Inode Change Date/Time: 2015:02:14 18:13:22+01:00
&gt; [File, System, Image] FilePermissions - File Permissions: rw-rw-r--
26,27c26,27
&lt; [EXIF, IFD0, Camera] 318 - White Point: 0.313 0.329
&lt; [EXIF, IFD0, Image] 319 - Primary Chromaticities: 0.64 0.33 0.21 0.71 0.15 0.06
---
&gt; [EXIF, IFD0, Camera] 318 - White Point: 0.313000000000000011 0.329000000000000012
&gt; [EXIF, IFD0, Image] 319 - Primary Chromaticities: 0.640000000000000023 0.330000000000000012 0.210000000000000008 0.710000000000000026 0.150000000000000005 0.0600000000000000061
66c66
&lt; [EXIF, ExifIFD, Image] 42240 - Gamma: 2.2
---
&gt; [EXIF, ExifIFD, Image] 42240 - Gamma: 2.20000000000000014
93c93
&lt; [MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.5-4.5
---
&gt; [MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm f/3.50000000000000022-4.50000000000000028
120c120
&lt; [MakerNotes, Nikon, Camera] 154 - Sensor Pixel Size: 7.8 x 7.8 um
---
&gt; [MakerNotes, Nikon, Camera] 154 - Sensor Pixel Size: 7.80000000000000049 x 7.80000000000000049 um
139c139
&lt; [XMP, XMP-x, Document] xmptk - XMP Toolkit: Image::ExifTool 9.32
---
&gt; [XMP, XMP-x, Document] xmptk - XMP Toolkit: Image::ExifTool 9.76
141c141
&lt; [XMP, XMP-aux, Camera] Lens - Lens: 18-70mm f/3.5-4.5
---
&gt; [XMP, XMP-aux, Camera] Lens - Lens: 18-70mm f/3.50000000000000022-4.50000000000000028
160c160
&lt; [Composite, Composite, Camera] LensSpec - Lens: 18-70mm f/3.5-4.5 G
---
&gt; [Composite, Composite, Camera] LensSpec - Lens: 18-70mm f/3.50000000000000022-4.50000000000000028 G
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;18:35:01&nbsp;2015</span>
    <span class="description">phil [...] owl.phy.queensu.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Phil Harvey &lt;phil [...] owl.phy.queensu.ca&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102118] t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 14 Feb 2015 18:33:14 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> SREZIC [...] cpan.org, bug-Image-ExifTool [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Phil Harvey &lt;phil [...] owl.phy.queensu.ca&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks,

This is unfortunate, and what I had feared.  To fix this problem at my 
end I would
need to patch the output formatting for all tags which are derived from 
rational values.
Below, for example, the last tag &#40;SensorPixelSize&#41; is calculated simply 
as 78/10.

I personally would consider it a Perl bug if Perl on this system prints
7.80000000000000049 instead of 7.8 with &#34;print 78/10&#34;.  Is this the 
case?
If so, then I really think Perl needs to be fixed.

- Phil

On Feb 14, 2015, at 12:14 PM, Slaven_Rezic via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It seems that there are more differences --- diff attached.
&gt;
<div class="message-stanza open">&gt; &gt; [EXIF, IFD0, Camera] 318 - White Point: 0.313000000000000011 
</div>&gt; 0.329000000000000012
<div class="message-stanza open">&gt; &gt; [EXIF, IFD0, Image] 319 - Primary Chromaticities: 
</div>&gt; 0.640000000000000023 0.330000000000000012 0.210000000000000008 
&gt; 0.710000000000000026 0.150000000000000005 0.0600000000000000061
<div class="message-stanza open">&gt; &gt; [EXIF, ExifIFD, Image] 42240 - Gamma: 2.20000000000000014
&gt; &gt; [MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
</div>&gt; f/3.50000000000000022-4.50000000000000028
<div class="message-stanza open">&gt; &gt; [MakerNotes, Nikon, Camera] 154 - Sensor Pixel Size: 
</div>&gt; 7.80000000000000049 x 7.80000000000000049 um
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;15&nbsp;04:55:19&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-02-14 18:35:01, phil@owl.phy.queensu.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks,
&gt; 
&gt; This is unfortunate, and what I had feared.  To fix this problem at my 
&gt; end I would
&gt; need to patch the output formatting for all tags which are derived from 
&gt; rational values.
&gt; Below, for example, the last tag &#40;SensorPixelSize&#41; is calculated simply 
&gt; as 78/10.
&gt; 
&gt; I personally would consider it a Perl bug if Perl on this system prints
&gt; 7.80000000000000049 instead of 7.8 with &#34;print 78/10&#34;.  Is this the 
&gt; case?
</div>
No, this looks fine. On this freebsd 10.1 system:
$ perl5.20.1D -e &#39;print 78/10, &#34;\n&#34;&#39;
7.8

It starts to look strange when using printf with 19 or more digits after the decimal point:
$ perl5.20.1D -e &#39;printf &#34;%.19f\n&#34;, 78/10&#39;
7.8000000000000000002

But this is also the case on a linux platform with a -Duselongdouble perl. And a &#34;normal&#34; perl looks even worse with this precision:
$ perl5.20.1 -e &#39;printf &#34;%.19f\n&#34;, 78/10&#39;       
7.7999999999999998224

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If so, then I really think Perl needs to be fixed.
&gt; 
&gt; - Phil
&gt; 
&gt; On Feb 14, 2015, at 12:14 PM, Slaven_Rezic via RT wrote:
<div class="message-stanza open">&gt; &gt; It seems that there are more differences --- diff attached.
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; [EXIF, IFD0, Camera] 318 - White Point: 0.313000000000000011 
</div>&gt; &gt; 0.329000000000000012
<div class="message-stanza open">&gt; &gt; &gt; [EXIF, IFD0, Image] 319 - Primary Chromaticities: 
</div>&gt; &gt; 0.640000000000000023 0.330000000000000012 0.210000000000000008 
&gt; &gt; 0.710000000000000026 0.150000000000000005 0.0600000000000000061
<div class="message-stanza open">&gt; &gt; &gt; [EXIF, ExifIFD, Image] 42240 - Gamma: 2.20000000000000014
&gt; &gt; &gt; [MakerNotes, Nikon, Camera] 132 - Lens: 18-70mm 
</div>&gt; &gt; f/3.50000000000000022-4.50000000000000028
<div class="message-stanza open">&gt; &gt; &gt; [MakerNotes, Nikon, Camera] 154 - Sensor Pixel Size: 
</div>&gt; &gt; 7.80000000000000049 x 7.80000000000000049 um
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;15&nbsp;09:18:16&nbsp;2015</span>
    <span class="description">phil [...] owl.phy.queensu.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102118] t/Nikon.t test fails with -Duselongdouble &#40;only FreeBSD&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 15 Feb 2015 09:16:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Image-ExifTool [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Phil Harvey &lt;phil [...] owl.phy.queensu.ca&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for all your help.

I have looked into this in more detail, and found that the problem
is likely at my end.  I will apply a patch, and hopefully this will be
fixed in ExifTool 9.86 and later.

- Phil
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;16&nbsp;10:44:57&nbsp;2015</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;16&nbsp;10:44:58&nbsp;2015</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Fixed in 9.90 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;16&nbsp;16:37:15&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-02-15 09:18:16, phil@owl.phy.queensu.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for all your help.
&gt; 
&gt; I have looked into this in more detail, and found that the problem
&gt; is likely at my end.  I will apply a patch, and hopefully this will be
&gt; fixed in ExifTool 9.86 and later.
</div>
Looks good in 9.90 --- test suite passes with my -Duselongdouble perl.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
