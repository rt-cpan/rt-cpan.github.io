<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #2804 for ExtUtils-Install: Make ExtUtils::Install verbosity more consistent.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #2804 for ExtUtils-Install: Make ExtUtils::Install verbosity more consistent.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-Install">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-Install">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-Install">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-Install">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-Install">ExtUtils-Install CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">2804</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-Install">ExtUtils-Install</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jari.aalto [...] poboxes.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-39112-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-39113-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=2804">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82595" href="/Public/Bug/Display.html?id=2804#txn-82595">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;16&nbsp;09:19:27&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PREFIX argument treatment incorrect Install.pm &#40;Win32/Cygwin&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/82595/9764/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9764">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Cross reference: <span class="clickylink"><a target="new" rel="nofollow" href="http://grepmail.sourceforge.net/">http://grepmail.sourceforge.net/</a></span> 


SUGGESTION:

It would be better if the verbose print commands came BEFORE, not after the command, because if the command fails, you don&#39;t know the start situation. Like this from Install.pm:

     144                     print &#34;mkpath&#40;$targetdir,0,0755&#41;\n&#34; if $verbose&gt;1;
     145                     mkpath&#40;[$targetdir],0,0755&#41; unless $nonono;

The code in 6.05 is the other way round. 


MINOR BUG:

I think there should be a test in Install.pm after this:

     147                 copy&#40;$_,$targetfile&#41; unless $nonono;

The copy command may fail, so printing $! and quitting would be good. Similarly this command potentially may fail under Win32/Cygwin also:

     152                 chmod $mode, $targetfile;
 


MAJOR BUG:

If MakeMaker 6.05 is instructed to use PREFIX argument under standard Perl 5.8.0, it goes into the loop where PREFIX is multiplied at each loop round. This example is from configuring grepmail with Makefile.PL

$ perl Makefile.PL FASTREADER=0 INSTALLDIRS=perl PREFIX=.inst/usr

.. Relevant content of produced Makefile

INSTALLDIRS = perl
PREFIX = .inst/usr
SITEPREFIX = .inst/usr
VENDORPREFIX = .inst/usr

MAKEMAKER = /usr/lib/perl5/5.8.0/ExtUtils/MakeMaker.pm
MM_VERSION = 6.05

I installed few debug calls inside module. See lines 118 and after.

/usr/lib/perl5/5.8.0/ExtUtils/Install.pm

      48 sub install {
      49     my&#40;$hash,$verbose,$nonono,$inc_uninstall&#41; = @_;
      50     $verbose ||= 0;
      51     $nonono  ||= 0;
      52 
      53     use Cwd qw&#40;cwd&#41;;
      54     use ExtUtils::Packlist;
      55     use File::Basename qw&#40;dirname&#41;;
...
      95     my&#40;$source&#41;;
      96     MOD_INSTALL: foreach $source &#40;sort keys %hash&#41; {
      97         #copy the tree to the target directory without altering
      98         #timestamp and permission and remember for the .packlist
...
     118         find&#40;sub {
     119             my &#40;$mode,$size,$atime,$mtime&#41; = &#40;stat&#41;[2,7,8,9];
     120             return unless -f _;
     121             return if $_ eq &#34;.exists&#34;;
     122 
     123 #           my $targetdir  = $targetroot;
     124             my $targetdir  = File::Spec-&gt;catdir&#40;$targetroot, $File::Fin
     124 d::dir&#41;;
     125             my $targetfile = File::Spec-&gt;catfile&#40;$targetdir, $_&#41;;
     126 
     127  print &#34;&gt;&gt; FDIR $File::Find::dir\n&#34;; 
     128  print &#34;&gt;&gt; TDIR $targetdir TFILE $targetfile\n&#34;;
     129 
     130             my $diff = 0;
     131             if &#40; -f $targetfile &#38;&#38; -s _ == $size&#41; {
     132                 # We have a good chance, we can skip this one
     133                 $diff = compare&#40;$_,$targetfile&#41;;
     134             } else {
     135                 print &#34;$_ differs\n&#34; if $verbose&gt;1;
     136                 $diff++;
     137             }
     138 
     139             if &#40;$diff&#41;{
     140                 if &#40;-f $targetfile&#41;{
     141                     forceunlink&#40;$targetfile&#41; unless $nonono;
     142                 } else {
     143                     my $verbose = 2;
     144                     print &#34;mkpath&#40;$targetdir,0,0755&#41;\n&#34; if $verbose&gt;1;
     145                     mkpath&#40;[$targetdir],0,0755&#41; unless $nonono;
     146                 }
 


Which read like this:

root@w2kpicasso:/usr/src/build/grepmail-cvs-2003.0616$ make install
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; SOURCE blib/arch TROOT .inst/usr/lib/perl5/5.8.0/cygwin-multi-64int
&gt;&gt; SOURCE blib/bin TROOT .inst/usr/bin
&gt;&gt; SOURCE blib/lib TROOT .inst/usr/lib/perl5/5.8.0
&gt;&gt; SOURCE blib/man1 TROOT .inst/usr/man/man1
&gt;&gt; FDIR .
&gt;&gt; TDIR .inst/usr/man/man1 TFILE .inst/usr/man/man1/grepmail.1
&gt;&gt; FDIR ./.inst/usr/man/man1
&gt;&gt; TDIR .inst/usr/man/man1/.inst/usr/man/man1 TFILE .inst/usr/man/man1/.inst/u\
</div>sr/man/man1/grepmail.1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; FDIR ./.inst/usr/man/man1/.inst/usr/man/man1
&gt;&gt; TDIR .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1 TFILE .inst/u\
</div>sr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/grepmail.1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; FDIR ./.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1
&gt;&gt; TDIR .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man\
</div>/man1 TFILE .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr\
/man/man1/grepmail.1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; FDIR ./.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/m\
</div>an/man1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; TDIR .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man\
</div>/man1/.inst/usr/man/man1 TFILE .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr\
/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/grepmail.1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; FDIR ./.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/m\
</div>an/man1/.inst/usr/man/man1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; TDIR .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man\
</div>/man1/.inst/usr/man/man1/.inst/usr/man/man1 TFILE .inst/usr/man/man1/.inst/usr\
/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/m\
an/man1/grepmail.1
mkpath&#40;.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/\
man1/.inst/usr/man/man1/.inst/usr/man/man1,0,0755&#41;
mkdir .inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/man1/.inst/usr/man/m\
an1/.inst/usr/man/man1/.inst: Invalid argument at /usr/lib/perl5/5.8.0/ExtUtil\
s/Install.pm line 145
make: *** [pure_perl_install] Error 255

Please contact for further information and ask help for testing new code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82596" href="/Public/Bug/Display.html?id=2804#txn-82596">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;16&nbsp;19:45:24&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/82596/9773/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9773">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Mon Jun 16 09:19:27 2003]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Cross reference: <span class="clickylink"><a target="new" rel="nofollow" href="http://grepmail.sourceforge.net/">http://grepmail.sourceforge.net/</a></span>
&gt; 
&gt; 
&gt; SUGGESTION:
&gt; 
&gt; It would be better if the verbose print commands came BEFORE, not
&gt; after the command, because if the command fails, you don&#39;t know the
&gt; start situation. Like this from Install.pm:
&gt; 
&gt;      144                     print &#34;mkpath&#40;$targetdir,0,0755&#41;\n&#34; if
&gt; $verbose&gt;1;
&gt;      145                     mkpath&#40;[$targetdir],0,0755&#41; unless
&gt; $nonono;
&gt; 
&gt; The code in 6.05 is the other way round.
</div>
Patches welcome.

If you are to do this, rather than simply reversing all the existing verbose prints, it would 
be nice if you modularized them whlie you&#39;re at it replacing:

    mkpath&#40;$targetdir,0,0755&#41; unless $nonono;
    print &#34;mkpath&#40;$targetdir,0,0755&#41;\n&#34; if $verbose&gt;1;

with

    sub _mkpath {
        my&#40;$dir, $print, $mode&#41; = @_;
        print &#34;mkpath&#40;$targetdir,$print,$mode&#41;\n&#34; if $verbose &gt; 1;
        mkpath&#40;$targetdir,$print,$mode&#41; unless $nonono;
    }


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; MINOR BUG:
&gt; 
&gt; I think there should be a test in Install.pm after this:
&gt; 
&gt;      147                 copy&#40;$_,$targetfile&#41; unless $nonono;
&gt; The copy command may fail, so printing $! and quitting would be good.
&gt; Similarly this command potentially may fail under Win32/Cygwin also:
&gt; 
&gt;      152                 chmod $mode, $targetfile;
</div>
Patches welcome, though it might be better if it warned instead of died.

As above, it would be good if these were modularized into subroutines across the board 
rather than piecemeal.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; MAJOR BUG:
&gt; 
&gt; If MakeMaker 6.05 is instructed to use PREFIX argument under standard
&gt; Perl 5.8.0, it goes into the loop where PREFIX is multiplied at each
&gt; loop round. This example is from configuring grepmail with Makefile.PL
</div>
This appears to already be fixed in the latest development version, though I did not try 
it on Windows.  Try it out.
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/author/MSCHWERN/ExtUtils-MakeMaker-6.10_06/">http://search.cpan.org/author/MSCHWERN/ExtUtils-MakeMaker-6.10_06/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82597" href="/Public/Bug/Display.html?id=2804#txn-82597">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;16&nbsp;19:45:26&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82600" href="/Public/Bug/Display.html?id=2804#txn-82600">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;05&nbsp;17:43:06&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/82600/10073/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/10073">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 723b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[jari.aalto@poboxes.com - Tue Jun 17 06:56:56 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After debugging this, I found out that is is a serious mistake to try
&gt; to set PREFIX to a relative path, like I did:
&gt; 
&gt;     $ perl Makefile.PL PREFIX=.inst
</div>
If that doesn&#39;t work, its a bug not a mistake on your part.  

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In my mind I thought it would translate relative to CURRENT
&gt; directory. The Install.pm&#39;s Find&#40;&#41; then tried to install INSIDE
&gt; blib/.inst during Find ... which caused to recursive invocations.
</div>
The behavior should be that it installs relative to the current directory.  In fact, the
tests do exactly that.  I believe we already discussed this in email, not in RT.  Could
you confirm that the latest snapshots on rt.cpan.org fix this problem?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82601" href="/Public/Bug/Display.html?id=2804#txn-82601">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;05&nbsp;17:43:07&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82602" href="/Public/Bug/Display.html?id=2804#txn-82602">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;05&nbsp;17:51:58&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/82602/10074/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/10074">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 424b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[jari.aalto@poboxes.com - Tue Jun 17 06:56:56 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I also added checks that were discussed in previous mail.  Please
&gt; test. This patch is against latest CPAN version
&gt; ExtUtils-MakeMaker-6.10_06
</div>
I&#39;m going to hold on this patch until after 5.8.1 is released as I need to get a stable 
version out the door for Jarkko, this isn&#39;t critical and I&#39;d like to consider the problem 
more widely than just a few local changes.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82603" href="/Public/Bug/Display.html?id=2804#txn-82603">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;05&nbsp;17:51:59&nbsp;2003</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82604" href="/Public/Bug/Display.html?id=2804#txn-82604">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;21&nbsp;21:26:32&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Severity Critical changed to Unimportant</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82605" href="/Public/Bug/Display.html?id=2804#txn-82605">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;21&nbsp;21:26:32&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Subject changed from &#39;PREFIX argument treatment incorrect Install.pm &#40;Win32/Cygwin&#41;&#39; to &#39;Make ExtUtils::Install verbosity more consistent.&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82607" href="/Public/Bug/Display.html?id=2804#txn-82607">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;22&nbsp;17:06:01&nbsp;2003</span>
    <span class="description">mschwern [...] cpan.org -  Severity Unimportant changed to Wishlist</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82608" href="/Public/Bug/Display.html?id=2804#txn-82608">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:24:08&nbsp;2004</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/82608/26259/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/26259">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 184b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="http://www.makemaker.org/wiki/index.cgi?ModulesForSale">http://www.makemaker.org/wiki/index.cgi?ModulesForSale</a></span>

ExtUtils::Install is set to be split out of MakeMaker.  I&#39;m going to
leave this to whomever the poor sap is that takes it over.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-82609" href="/Public/Bug/Display.html?id=2804#txn-82609">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:24:09&nbsp;2004</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-194487" href="/Public/Bug/Display.html?id=2804#txn-194487">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;10&nbsp;15:36:36&nbsp;2006</span>
    <span class="description">mschwern [...] cpan.org -  Queue changed from ExtUtils-MakeMaker to ExtUtils-Install</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-429223" href="/Public/Bug/Display.html?id=2804#txn-429223">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;01&nbsp;11:03:21&nbsp;2008</span>
    <span class="description">yves [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/429223/210004/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/210004">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 92b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As far as i know all of these issues are resolved. Please file a new
ticket if you disagree.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-429224" href="/Public/Bug/Display.html?id=2804#txn-429224">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;01&nbsp;11:03:23&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-429227" href="/Public/Bug/Display.html?id=2804#txn-429227">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;01&nbsp;11:03:24&nbsp;2008</span>
    <span class="description">yves [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.54252</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
