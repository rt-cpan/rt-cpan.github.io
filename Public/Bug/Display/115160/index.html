<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #115160 for Archive-Tar: TODOs in 09_roundtrip.t passing in blead</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #115160 for Archive-Tar: TODOs in 09_roundtrip.t passing in blead</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Archive-Tar/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Archive-Tar/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Archive-Tar/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Archive-Tar/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Archive-Tar">Archive-Tar CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">115160</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Archive-Tar/Active/">Archive-Tar</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">BINGOS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
davem [...] iabyn.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2526-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2527-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;08&nbsp;04:02:32&nbsp;2016</span>
    <span class="description">davem [...] iabyn.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TODOs in 09_roundtrip.t passing in blead</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 8 Jun 2016 09:02:19 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Mitchell &lt;davem [...] iabyn.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Since Archive-Tar 2.08 was pulled into blead, these TODO tests
seem to have been continuously passing:

../cpan/Archive-Tar/t/09_roundtrip.t                             &#40;Wstat: 0 Tests: 7 Failed: 0&#41;
  TODO passed:   1, 4, 6

If possible, it would be nice if these could unmarked TODO, to make blead
testing less noisy.


-- 
The Enterprise is captured by a vastly superior alien intelligence which
does not put them on trial.
    -- Things That Never Happen in &#34;Star Trek&#34; #10
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;22:38:13&nbsp;2016</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> book [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jun 08 04:02:32 2016, davem@iabyn.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Since Archive-Tar 2.08 was pulled into blead, these TODO tests
&gt; seem to have been continuously passing:
&gt; 
&gt; ../cpan/Archive-Tar/t/09_roundtrip.t
&gt; &#40;Wstat: 0 Tests: 7 Failed: 0&#41;
&gt;   TODO passed:   1, 4, 6
&gt; 
&gt; If possible, it would be nice if these could unmarked TODO, to make
&gt; blead
&gt; testing less noisy.
</div>
I have filed <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jib/archive-tar-new/pull/14">https://github.com/jib/archive-tar-new/pull/14</a></span> which un-TODO-s all the tests by addressing the problem causing 4 of the 7 tests to fail.

The tests were failing because their expectations of Archive::Tar&#39;s behavior were incorrect.  Due to certain factors in the implementation of helper method  Archive::Tar::File::_prefix_and_file&#40;&#41; which date from at least 2006, Archive::Tar::write&#40;&#41; will write out archive entries which are directories without a trailing slash.  So we have to &#34;fix&#34; the tests to match the long-standing behavior of the code.

I expect that there may be some back-and-forth on the specific changes to the unit tests in t/09_roundtrip.t, but once that is settled and the pull request is merged into master, then we can import the new CPAN version into blead and be done with the TODO tests.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;25&nbsp;22:38:14&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;29&nbsp;10:48:15&nbsp;2016</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Sep 25 22:38:13 2016, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jun 08 04:02:32 2016, davem@iabyn.com wrote:
<div class="message-stanza open">&gt; &gt; Since Archive-Tar 2.08 was pulled into blead, these TODO tests
&gt; &gt; seem to have been continuously passing:
&gt; &gt;
&gt; &gt; ../cpan/Archive-Tar/t/09_roundtrip.t
&gt; &gt; &#40;Wstat: 0 Tests: 7 Failed: 0&#41;
&gt; &gt;   TODO passed:   1, 4, 6
&gt; &gt;
&gt; &gt; If possible, it would be nice if these could unmarked TODO, to make
&gt; &gt; blead
&gt; &gt; testing less noisy.
</div>&gt; 
&gt; I have filed <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jib/archive-tar-new/pull/14">https://github.com/jib/archive-tar-new/pull/14</a></span> which un-
&gt; TODO-s all the tests by addressing the problem causing 4 of the 7
&gt; tests to fail.
&gt; 
&gt; The tests were failing because their expectations of Archive::Tar&#39;s
&gt; behavior were incorrect.  Due to certain factors in the implementation
&gt; of helper method  Archive::Tar::File::_prefix_and_file&#40;&#41; which date
&gt; from at least 2006, Archive::Tar::write&#40;&#41; will write out archive
&gt; entries which are directories without a trailing slash.  So we have to
&gt; &#34;fix&#34; the tests to match the long-standing behavior of the code.
&gt; 
&gt; I expect that there may be some back-and-forth on the specific changes
&gt; to the unit tests in t/09_roundtrip.t, but once that is settled and
&gt; the pull request is merged into master, then we can import the new
&gt; CPAN version into blead and be done with the TODO tests.
&gt; 
&gt; Thank you very much.
&gt; Jim Keenan
</div>
Archive-Tar maintainers:  Have you had a chance to review the above?

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;29&nbsp;10:55:55&nbsp;2016</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Sep 25 22:38:13 2016, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jun 08 04:02:32 2016, davem@iabyn.com wrote:
<div class="message-stanza open">&gt; &gt; Since Archive-Tar 2.08 was pulled into blead, these TODO tests
&gt; &gt; seem to have been continuously passing:
&gt; &gt;
&gt; &gt; ../cpan/Archive-Tar/t/09_roundtrip.t
&gt; &gt; &#40;Wstat: 0 Tests: 7 Failed: 0&#41;
&gt; &gt;   TODO passed:   1, 4, 6
&gt; &gt;
&gt; &gt; If possible, it would be nice if these could unmarked TODO, to make
&gt; &gt; blead
&gt; &gt; testing less noisy.
</div>&gt; 
&gt; I have filed <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jib/archive-tar-new/pull/14">https://github.com/jib/archive-tar-new/pull/14</a></span> which un-
&gt; TODO-s all the tests by addressing the problem causing 4 of the 7
&gt; tests to fail.
&gt; 
&gt; The tests were failing because their expectations of Archive::Tar&#39;s
&gt; behavior were incorrect.  Due to certain factors in the implementation
&gt; of helper method  Archive::Tar::File::_prefix_and_file&#40;&#41; which date
&gt; from at least 2006, Archive::Tar::write&#40;&#41; will write out archive
&gt; entries which are directories without a trailing slash.  So we have to
&gt; &#34;fix&#34; the tests to match the long-standing behavior of the code.
&gt; 
&gt; I expect that there may be some back-and-forth on the specific changes
&gt; to the unit tests in t/09_roundtrip.t, but once that is settled and
&gt; the pull request is merged into master, then we can import the new
&gt; CPAN version into blead and be done with the TODO tests.
&gt; 
&gt; Thank you very much.
&gt; Jim Keenan
</div>

See also: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101922">https://rt.cpan.org/Ticket/Display.html?id=101922</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;12&nbsp;10:42:24&nbsp;2017</span>
    <span class="description">BINGOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Sep 29 10:55:55 2016, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Sep 25 22:38:13 2016, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; On Wed Jun 08 04:02:32 2016, davem@iabyn.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Since Archive-Tar 2.08 was pulled into blead, these TODO tests
&gt; &gt; &gt; seem to have been continuously passing:
&gt; &gt; &gt;
&gt; &gt; &gt; ../cpan/Archive-Tar/t/09_roundtrip.t
&gt; &gt; &gt; &#40;Wstat: 0 Tests: 7 Failed: 0&#41;
&gt; &gt; &gt;   TODO passed:   1, 4, 6
&gt; &gt; &gt;
&gt; &gt; &gt; If possible, it would be nice if these could unmarked TODO, to make
&gt; &gt; &gt; blead
&gt; &gt; &gt; testing less noisy.
</div>&gt; &gt; 
&gt; &gt; I have filed <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jib/archive-tar-new/pull/14">https://github.com/jib/archive-tar-new/pull/14</a></span> which un-
&gt; &gt; TODO-s all the tests by addressing the problem causing 4 of the 7
&gt; &gt; tests to fail.
&gt; &gt; 
&gt; &gt; The tests were failing because their expectations of Archive::Tar&#39;s
&gt; &gt; behavior were incorrect.  Due to certain factors in the implementation
&gt; &gt; of helper method  Archive::Tar::File::_prefix_and_file&#40;&#41; which date
&gt; &gt; from at least 2006, Archive::Tar::write&#40;&#41; will write out archive
&gt; &gt; entries which are directories without a trailing slash.  So we have to
&gt; &gt; &#34;fix&#34; the tests to match the long-standing behavior of the code.
&gt; &gt; 
&gt; &gt; I expect that there may be some back-and-forth on the specific changes
&gt; &gt; to the unit tests in t/09_roundtrip.t, but once that is settled and
&gt; &gt; the pull request is merged into master, then we can import the new
&gt; &gt; CPAN version into blead and be done with the TODO tests.
&gt; &gt; 
&gt; &gt; Thank you very much.
&gt; &gt; Jim Keenan
</div>&gt; 
&gt; 
&gt; See also: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101922">https://rt.cpan.org/Ticket/Display.html?id=101922</a></span>
</div>
I believe that this has been resolved. Closing.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;12&nbsp;10:42:29&nbsp;2017</span>
    <span class="description">BINGOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;May&nbsp;12&nbsp;10:42:30&nbsp;2017</span>
    <span class="description">BINGOS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
