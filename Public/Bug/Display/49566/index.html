<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #41003 for ExtUtils-CBuilder: link_executable&#40;&#41; adding &#34;.exe&#34; to exe_file on Cygwin</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #41003 for ExtUtils-CBuilder: link_executable&#40;&#41; adding &#34;.exe&#34; to exe_file on Cygwin</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-CBuilder/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-CBuilder/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-CBuilder/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-CBuilder/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please email the <a href="mailto:perlbug@perl.org">preferred bug tracker</a> to report your issue.</div>
</p>
<p>
<div>Please visit the <a href="http://rt.perl.org/rt3/">preferred bug tracker</a> to report your issue.</div>
</p>
</div>


<div class="error">
  <div class="titlebox error " id="">
  <div class="titlebox-title">
    <span class="left">Queue is disabled</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--error----UXVldWUgaXMgZGlzYWJsZWQ_---0">


This queue is disabled and you may not create new tickets in it.  Disabled queues are usually because the distribution was merged with another or changed names.  Sometimes they are the end result of a bad autocreate from PAUSE data before anyone noticed.
    <hr class="clear" />
  </div>
</div>




</div>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>ExtUtils::CBuilder is now maintained by the Perl 5 core.  Please report bugs via the 'perlbug' tool included with Perl and do not add new tickets here.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">41003</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-CBuilder/Active/">ExtUtils-CBuilder</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Guillaume.Sauzon [...] infineon.com

<br />
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-12462-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.24    </td>
  </tr>
  <tr id="CF-12463-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;17&nbsp;16:58:31&nbsp;2008</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> link_executable&#40;&#41; adding &#34;.exe&#34; to exe_file on Cygwin</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Running the following in Cygwin...

$exe = &#34;my_program&#34;;
$cb-&gt;compile&#40;source =&gt; $source&#41;;
$real_exe = $cb-&gt;link_executable&#40;objects =&gt; $obj, exe_file =&gt; $exe&#41;;

results in &#34;my_program.exe&#34;.  But $real_exe is still &#34;my_program&#34;.  This
makes it unpredictable to find the resulting exe to run, check if it&#39;s
up to date or clean it up.

I realize it&#39;s a Cygwin thing to tack &#34;.exe&#34; onto executables, CBuilder
is running the correct gcc line with the correct -o.  It would be nice if...

1&#41; CBuilder somehow overrode the Cygwin behavior and made exe_file
really work.  Possibly by simply renaming the resulting .exe file to
match exe_file.  If I give it exe_file I mean it.

2&#41; The return value of link_executable&#40;&#41; returned the right file.  A
simple hack is to just tack a &#34;.exe&#34; onto the end.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;11:45:55&nbsp;2009</span>
    <span class="description">Guillaume.Sauzon [...] infineon.com - Ticket #49566:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problem when installing the module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Sep 2009 17:45:26 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-ExtUtils-CBuilder [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;Guillaume.Sauzon [...] infineon.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m trying to use the CPAN module on Cygwin&#40;Win32&#41; to install some modules. It wants to install the ExtUtils and fails. I tried &#34;by hand&#34; the following sequence.
Any idea of what is going wrong ?
Sorry, I was to lazy to create a PAUSE account, ...

BR Gui



[579] $ perl Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for ExtUtils::CBuilder

sauzon@mucn9706 /var/.cpan/build/ExtUtils-CBuilder-0.260301
[580] $ make
cp lib/ExtUtils/CBuilder.pm blib/lib/ExtUtils/CBuilder.pm
cp lib/ExtUtils/CBuilder/Platform/Windows.pm blib/lib/ExtUtils/CBuilder/Platform/Windows.pm
cp lib/ExtUtils/CBuilder/Platform/aix.pm blib/lib/ExtUtils/CBuilder/Platform/aix.pm
cp lib/ExtUtils/CBuilder/Platform/cygwin.pm blib/lib/ExtUtils/CBuilder/Platform/cygwin.pm
cp lib/ExtUtils/CBuilder/Platform/VMS.pm blib/lib/ExtUtils/CBuilder/Platform/VMS.pm
cp lib/ExtUtils/CBuilder/Platform/Unix.pm blib/lib/ExtUtils/CBuilder/Platform/Unix.pm
cp lib/ExtUtils/CBuilder/Platform/darwin.pm blib/lib/ExtUtils/CBuilder/Platform/darwin.pm
cp lib/ExtUtils/CBuilder/Platform/os2.pm blib/lib/ExtUtils/CBuilder/Platform/os2.pm
cp lib/ExtUtils/CBuilder/Platform/dec_osf.pm blib/lib/ExtUtils/CBuilder/Platform/dec_osf.pm
cp lib/ExtUtils/CBuilder/Base.pm blib/lib/ExtUtils/CBuilder/Base.pm

sauzon@mucn9706 /var/.cpan/build/ExtUtils-CBuilder-0.260301
[581] $ make test
/usr/bin/perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-have-compiler.t .. ok
t/01-basic.t .......... Creating library file: libcompilet-784172131.dll.a
t/01-basic.t .......... 5/? Creating library file: libcompilet.dll.a
t/01-basic.t .......... ok
t/02-link.t ........... Creating library file: libcompilet-1679317958.dll.a
t/02-link.t ........... 3/? Creating library file: libcompilet.dll.a
t/02-link.t ........... 5/?
#     Failed test &#40;t/02-link.t at line 65&#41;
Can&#39;t exec &#34;t/compilet.exe&#34;: No such file or directory at t/02-link.t line 98.

#     Failed test &#40;t/02-link.t at line 77&#41;
#          got: &#39;72057594037927935&#39;
#     expected: &#39;11&#39;
# Looks like you failed 2 tests of 7.
t/02-link.t ........... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/7 subtests

Test Summary Report
-------------------
t/02-link.t         &#40;Wstat: 512 Tests: 7 Failed: 2&#41;
  Failed tests:  6-7
  Non-zero exit status: 2
Files=3, Tests=21, 12 wallclock secs &#40; 0.08 usr  0.02 sys +  2.09 cusr  0.93 csys =  3.12 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 2/21 subtests failed.
make: *** [test_dynamic] Error 14

sauzon@mucn9706 /var/.cpan/build/ExtUtils-CBuilder-0.260301
[582] $ uname -a
CYGWIN_NT-5.0 mucn9706 1.5.18&#40;0.132/4/2&#41; 2005-07-02 20:30 i686 unknown unknown Cygwin

sauzon@mucn9706 /var/.cpan/build/ExtUtils-CBuilder-0.260301
[583] $ perl --version

This is perl, v5.8.7 built for cygwin-thread-multi-64int
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:00:15&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org - Ticket #49566:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the report.  I&#39;ve seen a couple test failure reports like
that, but haven&#39;t been able to track it down yet.  It&#39;s possible that
forcing the installation might work for building perl modules as the
issue seems to be with the .exe extension that is getting added &#40;when it
shouldn&#39;t need to be.&#41;

-- David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:00:17&nbsp;2009</span>
    <span class="description">The RT System itself - Ticket #49566:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:02:08&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:02:12&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Severity Unimportant changed to Normal</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:02:47&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is the only thing causing test failures at the moment.  Bumped to
&#34;normal&#34; severity as a reminder to get it fixed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:04:45&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org - Ticket #49566:  Merged into ticket #41003</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;10&nbsp;07:04:45&nbsp;2009</span>
    <span class="description">dagolden [...] cpan.org -  Merged into ticket #41003</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
