<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #98427 for GraphViz: GraphViz doesn&#39;t escape double-quotes in strings</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #98427 for GraphViz: GraphViz doesn&#39;t escape double-quotes in strings</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/GraphViz/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/GraphViz/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/GraphViz/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/GraphViz/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GraphViz">GraphViz CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">98427</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">20 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/GraphViz/Active/">GraphViz</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
B.Candler [...] pobox.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-15044-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-15045-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.15    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;05:38:02&nbsp;2014</span>
    <span class="description">B.Candler [...] pobox.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> GraphViz doesn&#39;t escape double-quotes in strings</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 29 Aug 2014 10:37:40 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GraphViz [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Brian Candler &lt;b.candler [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[Ubuntu 14.04, libgraphviz-perl 2.14-1, graphviz 2.36.0-0ubuntu3]

Passing a label which contains double-quotes causes graphviz to fail. To 
replicate the problem:

--------
use GraphViz;

my $g = GraphViz-&gt;new&#40;&#41;;
$g-&gt;add_node&#40;
           &#39;name&#39; =&gt; &#39;10.10.3.0/24&#39;,
           &#39;fillcolor&#39; =&gt; &#39;#ff6666&#39;,
           &#39;URL&#39; =&gt; &#39;ip.html?id=19&#39;,
           &#39;label&#39; =&gt; &#39;10.10.3.0/24\\n&#34;Router Group 3&#34;&#39;,
           &#39;shape&#39; =&gt; &#39;record&#39;
         &#41;;

print $g-&gt;as_debug;
$g-&gt;as_png&#40;&#34;/tmp/out.png&#34;&#41;;
--------

Results:

digraph test {
     ratio=&#34;fill&#34;;
     node1 [URL=&#34;ip.html?id=19&#34;, fillcolor=&#34;#ff6666&#34;, 
label=&#34;10.10.3.0/24\n&#34;Router Group 3&#34;&#34;, shape=&#34;record&#34;];
}
Warning: &lt;stdin&gt;: syntax error in line 3 near &#39;Group&#39;

and a zero-byte PNG file is produced.

According to <span class="clickylink"><a target="new" rel="nofollow" href="http://www.graphviz.org/content/dot-language">http://www.graphviz.org/content/dot-language</a></span>, double-quotes 
can be escaped by preceding with backslash. I&#39;ve tested it and it works: 
e.g. manually create the following content and feed it to dot:

digraph test {
     ratio=&#34;fill&#34;;
     node1 [URL=&#34;ip.html?id=19&#34;, fillcolor=&#34;#ff6666&#34;, 
label=&#34;10.10.3.0/24\n\&#34;Router Group 3\&#34;&#34;, shape=&#34;record&#34;];
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;18:02:26&nbsp;2014</span>
    <span class="description">ron [...] savage.net.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98427] GraphViz doesn&#39;t escape double-quotes in strings</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 30 Aug 2014 08:02:26 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GraphViz [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ron Savage &lt;ron [...] savage.net.au&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Brian

I&#39;ll look at it, but I do hope you realize that GraphViz is not 
supported and I wrote GraphViz2 to be immeasurably more flexible.

On 29/08/14 19:38, Brian Candler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Aug 29 05:38:02 2014: Request 98427 was acted upon.
&gt; Transaction: Ticket created by B.Candler@pobox.com
&gt;         Queue: GraphViz
&gt;       Subject: GraphViz doesn&#39;t escape double-quotes in strings
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: &#40;no value&#41;
&gt;         Owner: Nobody
&gt;    Requestors: B.Candler@pobox.com
&gt;        Status: new
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98427">https://rt.cpan.org/Ticket/Display.html?id=98427</a></span> &gt;
&gt;
&gt;
&gt; [Ubuntu 14.04, libgraphviz-perl 2.14-1, graphviz 2.36.0-0ubuntu3]
&gt;
&gt; Passing a label which contains double-quotes causes graphviz to fail. To
&gt; replicate the problem:
&gt;
&gt; --------
&gt; use GraphViz;
&gt;
&gt; my $g = GraphViz-&gt;new&#40;&#41;;
&gt; $g-&gt;add_node&#40;
&gt;             &#39;name&#39; =&gt; &#39;10.10.3.0/24&#39;,
&gt;             &#39;fillcolor&#39; =&gt; &#39;#ff6666&#39;,
&gt;             &#39;URL&#39; =&gt; &#39;ip.html?id=19&#39;,
&gt;             &#39;label&#39; =&gt; &#39;10.10.3.0/24\\n&#34;Router Group 3&#34;&#39;,
&gt;             &#39;shape&#39; =&gt; &#39;record&#39;
&gt;           &#41;;
&gt;
&gt; print $g-&gt;as_debug;
&gt; $g-&gt;as_png&#40;&#34;/tmp/out.png&#34;&#41;;
&gt; --------
&gt;
&gt; Results:
&gt;
&gt; digraph test {
&gt;       ratio=&#34;fill&#34;;
&gt;       node1 [URL=&#34;ip.html?id=19&#34;, fillcolor=&#34;#ff6666&#34;,
&gt; label=&#34;10.10.3.0/24\n&#34;Router Group 3&#34;&#34;, shape=&#34;record&#34;];
&gt; }
&gt; Warning: &lt;stdin&gt;: syntax error in line 3 near &#39;Group&#39;
&gt;
&gt; and a zero-byte PNG file is produced.
&gt;
&gt; According to <span class="clickylink"><a target="new" rel="nofollow" href="http://www.graphviz.org/content/dot-language">http://www.graphviz.org/content/dot-language</a></span>, double-quotes
&gt; can be escaped by preceding with backslash. I&#39;ve tested it and it works:
&gt; e.g. manually create the following content and feed it to dot:
&gt;
&gt; digraph test {
&gt;       ratio=&#34;fill&#34;;
&gt;       node1 [URL=&#34;ip.html?id=19&#34;, fillcolor=&#34;#ff6666&#34;,
&gt; label=&#34;10.10.3.0/24\n\&#34;Router Group 3\&#34;&#34;, shape=&#34;record&#34;];
&gt; }
&gt;
&gt;
</div>
-- 
Ron Savage - savage.net.au
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;18:02:26&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;19:11:09&nbsp;2014</span>
    <span class="description">RSAVAGE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">20 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

Thanx for the report.

I&#39;m classifying this as not-a-bug because you&#39;re using an obsolete version of GraphViz. Your email says &#39;libgraphviz-perl 2.14-1&#39;. V 2.15 does not have this bug.

As it happens I&#39;m releasing a new version of GraphViz2 today, so I&#39;ve patched the docs for GraphViz too. The patch has to do with instructions for installing AT&#38;T&#39;s Graphviz.

Also, GraphViz has new instructions for App::cpanminus aka cpanm, which you&#39;ll be able to use to easily install the lastest versions of any module.

Finally, the latest version of GraphViz will be 2.16 and for GraphViz2 it will be 2.33.

They should be on CPAN shortly, and will also be available via my website.

BTW: I see you&#39;re using Ubuntu. I use Debian V 7.6 myself.

Cheers
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;19:11:10&nbsp;2014</span>
    <span class="description">RSAVAGE [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;29&nbsp;19:11:11&nbsp;2014</span>
    <span class="description">RSAVAGE [...] cpan.org -  Fixed in 2.15 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
