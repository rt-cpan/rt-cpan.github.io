<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #46658 for ExtUtils-MakeMaker: Incompatible with older ExtUtils::Install</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #46658 for ExtUtils-MakeMaker: Incompatible with older ExtUtils::Install</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">46658</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">5 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-MakeMaker/Active/">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dmacks [...] netspace.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
6.74    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;04&nbsp;00:21:53&nbsp;2009</span>
    <span class="description">dmacks [...] netspace.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Incompatible with older ExtUtils::Install</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 4 Jun 2009 00:21:27 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Macks &lt;dmacks [...] netspace.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">ExtUtils::MakeMaker 6.52 creates a Makefile recipe that uses a
recently-implemented feature of ExtUtils::Install and that fails if
ExtUtils::Install is an older version. EU::I 1.33 &#40;what ships with
perl5.8.8&#41;, &#39;perl Makefile.PL &#38;&#38; make &#38;&#38; make install&#39; will fail when
EU::I::install&#40;&#41; is called with a parameter style that isn&#39;t known.
For example, using fink to supply perl5.8.8 and all dependencies for
Gnome2::Canvas:

[...]
make install NOECHO=
[...]
/sw/bin/perl5.8.8 -MExtUtils::Install -e &#39;install&#40;[ from_to =&gt; {@ARGV}, verbose =&gt; &#39;\&#39;&#39;0&#39;\&#39;&#39;, uninstall_shadows =&gt; &#39;\&#39;&#39;0&#39;\&#39;&#39;, dir_mode =&gt; &#39;\&#39;&#39;755&#39;\&#39;&#39; ]&#41;;&#39; -- \
                read /sw/lib/perl5/site_perl/5.8.8/darwin-thread-multi-2level/auto/Gnome2/Canvas/.packlist \
                write /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/lib/perl5/5.8.8/darwin-thread-multi-2level/auto/Gnome2/Canvas/.packlist \
                blib/lib /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/lib/perl5/5.8.8 \
                blib/arch /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/lib/perl5/5.8.8/darwin-thread-multi-2level \
                blib/bin /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/bin \
                blib/script /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/bin \
                blib/man1 /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/share/man/man1 \
                blib/man3 /sw/build.build/root-gnome2-canvas-pm588-1.002-6/sw/share/man/man3
Can&#39;t coerce array into hash at /sw/lib/perl5-core/5.8.8/ExtUtils/Install.pm line 94.

If I upgrade my EU::I to 1.52, &#39;make install&#39; works. Even with old
EU::I, previous versions of EU::MM worked. The problem is in
ExtUtils::MM_Any.pm line 1738:

install&#40;[ from_to =&gt; {@ARGV}, verbose =&gt; &#39;$&#40;VERBINST&#41;&#39;, uninstall_shadows =&gt; &#39;$&#40;UNINST&#41;&#39;, dir_mode =&gt; &#39;$&#40;PERM_DIR&#41;&#39; ]&#41;;

but until EU::I 1.47, install&#40;&#41; only took a list of parameter values
in specific order, not an array-ref of named parameters.

I don&#39;t know the best solution here. The POD for EU::I::install&#40;&#41; says
the simple parameter list is deprecated, so who knows how long that
syntax will be supported. Other solution is for EU::MM to specify a
dependency on EU::I &gt;= 1.47. It makes functional sense that EU::I,
which is called by EU::MM, would be a dependency of EU::MM. But EU::I
currently specified a dependency on EU::MM &#40;no idea why&#41;, so that&#39;s
circular.

dan

-- 
Daniel Macks
dmacks@netspace.org
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.netspace.org/~dmacks">http://www.netspace.org/~dmacks</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;04&nbsp;13:53:42&nbsp;2009</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46658] Incompatible with older ExtUtils::Install</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 04 Jun 2009 10:53:20 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">dmacks@netspace.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ExtUtils::MakeMaker 6.52 creates a Makefile recipe that uses a
&gt; recently-implemented feature of ExtUtils::Install and that fails if
&gt; ExtUtils::Install is an older version. EU::I 1.33 &#40;what ships with
&gt; perl5.8.8&#41;, &#39;perl Makefile.PL &#38;&#38; make &#38;&#38; make install&#39; will fail when
&gt; EU::I::install&#40;&#41; is called with a parameter style that isn&#39;t known.
</div>
Thanks for your report.

You&#39;re right.  I can reproduce with perl5.8.8.  The tests don&#39;t even run.  I
need a real smoke server.

MakeMaker ships with a new version of EUI and it supposed to use it, but it
seems that&#39;s not always the case.  I suspect that some of the tests and the
install process aren&#39;t looking at blib/lib &#40;where EUI is put&#41; but in lib/
&#40;where EUI is not&#41;.

I&#39;ll try to look at it tonight, this weekend the latest.


-- 
Life is like a sewer - what you get out of it depends on what you put into it.
    - Tom Lehrer
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;04&nbsp;13:53:43&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;06&nbsp;21:47:50&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> pm_to_blib does not run if Makefile is rebuilt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Upon investigating, I&#39;ve figured out the problem.

First off, you didn&#39;t run the tests.  They would have failed and saved
you from installing a broken Perl build system.  If there&#39;s one module
you should always run the tests on before installing its MakeMaker.  So
now I don&#39;t feel so bad.

Second, did you build MakeMaker with a different version of Perl? 
Perhaps 5.10?  Perhaps one which already had a new ExtUtils::Install? 
If so then the work around is to simply &#34;make clean&#34; before re-running
the installer for 5.8.8.  So there&#39;s your work around.

Alternatively, apply this patch.

--- a/lib/ExtUtils/MM_Unix.pm
+++ b/lib/ExtUtils/MM_Unix.pm
@@ -2800,7 +2800,7 @@ sub pm_to_blib {
     my $self = shift;
     my&#40;$autodir&#41; = $self-&gt;catdir&#40;&#39;$&#40;INST_LIB&#41;&#39;,&#39;auto&#39;&#41;;
     my $r = q{
-pm_to_blib : $&#40;TO_INST_PM&#41;
+pm_to_blib : $&#40;FIRST_MAKEFILE&#41; $&#40;TO_INST_PM&#41;
 };
 
     # VMS will swallow &#39;&#39; and PM_FILTER is often empty.  So use q[]


MakeMaker will test and install on a clean 5.6 and 5.8.  Its only if the
source has already been built with a perl that has a new
ExtUtils::Install that it will fail.  Details follow.


The pm_to_blib target rebuilds blib.  It only fires if any of the pm
files have changed since the last pm_to_blib run.  It doesn&#39;t depend on
anything else.

So, install MakeMaker on 5.10 or something which already has an up to
date ExtUtils::Install and it will copy things to blib, but not
ExtUtils::Install.  Its already up to date.

Then, without running clean, rerun Makefile.PL with 5.8.8 and run the
tests WITHOUT RUNNING MAKE.  None of the pm files have changed to blib
does not get rebuilt.  ExtUtils::Install is not copied into blib and the
tests fail.

To replicate:

    make realclean
    perl5.10.0 Makefile.PL
    make
    perl5.8.8 Makefile.PL
    make
    make test 

Solution:

Have pm_to_blib depend on the Makefile.  If the Makefile gets rebuilt so
does blib.  This will probably fix a number of other subtle bugs.

This will be fixed shortly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;07&nbsp;17:29:43&nbsp;2009</span>
    <span class="description">dmacks [...] netspace.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46658] Had passed self-test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 7 Jun 2009 17:29:22 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Macks &lt;dmacks [...] netspace.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Jun 06, 2009 at 09:47:51PM -0400, Michael G Schwern via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; First off, you didn&#39;t run the tests.  They would have failed and saved
&gt; you from installing a broken Perl build system.  If there&#39;s one module
&gt; you should always run the tests on before installing its MakeMaker.  So
&gt; now I don&#39;t feel so bad.
</div>
Nope, self-test ran and &#34;All tests successful.&#34; using perl5.8.6 and
using perl5.8.8 &#40;explicit path used when running Makefile.PL and also
passed as the PERL variable to it&#41;. Only ones that were not &#34;ok&#34; were
the ones &#34;skipped: This is not $NOT_MY_PLATFORM&#34;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Second, did you build MakeMaker with a different version of Perl?
&gt; Perhaps 5.10? Perhaps one which already had a new ExtUtils::Install?
&gt; If so then the work around is to simply &#34;make clean&#34; before re-running
&gt; the installer for 5.8.8. So there&#39;s your work around.
</div>
I have perl5.8.6 &#40;with EU::I 1.32 EU::MM 6.17&#41; via OS X 10.4 and
perl5.8.8 &#40;with EU::I 1.33 EU::MM 6.30&#41; via fink. I also have EU::MM
6.50 installed for each of those two perls. Never had perl5.8.10 on
this machine, and there&#39;s no other Install.pm file anywhere.

dan

-- 
Daniel Macks
dmacks@netspace.org
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.netspace.org/~dmacks">http://www.netspace.org/~dmacks</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;07&nbsp;18:18:44&nbsp;2009</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46658] Had passed self-test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 07 Jun 2009 15:18:23 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-ExtUtils-MakeMaker [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">dmacks@netspace.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: ExtUtils-MakeMaker
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46658">https://rt.cpan.org/Ticket/Display.html?id=46658</a></span> &gt;
&gt; 
&gt; On Sat, Jun 06, 2009 at 09:47:51PM -0400, Michael G Schwern via RT wrote:
<div class="message-stanza open">&gt;&gt; First off, you didn&#39;t run the tests.  They would have failed and saved
&gt;&gt; you from installing a broken Perl build system.  If there&#39;s one module
&gt;&gt; you should always run the tests on before installing its MakeMaker.  So
&gt;&gt; now I don&#39;t feel so bad.
</div>&gt; 
&gt; Nope, self-test ran and &#34;All tests successful.&#34; using perl5.8.6 and
&gt; using perl5.8.8 &#40;explicit path used when running Makefile.PL and also
&gt; passed as the PERL variable to it&#41;. Only ones that were not &#34;ok&#34; were
&gt; the ones &#34;skipped: This is not $NOT_MY_PLATFORM&#34;.
</div>
Your original message said &#34;perl Makefile.PL &#38;&#38; make &#38;&#38; make install&#34; so I
figured you didn&#39;t run the tests.  Also I can reproduce your problem in the
tests at my end.  Apologies.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Second, did you build MakeMaker with a different version of Perl?
&gt;&gt; Perhaps 5.10? Perhaps one which already had a new ExtUtils::Install?
&gt;&gt; If so then the work around is to simply &#34;make clean&#34; before re-running
&gt;&gt; the installer for 5.8.8. So there&#39;s your work around.
</div>&gt; 
&gt; I have perl5.8.6 &#40;with EU::I 1.32 EU::MM 6.17&#41; via OS X 10.4 and
&gt; perl5.8.8 &#40;with EU::I 1.33 EU::MM 6.30&#41; via fink. I also have EU::MM
&gt; 6.50 installed for each of those two perls. Never had perl5.8.10 on
&gt; this machine, and there&#39;s no other Install.pm file anywhere.
</div>
Then something went wrong with the installation.  Or the installation was
altered afterwards.  If the tests passed then the new ExtUtils::Install was
staged and should have been installed.  Its possible fink overwrote it later,
since it will overlay the fink installed modules, or its possible it was
shadowed by a pre-existing installed ExtUtils::Install.

When you install MakeMaker, do you get any messages about &#34;shadowing&#34;?

Do you see any mention of ExtUtils/Install.pm when building or installing
MakeMaker?

Does blib/lib/ExtUtils/Install.pm exist after testing MakeMaker?

When you ran Makefile.PL, did you pass it any arguments such as INSTALLDIRS?

Could you please attach the complete output of all steps of building, testing
and installing MakeMaker along with your Makefile?

Please check all the of above with the unaltered MakeMaker.  Then please try
the attached patch and see if that makes a difference.


-- 
31. Not allowed to let sock puppets take responsibility for any of my
    actions.
    -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
           <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/lib/ExtUtils/MM_Unix.pm b/lib/ExtUtils/MM_Unix.pm
index 6cc1424..1fe1182 100644
--- a/lib/ExtUtils/MM_Unix.pm
+++ b/lib/ExtUtils/MM_Unix.pm
@@ -2800,7 +2800,7 @@ sub pm_to_blib {
     my $self = shift;
     my&#40;$autodir&#41; = $self-&gt;catdir&#40;&#39;$&#40;INST_LIB&#41;&#39;,&#39;auto&#39;&#41;;
     my $r = q{
-pm_to_blib : $&#40;TO_INST_PM&#41;
+pm_to_blib : $&#40;FIRST_MAKEFILE&#41; $&#40;TO_INST_PM&#41;
 };
 
     # VMS will swallow &#39;&#39; and PM_FILTER is often empty.  So use q[]
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;07&nbsp;20:45:46&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve pushed a fix for this into the repo.  Waiting on user info.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;07&nbsp;20:45:50&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:10:26&nbsp;2013</span>
    <span class="description">BINGOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">5 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">EUMM will bootstrap itself including all prereqs.

Resolving this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:10:26&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:10:26&nbsp;2013</span>
    <span class="description">BINGOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:10:27&nbsp;2013</span>
    <span class="description">BINGOS [...] cpan.org -  Fixed in 6.74 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
