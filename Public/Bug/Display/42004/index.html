<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42004 for Parse-ErrorString-Perl: Makefile.PL error &#40;does not install&#41; and tests fail</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42004 for Parse-ErrorString-Perl: Makefile.PL error &#40;does not install&#41; and tests fail</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Parse-ErrorString-Perl">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Parse-ErrorString-Perl">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Parse-ErrorString-Perl">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Parse-ErrorString-Perl">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/PadreIDE/Parse-ErrorString-Perl">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Parse-ErrorString-Perl">Parse-ErrorString-Perl CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42004</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Parse-ErrorString-Perl">Parse-ErrorString-Perl</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
garu [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-225180-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.11    </td>
  </tr>
  <tr id="CF-225181-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




06-short-filename.t.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/547966/275697/06-short-filename.t.diff">
Sun Dec 28 15:57:24 2008 (337b) by garu [...] cpan.org
</a>
</font></li>
</ul>


06-short_filename.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/547966/275691/06-short_filename.t">
Sun Dec 28 15:57:24 2008 (1k) by garu [...] cpan.org
</a>
</font></li>
</ul>


Makefile.PL<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/547966/275694/Makefile.PL">
Sun Dec 28 15:57:24 2008 (761b) by garu [...] cpan.org
</a>
</font></li>
</ul>


Makefile.PL.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/547966/275688/Makefile.PL.diff">
Sun Dec 28 15:57:24 2008 (113b) by garu [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=42004">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-547960" href="/Public/Bug/Display.html?id=42004#txn-547960">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;28&nbsp;15:26:45&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Makefile.PL error &#40;does not install&#41; and tests fail</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/547960/275679/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/275679">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

first let me thank you for creating this nice module! Unfortunately,
version 0.08 does not install properly on my system &#40;and cpantesters is
accusing the same problem&#41;. Here&#39;s the output:

-------------------8&lt;-------------------
cpan[1]&gt; install Parse::ErrorString::Perl
CPAN: Storable loaded ok &#40;v2.18&#41;
Going to read /root/.cpan/Metadata
  Database was generated on Sun, 28 Dec 2008 02:28:28 GMT
Running install for module &#39;Parse::ErrorString::Perl&#39;
Running make for P/PS/PSHANGOV/Parse-ErrorString-Perl-0.08.tar.gz
CPAN: Digest::SHA loaded ok &#40;v5.47&#41;
CPAN: File::Which loaded ok &#40;v0.05&#41;
CPAN: Compress::Zlib loaded ok &#40;v2.015&#41;
Checksum for
/root/.cpan/sources/authors/id/P/PS/PSHANGOV/Parse-ErrorString-Perl-0.08.tar.gz
ok
Scanning cache /root/.cpan/build for sizes
DONE
Parse-ErrorString-Perl-0.08
Parse-ErrorString-Perl-0.08/Build.PL
Parse-ErrorString-Perl-0.08/Changes
Parse-ErrorString-Perl-0.08/Makefile.PL
Parse-ErrorString-Perl-0.08/MANIFEST
Parse-ErrorString-Perl-0.08/META.yml
Parse-ErrorString-Perl-0.08/README
Parse-ErrorString-Perl-0.08/bin
Parse-ErrorString-Perl-0.08/bin/check_perldiag
Parse-ErrorString-Perl-0.08/lib
Parse-ErrorString-Perl-0.08/lib/Parse
Parse-ErrorString-Perl-0.08/lib/Parse/ErrorString
Parse-ErrorString-Perl-0.08/lib/Parse/ErrorString/Perl.pm
Parse-ErrorString-Perl-0.08/t
Parse-ErrorString-Perl-0.08/t/00-load.t
Parse-ErrorString-Perl-0.08/t/01-errors.t
Parse-ErrorString-Perl-0.08/t/02-diagnostics.t
Parse-ErrorString-Perl-0.08/t/03-split_diagnostics.t
Parse-ErrorString-Perl-0.08/t/04-perldiag.t
Parse-ErrorString-Perl-0.08/t/05-stacktrace.t
Parse-ErrorString-Perl-0.08/t/06-short_filename.t
CPAN: File::Temp loaded ok &#40;v0.21&#41;
CPAN: YAML loaded ok &#40;v0.68&#41;
CPAN: Module::Build loaded ok &#40;v0.31&#41;

  CPAN.pm: Going to build P/PS/PSHANGOV/Parse-ErrorString-Perl-0.08.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for Parse::ErrorString::Perl
cp lib/Parse/ErrorString/Perl.pm blib/lib/Parse/ErrorString/Perl.pm
make: *** No rule to make target `bin\check_perldiag&#39;, needed by
`blib/script/bin\check_perldiag&#39;.  Stop.
  PSHANGOV/Parse-ErrorString-Perl-0.08.tar.gz
  make -- NOT OK
Running make test
  Can&#39;t test without successful make
Running make install
  Make had returned bad status, install seems impossible
Failed during this command:
 PSHANGOV/Parse-ErrorString-Perl-0.08.tar.gz  : make NO

                                                                       
        cpan[2]&gt; 
-------------------8&lt;-------------------

&#40;I&#39;m using Linux, by the way&#41;

I was able to fix this by manually downloading
&#34;Parse-ErrorString-Perl-0.08.tar.gz&#34; and editing Makefile.PL, changing this:

---------8&lt;-------------
&#39;EXE_FILES&#39; =&gt; [
                &#39;bin\\check_perldiag&#39;
               ],
---------8&lt;-------------

into this:

---------8&lt;-------------
&#39;EXE_FILES&#39; =&gt; [
                &#39;bin/check_perldiag&#39;
               ],
---------8&lt;-------------

But although the &#34;make&#34; command runs ok, the &#34;make test&#34; issues the
following error:

---------8&lt;-------------
# make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load.................1/1 # Testing Parse::ErrorString::Perl 0.08,
Perl 5.010000, /usr/bin/perl
t/00-load.................ok   
t/01-errors...............ok     
t/02-diagnostics..........ok     
t/03-split_diagnostics....ok   
t/04-perldiag.............ok   
t/05-stacktrace...........ok   
t/06-short_filename.......1/4 
#   Failed test &#39;msg_short_script short path&#39;
#   at t/06-short_filename.t line 15.
# Looks like you failed 1 test of 4.
t/06-short_filename....... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
 Failed 1/4 subtests 

Test Summary Report
-------------------
t/06-short_filename   &#40;Wstat: 256 Tests: 4 Failed: 1&#41;
  Failed test:  2
  Non-zero exit status: 1
Files=7, Tests=82,  5 wallclock secs &#40; 0.12 usr  0.01 sys +  4.68 cusr 
0.16 csys =  4.97 CPU&#41;
Result: FAIL
Failed 1/7 test programs. 1/82 subtests failed.
make: *** [test_dynamic] Error 1
---------8&lt;-------------

Apparently, for the tested error string: 

&#34;Use of uninitialized value $empty in length at
c:\my\very\long\path\to\this\perl\script\called\error.pl line 6.&#34;

, the &#34;file&#34; method should return only &#34;error.pl&#34; but is instead
returning &#34;c:\my\very\long\path\to\this\perl\script\called\error.pl&#34;


I don&#39;t know if the latter is an error of your module or of File::Spec,
but since it&#39;s your test suit I thought you should at least have another
look at it.

Anyway, thanks! I hope this helps you to fix it soon :&#41;

Cheers,

-b
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-547963" href="/Public/Bug/Display.html?id=42004#txn-547963">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;28&nbsp;15:40:26&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/547963/275682/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/275682">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Apparently, for the tested error string:
&gt; 
&gt; &#34;Use of uninitialized value $empty in length at
&gt; c:\my\very\long\path\to\this\perl\script\called\error.pl line 6.&#34;
&gt; 
&gt; , the &#34;file&#34; method should return only &#34;error.pl&#34; but is instead
&gt; returning &#34;c:\my\very\long\path\to\this\perl\script\called\error.pl&#34;
&gt; 
&gt; 
&gt; I don&#39;t know if the latter is an error of your module or of
&gt; File::Spec,
&gt; but since it&#39;s your test suit I thought you should at least have
&gt; another
&gt; look at it.
&gt; 
</div>
It just occured to me that your test suite might be wrong after all. In
the POD you say &#40;for the &#34;file&#34; method&#41;:

---------------8&lt;---------------
file

    The path to the file in which the error occurred, possibly
trunicated. If the error occurred in a script, the parser will attempt
to return only the filename; if the error occurred in a module, the
parser will attempt to return the path to the module relative to the
directory in @INC in which it resides.
---------------8&lt;---------------

The key point is &#34;the parser will attempt to return only the filename&#34;.
So it should return &#34;file.pl&#34; ***IF*** I was on Windows. Since I am on
Linux, &#34;c:\my\very\long\path\to\this\perl\script\called\error.pl&#34; is
*not* a valid path, so the method is working properly by returning the
full name - in fact, you can create a valid file named
&#34;c:\my\very\long\path\to\this\perl\script\called\error.pl&#34; on linux, on
any path.

Perhaps you should create different error message strings for different
operating systems, and use something like $^O or Devel::CheckOS to find
the appropriate string to check under that OS.

Hope this helps!

Cheers,

-b
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-547965" href="/Public/Bug/Display.html?id=42004#txn-547965">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;28&nbsp;15:40:27&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-547966" href="/Public/Bug/Display.html?id=42004#txn-547966">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;28&nbsp;15:57:24&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &#40;fix provided&#41; Makefile.PL error &#40;does not install&#41; and tests fail</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/547966/275685/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/275685">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 521b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Dec 28 15:40:26 2008, GARU wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Perhaps you should create different error message strings for different
&gt; operating systems, and use something like $^O or Devel::CheckOS to find
&gt; the appropriate string to check under that OS.
&gt; 
</div>
Well, I got bored and did that for you. The new t/06-short_filename.t
and Makefile.PL are attached to this message. I also provided them as a
diff, if you prefer.

Now &#39;make&#39;, &#39;make test&#39; and &#39;make install&#39; all work nicely.

Hope to see the new CPAN release soon!

Cheers,

-b
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/547966/275688/Makefile.PL.diff">Download Makefile.PL.diff</a><br />
<span class="downloadcontenttype">text/x-diff 113b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">17c17
&lt;                            &#39;bin\\check_perldiag&#39;
---
&gt;                            &#39;bin/check_perldiag&#39;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/547966/275691/06-short_filename.t">Download 06-short_filename.t</a><br />
<span class="downloadcontenttype">text/x-perl 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!perl -T

use Test::More tests =&gt; 4;
use Parse::ErrorString::Perl;
use File::Spec;

my $parser = Parse::ErrorString::Perl-&gt;new;

my $msg_short_script;
if &#40;$^O =~ m/win/i&#41; {
    $msg_short_script = &lt;&lt;&#39;ENDofMSG&#39;;
Use of uninitialized value $empty in length at c:\my\very\long\path\to\this\perl\script\called\error.pl line 6.
ENDofMSG
}
else {
    $msg_short_script = &lt;&lt;&#39;ENDofMSG&#39;;
Use of uninitialized value $empty in length at /my/very/long/path/to/this/perl/script/called/error.pl line 6.
ENDofMSG
}

my @errors_short_script = $parser-&gt;parse_string&#40;$msg_short_script&#41;;
ok&#40;@errors_short_script, &#39;msg_short_script results&#39;&#41;;
ok&#40;$errors_short_script[0]-&gt;file eq &#39;error.pl&#39;, &#39;msg_short_script short path&#39;&#41;;

our @INC;
my $path = File::Spec-&gt;catfile&#40;$INC[0], &#39;Error.pm&#39;&#41;;
my $msg_short_module = &#39;Use of uninitialized value $empty in length at &#39; . $path . &#39; line 6.&#39;;

my @errors_short_module = $parser-&gt;parse_string&#40;$msg_short_module&#41;;
ok&#40;@errors_short_module, &#39;msg_short_module results&#39;&#41;;
ok&#40;$errors_short_module[0]-&gt;file eq &#39;Error.pm&#39;, &#39;msg_short_module short path&#39;&#41;;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/547966/275694/Makefile.PL">Download Makefile.PL</a><br />
<span class="downloadcontenttype">text/x-perl 761b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"># Note: this file was auto-generated by Module::Build::Compat version 0.30
use ExtUtils::MakeMaker;
WriteMakefile
&#40;
          &#39;NAME&#39; =&gt; &#39;Parse::ErrorString::Perl&#39;,
          &#39;VERSION_FROM&#39; =&gt; &#39;lib/Parse/ErrorString/Perl.pm&#39;,
          &#39;PREREQ_PM&#39; =&gt; {
                           &#39;Class::XSAccessor&#39; =&gt; 0,
                           &#39;File::Basename&#39; =&gt; 0,
                           &#39;File::Spec&#39; =&gt; 0,
                           &#39;Pod::Find&#39; =&gt; 0,
                           &#39;Pod::POM&#39; =&gt; 0,
                           &#39;Test::More&#39; =&gt; 0
                         },
          &#39;INSTALLDIRS&#39; =&gt; &#39;site&#39;,
          &#39;EXE_FILES&#39; =&gt; [
                           &#39;bin/check_perldiag&#39;
                         ],
          &#39;PL_FILES&#39; =&gt; {}
        &#41;
;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/547966/275697/06-short-filename.t.diff">Download 06-short-filename.t.diff</a><br />
<span class="downloadcontenttype">text/x-diff 337b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">9c9,11
&lt; my $msg_short_script = &lt;&lt;&#39;ENDofMSG&#39;;
---
&gt; my $msg_short_script;
&gt; if &#40;$^O =~ m/win/i&#41; {
&gt;     $msg_short_script = &lt;&lt;&#39;ENDofMSG&#39;;
11a14,19
&gt; }
&gt; else {
&gt;     $msg_short_script = &lt;&lt;&#39;ENDofMSG&#39;;
&gt; Use of uninitialized value $empty in length at /my/very/long/path/to/this/perl/script/called/error.pl line 6.
&gt; ENDofMSG
&gt; }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-548901" href="/Public/Bug/Display.html?id=42004#txn-548901">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;31&nbsp;13:03:32&nbsp;2008</span>
    <span class="description">pshangov [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42004] &#40;fix provided&#41; Makefile.PL error &#40;does not install&#41; and tests fail</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 31 Dec 2008 10:03:20 -0800 &#40;PST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Parse-ErrorString-Perl [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Petar Shangov &lt;pshangov [...] yahoo.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/548901/276186/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/276186">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks very much for the feedback, a new version of the module will soon be on CPAN. It took some time since the Makefile.PL issue is not very trivial as it seems and fully resolving it will involve some bug-fixing of Module::Build. 

Petar



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">----- Original Message ----
<div class="message-stanza open">&gt; From: Breno G. de Oliveira via RT &lt;bug-Parse-ErrorString-Perl@rt.cpan.org&gt;
&gt; Sent: Sunday, 28 December, 2008 22:57:26
&gt; Subject: [rt.cpan.org #42004] &#40;fix provided&#41; Makefile.PL error &#40;does not install&#41; and tests fail 
&gt; 
&gt;        Queue: Parse-ErrorString-Perl
&gt; Ticket 
&gt; 
&gt; On Sun Dec 28 15:40:26 2008, GARU wrote:
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; Perhaps you should create different error message strings for different
&gt; &gt; operating systems, and use something like $^O or Devel::CheckOS to find
&gt; &gt; the appropriate string to check under that OS.
&gt; &gt; 
</div>&gt; 
&gt; Well, I got bored and did that for you. The new t/06-short_filename.t
&gt; and Makefile.PL are attached to this message. I also provided them as a
&gt; diff, if you prefer.
&gt; 
&gt; Now &#39;make&#39;, &#39;make test&#39; and &#39;make install&#39; all work nicely.
&gt; 
&gt; Hope to see the new CPAN release soon!
&gt; 
&gt; Cheers,
&gt; 
&gt; -b
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-550532" href="/Public/Bug/Display.html?id=42004#txn-550532">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;05&nbsp;16:14:05&nbsp;2009</span>
    <span class="description">pshangov [...] yahoo.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-550534" href="/Public/Bug/Display.html?id=42004#txn-550534">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;05&nbsp;16:14:05&nbsp;2009</span>
    <span class="description">pshangov [...] yahoo.com -  Broken in 0.11 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-550535" href="/Public/Bug/Display.html?id=42004#txn-550535">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;05&nbsp;16:14:05&nbsp;2009</span>
    <span class="description">pshangov [...] yahoo.com -  Broken in 0.08 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.701616</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
