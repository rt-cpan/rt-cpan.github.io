<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #84732 for mod_perl: MP_APXS environment variable is not checked for</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #84732 for mod_perl: MP_APXS environment variable is not checked for</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/mod_perl/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/mod_perl/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/mod_perl/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/mod_perl/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/mod_perl">mod_perl CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">84732</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/mod_perl/Active/">mod_perl</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jeppe [...] ioslo.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-21786-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
2.0.7</li>
<li>
2.0.8</li>
</ul>
    </td>
  </tr>
  <tr id="CF-21787-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:15:07&nbsp;2013</span>
    <span class="description">jeppe [...] ioslo.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MP_APXS environment variable is not checked for</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m having trouble performing a non-parameterized build of mod_perl2 with a custom perl and a custom apache. 

[root@centos6-builder ~]# cd /tmp/
[root@centos6-builder tmp]# tar zxf mod_perl-2.0.8.tar.gz 
[root@centos6-builder tmp]# cd mod_perl-2.0.8
[root@centos6-builder mod_perl-2.0.8]# export MP_APXS=/opt/apache/bin/apxs
[root@centos6-builder mod_perl-2.0.8]# stat $MP_APXS
  File: «/opt/apache/bin/apxs»
  Size: 22646           Blocks: 48         IO Block: 4096   regular file
Device: fd00h/64768d    Inode: 142400      Links: 1
Access: &#40;0755/-rwxr-xr-x&#41;  Uid: &#40;    0/    root&#41;   Gid: &#40;    0/    root&#41;
Access: 2013-04-18 16:43:03.042998090 +0200
Modify: 2013-03-22 13:29:12.000000000 +0100
Change: 2013-04-18 16:31:34.687999018 +0200
[root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl Makefile.PL 
no conflicting prior mod_perl version found - good.

Next we need to know where the &#39;apxs&#39; script is located. This script
provides a lot of information about the Apache installation, and makes
it easier to find things on your system. Normally it&#39;s located in the
same directory as the &#39;httpd&#39; executable.

If you don&#39;t yet have Apache installed you can build Apache against
the Apache source code, but you won&#39;t be able to run the test suite &#40;a
very important step&#41;. Therefore you may want to install Apache before
proceeding.


Please provide a full path to &#39;apxs&#39; executable
&#40;press Enter if you don&#39;t have it installed&#41;:  


It looks from glancing through Makefile.PL and Apache2::Build that this should work.

I&#39;ll continue to look into the issue and will provide a patch if I can. 

Best regards,
Jens-Petter Salvesen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:18:39&nbsp;2013</span>
    <span class="description">fred [...] redhotpenguin.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84732] MP_APXS environment variable is not checked for</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Apr 2013 00:18:24 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-mod_perl [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Fred Moyer &lt;fred [...] redhotpenguin.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you try:

MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL


On Fri, Apr 19, 2013 at 12:15 AM, jeppe@ioslo.net via RT &lt;
bug-mod_perl@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Apr 19 03:15:07 2013: Request 84732 was acted upon.
&gt; Transaction: Ticket created by jeppe@ioslo.net
&gt;        Queue: mod_perl
&gt;      Subject: MP_APXS environment variable is not checked for
&gt;    Broken in: 2.0.7, 2.0.8
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: jeppe@ioslo.net
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt;
&gt;
&gt; Hi,
&gt;
&gt; I&#39;m having trouble performing a non-parameterized build of mod_perl2 with
&gt; a custom perl and a custom apache.
&gt;
&gt; [root@centos6-builder ~]# cd /tmp/
&gt; [root@centos6-builder tmp]# tar zxf mod_perl-2.0.8.tar.gz
&gt; [root@centos6-builder tmp]# cd mod_perl-2.0.8
&gt; [root@centos6-builder mod_perl-2.0.8]# export MP_APXS=/opt/apache/bin/apxs
&gt; [root@centos6-builder mod_perl-2.0.8]# stat $MP_APXS
&gt;   File: «/opt/apache/bin/apxs»
&gt;   Size: 22646           Blocks: 48         IO Block: 4096   regular file
&gt; Device: fd00h/64768d    Inode: 142400      Links: 1
&gt; Access: &#40;0755/-rwxr-xr-x&#41;  Uid: &#40;    0/    root&#41;   Gid: &#40;    0/    root&#41;
&gt; Access: 2013-04-18 16:43:03.042998090 +0200
&gt; Modify: 2013-03-22 13:29:12.000000000 +0100
&gt; Change: 2013-04-18 16:31:34.687999018 +0200
&gt; [root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl Makefile.PL
&gt; no conflicting prior mod_perl version found - good.
&gt;
&gt; Next we need to know where the &#39;apxs&#39; script is located. This script
&gt; provides a lot of information about the Apache installation, and makes
&gt; it easier to find things on your system. Normally it&#39;s located in the
&gt; same directory as the &#39;httpd&#39; executable.
&gt;
&gt; If you don&#39;t yet have Apache installed you can build Apache against
&gt; the Apache source code, but you won&#39;t be able to run the test suite &#40;a
&gt; very important step&#41;. Therefore you may want to install Apache before
&gt; proceeding.
&gt;
&gt;
&gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt;
&gt;
&gt; It looks from glancing through Makefile.PL and Apache2::Build that this
&gt; should work.
&gt;
&gt; I&#39;ll continue to look into the issue and will provide a patch if I can.
&gt;
&gt; Best regards,
&gt; Jens-Petter Salvesen
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:18:40&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:38:14&nbsp;2013</span>
    <span class="description">jeppe [...] ioslo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jeppe [...] ioslo.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Of course! I&#39;m afraid that didn&#39;t work either. 

[root@centos6-builder mod_perl-2.0.8]#  MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL 
no conflicting prior mod_perl version found - good.

Next we need to know where the &#39;apxs&#39; script is located. This script
provides a lot of information about the Apache installation, and makes
it easier to find things on your system. Normally it&#39;s located in the
same directory as the &#39;httpd&#39; executable.

If you don&#39;t yet have Apache installed you can build Apache against
the Apache source code, but you won&#39;t be able to run the test suite &#40;a
very important step&#41;. Therefore you may want to install Apache before
proceeding.


Please provide a full path to &#39;apxs&#39; executable
&#40;press Enter if you don&#39;t have it installed&#41;:  


fr. 19. april 2013 03.18.39 skrev fred@redhotpenguin.com:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you try:
&gt; 
&gt; MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL
&gt; 
&gt; 
&gt; On Fri, Apr 19, 2013 at 12:15 AM, jeppe@ioslo.net via RT &lt;
&gt; bug-mod_perl@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Fri Apr 19 03:15:07 2013: Request 84732 was acted upon.
&gt; &gt; Transaction: Ticket created by jeppe@ioslo.net
&gt; &gt;        Queue: mod_perl
&gt; &gt;      Subject: MP_APXS environment variable is not checked for
&gt; &gt;    Broken in: 2.0.7, 2.0.8
&gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: jeppe@ioslo.net
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; I&#39;m having trouble performing a non-parameterized build of mod_perl2 with
&gt; &gt; a custom perl and a custom apache.
&gt; &gt;
&gt; &gt; [root@centos6-builder ~]# cd /tmp/
&gt; &gt; [root@centos6-builder tmp]# tar zxf mod_perl-2.0.8.tar.gz
&gt; &gt; [root@centos6-builder tmp]# cd mod_perl-2.0.8
&gt; &gt; [root@centos6-builder mod_perl-2.0.8]# export MP_APXS=/opt/apache/bin/apxs
&gt; &gt; [root@centos6-builder mod_perl-2.0.8]# stat $MP_APXS
&gt; &gt;   File: «/opt/apache/bin/apxs»
&gt; &gt;   Size: 22646           Blocks: 48         IO Block: 4096   regular file
&gt; &gt; Device: fd00h/64768d    Inode: 142400      Links: 1
&gt; &gt; Access: &#40;0755/-rwxr-xr-x&#41;  Uid: &#40;    0/    root&#41;   Gid: &#40;    0/    root&#41;
&gt; &gt; Access: 2013-04-18 16:43:03.042998090 +0200
&gt; &gt; Modify: 2013-03-22 13:29:12.000000000 +0100
&gt; &gt; Change: 2013-04-18 16:31:34.687999018 +0200
&gt; &gt; [root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl Makefile.PL
&gt; &gt; no conflicting prior mod_perl version found - good.
&gt; &gt;
&gt; &gt; Next we need to know where the &#39;apxs&#39; script is located. This script
&gt; &gt; provides a lot of information about the Apache installation, and makes
&gt; &gt; it easier to find things on your system. Normally it&#39;s located in the
&gt; &gt; same directory as the &#39;httpd&#39; executable.
&gt; &gt;
&gt; &gt; If you don&#39;t yet have Apache installed you can build Apache against
&gt; &gt; the Apache source code, but you won&#39;t be able to run the test suite &#40;a
&gt; &gt; very important step&#41;. Therefore you may want to install Apache before
&gt; &gt; proceeding.
&gt; &gt;
&gt; &gt;
&gt; &gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt; &gt;
&gt; &gt;
&gt; &gt; It looks from glancing through Makefile.PL and Apache2::Build that this
&gt; &gt; should work.
&gt; &gt;
&gt; &gt; I&#39;ll continue to look into the issue and will provide a patch if I can.
&gt; &gt;
&gt; &gt; Best regards,
&gt; &gt; Jens-Petter Salvesen
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:45:49&nbsp;2013</span>
    <span class="description">fred [...] redhotpenguin.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84732] MP_APXS environment variable is not checked for</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Apr 2013 00:45:36 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-mod_perl [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Fred Moyer &lt;fred [...] redhotpenguin.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Another option would be to put apxs in your PATH. The logic behind all that
is easier than it used to be, but still not that straightforward and robust.


On Fri, Apr 19, 2013 at 12:38 AM, jeppe@ioslo.net via RT &lt;
bug-mod_perl@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: mod_perl
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt;
&gt; Of course! I&#39;m afraid that didn&#39;t work either.
&gt;
&gt; [root@centos6-builder mod_perl-2.0.8]#  MP_APXS=/opt/apache/bin/apxs
&gt; /opt/perl/bin/perl Makefile.PL
&gt; no conflicting prior mod_perl version found - good.
&gt;
&gt; Next we need to know where the &#39;apxs&#39; script is located. This script
&gt; provides a lot of information about the Apache installation, and makes
&gt; it easier to find things on your system. Normally it&#39;s located in the
&gt; same directory as the &#39;httpd&#39; executable.
&gt;
&gt; If you don&#39;t yet have Apache installed you can build Apache against
&gt; the Apache source code, but you won&#39;t be able to run the test suite &#40;a
&gt; very important step&#41;. Therefore you may want to install Apache before
&gt; proceeding.
&gt;
&gt;
&gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt;
&gt;
&gt; fr. 19. april 2013 03.18.39 skrev fred@redhotpenguin.com:
<div class="message-stanza open">&gt; &gt; Can you try:
&gt; &gt;
&gt; &gt; MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL
&gt; &gt;
&gt; &gt;
&gt; &gt; On Fri, Apr 19, 2013 at 12:15 AM, jeppe@ioslo.net via RT &lt;
&gt; &gt; bug-mod_perl@rt.cpan.org&gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Fri Apr 19 03:15:07 2013: Request 84732 was acted upon.
&gt; &gt; &gt; Transaction: Ticket created by jeppe@ioslo.net
&gt; &gt; &gt;        Queue: mod_perl
&gt; &gt; &gt;      Subject: MP_APXS environment variable is not checked for
&gt; &gt; &gt;    Broken in: 2.0.7, 2.0.8
&gt; &gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt; &gt;        Owner: Nobody
&gt; &gt; &gt;   Requestors: jeppe@ioslo.net
&gt; &gt; &gt;       Status: new
&gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Hi,
&gt; &gt; &gt;
&gt; &gt; &gt; I&#39;m having trouble performing a non-parameterized build of mod_perl2
</div></div>&gt; with
<div class="message-stanza open">&gt; &gt; &gt; a custom perl and a custom apache.
&gt; &gt; &gt;
&gt; &gt; &gt; [root@centos6-builder ~]# cd /tmp/
&gt; &gt; &gt; [root@centos6-builder tmp]# tar zxf mod_perl-2.0.8.tar.gz
&gt; &gt; &gt; [root@centos6-builder tmp]# cd mod_perl-2.0.8
&gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# export
</div>&gt; MP_APXS=/opt/apache/bin/apxs
<div class="message-stanza open">&gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# stat $MP_APXS
&gt; &gt; &gt;   File: «/opt/apache/bin/apxs»
&gt; &gt; &gt;   Size: 22646           Blocks: 48         IO Block: 4096   regular
</div>&gt; file
<div class="message-stanza open">&gt; &gt; &gt; Device: fd00h/64768d    Inode: 142400      Links: 1
&gt; &gt; &gt; Access: &#40;0755/-rwxr-xr-x&#41;  Uid: &#40;    0/    root&#41;   Gid: &#40;    0/
</div>&gt;  root&#41;
<div class="message-stanza open">&gt; &gt; &gt; Access: 2013-04-18 16:43:03.042998090 +0200
&gt; &gt; &gt; Modify: 2013-03-22 13:29:12.000000000 +0100
&gt; &gt; &gt; Change: 2013-04-18 16:31:34.687999018 +0200
&gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl Makefile.PL
&gt; &gt; &gt; no conflicting prior mod_perl version found - good.
&gt; &gt; &gt;
&gt; &gt; &gt; Next we need to know where the &#39;apxs&#39; script is located. This script
&gt; &gt; &gt; provides a lot of information about the Apache installation, and makes
&gt; &gt; &gt; it easier to find things on your system. Normally it&#39;s located in the
&gt; &gt; &gt; same directory as the &#39;httpd&#39; executable.
&gt; &gt; &gt;
&gt; &gt; &gt; If you don&#39;t yet have Apache installed you can build Apache against
&gt; &gt; &gt; the Apache source code, but you won&#39;t be able to run the test suite &#40;a
&gt; &gt; &gt; very important step&#41;. Therefore you may want to install Apache before
&gt; &gt; &gt; proceeding.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &gt; &gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; It looks from glancing through Makefile.PL and Apache2::Build that this
&gt; &gt; &gt; should work.
&gt; &gt; &gt;
&gt; &gt; &gt; I&#39;ll continue to look into the issue and will provide a patch if I can.
&gt; &gt; &gt;
&gt; &gt; &gt; Best regards,
&gt; &gt; &gt; Jens-Petter Salvesen
&gt; &gt; &gt;
</div>&gt;
&gt;
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;03:58:39&nbsp;2013</span>
    <span class="description">jeppe [...] ioslo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jeppe [...] ioslo.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That works. Thanks!

However, there is code in Apache2::Build that should handle finding the apxs utility &#40;below&#41;, and it appears that code is not called before the prompt is presented. 

# try to find the apxs utility, set $apxs to the path if found,
# otherwise to &#39;&#39;
my $apxs; # undef so we know we haven&#39;t tried to set it yet
sub find_apxs_util {
    my $self = shift;

    $apxs = &#39;&#39;; # not found
    my @trys = &#40;$Apache2::Build::APXS,
                $self-&gt;{MP_APXS},
                $ENV{MP_APXS}&#41;;

    push @trys, catfile $self-&gt;{MP_AP_PREFIX}, &#39;bin&#39;, &#39;apxs&#39;
        if exists $self-&gt;{MP_AP_PREFIX};

    if &#40;WIN32&#41; {
        my $ext = &#39;.bat&#39;;
        for &#40;@trys&#41; {
            $_ .= $ext if &#40;$_ and $_ !~ /$ext$/&#41;;
        }
    }

    unless &#40;IS_MOD_PERL_BUILD&#41; {
        #if we are building mod_perl via apxs, apxs should already be known
        #these extra tries are for things built outside of mod_perl
        #e.g. libapreq
        # XXX: this may pick a wrong apxs version!
        push @trys,
        Apache::TestConfig::which&#40;&#39;apxs&#39;&#41;,
        &#39;/usr/local/apache/bin/apxs&#39;;
    }

    my $apxs_try;
    for &#40;@trys&#41; {
        next unless &#40;$apxs_try = $_&#41;;
        chomp $apxs_try;
        if &#40;-x $apxs_try&#41; {
            $apxs = $apxs_try;
            last;
        }
    }
}


fr. 19. april 2013 03.45.49 skrev fred@redhotpenguin.com:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another option would be to put apxs in your PATH. The logic behind all
&gt; that
&gt; is easier than it used to be, but still not that straightforward and
&gt; robust.
&gt; 
&gt; 
&gt; On Fri, Apr 19, 2013 at 12:38 AM, jeppe@ioslo.net via RT &lt;
&gt; bug-mod_perl@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;        Queue: mod_perl
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt; &gt;
&gt; &gt; Of course! I&#39;m afraid that didn&#39;t work either.
&gt; &gt;
&gt; &gt; [root@centos6-builder mod_perl-2.0.8]#  MP_APXS=/opt/apache/bin/apxs
&gt; &gt; /opt/perl/bin/perl Makefile.PL
&gt; &gt; no conflicting prior mod_perl version found - good.
&gt; &gt;
&gt; &gt; Next we need to know where the &#39;apxs&#39; script is located. This script
&gt; &gt; provides a lot of information about the Apache installation, and
</div>&gt; makes
<div class="message-stanza open">&gt; &gt; it easier to find things on your system. Normally it&#39;s located in
</div>&gt; the
<div class="message-stanza open">&gt; &gt; same directory as the &#39;httpd&#39; executable.
&gt; &gt;
&gt; &gt; If you don&#39;t yet have Apache installed you can build Apache against
&gt; &gt; the Apache source code, but you won&#39;t be able to run the test suite
</div>&gt; &#40;a
<div class="message-stanza open">&gt; &gt; very important step&#41;. Therefore you may want to install Apache
</div>&gt; before
<div class="message-stanza open">&gt; &gt; proceeding.
&gt; &gt;
&gt; &gt;
&gt; &gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt; &gt;
&gt; &gt;
&gt; &gt; fr. 19. april 2013 03.18.39 skrev fred@redhotpenguin.com:
<div class="message-stanza open">&gt; &gt; &gt; Can you try:
&gt; &gt; &gt;
&gt; &gt; &gt; MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On Fri, Apr 19, 2013 at 12:15 AM, jeppe@ioslo.net via RT &lt;
&gt; &gt; &gt; bug-mod_perl@rt.cpan.org&gt; wrote:
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; Fri Apr 19 03:15:07 2013: Request 84732 was acted upon.
&gt; &gt; &gt; &gt; Transaction: Ticket created by jeppe@ioslo.net
&gt; &gt; &gt; &gt;        Queue: mod_perl
&gt; &gt; &gt; &gt;      Subject: MP_APXS environment variable is not checked for
&gt; &gt; &gt; &gt;    Broken in: 2.0.7, 2.0.8
&gt; &gt; &gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt; &gt; &gt;        Owner: Nobody
&gt; &gt; &gt; &gt;   Requestors: jeppe@ioslo.net
&gt; &gt; &gt; &gt;       Status: new
&gt; &gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84732">https://rt.cpan.org/Ticket/Display.html?id=84732</a></span> &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hi,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; I&#39;m having trouble performing a non-parameterized build of
</div></div></div>&gt; mod_perl2
<div class="message-stanza open">&gt; &gt; with
<div class="message-stanza open">&gt; &gt; &gt; &gt; a custom perl and a custom apache.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; [root@centos6-builder ~]# cd /tmp/
&gt; &gt; &gt; &gt; [root@centos6-builder tmp]# tar zxf mod_perl-2.0.8.tar.gz
&gt; &gt; &gt; &gt; [root@centos6-builder tmp]# cd mod_perl-2.0.8
&gt; &gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# export
</div>&gt; &gt; MP_APXS=/opt/apache/bin/apxs
<div class="message-stanza open">&gt; &gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# stat $MP_APXS
&gt; &gt; &gt; &gt;   File: «/opt/apache/bin/apxs»
&gt; &gt; &gt; &gt;   Size: 22646           Blocks: 48         IO Block: 4096
</div></div>&gt; regular
<div class="message-stanza open">&gt; &gt; file
<div class="message-stanza open">&gt; &gt; &gt; &gt; Device: fd00h/64768d    Inode: 142400      Links: 1
&gt; &gt; &gt; &gt; Access: &#40;0755/-rwxr-xr-x&#41;  Uid: &#40;    0/    root&#41;   Gid: &#40;    0/
</div>&gt; &gt;  root&#41;
<div class="message-stanza open">&gt; &gt; &gt; &gt; Access: 2013-04-18 16:43:03.042998090 +0200
&gt; &gt; &gt; &gt; Modify: 2013-03-22 13:29:12.000000000 +0100
&gt; &gt; &gt; &gt; Change: 2013-04-18 16:31:34.687999018 +0200
&gt; &gt; &gt; &gt; [root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl
</div></div>&gt; Makefile.PL
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; no conflicting prior mod_perl version found - good.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Next we need to know where the &#39;apxs&#39; script is located. This
</div></div>&gt; script
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; provides a lot of information about the Apache installation, and
</div></div>&gt; makes
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; it easier to find things on your system. Normally it&#39;s located
</div></div>&gt; in the
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; same directory as the &#39;httpd&#39; executable.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; If you don&#39;t yet have Apache installed you can build Apache
</div></div>&gt; against
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; the Apache source code, but you won&#39;t be able to run the test
</div></div>&gt; suite &#40;a
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; very important step&#41;. Therefore you may want to install Apache
</div></div>&gt; before
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; proceeding.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Please provide a full path to &#39;apxs&#39; executable
&gt; &gt; &gt; &gt; &#40;press Enter if you don&#39;t have it installed&#41;:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; It looks from glancing through Makefile.PL and Apache2::Build
</div></div>&gt; that this
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; should work.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; I&#39;ll continue to look into the issue and will provide a patch if
</div></div>&gt; I can.
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Best regards,
&gt; &gt; &gt; &gt; Jens-Petter Salvesen
&gt; &gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;19&nbsp;06:11:45&nbsp;2013</span>
    <span class="description">sjn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Hi!<br>

<br>

Just throwing in my $0.01, since Jeppe is a colleague of mine :)<br>

<br>

<br>

On Fri Apr 19 09:18:39 2013, fred@redhotpenguin.com wrote:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you try:<br>

&gt;<br>

&gt; MP_APXS=/opt/apache/bin/apxs /opt/perl/bin/perl Makefile.PL<br>

&gt;<br>

&gt;<br>

&gt; On Fri, Apr 19, 2013 at 12:15 AM, jeppe@ioslo.net via RT &lt;<br>

&gt; bug-mod_perl@rt.cpan.org&gt; wrote:<br>

&gt;<br>
<div class="message-stanza open">&gt; &gt; [root@centos6-builder mod_perl-2.0.8]# export MP_APXS=/opt/apache/bin/apxs<br>

&gt; &gt; [root@centos6-builder mod_perl-2.0.8]# /opt/perl/bin/perl Makefile.PL<br>
</div></div><br>

For Makefile.PL&#39;s viewpoint, there shouldn&#39;t be any meaningful difference between those two ways of setting an environment variable.<br>

<br>

I&#39;d love to hear what kind of difference are you expecting, though. :)<br>

<br>

<br>

- Salve
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;11&nbsp;09:23:16&nbsp;2015</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is hopefully now fixed in SVN trunk by r1678751. Are you able to verify this?
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
