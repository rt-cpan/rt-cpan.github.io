<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #76813 for version: Test suite fails with 5.8.1 &lt;= perl &lt;= 5.8.6</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #76813 for version: Test suite fails with 5.8.1 &lt;= perl &lt;= 5.8.6</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/version/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/version/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/version/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/version/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/version">version CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">76813</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/version/Active/">version</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
paul [...] city-fan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-34940-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.98    </td>
  </tr>
  <tr id="CF-34941-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;04:49:04&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test suite fails with 5.8.1 &lt;= perl &lt;= 5.8.6</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m seeing the following failures with old perls prior to 5.8.8:

$ make test
make[1]: Entering directory `/builddir/build/BUILD/version-0.98/vutil&#39;
make[1]: Leaving directory `/builddir/build/BUILD/version-0.98/vutil&#39;
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01base..........#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
# Looks like you failed 4 tests of 567.
dubious
        Test returned status 4 &#40;wstat 1024, 0x400&#41;
Scalar found where operator expected at &#40;eval 152&#41; line 1, near &#34;&#39;int&#39; 
$__val&#34;
        &#40;Missing operator before   $__val?&#41;
DIED. FAILED tests 142, 283, 424, 565
        Failed 4/567 tests, 99.29% okay
t/02derived.......#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
# Looks like you failed 4 tests of 581.
dubious
        Test returned status 4 &#40;wstat 1024, 0x400&#41;
DIED. FAILED tests 148, 290, 432, 574
        Failed 4/581 tests, 99.31% okay
t/03require.......#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
#     Failed test &#40;t/coretests.pm at line 594&#41;
#                   &#39;&#39;
#     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
# Looks like you failed 2 tests of 286.
dubious
        Test returned status 2 &#40;wstat 512, 0x200&#41;
DIED. FAILED tests 145, 286
        Failed 2/286 tests, 99.30% okay &#40;less 18 skipped tests: 266 okay, 93.01%&#41;
t/04strict_lax....ok
t/05sigdie........ok
t/06noop..........ok
t/07locale........# Testing locale handling with af_ZA
ok
Failed 3/7 test scripts, 57.14% okay. 10/1624 subtests failed, 99.38% okay.
Failed Test   Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t/01base.t       4  1024   567    4   0.71%  142 283 424 565
t/02derived.t    4  1024   581    4   0.69%  148 290 432 574
t/03require.t    2   512   286    2   0.70%  145 286
18 subtests skipped.
make: *** [test_dynamic] Error 255


5.8.0 and earlier releases aren&#39;t affected because the failing tests are
skipped.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;06:52:47&nbsp;2012</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 26 04:49:04 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m seeing the following failures with old perls prior to 5.8.8:
&gt; 
&gt; $ make test
</div>
Can you show me the output of `make test TEST_VERBOSE=1` instead?  I&#39;m
inclined to say &#34;too bad&#34; because 5.8.8 is the most common older release
in use &#40;e.g. on Centos/RHEL&#41;, but I&#39;ll take a look anyways...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;06:52:48&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;07:26:16&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 26 06:52:47 2012, JPEACOCK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Apr 26 04:49:04 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; I&#39;m seeing the following failures with old perls prior to 5.8.8:
&gt; &gt; 
&gt; &gt; $ make test
</div>&gt; 
&gt; Can you show me the output of `make test TEST_VERBOSE=1` instead?  I&#39;m
&gt; inclined to say &#34;too bad&#34; because 5.8.8 is the most common older release
&gt; in use &#40;e.g. on Centos/RHEL&#41;, but I&#39;ll take a look anyways...
</div>
Attached log is from a build for Fedora Core 4 with Perl 5.8.6.

Another thing I noticed just now - your META.yml doesn&#39;t mention
Data::Dumper as a test requirement, which it should.

I can fully understand not being interested in supporting old perls; in
fact you could probably simplify a fair bit of the code and/or test
suite that works around bugs in older perls if you enforced a minimum
version requirement. In the meantime though, I keep testing things on
old OS distributions to help those poor souls that are stuck with them :-&#41;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fc4-build.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;16:17:12&nbsp;2012</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Actually, I&#39;m seeing the exact same set of test suite failures for perl5.10.1, 5.12.4, and 5.14.2, 
but only on AIX 6.   My system just tried to install version-0.98 on all of the following:

Platforms: 32 and 64 bit RHEL 5, Solaris 10 and AIX 6
Perls: 5.10.1, 5.12.4 and 5.14.2

The tests pass cleanly for all of the RHEL and Solaris builds, but fails identically for all of the AIX 
builds, regardless of the perl version.   That should hopefully provide some additional clues to 
tracking down the bug.  FWIW, I have had no problems building any of the recent releases of 
version for those AIX build of perl.

Digging into this &#40;I just can&#39;t resist....&#41;, there&#39;s really only one test that&#39;s failing, but it called 10 
times, in different contexts.  The issue is this code:

    { # [perl #112478]
        $_112478::VERSION = 9e99;
        ok eval { _112478-&gt;VERSION&#40;9e99&#41;; 1 }, &#39;-&gt;VERSION&#40;9e99&#41; succeeds&#39;
            or diag $@;
        $_112478::VERSION = 1;
        eval { _112478-&gt;VERSION&#40;9e99&#41; };
        like $@, qr/this is only/,
            &#39;-&gt;VERSION&#40;9e99&#41; fails with the right error&#39;;
    }

The errors I see are &#40;timestamps are added by my build system&#41;:

[2012-04-26 19:46:14]
[2012-04-26 19:46:14]  #   Failed test &#39;-&gt;VERSION&#40;9e99&#41; fails with the right error&#39;
[2012-04-26 19:46:14]  #   at t/coretests.pm line 594.
[2012-04-26 19:46:14]  #                   &#39;&#39;
[2012-04-26 19:46:14]  #     doesn&#39;t match &#39;&#40;?^:this is only&#41;&#39;
[2012-04-26 19:46:14]
...
...
[2012-04-26 19:46:14]  ok 141 - -&gt;VERSION&#40;9e99&#41; succeeds
[2012-04-26 19:46:14]  not ok 142 - -&gt;VERSION&#40;9e99&#41; fails with the right error
[2012-04-26 19:46:14]  ok 143 - 5.005_03 eq 5.00503

You get 10 instances of basically the same error, of course.   Obviously, on AIX, and apparently 
for perl&#39;s older than 5.8.8, that particular comparison is broken.

I can reproduce this at will, so if you would like a patch tested, just let me know.

On Thu Apr 26 04:49:04 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m seeing the following failures with old perls prior to 5.8.8:
&gt; 
&gt; $ make test
&gt; make[1]: Entering directory `/builddir/build/BUILD/version-0.98/vutil&#39;
&gt; make[1]: Leaving directory `/builddir/build/BUILD/version-0.98/vutil&#39;
&gt; PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
&gt; t/01base..........#     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; # Looks like you failed 4 tests of 567.
&gt; dubious
&gt;       Test returned status 4 &#40;wstat 1024, 0x400&#41;
&gt; Scalar found where operator expected at &#40;eval 152&#41; line 1, near &#34;&#39;int&#39;
&gt; $__val&#34;
&gt;       &#40;Missing operator before   $__val?&#41;
&gt; DIED. FAILED tests 142, 283, 424, 565
&gt;       Failed 4/567 tests, 99.29% okay
&gt; t/02derived.......#     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; # Looks like you failed 4 tests of 581.
&gt; dubious
&gt;       Test returned status 4 &#40;wstat 1024, 0x400&#41;
&gt; DIED. FAILED tests 148, 290, 432, 574
&gt;       Failed 4/581 tests, 99.31% okay
&gt; t/03require.......#     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; #     Failed test &#40;t/coretests.pm at line 594&#41;
&gt; #                   &#39;&#39;
&gt; #     doesn&#39;t match &#39;&#40;?-xism:this is only&#41;&#39;
&gt; # Looks like you failed 2 tests of 286.
&gt; dubious
&gt;       Test returned status 2 &#40;wstat 512, 0x200&#41;
&gt; DIED. FAILED tests 145, 286
&gt;       Failed 2/286 tests, 99.30% okay &#40;less 18 skipped tests: 266 okay,
&gt; 93.01%&#41;
&gt; t/04strict_lax....ok
&gt; t/05sigdie........ok
&gt; t/06noop..........ok
&gt; t/07locale........# Testing locale handling with af_ZA
&gt; ok
&gt; Failed 3/7 test scripts, 57.14% okay. 10/1624 subtests failed, 99.38%
&gt; okay.
&gt; Failed Test   Stat Wstat Total Fail  Failed  List of Failed
&gt; ------------------------------------------------------------------------------
</div>-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/01base.t       4  1024   567    4   0.71%  142 283 424 565
&gt; t/02derived.t    4  1024   581    4   0.69%  148 290 432 574
&gt; t/03require.t    2   512   286    2   0.70%  145 286
&gt; 18 subtests skipped.
&gt; make: *** [test_dynamic] Error 255
&gt; 
&gt; 
&gt; 5.8.0 and earlier releases aren&#39;t affected because the failing tests
&gt; are
&gt; skipped.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;16:42:48&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 26 16:17:12 2012, WPMOORE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Actually, I&#39;m seeing the exact same set of test suite failures for
&gt; perl5.10.1, 5.12.4, and 5.14.2,
&gt; but only on AIX 6.   My system just tried to install version-0.98 on
&gt; all of the following:
&gt; 
&gt; Platforms: 32 and 64 bit RHEL 5, Solaris 10 and AIX 6
&gt; Perls: 5.10.1, 5.12.4 and 5.14.2
&gt; 
&gt; The tests pass cleanly for all of the RHEL and Solaris builds, but
&gt; fails identically for all of the AIX
&gt; builds, regardless of the perl version.   That should hopefully
&gt; provide some additional clues to
&gt; tracking down the bug.  FWIW, I have had no problems building any of
&gt; the recent releases of
&gt; version for those AIX build of perl.
&gt; 
&gt; Digging into this &#40;I just can&#39;t resist....&#41;, there&#39;s really only one
&gt; test that&#39;s failing, but it called 10
&gt; times, in different contexts.  The issue is this code:
&gt; 
&gt;     { # [perl #112478]
&gt;       $_112478::VERSION = 9e99;
&gt;       ok eval { _112478-&gt;VERSION&#40;9e99&#41;; 1 }, &#39;-&gt;VERSION&#40;9e99&#41; succeeds&#39;
&gt;           or diag $@;
&gt;       $_112478::VERSION = 1;
&gt;       eval { _112478-&gt;VERSION&#40;9e99&#41; };
&gt;       like $@, qr/this is only/,
&gt;           &#39;-&gt;VERSION&#40;9e99&#41; fails with the right error&#39;;
&gt;     }
</div>
Eek! It looks as though d1f1d9a74b didn’t make its way into the release &#40;see 
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;">https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;</a></span>.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;19:44:43&nbsp;2012</span>
    <span class="description">john.peacock [...] havurah-software.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #76813] Test suite fails with 5.8.1 &lt;= perl &lt;= 5.8.6</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 26 Apr 2012 19:44:30 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-version [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Peacock &lt;john.peacock [...] havurah-software.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 04/26/2012 04:42 PM, Father Chrysostomos via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Eek! It looks as though d1f1d9a74b didn’t make its way into the release &#40;see
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;">https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;</a></span>.
</div>
I actually copied the util.c changes over directly, but applied the 
coretests.pm changes manually and missed the second change.  I&#39;ve 
release 0.99 to CPAN...

John
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;23:25:04&nbsp;2012</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">0.99 builds clean on all my platform now.  Thanks for the quick turn around....

On Thu Apr 26 19:44:43 2012, john.peacock@havurah-software.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I actually copied the util.c changes over directly, but applied the
&gt; coretests.pm changes manually and missed the second change.  I&#39;ve
&gt; release 0.99 to CPAN...
&gt; 
&gt; John
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;04:39:32&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 0.99 builds clean on all my platform now.  Thanks for the quick turn
&gt; around....
</div>
It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386 &#40;x86_64 is
OK&#41;. I suspect an old perl bug there, but maybe not? Log attached.

0.99&#39;s META.yml still doesn&#39;t mention Data::Dumper as a test requirement
by the way.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fc4-v0.99-build.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;09:25:45&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 04:39:32 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<div class="message-stanza open">&gt; &gt; 0.99 builds clean on all my platform now.  Thanks for the quick turn
&gt; &gt; around....
</div>&gt; 
&gt; It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386 &#40;x86_64 is
&gt; OK&#41;. I suspect an old perl bug there, but maybe not? Log attached.
</div>
It sounds to me like an old perl bug, too.  What does sprintf&#40;&#34;%.9f&#34;, 9e99&#41; give you?

How does that perl’s config.h define NVff?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;09:26:39&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 26 19:44:43 2012, john.peacock@havurah-software.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 04/26/2012 04:42 PM, Father Chrysostomos via RT wrote:
<div class="message-stanza open">&gt; &gt; Eek! It looks as though d1f1d9a74b didn’t make its way into the
</div>&gt; release &#40;see
<div class="message-stanza open">&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;">https://rt.perl.org/rt3/Ticket/Display.html?id=112478#txn-1107464&#41;</a></span>.
</div>&gt; 
&gt; I actually copied the util.c changes over directly, but applied the
&gt; coretests.pm changes manually and missed the second change.  I&#39;ve
&gt; release 0.99 to CPAN...
</div>
In bleadperl, Is bumping the version number in lib/version.pm sufficient, or does the version 
number occur elsewhere, too?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;10:05:24&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 09:25:45 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Apr 27 04:39:32 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<div class="message-stanza open">&gt; &gt; &gt; 0.99 builds clean on all my platform now.  Thanks for the quick
</div></div>&gt; turn
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; around....
</div>&gt; &gt;
&gt; &gt; It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386 &#40;x86_64
</div>&gt; is
<div class="message-stanza open">&gt; &gt; OK&#41;. I suspect an old perl bug there, but maybe not? Log attached.
</div>&gt; 
&gt; It sounds to me like an old perl bug, too.  What does sprintf&#40;&#34;%.9f&#34;,
&gt; 9e99&#41; give you?
</div>
$ perl -e &#39;print sprintf&#40;&#34;%.9f\n&#34;, 9e99&#41;;&#39;
8999999999999999948859130765266355329578537025198862586562510896759102769772101980841694466750283776.000000000

$ fgrep NVff /usr/lib/perl5/5.8.6/i386-linux-thread-multi/CORE/config.h
/* NVff:
#define NVff            &#34;f&#34;             /**/



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; How does that perl’s config.h define NVff?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;11:28:52&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 10:05:24 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Apr 27 09:25:45 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; On Fri Apr 27 04:39:32 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; 0.99 builds clean on all my platform now.  Thanks for the quick
</div></div>&gt; &gt; turn
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; around....
</div>&gt; &gt; &gt;
&gt; &gt; &gt; It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386
</div></div>&gt; &#40;x86_64
<div class="message-stanza open">&gt; &gt; is
<div class="message-stanza open">&gt; &gt; &gt; OK&#41;. I suspect an old perl bug there, but maybe not? Log attached.
</div>&gt; &gt;
&gt; &gt; It sounds to me like an old perl bug, too.  What does
</div>&gt; sprintf&#40;&#34;%.9f&#34;,
<div class="message-stanza open">&gt; &gt; 9e99&#41; give you?
</div>&gt; 
&gt; $ perl -e &#39;print sprintf&#40;&#34;%.9f\n&#34;, 9e99&#41;;&#39;
&gt; 
</div>899999999999999994885913076526635532957853702519886258656251089675910276
9772101980841694466750283776.000000000

Well, *that’s* not negative.  But I’m getting the same result on 5.8.6 on darwin, so I may be 
able to dig deeper.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; $ fgrep NVff /usr/lib/perl5/5.8.6/i386-linux-thread-
&gt; multi/CORE/config.h
&gt; /* NVff:
&gt; #define       NVff            &#34;f&#34;             /**/
</div>
Same here.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;12:34:44&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 11:28:52 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Apr 27 10:05:24 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; On Fri Apr 27 09:25:45 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Fri Apr 27 04:39:32 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; 0.99 builds clean on all my platform now.  Thanks for the
</div></div></div></div>&gt; quick
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; turn
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; around....
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386
</div></div>&gt; &gt; &#40;x86_64
<div class="message-stanza open">&gt; &gt; &gt; is
<div class="message-stanza open">&gt; &gt; &gt; &gt; OK&#41;. I suspect an old perl bug there, but maybe not? Log
</div></div></div>&gt; attached.
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; It sounds to me like an old perl bug, too.  What does
</div>&gt; &gt; sprintf&#40;&#34;%.9f&#34;,
<div class="message-stanza open">&gt; &gt; &gt; 9e99&#41; give you?
</div>&gt; &gt;
&gt; &gt; $ perl -e &#39;print sprintf&#40;&#34;%.9f\n&#34;, 9e99&#41;;&#39;
&gt; &gt;
</div>&gt; 
</div>899999999999999994885913076526635532957853702519886258656251089675910276
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 9772101980841694466750283776.000000000
&gt; 
&gt; Well, *that’s* not negative.  But I’m getting the same result on 5.8.6
&gt; on darwin, so I may be
&gt; able to dig deeper.
</div>
561                 Perl_sv_setpvf&#40;aTHX_ sv, &#34;%.9&#34;NVff, SvNVX&#40;ver&#41;&#41;;
&#40;gdb&#41; 
562                 buf = SvPV&#40;sv, len&#41;;
&#40;gdb&#41; p buf
$3 = 0x25efc0 &#34;-1.997184753&#34;
&#40;gdb&#41; p &#40;&#40;XPVNV*&#41;ver-&gt;sv_any&#41;-&gt;xnv_nv
$4 = 8.9999999999999999e+99

I get the same results in 5.8.7, but not 5.8.8.  This is probably related to 
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=36310">https://rt.perl.org/rt3/Ticket/Display.html?id=36310</a></span>&gt;.

In fact, the attached patch fixes it, as it bypasses the special-case for %.&lt;digits&gt;f in 
sv_vcatpvfn.

But, instead of tweaking things like this, I propose that we go ahead and rewrite it to use 
VERSION_MAX and avoid the extra SV altogether, as John Peacock suggested in 
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=112478">https://rt.perl.org/rt3/Ticket/Display.html?id=112478</a></span>&gt;.

What bleadperl has is currently equivalent to 0.99, which works in that version, so that can 
stay as it is, considering the current code freeze.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> open_s3iAzjnu.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -rup version-0.99-YP2tjD-orig/vutil/vutil.c version-0.99-YP2tjD/vutil/vutil.c
--- version-0.99-YP2tjD-orig/vutil/vutil.c	2012-04-27 09:28:29.000000000 -0700
+++ version-0.99-YP2tjD/vutil/vutil.c	2012-04-27 09:28:36.000000000 -0700
@@ -558,7 +558,7 @@ Perl_upg_version&#40;pTHX_ SV *ver, bool qv&#41;
 	setlocale&#40;LC_NUMERIC, &#34;C&#34;&#41;;
 #endif
 	if &#40;sv&#41; {
-	    Perl_sv_setpvf&#40;aTHX_ sv, &#34;%.9&#34;NVff, SvNVX&#40;ver&#41;&#41;;
+	    Perl_sv_setpvf&#40;aTHX_ sv, &#34; %.9&#34;NVff, SvNVX&#40;ver&#41;&#41;;
 	    buf = SvPV&#40;sv, len&#41;;
 	}
 	else {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;27&nbsp;13:37:55&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 27 12:34:44 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Apr 27 11:28:52 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; On Fri Apr 27 10:05:24 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Fri Apr 27 09:25:45 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Fri Apr 27 04:39:32 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; On Thu Apr 26 23:25:04 2012, WPMOORE wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; &gt; 0.99 builds clean on all my platform now.  Thanks for the
</div></div></div></div>&gt; &gt; quick
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; turn
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; &gt; around....
</div>&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; It&#39;s building on all of mine too - EXCEPT Fedora Core 4 i386
</div></div>&gt; &gt; &gt; &#40;x86_64
<div class="message-stanza open">&gt; &gt; &gt; &gt; is
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; OK&#41;. I suspect an old perl bug there, but maybe not? Log
</div></div></div>&gt; &gt; attached.
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; It sounds to me like an old perl bug, too.  What does
</div>&gt; &gt; &gt; sprintf&#40;&#34;%.9f&#34;,
<div class="message-stanza open">&gt; &gt; &gt; &gt; 9e99&#41; give you?
</div>&gt; &gt; &gt;
&gt; &gt; &gt; $ perl -e &#39;print sprintf&#40;&#34;%.9f\n&#34;, 9e99&#41;;&#39;
&gt; &gt; &gt;
</div>&gt; &gt;
</div>&gt; 899999999999999994885913076526635532957853702519886258656251089675910276
<div class="message-stanza open">&gt; &gt; 9772101980841694466750283776.000000000
&gt; &gt;
&gt; &gt; Well, *that’s* not negative.  But I’m getting the same result on
</div>&gt; 5.8.6
<div class="message-stanza open">&gt; &gt; on darwin, so I may be
&gt; &gt; able to dig deeper.
</div>&gt; 
&gt; 561               Perl_sv_setpvf&#40;aTHX_ sv, &#34;%.9&#34;NVff, SvNVX&#40;ver&#41;&#41;;
&gt; &#40;gdb&#41;
&gt; 562               buf = SvPV&#40;sv, len&#41;;
&gt; &#40;gdb&#41; p buf
&gt; $3 = 0x25efc0 &#34;-1.997184753&#34;
&gt; &#40;gdb&#41; p &#40;&#40;XPVNV*&#41;ver-&gt;sv_any&#41;-&gt;xnv_nv
&gt; $4 = 8.9999999999999999e+99
&gt; 
&gt; I get the same results in 5.8.7, but not 5.8.8.  This is probably
&gt; related to
&gt; &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=36310">https://rt.perl.org/rt3/Ticket/Display.html?id=36310</a></span>&gt;.
&gt; 
&gt; In fact, the attached patch fixes it, as it bypasses the special-case
&gt; for %.&lt;digits&gt;f in
&gt; sv_vcatpvfn.
</div>
That patch works for all of my builds &#40;Fedora 3 to Rawhide and every
Fedora release between them, i386 and x86_64, plus the same
architectures of CentOS [RHEL] 4, 5 and 6&#41;. Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;09&nbsp;19:29:35&nbsp;2012</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Essentially, this is a WONTFIX because the failure is actually caused by
a bug in sv_vcatpvfn which is fixed in Perl itself.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;09&nbsp;19:29:36&nbsp;2012</span>
    <span class="description">jpeacock [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
