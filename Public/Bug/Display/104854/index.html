<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #104854 for Moo: Moo’s BEGIN/INIT codepath is not perlcc safe &#40;“Not a CODE reference.”&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #104854 for Moo: Moo’s BEGIN/INIT codepath is not perlcc safe &#40;“Not a CODE reference.”&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Moo">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Moo">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Moo">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Moo">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Moo">Moo CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">104854</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Moo">Moo</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dmuey [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-235668-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
1.004002</li>
<li>
1.007000</li>
</ul>
    </td>
  </tr>
  <tr id="CF-235669-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=104854">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1502447" href="/Public/Bug/Display.html?id=104854#txn-1502447">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;01&nbsp;15:28:28&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Moo’s BEGIN/INIT codepath is not perlcc safe &#40;“Not a CODE
 reference.”&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1502447/800593/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/800593">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Howdy,

[Problem]

use Moo::Based::Class; causes perlcc&#39;d code to exit early &#40;w/ 0 oddly enough&#41; with “Not a CODE reference.”.

[A little more detail]

The behavior is like something &#40;Sub::Defer related?&#41; is happening at INIT that is depending on something having happened at BEGIN. Except with compiled code BEGIN is already done and is not executed again.

To really grok what is happening I suggest adding in &#39;use diagnostics;&#39; and debuging output along the way. 

I hope to narrow it down further time permitting but for now I wanted to get some other eyes on it too :&#41;

[In Action]

The modules in the commands below are detailed under “[The files in the examples]” at the end.

Here is what can be done to [see the problem/deonstrate a work around to this limitation/test any fixes]. 

&#34;a&#34; and &#34;b&#34; work by forcing the entire Moo class mojo to happen after BEGIN, which isn&#39;t ideal obviously but it helps us see the problem and se something that makes it go away.

a. When use&#40;&#41;d in main scope of a program you must require the Moo based class:

# perl -e &#39;use tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39;
1.007
# perlcc -e &#39;use tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; -o tmp/moo_use_direct
/usr/local/cpanel/3rdparty/perl/514/bin/perlcc: Unexpected compiler output
Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0x9adcbd4&#41;}[3] sv_list[3928] 0x2
 Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0x9adc7ec&#41;} sv_list[3930] 0x2
 Internal warning: IV !IOK Sub::Quote::QUOTED{CODE&#40;0x9adcbd4&#41;}[4] sv_list[5002] 0x2
tmp/moo_use_direct.c:26108: warning: integer constant is too large for ‘unsigned long’ type
# tmp/moo_use_direct
1.007
Not a CODE reference.
END failed--call queue aborted.
# perl -e &#39;require tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39;
1.007
# perlcc -e &#39;require tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; -o tmp/moo_require_direct 
# tmp/moo_require_direct 
1.007
# 

b. When use&#40;&#41;d by a module you must do so via require *and* also wrap the require in an INIT block:

# perl -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39;
1.007
# perlcc -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; -o tmp/moo_use_indrectly_via_use
/usr/local/cpanel/3rdparty/perl/514/bin/perlcc: Unexpected compiler output
Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0xa1ec528&#41;} sv_list[3925] 0x2
 Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0xa1ec910&#41;}[3] sv_list[3981] 0x2
 Internal warning: IV !IOK Sub::Quote::QUOTED{CODE&#40;0xa1ec528&#41;}[4] sv_list[5002] 0x2
tmp/moo_use_indrectly_via_use.c:26110: warning: integer constant is too large for ‘unsigned long’ type
# tmp/moo_use_indrectly_via_use
1.007
Not a CODE reference.
END failed--call queue aborted.
# vim tmp/XYZ.pm  # change use tmp::MyMoo; to require tmp::MyMoo;
# perl -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; 
1.007
# perlcc -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; -o tmp/moo_require_indirectly_via_use
/usr/local/cpanel/3rdparty/perl/514/bin/perlcc: Unexpected compiler output
Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0x9550c90&#41;}[3] sv_list[4065] 0x2
 Internal warning: IV !IOK Sub::Defer::DEFERRED{CODE&#40;0x95508a8&#41;} sv_list[4137] 0x2
 Internal warning: IV !IOK Sub::Quote::QUOTED{CODE&#40;0x9550c90&#41;}[4] sv_list[5002] 0x2
tmp/moo_require_indirectly_via_use.c:26110: warning: integer constant is too large for ‘unsigned long’ type
# tmp/moo_require_indirectly_via_use 
1.007
Not a CODE reference.
END failed--call queue aborted.
# vim tmp/XYZ.pm   # change require tmp::MyMoo; to INIT {require tmp::MyMoo;}
# perl -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; 
1.007
# perlcc -e &#39;use tmp::XYZ tmp::MyMoo;print Moo-&gt;VERSION. &#34;\n&#34;;&#39; -o tmp/moo_require_init_indirectly_via_use
#  tmp/moo_require_init_indirectly_via_use
1.007
# 

[The files in the examples]

# cat tmp/XYZ.pm 
package tmp::XYZ;

use strict;
use warnings;

use tmp::MyMoo;

1;

# cat tmp/MyMoo.pm 
package tmp::MyMoo;

use Moo; # does strict and warnings

has foo =&gt; &#40;&#34;is&#34; =&gt; &#34;rw&#34;&#41;;

1;

#
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1503008" href="/Public/Bug/Display.html?id=104854#txn-1503008">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;02&nbsp;18:39:26&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1503008/800933/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/800933">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 285b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It might make more sense if I could move:

   “To really grok what is happening I suggest adding in &#39;use diagnostics;&#39; and debuging output along the way.” 

to after :

   “The modules in the commands below are detailed under “[The files in the examples]” at the end.”

:&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506264" href="/Public/Bug/Display.html?id=104854#txn-1506264">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:22:20&nbsp;2015</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506264/802782/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802782">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 135b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m not having much luck reproducing this.  It always seems to run without issue for me.

Also note that Moo doesn&#39;t use INIT anywhere.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506265" href="/Public/Bug/Display.html?id=104854#txn-1506265">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:22:21&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506268" href="/Public/Bug/Display.html?id=104854#txn-1506268">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:32:16&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506268/802785/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802785">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 491b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 09 18:22:20 2015, haarg wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not having much luck reproducing this.  It always seems to run
&gt; without issue for me.
</div>
What does perlcc --verison output for you?

Mine is: 

perlcc 2.18, B-C-1.47_03 built for /usr/local/cpanel/3rdparty/perl/514/bin/perl i386-linux-64int
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also note that Moo doesn&#39;t use INIT anywhere.
</div>
I only mentioned INIT as a description of how the “behavior is like something … is happening at INIT”. It could really be any stage after BEGIN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506272" href="/Public/Bug/Display.html?id=104854#txn-1506272">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:43:17&nbsp;2015</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506272/802789/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802789">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 613b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 09 18:32:16 2015, DMUEY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Jun 09 18:22:20 2015, haarg wrote:
<div class="message-stanza open">&gt; &gt; I&#39;m not having much luck reproducing this.  It always seems to run
&gt; &gt; without issue for me.
</div>&gt; 
&gt; What does perlcc --verison output for you?
&gt; 
&gt; Mine is:
&gt; 
&gt; perlcc 2.18, B-C-1.47_03 built for
&gt; /usr/local/cpanel/3rdparty/perl/514/bin/perl i386-linux-64int
</div>
$ perlcc --version
Use of uninitialized value $B::C::REVISION in concatenation &#40;.&#41; or string at /Users/gknop/perl5/perlbrew/perls/perl-5.14.4/bin/perlcc line 860.
perlcc 2.2, B-C-1.52 built for /Users/gknop/perl5/perlbrew/perls/perl-5.14.4/bin/perl darwin-2level
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506275" href="/Public/Bug/Display.html?id=104854#txn-1506275">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:44:19&nbsp;2015</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506275/802792/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802792">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 147b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This should not be a Moo ticket I think, rather at B::C.
I can reproduce this on one of my perl5.14.4 versions, not on the others.
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506278" href="/Public/Bug/Display.html?id=104854#txn-1506278">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;18:52:16&nbsp;2015</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506278/802795/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802795">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 515b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 09 18:44:19 2015, RURBAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This should not be a Moo ticket I think, rather at B::C.
</div>
Probably.  If there&#39;s something we are doing in Moo that could be improved to help perlcc work, we&#39;d probably be up for it.  But I&#39;m not able to properly debug this so even if we want to change something, I can&#39;t help much in tracking it down.

As a side note, if you are compiling Moo code, I suspect you&#39;d want to include a BEGIN { Sub::Defer::undefer_all&#40;&#41; }, so that Moo would do all of its code gen upfront.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506285" href="/Public/Bug/Display.html?id=104854#txn-1506285">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;19:52:39&nbsp;2015</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506285/802806/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802806">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 372b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 09 18:44:19 2015, RURBAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This should not be a Moo ticket I think, rather at B::C.
&gt; I can reproduce this on one of my perl5.14.4 versions, not on the others.
</div>
Confirmed. The missing function here is XSLoader::load, and is caused by a bad perl installation &#40;in my case&#41;, or the compiler not seeing that XSLoader is needed.
Please reject
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506288" href="/Public/Bug/Display.html?id=104854#txn-1506288">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;19:55:42&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506288/802809/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802809">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 191b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As a side note, if you are compiling Moo code, I suspect you&#39;d want to
&gt; include a BEGIN { Sub::Defer::undefer_all&#40;&#41; }, so that Moo would do
&gt; all of its code gen upfront.
</div>
cool, thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506290" href="/Public/Bug/Display.html?id=104854#txn-1506290">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;19:55:49&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506290/802811/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802811">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 191b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As a side note, if you are compiling Moo code, I suspect you&#39;d want to
&gt; include a BEGIN { Sub::Defer::undefer_all&#40;&#41; }, so that Moo would do
&gt; all of its code gen upfront.
</div>
cool, thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506293" href="/Public/Bug/Display.html?id=104854#txn-1506293">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;19:56:46&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506293/802813/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802813">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 479b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jun 09 19:52:39 2015, RURBAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Jun 09 18:44:19 2015, RURBAN wrote:
<div class="message-stanza open">&gt; &gt; This should not be a Moo ticket I think, rather at B::C.
&gt; &gt; I can reproduce this on one of my perl5.14.4 versions, not on the
&gt; &gt; others.
</div>&gt; 
&gt; Confirmed. The missing function here is XSLoader::load, and is caused
&gt; by a bad perl installation &#40;in my case&#41;, or the compiler not seeing
&gt; that XSLoader is needed.
&gt; Please reject
</div>
thanks Reini, I reckon we need an initernal ticket then :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506404" href="/Public/Bug/Display.html?id=104854#txn-1506404">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;04:08:01&nbsp;2015</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506404/802878/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802878">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 52b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Rejecting, as this is a B::C issue, not a Moo issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506407" href="/Public/Bug/Display.html?id=104854#txn-1506407">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;10&nbsp;04:08:04&nbsp;2015</span>
    <span class="description">haarg [...] haarg.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1539756" href="/Public/Bug/Display.html?id=104854#txn-1539756">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;28&nbsp;15:50:57&nbsp;2015</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1539756/821938/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/821938">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 91b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">FYI, <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rurban/perl-compiler/issues/201">https://github.com/rurban/perl-compiler/issues/201</a></span> is the B::C issue for this, thanks!
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.652987</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
