<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #5286 for Imager: &#34;make test&#34; fails on RedHat ES: &#34;undefined symbol: FT_Get_Postscript_Name&#34;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #5286 for Imager: &#34;make test&#34; fails on RedHat ES: &#34;undefined symbol: FT_Get_Postscript_Name&#34;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Imager/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Imager/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Imager/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Imager/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Imager">Imager CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">5286</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Imager/Active/">Imager</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">TONYC [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
eamon [...] eamondaly.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-16790-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.42    </td>
  </tr>
  <tr id="CF-16791-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.41    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;11&nbsp;08:35:39&nbsp;2004</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &#34;make test&#34; fails on RedHat ES: &#34;undefined symbol:
    FT_Get_Postscript_Name&#34;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">0.42 fails &#34;make test&#34; with repeated &#34;undefined symbol: FT_Get_Postscript_Name&#34; errors. 0.41 passes cleanly.

[Imager-0.42]$ IM_VERBOSE=1 perl Makefile.PL
Verbose mode
pathcheck
  Include paths:
/sw/include
/usr/include/freetype2
/usr/local/include/freetype2
/usr/include
/usr/local/include
/usr/include/freetype
/usr/local/include/freetype
  /sw/include doesnt exist or is unaccessible - removed.
  /usr/local/include/freetype2 doesnt exist or is unaccessible - removed.
  /usr/include/freetype doesnt exist or is unaccessible - removed.
  /usr/local/include/freetype doesnt exist or is unaccessible - removed.

Library paths:
/usr/include/freetype2
/usr/include
/usr/local/include
  /sw/lib doesnt exist or is unaccessible - removed.

done.
 freetype2: includes found - libraries found
       gif: includes found - libraries found
       png: includes found - libraries found
      jpeg: includes found - libraries found
     ungif: includes found - libraries found
  T1-fonts: includes not found - libraries not found
       w32: includes not found - libraries not found
      tiff: includes found - libraries found
  TT-fonts: includes not found - libraries found
ungif and gif can not coexist - removing ungif support

You have libgif or libungif installed.  They are both known to have
bugs.  Imager can crash or display other strange behaviour after
reading or writing gif images.  Some of the gif tests can even fail
since they stress some parts of the buggy code.

Do you want to remove gif support? [Y/n]
n
$VAR1 = {
          &#39;VERSION_FROM&#39; =&gt; &#39;Imager.pm&#39;,
          &#39;DEFINE&#39; =&gt; &#39;-DIM_GIFMAJOR=4 -DIM_GIFMINOR=0 -DHAVE_FT2 -DHAVE_LIBGIF -DHAVE_LIBPNG -DHAVE_LIBJPEG -DHAVE_LIBTIFF  -DIMAGER_LOG -DOS_linux &#39;,
          &#39;OBJECT&#39; =&gt; &#39;Imager.o draw.o polygon.o image.o io.o iolayer.o log.o gaussian.o conv.o pnm.o raw.o feat.o font.o filters.o dynaload.o stackmach.o datatypes.o regmach.o trans2.o quant.o error.o convert.o map.o tags.o palimg.o maskimg.o img16.o rotate.o bmp.o tga.o rgb.o color.o fills.o imgdouble.o  freetyp2.o gif.o png.o jpeg.o tiff.o&#39;,
          &#39;ABSTRACT&#39; =&gt; &#39;Perl extension for Generating 24 bit Images&#39;,
          &#39;LIBS&#39; =&gt; &#39; -lm  -L/usr/local/lib -L/lib -L/usr/lib  -lfreetype -lgif -lpng -lz -ljpeg -ltiff&#39;,
          &#39;clean&#39; =&gt; {
                       &#39;FILES&#39; =&gt; &#39;testout&#39;
                     },
          &#39;NAME&#39; =&gt; &#39;Imager&#39;,
          &#39;INC&#39; =&gt; &#39; -I/usr/include/freetype2  -I/usr/local/include&#39;,
          &#39;AUTHOR&#39; =&gt; &#39;Arnar M. Hrafnkelsson, addi@umich.edu&#39;
        };
MakeMaker &#40;v6.17&#41;
Writing Makefile for Imager::plugins
Writing Makefile for Imager

[Imager-0.42]$ make test
make[1]: Entering directory `/home/edaly/Imager-0.42/dynfilt&#39;
make[1]: Nothing to be done for `all&#39;.
make[1]: Leaving directory `/home/edaly/Imager-0.42/dynfilt&#39;
PERL_DL_NONLAZY=1 /usr/local/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/t00basic........Can&#39;t load &#39;/home/edaly/Imager-0.42/blib/arch/auto/Imager/Imager.so&#39; for module Imager: /home/edaly/Imager-0.42/blib/arch/auto/Imager/Imager.so: undefined symbol: FT_Get_Postscript_Name at /usr/local/lib/perl5/5.8.1/i686-linux/DynaLoader.pm line 229.
 at /usr/local/lib/perl5/5.8.1/i686-linux/DynaLoader.pm line 153
BEGIN failed--compilation aborted at /home/edaly/Imager-0.42/blib/lib/Imager.pm line 153.
Compilation failed in require at t/t00basic.t line 11.
BEGIN failed--compilation aborted at t/t00basic.t line 11.
t/t00basic........dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 1-2
        Failed 2/2 tests, 0.00% okay

[Imager-0.41]$ IM_VERBOSE=1 perl Makefile.PL
Verbose mode
pathcheck
  Include paths:
/usr/include/freetype2
/usr/local/include/freetype2
/usr/include
/usr/local/include
/usr/include/freetype
/usr/local/include/freetype
  /usr/local/include/freetype2 doesnt exist or is unaccessible - removed.  /usr/include/freetype doesnt exist or is unaccessible - removed.  /usr/local/include/freetype doesnt exist or is unaccessible - removed.
Library paths:
/usr/include/freetype2
/usr/include
/usr/local/include

done.
  T1-fonts: includes not found - libraries not found
  TT-fonts: includes not found - libraries found
       png: includes found - libraries found
 freetype2: includes found - libraries found
       w32: includes not found - libraries not found
     ungif: includes found - libraries found
      tiff: includes found - libraries found
      jpeg: includes found - libraries found
       gif: includes found - libraries found
ungif and gif can not coexist - removing ungif support

You have libgif or libungif installed.  They are both known to have
bugs.  Imager can crash or display other strange behaviour after
reading or writing gif images.  Some of the gif tests can even fail
since they stress some parts of the buggy code.

Do you want to remove gif support? [Y/n]
n
$VAR1 = {
          &#39;NAME&#39; =&gt; &#39;Imager&#39;,
          &#39;AUTHOR&#39; =&gt; &#39;Arnar M. Hrafnkelsson, addi@umich.edu&#39;,
          &#39;INC&#39; =&gt; &#39; -I/usr/include/freetype2  -I/usr/local/include&#39;,
          &#39;LIBS&#39; =&gt; &#39; -lm  -L/usr/local/lib -L/lib -L/usr/lib  -lpng -lz -lfreetype -ltiff -ljpeg -lgif&#39;,
          &#39;DEFINE&#39; =&gt; &#39;-DIM_GIFMAJOR=4 -DIM_GIFMINOR=0 -DHAVE_LIBPNG -DHAVE_FT2 -DHAVE_LIBTIFF -DHAVE_LIBJPEG -DHAVE_LIBGIF  -DIMAGER_LOG -DOS_linux &#39;,
          &#39;OBJECT&#39; =&gt; &#39;Imager.o draw.o polygon.o image.o io.o iolayer.o log.o gaussian.o conv.o pnm.o raw.o feat.o font.o filters.o dynaload.o stackmach.o datatypes.o regmach.o trans2.o quant.o error.o convert.o map.o tags.o palimg.o maskimg.o img16.o rotate.o bmp.o tga.o rgb.o color.o fills.o imgdouble.o  png.o freetyp2.o tiff.o jpeg.o gif.o&#39;,
          &#39;clean&#39; =&gt; {
                       &#39;FILES&#39; =&gt; &#39;testout&#39;
                     },
          &#39;ABSTRACT&#39; =&gt; &#39;Perl extension for Generating 24 bit Images&#39;,
          &#39;VERSION_FROM&#39; =&gt; &#39;Imager.pm&#39;
        };
MakeMaker &#40;v6.17&#41;
Writing Makefile for Imager::plugins
Writing Makefile for Imager

[Imager-0.41]$ make test
make[1]: Entering directory `/home/edaly/.cpan/build/Imager-0.41/dynfilt&#39;
make[1]: Nothing to be done for `all&#39;.
make[1]: Leaving directory `/home/edaly/.cpan/build/Imager-0.41/dynfilt&#39;
PERL_DL_NONLAZY=1 /usr/local/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/t00basic........ok
t/t01introvert....ok
t/t020masked......ok
t/t021sixteen.....ok
t/t022double......ok
t/t05error........ok
t/t07iolayer......ok
t/t101jpeg........ok
t/t102png.........ok
t/t103raw.........ok
t/t104ppm.........ok
t/t105gif.........ok
t/t106tiff........ok
t/t107bmp.........ok
t/t108tga.........ok
t/t15color........ok
t/t16matrix.......ok
t/t20fill.........ok
t/t21draw.........ok
t/t30t1font.......ok
        5/6 skipped: t1lib unavailable or disabled
t/t35ttfont.......ok
        2/3 skipped:
t/t36oofont.......ok
        6/7 skipped:
t/t37w32font......ok
        3/4 skipped: not MS Windows
t/t38ft2font......ok
t/t40scale........ok
t/t50basicoo......ok
t/t55trans........ok
        4/5 skipped:
t/t56postfix......ok
t/t57infix........ok
        6/7 skipped: - no Parse::RecDescent
t/t58trans2.......ok
t/t59assem........ok
t/t60dyntest......ok
t/t61filters......ok
t/t64copyflip.....ok
t/t65crop.........ok
t/t66paste........ok
t/t67convert......ok
t/t68map..........ok
t/t69rubthru......ok
t/t70newgif.......ok
t/t75polyaa.......ok
t/t90cc...........ok
All tests successful, 26 subtests skipped.
Files=42, Tests=995, 14 wallclock secs &#40;10.56 cusr +  3.11 csys = 13.67 CPU&#41;
make[1]: Entering directory `/home/edaly/.cpan/build/Imager-0.41/dynfilt&#39;
\/bin/sh -c true
No tests defined for Imager::plugins extension.
make[1]: Leaving directory `/home/edaly/.cpan/build/Imager-0.41/dynfilt&#39;


$ uname -a
Linux www 2.4.9-e.37smp #1 SMP Mon Jan 26 10:53:54 EST 2004 i686 unknown

$ perl -v
This is perl, v5.8.1 built for i686-linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;07:56:48&nbsp;2004</span>
    <span class="description">TONYC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Wed Feb 11 08:35:39 2004]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 0.42 fails &#34;make test&#34; with repeated &#34;undefined symbol:
&gt;    FT_Get_Postscript_Name&#34; errors. 0.41 passes cleanly.
</div>
0.42 added a new method to retrieve the face name of a font.

I&#39;ve only managed to reproduce the above undefined symbol error by using
an older version of freetype2 &#40;2.0.4&#41;, which is only reasonable since
FT_Get_Postscript_Name was introduced in 2.0.5.

Are you using an older version of freetype2?

I&#39;ve made some changes to freetyp2.c to attempt to detect older versions
and handle the missing function correctly, and changed the test code to
handle that, but if you aren&#39;t using an older version of freetype2 then
this problem will require more work.

Tony Cook
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;18&nbsp;18:55:14&nbsp;2004</span>
    <span class="description">TONYC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think RT treated my reply as a comment and didn&#39;t pass it on.

Hi,

This has been fixed in CVS, but hasn&#39;t been released in a new release
yet.

I&#39;ve made the fixed freetyp2.c available at:

  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.develop-help.com/freetyp2.c">http://www.develop-help.com/freetyp2.c</a></span>

for now.

Tony

[eamon@eamondaly.com - Thu Mar 18 12:11:07 2004]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; FYI, Imager version 0.43 still fails with repeated
&gt; &#34;undefined symbol: FT_Get_Postscript_Name&#34; errors when using
&gt; freetype 2.0.3-7 under the RedHat Enterprise installation.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;05&nbsp;03:04:23&nbsp;2004</span>
    <span class="description">TONYC [...] cpan.org -  Given to TONYC</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;05&nbsp;03:04:23&nbsp;2004</span>
    <span class="description">TONYC [...] cpan.org -  Status changed from &#39;new&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
