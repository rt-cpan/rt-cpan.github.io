<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #26122 for Scalar-List-Utils: Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #26122 for Scalar-List-Utils: Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Scalar-List-Utils/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Scalar-List-Utils/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Scalar-List-Utils/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Scalar-List-Utils/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Scalar-List-Utils">Scalar-List-Utils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">26122</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Scalar-List-Utils/Active/">Scalar-List-Utils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
m.nooning [...] comcast.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-28278-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.19    </td>
  </tr>
  <tr id="CF-28279-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;17:07:46&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am getting the same failure results as reported at 

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2007/01/msg394175.html">http://www.nntp.perl.org/group/perl.cpan.testers/2007/01/msg394175.html</a></span>
by  by Steffen Mueller, only he is using Strawberry and I am using
ActiveState, perl 5.8.8, Windows XP, MinGW, with Module::Install at 0.65
&#40;in case it matters&#41;.

Namely, during the &#34;nmake test&#34; phase, I get this:
t/p_tainted.....FAILED before any test output arrived

The module Catalyst, with all of it&#39;s web building modules, depends upon
Scalar-List-Utils, so I need this resovled first.

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;17:16:54&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmphf!
I have two bugs with Scalar::List::Utils, and I got their titles mixed
up.  Okay, here is the bug that goes with the title.

Again, the module Catalyst, with all of many, many web building modules,
depends upon Scalar-List-Utils, so I need this resovled first.

--------paste error message
Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll: Permission
denied at C:/Perl/lib/File/Find.pm line 918
Skipping C:\Perl\lib\auto\List\Util\Util.bs &#40;unchanged&#41;
NMAKE : fatal error U1077: &#39;C:\Perl\bin\perl.exe&#39; : return code &#39;0xd&#39;
Stop.

---------end paste

There is an extensive discussion of the problem at

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.qa/2006/02/msg5415.html">http://www.nntp.perl.org/group/perl.qa/2006/02/msg5415.html</a></span>

At least nine participants in the forum wrote in giving alternating
views, but did not seem to reveal a fix.

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;08:19:23&nbsp;2007</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 07:18:49 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Apr 5, 2007, at 4:16 PM, Malcolm Nooning via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Again, the module Catalyst, with all of many, many web building  
&gt; modules,
&gt; depends upon Scalar-List-Utils, so I need this resovled first.
&gt;
&gt; --------paste error message
&gt; Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll: Permission
&gt; denied at C:/Perl/lib/File/Find.pm line 918
&gt; Skipping C:\Perl\lib\auto\List\Util\Util.bs &#40;unchanged&#41;
&gt; NMAKE : fatal error U1077: &#39;C:\Perl\bin\perl.exe&#39; : return code &#39;0xd&#39;
&gt; Stop.
</div>
I do not know much about windows, but I suspect that the script you are
running uses List::Util, which means the program has the dll opened
and so the OS is disallowing you to remove it.

This is not a bug in List::Util.

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;08:19:25&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;08:39:55&nbsp;2007</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 07:16:11 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Apr 5, 2007, at 4:07 PM, Malcolm Nooning via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am getting the same failure results as reported at
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2007/01/">http://www.nntp.perl.org/group/perl.cpan.testers/2007/01/</a></span> 
&gt; msg394175.html
&gt; by  by Steffen Mueller, only he is using Strawberry and I am using
&gt; ActiveState, perl 5.8.8, Windows XP, MinGW, with Module::Install at  
&gt; 0.65
&gt; &#40;in case it matters&#41;.
&gt;
&gt; Namely, during the &#34;nmake test&#34; phase, I get this:
&gt; t/p_tainted.....FAILED before any test output arrived
</div>
I do not see this error on platforms I have access to.

What happens if you try to run this manually

   perl -T -Mblib t/p_tainted.t

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;08:46:00&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I believe you are correct.  This bug can be closed/rejected.

I was using a downloaded script called cat-install.pl that is meant to
install the Catalyst system.  When I installed the remaining modules and
dependencies by hand it all went through cleanly. 

For the benefit of anyone else who may read this bug report and is
trying to install Catalyst, I would still go to
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.shadowcatsystems.co.uk/static/cat-install">http://www.shadowcatsystems.co.uk/static/cat-install</a></span> and get
cat-install.pl, and then run it so that it will install the things it
will, and also to view the dependency failures, which gives you a list
of the things to be done by hand.  The script does not itself use
List::Util, but, again, Scalar-List-Utils installs by hand.  The script
invokes ppm so maybe ppm itself is somewhere using List::Util.

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;08:51:50&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 06 Apr 2007 08:51:51 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Malcolm Nooning &lt;m.nooning [...] comcast.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oops, I forgot about the second bug reported in this thread.  Please do 
not yet close it out.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;perl -T -Mblib t/p_tainted.t
</div>Insecure dependency in require while running with -T switch at 
t/p_tainted.t line 10.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;09:19:23&nbsp;2007</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 08:19:04 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Apr 6, 2007, at 7:51 AM, Malcolm Nooning via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Oops, I forgot about the second bug reported in this thread.   
&gt; Please do
&gt; not yet close it out.
&gt;
<div class="message-stanza open">&gt;&gt; perl -T -Mblib t/p_tainted.t
</div>&gt; Insecure dependency in require while running with -T switch at
&gt; t/p_tainted.t line 10.
</div>
That is probably coming from -Mblib, try both of these &#40;or whatever  
the equivalent would be on windows&#41;

perl -Iblib/lib -Iblib/arch  -T t/p_tainted.t
perl -Iblib/lib -Iblib/arch  -T t/tainted.t

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;09:19:29&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I noticed that between version 1.18 and 1.19, you changed p_tainted.t from 

do &#34;./$filename&#34;;
to 
do $filename;

I changed it back to &#34;./$filename&#34; and now all tests pass.

You use File::Spec to get the fully qualified path name for $filename so
I do not know why the ./ is should be needed.

I hate it when I know how to fix something but have no clue as to why it
is a fix.  Any ideas?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;09:44:23&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 06 Apr 2007 09:43:47 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Malcolm Nooning &lt;m.nooning [...] comcast.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">------------paste with do &#34;./$filename&#34;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;perl -Iblib/lib -Iblib/arch  -T t/p_tainted.t
</div>1..4
ok 1 - constant number
ok 2 - known variable
ok 3 - environment variable
ok 4 - copy of environment variable

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;perl -Iblib/lib -Iblib/arch  -T t/tainted.t
</div>1..4
ok 1 - constant number
ok 2 - known variable
ok 3 - environment variable
ok 4 - copy of environment variable

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;prove t\p_tainted.t
</div>t\p_tainted....ok
All tests successful.
Files=1, Tests=4,  0 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00 CPU&#41;
------------End paste with do &#34;./$filename&#34;;

------------paste with do $filename;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;perl -Iblib/lib -Iblib/arch  -T t/p_tainted.t
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;perl -Iblib/lib -Iblib/arch  -T t/tainted.t
</div>1..4
ok 1 - constant number
ok 2 - known variable
ok 3 - environment variable
ok 4 - copy of environment variable

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;prove t\p_tainted.t
</div>t\p_tainted....FAILED before any test output arrived
FAILED--1 test script could be run, alas--no output ever seen

------------paste with do $filename;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;10:36:53&nbsp;2007</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26122] Cannot forceunlink C:\Perl\lib\auto\List\Util\Util.dll </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 09:36:28 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Apr 6, 2007, at 8:19 AM, Malcolm Nooning via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I noticed that between version 1.18 and 1.19, you changed  
&gt; p_tainted.t from
&gt;
&gt; do &#34;./$filename&#34;;
&gt; to
&gt; do $filename;
&gt;
&gt; I changed it back to &#34;./$filename&#34; and now all tests pass.
</div>
That is odd.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You use File::Spec to get the fully qualified path name for  
&gt; $filename so
&gt; I do not know why the ./ is should be needed.
</div>
the change to remove ./ and use File::Spec was because ./ does not  
work on VMS

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I hate it when I know how to fix something but have no clue as to  
&gt; why it
&gt; is a fix.  Any ideas?
</div>
None at all.

Maybe windows is treating an unqualified path as tainted. Strange  
that it would differ between OSes though

What is in $filename after calling File::Spec ?
And what was in $f before calling File::Spec

We could add

$filename = &#34;./$filename&#34; if $^O eq &#39;Win32&#39;

But I really do not like that.

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;11:16:41&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">There does not seem to be a difference in $filename.

------------------------paste modified p_tainted.t
#!./perl -T

use File::Spec;

# force perl-only version to be tested
$List::Util::TESTING_PERL_ONLY = $List::Util::TESTING_PERL_ONLY = 1;

&#40;my $f = __FILE__&#41; =~ s/p_//;
open &#40;FH, &#34;&gt;f.txt&#34;&#41; or die &#40;&#34;No f.txt\n&#34;&#41;;
print FH &#40;&#34;This is f: :$f:\n&#34;&#41;;
close FH or die &#40;&#34;Ouch 1\n&#34;&#41;;

my $filename = File::Spec-&gt;catfile&#40;&#34;.&#34;, $f&#41;;
$filename =~ s/\n//g;
open &#40;FH, &#34;&gt;filename.txt&#34;&#41; or die &#40;&#34;No filename.txt\n&#34;&#41;;
print FH &#40;&#34;This is filename: :$filename:\n&#34;&#41;;
close FH or die &#40;&#34;Ouch 2\n&#34;&#41;;

do $filename;
-----------------------End paste modified p_tainted.t

----------------------Paste results
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;prove t\p_tainted.t
</div>t\p_tainted....FAILED before any test output arrived
FAILED--1 test script could be run, alas--no output ever seen

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;type f.txt
</div>This is f: :t\tainted.t:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;type filename.txt
</div>
This is filename: :.\t\tainted.t:
----------------------End Paste results

#########
*********** HERE I CHANGED TO do &#34;./$filename&#34; *********
#########

---------------------Paste results
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;prove t\p_tainted.t
</div>t\p_tainted....ok
All tests successful.
Files=1, Tests=4,  0 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00 CPU&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;type f.txt
</div>This is f: :t\tainted.t:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;type filename.txt
</div>
This is filename: :.\t\tainted.t:

----------------------End Paste results
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;14:34:42&nbsp;2007</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">There is at least one more work-around for the forceunlink problem. 
Namely, simply &#34;del C:\perl\lib\auto\List\Util\Util.dll&#34; and then nmake
install.  Simply doing &#34;attrib -R C:\perl\lib\auto\List\Util\Util.dll&#34;
does not help.

What is also baffling is that once I delete Util.dll and run nmake
install, which then succeeds, I can then keep on succeeding at running
nmake install over and over.  The attrib is +R on Util.dll.  I have no
explanation for this.  The only hint is, if I do &#34;nmake clean&#34; and
restart, then it will fail to install again as before, forcing me to del
Util.dll to get the nmake install to work.  Again, no explanations.

Going back to the do $filename failure.  It never fails now. I deleted
the entire directory tree, redownloaded a fresh copy of the .gz file,
unzipped and untarred it, etcetera.  It still passes.

Work-around or not, I am baffled as for a definitive answers.  The
original failure reports noted earlier will prevent ActiveState from
making a ppm out of this 1.19 version, as I think they have a policy of
making a ppm only if all tests pass.  If there is anything anyone can
suggest trying I would be quite willing to make the attempt.  Otherwise
I am going to let it drop. 


By the way, the script below works just fine.  I wonder where the
&#34;forceunlink&#34; message is coming from?  I wonder also, is our script
changing the attrib with -R prior to the attempted unlink?; and then
resetting it with +R?  chmod does not work of course on Windows but I do
not see any &#34;cannot chmod&#34; warnings like I do on a lot of other modules.

Is there a place in one of the scripts wherein I can place a &#34;attrib -R
...&#34; statement and then see if it works?  Maybe MakeMaker already takes
care of such things, I don&#39;t know.


--------------paste works just fine
#!/usr/bin/perl -w

use strict;

my $file = &#34;C:\\perl\\lib\\auto\\List\\Util\\Util.dll&#34;;
my $temp = $file . &#34;_temp&#34;;


if &#40;system &#40;&#34;copy&#34;,  &#34;$file&#34;, &#34;$temp&#34;&#41;&#41; {
   print &#40;&#34;Cannot copy $file $temp\n&#34;&#41;;
}
if &#40;system &#40;&#34;attrib&#34;, &#34;-R&#34;, &#34;$file&#34;&#41;&#41; {
   print &#40;&#34;Cannot change attributes on $file\n&#34;&#41;;
}
if &#40;!&#40;unlink&#40;&#34;$file&#34;&#41;&#41;&#41; {
  print &#40;&#34;Cannot unlink $file\n&#34;&#41;;
}
if &#40;system &#40;&#34;copy&#34;,  &#34;$temp&#34;, &#34;$file&#34; &#41;&#41; {
   print &#40;&#34;Cannot copy $temp $file\n&#34;&#41;;
}
if &#40;system &#40;&#34;attrib&#34;, &#34;+R&#34;, &#34;$file&#34;&#41;&#41; {
   print &#40;&#34;Cannot change attributes on $file\n&#34;&#41;;
}
------------------End works just fine
Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;17:32:39&nbsp;2007</span>
    <span class="description">GBARR [...] CPAN.ORG -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
