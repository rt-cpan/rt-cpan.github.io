<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #56582 for PAR-Packer: PAR-packer compilation on Windows XP32 box.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #56582 for PAR-Packer: PAR-packer compilation on Windows XP32 box.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">56582</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Jean-Michel.Male [...] sbmoffshore.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




SBMO_CL-email.gif<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/762957/394714/SBMO_CL-email.gif">
Wed Apr 14 04:28:08 2010 (535b) by Jean-Michel.Male [...] sbmoffshore.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;14&nbsp;04:28:07&nbsp;2010</span>
    <span class="description">Jean-Michel.Male [...] sbmoffshore.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;&#39;smueller [...] cpan.org&#39;&#34; &lt;smueller [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-packer compilation on Windows XP32 box.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Apr 2010 10:27:43 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-PAR-Packer [...] rt.cpan.org&#39;&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Male Jean-Michel &lt;Jean-Michel.Male [...] sbmoffshore.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bonjour,

When first compiling, I had those messages :

1&#41; WARNING :
c:\temp\par-packer-1.003\myldr\env.c&#40;68&#41; : warning C4996: &#39;strnicmp&#39; was declared deprecated
        C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE\string.h&#40;215&#41; : see declaration of &#39;strnicmp&#39;
        Message: &#39;The POSIX name for this item is deprecated. Instead, use the ISO C++ conformant name: _strnicmp. See online help for details.&#39;

This warning appears VERY frequently, and for all those functions : strdup, strtok, sprintf, strncpy ...
To have this &#40;harmless&#41; warning go away, just add -D_CRT_SECURE_NO_DEPRECATE in the compiler options.

2&#41; COMPILATION ERROR :

main.c&#40;115&#41; : error C2143: syntax error : missing &#39;;&#39; before &#39;type&#39;
main.c&#40;116&#41; : error C2065: &#39;argno&#39; : undeclared identifier
NMAKE : fatal error U1077: &#39;&#34;C:\Program Files\Microsoft Visual Studio 8\VC\BIN\cl.EXE&#34;&#39; : return code &#39;0x2&#39;
Stop.

This error is due to the declaration
    int argno = 0;
coming after conditionally compilated non-declaration code
The error disappears if the declaration is moved just immediately after the beginning of main definition, as :
int main &#40; int argc, char **argv, char **env &#41;
{
    int exitstatus;
    int i;

    int argno = 0;

3&#41; LINK ERROR :

        link main.obj my_par_pl.obj win32.obj -release   -nologo -nodefaultlib -debug -opt:ref,icf  -libpath:&#34;C:\Perl\lib\CORE&#34;  -machine:x86  C:\Perl\lib\CORE\perl510.lib &#34;C:\Program Files\Microsoft Visual Studio 8\VC\LIB\oldnames.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\LIB\kernel32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\user32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\gdi32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\winspool.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\comdlg32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\advapi32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\shell32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\ole32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\oleaut32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\netapi32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\LIB\uuid.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\ws2_32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\mpr.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\winmm.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\version.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\odbc32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\odbccp32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\PlatformSDK\lib\comctl32.lib&#34; &#34;C:\Program Files\Microsoft Visual Studio 8\VC\LIB\msvcrt.lib&#34; -out:par.exe
main.obj : error LNK2019: unresolved external symbol _strcasecmp referenced in function _par_mktmpdir
par.exe : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: &#39;&#34;C:\Program Files\Microsoft Visual Studio 8\VC\BIN\link.EXE&#34;&#39; : return code &#39;0x460&#39;
Stop.

Apparently strcasecmp in unknown to Microsoft Visual C V8. Sounds strange, but real.
The solution is to modify the file mktmpdir.c in myldr folder as follows :

Add the following block just after the first line in mktmpdir.c :

#ifdef _MSC_VER
#define snprintf _snprintf
#if _MSC_VER &lt; 1500
#define vsnprintf _vsnprintf
#else
#define ssize_t SSIZE_T
#define uint32_t UINT32
#endif
#define strncasecmp _strnicmp
#define strcasecmp _stricmp
#else
#ifdef __MINGW32__
#define WINSOCK_VERSION MAKEWORD&#40;2,0&#41;
#else
#define strncasecmp strnicmp
#define strcasecmp stricmp
#endif /* __MINGW32__ */
#endif /* _MSC_VER */
This block has been taken verbatim from libxml2, and in particular, I have absolutely no
ideas if it is necessary nor working for MINGW32. It should work for Visual Studio 2008.

my compiler version :

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;cl
</div>Microsoft &#40;R&#41; 32-bit C/C++ Optimizing Compiler Version 14.00.50727.42 for 80x86
Copyright &#40;C&#41; Microsoft Corporation.  All rights reserved.
my version of Perl :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; perl -version
</div>
This is perl, v5.10.1 built for MSWin32-x86-multi-thread
&#40;with 2 registered patches, see perl -V for more detail&#41;

Copyright 1987-2009, Larry Wall

Binary build 1007 [291969] provided by ActiveState <span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Jan 26 2010 23:15:11
Hope that helps.
Best regards,

Jean Michel Malé
Scientific Software Support Eng

Main: +377 9205 1500
Direct: +377 9205 1575
Jean-Michel.Male@sbmoffshore.com&lt;mailto:Jean-Michel.Male@sbmoffshore.com&gt;
Website: www.sbmoffshore.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.sbmoffshore.com/">http://www.sbmoffshore.com/</a></span>&gt;
[cid:878154907@14042010-2D3F]


Recipients in &#39;Cc...&#39; of this e-mail may not read it immediately and shall not be held accountable for not acting on enclosed information.

This message and any attachments are solely for the intended recipient and may contain confidential or privileged information.
The Internet can not guarantee the integrity of this message. SBM shall &#40;will&#41; not therefore be liable for the message if modified.
If you are not the intended recipient, any disclosure, copying, use, or distribution of the information included in this message and any attachments is prohibited.
If you have received this communication in error, please notify us by reply e-mail and immediately and permanently delete this message and any attachments. Thank you.
</div></div>

<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/762957/394714/SBMO_CL-email.gif">Download SBMO_CL-email.gif</a><br />
<span class="downloadcontenttype">image/gif 535b</span>
</div>
<div class="messagebody">
<img alt="SBMO_CL-email.gif" title="SBMO_CL-email.gif" src="/Ticket/Attachment/762957/394714/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;26&nbsp;07:41:46&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Jean Michel, I applied your patch &#40;slightly simplified&#41;.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;26&nbsp;07:41:47&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;26&nbsp;07:41:48&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;09&nbsp;12:04:13&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 1.007
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;09&nbsp;12:04:15&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;09&nbsp;12:04:17&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
