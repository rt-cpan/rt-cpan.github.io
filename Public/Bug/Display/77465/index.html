<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77465 for Pod-Perldoc: Forcing UTF8 causes formatting issues on slightly older groffs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77465 for Pod-Perldoc: Forcing UTF8 causes formatting issues on slightly older groffs</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Pod-Perldoc/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Pod-Perldoc">Pod-Perldoc CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77465</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Pod-Perldoc/Active/">Pod-Perldoc</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
c.nehren [...] shadowcat.co.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
jkeenan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26136-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26137-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
3.19    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;27&nbsp;03:30:30&nbsp;2012</span>
    <span class="description">c.nehren [...] shadowcat.co.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Forcing UTF8 causes formatting issues on slightly older groffs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 27 May 2012 03:30:15 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-pod-perldoc [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nehren &lt;c.nehren [...] shadowcat.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Not all systems have a bleeding edge groff available, and not all
systems are capable of handling UTF8 yet. This means the unconditional
forcing of the utf8 flag in lib/Pod/Perldoc/ToMan.pm line 141 causes
formatting issues. This looks like a remnant of a commit bdfoy made some
years ago that also unconditionally set the UTF8 flag &#40;without checking
*at all* that the system was actually capable of dealing with the
results&#41;. This either needs to be wrapped in some conditionals or
removed. It looks like the code tries to do this but doesn&#39;t actually do
a very good job of it.

With that line present, the current Pod-Perldoc git HEAD renders this:

PERL&#40;1&#41;               User Contributed Perl Documentation              PERL&#40;1&#41;



NAME
       perl - The Perl 5 language interpreter

SYNOPSIS
       perl [&lt;C2&gt; -sTtuUWX&lt;C2&gt; ]      [&lt;C2&gt; -hv&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -V[:configvar]&lt;C2&gt; ]
            [&lt;C2&gt; -cw&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -d[t][:debugger]&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -D[number/list]&lt;C2&gt; ]
            [&lt;C2&gt; -pna&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -Fpattern&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -l[octal]&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -0[octal/hexadecimal]&lt;C2&gt; ]
            [&lt;C2&gt; -Idir&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -m[-]module&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -M[-]&#39;module...&#39;&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -f&lt;C2&gt; ]
            [&lt;C2&gt; -C&lt;C2&gt; [number/list]&lt;C2&gt; ]      [&lt;C2&gt; -S&lt;C2&gt; ]      [&lt;C2&gt; -x[dir]&lt;C2&gt; ]
            [&lt;C2&gt; -i[extension]&lt;C2&gt; ]
            [&lt;C2&gt; [-e|-E]&lt;C2&gt; &#39;command&#39;&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; --&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; programfile&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; argument&lt;C2&gt; ]...


If I comment out that line, I get the much nicer:

PERL&#40;1&#41;               User Contributed Perl Documentation              PERL&#40;1&#41;



NAME
       perl - The Perl 5 language interpreter

SYNOPSIS
       perl [ -sTtuUWX ]      [ -hv ] [ -V[:configvar] ]
            [ -cw ] [ -d[t][:debugger] ] [ -D[number/list] ]
            [ -pna ] [ -Fpattern ] [ -l[octal] ] [ -0[octal/hexadecimal] ]
            [ -Idir ] [ -m[-]module ] [ -M[-]&#39;module...&#39; ] [ -f ]
            [ -C [number/list] ]      [ -S ]      [ -x[dir] ]
            [ -i[extension] ]
            [ [-e|-E] &#39;command&#39; ] [ -- ] [ programfile ] [ argument ]...

I will note that my system is quite capable of handling UTF-8 &#40;have a
snowman: ☃&#41;, and therefore it&#39;s my &#40;slightly&#41; out of date groff that is
the issue. I have confirmed this by installing a new groff, uncommenting
the problematic line, and running perldoc with -n $PATH_TO_NEW_GROFF. I
would rather not install a separate groff &#40;and its dependencies&#41; to cope
with a buggy Perl library that can be fixed by removing one erroneous
line of code.

-- 
Chris Nehren           | Coder, Sysadmin, Masochist
Shadowcat Systems Ltd. | <span class="clickylink"><a target="new" rel="nofollow" href="http://shadowcat.co.uk/">http://shadowcat.co.uk/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;17:46:04&nbsp;2012</span>
    <span class="description">jkeenan [...] cpan.org -  Reference to https://rt.perl.org/rt3/Ticket/Display.html?id=113406 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;17:53:42&nbsp;2012</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 27 03:30:30 2012, c.nehren@shadowcat.co.uk wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Not all systems have a bleeding edge groff available, and not all
&gt; systems are capable of handling UTF8 yet. This means the unconditional
&gt; forcing of the utf8 flag in lib/Pod/Perldoc/ToMan.pm line 141 causes
&gt; formatting issues. This looks like a remnant of a commit bdfoy made
&gt; some
&gt; years ago that also unconditionally set the UTF8 flag &#40;without
&gt; checking
&gt; *at all* that the system was actually capable of dealing with the
&gt; results&#41;. This either needs to be wrapped in some conditionals or
&gt; removed. It looks like the code tries to do this but doesn&#39;t actually
&gt; do
&gt; a very good job of it.
&gt; 
&gt; With that line present, the current Pod-Perldoc git HEAD renders this:
&gt; 
&gt; PERL&#40;1&#41;               User Contributed Perl Documentation
&gt; PERL&#40;1&#41;
&gt; 
&gt; 
&gt; 
&gt; NAME
&gt;        perl - The Perl 5 language interpreter
&gt; 
&gt; SYNOPSIS
&gt;        perl [&lt;C2&gt; -sTtuUWX&lt;C2&gt; ]      [&lt;C2&gt; -hv&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt;
&gt; -V[:configvar]&lt;C2&gt; ]
&gt;             [&lt;C2&gt; -cw&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -d[t][:debugger]&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt;
&gt; -D[number/list]&lt;C2&gt; ]
&gt;             [&lt;C2&gt; -pna&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -Fpattern&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt;
&gt; -l[octal]&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -0[octal/hexadecimal]&lt;C2&gt; ]
&gt;             [&lt;C2&gt; -Idir&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -m[-]module&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt;
&gt; -M[-]&#39;module...&#39;&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; -f&lt;C2&gt; ]
&gt;             [&lt;C2&gt; -C&lt;C2&gt; [number/list]&lt;C2&gt; ]      [&lt;C2&gt; -S&lt;C2&gt; ]
&gt; [&lt;C2&gt; -x[dir]&lt;C2&gt; ]
&gt;             [&lt;C2&gt; -i[extension]&lt;C2&gt; ]
&gt;             [&lt;C2&gt; [-e|-E]&lt;C2&gt; &#39;command&#39;&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; --&lt;C2&gt; ]&lt;C2&gt;
&gt; [&lt;C2&gt; programfile&lt;C2&gt; ]&lt;C2&gt; [&lt;C2&gt; argument&lt;C2&gt; ]...
&gt; 
&gt; 
&gt; If I comment out that line, I get the much nicer:
&gt; 
&gt; PERL&#40;1&#41;               User Contributed Perl Documentation
&gt; PERL&#40;1&#41;
&gt; 
&gt; 
&gt; 
&gt; NAME
&gt;        perl - The Perl 5 language interpreter
&gt; 
&gt; SYNOPSIS
&gt;        perl [ -sTtuUWX ]      [ -hv ] [ -V[:configvar] ]
&gt;             [ -cw ] [ -d[t][:debugger] ] [ -D[number/list] ]
&gt;             [ -pna ] [ -Fpattern ] [ -l[octal] ] [
&gt; -0[octal/hexadecimal] ]
&gt;             [ -Idir ] [ -m[-]module ] [ -M[-]&#39;module...&#39; ] [ -f ]
&gt;             [ -C [number/list] ]      [ -S ]      [ -x[dir] ]
&gt;             [ -i[extension] ]
&gt;             [ [-e|-E] &#39;command&#39; ] [ -- ] [ programfile ] [ argument
&gt; ]...
&gt; 
&gt; I will note that my system is quite capable of handling UTF-8 &#40;have a
&gt; snowman: ☃&#41;, and therefore it&#39;s my &#40;slightly&#41; out of date groff that
&gt; is
&gt; the issue. I have confirmed this by installing a new groff,
&gt; uncommenting
&gt; the problematic line, and running perldoc with -n $PATH_TO_NEW_GROFF.
&gt; I
&gt; would rather not install a separate groff &#40;and its dependencies&#41; to
&gt; cope
&gt; with a buggy Perl library that can be fixed by removing one erroneous
&gt; line of code.
&gt; 
</div>
I confirm Chris&#39;s findings.  I filed RT #113406 in the Perl 5 bug queue
back in May; it&#39;s still open.  When I first noted the problem, I
configured, built and installed the latest groff &#40;1.21&#41; from source. 
The problem didn&#39;t go away because I didn&#39;t know about the &#39;perldoc -n
&lt;/path/to/better/groff&gt; setting Chris presented above.  But I don&#39;t want
to have to do that every time I use &#39;perldoc&#39;.

Let&#39;s get this bug fixed!

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;17:53:43&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;18:12:39&nbsp;2012</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 17:53:42 2012, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I confirm Chris&#39;s findings.  I filed RT #113406 in the Perl 5 bug queue
&gt; back in May; it&#39;s still open.  When I first noted the problem, I
&gt; configured, built and installed the latest groff &#40;1.21&#41; from source. 
&gt; The problem didn&#39;t go away because I didn&#39;t know about the &#39;perldoc -n
&gt; &lt;/path/to/better/groff&gt; setting Chris presented above.  But I don&#39;t want
&gt; to have to do that every time I use &#39;perldoc&#39;.
&gt; 
</div>
I was too optimistic.

[perl] 519 $ which groff
/usr/local/bin/groff
[perl] 520 $ groff --version
GNU groff version 1.21
[snip]
called subprograms:

GNU grops &#40;groff&#41; version 1.21
GNU troff &#40;groff&#41; version 1.21
[perl] 521 $ perldoc -n /usr/local/bin/groff perl

PERL&#40;1&#41;               User Contributed Perl Documentation             
PERL&#40;1&#41;



NAME
       perl - The Perl 5 language interpreter

SYNOPSIS
       perl [&lt;C2&gt;&lt;A0&gt;-sTtuUWX&lt;C2&gt;&lt;A0&gt;]     
[&lt;C2&gt;&lt;A0&gt;-hv&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;
&lt;A0&gt;-V[:configvar]&lt;C2&gt;&lt;A0&gt;]
           
[&lt;C2&gt;&lt;A0&gt;-cw&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-d[t][:debugger]&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;
&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-D[number/list]&lt;C2&gt;&lt;A0&gt;]
           
[&lt;C2&gt;&lt;A0&gt;-pna&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-Fpattern&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[
&lt;C2&gt;&lt;A0&gt;-l[octal]&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-0[octal/hexadecimal]&lt;C2&gt;&lt;A0&gt;]
           
[&lt;C2&gt;&lt;A0&gt;-Idir&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-m[-]module&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;
[&lt;C2&gt;&lt;A0&gt;-M[-]&#39;module...&#39;&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-f&lt;C2&gt;&lt;A0&gt;]
            [&lt;C2&gt;&lt;A0&gt;-C&lt;C2&gt;&lt;A0&gt;[number/list]&lt;C2&gt;&lt;A0&gt;]     
[&lt;C2&gt;&lt;A0&gt;-S&lt;C2&gt;&lt;A0&gt;] 
     [&lt;C2&gt;&lt;A0&gt;-x[dir]&lt;C2&gt;&lt;A0&gt;]
            [&lt;C2&gt;&lt;A0&gt;-i[extension]&lt;C2&gt;&lt;A0&gt;]
           
[&lt;C2&gt;&lt;A0&gt;[-e|-E]&lt;C2&gt;&lt;A0&gt;&#39;command&#39;&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;--&lt;C2&gt;
&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;programfile&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;argument&lt;C2&gt;&lt;A0&gt;]...

So the problem is worse than I thought.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;14&nbsp;19:44:36&nbsp;2013</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 18:12:39 2012, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Oct 20 17:53:42 2012, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt;
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; [perl] 519 $ which groff
&gt; /usr/local/bin/groff
&gt; [perl] 520 $ groff --version
&gt; GNU groff version 1.21
&gt; [snip]
&gt; called subprograms:
&gt; 
&gt; GNU grops &#40;groff&#41; version 1.21
&gt; GNU troff &#40;groff&#41; version 1.21
&gt; [perl] 521 $ perldoc -n /usr/local/bin/groff perl
&gt; 
&gt; PERL&#40;1&#41;               User Contributed Perl Documentation
&gt; PERL&#40;1&#41;
&gt; 
&gt; 
&gt; 
&gt; NAME
&gt;        perl - The Perl 5 language interpreter
&gt; 
&gt; SYNOPSIS
&gt;        perl [&lt;C2&gt;&lt;A0&gt;-sTtuUWX&lt;C2&gt;&lt;A0&gt;]
&gt; [&lt;C2&gt;&lt;A0&gt;-hv&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;
&gt; &lt;A0&gt;-V[:configvar]&lt;C2&gt;&lt;A0&gt;]
&gt; 
&gt; [&lt;C2&gt;&lt;A0&gt;-cw&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-d[t][:debugger]&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;
&gt; &lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-D[number/list]&lt;C2&gt;&lt;A0&gt;]
&gt; 
&gt; [&lt;C2&gt;&lt;A0&gt;-pna&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-Fpattern&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[
&gt; &lt;C2&gt;&lt;A0&gt;-l[octal]&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-
&gt; 0[octal/hexadecimal]&lt;C2&gt;&lt;A0&gt;]
&gt; 
&gt; [&lt;C2&gt;&lt;A0&gt;-Idir&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-m[-]module&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;
&gt; [&lt;C2&gt;&lt;A0&gt;-M[-]&#39;module...&#39;&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;-f&lt;C2&gt;&lt;A0&gt;]
&gt;             [&lt;C2&gt;&lt;A0&gt;-C&lt;C2&gt;&lt;A0&gt;[number/list]&lt;C2&gt;&lt;A0&gt;]
&gt; [&lt;C2&gt;&lt;A0&gt;-S&lt;C2&gt;&lt;A0&gt;]
&gt;      [&lt;C2&gt;&lt;A0&gt;-x[dir]&lt;C2&gt;&lt;A0&gt;]
&gt;             [&lt;C2&gt;&lt;A0&gt;-i[extension]&lt;C2&gt;&lt;A0&gt;]
&gt; 
&gt; [&lt;C2&gt;&lt;A0&gt;[-e|-E]&lt;C2&gt;&lt;A0&gt;&#39;command&#39;&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;--&lt;C2&gt;
&gt;
</div>&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;programfile&lt;C2&gt;&lt;A0&gt;]&lt;C2&gt;&lt;A0&gt;[&lt;C2&gt;&lt;A0&gt;argument&lt;C2&gt;&lt;A0&gt;]...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; So the problem is worse than I thought.
</div>
Pod-Perldoc maintainers:  Is there any hope that this problem will be
fixed in time for Perl 5.18?

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;16&nbsp;21:48:20&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Pod-Perldoc maintainers:  Is there any hope that this problem will be
&gt; fixed in time for Perl 5.18?
</div>
Yes, that&#39;s the plan. I hope to have a new version which closes all &#40;or many&#41; tickets ready to put 
in blead around February 1st-ish.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;27&nbsp;19:58:00&nbsp;2013</span>
    <span class="description">jkeenan [...] cpan.org -  Cc JKEENAN added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;27&nbsp;23:00:28&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 14 19:44:36 2013, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Pod-Perldoc maintainers:  Is there any hope that this problem will be
&gt; fixed in time for Perl 5.18?
</div>
Committed in 6e1541d. I will be releasing 3.18 to CPAN shortly.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;27&nbsp;23:00:47&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;27&nbsp;23:17:17&nbsp;2013</span>
    <span class="description">c.nehren [...] shadowcat.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #77465] Forcing UTF8 causes formatting issues on slightly older groffs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 27 Jan 2013 23:18:37 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Mark Allen via RT &lt;bug-Pod-Perldoc [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nehren &lt;c.nehren [...] shadowcat.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Jan 27, 2013 at 23:00:29 -0500 , Mark Allen via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77465">https://rt.cpan.org/Ticket/Display.html?id=77465</a></span> &gt;
&gt; 
&gt; On Mon Jan 14 19:44:36 2013, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; Pod-Perldoc maintainers:  Is there any hope that this problem will be
&gt; &gt; fixed in time for Perl 5.18?
</div>&gt; 
&gt; Committed in 6e1541d. I will be releasing 3.18 to CPAN shortly.
</div>
\o/ Thank you! I&#39;ve tested this and it does indeed render things as I&#39;d
expect. For reference, in case you are curious:

GNU groff version 1.19.2
Copyright &#40;C&#41; 2004 Free Software Foundation, Inc.
GNU groff comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of groff and its subprograms
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING.

called subprograms:

GNU grops &#40;groff&#41; version 1.19.2
GNU troff &#40;groff&#41; version 1.19.2

This is the version where I see problms. This is as-shipped for both
FreeBSD 9.1 &#40;9.0 when I first filed the bug, I think&#41; and OS X 10.8.2.

-- 
Chris Nehren
Shadowcat Alumnus
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;27&nbsp;23:17:18&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;11:32:18&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Great. Thanks for the followup.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;11:32:19&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;20:23:25&nbsp;2013</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Unfortunately, this doesn&#39;t solve *all* the problems I&#39;ve seen with
respect to perldoc.  However, in the interest of giving the maintainers
a respite and of moving the discussion forward, I&#39;ll open a separate
ticket once I&#39;ve had time to assess the remaining problems.  Thanks for
all your work to date.

Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;20:23:26&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;22:03:32&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 28 20:23:25 2013, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately, this doesn&#39;t solve *all* the problems I&#39;ve seen with
&gt; respect to perldoc.  However, in the interest of giving the maintainers
&gt; a respite and of moving the discussion forward, I&#39;ll open a separate
&gt; ticket once I&#39;ve had time to assess the remaining problems.  Thanks for
&gt; all your work to date.
</div>
OK.  I&#39;m already aware of some of the UTF8 problems reported by the
Spanish translation team. Are there other problems?

By the way, I just uploaded a developer release of Perldoc which
replaces the default formatter &#40;Pod::Man on Unix/Linux&#41; with
Pod::Test::Termcap. The default formatter for Win32 and VMS remains
Pod::Text.

My experience trying to finagle Pod::Man to reliably output UTF8 is
vastly complicated by the interaction between perl itself, any given
terminal program, Pod::Man, and the nroff implementation on a given Unix
flavor.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;20&nbsp;11:28:03&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;May&nbsp;20&nbsp;11:28:03&nbsp;2013</span>
    <span class="description">mrallen1 [...] yahoo.com -  Fixed in 3.19 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
