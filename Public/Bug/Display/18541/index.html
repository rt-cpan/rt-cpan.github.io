<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18541 for DBD-Oracle: \r is stripped in Oracle 9</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18541 for DBD-Oracle: \r is stripped in Oracle 9</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBD-Oracle">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBD-Oracle">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBD-Oracle">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBD-Oracle">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/pythian/DBD-Oracle/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-Oracle">DBD-Oracle CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18541</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBD-Oracle">DBD-Oracle</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
HMBRAND [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-10192-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10193-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




OraNull.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/195638/71832/OraNull.txt">
Mon May 15 08:35:23 2006 (1.4k) by HMBRAND [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=18541">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-183264" href="/Public/Bug/Display.html?id=18541#txn-183264">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;04&nbsp;15:23:34&nbsp;2006</span>
    <span class="description">HMBRAND [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/183264/64480/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/64480">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Trailing \r characters are trimmed on varchar2 fields.

HP-UX 11.11
Oracle 9.2.0
perl-5.8.5-64all-dor
DBI-1.50
DBD::Oracle-1.17

DBD::Oracle states:
--8&lt;---
ORA_VARCHAR2
              Strip trailing spaces and allow embedded \0 bytes.  This 
is
              the normal default placeholder type.
--&gt;8---

No mention of \r

Script:
--8&lt;--- dd.pl
#!/pro/bin/perl

use strict;
use warnings;

use DBI;

my %attr = &#40;
    RaiseError          =&gt; 1,
    PrintError          =&gt; 1,
    AutoCommit          =&gt; 0,
    ChopBlanks          =&gt; 0,
    ShowErrorStatement  =&gt; 1,
    FetchHashKeyName    =&gt; &#34;NAME_lc&#34;,
    &#41;;

my $up = $ENV{DBUSER} || $ENV{ORACLE_USERID};
my $dbh = DBI-&gt;connect &#40;&#34;DBI:Oracle:&#34;, &#40;split m:/: =&gt; $up&#41;, \%attr&#41; or
    die &#34;connect: $!&#34;;

$dbh-&gt;do &#40;q;
    create table x_cr &#40;
        k_xx varchar2 &#40;8&#41;,
        c_xx numeric  &#40;9&#41;,
        xx   varchar2 &#40;255&#41;
        &#41;;&#41;;
$dbh-&gt;commit;

foreach my $xx &#40;
        &#40;pack &#34;C&#34;, 13&#41;,
        &#40;pack &#34;CC&#34;, 1, 13&#41;,
        &#40;pack &#34;CC&#34;, 13, 13&#41;,
        &#40;pack &#34;CCC&#34;, 1, 13, 0&#41;,
        &#41; {
    my $sth = $dbh-&gt;prepare &#40;&#34;insert into x_cr values &#40;?, ?, ?&#41;&#34;&#41;;
    $sth-&gt;execute &#40;&#34;zzz&#34;, 13, $xx&#41;;
    $dbh-&gt;commit;
    }

my $sts = $dbh-&gt;prepare &#40;&#34;select * from x_cr&#34;&#41;;
my &#40;$k, $c, $x&#41;;
$sts-&gt;execute;
$sts-&gt;bind_columns &#40;\&#40;$k, $c, $x&#41;&#41;;
while &#40;$sts-&gt;fetch&#41; {
    for &#40;$k, $c, $x&#41; {
        my $l = length $_;
        print &#34;&#39;$_&#39;, &#40;$l&#41;\n&#34;;
        my @x = split //, $_, -1;
        print &#34;&gt;&gt; &#34;, &#40;map { sprintf &#34;0x%02x &#34;, ord $x[$_] } 0 .. &#40;$l - 1
&#41;&#41;, &#34;\n&#34;;
        }
    print &#34;---\n&#34;;
    }
$sts-&gt;finish;

$dbh-&gt;commit;
$dbh-&gt;do &#40;&#34;drop table x_cr&#34;&#41;;
$dbh-&gt;commit;
$dbh-&gt;disconnect;
--&gt;8---

Output:
bev r3:/tmp 136 &gt; perl dd.pl
&#39;zzz&#39;, &#40;3&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x7a 0x7a 0x7a
</div>&#39;13&#39;, &#40;2&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x31 0x33
</div>Use of uninitialized value in length at dd.pl line 46.
Use of uninitialized value in concatenation &#40;.&#41; or string at dd.pl line 
47.
&#39;&#39;, &#40;0&#41;
Use of uninitialized value in split at dd.pl line 48.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;
</div>---
&#39;zzz&#39;, &#40;3&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x7a 0x7a 0x7a
</div>&#39;13&#39;, &#40;2&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x31 0x33
</div>&#39;&#39;, &#40;1&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x01
</div>---
&#39;zzz&#39;, &#40;3&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x7a 0x7a 0x7a
</div>&#39;13&#39;, &#40;2&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x31 0x33
</div>Use of uninitialized value in length at dd.pl line 46.
Use of uninitialized value in concatenation &#40;.&#41; or string at dd.pl line 
47.
&#39;&#39;, &#40;0&#41;
Use of uninitialized value in split at dd.pl line 48.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;
</div>---
&#39;zzz&#39;, &#40;3&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x7a 0x7a 0x7a
</div>&#39;13&#39;, &#40;2&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x31 0x33
</div>&#39;, &#40;3&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt; 0x01 0x0d 0x00
</div>---

A DBI trace shows me for the first &#40;pack &#34;C&#34;, 13&#41; insert:
--8&lt;---
    DBI 1.50-nothread default trace level set to 0x0/9 &#40;pid 18857&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">    &gt;&gt; execute     DISPATCH &#40;DBI::st=HASH&#40;0x80000001002dc208&#41; rc1/1 @4 g
</div>0 ima1041 pid#18857&#41; at dd.pl line 37
&#39;&#41;  -&gt; execute for DBD::Oracle::st &#40;DBI::st=HASH&#40;0x80000001002dc208&#41;~0x
80000001002db970 &#39;zzz&#39; 13 &#39;
       bind :p1 &lt;== &#39;zzz&#39; &#40;type 0&#41;
       rebinding :p1 &#40;not-utf8, ftype 1, csid 0, csform 0, inout 0&#41;
       bind :p1 &lt;== &#39;zzz&#39; &#40;size 3/4/0, ptype 4, otype 1&#41;
       bind :p1 &lt;== &#39;zzz&#39; &#40;size 3/3, otype 1, indp 0, at_exec 1&#41;
        OCIBindByName&#40;8000000100336140,800000010034c5c8,800000010032d5a
8,&#34;:p1&#34;,3,80000001003c3d20,3,1,800000010034c5e2,0,800000010034c5e0,0,0,
2&#41;=SUCCESS
        OCIBindDynamic&#40;8000000100335b38,800000010032d5a8,800000010034c
590,800003fffef2a2a0,800000010034c590,800003fffef2a610&#41;=SUCCESS
        OCIAttrGet&#40;8000000100335b38,OCI_HTYPE_BIND,800000010034c5ac,0,
31,800000010032d5a8&#41;=SUCCESS
       bind :p1 &lt;== &#39;zzz&#39; &#40;in, not-utf8, csid 1-&gt;0-&gt;1, ftype 1, csform 0
-&gt;0, maxlen 3, maxdata_size 0&#41;
        OCIAttrSet&#40;8000000100335b38,OCI_HTYPE_BIND,800003fffeff2c0a,0,
31,800000010032d5a8&#41;=SUCCESS
       bind :p2 &lt;== 13 &#40;type 0&#41;
       rebinding :p2 &#40;not-utf8, ftype 1, csid 0, csform 0, inout 0&#41;
       bind :p2 &lt;== 13 &#40;size 2/3/0, ptype 5, otype 1&#41;
       bind :p2 &lt;== &#39;13&#39; &#40;size 2/2, otype 1, indp 0, at_exec 1&#41;
        OCIBindByName&#40;8000000100336140,80000001003c2670,800000010032d5a
8,&#34;:p2&#34;,3,80000001003c41a8,2,1,80000001003c268a,0,80000001003c2688,0,0,
2&#41;=SUCCESS
        OCIBindDynamic&#40;8000000100335a80,800000010032d5a8,80000001003c
2638,800003fffef2a2a0,80000001003c2638,800003fffef2a610&#41;=SUCCESS
        OCIAttrGet&#40;8000000100335a80,OCI_HTYPE_BIND,80000001003c2654,0,
31,800000010032d5a8&#41;=SUCCESS
       bind :p2 &lt;== 13 &#40;in, not-utf8, csid 1-&gt;0-&gt;1, ftype 1, csform 0-&gt;
0, maxlen 2, maxdata_size 0&#41;
        OCIAttrSet&#40;8000000100335a80,OCI_HTYPE_BIND,800003fffeff2c0a,0,
31,800000010032d5a8&#41;=SUCCESS
&#39; &#40;type 0&#41;d :p3 &lt;== &#39;
       rebinding :p3 &#40;not-utf8, ftype 1, csid 0, csform 0, inout 0&#41;
&#39; &#40;size 1/2/0, ptype 4, otype 1&#41;
&#39; &#40;size 1/1, otype 1, indp 0, at_exec 1&#41;
        OCIBindByName&#40;8000000100336140,80000001003c2b10,800000010032d5a
8,&#34;:p3&#34;,3,80000001003c41e8,1,1,80000001003c2b2a,0,80000001003c2b28,0,0,
2&#41;=SUCCESS
        OCIBindDynamic&#40;80000001003359c8,800000010032d5a8,80000001003c2ad
8,800003fffef2a2a0,80000001003c2ad8,800003fffef2a610&#41;=SUCCESS
        OCIAttrGet&#40;80000001003359c8,OCI_HTYPE_BIND,80000001003c2af4,0,
31,800000010032d5a8&#41;=SUCCESS
&#39; &#40;in, not-utf8, csid 1-&gt;0-&gt;1, ftype 1, csform 0-&gt;0, maxlen 1, maxdata_
size 0&#41;
        OCIAttrSet&#40;80000001003359c8,OCI_HTYPE_BIND,800003fffeff2c0a,0,
31,800000010032d5a8&#41;=SUCCESS
    dbd_st_execute INSERT &#40;out0, lob0&#41;...
       in  &#39;:p1&#39; [0,0]: len  3, ind 0
       in  &#39;:p2&#39; [0,0]: len  2, ind 0
       in  &#39;:p3&#39; [0,0]: len  1, ind 0
        OCIStmtExecute&#40;800000010032d4d8,8000000100336140,800000010032d5a
8,1,0,0,0,0&#41;=SUCCESS
        OCIAttrGet&#40;8000000100336140,OCI_HTYPE_STMT,800003fffeff2980,0,9,
800000010032d5a8&#41;=SUCCESS
        OCIAttrGet&#40;8000000100336140,OCI_HTYPE_STMT,800003fffeff29c8,0,
10,800000010032d5a8&#41;=SUCCESS
    dbd_st_execute INSERT returned &#40;SUCCESS, rpc1, fn3, out0&#41;
    &lt;- execute= 1 at dd.pl line 37
--&gt;8---

A clear length of 1 for :p3, and a success.

A trace on the login gives me
       charsetid=1 ncharsetid=1 &#40;csid: utf8=871 al32utf8=873&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-195618" href="/Public/Bug/Display.html?id=18541#txn-195618">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;15&nbsp;07:48:43&nbsp;2006</span>
    <span class="description">HMBRAND [...] cpan.org -  Subject changed from &#40;no value&#41; to &#39;\r is stripped in Oracle 9&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-195619" href="/Public/Bug/Display.html?id=18541#txn-195619">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;15&nbsp;07:59:12&nbsp;2006</span>
    <span class="description">HMBRAND [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/195619/71810/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/71810">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1012b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Extra Info:

Columns: 1st column is what I insert, second is what I get back
I hope RT doesn&#39;t compress blanks, as they are important here

Oracle-9.2.0/64 on HP-UX 11.11
 char &#40;4&#41;
  {ChopBlanks} = 0
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;    &#39;
   &#34; \r&#34;  &#39;    &#39;
  {ChopBlanks} = 1
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;&#39;
   &#34; \r&#34;  &#39;&#39;
 varchar2 &#40;4&#41;
  {ChopBlanks} = 0
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   NULL
   &#34; \r&#34;  NULL
  {ChopBlanks} = 1
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   NULL
   &#34; \r&#34;  NULL

Oracle-8.1.7/32 on HP-UX 11.00
 char &#40;4&#41;
  {ChopBlanks} = 0
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;\r   &#39;
   &#34; \r&#34;  &#39; \r  &#39;
  {ChopBlanks} = 1
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;\r&#39;
   &#34; \r&#34;  &#39; \r&#39;
 varchar2 &#40;4&#41;
  {ChopBlanks} = 0
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;\r&#39;
   &#34; \r&#34;  &#39; \r&#39;
  {ChopBlanks} = 1
   undef  NULL
   &#34;&#34;     NULL
   &#34; &#34;    NULL
   &#34;\r&#34;   &#39;\r&#39;
   &#34; \r&#34;  &#39; \r&#39;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-195621" href="/Public/Bug/Display.html?id=18541#txn-195621">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;15&nbsp;07:59:13&nbsp;2006</span>
    <span class="description">HMBRAND [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-195638" href="/Public/Bug/Display.html?id=18541#txn-195638">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;15&nbsp;08:35:22&nbsp;2006</span>
    <span class="description">HMBRAND [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/195638/71829/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/71829">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 73b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached should be a plain text file. Hope that keeps the format/spacing
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/195638/71832/OraNull.txt">Download OraNull.txt</a><br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Columns: 1st column is what I insert, second is what I get back
I hope RT doesn&#34;t compress blanks, as they are important here

Oracle-9.2.0/64 on HP-UX 11.11
 insert char &#40;4&#41;                undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    NULL    NULL    &#34;    &#34;    &#34;    &#34;
 select {ChopBlanks} = 1        NULL    NULL    NULL    &#34;&#34;        &#34;&#34;

 insert varchar2 &#40;4&#41;            undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    NULL    NULL    NULL      NULL
 select {ChopBlanks} = 1        NULL    NULL    NULL    NULL      NULL

Oracle-8.1.7/32 on HP-UX 11.00
 insert char &#40;4&#41;                undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    NULL    NULL    &#34;\r   &#34;   &#34; \r  &#34;
 select {ChopBlanks} = 1        NULL    NULL    NULL    &#34;\r&#34;      &#34; \r&#34;

 insert varchar2 &#40;4&#41;            undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    NULL    NULL    &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 1        NULL    NULL    NULL    &#34;\r&#34;      &#34; \r&#34;


What I expect in *ANY* &#40;or every&#41; Database:
 insert char &#40;4&#41;                undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    &#34;    &#34;  &#34;    &#34;  &#34;\r   &#34;   &#34; \r  &#34;
 select {ChopBlanks} = 1        NULL    &#34;&#34;      &#34;&#34;      &#34;\r&#34;      &#34; \r&#34;

 insert varchar2 &#40;4&#41;            undef   &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 0        NULL    &#34;&#34;      &#34; &#34;     &#34;\r&#34;      &#34; \r&#34;
 select {ChopBlanks} = 1        NULL    &#34;&#34;      &#34;&#34;      &#34;\r&#34;      &#34; \r&#34;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-205464" href="/Public/Bug/Display.html?id=18541#txn-205464">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;08&nbsp;09:11:09&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> JScoles</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/205464/78215/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/78215">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 501b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 15 08:35:22 2006, HMBRAND wrote:
Looking at the pod I found this

ora_ph_type 

The default placeholder data type for the database session. The TYPE 
or &#34;ora_type&#34; attributes to &#34;bind_param&#34; in DBI and &#34;bind_param_inout&#34; 
in DBI override the data type for individual placeholders. The most 
frequent reason for using this attribute is to permit trailing spaces 
in values passed by placeholders.

Seems if you use this trailing spaces will be included otherwise 
Oracle will cut them off. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-212439" href="/Public/Bug/Display.html?id=18541#txn-212439">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;14:50:54&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/212439/83603/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/83603">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 196b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Looking at some other stuff on this is seems that some installs of 9.0.2
will strip the trailing spaces off. Cna your give me the exact oracle
install number with any pathces that may be involved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-247505" href="/Public/Bug/Display.html?id=18541#txn-247505">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;05&nbsp;13:38:19&nbsp;2006</span>
    <span class="description">champoux [...] pythian.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/247505/105928/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/105928">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 48b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Seems this was an Oracle version specific issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-247508" href="/Public/Bug/Display.html?id=18541#txn-247508">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;05&nbsp;13:38:20&nbsp;2006</span>
    <span class="description">champoux [...] pythian.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.501748</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
