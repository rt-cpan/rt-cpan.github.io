<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #89575 for Test-Kit: A Test::Kit module only seems to work in &#34;main&#34;?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #89575 for Test-Kit: A Test::Kit module only seems to work in &#34;main&#34;?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Kit">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Kit">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Kit">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Kit">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Kit">Test-Kit CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">89575</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Kit">Test-Kit</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ovid [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kaoru [...] slackwise.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-223398-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.101    </td>
  </tr>
  <tr id="CF-223399-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test-kit-kaoru-hack.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1276138/676038/test-kit-kaoru-hack.diff">
Thu Oct 17 09:53:14 2013 (2.5k) by kaoru [...] slackwise.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=89575">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1275899" href="/Public/Bug/Display.html?id=89575#txn-1275899">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;16&nbsp;16:30:06&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> A Test::Kit module only seems to work in &#34;main&#34;?</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1275899/675904/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/675904">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 407b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Some examples here:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/tree/master/02-main">https://github.com/kaoru/test-kit-broken-examples/tree/master/02-main</a></span>

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/tree/master/03-packages">https://github.com/kaoru/test-kit-broken-examples/tree/master/03-packages</a></span>

Am I getting something wrong here?

I&#39;ve looked at the code for Test::Kit and it seems to try to use caller&#40;&#41; to do the right thing and export everything into the right namespace... but I must admit I don&#39;t fully understand what it&#39;s doing!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1276138" href="/Public/Bug/Display.html?id=89575#txn-1276138">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;17&nbsp;09:53:14&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1276138/676037/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/676037">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I poked and prodded it in my usual semi-understanding way and came up with this diff...

######################################

--- /home/alex/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/Test/Kit.pm        2013-10-16 09:22:04.000000000 +0100
+++ 01-test-aggregate/lib/Test/Kit.pm   2013-10-17 14:23:29.000000000 +0100
@@ -103,7 +103,7 @@
 and excluding.  To do this, add a hashref after the module name with keys
 &#39;exclude&#39;, &#39;rename&#39;, or both.
 
-    use Test::Most 
+    use Test::Most
         &#39;Test::Something&#39; =&gt; {
             # or a scalar for just one
             exclude =&gt; [qw/ list of excluded functions/],
@@ -122,7 +122,7 @@
 
 sub import {
     my $class    = shift;
-    my $callpack = caller&#40;1&#41;;
+    my $callpack = $class-&gt;_get_callpack&#40;&#41;;
 
     my $basic_functions = namespace::clean-&gt;get_functions&#40;$class&#41;;
 
@@ -153,11 +153,44 @@
     return 1;
 }
 
+sub _get_callpack {
+    my $class = shift;
+
+    my $callpack;
+
+    # so, as far as I can tell, on Perl 5.14 and 5.16 at least, we have the
+    # following callstack...
+    #
+    # 1. Test::Kit::import,
+    # 2. MyTest::BEGIN
+    # 3. &#40;eval&#41;
+    # 4. &#40;eval&#41;
+    # 5. main::BEGIN
+    # 6. &#40;eval&#41;
+    #
+    # ... and we want to get the package name &#34;MyTest&#34; out of there.
+    # So, let&#39;s look for the first occurrence of BEGIN or something!
+
+    my @begins = grep { m/::BEGIN$/ }
+                 map  { &#40;caller&#40;$_&#41;&#41;[3] }
+                 1 .. 10;
+
+    if &#40;$begins[0] &#38;&#38; $begins[0] =~ m/^ &#40;.+&#41; ::BEGIN $/msx&#41; {
+        $callpack = $1;
+    }
+    else {
+        die &#34;Unable to determine callpack for some reason...&#34;;
+    }
+
+    return $callpack;
+}
+
 sub _setup_import {
     my &#40; $class, $features &#41; = @_;
-    my $callpack = caller&#40;1&#41;;              # this is the composed test package
+    my $callpack = $class-&gt;_get_callpack&#40;&#41;;
     my $import   = &#34;$callpack\::import&#34;;
     my $isa      = &#34;$callpack\::ISA&#34;;
+    my $export   = &#34;$callpack\::EXPORT&#34;;
     no strict &#39;refs&#39;;
     if &#40; defined &#38;$import &#41; {
         Carp::croak&#40;&#34;Class $callpack must not define an &#38;import method&#34;&#41;;
@@ -166,9 +199,20 @@
         unshift @$isa =&gt; &#39;Test::Kit::Features&#39;;
         *$import = sub {
             my &#40; $class, @args &#41; = @_;
+
             @args = $class-&gt;BUILD&#40;@args&#41; if $class-&gt;can&#40;&#39;BUILD&#39;&#41;;
             @args = $class-&gt;_setup_features&#40; $features, @args &#41;;
             @_ = &#40; $class, @args &#41;;
+
+            no strict &#39;refs&#39;;
+            @$export = keys %{ namespace::clean-&gt;get_functions&#40;$class&#41; };
+
+            # HACK!
+            @$export = grep { $_ ne &#39;import&#39; } @$export;
+            @$export = grep { $_ ne &#39;BEGIN&#39;  } @$export;
+            push @$export, &#39;$TODO&#39;;
+            # END HACK!
+
             goto &#38;Test::Builder::Module::import;
         };
     }

######################################

There&#39;s really two changes here:

1. We call _get_callpack&#40;&#41; instead of caller&#40;1&#41;, which correctly gets the name of the class that is using Test::Kit in all cases.

2. We set @EXPORT on that class before goto&#39;ing to Test::Builder::Module::import so that Test::Builder::Module::import&#40;&#41; &#40;which is really just Exporter::import&#40;&#41;&#41; actually exports some functions.


Not sure if this is the expected behaviour or the nicest/cleanest/most-fitting-in implementation of those two fixes... but as far as I can tell it makes these cases work!


Unfortunately it doesn&#39;t pass all the tests in the current test suite... basic.t is failing to compile &#40;or rather, failing during BEGIN&#41; and exceptions.t is catching a differently named exception now.

Will look into those at some point, unless you want to jump in :-&#41;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test-kit-kaoru-hack.diff</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1276138/676038/test-kit-kaoru-hack.diff">Download test-kit-kaoru-hack.diff</a><br />
<span class="downloadcontenttype">text/x-diff 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- /home/alex/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/Test/Kit.pm	2013-10-16 09:22:04.000000000 +0100
+++ 01-test-aggregate/lib/Test/Kit.pm	2013-10-17 14:23:29.000000000 +0100
@@ -103,7 +103,7 @@
 and excluding.  To do this, add a hashref after the module name with keys
 &#39;exclude&#39;, &#39;rename&#39;, or both.
 
-    use Test::Most 
+    use Test::Most
         &#39;Test::Something&#39; =&gt; {
             # or a scalar for just one
             exclude =&gt; [qw/ list of excluded functions/],
@@ -122,7 +122,7 @@
 
 sub import {
     my $class    = shift;
-    my $callpack = caller&#40;1&#41;;
+    my $callpack = $class-&gt;_get_callpack&#40;&#41;;
 
     my $basic_functions = namespace::clean-&gt;get_functions&#40;$class&#41;;
 
@@ -153,11 +153,44 @@
     return 1;
 }
 
+sub _get_callpack {
+    my $class = shift;
+
+    my $callpack;
+
+    # so, as far as I can tell, on Perl 5.14 and 5.16 at least, we have the
+    # following callstack...
+    #
+    # 1. Test::Kit::import,
+    # 2. MyTest::BEGIN
+    # 3. &#40;eval&#41;
+    # 4. &#40;eval&#41;
+    # 5. main::BEGIN
+    # 6. &#40;eval&#41;
+    #
+    # ... and we want to get the package name &#34;MyTest&#34; out of there.
+    # So, let&#39;s look for the first occurrence of BEGIN or something!
+
+    my @begins = grep { m/::BEGIN$/ }
+                 map  { &#40;caller&#40;$_&#41;&#41;[3] }
+                 1 .. 10;
+
+    if &#40;$begins[0] &#38;&#38; $begins[0] =~ m/^ &#40;.+&#41; ::BEGIN $/msx&#41; {
+        $callpack = $1;
+    }
+    else {
+        die &#34;Unable to determine callpack for some reason...&#34;;
+    }
+
+    return $callpack;
+}
+
 sub _setup_import {
     my &#40; $class, $features &#41; = @_;
-    my $callpack = caller&#40;1&#41;;              # this is the composed test package
+    my $callpack = $class-&gt;_get_callpack&#40;&#41;;
     my $import   = &#34;$callpack\::import&#34;;
     my $isa      = &#34;$callpack\::ISA&#34;;
+    my $export   = &#34;$callpack\::EXPORT&#34;;
     no strict &#39;refs&#39;;
     if &#40; defined &#38;$import &#41; {
         Carp::croak&#40;&#34;Class $callpack must not define an &#38;import method&#34;&#41;;
@@ -166,9 +199,20 @@
         unshift @$isa =&gt; &#39;Test::Kit::Features&#39;;
         *$import = sub {
             my &#40; $class, @args &#41; = @_;
+
             @args = $class-&gt;BUILD&#40;@args&#41; if $class-&gt;can&#40;&#39;BUILD&#39;&#41;;
             @args = $class-&gt;_setup_features&#40; $features, @args &#41;;
             @_ = &#40; $class, @args &#41;;
+
+            no strict &#39;refs&#39;;
+            @$export = keys %{ namespace::clean-&gt;get_functions&#40;$class&#41; };
+
+            # HACK!
+            @$export = grep { $_ ne &#39;import&#39; } @$export;
+            @$export = grep { $_ ne &#39;BEGIN&#39;  } @$export;
+            push @$export, &#39;$TODO&#39;;
+            # END HACK!
+
             goto &#38;Test::Builder::Module::import;
         };
     }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1276474" href="/Public/Bug/Display.html?id=89575#txn-1276474">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;18&nbsp;12:05:30&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1276474/676219/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/676219">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 816b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Updated my fix so that the current Test::Kit test suite also passes.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commits/master">https://github.com/kaoru/test-kit-broken-examples/commits/master</a></span>

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commit/324f69055af1627cc0e279c785808e0d8b0ee0d7">https://github.com/kaoru/test-kit-broken-examples/commit/324f69055af1627cc0e279c785808e0d8b0ee0d7</a></span> - fixes basic.t

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commit/7861396fc3e852b4ca2954ca18df11d76c1e34a0">https://github.com/kaoru/test-kit-broken-examples/commit/7861396fc3e852b4ca2954ca18df11d76c1e34a0</a></span> - fixes exceptions.t

With all my tests still passing too.

==================

Still probably needs some fixing and tidying up since it&#39;s entirely possible that half my changes were bad, confusing, no-op type changes that just happened to not break things too badly despite them being entirely wrong.

The @EXPORT setting I think is good. The implementation of _get_callpack&#40;&#41; could probably use some work by somebody who understands Perl call stacks better than me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1298835" href="/Public/Bug/Display.html?id=89575#txn-1298835">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;05&nbsp;16:07:33&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1298835/688072/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688072">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 554b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey Curtis,

After seeing Matt Trout&#39;s talk on Import::Into at LPW on Saturday I realised it might be perfect for Test::Kit.

I&#39;ve started on a branch in my test-kit-broken-examples repo here:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/tree/import-into">https://github.com/kaoru/test-kit-broken-examples/tree/import-into</a></span>

It allowed me to delete a whole load of my hacky and poorly thought through code! So far all my tests are passing, but parts of the original test suite are still failing because I didn&#39;t implement excluded functions yet.

Will keep hacking on it. Let me know if you have any input :-&#41;

- Alex
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1298892" href="/Public/Bug/Display.html?id=89575#txn-1298892">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;05&nbsp;17:44:23&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1298892/688100/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688100">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 541b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Aaand now the full original Test::Kit test suite passes on my branch...

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/tree/import-into">https://github.com/kaoru/test-kit-broken-examples/tree/import-into</a></span>

Ok, so I did delete one of the exceptions.t tests...

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commit/73a6f36ecce629f2036f174fb9d65c6b1203829b">https://github.com/kaoru/test-kit-broken-examples/commit/73a6f36ecce629f2036f174fb9d65c6b1203829b</a></span>

But as I wrote in the commit message, I&#39;m pretty sure it&#39;s not relevant anyway. Test::Kit no longer creates an import method in your class, it just causes your class to export things without an import method, or something... I think? It&#39;s late :-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1298894" href="/Public/Bug/Display.html?id=89575#txn-1298894">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;05&nbsp;17:53:30&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1298894/688102/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688102">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 05 17:44:23 2013, KAORU wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But as I wrote in the commit message, I&#39;m pretty sure it&#39;s not
&gt; relevant anyway. Test::Kit no longer creates an import method in your
&gt; class, it just causes your class to export things without an import
&gt; method, or something... I think? It&#39;s late :-&#41;
</div>
Yeah it clearly was late, because that was clearly a load of rubbish.

But I still think it doesn&#39;t ever export &#38;import so I don&#39;t know quite what that test is trying to do.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1298900" href="/Public/Bug/Display.html?id=89575#txn-1298900">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;05&nbsp;18:04:37&nbsp;2013</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1298900/688107/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688107">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oh, I see it now... that test was rendered redundant by one of my earlier hacks!

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commit/8011d219caeb559a5fe86231cf3d7b152330e1cb#diff-d931e82b1b5f2afa8bae64265d1e72bfR221">https://github.com/kaoru/test-kit-broken-examples/commit/8011d219caeb559a5fe86231cf3d7b152330e1cb#diff-d931e82b1b5f2afa8bae64265d1e72bfR221</a></span>

If I remove that hack then my 03-packages test directory starts to fail:

alex@yuzu:~/Documents/Git/stuff/test-kit-broken-examples$ git diff
diff --git a/Kit.pm b/Kit.pm
index 61bcf92..e9ece57 100644
--- a/Kit.pm
+++ b/Kit.pm
@@ -294,8 +294,6 @@ sub _setup_import {
             @$export = keys %{ namespace::clean-&gt;get_functions&#40;$class&#41; };
 
             # HACK!
-            @$export = grep { $_ ne &#39;import&#39; } @$export;
-            @$export = grep { $_ ne &#39;BEGIN&#39;  } @$export;
             push @$export, &#39;$TODO&#39;;
             # END HACK!
 
alex@yuzu:~/Documents/Git/stuff/test-kit-broken-examples$ cd 03-packages ; prove -l *.t
bad.t ... Can&#39;t locate object method &#34;_setup_features&#34; via package &#34;AnotherModule&#34; at /home/alex/Documents/Git/stuff/test-kit-broken-examples/03-packages/lib/Test/Kit.pm line 290.
BEGIN failed--compilation aborted at bad.t line 2.
bad.t ... Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
No subtests run 
good.t .. ok   



If I remove the &#39;$TODO&#39; hack as well then t/compose.t from the original Test::Kit test suite starts to fail too.

*shrug*

Two step forwards, one step back! Will give it another look over sometime soon I&#39;m sure.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1299044" href="/Public/Bug/Display.html?id=89575#txn-1299044">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;06&nbsp;05:21:22&nbsp;2013</span>
    <span class="description">curtis_ovid_poe [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89575] A Test::Kit module only seems to work in &#34;main&#34;?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Dec 2013 02:18:29 -0800 &#40;PST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Test-Kit [...] rt.cpan.org&#34; &lt;bug-Test-Kit [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ovid &lt;curtis_ovid_poe [...] yahoo.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1299044/688189/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688189">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Alex,

This sounds awesome! I am, however, in New York at the moment, so I won&#39;t be able to look at this much until I get back. Looking forward to this, though!
 
Best,
Ovid
--
IT consulting, training, international recruiting
       <span class="clickylink"><a target="new" rel="nofollow" href="http://www.allaroundtheworld.fr/">http://www.allaroundtheworld.fr/</a></span>.
Buy my book! - <span class="clickylink"><a target="new" rel="nofollow" href="http://bit.ly/beginning_perl">http://bit.ly/beginning_perl</a></span>
Live and work overseas - <span class="clickylink"><a target="new" rel="nofollow" href="http://www.overseas-exile.com/">http://www.overseas-exile.com/</a></span>



On Thursday, 5 December 2013, 18:31, Alex Balhatchet via RT &lt;bug-Test-Kit@rt.cpan.org&gt; wrote:
 
       Queue: Test-Kit
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=89575">https://rt.cpan.org/Ticket/Display.html?id=89575</a></span> &gt;
&gt;
&gt;Oh, I see it now... that test was rendered redundant by one of my earlier hacks!
&gt;
&gt;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/test-kit-broken-examples/commit/8011d219caeb559a5fe86231cf3d7b152330e1cb#diff-d931e82b1b5f2afa8bae64265d1e72bfR221">https://github.com/kaoru/test-kit-broken-examples/commit/8011d219caeb559a5fe86231cf3d7b152330e1cb#diff-d931e82b1b5f2afa8bae64265d1e72bfR221</a></span>
&gt;
&gt;If I remove that hack then my 03-packages test directory starts to fail:
&gt;
&gt;alex@yuzu:~/Documents/Git/stuff/test-kit-broken-examples$ git diff
&gt;diff --git a/Kit.pm b/Kit.pm
&gt;index 61bcf92..e9ece57 100644
&gt;--- a/Kit.pm
&gt;+++ b/Kit.pm
&gt;@@ -294,8 +294,6 @@ sub _setup_import {
&gt;             @$export = keys %{ namespace::clean-&gt;get_functions&#40;$class&#41; };
&gt;
&gt;             # HACK!
&gt;-            @$export = grep { $_ ne &#39;import&#39; } @$export;
&gt;-            @$export = grep { $_ ne &#39;BEGIN&#39;  } @$export;
&gt;             push @$export, &#39;$TODO&#39;;
&gt;             # END HACK!
&gt;
&gt;alex@yuzu:~/Documents/Git/stuff/test-kit-broken-examples$ cd 03-packages ; prove -l *.t
&gt;bad.t ... Can&#39;t locate object method &#34;_setup_features&#34; via package &#34;AnotherModule&#34; at /home/alex/Documents/Git/stuff/test-kit-broken-examples/03-packages/lib/Test/Kit.pm line 290.
&gt;BEGIN failed--compilation aborted at bad.t line 2.
&gt;bad.t ... Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
&gt;No subtests run 
&gt;good.t .. ok  
&gt;
&gt;
&gt;
&gt;If I remove the &#39;$TODO&#39; hack as well then t/compose.t from the original Test::Kit test suite starts to fail too.
&gt;
&gt;*shrug*
&gt;
&gt;Two step forwards, one step back! Will give it another look over sometime soon I&#39;m sure.
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1299044/688190/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/688190">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1299045" href="/Public/Bug/Display.html?id=89575#txn-1299045">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;06&nbsp;05:21:22&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1352522" href="/Public/Bug/Display.html?id=89575#txn-1352522">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;19&nbsp;06:49:45&nbsp;2014</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1352522/717734/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/717734">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 500b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey Ovid,

Just moved flat which has given me some programming time while I wait for our internet connection to be installed ;-&#41;

I&#39;ve written a new module Test::Kit2 based on the issues I found with Test::Kit and the fixes I hacked in place. It&#39;s not up on CPAN yet but you can take a look on Github:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/Test-Kit2">https://github.com/kaoru/Test-Kit2</a></span>

There&#39;s still a few more tests I want to add before it wings its way to CPAN.

If you have a chance, take a look and let me know what you think.

Thanks,

- Alex
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1352566" href="/Public/Bug/Display.html?id=89575#txn-1352566">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;19&nbsp;12:02:53&nbsp;2014</span>
    <span class="description">curtis_ovid_poe [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89575] A Test::Kit module only seems to work in &#34;main&#34;?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 19 Apr 2014 09:02:42 -0700 &#40;PDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Test-Kit [...] rt.cpan.org&#34; &lt;bug-Test-Kit [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ovid &lt;curtis_ovid_poe [...] yahoo.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1352566/717754/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/717754">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Alex,

Unlike you, I don&#39;t have tons of free time, so it&#39;s hard for me to keep up with my open source work. However, would you like to take over maintenance of Test::Kit? It might be the easiest way of resolving some issues.

Cheers,
Ovid 
--
IT consulting, training, international recruiting
       <span class="clickylink"><a target="new" rel="nofollow" href="http://www.allaroundtheworld.fr/">http://www.allaroundtheworld.fr/</a></span>.
Buy my book! - <span class="clickylink"><a target="new" rel="nofollow" href="http://bit.ly/beginning_perl">http://bit.ly/beginning_perl</a></span>
Live and work overseas - <span class="clickylink"><a target="new" rel="nofollow" href="http://www.overseas-exile.com/">http://www.overseas-exile.com/</a></span>
On Saturday, 19 April 2014, 12:49, Alex Balhatchet via RT &lt;bug-Test-Kit@rt.cpan.org&gt; wrote:
 
       Queue: Test-Kit
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=89575">https://rt.cpan.org/Ticket/Display.html?id=89575</a></span> &gt;
&gt;
&gt;Hey Ovid,
&gt;
&gt;Just moved flat which has given me some programming time while I wait for our internet connection to be installed ;-&#41;
&gt;
&gt;I&#39;ve written a new module Test::Kit2 based on the issues I found with Test::Kit and the fixes I hacked in place. It&#39;s not up on CPAN yet but you can take a look on Github:
&gt;
&gt;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/kaoru/Test-Kit2">https://github.com/kaoru/Test-Kit2</a></span>
&gt;
&gt;There&#39;s still a few more tests I want to add before it wings its way to CPAN.
&gt;
&gt;If you have a chance, take a look and let me know what you think.
&gt;
&gt;Thanks,
&gt;
&gt;- Alex
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1352566/717755/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/717755">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1353195" href="/Public/Bug/Display.html?id=89575#txn-1353195">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;22&nbsp;06:55:24&nbsp;2014</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1353195/718090/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/718090">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 595b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unlike you, I don&#39;t have tons of free time, so it&#39;s hard for me to
&gt; keep up with my open source work.
</div>
I can imagine, hope AAtW is going well!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; However, would you like to take over
&gt; maintenance of Test::Kit? It might be the easiest way of resolving
&gt; some issues.
</div>
Sure, if you want to ship me COMAINT on Test::Kit I can re-brand Test::Kit2 as Test::Kit 2.0 and send it down the pipes to CPAN.

Do you know of anybody using Test::Kit in the real world? Specifically in weird and/or wonderful ways? I&#39;d love to get a second pair of eyes on it before I release it. Maybe I&#39;ll try the prepan.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1363391" href="/Public/Bug/Display.html?id=89575#txn-1363391">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;15&nbsp;04:44:00&nbsp;2014</span>
    <span class="description">kaoru [...] slackwise.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1363391/723870/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/723870">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 49b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I believe this is fully resolved in Test::Kit 2.0
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1363393" href="/Public/Bug/Display.html?id=89575#txn-1363393">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;May&nbsp;15&nbsp;04:44:02&nbsp;2014</span>
    <span class="description">kaoru [...] slackwise.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.692585</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
