<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #92578 for Win32-FetchCommand: Win32::FetchCommand Test Failure</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #92578 for Win32-FetchCommand: Win32::FetchCommand Test Failure</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Win32-FetchCommand/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Win32-FetchCommand/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Win32-FetchCommand/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Win32-FetchCommand/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-FetchCommand">Win32-FetchCommand CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">92578</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Win32-FetchCommand/Active/">Win32-FetchCommand</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Smylers [...] stripey.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35518-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35519-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;30&nbsp;06:29:05&nbsp;2014</span>
    <span class="description">Smylers [...] stripey.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Win32::FetchCommand Test Failure</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Jan 2014 11:28:51 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-FetchCommand [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Smylers &lt;Smylers [...] stripey.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there. Thank you for producing Win32::TestCommand.

Unfortunately it seems that its tests fail on recent perls — though
after installing it without tests, the module itself still seems to be
working fine &#40;at least for my situation&#41;.

I was trying on Strawberry Perl v5.14. It looks like it hasn&#39;t worked
for any Cpan Testers on that or any more recent versions:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/distro/W/Win32-FetchCommand.html#Win32-FetchCommand-0.04?oncpan=1&#38;distmat=1">http://www.cpantesters.org/distro/W/Win32-FetchCommand.html#Win32-FetchCommand-0.04?oncpan=1&#38;distmat=1</a></span>

The first test that fails for me is this one:

  # The only appln we can be certain of is perl!
  $^E = 0;
  my @Cmd = FetchCommand &#40;&#39;config.pl&#39;&#41;;
  ok&#40;!$^E, &#39;os ext.error ok&#39;&#41;;

The FetchCommand returns the empty list, and $^E is set to “The system
could not find the environment option that was entered”.

Ironically, .pl is the only extension I&#39;ve found that FetchCommand
doesn&#39;t return the expected application. It works for .txt, .pdf, and so
on.

In Explorer my .pl files do have a camel icon, and running one from a
command prompt does invoke perl.exe on it. So it appears that .pl is
associated correctly on this system, but possibly it&#39;s done in some
other way than .txt and others have been done.

Either FetchCommand needs fixing so it manages to find perl.exe for .pl
files again, or those tests need skipping so the module can
straightforwardly be installed.

Cheers

Smylers
-- 
<span class="clickylink"><a target="new" rel="nofollow" href="http://twitter.com/Smylers2">http://twitter.com/Smylers2</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;30&nbsp;15:35:55&nbsp;2014</span>
    <span class="description">clive_darke [...] yahoo.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92578] Win32::FetchCommand Test Failure</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Jan 2014 20:32:43 +0000 &#40;GMT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Win32-FetchCommand [...] rt.cpan.org&#34; &lt;bug-Win32-FetchCommand [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clive Darke &lt;clive_darke [...] yahoo.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the heads-up, I&#39;ll try to find time to look into it.

Cheers,
Clive



On Thursday, 30 January 2014, 11:29, &#34;Smylers@stripey.com via RT&#34; &lt;bug-Win32-FetchCommand@rt.cpan.org&gt; wrote:
  
Thu Jan 30 06:29:05 2014: Request 92578 was acted upon.
Transaction: Ticket created by Smylers@stripey.com
       Queue: Win32-FetchCommand
     Subject: Win32::FetchCommand Test Failure
   Broken in: &#40;no value&#41;
    Severity: &#40;no value&#41;
       Owner: Nobody
  Requestors: Smylers@stripey.com
      Status: new
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=92578">https://rt.cpan.org/Ticket/Display.html?id=92578</a></span>&gt;


Hi there. Thank you for producing Win32::TestCommand.

Unfortunately it seems that its tests fail on recent perls — though
after installing it without tests, the module itself still seems to be
working fine &#40;at least for my situation&#41;.

I was trying on Strawberry Perl v5.14. It looks like it hasn&#39;t worked
for any Cpan Testers on that or any more recent versions:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/distro/W/Win32-FetchCommand.html#Win32-FetchCommand-0.04?oncpan=1&#38;distmat=1">http://www.cpantesters.org/distro/W/Win32-FetchCommand.html#Win32-FetchCommand-0.04?oncpan=1&#38;distmat=1</a></span>

The first test that fails for me is this one:

  # The only appln we can be certain of is perl!
  $^E = 0;
  my @Cmd = FetchCommand &#40;&#39;config.pl&#39;&#41;;
  ok&#40;!$^E, &#39;os ext.error ok&#39;&#41;;

The FetchCommand returns the empty list, and $^E is set to “The system
could not find the environment option that was entered”.

Ironically, .pl is the only extension I&#39;ve found that FetchCommand
doesn&#39;t return the expected application. It works for .txt, .pdf, and so
on.

In Explorer my .pl files do have a camel icon, and running one from a
command prompt does invoke perl.exe on it. So it appears that .pl is
associated correctly on this system, but possibly it&#39;s done in some
other way than .txt and others have been done.

Either FetchCommand needs fixing so it manages to find perl.exe for .pl
files again, or those tests need skipping so the module can
straightforwardly be installed.

Cheers

Smylers
-- 
<span class="clickylink"><a target="new" rel="nofollow" href="http://twitter.com/Smylers2">http://twitter.com/Smylers2</a></span>
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;30&nbsp;15:35:56&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;05&nbsp;11:32:39&nbsp;2014</span>
    <span class="description">Smylers [...] stripey.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92578] AutoReply: Win32::FetchCommand Test Failure</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Feb 2014 16:32:24 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Bugs in Win32-FetchCommand via RT &lt;bug-Win32-FetchCommand [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Smylers &lt;Smylers [...] stripey.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In Explorer my .pl files do have a camel icon, and running one from a
&gt; command prompt does invoke perl.exe on it. So it appears that .pl is
&gt; associated correctly on this system, but possibly it&#39;s done in some
&gt; other way than .txt and others have been done.
</div>
I checked the file-type associations for .pl, and ftype claims not to
know what to do with it:

  C:&gt;assoc .pl
  .pl=Perl_program_file
  C:&gt;ftype Perl_program_file
  File type &#39;Perl_program_file&#39; not found or no open command associated with it.

However, in Windows Explorer, double-clicking the file opens it with
perl.exe.

And indeed typing something like zap.pl at the prompt also runs perl.exe
on it.

So it looks like Windows itself gets confused about file associations,
or has two different lists of them or something.

This computer has had ActivePerl, DwimPerl, and Strawberry Perl
installed, and then ActivePerl uninstalled; any of those installers and
uninstallers could&#39;ve fiddled with the file associations, so it&#39;s
possible that I have a particularly non-standard set-up. However, the
Cpan Testers failures suggest that a default Strawberry Perl
installation is also affected by this.

Good luck with tracking it down.

Smylers
-- 
<span class="clickylink"><a target="new" rel="nofollow" href="http://twitter.com/Smylers2">http://twitter.com/Smylers2</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;05&nbsp;13:21:45&nbsp;2014</span>
    <span class="description">clive_darke [...] yahoo.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92578] AutoReply: Win32::FetchCommand Test Failure</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Feb 2014 18:21:34 +0000 &#40;GMT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Win32-FetchCommand [...] rt.cpan.org&#34; &lt;bug-Win32-FetchCommand [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clive Darke &lt;clive_darke [...] yahoo.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the extra info.  The original CPAN tests were failing because they had not done any file association.

Cheers,
Clive



On Wednesday, 5 February 2014, 16:32, &#34;Smylers@stripey.com via RT&#34; &lt;bug-Win32-FetchCommand@rt.cpan.org&gt; wrote:
  
       Queue: Win32-FetchCommand
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=92578">https://rt.cpan.org/Ticket/Display.html?id=92578</a></span>&gt;

I wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In Explorer my .pl files do have a camel icon, and running one from a
&gt; command prompt does invoke perl.exe on it. So it appears that .pl is
&gt; associated correctly on this system, but possibly it&#39;s done in some
&gt; other way than .txt and others have been done.
</div>
I checked the file-type associations for .pl, and ftype claims not to
know what to do with it:

  C:&gt;assoc .pl
  .pl=Perl_program_file
  C:&gt;ftype Perl_program_file
  File type &#39;Perl_program_file&#39; not found or no open command associated with it.

However, in Windows Explorer, double-clicking the file opens it with
perl.exe.

And indeed typing something like zap.pl at the prompt also runs perl.exe
on it.

So it looks like Windows itself gets confused about file associations,
or has two different lists of them or something.

This computer has had ActivePerl, DwimPerl, and Strawberry Perl
installed, and then ActivePerl uninstalled; any of those installers and
uninstallers could&#39;ve fiddled with the file associations, so it&#39;s
possible that I have a particularly non-standard set-up. However, the
Cpan Testers failures suggest that a default Strawberry Perl
installation is also affected by this.

Good luck with tracking it down.

Smylers
-- 
<span class="clickylink"><a target="new" rel="nofollow" href="http://twitter.com/Smylers2">http://twitter.com/Smylers2</a></span>
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
