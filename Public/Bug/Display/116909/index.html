<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #116909 for DateTime-TimeZone-Local-Win32: Tests easy to fall out of sync with DateTime::TimeZone</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #116909 for DateTime-TimeZone-Local-Win32: Tests easy to fall out of sync with DateTime::TimeZone</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone-Local-Win32/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone-Local-Win32/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone-Local-Win32/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DateTime-TimeZone-Local-Win32/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DateTime-TimeZone-Local-Win32">DateTime-TimeZone-Local-Win32 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">116909</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DateTime-TimeZone-Local-Win32/Active/">DateTime-TimeZone-Local-Win32</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">DAPINK [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-257596-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.91    </td>
  </tr>
  <tr id="CF-257597-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.92    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;15:23:57&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tests easy to fall out of sync with DateTime::TimeZone</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza">t\01-local-win32.t is currently failing on Strawberry Perl 5.20.1 on Windows 7 Ultimate.<br>

<br>

Four time zones cannot be found by t\01-local-win32.t<br>

* Altai Standard Time<br>

* Astrakhan Standard Time<br>

* Bougainville Standard Time<br>

* Tomsk Standard Time<br>

<br>

This is because I have DateTime::TimeZone 1.74 installed which doesn&#39;t know about these time zones. 2.01 has all these time zones (for example, Altai is DateTime::TimeZone::Asia::Barnaul).<br>

<br>

t\01-local-win32.t seems to test that DateTime::TimeZone knows about every time zone in the Windows registry. This would seem to guarantee test failure.<br>

<br>

I&#39;d recommend:<br>

* Only test at install time that the common time zones work.<br>

* Move the full check to an author test, use it to keep DateTime::TimeZone up to date.<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;15:43:09&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">PS You can see this failure in <span class="clickylink"><a target="new" rel="nofollow" href="https://ci.appveyor.com/project/HayoBaan/dist-zilla-pluginbundle-author-hayobaan/build/1.0.1">https://ci.appveyor.com/project/HayoBaan/dist-zilla-pluginbundle-author-hayobaan/build/1.0.1</a></span><br>

<br>

For some reason Dist::Zilla (which depends on DateTime) is pulling in DateTime::TimeZone::Local::Win32 but not updating DateTime::TimeZone.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;16:14:28&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-08-11 12:43:09, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; PS You can see this failure in
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://ci.appveyor.com/project/HayoBaan/dist-zilla-pluginbundle-">https://ci.appveyor.com/project/HayoBaan/dist-zilla-pluginbundle-</a></span>
&gt; author-hayobaan/build/1.0.1
&gt; 
&gt; For some reason Dist::Zilla &#40;which depends on DateTime&#41; is pulling in
&gt; DateTime::TimeZone::Local::Win32 but not updating DateTime::TimeZone.
</div>
Dist::Zilla has a Win32-specific prereq on DateTime::TimeZone::Local::Win32, but does not require any specific version of DateTime::TimeZone.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;16:14:28&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;20:57:34&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">On Thu Aug 11 16:14:28 2016, ETHER wrote:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dist::Zilla has a Win32-specific prereq on<br>

&gt; DateTime::TimeZone::Local::Win32, but does not require any specific<br>

&gt; version of DateTime::TimeZone.<br>
</div><br>

Now that DateTime::TimeZone depends on DateTime::TimeZone::Local::Win32, should anything depend directly on DateTime::TimeZone::Local::Win32?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;21:34:38&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">See <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rjbs/Dist-Zilla/pull/563">https://github.com/rjbs/Dist-Zilla/pull/563</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;21:50:36&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Turns out it&#39;s not Dist::Zilla&#39;s fault.<br>

<br>

Here&#39;s `cpanm DateTime::TimeZone` failing on a fresh Strawberry Perl.<br>

<span class="clickylink"><a target="new" rel="nofollow" href="https://ci.appveyor.com/project/schwern/dist-zilla/build/1.0.6">https://ci.appveyor.com/project/schwern/dist-zilla/build/1.0.6</a></span><br>

<br>

It&#39;s trying to install DateTime::TimeZone.<br>

<br>

0. An older version of DateTime::TimeZone is already installed (ships with Strawberry Perl).<br>

1. cpanm sees DateTime::TimeZone::Local::Win32 as a dependency.<br>

2. cpanm tests DateTime::TimeZone::Local::Win32.<br>

3. DateTime::TimeZone::Local::Win32 sees DateTime::TimeZone::Local is installed and runs its tests.<br>

4. The tests fail because the installed DateTime::TimeZone is out of date.<br>

<br>

That sort of circular dependency means DateTime::TimeZone::Local::Win32 can&#39;t usefully test itself until after DateTime::TimeZone is installed.<br>

<br>

I&#39;d recommend that...<br>

1) All but basic tests be moved into xt/<br>

2) The tests check for a minimum version of DateTime::TimeZone::Local<br>

3) Consider putting DateTime::TimeZone::Local::Win32 back into the DateTime::TimeZone dist.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;21:53:05&nbsp;2016</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 11 21:50:36 2016, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Turns out it&#39;s not Dist::Zilla&#39;s fault.
&gt; 
&gt; Here&#39;s `cpanm DateTime::TimeZone` failing on a fresh Strawberry Perl.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://ci.appveyor.com/project/schwern/dist-zilla/build/1.0.6">https://ci.appveyor.com/project/schwern/dist-zilla/build/1.0.6</a></span>
&gt; 
&gt; It&#39;s trying to install DateTime::TimeZone.
&gt; 
&gt; 0. An older version of DateTime::TimeZone is already installed &#40;ships
&gt; with
&gt; Strawberry Perl&#41;.
&gt; 1. cpanm sees DateTime::TimeZone::Local::Win32 as a dependency.
&gt; 2. cpanm tests DateTime::TimeZone::Local::Win32.
&gt; 3. DateTime::TimeZone::Local::Win32 sees DateTime::TimeZone::Local is
&gt; installed
&gt; and runs its tests.
&gt; 4. The tests fail because the installed DateTime::TimeZone is out of
&gt; date.
&gt; 
&gt; That sort of circular dependency means
&gt; DateTime::TimeZone::Local::Win32 can&#39;t
&gt; usefully test itself until after DateTime::TimeZone is installed.
&gt; 
&gt; I&#39;d recommend that...
&gt; 1&#41; All but basic tests be moved into xt/
&gt; 2&#41; The tests check for a minimum version of DateTime::TimeZone::Local
&gt; 3&#41; Consider putting DateTime::TimeZone::Local::Win32 back into the
&gt; DateTime::TimeZone dist.
</div>
#3 is not an option. We moved it out specifically so someone who has Win32 knowledge can maintain it and release it on its own schedule, without depending on me. #1 and #2 sound reasonable to me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;22:23:43&nbsp;2016</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">1 and 2 done in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/dapink/DateTime-TimeZone-Local-Win32/pull/4">https://github.com/dapink/DateTime-TimeZone-Local-Win32/pull/4</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;11&nbsp;23:13:04&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-08-11 17:57:34, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 11 16:14:28 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; Dist::Zilla has a Win32-specific prereq on
&gt; &gt; DateTime::TimeZone::Local::Win32, but does not require any specific
&gt; &gt; version of DateTime::TimeZone.
</div>&gt; 
&gt; Now that DateTime::TimeZone depends on
&gt; DateTime::TimeZone::Local::Win32, should
&gt; anything depend directly on DateTime::TimeZone::Local::Win32?
</div>

The dependency was added to fix <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rjbs/Dist-Zilla/issues/497">https://github.com/rjbs/Dist-Zilla/issues/497</a></span>.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;01:37:35&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 11 22:23:43 2016, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1 and 2 done in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/dapink/DateTime-TimeZone-Local-">https://github.com/dapink/DateTime-TimeZone-Local-</a></span>
&gt; Win32/pull/4
</div>
I&#39;ve replicated the problem and know where to fix it, but I will not be accepting the code change. The test did check for a minimum DT-TZ version, but I simply made a mistake and used it where it was not intended.

I do not want to make the tests author tests for an important reason. At some point, Microsoft will introduce new time zones and if I fail to handle that case first, I want a test failure to pick it up. I&#39;ve reserved author tests for those cases where I depend on the time zones in the test OS to be up to date.

As far as the comment regarding the lexical variable possibly not working as intended, the use of &#34;local&#34; is to localize one of the values. See #3 under <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perlsub.html#When-to-Still-Use-local&#40;&#41;">http://perldoc.perl.org/perlsub.html#When-to-Still-Use-local&#40;&#41;</a></span>

I will plan to get a fix out in the next day or so after I verify whether other changes are needed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;01:37:40&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;15:43:46&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;15:43:46&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Broken in 1.91 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;17:29:28&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;17:29:34&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Fixed in 1.92 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;19:18:44&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-08-11 22:37:35, DAPINK wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I do not want to make the tests author tests for an important reason.
&gt; At some point, Microsoft will introduce new time zones and if I fail
&gt; to handle that case first, I want a test failure to pick it up. I&#39;ve
&gt; reserved author tests for those cases where I depend on the time zones
&gt; in the test OS to be up to date.
&gt; 
</div>
You could make the tests run on smokers &#40;that is, the machines running in the cpantesters infrastructure, that give us the PASS and FAIL reports&#41;, but still not block user installations, by checking for $ENV{AUTOMATED_TESTING}.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;12&nbsp;19:34:18&nbsp;2016</span>
    <span class="description">DAPINK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Aug 12 19:18:44 2016, ETHER wrote: 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You could make the tests run on smokers &#40;that is, the machines running
&gt; in the cpantesters infrastructure, that give us the PASS and FAIL
&gt; reports&#41;, but still not block user installations, by checking for
&gt; $ENV{AUTOMATED_TESTING}.
</div>
That makes a lot of sense. I&#39;ll create a new release with that change. Thanks. 
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
