<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #93340 for version: version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal   gives  v2_601.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #93340 for version: version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal   gives  v2_601.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/version/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/version/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/version/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/version/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/version">version CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">93340</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/version/Active/">version</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dolmen [...] cpan.org

<br />
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ether [...] cpan.org

<br />
LEONT [...] cpan.org

<br />
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-34940-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.9908    </td>
  </tr>
  <tr id="CF-34941-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.9911    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;07:19:25&nbsp;2014</span>
    <span class="description">dolmen [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal   gives  v2_601.0</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As reported by kentnl on IRC:

  $ perl -Mversion -E &#39;say version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#39; 
  v2_601.0


-- 
Olivier Mengu√© - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;08:25:32&nbsp;2014</span>
    <span class="description">KENTNL [...] cpan.org -  Requestor KENTNL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;08:25:32&nbsp;2014</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><p>
	And as a result, it doesn&#39;t round-trip either:</p>

<p>
	&nbsp;</p>

<p>
	perl -Mversion -E&#39;say version-&gt;parse(version-&gt;parse(q[2.6_01])-&gt;normal)-&gt;normal&#39;<br>

	Invalid version format (non-numeric data) at -e line 1.<br>

	&nbsp;</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;12:07:20&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Cc ETHER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;20:54:57&nbsp;2014</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 25 08:25:32 2014, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And as a result, it doesn&#39;t round-trip either:
&gt; 
&gt; perl -Mversion -E&#39;say
&gt; version-&gt;parse&#40;version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#41;-&gt;normal&#39;
&gt; Invalid version format &#40;non-numeric data&#41; at -e line 1.
</div>
If it&#39;s any consolation, the pure Perl code has precisely the same behavior. :-&#40;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;20:54:57&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;22:17:26&nbsp;2014</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 25 20:54:57 2014, JPEACOCK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Feb 25 08:25:32 2014, KENTNL wrote:
<div class="message-stanza open">&gt; &gt; And as a result, it doesn&#39;t round-trip either:
&gt; &gt;
&gt; &gt; perl -Mversion -E&#39;say
&gt; &gt; version-&gt;parse&#40;version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#41;-&gt;normal
&gt; &gt; Invalid version format &#40;non-numeric data&#41; at -e line 1.
</div></div>
Looking at this in detail, there is no possible way to convert that alpha string into an equivalent dotted-decimal form, let alone one that will round-trip.  I&#39;ve been regretting exposing normal&#40;&#41; and numify&#40;&#41; for years; I&#39;m thinking of releasing 1.0.0 and removing those functions from the public API entirely.

I&#39;m rejecting this bug.  I will not make this work.  I /will/ make it an error to call normal&#40;&#41; on a non-qv alpha version.  That is the only sensible thing to do.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;22:17:27&nbsp;2014</span>
    <span class="description">jpeacock [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;26&nbsp;01:20:53&nbsp;2014</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><p>
	On 2014-02-26 16:17:26, JPEACOCK wrote:<br>

	&gt; On Tue Feb 25 20:54:57 2014, JPEACOCK wrote:<br>

	&gt; &gt; On Tue Feb 25 08:25:32 2014, KENTNL wrote:<br>

	&gt; &gt; &gt; And as a result, it doesn&#39;t round-trip either:<br>

	&gt; &gt; &gt;<br>

	&gt; &gt; &gt; perl -Mversion -E&#39;say<br>

	&gt; &gt; &gt; version-&gt;parse(version-&gt;parse(q[2.6_01])-&gt;normal)-&gt;normal<br>

	&gt; &gt; &gt; Invalid version format (non-numeric data) at -e line 1.<br>

	&gt;<br>

	&gt; Looking at this in detail, there is no possible way to convert that<br>

	&gt; alpha string into an equivalent dotted-decimal form, let alone one<br>

	&gt; that will round-trip. I&#39;ve been regretting exposing normal() and<br>

	&gt; numify() for years; I&#39;m thinking of releasing 1.0.0 and removing those<br>

	&gt; functions from the public API entirely.<br>

	&gt;<br>

	&gt; I&#39;m rejecting this bug. I will not make this work. I /will/ make it<br>

	&gt; an error to call normal() on a non-qv alpha version. That is the only<br>

	&gt; sensible thing to do.<br>

	<br>

	As a compromise, would you contemplate, an alternative where alpha bits are simply lost in normalizations?</p>

<p>
	Internal Perl doesn&#39;t care about Alpha anyway, and Alpha is only supposed to be human interface, not perl-interface detail.<br>

	&nbsp;</p>

<p>
	Even if you have to pass a parameter to either support, or reject these, thats better than &quot;oh, just die&quot;.<br>

	<br>

	So in summary:</p>

<p>
	version-&gt;parse(q[2.6_01])-&gt;normal&nbsp; # should yield&nbsp; v2.601.0<br>

	version-&gt;parse(q[2.6_01])-&gt;normal( strict =&gt; 1 ) # could error<br>

	<br>

	It just seems far less desirable to explode when normalising a perfectly valid perl version.</p>

<p>
	After all:<br>

	<br>

	version-&gt;parse(q[2.6_01])-&gt;numify&nbsp;</p>

<p>
	Does not attempt to preserve the _</p>

<p>
	And<br>

	<br>

	&nbsp;perl -Mversion -E &#39;say version-&gt;parse(version-&gt;parse(q[2.6_01])-&gt;numify)-&gt;normal&#39;<br>

	v2.601.0<br>

	&nbsp;</p>

<p>
	seems quite valid.</p>

<p>
	<br>

	&nbsp;</p>

<p>
	<br>

	&nbsp;</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;26&nbsp;03:54:55&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;27&nbsp;04:59:57&nbsp;2014</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 26 01:20:53 2014, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2014-02-26 16:17:26, JPEACOCK wrote:
<div class="message-stanza open">&gt; &gt; On Tue Feb 25 20:54:57 2014, JPEACOCK wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Tue Feb 25 08:25:32 2014, KENTNL wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; And as a result, it doesn&#39;t round-trip either:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; perl -Mversion -E&#39;say
&gt; &gt; &gt; &gt; version-&gt;parse&#40;version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#41;-&gt;normal
&gt; &gt; &gt; &gt; Invalid version format &#40;non-numeric data&#41; at -e line 1.
</div></div>&gt; &gt;
&gt; &gt; Looking at this in detail, there is no possible way to convert that
&gt; &gt; alpha string into an equivalent dotted-decimal form, let alone one
&gt; &gt; that will round-trip. I&#39;ve been regretting exposing normal&#40;&#41; and
&gt; &gt; numify&#40;&#41; for years; I&#39;m thinking of releasing 1.0.0 and removing
&gt; &gt; those
&gt; &gt; functions from the public API entirely.
&gt; &gt;
&gt; &gt; I&#39;m rejecting this bug. I will not make this work. I /will/ make it
&gt; &gt; an error to call normal&#40;&#41; on a non-qv alpha version. That is the only
&gt; &gt; sensible thing to do.
</div>&gt; 
&gt; As a compromise, would you contemplate, an alternative where alpha
&gt; bits are
&gt; simply lost in normalizations?
&gt; 
&gt; Internal Perl doesn&#39;t care about Alpha anyway, and Alpha is only
&gt; supposed to be
&gt; human interface, not perl-interface detail.
</div>
IMO, caring about that underscore was the mistake in the first place.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Even if you have to pass a parameter to either support, or reject
&gt; these, thats
&gt; better than &#34;oh, just die&#34;.
&gt; 
&gt; So in summary:
&gt; 
&gt; version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal # should yield v2.601.0
&gt; version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#40; strict =&gt; 1 &#41; # could error
&gt; 
&gt; It just seems far less desirable to explode when normalising a
&gt; perfectly valid
&gt; perl version.
</div>
That may not be a bad option.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;27&nbsp;05:47:14&nbsp;2014</span>
    <span class="description">LEONT [...] cpan.org -  Cc LEONT added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;01&nbsp;12:16:48&nbsp;2014</span>
    <span class="description">john.peacock [...] havurah-software.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93340] version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal   gives v2_601.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 01 Mar 2014 12:16:37 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-version [...] rt.cpan.org, undisclosed-recipients:;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Peacock &lt;john.peacock [...] havurah-software.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 02/27/2014 04:59 AM, Leon Timmermans via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; IMO, caring about that underscore was the mistake in the first place.
</div>
That ship sailed long ago and there is no point in arguing about it now.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal # should yield v2.601.0
&gt;&gt; version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal&#40; strict =&gt; 1 &#41; # could error
&gt;&gt;
&gt;&gt; It just seems far less desirable to explode when normalising a
&gt;&gt; perfectly valid
&gt;&gt; perl version.
</div>&gt;
&gt; That may not be a bad option.
</div>
How about this for a compromise: both normal&#40;&#41; and numify&#40;&#41; will now 
throw a warning about the operation being lossy for alpha versions, so 
it will be painfully clear that you cannot round-trip those conversions. 
  If you don&#39;t like the possibility that your code might emit warnings, 
just add

  no warnings qw/version/;

at the appropriate place in your code.

My core issue is that I think both numify&#40;&#41; and normal&#40;&#41; are being 
abused to do something that version objects were never intended to 
support.  Yes, you can /compare/ a decimal with a dotted-decimal 
version, but you should never assume you can freely transform one form 
into the other.  They have always intended to be read-only opaque objects.

John
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;01&nbsp;18:24:21&nbsp;2014</span>
    <span class="description">LEONT [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Mar 01 12:16:48 2014, john.peacock@havurah-software.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 02/27/2014 04:59 AM, Leon Timmermans via RT wrote:
<div class="message-stanza open">&gt; &gt; IMO, caring about that underscore was the mistake in the first place.
</div>&gt; 
&gt; That ship sailed long ago and there is no point in arguing about it now.
</div>
I&#39;m not sure it&#39;s too late for that. I honestly believe the number of things that would unbreak would be bigger than the number of things we&#39;d break.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; How about this for a compromise: both normal&#40;&#41; and numify&#40;&#41; will now 
&gt; throw a warning about the operation being lossy for alpha versions, so 
&gt; it will be painfully clear that you cannot round-trip those conversions. 
&gt;   If you don&#39;t like the possibility that your code might emit warnings, 
&gt; just add
&gt; 
&gt;   no warnings qw/version/;
&gt; 
&gt; at the appropriate place in your code.
</div>
That may be reasonable, I&#39;d have to think about it a bit more. 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My core issue is that I think both numify&#40;&#41; and normal&#40;&#41; are being 
&gt; abused to do something that version objects were never intended to 
&gt; support.  Yes, you can /compare/ a decimal with a dotted-decimal 
&gt; version, but you should never assume you can freely transform one form 
&gt; into the other.  They have always intended to be read-only opaque objects.
</div>
Perl&#39;s versions need to interact with the outside world. Opaque objects are of no use to for example packagers, or to humans for that matter. Truly opaque versions are essentially unusable.

Leon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;10:43:19&nbsp;2014</span>
    <span class="description">john.peacock [...] havurah-software.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93340] version-&gt;parse&#40;q[2.6_01]&#41;-&gt;normal   gives v2_601.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 02 Mar 2014 10:43:06 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-version [...] rt.cpan.org, undisclosed-recipients:;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Peacock &lt;john.peacock [...] havurah-software.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 03/01/2014 06:24 PM, Leon Timmermans via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not sure it&#39;s too late for that. I honestly believe the number of things that would unbreak would be bigger than the number of things we&#39;d break.
</div>
And by too late, I mean specifically that I am completely out of 
plutonium to power my time machine to fix the core Perl version code in 
v5.10.x.  I cannot in good conscience make a CPAN install mandatory for 
older Perl releases because we want to alter this one behavior.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl&#39;s versions need to interact with the outside world. Opaque objects are of no use to for example packagers, or to humans for that matter. Truly opaque versions are essentially unusable.
</div>
Opaque in the sense that the only reliable means of dealing with the 
objects is using their own interface, not trying to force them into some 
preconceived format.  Printing a version object &#40; implnicitly 
stringifying it&#41; produces a consistent value, no matter what the 
underlying storage contains.  That is the only interface that matters.

If your packaging system only understands decimal versions &#40;and you 
can&#39;t admit to yourself that your packaging system is horrifically 
broken&#41;, then you have no choice but to numify any dotted-decimal 
version _for your own use_.  But you are fooling yourself if you think 
that is anything but a hack; only the module author can decide what 
$VERSION they want to assign to their package.  All that version objects 
can do is provide an equivalence between the two forms.  The numified 
form is NOT the same thing as the normal form; that are there for 
comparison purposes only.

I would love to have had SemVer defined before I started working on 
version objects.  I would have eliminated the entire class of alpha 
versions to start with.

John
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;17&nbsp;22:36:55&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The fix for this broke Module::Build, so withdrawing it...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;17&nbsp;22:36:57&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;17&nbsp;22:36:57&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Fixed in 0.9910 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;06:09:41&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jan 17 22:36:55 2015, JPEACOCK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The fix for this broke Module::Build, so withdrawing it...
</div>
Patch provided upstream to M::B and pull requested.  If that is accepted, I will reapply the changes to fix this bug and release 0.9912.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;06:09:42&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Fixed in 0.9911 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;06:09:43&nbsp;2015</span>
    <span class="description">jpeacock [...] cpan.org -  Fixed in 0.9910 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;01&nbsp;09:41:13&nbsp;2016</span>
    <span class="description">jpeacock [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved for real by Lyon Compromise code in 0.9913
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;01&nbsp;09:41:15&nbsp;2016</span>
    <span class="description">jpeacock [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
