<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #84151 for JSON-XS: fails to install against perl 5.17.10</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #84151 for JSON-XS: fails to install against perl 5.17.10</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=JSON-XS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=JSON-XS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=JSON-XS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=JSON-XS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/JSON-XS">JSON-XS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">84151</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=JSON-XS">JSON-XS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bowtie [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-42890-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.33    </td>
  </tr>
  <tr id="CF-42891-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




JSON-XS.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1193945/630019/JSON-XS.patch">
Fri Mar 22 16:30:47 2013 (813b) by wyant [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=84151">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1193904" href="/Public/Bug/Display.html?id=84151#txn-1193904">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;14:38:14&nbsp;2013</span>
    <span class="description">bowtie [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fails to install against perl 5.17.10</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1193904/630000/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/630000">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">kevin@vinny:~$ cpan JSON::XS
CPAN::SQLite not installed, trying to work without
CPAN: Storable loaded ok &#40;v2.40&#41;
Reading &#39;/home/kevin/.cpan/Metadata&#39;
  Database was generated on Fri, 22 Mar 2013 17:07:39 GMT
Running install for module &#39;JSON::XS&#39;
Running make for M/ML/MLEHMANN/JSON-XS-2.33.tar.gz
CPAN: Digest::SHA loaded ok &#40;v5.84&#41;
CPAN: Compress::Zlib loaded ok &#40;v2.06&#41;
Checksum for /home/kevin/.cpan/sources/authors/id/M/ML/MLEHMANN/JSON-XS-2.33.tar.gz ok
CPAN: File::Temp loaded ok &#40;v0.23&#41;
CPAN: Parse::CPAN::Meta loaded ok &#40;v1.4404&#41;
CPAN: CPAN::Meta loaded ok &#40;v2.120921&#41;
CPAN: Module::CoreList loaded ok &#40;v2.85&#41;

  CPAN.pm: Building M/ML/MLEHMANN/JSON-XS-2.33.tar.gz

CPAN: CPAN::Reporter loaded ok &#40;v1.2009&#41;

CPAN::Reporter: error loading Test::Reporter::Transport::Metabase. Please install the missing module or choose a different transport mechanism.

Checking if your kit is complete...
Looks good
Writing Makefile for JSON::XS
Writing MYMETA.yml and MYMETA.json
&#40;/home/kevin/perl5/perlbrew/perls/perl-5.17.10/bin/perl5.17.10 Makefile.PL exited with 0&#41;
CPAN::Reporter: Makefile.PL result is &#39;pass&#39;, No errors.

CPAN::Reporter: error loading Test::Reporter::Transport::Metabase. Please install the missing module or choose a different transport mechanism.

cp XS/Boolean.pm blib/lib/JSON/XS/Boolean.pm
cp XS.pm blib/lib/JSON/XS.pm
/home/kevin/perl5/perlbrew/perls/perl-5.17.10/bin/perl5.17.10 /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/5.17.10/ExtUtils/xsubpp  -typemap /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/5.17.10/ExtUtils/typemap -typemap typemap  XS.xs &gt; XS.xsc &#38;&#38; mv XS.xsc XS.c
cc -c   -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\&#34;2.33\&#34; -DXS_VERSION=\&#34;2.33\&#34; -fPIC &#34;-I/home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/5.17.10/i686-linux-thread-multi/CORE&#34;   XS.c
XS.c: In function ‘encode_sv’:
XS.xs:789:7: warning: ignoring return value of ‘gcvt’, declared with attribute warn_unused_result [-Wunused-result]
Running Mkbootstrap for JSON::XS &#40;&#41;
chmod 644 XS.bs
rm -f blib/arch/auto/JSON/XS/XS.so
cc  -shared -O2 -L/usr/local/lib -fstack-protector XS.o  -o blib/arch/auto/JSON/XS/XS.so        \
                \
          
chmod 755 blib/arch/auto/JSON/XS/XS.so
cp XS.bs blib/arch/auto/JSON/XS/XS.bs
chmod 644 blib/arch/auto/JSON/XS/XS.bs
cp bin/json_xs blib/script/json_xs
/home/kevin/perl5/perlbrew/perls/perl-5.17.10/bin/perl5.17.10 -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/json_xs
Manifying blib/man1/json_xs.1
Manifying blib/man3/JSON::XS::Boolean.3
Manifying blib/man3/JSON::XS.3
&#40;/usr/bin/make exited with 0&#41;
CPAN::Reporter: make result is &#39;pass&#39;, No errors.
  MLEHMANN/JSON-XS-2.33.tar.gz
  /usr/bin/make -- OK
CPAN: YAML::XS loaded ok &#40;v0.41&#41;
Running make test

CPAN::Reporter: error loading Test::Reporter::Transport::Metabase. Please install the missing module or choose a different transport mechanism.

PERL_DL_NONLAZY=1 /home/kevin/perl5/perlbrew/perls/perl-5.17.10/bin/perl5.17.10 &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00_load.t ............. ok
t/01_utf8.t ............. ok
t/02_error.t ............ ok
t/03_types.t ............ ok
t/04_dwiw_encode.t ...... ok
t/05_dwiw_decode.t ...... ok
t/06_pc_pretty.t ........ ok
t/07_pc_esc.t ........... ok
t/08_pc_base.t .......... ok
t/09_pc_extra_number.t .. ok
t/10_pc_keysort.t ....... ok
t/11_pc_expo.t .......... ok
t/12_blessed.t .......... ok
t/13_limit.t ............ ok
t/14_latin1.t ........... ok
t/15_prefix.t ........... ok
t/16_tied.t ............. ok
t/17_relaxed.t .......... ok
t/18_json_checker.t ..... ok

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.

#   Failed test &#39;data&#39;
#   at t/19_incr.t line 22.
# Looks like you failed 52 tests of 697.
t/19_incr.t ............. 
Dubious, test returned 52 &#40;wstat 13312, 0x3400&#41;
Failed 52/697 subtests 
t/20_faihu.t ............ ok
t/21_evans.t ............ ok
t/22_comment_at_eof.t ... ok
t/99_binary.t ........... ok

Test Summary Report
-------------------
t/19_incr.t           &#40;Wstat: 13312 Tests: 697 Failed: 52&#41;
  Failed tests:  11, 14, 41, 47, 50, 59, 62, 65, 68, 71
                74, 77, 80, 83, 86, 92, 110, 116, 119, 122
                125, 131, 137, 140, 143, 146, 149, 152
                164, 173, 182, 191, 203, 209, 212, 215
                218, 227, 242, 248, 251, 257, 260, 263
                269, 272, 278, 281, 284, 287, 290, 296
  Non-zero exit status: 52
Files=24, Tests=25564,  8 wallclock secs &#40; 2.66 usr  0.12 sys +  4.32 cusr  0.21 csys =  7.31 CPU&#41;
Result: FAIL
Failed 1/24 test programs. 52/25564 subtests failed.
make: *** [test_dynamic] Error 255
&#40;/usr/bin/make test exited with 512&#41;
CPAN::Reporter: Test result is &#39;fail&#39;, One or more tests failed.
CPAN::Reporter: preparing a CPAN Testers report for JSON-XS-2.33

CPAN::Reporter: error loading Test::Reporter::Transport::Metabase. Please install the missing module or choose a different transport mechanism.

CPAN::Reporter: problem with Test::Reporter transport: 
Test::Reporter: could not load &#39;Test::Reporter::Transport::Metabase&#39;
Can&#39;t locate Test/Reporter/Transport/Metabase.pm in @INC &#40;you may need to install the Test::Reporter::Transport::Metabase module&#41; &#40;@INC contains: /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/site_perl/5.17.10/i686-linux-thread-multi /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/site_perl/5.17.10 /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/5.17.10/i686-linux-thread-multi /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/5.17.10 /home/kevin&#41; at &#40;eval 99&#41; line 1.

 at /home/kevin/perl5/perlbrew/perls/perl-5.17.10/lib/site_perl/5.17.10/CPAN/Reporter.pm line 461.

Test report will not be sent
  MLEHMANN/JSON-XS-2.33.tar.gz
  /usr/bin/make test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports MLEHMANN/JSON-XS-2.33.tar.gz
Running make install
  make test had returned bad status, won&#39;t install without force
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1193938" href="/Public/Bug/Display.html?id=84151#txn-1193938">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;16:10:11&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Cc ETHER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1193945" href="/Public/Bug/Display.html?id=84151#txn-1193945">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;16:30:47&nbsp;2013</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1193945/630018/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/630018">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 347b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The problem looks to me like it is due to the fact that under 5.17.10 hash iteration is randomized on a per-hash basis &#40;per perl51710delta&#41;. The failing tests appear to be round-trip tests that assume identical hashes serialize identically.

The attached patch fixes the failures &#40;for me&#41; by calling -&gt;canonical&#40;&#41; on the JSON::XS objects involved.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> JSON-XS.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1193945/630019/JSON-XS.patch">Download JSON-XS.patch</a><br />
<span class="downloadcontenttype">text/x-diff 813b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- t/19_incr.old	2008-06-22 08:05:49.000000000 -0400
+++ t/19_incr.t	2013-03-22 16:24:42.000000000 -0400
@@ -24,10 +24,10 @@
    }
 }
 
-splitter +JSON::XS-&gt;new              , &#39;  [&#34;x\\&#34;&#34;,&#34;\\u1000\\\\n\\nx&#34;,1,{&#34;\\\\&#34; :5 , &#34;&#34;: &#34;x&#34;}]&#39;;
-splitter +JSON::XS-&gt;new              , &#39;[ &#34;x\\&#34;&#34;,&#34;\\u1000\\\\n\\nx&#34; , 1,{&#34;\\\\ &#34; :5 , &#34;&#34;: &#34; x&#34;} ] &#39;;
-splitter +JSON::XS-&gt;new-&gt;allow_nonref, &#39;&#34;test&#34;&#39;;
-splitter +JSON::XS-&gt;new-&gt;allow_nonref, &#39; &#34;5&#34; &#39;;
+splitter +JSON::XS-&gt;new-&gt;canonical   , &#39;  [&#34;x\\&#34;&#34;,&#34;\\u1000\\\\n\\nx&#34;,1,{&#34;\\\\&#34; :5 , &#34;&#34;: &#34;x&#34;}]&#39;;
+splitter +JSON::XS-&gt;new-&gt;canonical   , &#39;[ &#34;x\\&#34;&#34;,&#34;\\u1000\\\\n\\nx&#34; , 1,{&#34;\\\\ &#34; :5 , &#34;&#34;: &#34; x&#34;} ] &#39;;
+splitter +JSON::XS-&gt;new-&gt;allow_nonref-&gt;canonical, &#39;&#34;test&#34;&#39;;
+splitter +JSON::XS-&gt;new-&gt;allow_nonref-&gt;canonical, &#39; &#34;5&#34; &#39;;
 
 {
    my $text = &#39;[5],{&#34;&#34;:1} , [ 1,2, 3], {&#34;3&#34;:null}&#39;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1193948" href="/Public/Bug/Display.html?id=84151#txn-1193948">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;16:30:48&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1193955" href="/Public/Bug/Display.html?id=84151#txn-1193955">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;22&nbsp;16:44:15&nbsp;2013</span>
    <span class="description">kevin [...] dawson10.plus.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bowtie [...] cpan.org, ether [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84151] fails to install against perl 5.17.10</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 22 Mar 2013 20:44:01 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-JSON-XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kevin dawson &lt;kevin [...] dawson10.plus.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1193955/630030/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/630030">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 579b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-03-22 20:30, Tom Wyant via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84151">https://rt.cpan.org/Ticket/Display.html?id=84151</a></span> &gt;
&gt;
&gt; The problem looks to me like it is due to the fact that under 5.17.10 hash iteration is randomized on a per-hash basis &#40;per perl51710delta&#41;. The failing tests appear to be round-trip tests that assume identical hashes serialize identically.
&gt;
&gt; The attached patch fixes the failures &#40;for me&#41; by calling -&gt;canonical&#40;&#41; on the JSON::XS objects involved.
</div>Tom I have applied patch

ran tests with prove

then forced JSON::XS

now testing against perl-5.17.10

regards
bowtie
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1199845" href="/Public/Bug/Display.html?id=84151#txn-1199845">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;08&nbsp;18:01:05&nbsp;2013</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1199845/633447/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/633447">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 162b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-03-22 16:44:15, kevin@dawson10.plus.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; now testing against perl-5.17.10
</div>
Did it work? Looking forward to a release with a fix.

Thanks,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1199848" href="/Public/Bug/Display.html?id=84151#txn-1199848">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;08&nbsp;18:15:28&nbsp;2013</span>
    <span class="description">kevin [...] dawson10.plus.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84151] fails to install against perl 5.17.10</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 08 Apr 2013 23:14:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-JSON-XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kevin dawson &lt;kevin [...] dawson10.plus.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1199848/633450/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/633450">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-04-08 23:01, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84151">https://rt.cpan.org/Ticket/Display.html?id=84151</a></span> &gt;
&gt;
&gt; On 2013-03-22 16:44:15, kevin@dawson10.plus.com wrote:
&gt;
<div class="message-stanza open">&gt;&gt; now testing against perl-5.17.10
</div>&gt; Did it work? Looking forward to a release with a fix.
&gt;
&gt; Thanks,
&gt;
&gt; David
&gt;
&gt;
</div>David

wyant patch works,

but you are not the only module to fall foul of this hash issue,

<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3//Public/Bug/Display.html?id=115908">https://rt.perl.org/rt3//Public/Bug/Display.html?id=115908</a></span>


please release

regards
kevin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1214599" href="/Public/Bug/Display.html?id=84151#txn-1214599">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;20&nbsp;15:34:57&nbsp;2013</span>
    <span class="description">davido [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fails to install against perl 5.17.10 &#40;and 5.18.0&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1214599/641398/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/641398">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 290b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For the record: This problem persists under Perl 5.18.0.  The patch that has been provided resolves the problem, and just needs to be applied to the next release.

This bug will also cause JSON to fail to install, unless the user opts to install without JSON::XS &#40;which is not the default&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1214710" href="/Public/Bug/Display.html?id=84151#txn-1214710">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;20&nbsp;19:12:18&nbsp;2013</span>
    <span class="description">dcantrell [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1214710/641460/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/641460">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 83b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">MLEHMANN doesn&#39;t pay any attention to RT, I have emailed him to notify him of this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1214720" href="/Public/Bug/Display.html?id=84151#txn-1214720">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;20&nbsp;19:22:17&nbsp;2013</span>
    <span class="description">kevin [...] dawson10.plus.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84151] fails to install against perl 5.17.10</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 21 May 2013 00:21:53 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-JSON-XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kevin dawson &lt;kevin [...] dawson10.plus.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1214720/641467/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/641467">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 21/05/13 00:12, David Cantrell via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84151">https://rt.cpan.org/Ticket/Display.html?id=84151</a></span> &gt;
&gt;
&gt; MLEHMANN doesn&#39;t pay any attention to RT, I have emailed him to notify him of this.
&gt;
</div>Hi David,

here are some snippets for you:

I will send mark another reminder 10 days after first,

regards
kevin

aka bowtie



snippet 1, 2013-04-21

On Sun, Apr 21, 2013 at 05:53:44PM +0100, kevin dawson&lt;kevin@dawson10.plus.com&gt;  wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; hi mark
</div>
Marc btw.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; works in perl-5.17.10 and perl-5.17.11
</div>
5.17 is not a stable release - I will release a new version with a
workaround for this bug when 5.18 is released and still has this bug.

I do not work around perl bugs when they only affect unstable releasess of
perl.

-- The choice of a Deliantra, the free code+content MORPG -----==- _GNU_ 
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.deliantra.net">http://www.deliantra.net</a></span> ----==-- _ generation ---==---&#40;_&#41;__ __ ____ __ 
Marc Lehmann --==---/ / _ \/ // /\ \/ / schmorp@schmorp.de 
-=====/_/_//_/\_,_/ /_/\_\

Snippet 2, 2013-05-18

Hi Marc.

I thought I would give you a nudge re: JSON::XS and perl-5.18.0

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/module/RJBS/perl-5.18.0/pod/perl.pod">https://metacpan.org/module/RJBS/perl-5.18.0/pod/perl.pod</a></span>

regards
kevin
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1214720/641468/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/641468">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1242953" href="/Public/Bug/Display.html?id=84151#txn-1242953">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;30&nbsp;10:14:39&nbsp;2013</span>
    <span class="description">MLEHMANN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.681197</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
