<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #103272 for bioperl: Typename.pm Bug: method:source doesnt allow period character</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #103272 for bioperl: Typename.pm Bug: method:source doesnt allow period character</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=bioperl">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=bioperl">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=bioperl">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=bioperl">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/bioperl">bioperl CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">103272</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=bioperl">bioperl</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Joshua.Fortriede [...] cchmc.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3816-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3817-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=103272">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1481013" href="/Public/Bug/Display.html?id=103272#txn-1481013">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;10:32:14&nbsp;2015</span>
    <span class="description">Joshua.Fortriede [...] cchmc.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Typename.pm Bug: method:source doesnt allow period character</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 2 Apr 2015 14:31:55 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-bioperl [...] rt.cpan.org&#34; &lt;bug-bioperl [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Fortriede, Joshua &#40;Joshua Fortriede&#41;&#34; &lt;Joshua.Fortriede [...] cchmc.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1481013/788957/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/788957">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear BioPerl Authors,

I have been working on removing features from our GBrowse database using the built in bp_seqFeature_delete.pl script that comes with the GBrowse installation.  While trying to remove certain features based on -type, I noticed that some &#34;types&#34; were not having features returned.  After many trials and errors, I determined that any feature associated with a typelist that contained a decimal point &#40;&#34;.&#34;&#41; were not being returned.

I traced this to the mysql.pm module, and did a printout of the SQL query that is sent to return the list of features.

perl -X bp_seqfeature_delete.pl -d xl7_1 -type &#39;*UNIGENE*&#39; --dryrun -u *** -p ****

SELECT f.id,f.object,f.typeid,f.seqid,f.start,f.end,f.strand
  FROM feature as f, typelist AS tl
  WHERE &#40;   tl.id=f.typeid
   AND   &#40;
tl.tag LIKE &#39;EST_match:XL_7.1_UNIGENE:%&#39; OR
tl.tag LIKE &#39;EST_match:XL_7.1_UNIGENE_1:%&#39; OR
tl.tag=&#39;EST_match:XL_UNIGENE&#39; OR
tl.tag LIKE &#39;exon:XL_7.1_UNIGENE:%&#39; OR
tl.tag LIKE &#39;exon:XL_7.1_UNIGENE_1:%&#39; OR
tl.tag=&#39;exon:XL_UNIGENE&#39;&#41;
&#41;

Any typelist that has a decimal in it has &#34;:&#34; appended to the end.  This lead me to go to the Typename module, where I found the following code:


sub new    {
  my $package = shift;
  my &#40;$method,$source&#41; = @_;
  $method ||= &#39;&#39;;
  $source ||= &#39;&#39;;
  if &#40;$source eq &#39;&#39; &#38;&#38; $method =~ /^&#40;[\w-]+&#41;:&#40;[\w-]*&#41;$/&#41; {
    $method = $1;
    $source = $2;
  }
  return $OBJECT_CACHE{&#34;$method:$source&#34;} ||= bless [$method,$source],$package;
}

Here, the method/source are being parsed on Alphanumeric or underscores only.  If the regular expression was /^&#40;[\w-\.]+&#41;:&#40;[\w-\.]*&#41;$/  then decimals would be allowed also.  When I make this modification locally and run the script again, I can see the features associated with the typelists that have decimals in them.

Please let me know if there is any other information that you need from me.  Thank you.

Joshua Fortriede, MS
Xenbase Curator
Xenbase Gene Nomenclature Administrator
Cincinnati Children&#39;s Research Foundation
3333 Burnet Avenue, S3.609
Cincinnati, Ohio 45229-3039

Joshua.Fortriede@cchmc.org&lt;mailto:Joshua.Fortriede@cchmc.org&gt;
513-803-5379

www.xenbase.org&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.xenbase.org/">http://www.xenbase.org/</a></span>&gt;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1481013/788958/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/788958">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1647196" href="/Public/Bug/Display.html?id=103272#txn-1647196">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;11&nbsp;00:33:13&nbsp;2016</span>
    <span class="description">cjfields [...] uiuc.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1647196/883598/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/883598">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I added the change and saw no obvious errors with tests, so have gone ahead and added it for the next release.  Thanks for pointing this out!

On Thu Apr 02 09:32:14 2015, Joshua.Fortriede@cchmc.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dear BioPerl Authors,
&gt; 
&gt; I have been working on removing features from our GBrowse database
&gt; using the built in bp_seqFeature_delete.pl script that comes with the
&gt; GBrowse installation.  While trying to remove certain features based
&gt; on -type, I noticed that some &#34;types&#34; were not having features
&gt; returned.  After many trials and errors, I determined that any feature
&gt; associated with a typelist that contained a decimal point &#40;&#34;.&#34;&#41; were
&gt; not being returned.
&gt; 
&gt; I traced this to the mysql.pm module, and did a printout of the SQL
&gt; query that is sent to return the list of features.
&gt; 
&gt; perl -X bp_seqfeature_delete.pl -d xl7_1 -type &#39;*UNIGENE*&#39; --dryrun -u
&gt; *** -p ****
&gt; 
&gt; SELECT f.id,f.object,f.typeid,f.seqid,f.start,f.end,f.strand
&gt;   FROM feature as f, typelist AS tl
&gt;   WHERE &#40;   tl.id=f.typeid
&gt;    AND   &#40;
&gt; tl.tag LIKE &#39;EST_match:XL_7.1_UNIGENE:%&#39; OR
&gt; tl.tag LIKE &#39;EST_match:XL_7.1_UNIGENE_1:%&#39; OR
&gt; tl.tag=&#39;EST_match:XL_UNIGENE&#39; OR
&gt; tl.tag LIKE &#39;exon:XL_7.1_UNIGENE:%&#39; OR
&gt; tl.tag LIKE &#39;exon:XL_7.1_UNIGENE_1:%&#39; OR
&gt; tl.tag=&#39;exon:XL_UNIGENE&#39;&#41;
&gt; &#41;
&gt; 
&gt; Any typelist that has a decimal in it has &#34;:&#34; appended to the end.
&gt; This lead me to go to the Typename module, where I found the following
&gt; code:
&gt; 
&gt; 
&gt; sub new    {
&gt;   my $package = shift;
&gt;   my &#40;$method,$source&#41; = @_;
&gt;   $method ||= &#39;&#39;;
&gt;   $source ||= &#39;&#39;;
&gt;   if &#40;$source eq &#39;&#39; &#38;&#38; $method =~ /^&#40;[\w-]+&#41;:&#40;[\w-]*&#41;$/&#41; {
&gt;     $method = $1;
&gt;     $source = $2;
&gt;   }
&gt;   return $OBJECT_CACHE{&#34;$method:$source&#34;} ||= bless
&gt; [$method,$source],$package;
&gt; }
&gt; 
&gt; Here, the method/source are being parsed on Alphanumeric or
&gt; underscores only.  If the regular expression was /^&#40;[\w-\.]+&#41;:&#40;[\w-
&gt; \.]*&#41;$/  then decimals would be allowed also.  When I make this
&gt; modification locally and run the script again, I can see the features
&gt; associated with the typelists that have decimals in them.
&gt; 
&gt; Please let me know if there is any other information that you need
&gt; from me.  Thank you.
&gt; 
&gt; Joshua Fortriede, MS
&gt; Xenbase Curator
&gt; Xenbase Gene Nomenclature Administrator
&gt; Cincinnati Children&#39;s Research Foundation
&gt; 3333 Burnet Avenue, S3.609
&gt; Cincinnati, Ohio 45229-3039
&gt; 
&gt; Joshua.Fortriede@cchmc.org&lt;mailto:Joshua.Fortriede@cchmc.org&gt;
&gt; 513-803-5379
&gt; 
&gt; www.xenbase.org&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.xenbase.org/">http://www.xenbase.org/</a></span>&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1647197" href="/Public/Bug/Display.html?id=103272#txn-1647197">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;11&nbsp;00:33:14&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1647200" href="/Public/Bug/Display.html?id=103272#txn-1647200">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;11&nbsp;00:33:19&nbsp;2016</span>
    <span class="description">cjfields [...] uiuc.edu -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.283656</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
