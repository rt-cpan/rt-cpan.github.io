<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #66552 for local-lib: local::lib Loads Old File::Spec &#40;Ommission in the documentation&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #66552 for local-lib: local::lib Loads Old File::Spec &#40;Ommission in the documentation&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=local-lib">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=local-lib">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=local-lib">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=local-lib">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/local-lib">local-lib CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">66552</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=local-lib">local-lib</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">apeiron [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Smylers [...] stripey.com

<br />
willert [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-45322-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.008004    </td>
  </tr>
  <tr id="CF-45323-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.000003    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=66552">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909227" href="/Public/Bug/Display.html?id=66552#txn-909227">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;12:23:18&nbsp;2011</span>
    <span class="description">willert [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Ommission in the documentation</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/909227/471669/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/471669">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1012b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It is obvious once you think about it, but it should be noted in
LIMITATIONS nonetheless: when used in code as in the SYNOPSIS or via
  $ perl -Mlocal::lib=[PATH] script.pl
the original versions of some core modules like Cwd, File::Spec,
File::Path and Carp will be used.

Normally this is no problem -- and can&#39;t be fixed easily anyways without
bundling your own versions of those in a special namespace -- but might
cause weird bugs down the road.

This bit me hard when trying to use File::Remove, that depends on a
File::Path version that is core since 5.8.9 on perl 5.8.7 ... [don&#39;t ask
for details ;&#41;]

How to reproduce &#40;Ubuntu 10.10, perl 5.10.1&#41;:
$ perl -E &#39;use File::Path; say $File::Path::VERSION&#39;
2.07_03
$ cpanm -q -Lextlib File::Path
Successfully installed File-Path-2.08 &#40;upgraded from 2.07_03&#41;
1 distribution installed
$ perl -Mlocal::lib=extlib -E &#39;use File::Path; say $File::Path::VERSION&#39;
2.07_03
$ eval $&#40; perl -Mlocal::lib=extlib &#41;
$ perl -E &#39;use File::Path; say $File::Path::VERSION&#39;
2.08
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909248" href="/Public/Bug/Display.html?id=66552#txn-909248">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;13:33:38&nbsp;2011</span>
    <span class="description">apeiron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/909248/471677/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/471677">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 184b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This report is unclear. I&#39;m going to have to ask what you told me not to ask about to 
understand this. It presently sounds like a case of &#34;well don&#39;t do that, then&#34; but I&#39;m not 
sure.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909251" href="/Public/Bug/Display.html?id=66552#txn-909251">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;13:33:43&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909252" href="/Public/Bug/Display.html?id=66552#txn-909252">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;13:33:43&nbsp;2011</span>
    <span class="description">apeiron [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909279" href="/Public/Bug/Display.html?id=66552#txn-909279">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;14:44:26&nbsp;2011</span>
    <span class="description">willert [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/909279/471692/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/471692">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 564b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It presently sounds like a case of &#34;well don&#39;t do
&gt; that, then&#34; but I&#39;m not sure.
</div>
Exactly, it is a &#34;don&#39;t do that&#34; and should be noted in the LIMITATIONS
section of the documentation. Maybe like:
---
Be aware that local::lib loads a few core modules before it can do its
job when used as a module &#40;either as in the SYNOPSIS or via &#39;perl
-Mlocal::lib=~/perl5&#39; script.pl&#41;. This will cause some dual-life modules 
from the local lib to be ignored in favor of the system versions,
causing problems with older perl&#39;s. To avoid that, use the shell version
instead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-909281" href="/Public/Bug/Display.html?id=66552#txn-909281">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;11&nbsp;14:44:26&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-955499" href="/Public/Bug/Display.html?id=66552#txn-955499">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;22:29:56&nbsp;2011</span>
    <span class="description">apeiron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/955499/497054/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/497054">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 79b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry it&#39;s taken so long for me to get back to this. Can you submit a docpatch?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-955502" href="/Public/Bug/Display.html?id=66552#txn-955502">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;22:30:03&nbsp;2011</span>
    <span class="description">apeiron [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-955503" href="/Public/Bug/Display.html?id=66552#txn-955503">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;22:30:20&nbsp;2011</span>
    <span class="description">apeiron [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-955565" href="/Public/Bug/Display.html?id=66552#txn-955565">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;14&nbsp;02:23:38&nbsp;2011</span>
    <span class="description">willert [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/955565/497098/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/497098">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 559b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jul 13 22:29:56 2011, APEIRON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry it&#39;s taken so long for me to get back to this. Can you submit a
&gt; docpatch?
</div>
After all that time, I&#39;m not sure what the issue was, or what I was
talking about, but from what I can gather from the thread, I already
gave you a text snippet you can just past into the POD. After letting
this issue hanging out to dry for a few months you could as well just
paste the section above into the LIMITATIONS POD. Saves us both the
trouble to try to understand what was going on ... again ... ;&#41;

Cheers,
  Sebatstian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-955567" href="/Public/Bug/Display.html?id=66552#txn-955567">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;14&nbsp;02:23:39&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272749" href="/Public/Bug/Display.html?id=66552#txn-1272749">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;06:50:10&nbsp;2013</span>
    <span class="description">Smylers [...] stripey.com - Ticket #89363:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> local::lib Loads Old File::Spec</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Oct 2013 11:49:52 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-local-lib [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Smylers &lt;Smylers [...] stripey.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272749/674017/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674017">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 910b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi. Because local::lib itself uses File::Spec, it can&#39;t be used inside a
program to provide a newer version, such as in:

  use local::lib;
  use File::Spec 3.40;

If your Perl comes with File::Spec 3.33 then local::lib will load that,
and because 3.33 is already loaded, perl won&#39;t find the 3.40 which is
now in @INC.

It would be helpful to have this limitation documented. File::Spec was
the one that bit me, but I&#39;m guessing it applies to the other modules
local::lib uses too.

It doesn&#39;t happen if local::lib environment variables are set, but
sometimes that isn&#39;t convenient. Some workarounds and more detail here:
<span class="clickylink"><a target="new" rel="nofollow" href="http://blogs.perl.org/users/smylers/2013/10/locallib-and-filespec.html">http://blogs.perl.org/users/smylers/2013/10/locallib-and-filespec.html</a></span>

Thanks.

Smylers
-- 
Stop drug companies hiding negative research results.
Sign the AllTrials petition to get all clinical research results published.
Read more: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.alltrials.net/blog/the-alltrials-campaign/">http://www.alltrials.net/blog/the-alltrials-campaign/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272757" href="/Public/Bug/Display.html?id=66552#txn-1272757">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;07:16:54&nbsp;2013</span>
    <span class="description">Smylers [...] stripey.com - Ticket #89363:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89363] local::lib Loads Old File::Spec</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Oct 2013 12:16:38 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Bugs in local-lib via RT &lt;bug-local-lib [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Smylers &lt;Smylers [...] stripey.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272757/674020/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674020">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 721b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It would be helpful to have this limitation documented.
</div>
Or, alternatively, to document that it isn&#39;t intended to use local::lib
like that in the first place, and that if you want a Perl program to use
a particular local::lib directory without relying on environment
variables being set, the way of doing that for a local::lib directory
called foo is:

  use lib &#39;foo/perl5/lib&#39;;

Either way, please can we document something which avoids anybody else
having to learn this the hard way.

Thanks.

Smylers
-- 
Stop drug companies hiding negative research results.
Sign the AllTrials petition to get all clinical research results published.
Read more: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.alltrials.net/blog/the-alltrials-campaign/">http://www.alltrials.net/blog/the-alltrials-campaign/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1281739" href="/Public/Bug/Display.html?id=66552#txn-1281739">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;31&nbsp;15:35:37&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org - Ticket #89363:  Merged into ticket #66552</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1281740" href="/Public/Bug/Display.html?id=66552#txn-1281740">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;31&nbsp;15:35:37&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Merged into ticket #66552</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1281741" href="/Public/Bug/Display.html?id=66552#txn-1281741">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;31&nbsp;15:36:26&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Subject changed from &#39;Ommission in the documentation &#39; to &#39;local::lib Loads Old File::Spec &#40;Ommission in the documentation&#41;&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1304517" href="/Public/Bug/Display.html?id=66552#txn-1304517">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;22&nbsp;21:54:41&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1304517/691270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691270">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 293b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve added a note to the limitations section about problems using local::lib inside a script.  Changing local::lib to not load File::Spec isn&#39;t really workable, but I prevented local::lib from loading a couple other modules that would have similar problems.  Included in dev release 2.000_000.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1304520" href="/Public/Bug/Display.html?id=66552#txn-1304520">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;22&nbsp;21:54:41&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1306670" href="/Public/Bug/Display.html?id=66552#txn-1306670">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;30&nbsp;16:21:37&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1306670/692411/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/692411">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 20b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved in 2.000003
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1306673" href="/Public/Bug/Display.html?id=66552#txn-1306673">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;30&nbsp;16:21:38&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1306675" href="/Public/Bug/Display.html?id=66552#txn-1306675">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;30&nbsp;16:21:38&nbsp;2013</span>
    <span class="description">haarg [...] haarg.org -  Fixed in 2.000003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1345411" href="/Public/Bug/Display.html?id=66552#txn-1345411">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;31&nbsp;19:52:41&nbsp;2014</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1345411/713989/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/713989">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 115b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">local::lib has now been changed to not use File::Spec in 2.000010, so the workarounds for this shouldn&#39;t be needed.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.769129</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
