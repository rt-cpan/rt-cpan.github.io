<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #73109 for Alien-SVN: libtool linking in /root/.cpan -- annoying having to run as root to load /root/.cpan/.../.libs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #73109 for Alien-SVN: libtool linking in /root/.cpan -- annoying having to run as root to load /root/.cpan/.../.libs</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Alien-SVN/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Alien-SVN/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Alien-SVN/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Alien-SVN/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/evalEmpire/Alien-SVN/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Alien-SVN">Alien-SVN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">73109</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Alien-SVN/Active/">Alien-SVN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jettero [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45296-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
v1.6.12.1    </td>
  </tr>
  <tr id="CF-45297-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;11:23:09&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> libtool linking in /root/.cpan -- annoying having to run as root
 to load /root/.cpan/.../.libs</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m having a problem with the subversion build process.  I have no idea
what to pass to configure, but it&#39;s clear I need some other argument.  I
expect this is all due to my irrationally new everything under Archlinux.

libtool 2.4.2-2

Maybe it&#39;s something else.  I&#39;m not really sure what to check. 
Basically, I get this:


perl -MSVN::Core -e 0
Can&#39;t load &#39;/usr/local/jperl/5.12.3/arch/auto/SVN/_Core/_Core.so&#39; for
module SVN::_Core: libsvn_client-1.so.0: cannot open shared object file:
No such file or directory at /usr/local/jperl/5.12.3/arch/DynaLoader.pm
line 200.
 at /usr/local/jperl/5.12.3/arch/SVN/Base.pm line 59
BEGIN failed--compilation aborted at
/usr/local/jperl/5.12.3/arch/SVN/Core.pm line 5.
Compilation failed in require.
BEGIN failed--compilation aborted.

It took me a while to figure out that this works fine:

sudo perl -MSVN::Core -e 0

I finally ran strace to find the real problem...

stat&#40;&#34;/usr/local/jperl/5.12.3/arch/auto/SVN/_Core&#34;,
{st_mode=S_IFDIR|0755, st_size=4096, ...}&#41; = 0
stat&#40;&#34;/usr/local/jperl/5.12.3/arch/auto/SVN/_Core/_Core.so&#34;,
{st_mode=S_IFREG|0644, st_size=2070777, ...}&#41; = 0
stat&#40;&#34;/usr/local/jperl/5.12.3/arch/auto/SVN/_Core/_Core.bs&#34;,
{st_mode=S_IFREG|0644, st_size=0, ...}&#41; = 0
open&#40;&#34;/usr/local/jperl/5.12.3/arch/auto/SVN/_Core/_Core.so&#34;, O_RDONLY&#41; = 5
read&#40;5,
&#34;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\320\260\1\0\0\0\0\0&#34;...,
832&#41; = 832
fstat&#40;5, {st_mode=S_IFREG|0644, st_size=2070777, ...}&#41; = 0
mmap&#40;NULL, 2778728, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 5,
0&#41; = 0x7f857ccce000
mprotect&#40;0x7f857cd6d000, 2097152, PROT_NONE&#41; = 0
mmap&#40;0x7f857cf6d000, 32768, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 5, 0x9f000&#41; = 0x7f857cf6d000
close&#40;5&#41;                                = 0
open&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/tls/x86_64/libsvn_client-1.so.0&#34;,
O_RDONLY&#41; = -1 ENOENT &#40;No su
stat&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/tls/x86_64&#34;,
0x7fffac5e14c0&#41; = -1 ENOENT &#40;No such file or dire
open&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/tls/libsvn_client-1.so.0&#34;,
O_RDONLY&#41; = -1 ENOENT &#40;No such file
stat&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/tls&#34;,
0x7fffac5e14c0&#41; = -1 ENOENT &#40;No such file or directory&#41;
open&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/x86_64/libsvn_client-1.so.0&#34;,
O_RDONLY&#41; = -1 ENOENT &#40;No such f
stat&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/x86_64&#34;,
0x7fffac5e14c0&#41; = -1 ENOENT &#40;No such file or director
open&#40;&#34;/root/.cpan/build/Alien-SVN-v1.6.12.1-gM_lzt/src/subversion/subversion/libsvn_client/.libs/libsvn_client-1.so.0&#34;,
O_RDONLY&#41; = 5


Those .libs/ files should be temporary build files.  I&#39;ve seen this
before, and I&#39;ve fixed it before, but at the moment, I can&#39;t figure it out.

Any idea what to add to the build process so it links those in properly
instead of linking against those temporary files during install?

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;13:25:31&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73109] libtool linking in /root/.cpan -- annoying having to run as root  to load /root/.cpan/.../.libs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 08 Dec 2011 10:25:20 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-SVN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.12.8 8:23 AM, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Those .libs/ files should be temporary build files.  I&#39;ve seen this
&gt; before, and I&#39;ve fixed it before, but at the moment, I can&#39;t figure it out.
&gt; 
&gt; Any idea what to add to the build process so it links those in properly
&gt; instead of linking against those temporary files during install?
</div>
No, sorry.  We&#39;ve struggled with this and similar problems as well.  It will
not reliably link to the shared lib we&#39;re installing.  Sometimes it will link
to an already installed system library.

You can see in inc/My/SVN/Builder.pm what we&#39;re doing to install.  Any insight
would be much appreciated.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;13:25:32&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;21:38:26&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 08 13:25:31 2011, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2011.12.8 8:23 AM, Paul Miller via RT wrote:
<div class="message-stanza open">&gt; &gt; Those .libs/ files should be temporary build files.  I&#39;ve seen this
&gt; &gt; before, and I&#39;ve fixed it before, but at the moment, I can&#39;t figure
</div>&gt; it out.
</div>
Figured it out again.  I don&#39;t know where you would want to put this in
the inc/ build hierarchy, but this will get you linked correctly:

sed -i -e s,_libdir\&#41;/libsvn,_libdir\&#41;/,g src/subversion/build-outputs.mk

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;22:14:30&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 08 21:38:26 2011, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; sed -i -e s,_libdir\&#41;/libsvn,_libdir\&#41;/,g src/subversion/build-outputs.mk
</div>
I really thought that worked.  It was something else I did because this
doesn&#39;t work anymore.  Also, it was missing a .*.

sed -i -e s,_libdir\&#41;/libsvn.*,_libdir\&#41;/,g

Basically, it appeared to be a situation where specifying the .la made
it install the .so differently.  Now I need to retrace my steps, because
it was something I did before that.  :p

Oh well, tomorrow.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;08&nbsp;22:28:07&nbsp;2011</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73109] libtool linking in /root/.cpan -- annoying having to run as root to load /root/.cpan/.../.libs</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 08 Dec 2011 19:27:58 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-SVN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011.12.8 6:38 PM, Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Figured it out again.  I don&#39;t know where you would want to put this in
&gt; the inc/ build hierarchy, but this will get you linked correctly:
&gt; 
&gt; sed -i -e s,_libdir\&#41;/libsvn,_libdir\&#41;/,g src/subversion/build-outputs.mk
</div>
That might point at the problem, but hacking build files doesn&#39;t sit well with me.

I wonder if there&#39;s a configure switch or something us or SVN is doing wrong.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;09&nbsp;06:37:56&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 08 22:28:07 2011, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That might point at the problem, but hacking build files doesn&#39;t sit
&gt; well with me.
</div>
Excellent point.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if there&#39;s a configure switch or something us or SVN is doing
&gt; wrong.
</div>
Clearly.  If their ./configure and make isn&#39;t installing libraries that
are linked correctly, then there&#39;s a problem with their distribution. 
That it hasn&#39;t been solved before makes me wonder if it&#39;s a new-ish
thing in libtool.

I went through this with libpbc really briefly, which is why I recall
figuring it out before.  There, it turned out I just had to run his
installer &#40;rather than using /usr/bin/install&#41;, although I also figured
out the required linking magic. I didn&#39;t take notes though.

I&#39;ve actually just been going back and forth between the libpbc sources
and the subversion sources in A::S and trying to mimic things from
libpbc.  I&#39;m not sure the approach is valid though, because I don&#39;t
think libpbc links against itself like that.

On the other hand, I&#39;m quite sure I got the libs to install into /tmp/
correctly a couple times.  So I did something that worked.  I was so
sure it was the mode=install target thing, but that&#39;s not working for me
anymore, so it was something &#34;that doesn&#39;t matter&#34; that I did before that.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;09&nbsp;22:01:05&nbsp;2011</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This patch is ultimately what I used.  It&#39;s working for me, but it
sucks, and you&#39;re not going to like it any more than my other &#40;not
working&#41; ideas.  I was trying to think of things you could use, ... but
it appears to be beyond my skill level.

This idea does work, but it won&#39;t appear to unless you distclean and
rebuild bindings/swig/perl/native after you install-lib the libsvn_*.so
suite.  I also had to do a for i in Makefile.[a-z]*; do make -f $i; done
to get things like SVN::_Ra.

This is the most confusing build I&#39;ve looked into ... but my git-svn
works again.  I&#39;m glad this ticket is here, if only so I can remember
how to get this going again some day when I forget how I did it.




-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> this_works_great.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- src/subversion/subversion/bindings/swig/perl/native/Makefile.PL.in	2011-02-22 19:45:47.000000000 -0500
+++ /tmp/Makefile.PL.in	2011-12-09 13:05:24.056673537 -0500
@@ -16,15 +16,7 @@
 my $swig_builddir = &#34;${svnlib_builddir}/bindings/swig&#34;;
 
 my @modules = qw/client delta fs ra repos wc/;
-my @ldpaths = &#40;&#34;$swig_builddir/perl/libsvn_swig_perl/.libs&#34;,
-               map {&#34;$svnlib_builddir/libsvn_$_/.libs&#34;} &#40;@modules, qw/diff subr
-                                                                      ra_local
-                                                                      ra_svn
-                                                                      ra_neon
-                                                                      ra_serf
-                                                                      fs_base
-                                                                      fs_util
-                                                                      fs_fs/&#41;&#41;;
+my @ldpaths = &#40;&#39;@libdir@&#39;&#41;;
 my @ldmodules = map {&#34;-lsvn_$_-1&#34;} &#40;@modules, qw/diff subr/&#41;;
 
 my $apr_shlib_path_var = &#39;@SVN_APR_SHLIB_PATH_VAR@&#39;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;01&nbsp;19:06:17&nbsp;2012</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Dec 09 22:01:05 2011, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This idea does work, but it won&#39;t appear to unless you distclean and
&gt; rebuild bindings/swig/perl/native after you install-lib the libsvn_*.so
&gt; suite.
</div>
We can reorder the SVN build process, but I&#39;d rather not build code
during the Alien-SVN &#34;./Build install&#34; process.  Is there some way this
could be done *without* first installing the libraries?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is the most confusing build I&#39;ve looked into ... but my git-svn
&gt; works again.  I&#39;m glad this ticket is here, if only so I can remember
&gt; how to get this going again some day when I forget how I did it.
</div>
Yeah, I&#39;ll bet good money if it were to be done today it would be a fair
sight simpler.  That said, if you want to take a crack at that they
probably wouldn&#39;t mind, but you&#39;ll have to talk with the SVN folks
directly about that.  We just bundle.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;12&nbsp;04:41:37&nbsp;2012</span>
    <span class="description">dolmen [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> schwern [...] pobox.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">My own workaround is to not use Alien::SVN at all.

It is better to use the same source for your &#34;svn&#34; command-line tool and
libraries as for the Perl binding. And the Perl bindings to SVN is
bundled in the SVN source. So the right thing to do is to use the Perl
binding provided as system packages if you use the svn from system packages.

So on Debian/Ubuntu I&#39;m just installing the libsvn-perl package to have
SVN::Core.

--
Olivier Mengu√© - <span class="clickylink"><a target="new" rel="nofollow" href="http://perlresume.org/DOLMEN">http://perlresume.org/DOLMEN</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other SystemError odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;12&nbsp;04:41:38&nbsp;2012</span>
    <span class="description">The RT System itself -  System error</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sending the previous mail has failed.  Please contact your admin, they can find more details in the logs.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other SystemError even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;12&nbsp;04:41:38&nbsp;2012</span>
    <span class="description">The RT System itself -  System error</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sending the previous mail has failed.  Please contact your admin, they can find more details in the logs.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other SystemError odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;12&nbsp;04:41:38&nbsp;2012</span>
    <span class="description">The RT System itself -  System error</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sending the previous mail has failed.  Please contact your admin, they can find more details in the logs.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
