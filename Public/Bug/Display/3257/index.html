<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #3257 for File-chdir: [perl5.8.0/win32] FAILED TESTS</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #3257 for File-chdir: [perl5.8.0/win32] FAILED TESTS</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=File-chdir">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=File-chdir">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=File-chdir">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=File-chdir">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/dagolden/File-chdir/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/File-chdir">File-chdir CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">3257</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=File-chdir">File-chdir</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
muenalan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-12704-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.06    </td>
  </tr>
  <tr id="CF-12705-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.07    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




File-chdir-0.60-0.60_01.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/299333/135686/File-chdir-0.60-0.60_01.patch">
Mon Mar 19 07:26:51 2007 (10.6k) by dagolden [...] cpan.org
</a>
</font></li>
</ul>


File-chdir-patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/288616/130030/File-chdir-patch">
Sat Feb 03 08:44:00 2007 (1.8k) by ishigaki [...] cpan.org
</a>
</font></li>
</ul>


File-chdir.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/278896/124718/File-chdir.patch">
Tue Dec 26 11:03:24 2006 (6.5k) by mschwern [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=3257">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-85862" href="/Public/Bug/Display.html?id=3257#txn-85862">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;12:50:42&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [perl5.8.0/win32] FAILED TESTS</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/85862/11058/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/11058">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; install File::chdir
</div>Running install for module File::chdir
Running make for M/MS/MSCHWERN/File-chdir-0.06.tar.gz
Fetching with LWP:
  ftp://theoryx5.uwinnipeg.ca/pub/CPAN/authors/id/M/MS/MSCHWERN/File-chdir-0.06.tar.gz
CPAN: Digest::MD5 loaded ok
Fetching with LWP:
  ftp://theoryx5.uwinnipeg.ca/pub/CPAN/authors/id/M/MS/MSCHWERN/CHECKSUMS
Checksum for V:\.cpan\sources\authors\id\M\MS\MSCHWERN\File-chdir-0.06.tar.gz ok
Scanning cache V:\.cpan\build for sizes
Deleting from cache: V:\.cpan\build\Config-Simple-4.53 &#40;10.0&gt;10.0 MB&#41;
File-chdir-0.06/
File-chdir-0.06/Changes
File-chdir-0.06/lib/
File-chdir-0.06/lib/File/
File-chdir-0.06/lib/File/chdir.pm
File-chdir-0.06/Makefile.PL
File-chdir-0.06/MANIFEST
File-chdir-0.06/META.yml
File-chdir-0.06/t/
File-chdir-0.06/t/array.t
File-chdir-0.06/t/chdir.t
File-chdir-0.06/t/lib/
File-chdir-0.06/t/lib/Test/
File-chdir-0.06/t/lib/Test/Builder.pm
File-chdir-0.06/t/lib/Test/More.pm
File-chdir-0.06/t/lib/Test/Simple.pm
File-chdir-0.06/t/var.t

  CPAN.pm: Going to build M/MS/MSCHWERN/File-chdir-0.06.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for File::chdir

Microsoft &#40;R&#41; Program Maintenance Utility   Version 1.50
Copyright &#40;c&#41; Microsoft Corp 1988-94. All rights reserved.

cp lib/File/chdir.pm blib\lib\File\chdir.pm
  w:\bin\nmake  -- OK
Running make test

Microsoft &#40;R&#41; Program Maintenance Utility   Version 1.50
Copyright &#40;c&#41; Microsoft Corp 1988-94. All rights reserved.

        C:\Programme\Perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t\array.t t\chdir.t t\var.t
t\array....ok 1/31Insecure dependency in chdir while running with -T switch at C:/Programme/Perl/lib/Cwd.pm line 421.
# Looks like you planned 31 tests but only ran 1.
# Looks like your test died just after 1.
t\array....dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 2-31
        Failed 30/31 tests, 3.23% okay
t\chdir....ok 1/6#     Failed test &#40;t\chdir.t at line 19&#41;
t\chdir....NOK 2#          got: &#39;V:/.cpan/build/File-chdir-0.06/t&#39;
#     expected: &#39;V:\.cpan\build\File-chdir-0.06\t&#39;
#     Failed test &#40;t\chdir.t at line 29&#41;
t\chdir....NOK 3#          got: &#39;V:/.cpan/build/File-chdir-0.06/t&#39;
#     expected: &#39;V:\.cpan\build\File-chdir-0.06\t&#39;
#     Failed test &#40;t\chdir.t at line 32&#41;
t\chdir....NOK 4#          got: &#39;V:/.cpan/build/File-chdir-0.06/t&#39;
#     expected: &#39;V:\.cpan\build\File-chdir-0.06\t&#39;
#     Failed test &#40;t\chdir.t at line 41&#41;
t\chdir....NOK 5#          got: &#39;V:/.cpan/build/File-chdir-0.06/t&#39;
#     expected: &#39;V:\.cpan\build\File-chdir-0.06\t&#39;
Insecure dependency in chdir while running with -T switch at C:/Programme/Perl/lib/Cwd.pm line 421.
# Looks like you planned 6 tests but only ran 5.
# Looks like your test died just after 5.
t\chdir....dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 2-6
        Failed 5/6 tests, 16.67% okay
t\var......ok 2/11Insecure dependency in chdir while running with -T switch at C:/Programme/Perl/lib/Cwd.pm line 421.
# Looks like you planned 11 tests but only ran 2.
# Looks like your test died just after 2.
t\var......dubious
        Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 3-11
        Failed 9/11 tests, 18.18% okay
Failed Test Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t\array.t    255 65280    31   60 193.55%  2-31
t\chdir.t    255 65280     6    6 100.00%  2-6
t\var.t      255 65280    11   18 163.64%  3-11
Failed 3/3 test scripts, 0.00% okay. 44/48 subtests failed, 8.33% okay.
NMAKE : fatal error U1077: &#39;C:\WINDOWS\system32\cmd.exe&#39; : return code &#39;0x2&#39;
Stop.
  w:\bin\nmake test -- NOT OK
Running make install
  make test had returned bad status, won&#39;t install without force

---

Summary of my perl5 &#40;revision 5 version 8 subversion 0&#41; configuration:
  Platform:
    osname=MSWin32, osvers=4.0, archname=MSWin32-x86-multi-thread
    uname=&#39;&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    usethreads=undef use5005threads=undef useithreads=define usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cl&#39;, ccflags =&#39;-nologo -Gf -W3 -MD -DNDEBUG -O1 -DWIN32 -D_CONSOLE -DNO_STRICT -DHAVE_DES_FCRYPT  -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -DPERL_MSVCRT_READF
IX&#39;,
    optimize=&#39;-MD -DNDEBUG -O1&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=undef, longlongsize=8, d_longdbl=define, longdblsize=10
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;__int64&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;link&#39;, ldflags =&#39;-nologo -nodefaultlib   -libpath:&#34;C:\Programme\Perl\lib\CORE&#34;  -machine:x86&#39;
    libpth=\lib
    libs=  oldnames.lib kernel32.lib user32.lib gdi32.lib winspool.lib  comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib  netapi32.lib uuid.lib wsock32.lib mpr.lib winmm.
lib  version.lib odbc32.lib odbccp32.lib msvcrt.lib
    perllibs=  oldnames.lib kernel32.lib user32.lib gdi32.lib winspool.lib  comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib  netapi32.lib uuid.lib wsock32.lib mpr.lib wi
nmm.lib  version.lib odbc32.lib odbccp32.lib msvcrt.lib
    libc=msvcrt.lib, so=dll, useshrplib=yes, libperl=perl58.lib
    gnulibc_version=&#39;undef&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-dll -nologo -nodefaultlib   -libpath:&#34;C:\Programme\Perl\lib\CORE&#34;  -machine:x86&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY USE_ITHREADS USE_LARGE_FILES PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
  Locally applied patches:
        ActivePerl Build 806
  Built under MSWin32
  Compiled at Apr 24 2003 20:37:33
  @INC:
    C:/Programme/Perl/lib
    C:/Programme/Perl/site/lib
    .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-85863" href="/Public/Bug/Display.html?id=3257#txn-85863">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;21:47:20&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Aug 2003 18:47:07 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-File-chdir [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #3257&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #3257] [perl5.8.0/win32] FAILED TESTS</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/85863/11070/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/11070">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Aug 15, 2003 at 12:50:43PM -0400, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t\array....ok 1/31Insecure dependency in chdir while running with -T switch at C:/Programme/Perl/lib/Cwd.pm line 421.
</div>
That&#39;s Cwd::fast_abs_path&#40;&#41; blowing up in taint mode.  File::chdir is
using Cwd::abs_path&#40;&#41; which is supposed to work in taint mode but on
non-Unix its aliased to fast_abs_path&#40;&#41;.  I&#39;ve submitted a patch to fix
fast_abs_path&#40;&#41; so it works in taint mode.

Meanwhile, either ignore the test errors &#40;you can remove the -T&#39;s at the
top of the file&#41; or patch Cwd.  Don&#39;t know what I&#39;m going to do about
this as it will continue to effect non-Unixen running &lt; 5.8.1


--- Cwd.pm      2003/08/16 01:25:50     1.1
+++ Cwd.pm      2003/08/16 01:35:50
@@ -38,8 +38,6 @@
 
 Re-implements the getcwd&#40;3&#41; &#40;or getwd&#40;3&#41;&#41; functions in Perl.
 
-Taint-safe.
-
 =item cwd
 
     my $cwd = cwd&#40;&#41;;
@@ -48,8 +46,6 @@
 most systems it is identical to `pwd` &#40;but without the trailing line
 terminator&#41;.
 
-Taint-safe.
-
 =item fastcwd
 
     my $cwd = fastcwd&#40;&#41;;
@@ -77,7 +73,8 @@
 =head2 abs_path and friends
 
 These functions are exported only on request.  They each take a single
-argument and return the absolute pathname for it.
+argument and return the absolute pathname for it.  If no argument is
+given they&#39;ll use the current working directory.
 
 =over 4
 
@@ -89,25 +86,18 @@
 components &#40;&#34;.&#34; and &#34;..&#34;&#41; are resolved to return the canonical
 pathname, just like realpath&#40;3&#41;.
 
-Taint-safe.
-
 =item realpath
 
   my $abs_path = realpath&#40;$file&#41;;
 
 A synonym for abs_path&#40;&#41;.
 
-Taint-safe.
-
 =item fast_abs_path
 
   my $abs_path = fast_abs_path&#40;$file&#41;;
 
 A more dangerous, but potentially faster version of abs_path.
 
-This function is B&lt;Not&gt; taint-safe : you can&#39;t use it in programs
-that work under taint mode.
-
 =back
 
 =head2 $ENV{PWD}
@@ -177,7 +167,7 @@
 
 eval {
     require XSLoader;
-    undef *Cwd::fastcwd; # avoid redefinition warning
+    no warnings &#39;redefine&#39;;
     XSLoader::load&#40;&#39;Cwd&#39;&#41;;
 };
 
@@ -422,10 +412,17 @@
 # used to the libc function.  --tchrist 27-Jan-00
 *realpath = \&#38;abs_path;
 
+my $Curdir;
 sub fast_abs_path {
     my $cwd = getcwd&#40;&#41;;
     require File::Spec;
-    my $path = @_ ? shift : File::Spec-&gt;curdir;
+    my $path = @_ ? shift : &#40;$Curdir ||= File::Spec-&gt;curdir&#41;;
+
+    # Detaint else we&#39;ll explode in taint mode.  This is safe because
+    # we&#39;re only doing anything dangerous with it.
+    &#40;$path&#41; = $path =~ /&#40;.*&#41;/;
+    &#40;$cwd&#41;  = $cwd  =~ /&#40;.*&#41;/;
+
     CORE::chdir&#40;$path&#41; || croak &#34;Cannot chdir to $path: $!&#34;;
     my $realpath = getcwd&#40;&#41;;
     -d $cwd &#38;&#38; CORE::chdir&#40;$cwd&#41; ||



-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-85864" href="/Public/Bug/Display.html?id=3257#txn-85864">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;16&nbsp;02:56:01&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> muenalan [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/85864/11075/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/11075">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 392b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[schwern@pobox.com - Fri Aug 15 21:47:20 2003]:

[snip]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; top of the file&#41; or patch Cwd.  Don&#39;t know what I&#39;m going to do about
&gt; this as it will continue to effect non-Unixen running &lt; 5.8.1
</div>
Dont rely on Cwd::abs_path&#40;&#41; ? Use File::Spec ? Honestly i am not so 
curious about the Taint mode stuff, but more about the platform 
independence and the correct symbols &#40;/ vs \&#41;.

Greetings,
Murat
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-85865" href="/Public/Bug/Display.html?id=3257#txn-85865">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;16:55:57&nbsp;2005</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/85865/33763/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/33763">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 513b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry for taking so long to get back to this.

I&#39;ve investigated the problem and there&#39;s multiple sources of
cross-platform issues.  Cwd::abs_path&#40;&#41; is returning directories in a
non-native format &#40;C:/foo/bar instead of C:\foo\bar&#41;.  My internal
conversions from an array to an absolute path don&#39;t work so well with
volumes.  And there&#39;s a bug in File::Spec-&gt;rootdir on Win32 &#40;it returns
/ instead of \&#41;.

I&#39;ll have to tear up a lot of the code to fix all this but I have access
to a Windows machine now to do it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-85866" href="/Public/Bug/Display.html?id=3257#txn-85866">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;16:55:58&nbsp;2005</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-221009" href="/Public/Bug/Display.html?id=3257#txn-221009">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;09&nbsp;16:28:53&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Alexandr Ciornii &lt;alexchorny [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/221009/90299/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/90299">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 620b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Apr. 15 16:55:57 2005, MSCHWERN wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve investigated the problem and there&#39;s multiple sources of
&gt; cross-platform issues.  Cwd::abs_path&#40;&#41; is returning directories in a
&gt; non-native format &#40;C:/foo/bar instead of C:\foo\bar&#41;.  My internal
&gt; conversions from an array to an absolute path don&#39;t work so well with
&gt; volumes.  And there&#39;s a bug in File::Spec-&gt;rootdir on Win32 &#40;it returns
&gt; / instead of \&#41;.
</div>rootdir&#40;&#41; error was fixed in PathTools 3.07. But tests still fail with
PathTools 3.18. Your bug #12306 was not answered.

If I skip tests, will File::chdir work correctly or errors will
influence it&#39;s work?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-278884" href="/Public/Bug/Display.html?id=3257#txn-278884">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;26&nbsp;09:08:02&nbsp;2006</span>
    <span class="description">theultramage [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> theultramage [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/278884/124706/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/124706">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 213b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">At the moment I can see that the patch has been officially applied, but 
it&#39;s still giving / paths instead of \ paths. This is making many tests 
that depend on the module fail.

Any idea if/when it will be fixed?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-278896" href="/Public/Bug/Display.html?id=3257#txn-278896">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;26&nbsp;11:03:23&nbsp;2006</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> MSCHWERN [...] cpan.org</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/278896/124715/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/124715">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 724b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Dec 26 09:08:02 2006, theultramage wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; At the moment I can see that the patch has been officially applied, but 
&gt; it&#39;s still giving / paths instead of \ paths. This is making many tests 
&gt; that depend on the module fail.
</div>
Are you talking about a patch to Pathtools?  Because I haven&#39;t applied
anything to File::chdir.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Any idea if/when it will be fixed?
</div>
Well, I just discovered a File::chdir directory on my hard drive which
appears to be an old attempt of mine to fix this.  I&#39;m not sure what
state its in and my Windows machine is on the other side of the country
just now.  It feels a bit overcomplicated anyway.  I can&#39;t do anything
with it until next week the earliest.  Maybe you can, I&#39;ve attached it.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/278896/124718/File-chdir.patch">Download File-chdir.patch</a><br />
<span class="downloadcontenttype">text/x-diff 6.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">=== MANIFEST
==================================================================
--- MANIFEST	&#40;revision 26468&#41;
+++ MANIFEST	&#40;local&#41;
@@ -8,3 +8,4 @@
 t/lib/Test/More.pm
 t/lib/Test/Simple.pm
 t/var.t
+META.yml                                Module meta-data &#40;added by MakeMaker&#41;
=== lib/File/chdir.pm
==================================================================
--- lib/File/chdir.pm	&#40;revision 26468&#41;
+++ lib/File/chdir.pm	&#40;local&#41;
@@ -4,7 +4,7 @@
 
 use strict;
 use vars qw&#40;$VERSION @ISA @EXPORT $CWD @CWD&#41;;
-$VERSION = 0.06;
+$VERSION = &#39;0.06_01&#39;;
 
 require Exporter;
 @ISA = qw&#40;Exporter&#41;;
@@ -92,14 +92,22 @@
 sub _abs_path &#40;&#41; {
     # Otherwise we&#39;ll never work under taint mode.
     my&#40;$cwd&#41; = Cwd::abs_path =~ /&#40;.*&#41;/;
-    return $cwd;
+
+    # Cwd likes to do things like use / on Windows.  Normalize all that.
+    return File::Spec-&gt;canonpath&#40;$cwd&#41;;
 }
 
 my $Real_CWD;
 sub _chdir &#40;$&#41; {
     my&#40;$new_dir&#41; = @_;
 
-    my $Real_CWD = File::Spec-&gt;catdir&#40;_abs_path&#40;&#41;, $new_dir&#41;;
+    $new_dir = File::Spec-&gt;canonpath&#40;$new_dir&#41;;
+    if&#40; File::Spec-&gt;file_name_is_absolute&#40;$new_dir&#41; &#41; {
+	$Real_CWD = $new_dir;
+    }
+    else {
+	$Real_CWD = File::Spec-&gt;catdir&#40;_abs_path&#40;&#41;, $new_dir&#41;;
+    }
 
     return CORE::chdir&#40;$new_dir&#41;;
 }
@@ -132,16 +140,22 @@
         bless {}, $_[0];
     }
 
-    # splitdir&#40;&#41; leaves empty directory names in place on purpose.
+
     # I don&#39;t think this is the right thing for us, but I could be wrong.
     sub _splitdir {
-        return grep length, File::Spec-&gt;splitdir&#40;$_[0]&#41;;
+        return File::Spec-&gt;splitdir&#40;$_[0]&#41;;
     }
 
-    sub _cwd_list {
+    sub _raw_cwd_list {
         return _splitdir&#40;File::chdir::_abs_path&#41;;
     }
 
+    # splitdir&#40;&#41; uses &#39;&#39; to indicate the root directory.  Since
+    # @CWD is always absolute we can strip this off.
+    sub _cwd_list {
+        return grep length, _raw_cwd_list;
+    }
+
     sub _catdir {
         return File::Spec-&gt;catdir&#40;File::Spec-&gt;rootdir, @_&#41;;
     }
@@ -154,13 +168,14 @@
 
     sub STORE {
         my&#40;$self, $idx, $val&#41; = @_;
+	$val = &#39;/&#39; if $val eq &#39;&#39;;
 
         my @cwd = &#40;&#41;;
         if&#40; $self-&gt;{Cleared} &#41; {
             $self-&gt;{Cleared} = 0;
         }
         else {
-            @cwd = _cwd_list;
+            @cwd = _raw_cwd_list;
         }
 
         $cwd[$idx] = $val;
@@ -298,6 +313,8 @@
 
 =head1 BUGS and CAVEATS
 
+=head3 C&lt;local @CWD&gt; does not work.
+
 C&lt;local @CWD&gt; will not localize C&lt;@CWD&gt;.  This is a bug in Perl, you
 can&#39;t localize tied arrays.  As a work around localizing $CWD will
 effectively localize @CWD.
@@ -309,6 +326,11 @@
     }
 
 
+=head3 Volumes not handled
+
+There is currently no way to change the current volume via File::chdir.
+
+
 =head1 NOTES
 
 What should %CWD do?  Something with volumes?
=== t/array.t
==================================================================
--- t/array.t	&#40;revision 26468&#41;
+++ t/array.t	&#40;local&#41;
@@ -2,30 +2,48 @@
 
 use strict;
 use lib qw&#40;t/lib&#41;;
-use Test::More tests =&gt; 31;
+use Test::More tests =&gt; 32;
 
 BEGIN { use_ok&#40;&#39;File::chdir&#39;&#41; }
 
-use Cwd;
+# Cwd tends to use / instead of \.
+sub getcwd {
+    return File::chdir::_abs_path;
+}
 
 sub _catdir {
-    File::Spec-&gt;catdir&#40;File::Spec-&gt;rootdir, @_&#41;;
+    File::Spec-&gt;catdir&#40;@_&#41;;
 }
 
-my @cwd = grep length, File::Spec-&gt;splitdir&#40;Cwd::abs_path&#41;;
+my @cwd = File::Spec-&gt;splitdir&#40;Cwd::abs_path&#41;;
 
+sub _cwd_ok {
+    my&#40;$tied_got, $expected&#41; = @_;
+    my @got = @$tied_got;  # untie it so we can modify it
+
+    # Stick the / back on the front
+    unshift @got, &#39;&#39;;
+
+    local $Test::Builder::Level = $Test::Builder::Level + 1;
+
+    is&#40; File::Spec-&gt;canonpath&#40;File::Spec-&gt;catdir&#40;@got&#41;&#41;,
+        File::Spec-&gt;canonpath&#40;File::Spec-&gt;catdir&#40;@$expected&#41;&#41; &#41;;
+}
+
 ok&#40; tied @CWD,      &#39;@CWD is fit to be tied&#39; &#41;;
 
+isnt @CWD, &#39;&#39;,      &#39;@CWD should not start with &#34;&#34; like splitdir does&#39;;
+
 # First, let&#39;s try unlocalized push @CWD.
 {
     push @CWD, &#39;t&#39;;
     is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized push @CWD works&#39; &#41;;
-    ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,    &#39;  @CWD set&#39; &#41;;
+    _cwd_ok&#40;\@CWD, [@cwd, &#39;t&#39;],                &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
 is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
-ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD still set&#39; &#41;;
+_cwd_ok&#40;\@CWD, [@cwd, &#39;t&#39;],               &#39;  @CWD still set&#39; &#41;;
 
 # reset
 @CWD = @cwd;
@@ -37,13 +55,13 @@
 
     is&#40; getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized pop @CWD works&#39; &#41;;
     is&#40; $popped_dir, $cwd[-1],          &#39;  returns popped dir&#39; &#41;; 
-    ok&#40; eq_array&#40;\@CWD, \@new_cwd&#41;,     &#39;  @CWD set&#39; &#41;;
+    _cwd_ok&#40;\@CWD, \@new_cwd,         &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@new_cwd&#41;,      &#39;  $CWD set&#39; &#41;;
 }
 
 is&#40; getcwd, _catdir&#40;@cwd[0..$#cwd-1]&#41;, 
                                   &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
-ok&#40; eq_array&#40;\@CWD, [@cwd[0..$#cwd-1]]&#41;,   &#39;  @CWD still set&#39; &#41;;
+_cwd_ok&#40;\@CWD, [@cwd[0..$#cwd-1]],    &#39;  @CWD still set&#39; &#41;;
 
 # reset
 @CWD = @cwd;
@@ -56,14 +74,14 @@
 
     is&#40; getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized splice @CWD works&#39; &#41;;
     is&#40; @spliced_dirs, 2,               &#39;  returns right # of dirs&#39; &#41;;
-    ok&#40; eq_array&#40;\@spliced_dirs, [@cwd[-2,-1]]&#41;, &#34;  and they&#39;re correct&#34; &#41;;
-    ok&#40; eq_array&#40;\@CWD, \@new_cwd&#41;,     &#39;  @CWD set&#39; &#41;;
+    is_deeply&#40;\@spliced_dirs, [@cwd[-2,-1]], &#34;  and they&#39;re correct&#34; &#41;;
+    _cwd_ok&#40;\@CWD, \@new_cwd,     	&#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@new_cwd&#41;,      &#39;  $CWD set&#39; &#41;;
 }
 
 is&#40; getcwd, _catdir&#40;@cwd[0..$#cwd-2]&#41;,
                                     &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
-ok&#40; eq_array&#40;\@CWD, [@cwd[0..$#cwd-2]]&#41;,   &#39;  @CWD still set&#39; &#41;;
+_cwd_ok&#40;\@CWD, [@cwd[0..$#cwd-2]],    &#39;  @CWD still set&#39; &#41;;
 
 # reset
 @CWD = @cwd;
@@ -72,12 +90,12 @@
 {
     @CWD = &#40;@cwd, &#39;t&#39;&#41;;
     is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized @CWD works&#39; &#41;;
-    ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD set&#39; &#41;;
+    _cwd_ok&#40;\@CWD, [@cwd, &#39;t&#39;],   	 &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
 is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
-ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD still set&#39; &#41;;
+_cwd_ok&#40;\@CWD, [@cwd, &#39;t&#39;],       &#39;  @CWD still set&#39; &#41;;
 
 # reset
 @CWD = @cwd;
@@ -93,9 +111,9 @@
     local $CWD;
     @CWD = &#40;@cwd, &#39;t&#39;&#41;;
     is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;localized @CWD works&#39; &#41;;
-    ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD set&#39; &#41;;
+    _cwd_ok&#40;\@CWD, [@cwd, &#39;t&#39;],        &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
 is&#40; getcwd, _catdir&#40;@cwd&#41;,    &#39;localized @CWD resets cwd&#39; &#41;;
-ok&#40; eq_array&#40;\@CWD, \@cwd&#41;,   &#39;  @CWD reset&#39; &#41;;
+_cwd_ok&#40;\@CWD, \@cwd,       &#39;  @CWD reset&#39; &#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-278898" href="/Public/Bug/Display.html?id=3257#txn-278898">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;26&nbsp;11:05:13&nbsp;2006</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/278898/124720/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/124720">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 359b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jul 09 16:28:53 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; rootdir&#40;&#41; error was fixed in PathTools 3.07. But tests still fail with
&gt; PathTools 3.18. Your bug #12306 was not answered.
&gt; 
&gt; If I skip tests, will File::chdir work correctly or errors will
&gt; influence it&#39;s work?
</div>
If the failures are just of the form &#34;expected foo\bar, got foo/bar&#34;
then it should work correctly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-288616" href="/Public/Bug/Display.html?id=3257#txn-288616">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;03&nbsp;08:44:00&nbsp;2007</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/288616/130027/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/130027">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 577b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This patch fixes all of the problems of File::chdir on Win32 &#40;with 
PathTools 3.24&#41;.

FYI, the problems were:

1&#41; because File::Spec-&gt;rootdir on Win32 returns &#39;\&#39; &#40;which might not be 
a good idea, anyway&#41;, _catdir for File::chdir::ARRAY returns something 
like &#39;\C:\foo\bar\baz&#39;, and CORE::chdir refuses to change dir &#40;as it is 
not right path for Win because of the preceding slash&#41;.

2&#41; And omnipresent back slash/forward slash issue when comparing paths 
on Win32. perl itself accepts both slashes, so we need this conversion 
in the test suites only. 

Hope this helps you.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/288616/130030/File-chdir-patch">Download File-chdir-patch</a><br />
<span class="downloadcontenttype">application/octet-stream 1.8k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-299333" href="/Public/Bug/Display.html?id=3257#txn-299333">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;07:26:51&nbsp;2007</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [win32] Tests fail due to path separators and prepended rootdir</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/299333/135683/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/135683">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 613b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is an attempt at a more comprehensive patch:

* Fixed problems with always prepending rootdir.  Prepends q{} for
non-Win32 platforms &#40;which is what File::Spec-&gt;splitdir&#40;&#41; returns in the
first place and File::chdir discards&#41;.

* Changed $CWD to return native path separators.  This ensures round
trip comparisons where $CWD is set to a File::Spec generated path and
then later compared to that path

* Fixed comparisons in *.t files to always use native path separators as
well.

* Bumped Cwd/File::Spec prereqs to cover fixes for Cygwin, the Cwd
prototype bug and canonpath fixes.

* Updated Changes &#38; Pod.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/299333/135686/File-chdir-0.60-0.60_01.patch">Download File-chdir-0.60-0.60_01.patch</a><br />
<span class="downloadcontenttype">text/x-diff 10.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">=== Changes
==================================================================
--- Changes	&#40;revision 1125&#41;
+++ Changes	&#40;local&#41;
@@ -1,3 +1,11 @@
+0.06_01
+    * Fixed bug that prepended &#34;/&#34; to $CWD for Win32
+    * $CWD changed to use native path separators
+    * Tests fixed on Win32 by always using native separators as well
+    * Upped File::Spec and Cwd dependencies to require many recent bug-fixes
+    - Added note about comparing $CWD to File::Spec generated names
+    - Patch submitted by David Golden
+
 0.06  Thu Aug 14 17:02:32 PDT 2003
     * Now working under taint mode &#40;thanks Mark Guckeyson&#41;
     - Small nit in the SYNOPSIS
=== Makefile.PL
==================================================================
--- Makefile.PL	&#40;revision 1125&#41;
+++ Makefile.PL	&#40;local&#41;
@@ -37,8 +37,8 @@
 WriteMakefile&#40;
     NAME            =&gt; $PACKAGE,
     VERSION_FROM    =&gt; &#34;lib/$PACKAGE_FILE.pm&#34;, # finds $VERSION
-    PREREQ_PM       =&gt; { Cwd        =&gt; 0,
-                         File::Spec =&gt; 0,
+    PREREQ_PM       =&gt; { Cwd        =&gt; 3.16,
+                         File::Spec =&gt; 3.16,
                        },
     &#39;dist&#39;          =&gt; { COMPRESS   =&gt; &#39;gzip -9&#39;,
                          SUFFIX     =&gt; &#39;.gz&#39;,
=== lib/File/chdir.pm
==================================================================
--- lib/File/chdir.pm	&#40;revision 1125&#41;
+++ lib/File/chdir.pm	&#40;local&#41;
@@ -4,7 +4,7 @@
 
 use strict;
 use vars qw&#40;$VERSION @ISA @EXPORT $CWD @CWD&#41;;
-$VERSION = 0.06;
+$VERSION = &#34;0.06_01&#34;;
 
 require Exporter;
 @ISA = qw&#40;Exporter&#41;;
@@ -61,7 +61,8 @@
     }
     # still /foo out here!
 
-$CWD always returns the absolute path.
+$CWD always returns the absolute path in the native form for the 
+operating system.
 
 $CWD and normal chdir&#40;&#41; work together just fine.
 
@@ -92,7 +93,8 @@
 sub _abs_path &#40;&#41; {
     # Otherwise we&#39;ll never work under taint mode.
     my&#40;$cwd&#41; = Cwd::abs_path =~ /&#40;.*&#41;/;
-    return $cwd;
+    # Run through File::Spec, since everything else uses it 
+    return File::Spec-&gt;canonpath&#40;$cwd&#41;;
 }
 
 my $Real_CWD;
@@ -134,6 +136,11 @@
 
     # splitdir&#40;&#41; leaves empty directory names in place on purpose.
     # I don&#39;t think this is the right thing for us, but I could be wrong.
+    #
+    # dagolden: splitdir gives a leading empty string if the path is
+    # absolute and starts with a path separator
+    #   unix: /home/foo  -&gt; &#34;&#34;, &#34;home&#34;, &#34;foo&#34;
+    #   win32: c:\home\foo -. &#34;c:&#34;, &#34;home&#34;, &#34;foo&#34;
     sub _splitdir {
         return grep length, File::Spec-&gt;splitdir&#40;$_[0]&#41;;
     }
@@ -142,8 +149,20 @@
         return _splitdir&#40;File::chdir::_abs_path&#41;;
     }
 
+    # dagolden: on unix, catdir&#40;&#41; with an empty string first will give a 
+    # path from the root &#40;inverse of splitdir&#41;.  On Win32, the first
+    # element in the array should be the volume, but if there are no
+    # arguments at all &#40;i.e. if @CWD was cleared&#41;, then we do need an
+    # empty string to get back the root of the current volume
     sub _catdir {
-        return File::Spec-&gt;catdir&#40;File::Spec-&gt;rootdir, @_&#41;;
+        my @dirs;
+        if &#40; $^O eq &#39;MSWin32&#39; &#38;&#38;  @_ &#41; {
+            @dirs = @_;
+        }
+        else {
+            @dirs = &#40; q{}, @_ &#41;;
+        }
+        return File::Spec-&gt;catdir&#40; @dirs &#41;;
     }
 
     sub FETCH { 
@@ -311,6 +330,16 @@
 
 =head1 NOTES
 
+C&lt;$CWD&gt; returns the current directory using native path separators, i.e. &#39;\&#39;
+on Win32.  This ensures that C&lt;$CWD&gt; will compare correctly with directories
+created using File::Spec.  For example:
+
+    my $working_dir = File::Spec-&gt;catdir&#40; $CWD, &#34;foo&#34; &#41;;
+    $CWD = $working_dir;
+    doing_stuff_might_chdir&#40;&#41;;
+    is&#40; $CWD, $working_dir, &#34;back to original working_dir?&#34; &#41;;
+
+
 What should %CWD do?  Something with volumes?
 
     # chdir to C:\Program Files\Sierra\Half Life ?
=== t/array.t
==================================================================
--- t/array.t	&#40;revision 1125&#41;
+++ t/array.t	&#40;local&#41;
@@ -8,10 +8,12 @@
 
 use Cwd;
 
-sub _catdir {
-    File::Spec-&gt;catdir&#40;File::Spec-&gt;rootdir, @_&#41;;
-}
+# assemble directories the same way as File::chdir
+BEGIN { *_catdir = \&#38;File::chdir::ARRAY::_catdir };
 
+# _catdir has OS-specific path separators so do the same for getcwd
+sub _getcwd { File::Spec-&gt;canonpath&#40; getcwd &#41; }
+
 my @cwd = grep length, File::Spec-&gt;splitdir&#40;Cwd::abs_path&#41;;
 
 ok&#40; tied @CWD,      &#39;@CWD is fit to be tied&#39; &#41;;
@@ -19,12 +21,12 @@
 # First, let&#39;s try unlocalized push @CWD.
 {
     push @CWD, &#39;t&#39;;
-    is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized push @CWD works&#39; &#41;;
+    is&#40; _getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized push @CWD works&#39; &#41;;
     ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,    &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
-is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
+is&#40; _getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
 ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD still set&#39; &#41;;
 
 # reset
@@ -35,13 +37,13 @@
     my $popped_dir = pop @CWD;
     my @new_cwd = @cwd[0..$#cwd-1];
 
-    is&#40; getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized pop @CWD works&#39; &#41;;
+    is&#40; _getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized pop @CWD works&#39; &#41;;
     is&#40; $popped_dir, $cwd[-1],          &#39;  returns popped dir&#39; &#41;; 
     ok&#40; eq_array&#40;\@CWD, \@new_cwd&#41;,     &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@new_cwd&#41;,      &#39;  $CWD set&#39; &#41;;
 }
 
-is&#40; getcwd, _catdir&#40;@cwd[0..$#cwd-1]&#41;, 
+is&#40; _getcwd, _catdir&#40;@cwd[0..$#cwd-1]&#41;, 
                                   &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
 ok&#40; eq_array&#40;\@CWD, [@cwd[0..$#cwd-1]]&#41;,   &#39;  @CWD still set&#39; &#41;;
 
@@ -54,14 +56,14 @@
     my @spliced_dirs = splice @CWD, -2;
     my @new_cwd = @cwd[0..$#cwd-2];
 
-    is&#40; getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized splice @CWD works&#39; &#41;;
+    is&#40; _getcwd, _catdir&#40;@new_cwd&#41;,      &#39;unlocalized splice @CWD works&#39; &#41;;
     is&#40; @spliced_dirs, 2,               &#39;  returns right # of dirs&#39; &#41;;
     ok&#40; eq_array&#40;\@spliced_dirs, [@cwd[-2,-1]]&#41;, &#34;  and they&#39;re correct&#34; &#41;;
     ok&#40; eq_array&#40;\@CWD, \@new_cwd&#41;,     &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@new_cwd&#41;,      &#39;  $CWD set&#39; &#41;;
 }
 
-is&#40; getcwd, _catdir&#40;@cwd[0..$#cwd-2]&#41;,
+is&#40; _getcwd, _catdir&#40;@cwd[0..$#cwd-2]&#41;,
                                     &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
 ok&#40; eq_array&#40;\@CWD, [@cwd[0..$#cwd-2]]&#41;,   &#39;  @CWD still set&#39; &#41;;
 
@@ -71,12 +73,12 @@
 # Now an unlocalized assignment
 {
     @CWD = &#40;@cwd, &#39;t&#39;&#41;;
-    is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized @CWD works&#39; &#41;;
+    is&#40; _getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;unlocalized @CWD works&#39; &#41;;
     ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
-is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
+is&#40; _getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,      &#39;unlocalized @CWD unneffected by blocks&#39; &#41;;
 ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD still set&#39; &#41;;
 
 # reset
@@ -92,10 +94,10 @@
     # this is a work around.
     local $CWD;
     @CWD = &#40;@cwd, &#39;t&#39;&#41;;
-    is&#40; getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;localized @CWD works&#39; &#41;;
+    is&#40; _getcwd, _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;localized @CWD works&#39; &#41;;
     ok&#40; eq_array&#40;\@CWD, [@cwd, &#39;t&#39;]&#41;,   &#39;  @CWD set&#39; &#41;;
     is&#40; $CWD,   _catdir&#40;@cwd,&#39;t&#39;&#41;,       &#39;  $CWD set&#39; &#41;;
 }
 
-is&#40; getcwd, _catdir&#40;@cwd&#41;,    &#39;localized @CWD resets cwd&#39; &#41;;
+is&#40; _getcwd, _catdir&#40;@cwd&#41;,    &#39;localized @CWD resets cwd&#39; &#41;;
 ok&#40; eq_array&#40;\@CWD, \@cwd&#41;,   &#39;  @CWD reset&#39; &#41;;
=== t/chdir.t
==================================================================
--- t/chdir.t	&#40;revision 1125&#41;
+++ t/chdir.t	&#40;local&#41;
@@ -8,15 +8,18 @@
 
 use Cwd;
 
-# Don&#39;t want to depend on File::Spec::Functions
-sub catdir { File::Spec-&gt;catdir&#40;@_&#41;; }
+# assemble directories the same way as File::chdir
+BEGIN { *_catdir = \&#38;File::chdir::ARRAY::_catdir };
 
-my&#40;$cwd&#41; = getcwd =~ /&#40;.*&#41;/;  # detaint otherwise nothing&#39;s gonna work
+# _catdir has OS-specific path separators so do the same for getcwd
+sub _getcwd { File::Spec-&gt;canonpath&#40; getcwd &#41; }
 
+my&#40;$cwd&#41; = _getcwd =~ /&#40;.*&#41;/;  # detaint otherwise nothing&#39;s gonna work
+
 # First, let&#39;s try normal chdir&#40;&#41;
 {
     chdir&#40;&#39;t&#39;&#41;;
-    ::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;void chdir still works&#39; &#41;;
+    ::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;void chdir still works&#39; &#41;;
 
     chdir&#40;$cwd&#41;;    # reset
 
@@ -26,10 +29,10 @@
     else {
         ::fail&#40;&#39;chdir&#40;&#41; failed completely in boolean context!&#39;&#41;;
     }
-    ::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;,  &#39;  even in boolean context&#39; &#41;;
+    ::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;,  &#39;  even in boolean context&#39; &#41;;
 }
 
-::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  unneffected by blocks&#39; &#41;;
+::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  unneffected by blocks&#39; &#41;;
 
 
 # Ok, reset ourself for the real test.
@@ -38,8 +41,8 @@
 {
     local $ENV{HOME} = &#39;t&#39;;
     chdir;
-    ::is&#40; getcwd, catdir&#40;$cwd, &#39;t&#39;&#41;, &#39;chdir&#40;&#41; with no args&#39; &#41;;
-    ::is&#40; $CWD, catdir&#40;$cwd, &#39;t&#39;&#41;, &#39;  $CWD follows&#39; &#41;;
+    ::is&#40; _getcwd, _catdir&#40;$cwd, &#39;t&#39;&#41;, &#39;chdir&#40;&#41; with no args&#39; &#41;;
+    ::is&#40; $CWD, _catdir&#40;$cwd, &#39;t&#39;&#41;, &#39;  $CWD follows&#39; &#41;;
 }
 
 # Final chdir&#40;&#41; back to the original or we confuse the debugger.
=== t/var.t
==================================================================
--- t/var.t	&#40;revision 1125&#41;
+++ t/var.t	&#40;local&#41;
@@ -8,22 +8,25 @@
 
 use Cwd;
 
-# Don&#39;t want to depend on File::Spec::Functions
-sub catdir { File::Spec-&gt;catdir&#40;@_&#41; }
+# assemble directories the same way as File::chdir
+BEGIN { *_catdir = \&#38;File::chdir::ARRAY::_catdir };
 
-my $cwd = getcwd;
+# _catdir has OS-specific path separators so do the same for getcwd
+sub _getcwd { File::Spec-&gt;canonpath&#40; getcwd &#41; }
 
+my $cwd = _getcwd;
+
 ok&#40; tied $CWD,      &#39;$CWD is fit to be tied&#39; &#41;;
 
 # First, let&#39;s try unlocalized $CWD.
 {
     $CWD = &#39;t&#39;;
-    ::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;unlocalized $CWD works&#39; &#41;;
-    ::is&#40; $CWD,   catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  $CWD set&#39; &#41;;
+    ::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;unlocalized $CWD works&#39; &#41;;
+    ::is&#40; $CWD,   _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  $CWD set&#39; &#41;;
 }
 
-::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;unlocalized $CWD unneffected by blocks&#39; &#41;;
-::is&#40; $CWD,   catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  and still set&#39; &#41;;
+::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;unlocalized $CWD unneffected by blocks&#39; &#41;;
+::is&#40; $CWD,   _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;  and still set&#39; &#41;;
 
 
 # Ok, reset ourself for the real test.
@@ -33,12 +36,12 @@
     my $old_dir = $CWD;
     local $CWD = &#34;t&#34;;
     ::is&#40; $old_dir, $cwd,           &#39;$CWD fetch works&#39; &#41;;
-    ::is&#40; getcwd, catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;localized $CWD works&#39; &#41;;
+    ::is&#40; _getcwd, _catdir&#40;$cwd,&#39;t&#39;&#41;, &#39;localized $CWD works&#39; &#41;;
 }
 
-::is&#40; getcwd, $cwd,                 &#39;  and resets automatically!&#39; &#41;;
+::is&#40; _getcwd, $cwd,                 &#39;  and resets automatically!&#39; &#41;;
 ::is&#40; $CWD,   $cwd,                 &#39;  $CWD reset, too&#39; &#41;;
 
 
 chdir&#40;&#39;t&#39;&#41;;
-is&#40; $CWD,   catdir&#40;$cwd,&#39;t&#39;&#41;,       &#39;chdir&#40;&#41; and $CWD work together&#39; &#41;;
+is&#40; $CWD,   _catdir&#40;$cwd,&#39;t&#39;&#41;,       &#39;chdir&#40;&#41; and $CWD work together&#39; &#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-327649" href="/Public/Bug/Display.html?id=3257#txn-327649">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;19&nbsp;12:48:18&nbsp;2007</span>
    <span class="description">dagolden [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/327649/150436/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/150436">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 16b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved in 0.07
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-327652" href="/Public/Bug/Display.html?id=3257#txn-327652">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;19&nbsp;12:48:21&nbsp;2007</span>
    <span class="description">dagolden [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-327654" href="/Public/Bug/Display.html?id=3257#txn-327654">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;19&nbsp;12:49:34&nbsp;2007</span>
    <span class="description">dagolden [...] cpan.org -  Fixed in 0.07 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.705342</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
