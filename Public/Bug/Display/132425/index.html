<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #132425 for Net-SSLeay: tests fail / hang on fresh Ubuntu 20.04 install</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #132425 for Net-SSLeay: tests fail / hang on fresh Ubuntu 20.04 install</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SSLeay">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SSLeay">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SSLeay">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SSLeay">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">132425</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SSLeay">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">chrisn [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
PLICEASE [...] cpan.org

<br />
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.89_03    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=132425">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895042" href="/Public/Bug/Display.html?id=132425#txn-1895042">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;26&nbsp;09:21:13&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tests fail / hang on fresh Ubuntu 20.04 install</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895042/1016008/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016008">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is part of the test oputput:

t/local/39_pkcs12.t .................... ok     
t/local/40_npn_support.t ............... Use of uninitialized value in string eq at t/local/40_npn_support.t line 93.
Use of uninitialized value in numeric eq &#40;==&#41; at t/local/40_npn_support.t line 94.
t/local/40_npn_support.t ............... 1/7 
#   Failed test &#39;P_next_proto_negotiated/server&#39;
#   at t/local/40_npn_support.t line 59.
#          got: &#39;spdy/2&#39;
#     expected: undef

#   Failed test &#39;ssl_read_all compare&#39;
#   at t/local/40_npn_support.t line 62.
#          got: &#39;&#39;
#     expected: &#39;ssleay-npn-test&#39;

#   Failed test &#39;P_next_proto_negotiated/client&#39;
#   at /usr/share/perl/5.30/Test/Builder.pm line 152.

#   Failed test &#39;P_next_proto_last_status/client&#39;
#   at /usr/share/perl/5.30/Test/Builder.pm line 152.
# Looks like you failed 2 tests of 7.
t/local/40_npn_support.t ............... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 4/7 subtests 
t/local/41_alpn_support.t .............. Use of uninitialized value in string eq at t/local/41_alpn_support.t line 92.
t/local/41_alpn_support.t .............. 1/6 
#   Failed test &#39;P_alpn_selected/server&#39;
#   at t/local/41_alpn_support.t line 58.
#          got: undef
#     expected: &#39;spdy/2&#39;

#   Failed test &#39;ssl_read_all compare&#39;
#   at t/local/41_alpn_support.t line 61.
#          got: &#39;&#39;
#     expected: &#39;ssleay-alpn-test&#39;

#   Failed test &#39;P_alpn_selected/client&#39;
#   at /usr/share/perl/5.30/Test/Builder.pm line 152.
# Looks like you failed 1 test of 6.
t/local/41_alpn_support.t .............. Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 3/6 subtests 
t/local/42_info_callback.t ............. 1/2 
#   Failed test &#39;ctx: CB_HANDSHAKE_START CB_CONNECT_EXIT&#39;
#   at t/local/42_info_callback.t line 100.

#   Failed test &#39;ssl: CB_HANDSHAKE_START CB_CONNECT_EXIT&#39;
#   at t/local/42_info_callback.t line 100.
# Looks like you failed 2 tests of 2.
t/local/42_info_callback.t ............. Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/2 subtests 
t/local/43_misc_functions.t ............ ok     
t/local/44_sess.t ...................... Use of uninitialized value $end in string eq at t/local/44_sess.t line 219.
t/local/44_sess.t ...................... Failed 58/58 subtests 
t/local/45_exporter.t .................. 

Tested both with the system perl 5.30.0 and by building 5.31.10 from source.

patches from here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-perl/libnet-ssleay-perl_1.88-2ubuntu1.debian.tar.xz">http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-perl/libnet-ssleay-perl_1.88-2ubuntu1.debian.tar.xz</a></span>

specifically debian/patches/tlsv1.2min.patch fixes it, although is probably not &#40;without some modifications&#41; appropriate for other systems.

Test machine happens to be a Raspberry Pi running 64bit, but I don&#39;t think that is relevant.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895045" href="/Public/Bug/Display.html?id=132425#txn-1895045">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;26&nbsp;09:42:58&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895045/1016011/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016011">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 202b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Apr 26 09:21:13 2020, PLICEASE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Test machine happens to be a Raspberry Pi running 64bit, but I don&#39;t
&gt; think that is relevant.
</div>
Verified that I get the same fail on x86_64 ubuntu 20.04
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895055" href="/Public/Bug/Display.html?id=132425#txn-1895055">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;26&nbsp;12:13:17&nbsp;2020</span>
    <span class="description">chrisn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895055/1016016/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016016">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 703b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the report, Graham.

On Sun Apr 26 14:21:13 2020, PLICEASE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; patches from here:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-">http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-</a></span>
&gt; perl/libnet-ssleay-perl_1.88-2ubuntu1.debian.tar.xz
&gt; 
&gt; specifically debian/patches/tlsv1.2min.patch fixes it, although is
&gt; probably not &#40;without some modifications&#41; appropriate for other
&gt; systems.
</div>
While this will probably only benefit distros that have set their default OpenSSL security level to 2 &#40;which is most of the major ones by now&#41;, it&#39;d be sensible to merge it anyway - there shouldn&#39;t be any downside in doing so for those still using security level 1. I&#39;ll check with Dimitri if he&#39;s happy for us to take this upstream.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895056" href="/Public/Bug/Display.html?id=132425#txn-1895056">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;26&nbsp;12:13:18&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895059" href="/Public/Bug/Display.html?id=132425#txn-1895059">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;26&nbsp;12:13:18&nbsp;2020</span>
    <span class="description">chrisn [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1900581" href="/Public/Bug/Display.html?id=132425#txn-1900581">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;31&nbsp;17:13:48&nbsp;2020</span>
    <span class="description">SREZIC [...] cpan.org -  Requestor SREZIC added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1902696" href="/Public/Bug/Display.html?id=132425#txn-1902696">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;19&nbsp;08:54:27&nbsp;2020</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1902696/1019594/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1019594">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2020-04-26 09:21:13, PLICEASE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is part of the test oputput:
&gt; 
&gt; t/local/39_pkcs12.t .................... ok
&gt; t/local/40_npn_support.t ............... Use of uninitialized value in
&gt; string eq at t/local/40_npn_support.t line 93.
&gt; Use of uninitialized value in numeric eq &#40;==&#41; at
&gt; t/local/40_npn_support.t line 94.
&gt; t/local/40_npn_support.t ............... 1/7
&gt; #   Failed test &#39;P_next_proto_negotiated/server&#39;
&gt; #   at t/local/40_npn_support.t line 59.
&gt; #          got: &#39;spdy/2&#39;
&gt; #     expected: undef
&gt; 
&gt; #   Failed test &#39;ssl_read_all compare&#39;
&gt; #   at t/local/40_npn_support.t line 62.
&gt; #          got: &#39;&#39;
&gt; #     expected: &#39;ssleay-npn-test&#39;
&gt; 
&gt; #   Failed test &#39;P_next_proto_negotiated/client&#39;
&gt; #   at /usr/share/perl/5.30/Test/Builder.pm line 152.
&gt; 
&gt; #   Failed test &#39;P_next_proto_last_status/client&#39;
&gt; #   at /usr/share/perl/5.30/Test/Builder.pm line 152.
&gt; # Looks like you failed 2 tests of 7.
&gt; t/local/40_npn_support.t ............... Dubious, test returned 2
&gt; &#40;wstat 512, 0x200&#41;
&gt;  Failed 4/7 subtests
&gt; t/local/41_alpn_support.t .............. Use of uninitialized value in
&gt; string eq at t/local/41_alpn_support.t line 92.
&gt;  t/local/41_alpn_support.t .............. 1/6
&gt; #   Failed test &#39;P_alpn_selected/server&#39;
&gt; #   at t/local/41_alpn_support.t line 58.
&gt; #          got: undef
&gt; #     expected: &#39;spdy/2&#39;
&gt; 
&gt; #   Failed test &#39;ssl_read_all compare&#39;
&gt; #   at t/local/41_alpn_support.t line 61.
&gt; #          got: &#39;&#39;
&gt; #     expected: &#39;ssleay-alpn-test&#39;
&gt; 
&gt; #   Failed test &#39;P_alpn_selected/client&#39;
&gt; #   at /usr/share/perl/5.30/Test/Builder.pm line 152.
&gt; # Looks like you failed 1 test of 6.
&gt; t/local/41_alpn_support.t .............. Dubious, test returned 1
&gt; &#40;wstat 256, 0x100&#41;
&gt;  Failed 3/6 subtests
&gt;  t/local/42_info_callback.t ............. 1/2
&gt; #   Failed test &#39;ctx: CB_HANDSHAKE_START CB_CONNECT_EXIT&#39;
&gt; #   at t/local/42_info_callback.t line 100.
&gt; 
&gt; #   Failed test &#39;ssl: CB_HANDSHAKE_START CB_CONNECT_EXIT&#39;
&gt; #   at t/local/42_info_callback.t line 100.
&gt; # Looks like you failed 2 tests of 2.
&gt; t/local/42_info_callback.t ............. Dubious, test returned 2
&gt; &#40;wstat 512, 0x200&#41;
&gt;  Failed 2/2 subtests
&gt;      t/local/43_misc_functions.t ............ ok
&gt; t/local/44_sess.t ...................... Use of uninitialized value
&gt; $end in string eq at t/local/44_sess.t line 219.
&gt;  t/local/44_sess.t ...................... Failed 58/58 subtests
&gt;  t/local/45_exporter.t ..................
&gt; 
&gt; Tested both with the system perl 5.30.0 and by building 5.31.10 from
&gt; source.
&gt; 
&gt; patches from here:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-">http://archive.ubuntu.com/ubuntu/pool/main/libn/libnet-ssleay-</a></span>
&gt; perl/libnet-ssleay-perl_1.88-2ubuntu1.debian.tar.xz
&gt; 
&gt; specifically debian/patches/tlsv1.2min.patch fixes it, although is
&gt; probably not &#40;without some modifications&#41; appropriate for other
&gt; systems.
&gt; 
&gt; Test machine happens to be a Raspberry Pi running 64bit, but I don&#39;t
&gt; think that is relevant.
</div>
CPAN.pm users can now use this distroprefs file for automatic patching:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/srezic-cpan-distroprefs/blob/master/Net-SSLeay.yml#L90-L99">https://github.com/eserte/srezic-cpan-distroprefs/blob/master/Net-SSLeay.yml#L90-L99</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1906047" href="/Public/Bug/Display.html?id=132425#txn-1906047">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;07:52:46&nbsp;2020</span>
    <span class="description">abraxxa [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1906047/1021265/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1021265">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 169b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m running the OEM kernel with Ubuntu 20.04 which is currently
Linux hostname 5.6.0-1018-oem #18-Ubuntu SMP Fri Jun 26 08:01:26 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1906050" href="/Public/Bug/Display.html?id=132425#txn-1906050">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;08:01:00&nbsp;2020</span>
    <span class="description">abraxxa [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1906050/1021268/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1021268">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 126b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Adding |5.6.0-1018-oem #18-ubuntu to myuname fixed it for me, thanks for the distroprefs file, didn&#39;t know the feature before.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1915905" href="/Public/Bug/Display.html?id=132425#txn-1915905">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;18&nbsp;10:12:34&nbsp;2020</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1915905/1025993/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1025993">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 253b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2020-07-23 08:01:00, ABRAXXA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Adding |5.6.0-1018-oem #18-ubuntu to myuname fixed it for me, thanks
&gt; for the distroprefs file, didn&#39;t know the feature before.
</div>
The test suite started to fail on debian/bullseye, so I added more myuname values.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1921479" href="/Public/Bug/Display.html?id=132425#txn-1921479">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;03&nbsp;08:55:50&nbsp;2020</span>
    <span class="description">ambs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1921479/1028823/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1028823">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 152b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Any plans on a clean release?
This is a little headache when using docker, and cpanm to install stuff, as distroprefs are not that easy to apply.
Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1922254" href="/Public/Bug/Display.html?id=132425#txn-1922254">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;12&nbsp;12:19:44&nbsp;2020</span>
    <span class="description">chrisn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1922254/1029182/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1029182">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 795b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This has been fixed in the following PRs:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/radiator-software/p5-net-ssleay/pull/212">https://github.com/radiator-software/p5-net-ssleay/pull/212</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/radiator-software/p5-net-ssleay/pull/225">https://github.com/radiator-software/p5-net-ssleay/pull/225</a></span>

I&#39;ve just released developer version 1.89_03, which includes these changes, on CPAN. If the feedback from the CPAN testers is good, our intention is to promote this to stable release 1.90 next weekend.

Apologies for taking so long to fix this - it required a lot more work than we initially anticipated, because dropping to security level 1 in each of the affected tests caused failures in other environments. We&#39;ve substantially restructured the test suite and generated a new PKI for it so that it runs under OpenSSL security level 2, including Ubuntu&#39;s custom security level 2 &#40;which forbids the use of anything below TLSv1.2&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1922334" href="/Public/Bug/Display.html?id=132425#txn-1922334">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;12&nbsp;17:55:19&nbsp;2020</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1922336" href="/Public/Bug/Display.html?id=132425#txn-1922336">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;12&nbsp;17:55:20&nbsp;2020</span>
    <span class="description">chrisn [...] cpan.org -  Fixed in 1.89_03 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.512842</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
