<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #62446 for CGI: LF only instead of CRLF breaks multiform POST data processing on file uploads from certain devices</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #62446 for CGI: LF only instead of CRLF breaks multiform POST data processing on file uploads from certain devices</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CGI">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CGI">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CGI">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CGI">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/leejo/CGI.pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/CGI">CGI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">62446</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CGI">CGI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MARKSTOS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-230860-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.49    </td>
  </tr>
  <tr id="CF-230861-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




CGI.pm-3.49.original<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/847353/438677/CGI.pm-3.49.original">
Mon Oct 25 15:09:47 2010 (253.2k) by val.kulkov [...] gmail.com
</a>
</font></li>
</ul>


CGI.pm-3.49.revised<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/847353/438679/CGI.pm-3.49.revised">
Mon Oct 25 15:09:47 2010 (253.4k) by val.kulkov [...] gmail.com
</a>
</font></li>
</ul>


testdata.htc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/847353/438676/testdata.htc">
Mon Oct 25 15:09:47 2010 (1.2k) by val.kulkov [...] gmail.com
</a>
</font></li>
</ul>


testdata.win<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/847353/438678/testdata.win">
Mon Oct 25 15:09:47 2010 (1.5k) by val.kulkov [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=62446">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-847353" href="/Public/Bug/Display.html?id=62446#txn-847353">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;25&nbsp;15:09:46&nbsp;2010</span>
    <span class="description">val.kulkov [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> LF only instead of CRLF breaks multiform POST data processing on
 file uploads from certain devices</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/847353/438675/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/438675">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">CGI.pm v. 3.49 fails to process multipart POST submissions that use LF 
instead of CRLF as line separators in POST data. This happens at least 
with some Android devices. This bug may, or may not, be related to the 
earlier reported problem in the bug submission 31107.

A suggested bug fix consists of a few modified lines of code. With the 
suggested modifications, the problem disappears.

The revised and the original CGI.pm are attached. Run diff to see the 
modified lines of code.

A sample multipart POST file upload request from an Android device is 
attached as &#39;testdata.htc&#39;. Compare it with a multipart POST file upload 
request from a Windows client in &#39;testdata.win&#39;

Apparently, CGI.pm attempts to guess the line separators while 
processing form submissions. It appears however that guessing is done on 
the basis of machine architecture and not on the basis of the data in a 
POST submission. I believe the latter approach would make more sense 
since these days the client architecture is no longer a reliable 
indicator of whether the client machine uses CRLF or LF only.
 
I tried contacting Lincoln Stein for a few months suggesting to 
incorporate this bug fix into new releases of CGI.pm. I have got no 
response from him so far. Regardless of that, I believe posting the 
suggested fix here will help at least those who experience this bug.

- Val
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> testdata.htc</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/847353/438676/testdata.htc">Download testdata.htc</a><br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">SERVER_SOFTWARE=lighttpd/1.4.26
SERVER_NAME=erased_for_privacy
GATEWAY_INTERFACE=CGI/1.1
SERVER_PROTOCOL=HTTP/1.1
SERVER_PORT=80
SERVER_ADDR=0.0.0.0
REQUEST_METHOD=POST
REDIRECT_STATUS=200
REQUEST_URI=/cgi-bin/upload.php
REMOTE_ADDR=erased_for_privacy
REMOTE_PORT=18172
CONTENT_LENGTH=516
SCRIPT_FILENAME=/opt/share/www/cgi-bin/upload.php
SCRIPT_NAME=/cgi-bin/upload.php
DOCUMENT_ROOT=/opt/share/www/
HTTP_USER_AGENT=Java0
HTTP_HOST=server_name_erased_for_privacy
HTTP_CONNECTION=Keep-Alive
HTTP_CONTENT_LENGTH=516
CONTENT_TYPE=multipart/form-data; boundary===================================
--==================================
Content-Disposition: form-data; name=&#34;userfile&#34;; filename=&#34;vkpw.db&#34;
Content-Type: application/octet-stream

UPM!Ã¿R}&#40;Ã‘ÂQÃµÃ¶[#0Â•ZÃ‘ÂÂ²Â–Â‚&#41;f8Â…ÂšÂ–Ã–Ã³&#34;LÂ¡Ã™vÃmÂ•Â€Ã… Âˆg^XÃ¦tÂ‹1Â¥L,~Â¬Ã»]RÃ´XÂˆ!ÃÃ‹[Ã¼5	DÃ°yAÃÂ›2oÂ¥Â€Ã´ÃŸ&gt;ÃŠÂ­`ÂªÃƒÂ¯Ãª6Â·Âr9EÂÃ¸Â­hÂ¢Â©G6Ã¦SÃˆIÃ´Ã‰4Ã¦iÂœÃ•Â¡#Ã‰Ã‰JÃ”]Ã¿F}#CÃ¢EFÃ³xÃ³Â©Ã£ZÃ¥MÃµR5Ã#Ã°Â¼ÃÂ´Â©lÃ™cÃŠÂƒ8ÂÂ¥Ã„IÃ”$Âª?Â‹Â&#34;2nÂ¶u ÃªlQÂ¤Â¬@Âº2ÂÃ¹;\Ã³Ã„Ã·Ã©4%Â¥pbÃƒÃ°Ã­ÃÃ¼Â°&#41;aÂ¹ÃoÂ¤1ÂÃ¨Ã„0^Ã”Â¬Â	1uÂ°nÃ±f\Ãµ
Â®cÂ’Â‚VOÃ¥Ã¾GÂ¦ÃÂ¬Ã¢Ã¯Â…Ã—Ã¤MCÃ®ÃšÃˆmÂ»/}Ã‘$IFi3g$Â¤CÂ´Â¼gÂšÃµÂ•zÃ·ÃÂ¾Â¯ÃÃÂ¯Â£Ã²GÂ¬Â„Ã“&lt;-ÂªÃ¬Â»=k/Â•Â½
--==================================--
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CGI.pm-3.49.original</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/847353/438677/CGI.pm-3.49.original">Download CGI.pm-3.49.original</a><br />
<span class="downloadcontenttype">text/plain 253.2k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> testdata.win</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/847353/438678/testdata.win">Download testdata.win</a><br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">å…å‰–ä•’å½“ä½†å‘—ä…’ä”½æ±©æ¨ç‘´ç¤â¼±â¸´â¸²ã˜Šå…å‰–ä•’å½ä…ä”½æ•²æ…³æ•¤å½¦æ½²å½°ç‰©ç™¡æ¹äå‘…åå¥Ÿä¥å‘…å‰†ä…ƒä”½ä‡ä¤¯ã„®ã„Šå…å‰–ä•’å½å‰å‘ää°½ä¡”å‘â¼±â¸±å…å‰–ä•’å½ä½’å½ã °å…å‰–ä•’å½ä‘„åˆ½ã€®ã€®ã€®ã€Šå‰…å…•ä•“å‘Ÿäµ…å‘ˆä½„ãµä½“åŠå‰…ä‘‰å‰…ä”å½“å‘å‘•åŒ½ãˆ°ã€Šå‰…å…•ä•“å‘Ÿå•’ä¤½â½£æ©âµ¢æ¥®â½µç¬æ½¡æ®ç¨ç€Šå‰…äµå‘…å½ä‘„åˆ½æ•²æ…³æ•¤å½¦æ½²å½°ç‰©ç™¡æ¹å‰…äµå‘…å½ä½’å½ãŒ¹ã ³ää¹”ä•å‘Ÿä±…ä¹‡å‘ˆã´´ãœ¸åƒå‰‰å”å½†ä¥Œä•ä…ä”½â½¯ç´â½³æ¡¡ç‰¥â½·ç·â½£æ©âµ¢æ¥®â½µç¬æ½¡æ®ç¨ç€Šåƒå‰‰å”å½ä…ä”½â½£æ©âµ¢æ¥®â½µç¬æ½¡æ®ç¨ç€Šä‘ä•äµ…ä¹”å½’ä½å½â½¯ç´â½³æ¡¡ç‰¥â½·ç·â¼Šä¡”å‘å½•å…å‰Ÿä…‡ä•å½ä©¡æ­¡ç‰´æ„ ä¯æµ­æ½®çŒ­ä¡´ç‘°ä¬æ¥¥æ¹´â¼³â¸°ä¡”å‘å½ˆä½“å½æ•²æ…³æ•¤å½¦æ½²å½°ç‰©ç™¡æ¹ä¡”å‘å½ƒä½å‘…ä¹”å½Œä•ä”ä ½ã·ã Šää¹”ä•å‘Ÿå‘™å…ãµ­ç•¬ç‘©ç¡ç‰´â½¦æ½²æ´­æ‘¡ç‘¡ã¬ æ‰¯ç•®æ‘¡ç‰¹ãµ·ç¨±æµçŒ¶å¨µå‰¡äˆ¶æ«ã°æ´ã¡«ä–ç•”å…å™¦æ‰„â´Šâ´­çºã…­äµ³ã™šã•’æ…‚ã™£æ¬´ã¤ã¸æ­ƒå™µå‘‘ä¹–æ™¢ä­ä¯æ¹´æ•®ç­ä‘©ç°æ½³æ¥´æ¥¯æ¸ºâ¦æ½²æ´­æ‘¡ç‘¡ã¬ æ¹¡æµ¥ã´¢ç•³æ•²æ™©æ±¥âˆ»â¦æ¥¬æ•®æ…­æ”½â‰¶æ­°çœ®æ‘¢âˆŠä¯æ¹´æ•®ç­å‘¹ç¥ã¨ æ…°ç¬æ¥£æ…´æ¥¯æ¸¯æ½£ç‘¥ç­ç´ç‰¥æ…­ã¬ æ¨æ…²ç¥ç½ä¥“ä¼­ã ¸ã”¹â´±ä¯æ¹´æ•®ç­å‘²æ…®ç¦æ•²âµ…æ¹£æ½¤æ¥®æœºâ¢æ¥®æ…²ç¤Šå•ä´‚â‡¿å‰¿ç´¨í†íè¼œé©é†ªï¶ æ©‡íºíŠ­è¿·éŒå„ä‰´å¿‚ï¿½î»¯á–ïŠ‡â­í‰·è¥¹ì¦î¤§ã¡³í˜›ë’˜ìŒæ‡€â¹©æ•¢éˆ¿ì…ªå‹…ïœ²ä¹»ï¿½ë•šäˆºæ•°Ã™î³¸ä³¼ì®²ì‚ƒè—¾í‘°ã©¦â‰°ã¶‰è²…â…˜ï¿½æŠ¾î¤«ãá¶ˆï½©ëºë¿¤è˜³ê‹¤çè—Œêƒäâœë¬šâ´œï¢›ê¯é‚ì»¤êŠ’ê˜œí‘—ê¹ë„‹ï¿½åŸ½ë§î§†âŸ•ã¥‡ìªªâ€¯äªšè˜Œæ¬Œæ®ˆáµ¿ä¨‹ï¿½á¬†éƒ£ã¹‰ï¼´é¼ìˆ—è¤ºè¼¼î¿‹ì—ï¿½ï¿½îƒ’æ‚³ì‰ î¼¸Å§í¯à¬Šâ´­çºã…­äµ³ã™šã•’æ…‚ã™£æ¬´ã¤ã¸æ­ƒå™µå‘‘ä¹–æ™¢ä­â´­</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CGI.pm-3.49.revised</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/847353/438679/CGI.pm-3.49.revised">Download CGI.pm-3.49.revised</a><br />
<span class="downloadcontenttype">text/plain 253.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-847367" href="/Public/Bug/Display.html?id=62446#txn-847367">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;25&nbsp;15:40:54&nbsp;2010</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #62446] LF only instead of CRLF breaks multiform POST data processing on  file uploads from certain devices</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 25 Oct 2010 15:40:36 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/847367/438684/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/438684">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 186b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the report.

There are other people helping maintain CGI.pm now, and we also get
these bug reports and act on them as we have time.

We&#39;ll look into your suggestion.

   Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-847369" href="/Public/Bug/Display.html?id=62446#txn-847369">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;25&nbsp;15:40:55&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-848958" href="/Public/Bug/Display.html?id=62446#txn-848958">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;29&nbsp;10:59:17&nbsp;2010</span>
    <span class="description">root [...] localhost -  Queue changed from CGI to CGI.pm</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857978" href="/Public/Bug/Display.html?id=62446#txn-857978">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;20&nbsp;15:56:52&nbsp;2010</span>
    <span class="description">MARKSTOS [...] cpan.org -  Reference to ticket #31107 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857980" href="/Public/Bug/Display.html?id=62446#txn-857980">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;20&nbsp;16:05:13&nbsp;2010</span>
    <span class="description">MARKSTOS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-857981" href="/Public/Bug/Display.html?id=62446#txn-857981">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;20&nbsp;16:36:46&nbsp;2010</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> yanick-cpan [...] babyl.dyndns.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/857981/444065/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/444065">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 938b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Before going further with this I would like to be sure that the change 
we are making brings CGI.pm closer in line with RFCs, and is not just 
bloat to support other buggy software. 

Here&#39;s a couple related primary documents I&#39;ve found so far:

RFC 2387 - The MIME Multipart/Related Content-type
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.faqs.org/rfcs/rfc2387.html">http://www.faqs.org/rfcs/rfc2387.html</a></span>
This document refers to neither newlines nor CRLF.

The CGI 1.1 RFC
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ietf.org/rfc/rfc3875">http://www.ietf.org/rfc/rfc3875</a></span>
says a bit on the topic, including &#34; the newline &#40;NL&#41; sequence is LF; 
servers SHOULD also accept CR LF as a newline.&#34;

From my so far of the two documents above, it looks like we should 
support LF as well as CRLF. 

For an additional reference, here is the &#34;diff&#34; of CGI.pm 3.27 with the 
version before it:

<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/diff?from=CGI.pm-3.25&#38;to=CGI.pm-3.27&#38;w=1">http://search.cpan.org/diff?from=CGI.pm-3.25&#38;to=CGI.pm-3.27&#38;w=1</a></span>

To move this ticket forward, I&#39;d like a proposal that&#39;s backed by 
standards, not just how some user agents behave.

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366130" href="/Public/Bug/Display.html?id=62446#txn-1366130">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;08:09:16&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1366130/725352/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/725352">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 240b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This issue has been copied to: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/leejo/CGI.pm/issues/77">https://github.com/leejo/CGI.pm/issues/77</a></span> please take all future correspondence there.
This ticket will remain open but please do not reply here.
This ticket will be closed when the github issue is dealt with.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1366968" href="/Public/Bug/Display.html?id=62446#txn-1366968">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;23&nbsp;14:28:07&nbsp;2014</span>
    <span class="description">The RT System itself -  Queue changed from CGI.pm to CGI</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1413050" href="/Public/Bug/Display.html?id=62446#txn-1413050">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;20&nbsp;09:37:40&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1413050/750123/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/750123">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 126b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Rejecting - patch lacks automated tests and breaks existing automated tests. If you can fix both these i am happy to apply it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1413052" href="/Public/Bug/Display.html?id=62446#txn-1413052">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;20&nbsp;09:37:41&nbsp;2014</span>
    <span class="description">LEEJO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.556098</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
