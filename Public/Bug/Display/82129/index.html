<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82129 for MooseX-Getopt: MooseX-getopt-basic doesn&#39;t raise an error when unknow options or ambiguous options specified on command line</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82129 for MooseX-Getopt: MooseX-getopt-basic doesn&#39;t raise an error when unknow options or ambiguous options specified on command line</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=MooseX-Getopt">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=MooseX-Getopt">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=MooseX-Getopt">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=MooseX-Getopt">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/MooseX-Getopt">MooseX-Getopt CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82129</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=MooseX-Getopt">MooseX-Getopt</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ether [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RIchard.Scire [...] Mozelle.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-42740-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.47    </td>
  </tr>
  <tr id="CF-42741-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1157377/608654/test.pl">
Wed Dec 19 23:21:50 2012 (286b) by RIchard.Scire [...] Mozelle.com
</a>
</font></li>
</ul>


TestGetOpts.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1157377/608653/TestGetOpts.pm">
Wed Dec 19 23:21:50 2012 (499b) by RIchard.Scire [...] Mozelle.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=82129">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157377" href="/Public/Bug/Display.html?id=82129#txn-1157377">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;19&nbsp;23:21:50&nbsp;2012</span>
    <span class="description">RIchard.Scire [...] Mozelle.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MooseX-getopt-basic doesn&#39;t raise an error when unknow options or
 ambiguous options specified on command line</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157377/608652/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608652">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 777b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">When an unknown option is specified on the command line, no error is 
given nor is the option added to extra_argv. 

If ambiguous options are entered, no errors are issued and in both 
cases the program continues.

Examples

  H:\Metrics&gt; perl test.pl -debug -database PROD -unknown
  Debug: 1; DB: PROD
  Unused params:

  H:\Metrics&gt; perl test.pl -d
  Debug: 0; DB: DEV
  Unused params:

Solution?
Locally, I changed the function _getopt_spec_warnings from

  sub _getopt_spec_warnings { }

to

  sub _getopt_spec_warnings {
      my &#40;$self, @warnings&#41; = @_;
      die @warnings, &#34;\n&#34;;
  }

And to the correct results

  H:\Metrics&gt; perl test.pl -debug -database PROD -unknown
  Unknown option: unknown

  H:\Metrics&gt; perl test.pl -d
  Option d is ambiguous &#40;database, debug&#41;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TestGetOpts.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157377/608653/TestGetOpts.pm">Download TestGetOpts.pm</a><br />
<span class="downloadcontenttype">text/x-perl 499b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">package TestGetOpts;

use Moose;
with &#39;MooseX::Getopt::Basic&#39;;

use strict;
use warnings;
no warnings qw&#40;uninitialized&#41;;  ## no critic qw&#40;ProhibitNoWarnings&#41;
use Carp;

has &#39;debug&#39; =&gt; &#40;
				is            =&gt; &#39;rw&#39;,
				isa           =&gt; &#39;Bool&#39;,
				default       =&gt; 0,
				documentation =&gt; &#39;hidden&#39;,
			   &#41;;

has &#39;database&#39; =&gt; &#40;
				   is            =&gt; &#39;rw&#39;,
				   isa           =&gt; &#39;Str&#39;,
				   default       =&gt; &#39;DEV&#39;,
				   documentation =&gt; &#39;The database&#39;,
				  &#41;;


1;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157377/608654/test.pl">Download test.pl</a><br />
<span class="downloadcontenttype">text/x-perl 286b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!
use strict;
use warnings;
use Carp;

use TestGetOpts;

my $OPTS = TestGetOpts-&gt;new_with_options&#40;&#41;;

my $debug    = $OPTS-&gt;debug;
my $database = $OPTS-&gt;database;

print &#34;Debug: $debug; DB: $database\n&#34;;
print &#34;Unused params: &#34; . join&#40;&#39;, &#39;, @{$OPTS-&gt;extra_argv}&#41; . &#34;\n&#34;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157542" href="/Public/Bug/Display.html?id=82129#txn-1157542">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;12:17:39&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknow options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 20 Dec 2012 09:17:47 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Richard S. Scire via RT&#34; &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157542/608733/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608733">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 447b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Dec 19, 2012 at 11:21:52PM -0500, Richard S. Scire via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When an unknown option is specified on the command line, no error is 
&gt; given nor is the option added to extra_argv. 
&gt; 
&gt; If ambiguous options are entered, no errors are issued and in both 
&gt; cases the program continues.
</div>
This is by design, but it would certainly be useful to have options to
configure your class to detect or reject unknown things on @ARGV if
desired.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157545" href="/Public/Bug/Display.html?id=82129#txn-1157545">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;12:17:42&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157546" href="/Public/Bug/Display.html?id=82129#txn-1157546">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;12:55:52&nbsp;2012</span>
    <span class="description">RIchard.Scire [...] Mozelle.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 20 Dec 2012 12:55:30 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Richard S. Scire&#34; &lt;Richard.Scire [...] Mozelle.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157546/608736/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608736">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks for your response. Unless there is some other way of detecting these issues, the current design leaves your application in a bad way. If I can&#39;t tell that an ambiguous option was entered, the application will proceed with the desired option not set and could  yield invalid results. The same is true with unrecognized options, if it is a misspelling, then again, the desired behavior will not happen and there is no way to le the user know.

If there was a way to capture that information so I could process it myself, that would be fine. I would have expected unrecognized options to be captured in the extra_argv variable but they just disappear into the ether.

If there is a way to detect either of these problems, please let me know. If not, given the possible serious effect on the application&#39;s processing, what was the intent behind not allowing the app to check on the status of the getopt call?

Thanks,
Rich

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Karen Etheridge via RT [mailto:bug-MooseX-Getopt@rt.cpan.org] 
Sent: Thursday, December 20, 2012 12:18 PM
To: RIchard.Scire@Mozelle.com
Subject: Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or ambiguous options specified on command line

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82129">https://rt.cpan.org/Ticket/Display.html?id=82129</a></span> &gt;

On Wed, Dec 19, 2012 at 11:21:52PM -0500, Richard S. Scire via RT wrote:
<div class="message-stanza open">&gt; When an unknown option is specified on the command line, no error is 
&gt; given nor is the option added to extra_argv.
&gt; 
&gt; If ambiguous options are entered, no errors are issued and in both 
&gt; cases the program continues.
</div>
This is by design, but it would certainly be useful to have options to configure your class to detect or reject unknown things on @ARGV if desired.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158075" href="/Public/Bug/Display.html?id=82129#txn-1158075">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;22&nbsp;05:08:41&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 22 Dec 2012 02:08:42 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Richard S. Scire via RT&#34; &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158075/609021/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609021">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 20, 2012 at 12:55:54PM -0500, Richard S. Scire via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If there was a way to capture that information so I could process it myself, that would be fine. I would have expected unrecognized options to be captured in the extra_argv variable but they just disappear into the ether.
&gt; 
&gt; If there is a way to detect either of these problems, please let me know. If not, given the possible serious effect on the application&#39;s processing, what was the intent behind not allowing the app to check on the status of the getopt call?
</div>
I caught up on sleep and re-read this ticket more closely...
The features you want are in the Getopt/NoGetopt attribute traits, rather
than in the role that is applied to your class directly.  So, you can do:

    with &#39;MooseX::Getopt::Strict&#39;;
    has option_attr =&gt; &#40; ..., traits = [&#39;Getopt&#39;] &#41;;
    has nooption_attr =&gt; &#40; ... &#41;;

&#40;that is, explicitly mark the attributes you want to be available on the
command line&#41;, or:

    with &#39;MooseX::Getopt&#39;;
    has option_attr =&gt; &#40; ... &#41;;
    has nooption_attr =&gt; &#40; ..., traits = [&#39;NoGetopt&#39;] &#41;;

...to accept all attributes on the command line *except* those you
explicitly mark as no-option.  Personally, I like using ::Strict, so I
can apply other roles to my class and not have those roles have to worry
about marking its private attributes as NoGetopt.

In either case &#40;so long as you don&#39;t encounter a fatal error*&#41;, extra_argv
should contain everything left over after parsing data into attributes. Any
examples demonstrating otherwise will be gratefully accepted as new tests
to verify subsequent fixes against :&#41;

If the attribute has the NoGetopt trait &#40;either by not having the Getopt
trait in example 1, or by having the NoGetopt trait in example 2&#41; and it is
seen on the command line, you&#39;ll get a fatal error, unless you tell
Getopt::Long to pass through unrecognized options - you can do this in two
ways -- one of which wasn&#39;t fully documented, which I&#39;ve corrected in this
commit:

<span class="clickylink"><a target="new" rel="nofollow" href="http://git.shadowcat.co.uk/gitweb/gitweb.cgi?p=gitmo/MooseX-Getopt.git;a=commitdiff;h=edd79c6fb9ebccd48ac7e3fec200468004fe6f5e">http://git.shadowcat.co.uk/gitweb/gitweb.cgi?p=gitmo/MooseX-Getopt.git;a=commitdiff;h=edd79c6fb9ebccd48ac7e3fec200468004fe6f5e</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158078" href="/Public/Bug/Display.html?id=82129#txn-1158078">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;22&nbsp;05:10:06&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158078/609024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 86b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, docs were a bit fuzzy here; some improvement will be seen in the
next release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158081" href="/Public/Bug/Display.html?id=82129#txn-1158081">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;22&nbsp;05:10:08&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158347" href="/Public/Bug/Display.html?id=82129#txn-1158347">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;07:56:59&nbsp;2012</span>
    <span class="description">RIchard.Scire [...] Mozelle.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 23 Dec 2012 07:56:29 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Richard S. Scire&#34; &lt;Richard.Scire [...] Mozelle.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158347/609125/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609125">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks for the information. Unfortunately, when I use MooseX::Getopt::Strict, I lose the use of &#39;MooseX::Getopt::Basic and I get GLD even though I use Basic in order to avoid using GLD.

So, even adding the Getopt trait to my attributes  but not using Strict because I donâ€™t want the GLD functionality, the incorrect and ambiguous options are ignored. Again, this leaves my application in the situation where I can&#39;t tell whether the user has entered the command line options correctly.

Thanks,
Rich

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Karen Etheridge via RT [mailto:bug-MooseX-Getopt@rt.cpan.org] 
Sent: Saturday, December 22, 2012 5:09 AM
To: RIchard.Scire@Mozelle.com
Subject: Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or ambiguous options specified on command line

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82129">https://rt.cpan.org/Ticket/Display.html?id=82129</a></span> &gt;

On Thu, Dec 20, 2012 at 12:55:54PM -0500, Richard S. Scire via RT wrote:
<div class="message-stanza open">&gt; If there was a way to capture that information so I could process it myself, that would be fine. I would have expected unrecognized options to be captured in the extra_argv variable but they just disappear into the ether.
&gt; 
&gt; If there is a way to detect either of these problems, please let me know. If not, given the possible serious effect on the application&#39;s processing, what was the intent behind not allowing the app to check on the status of the getopt call?
</div>
I caught up on sleep and re-read this ticket more closely...
The features you want are in the Getopt/NoGetopt attribute traits, rather than in the role that is applied to your class directly.  So, you can do:

    with &#39;MooseX::Getopt::Strict&#39;;
    has option_attr =&gt; &#40; ..., traits = [&#39;Getopt&#39;] &#41;;
    has nooption_attr =&gt; &#40; ... &#41;;

&#40;that is, explicitly mark the attributes you want to be available on the command line&#41;, or:

    with &#39;MooseX::Getopt&#39;;
    has option_attr =&gt; &#40; ... &#41;;
    has nooption_attr =&gt; &#40; ..., traits = [&#39;NoGetopt&#39;] &#41;;

...to accept all attributes on the command line *except* those you explicitly mark as no-option.  Personally, I like using ::Strict, so I can apply other roles to my class and not have those roles have to worry about marking its private attributes as NoGetopt.

In either case &#40;so long as you don&#39;t encounter a fatal error*&#41;, extra_argv should contain everything left over after parsing data into attributes. Any examples demonstrating otherwise will be gratefully accepted as new tests to verify subsequent fixes against :&#41;

If the attribute has the NoGetopt trait &#40;either by not having the Getopt trait in example 1, or by having the NoGetopt trait in example 2&#41; and it is seen on the command line, you&#39;ll get a fatal error, unless you tell Getopt::Long to pass through unrecognized options - you can do this in two ways -- one of which wasn&#39;t fully documented, which I&#39;ve corrected in this
commit:

<span class="clickylink"><a target="new" rel="nofollow" href="http://git.shadowcat.co.uk/gitweb/gitweb.cgi?p=gitmo/MooseX-Getopt.git;a=commitdiff;h=edd79c6fb9ebccd48ac7e3fec200468004fe6f5e">http://git.shadowcat.co.uk/gitweb/gitweb.cgi?p=gitmo/MooseX-Getopt.git;a=commitdiff;h=edd79c6fb9ebccd48ac7e3fec200468004fe6f5e</a></span>
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158349" href="/Public/Bug/Display.html?id=82129#txn-1158349">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;07:57:02&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158402" href="/Public/Bug/Display.html?id=82129#txn-1158402">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;12:19:29&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 23 Dec 2012 09:19:32 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Richard S. Scire via RT&#34; &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158402/609147/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609147">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Dec 23, 2012 at 07:57:02AM -0500, Richard S. Scire via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the information. Unfortunately, when I use MooseX::Getopt::Strict, I lose the use of &#39;MooseX::Getopt::Basic and I get GLD even though I use Basic in order to avoid using GLD.
&gt; 
&gt; So, even adding the Getopt trait to my attributes  but not using Strict because I don???t want the GLD functionality, the incorrect and ambiguous options are ignored. Again, this leaves my application in the situation where I can&#39;t tell whether the user has entered the command line options correctly.
</div>
Yes, in order to reject all unknown options, you need to use
MooseX::Getopt::Strict, which brings in ::GLD.  ::Basic really is Basic,
I&#39;m afraid.

The actual code in MooseX::Getopt::Strict is quite small, so you could
either apply this yourself after applying ::Basic, or create a new
::Basic::Strict role which does this for you.

Why do you want to use Basic rather than GLD?  It&#39;s pretty rare to see
this, so I&#39;m curious what about GLD you don&#39;t like.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158405" href="/Public/Bug/Display.html?id=82129#txn-1158405">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;12:41:53&nbsp;2012</span>
    <span class="description">RIchard.Scire [...] Mozelle.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 23 Dec 2012 12:41:24 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Richard S. Scire&#34; &lt;Richard.Scire [...] Mozelle.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158405/609150/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609150">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I prefer to use long options with the - rather than -- prefix. DLG forces you to use the -- prefix unless you turn off bundling and passing no_bundling to the GLD constructor doesn&#39;t seem to work.

As for basic, I&#39;m wondering what design objective was served by causing errors in the command line to be ignored? It seems the warnings are generated if there is an exception, but not if there are just warnings. Again, I&#39;d be happy with the ability to check the warnings but they are both ignored and hidden so I canâ€™t verify my command line.

Thanks,
Rich

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Karen Etheridge via RT [mailto:bug-MooseX-Getopt@rt.cpan.org] 
Sent: Sunday, December 23, 2012 12:20 PM
To: RIchard.Scire@Mozelle.com
Subject: Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or ambiguous options specified on command line

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82129">https://rt.cpan.org/Ticket/Display.html?id=82129</a></span> &gt;

On Sun, Dec 23, 2012 at 07:57:02AM -0500, Richard S. Scire via RT wrote:
<div class="message-stanza open">&gt; Thanks for the information. Unfortunately, when I use MooseX::Getopt::Strict, I lose the use of &#39;MooseX::Getopt::Basic and I get GLD even though I use Basic in order to avoid using GLD.
&gt; 
&gt; So, even adding the Getopt trait to my attributes  but not using Strict because I don???t want the GLD functionality, the incorrect and ambiguous options are ignored. Again, this leaves my application in the situation where I can&#39;t tell whether the user has entered the command line options correctly.
</div>
Yes, in order to reject all unknown options, you need to use MooseX::Getopt::Strict, which brings in ::GLD.  ::Basic really is Basic, I&#39;m afraid.

The actual code in MooseX::Getopt::Strict is quite small, so you could either apply this yourself after applying ::Basic, or create a new ::Basic::Strict role which does this for you.

Why do you want to use Basic rather than GLD?  It&#39;s pretty rare to see this, so I&#39;m curious what about GLD you don&#39;t like.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158423" href="/Public/Bug/Display.html?id=82129#txn-1158423">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;13:47:41&nbsp;2012</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 23 Dec 2012 10:47:47 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Richard S. Scire via RT&#34; &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158423/609158/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609158">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Dec 23, 2012 at 12:41:53PM -0500, Richard S. Scire via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I prefer to use long options with the - rather than -- prefix. DLG forces you to use the -- prefix unless you turn off bundling and passing no_bundling to the GLD constructor doesn&#39;t seem to work.
</div>
Do you mean the Getopt::Long::Descriptive constructor?  It&#39;s not
constructed directly - parameters can be set with Getopt::Long::Configure,
by pre-loading Getopt::Long::Configure with particular import options, or
by passing a parameter to MooseX::Getopt::GLD.  You should be able to turn
off bundling here and achieve the right set of config options you need.

It would be helpful if you could provide a short class and command line
option string that demonstrates your usecase - I have been unable to
construct any sort of working example that seems to use the Getopt config
options you want &#40;e.g. I don&#39;t see how to get plain old Getopt::Long to
reject unknown options when using single dashes to specify them&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As for basic, I&#39;m wondering what design objective was served by causing errors in the command line to be ignored?
</div>
It is presumed that if the other behaviour is desired, then the user will
use ::Strict, or twiddle with the Getopt::Long options before parsing the
option string.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1158468" href="/Public/Bug/Display.html?id=82129#txn-1158468">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;23&nbsp;18:15:41&nbsp;2012</span>
    <span class="description">RIchard.Scire [...] Mozelle.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or  ambiguous options specified on command line</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 23 Dec 2012 18:15:13 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-MooseX-Getopt [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Richard S. Scire&#34; &lt;Richard.Scire [...] Mozelle.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158468/609180/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609180">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Karen Etheridge via RT [mailto:bug-MooseX-Getopt@rt.cpan.org] 
Sent: Sunday, December 23, 2012 1:48 PM
To: RIchard.Scire@Mozelle.com
Subject: Re: [rt.cpan.org #82129] MooseX-getopt-basic doesn&#39;t raise an error when unknown options or ambiguous options specified on command line
 
&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=82129">https://rt.cpan.org/Ticket/Display.html?id=82129</a></span> &gt;
 
On Sun, Dec 23, 2012 at 12:41:53PM -0500, Richard S. Scire via RT wrote:
<div class="message-stanza open">&gt; I prefer to use long options with the - rather than -- prefix. DLG forces you to use the -- prefix unless you turn off bundling and passing no_bundling to the GLD constructor doesn&#39;t seem to work.
</div> 
Do you mean the Getopt::Long::Descriptive constructor?  It&#39;s not constructed directly - parameters can be set with Getopt::Long::Configure, by pre-loading Getopt::Long::Configure with particular import options, or by passing a parameter to MooseX::Getopt::GLD.  You should be able to turn off bundling here and achieve the right set of config options you need.
 
Iâ€™ve tried setting no_bundling using Configure but something in the MooseX::Getopt::* set of classes turns bundling back on later so there is no way for me to turn it off and have stay turned off. I donâ€™t actually call MooseX::Getopt::GLD, I call my class with the new_with_options constructor and pass the no_bundling option but as I said earlier, somewhere, bundling gets turned back on.
 
It would be helpful if you could provide a short class and command line option string that demonstrates your use case - I have been unable to construct any sort of working example that seems to use the Getopt config options you want &#40;e.g. I don&#39;t see how to get plain old Getopt::Long to reject unknown options when using single dashes to specify them&#41;.
 
I attached  the 2 program files &#40;test.pl and TestGetOpts.pm&#41;  to  the ticket when I submitted it. It your run test.pl with the arguments shown in the body of the ticket, you should be able to see what my issues are. Getopt::Long will reject unknown arguments by default, since bundling is off by default. As you can see from the output, the bad command arguments are being rejected but for some reason, the function used to process the warnings, $class-&gt;_getopt_spec_warnings is empty causing the errors to be ignored and passing bad information back to the app. In the ticket I showed what I added to that function to make it work. Obviously, there are other ways it could work, it could die or it could set a variable with the bad options so the app can at least know there were some.
 
<div class="message-stanza open">&gt; As for basic, I&#39;m wondering what design objective was served by causing errors in the command line to be ignored?
</div> 
It is presumed that if the other behaviour is desired, then the user will use ::Strict, or twiddle with the Getopt::Long options before parsing the option string.
 
This seems like such a simple thing to fix and the consequences of not fixing it are that this class is not usable by itself since there is no way to detect the errors I described. It doesnâ€™t seem reasonable that I should have to fool with the command like before calling the command line processor.
 
 
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1158468/609181/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609181">with headers</a>
<br />
<span class="downloadcontenttype">text/html 6.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1219162" href="/Public/Bug/Display.html?id=82129#txn-1219162">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;01&nbsp;13:16:27&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.720693</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
