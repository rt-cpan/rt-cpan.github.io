<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #56892 for Data-ICal: Entry UIDs are required by RFC2445 but not automatically generated</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #56892 for Data-ICal: Entry UIDs are required by RFC2445 but not automatically generated</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Data-ICal">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Data-ICal">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Data-ICal">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Data-ICal">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Data-ICal">Data-ICal CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">56892</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Data-ICal">Data-ICal</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Nathan.Bailey [...] its.monash.edu

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-9106-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9107-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Entry.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1129446/594159/Entry.pm">
Tue Oct 16 04:11:40 2012 (18.1k) by nate [...] cpan.org
</a>
</font></li>
</ul>


ICal.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1129446/594158/ICal.pm">
Tue Oct 16 04:11:40 2012 (10k) by nate [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=56892">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-767793" href="/Public/Bug/Display.html?id=56892#txn-767793">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;24&nbsp;09:51:58&nbsp;2010</span>
    <span class="description">Nathan.Bailey [...] its.monash.edu -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Data::ICal::Entry::Event doesn&#39;t generate UIDs, but RFC2445 requires them?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 24 Apr 2010 23:51:39 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-ICal [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nathan Bailey &lt;Nathan.Bailey [...] its.monash.edu&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/767793/397281/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/397281">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The following perl script &#40;based on Data::ICal::Entry::Event&#39;s POD&#41;,  
doesn&#39;t generate a UID as part of the event:
use Data::ICal;
use Data::ICal::Entry::Event;
use Date::ICal;
my $calendar = Data::ICal-&gt;new&#40;&#41;;
my $vevent = Data::ICal::Entry::Event-&gt;new&#40;&#41;;
$vevent-&gt;add_properties&#40;
       summary =&gt; &#34;my party&#34;,
       description =&gt; &#34;I&#39;ll cry if I want to&#34;,
       # Dat*e*::ICal is not a typo here
       dtstart =&gt; Date::ICal-&gt;new&#40; epoch =&gt; time &#41;-&gt;ical,
   &#41;;

$calendar-&gt;add_entry&#40;$vevent&#41;;
print $calendar-&gt;as_string;

but RFC2445 requires them:

4.8.4.7 Unique Identifier

  Property Name: UID

  Purpose: This property defines the persistent, globally unique
  identifier for the calendar component.

  Value Type: TEXT

  Property Parameters: Non-standard property parameters can be
  specified on this property.

  Conformance: The property MUST be specified in the &#34;VEVENT&#34;,
  &#34;VTODO&#34;, &#34;VJOURNAL&#34; or &#34;VFREEBUSY&#34; calendar components.

&#40;See also <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Public/Bug/Display.html?id=56689">http://rt.cpan.org/Public/Bug/Display.html?id=56689</a></span> &#41;

thanks! :-&#41;
N
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129375" href="/Public/Bug/Display.html?id=56892#txn-1129375">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;15&nbsp;18:51:32&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129375/594123/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594123">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 857b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Apr 24 09:51:58 2010, Nathan.Bailey@its.monash.edu wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The following perl script &#40;based on Data::ICal::Entry::Event&#39;s POD&#41;,  
&gt; doesn&#39;t generate a UID as part of the event:
</div>
UIDs need to be persistent for an event across each calendar generated, so I 
suspect Data::ICal&#39;s original intent is to leave them to the developer &#40;you! ;&#41; to 
handle.  Data::ICal&#39;s support is fairly low level.

While the library could start checking that a UID is specified before output, that 
would break countless existing code which doesn&#39;t specify &#40;however wrongly&#41; a UID.

Support for mandatory unique properties is in the distribution, so if you&#39;d like 
to write a &#34;strict&#34; mode for Data::ICal that defaults off but can be enabled, I&#39;m 
sure we&#39;d take a patch.  We&#39;d probably also consider a patch for optionally auto-
generating UIDs if you&#39;d like to roll one.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129378" href="/Public/Bug/Display.html?id=56892#txn-1129378">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;15&nbsp;18:51:33&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129379" href="/Public/Bug/Display.html?id=56892#txn-1129379">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;15&nbsp;18:56:58&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Subject changed from &#39;Data::ICal::Entry::Event doesn&#39;t generate UIDs, but RFC2445 requires them?&#39; to &#39;Entry UIDs are required by RFC2445 but not automatically generated&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129380" href="/Public/Bug/Display.html?id=56892#txn-1129380">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;15&nbsp;18:56:58&nbsp;2012</span>
    <span class="description">tsibley [...] cpan.org -  Severity Wishlist added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129414" href="/Public/Bug/Display.html?id=56892#txn-1129414">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;01:13:01&nbsp;2012</span>
    <span class="description">nate [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129414/594140/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594140">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 428b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Oct 15 18:51:32 2012, TSIBLEY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Apr 24 09:51:58 2010, Nathan.Bailey@its.monash.edu wrote:
&gt; We&#39;d probably also consider a patch for optionally auto-
&gt; generating UIDs if you&#39;d like to roll one.
</div>
I&#39;m currently using an md5_base64 hash of the description followed by &#39;@hostname&#39;, but many 
people probably don&#39;t use the description, so perhaps an md5_base64 hash of the summary? Or 
perhaps summary + dtstart?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129446" href="/Public/Bug/Display.html?id=56892#txn-1129446">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;04:11:40&nbsp;2012</span>
    <span class="description">nate [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129446/594157/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594157">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 621b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached are a couple of patches to Data/ICal.pm and Data/ICal/Entry.pm that mean that 
Data::ICal now supports:
1. An optional calendar name &#40;per the non-RFC x-wr-calname&#41;
2. An optional rfc_strict mode that requires UIDs for certain events,
per RFC2445
3. An optional auto_gen mode that generates persistently unique UIDs
using md5 checksums and the hostname &#40;requiring two new modules,
Digest::MD5 and Sys::Hostname - I believe these are both installed by
default so hopefully their inclusion is not too onerous&#41;.
N
PS: I also emailed this to the RT address but it didn&#39;t appear - perhaps it doesn&#39;t like 
attachments?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ICal.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129446/594158/ICal.pm">Download ICal.pm</a><br />
<span class="downloadcontenttype">text/x-perl 10k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use warnings;
use strict;

package Data::ICal;
use base qw/Data::ICal::Entry/;

use Class::ReturnValue;
use Text::vFile::asData;

our $VERSION = &#39;0.18&#39;;

use Carp;

=head1 NAME

Data::ICal - Generates iCalendar &#40;RFC 2445&#41; calendar files

=head1 SYNOPSIS

    use Data::ICal;

    my $calendar = Data::ICal-&gt;new&#40;&#41;;

    my $vtodo = Data::ICal::Entry::Todo-&gt;new&#40;&#41;;
    $vtodo-&gt;add_properties&#40;
        # ... see Data::ICal::Entry::Todo documentation
    &#41;;

    # ... or
    $calendar = Data::ICal-&gt;new&#40;filename =&gt; &#39;foo.ics&#39;&#41;; # parse existing file
    $calendar = Data::ICal-&gt;new&#40;data =&gt; &#39;BEGIN:VCALENDAR...&#39;&#41;; # parse from scalar
    $calendar-&gt;add_entry&#40;$vtodo&#41;;
    print $calendar-&gt;as_string;

=head1 DESCRIPTION

A L&lt;Data::ICal&gt; object represents a C&lt;VCALENDAR&gt; object as defined in the
iCalendar protocol &#40;RFC 2445, MIME type &#34;text/calendar&#34;&#41;, as implemented in many
popular calendaring programs such as Apple&#39;s iCal.

Each L&lt;Data::ICal&gt; object is a collection of &#34;entries&#34;, which are objects of a
subclass of L&lt;Data::ICal::Entry&gt;.  The types of entries defined by iCalendar
&#40;which refers to them as &#34;components&#34;&#41; include events, to-do items, journal
entries, free/busy time indicators, and time zone descriptors; in addition,
events and to-do items can contain alarm entries.  &#40;Currently, L&lt;Data::ICal&gt;
only implements to-do items and events.&#41;

L&lt;Data::ICal&gt; is a subclass of L&lt;Data::ICal::Entry&gt;; see its manpage for more
methods applicable to L&lt;Data::ICal&gt;.

=head1 METHODS

=cut

=head2 new [ data =&gt; $data, ] [ filename =&gt; $file ], [ calname =&gt; $string ], [ vcal10 =&gt; $bool ], [ rfc_strict =&gt; $bool ], [ auto_uid =&gt; $bool ]

Creates a new L&lt;Data::ICal&gt; object. 

If it is given a filename or data argument is passed, then this parses the
content of the file or string into the object.  If the C&lt;vcal10&gt; flag is passed,
parses it according to vCalendar 1.0, not iCalendar 2.0; this in particular impacts
the parsing of continuation lines in quoted-printable sections.

If a calname is passed, sets x-wr-calname to the given string.  Although not
specified in RFC2445, most calendar software respects x-wr-calname as the displayed
name of the calendar.

If the C&lt;rfc_strict&gt; flag is set to true, will require Data::ICal to include UIDs,
as per RFC2445, &#34;4.8.4.7 Unique Identifier ... The property MUST be specified in
the &#34;VEVENT&#34;, &#34;VTODO&#34;, &#34;VJOURNAL&#34; or &#34;VFREEBUSY&#34; calendar components&#34;

If the C&lt;auto_uid&gt; flag is set to true, will automatically generate a persistently
unique UID for this event &#40;within the configues of MD5 uniqueness&#41;.

If a filename or data argument is not passed, this just sets the object&#39;s C&lt;VERSION&gt;
and C&lt;PRODID&gt; properties to &#34;2.0&#34; &#40;or &#34;1.0&#34; if the C&lt;vcal10&gt; flag is passed&#41; and
the value of the C&lt;product_id&gt; method respectively.

Returns a false value upon failure to open or parse the file or data; this false
value is a L&lt;Class::ReturnValue&gt; object and can be queried as to its 
C&lt;error_message&gt;.

=cut

sub new {
    my $class = shift;
    my $self  = $class-&gt;SUPER::new&#40;@_&#41;;

    my %args = &#40;
        filename   =&gt; undef,
        calname    =&gt; undef,
        data       =&gt; undef,
        vcal10     =&gt; 0,
        rfc_strict =&gt; 0,
        auto_uid   =&gt; 0,
        @_
    &#41;;

    $self-&gt;vcal10&#40; $args{vcal10} &#41;;
    $self-&gt;rfc_strict&#40; $args{rfc_strict} &#41;;
    $self-&gt;auto_uid&#40; $args{auto_uid} &#41;;

    if &#40; defined $args{filename} or defined $args{data} &#41; {

        # might return a Class::ReturnValue if parsing fails
        return $self-&gt;parse&#40;%args&#41;;
    } else {
        $self-&gt;add_properties&#40;
            version =&gt; &#40; $self-&gt;vcal10 ? &#39;1.0&#39; : &#39;2.0&#39; &#41;,
            prodid =&gt; $self-&gt;product_id,
            &#39;x-wr-calname&#39; =&gt; $args{calname},
        &#41;;
        return $self;
    }
}

=head2 parse [ data =&gt; $data, ] [ filename =&gt; $file, ]

Parse a C&lt;.ics&gt; file or string containing one, and populate C&lt;$self&gt;
with its contents.

Should only be called once on a given object, and will be automatically
called by C&lt;new&gt; if you provide arguments to C&lt;new&gt;.

Returns C&lt;$self&gt; on success.  Returns a false value upon failure to
open or parse the file or data; this false value is a
L&lt;Class::ReturnValue&gt; object and can be queried as to its
C&lt;error_message&gt;.

=cut

sub parse {
    my $self = shift;
    my %args = &#40;
        filename =&gt; undef,
        data     =&gt; undef,
        @_
    &#41;;

    unless &#40; defined $args{filename} or defined $args{data} &#41; {
        return $self-&gt;_error&#40;
            &#34;parse called with no filename or data specified&#34;&#41;;
    }

    my @lines;

    # open the file &#40;checking as we go, like good little Perl mongers&#41;
    if &#40; defined $args{filename} &#41; {
        open my $fh, &#39;&lt;&#39;, $args{filename}
            or return $self-&gt;_error&#40;&#34;could not open &#39;$args{filename}&#39;: $!&#34;&#41;;
        @lines = map { chomp; $_ } &lt;$fh&gt;;
    } else {
        @lines = split /\r?\n/, $args{data};
    }

    @lines = $self-&gt;_vcal10_input_cleanup&#40;@lines&#41; if $self-&gt;vcal10;

    # Parse the lines; Text::vFile doesn&#39;t want trailing newlines
    my $cal = eval { Text::vFile::asData-&gt;new-&gt;parse_lines&#40;@lines&#41; };
    return $self-&gt;_error&#40;&#34;parse failure: $@&#34;&#41; if $@;

    return $self-&gt;_error&#40;&#34;parse failure&#34;&#41;
        unless $cal and exists $cal-&gt;{objects};

    # loop through all the vcards
    foreach my $object &#40; @{ $cal-&gt;{objects} } &#41; {
        $self-&gt;parse_object&#40;$object&#41;;
    }

    my $version_ref = $self-&gt;property&#40;&#34;version&#34;&#41;;
    my $version = $version_ref ? $version_ref-&gt;[0]-&gt;value : undef;
    unless &#40; defined $version &#41; {
        return $self-&gt;_error&#40;&#34;data does not specify a version property&#34;&#41;;
    }

    if &#40;   $version eq &#39;1.0&#39; and not $self-&gt;vcal10
        or $version eq &#39;2.0&#39; and $self-&gt;vcal10 &#41;
    {
        return $self-&gt;_error&#40; &#39;application claims data is&#39;
                . &#40; $self-&gt;vcal10 ? &#39;&#39; : &#39; not&#39; &#41;
                . &#39; vCal 1.0 but doc contains VERSION:&#39;
                . $version &#41;;
    }

    return $self;
}

sub _error {
    my $self = shift;
    my $msg  = shift;

    my $ret = Class::ReturnValue-&gt;new;
    $ret-&gt;as_error&#40; errno =&gt; 1, message =&gt; $msg &#41;;
    return $ret;
}

=head2 ical_entry_type

Returns C&lt;VCALENDAR&gt;, its iCalendar entry name.

=cut

sub ical_entry_type {&#39;VCALENDAR&#39;}

=head2 product_id

Returns the product ID used in the calendar&#39;s C&lt;PRODID&gt; property; you may
wish to override this in a subclass for your own application.

=cut

sub product_id {
    my $self = shift;
    return &#34;Data::ICal $VERSION&#34;;
}

=head2 mandatory_unique_properties

According to the iCalendar standard, the following properties must be specified
exactly one time for a calendar:

      prodid version

=cut

sub mandatory_unique_properties {
    qw&#40;
        prodid version
    &#41;;
}

=head2 optional_unique_properties

According to the iCalendar standard, the following properties may be specified
at most one time for a calendar:

      calscale method

=cut

sub optional_unique_properties {
    qw&#40;
        calscale method
    &#41;;
}

# In quoted-printable sections, convert from vcal10 &#34;=\n&#34; line endings to
# ical20 &#34;\n &#34;.
sub _vcal10_input_cleanup {
    my $self     = shift;
    my @in_lines = @_;

    my @out_lines;

    my $in_qp = 0;
LINE: while &#40;@in_lines&#41; {
        my $line = shift @in_lines;

        if &#40; not $in_qp and $line =~ /^[^:]+;ENCODING=QUOTED-PRINTABLE/i &#41; {
            $in_qp = 1;
        }

        unless &#40;$in_qp&#41; {
            push @out_lines, $line;
            next LINE;
        }

        if &#40; $line =~ s/=$// &#41; {
            push @out_lines, $line;
            $in_lines[0] = &#39; &#39; . $in_lines[0] if @in_lines;
        } else {
            push @out_lines, $line;
            $in_qp = 0;
        }
    }

    return @out_lines;
}

=head1 DEPENDENCIES

L&lt;Data::ICal&gt; requires L&lt;Class::Accessor&gt;, L&lt;Text::vFile::asData&gt;,
L&lt;MIME::QuotedPrint&gt;, and L&lt;Class::ReturnValue&gt;.

=head1 BUGS AND LIMITATIONS

L&lt;Data::ICal&gt; does not support time zone daylight or standard entries,
so time zone components are basically useless.

While L&lt;Data::ICal&gt; tries to check which properties are required and
repeatable, this only works in simple cases; it does not check for
properties that must either both exist or both not exist, or for
mutually exclusive properties.

L&lt;Data::ICal&gt; does not check to see if property parameter names are
known in general or allowed on the particular property.

L&lt;Data::ICal&gt; does not check to see if nested entries are nested
properly &#40;alarms in todos and events only, everything else in
calendars only&#41;.

The only property encoding supported by L&lt;Data::ICal&gt; is quoted
printable.

There is no L&lt;Data::ICal::Entry::Alarm&gt; base class.

Please report any bugs or feature requests to
C&lt;bug-data-ical@rt.cpan.org&gt;, or through the web interface at
L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org">http://rt.cpan.org</a></span>&gt;.


=head1 AUTHOR

Jesse Vincent C&lt;&lt; &lt;jesse@bestpractical.com&gt; &gt;&gt; with David Glasser,
Simon Wistow, and Alex Vandiver

=head1 LICENCE AND COPYRIGHT

Copyright &#40;c&#41; 2005 - 2009, Best Practical Solutions, LLC.  All rights reserved.

This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself. See L&lt;perlartistic&gt;.


=head1 DISCLAIMER OF WARRANTY

BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE SOFTWARE, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE SOFTWARE &#34;AS IS&#34; WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE
ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH
YOU. SHOULD THE SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
NECESSARY SERVICING, REPAIR, OR CORRECTION.

IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENCE, BE
LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL,
OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
THE SOFTWARE &#40;INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE SOFTWARE TO OPERATE WITH ANY OTHER SOFTWARE&#41;, EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
SUCH DAMAGES.

=cut

1;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Entry.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129446/594159/Entry.pm">Download Entry.pm</a><br />
<span class="downloadcontenttype">text/x-perl 18.1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129691" href="/Public/Bug/Display.html?id=56892#txn-1129691">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;13:36:08&nbsp;2012</span>
    <span class="description">trs [...] bestpractical.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56892] Entry UIDs are required by RFC2445 but not automatically generated</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Oct 2012 10:36:06 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-ICal [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Thomas Sibley &lt;trs [...] bestpractical.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129691/594283/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594283">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 823b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 10/15/2012 10:13 PM, Nathan Bailey via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Oct 15 18:51:32 2012, TSIBLEY wrote:
<div class="message-stanza open">&gt;&gt; We&#39;d probably also consider a patch for optionally auto-
&gt;&gt; generating UIDs if you&#39;d like to roll one.
</div>&gt; 
&gt; I&#39;m currently using an md5_base64 hash of the description followed by &#39;@hostname&#39;, but many 
&gt; people probably don&#39;t use the description, so perhaps an md5_base64 hash of the summary? Or 
&gt; perhaps summary + dtstart?
</div>
Perhaps.  There is also a suggested algorithm in the RFC.  Did you take
a look at it?

Thanks for the code!  The updates you submitted are more likely to be
reviewed and applied if you reformat them as actual individual patches
rather than the entire updated files.  Even more so if they&#39;re the
output of `git format-patch` with well written commit messages
explaining the reason for the change.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129959" href="/Public/Bug/Display.html?id=56892#txn-1129959">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;07:55:42&nbsp;2012</span>
    <span class="description">nathan.bailey [...] monash.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56892] Entry UIDs are required by RFC2445 but not automatically generated</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 22:55:26 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-ICal [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nathan Bailey &lt;nathan.bailey [...] monash.edu&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129959/594460/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594460">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 17 October 2012 04:36, trs@bestpractical.com via RT
&lt;bug-Data-ICal@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56892">https://rt.cpan.org/Ticket/Display.html?id=56892</a></span> &gt;
<div class="message-stanza open">&gt;&gt; I&#39;m currently using an md5_base64 hash of the description followed by &#39;@hostname&#39;, but many
&gt;&gt; people probably don&#39;t use the description, so perhaps an md5_base64 hash of the summary? Or
&gt;&gt; perhaps summary + dtstart?
</div>&gt;
&gt; Perhaps.  There is also a suggested algorithm in the RFC.  Did you take
&gt; a look at it?
</div>
Yes, but I tripped up on &#34;persistent&#34;  On re-reading it, I don&#39;t think
they quite mean it in the same way I was interpreting it; if a program
generates the same calendar event, it will have a different UID using
that algorithm. But perhaps, in a space-time way, it is a different
calendar event, merely with the same content :-&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the code!  The updates you submitted are more likely to be
&gt; reviewed and applied if you reformat them as actual individual patches
&gt; rather than the entire updated files.  Even more so if they&#39;re the
&gt; output of `git format-patch` with well written commit messages
&gt; explaining the reason for the change.
</div>
Sure, where is the git repository?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130067" href="/Public/Bug/Display.html?id=56892#txn-1130067">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;12:49:28&nbsp;2012</span>
    <span class="description">trs [...] bestpractical.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56892] Entry UIDs are required by RFC2445 but not automatically generated</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 09:49:25 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-ICal [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Thomas Sibley &lt;trs [...] bestpractical.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130067/594526/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594526">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 551b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 10/17/2012 04:55 AM, Nathan Bailey via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, but I tripped up on &#34;persistent&#34;  On re-reading it, I don&#39;t think
&gt; they quite mean it in the same way I was interpreting it; if a program
&gt; generates the same calendar event, it will have a different UID using
&gt; that algorithm. But perhaps, in a space-time way, it is a different
&gt; calendar event, merely with the same content :-&#41;
</div>
Hmmm, OK.  I only saw the start of the section, but didn&#39;t read far enough.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sure, where is the git repository?
</div>
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/bestpractical/data-ical">https://github.com/bestpractical/data-ical</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1464558" href="/Public/Bug/Display.html?id=56892#txn-1464558">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;17&nbsp;02:27:57&nbsp;2015</span>
    <span class="description">cpan [...] chmrr.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1464558/779512/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/779512">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 60b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.22, using patches based on the ones you provided.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1464561" href="/Public/Bug/Display.html?id=56892#txn-1464561">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;17&nbsp;02:27:58&nbsp;2015</span>
    <span class="description">cpan [...] chmrr.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.659501</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
