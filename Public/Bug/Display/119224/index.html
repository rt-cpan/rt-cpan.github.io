<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #119224 for PAR: Issue about Can&#39;t locate loadable object for module</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #119224 for PAR: Issue about Can&#39;t locate loadable object for module</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR">PAR CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">119224</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR/Active/">PAR</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cqu [...] factset.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24530-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.013    </td>
  </tr>
  <tr id="CF-24531-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;08:52:06&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 13:51:46 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR [...] rt.cpan.org&#34; &lt;bug-PAR [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi:

I&#39;m experiencing some difficulty when trying to generate a Linux executable on either redhat 6 or 7, I had different perl version installed 5.22.1 5.24.0 and all appear to have the same issue about Can&#39;t locate loadable object for module IO in @INC, it used to work with my 5.22.1 build, but when I try wipe it out and reinstall everything it started having the same issue as 5.24.0. I tried to debug this issue&#40;and still trying to dig into this&#41; and found the issue might come from the DynaLoader.pm.

Here&#39;s some log that I got:

With my working 5.22.1:

At the end our pp command:

DynaLoader::bootstrap for IO &#40;auto/IO/IO.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/cb956fef.so for IO
DynaLoader::bootstrap for Fcntl &#40;auto/Fcntl/Fcntl.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/f427f08b.so for Fcntl
DynaLoader::bootstrap for Cwd &#40;auto/Cwd/Cwd.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/79d49540.so for Cwd
DynaLoader::bootstrap for Compress::Raw::Zlib &#40;auto/Compress/Raw/Zlib/Zlib.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/82965e7f.so for Compress::Raw::Zlib
DynaLoader::bootstrap for List::Util &#40;auto/List/Util/Util.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/c75cefe0.so for List::Util
DynaLoader::bootstrap for Encode &#40;auto/Encode/Encode.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/39e584e7.so for Encode
DynaLoader::bootstrap for Data::Dumper &#40;auto/Data/Dumper/Dumper.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/ec5f6c39.so for Data::Dumper
DynaLoader::bootstrap for File::Glob &#40;auto/File/Glob/Glob.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/6f06096d.so for File::Glob
DynaLoader::bootstrap for PerlIO::scalar &#40;auto/PerlIO/scalar/scalar.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/b03ad7bd.so for PerlIO::scalar
DynaLoader::bootstrap for Tie::Hash::NamedCapture &#40;auto/Tie/Hash/NamedCapture/NamedCapture.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/70c28b04.so for Tie::Hash::NamedCapture
DynaLoader::bootstrap for attributes &#40;auto/attributes/attributes.so&#41;
found /tmp/par-637175/cache-11199021a1608d6df9ec28abe5e0ffcd/fb337197.so for attributes

DynaLoader seems to be able to find the share library file in the tmp directory

But with 5.24.0:

DynaLoader::bootstrap for Cwd &#40;auto/Cwd/Cwd.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Cwd/Cwd.so for Cwd
DynaLoader::bootstrap for IO &#40;auto/IO/IO.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/IO/IO.so for IO
DynaLoader::bootstrap for Fcntl &#40;auto/Fcntl/Fcntl.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Fcntl/Fcntl.so for Fcntl
DynaLoader::bootstrap for Compress::Raw::Zlib &#40;auto/Compress/Raw/Zlib/Zlib.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Compress/Raw/Zlib/Zlib.so for Compress::Raw::Zlib
DynaLoader::bootstrap for List::Util &#40;auto/List/Util/Util.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/List/Util/Util.so for List::Util
DynaLoader::bootstrap for Encode &#40;auto/Encode/Encode.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Encode/Encode.so for Encode
DynaLoader::bootstrap for Data::Dumper &#40;auto/Data/Dumper/Dumper.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Data/Dumper/Dumper.so for Data::Dumper
dl_findfile&#40;&#41;
dl_findfile found:
DynaLoader::bootstrap for File::Glob &#40;auto/File/Glob/Glob.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/99a7eb96.so for File::Glob
DynaLoader::bootstrap for PerlIO::scalar &#40;auto/PerlIO/scalar/scalar.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/2704eb0c.so for PerlIO::scalar
DynaLoader::bootstrap for Tie::Hash::NamedCapture &#40;auto/Tie/Hash/NamedCapture/NamedCapture.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/90acfd09.so for Tie::Hash::NamedCapture
DynaLoader::bootstrap for attributes &#40;auto/attributes/attributes.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/a1227989.so for attributes

it couldn&#39;t find the share so files in the /tmp directory.


I&#39;m not sure whether there&#39;s something wrong while copying the so files to the tmp directory, or the Dynaloader can&#39;t locate the so files, I&#39;m leaning towards the later.

If this is not a bug but a wrong setup due to my perl, I apologize about this spam.

Any suggestion would help.

Many thanks in advance,

Chenchen
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;09:29:15&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Queue changed from PAR to PAR-Packer</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;09:51:21&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please provide the versions of the following modules that you are using:

  Module::ScanDeps
  PAR
  PAR::Packer

Did you build PAR::Packer yourself? Esp. did you run &#34;make test&#34; and it passed?

Does this problem show for a simple &#34;hello world&#34; program, e.g.

$ pp -o hello.exe -e &#39;print &#34;hello, world\n&#34;&#39;
$ ./hello.exe

If yes, please include the complete output produced by running hello.exe.
Otherwise, provide a failing example script.


Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;09:51:22&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;09:59:50&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;10:10:49&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 15:10:22 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Verisons:

5.22.1: 
PAR: 1.010
PAR::Packer: 1.033
Module::ScanDeps: 1.21

5.24.0:
PAR: 1.013
PAR::Packer: 1.033 &#40;I used cpanm to install this version, 1.038 also fails so I guess this one is not related&#41;
Module::ScanDeps: 1.23


I didn&#39;t build these manually all files are installed through cpan. &#40;I thought it&#39;s a version issue with PAR::Packer so I installed it with cpanm using 1.033&#41;


Hellow world test:

5.22.1:

Pp log:

DynaLoader.pm loaded &#40;/home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1 /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1 . /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1 /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1 ., /usr/local/lib /home/fds/build/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64 /tmp/par-637175/cache-d35ba61c53c4c947465e383ad3f64554559354a7 /home/fds/build/lib64 /home/fds/build/FDSonline-1.0-201612120013/lib64 /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5/x86_64-linux-thread-multi/CORE /home/user/cqu/oracl_inst_client/instantclient_12_1&#41;
dl_findfile&#40;&#41;
dl_findfile found:
DynaLoader::bootstrap for Digest::SHA &#40;auto/Digest/SHA/SHA.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1/x86_64-linux/auto/Digest/SHA/SHA.so for Digest::SHA
 DynaLoader.pm loaded &#40;CODE&#40;0x16650b0&#41; /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/site_perl/5.22.1 /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1/x86_64-linux /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1 ., /usr/local/lib /home/fds/build/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64 /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65 /home/fds/build/lib64 /home/fds/build/FDSonline-1.0-201612120013/lib64 /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5/x86_64-linux-thread-multi/CORE /home/user/cqu/oracl_inst_client/instantclient_12_1&#41;
dl_findfile&#40;&#41;
dl_findfile found:
DynaLoader::bootstrap for IO &#40;auto/IO/IO.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/cb956fef.so for IO
 DynaLoader::bootstrap for Fcntl &#40;auto/Fcntl/Fcntl.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/f427f08b.so for Fcntl
 DynaLoader::bootstrap for Cwd &#40;auto/Cwd/Cwd.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/79d49540.so for Cwd
 DynaLoader::bootstrap for Compress::Raw::Zlib &#40;auto/Compress/Raw/Zlib/Zlib.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/82965e7f.so for Compress::Raw::Zlib
 DynaLoader::bootstrap for List::Util &#40;auto/List/Util/Util.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/c75cefe0.so for List::Util
 DynaLoader::bootstrap for Encode &#40;auto/Encode/Encode.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/39e584e7.so for Encode
 DynaLoader::bootstrap for Data::Dumper &#40;auto/Data/Dumper/Dumper.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/ec5f6c39.so for Data::Dumper
 DynaLoader::bootstrap for File::Glob &#40;auto/File/Glob/Glob.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/6f06096d.so for File::Glob
 DynaLoader::bootstrap for PerlIO::scalar &#40;auto/PerlIO/scalar/scalar.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/b03ad7bd.so for PerlIO::scalar
 DynaLoader::bootstrap for Tie::Hash::NamedCapture &#40;auto/Tie/Hash/NamedCapture/NamedCapture.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/70c28b04.so for Tie::Hash::NamedCapture
 DynaLoader::bootstrap for attributes &#40;auto/attributes/attributes.so&#41;
found /tmp/par-637175/cache-4211c63b3af2a77816815d06cd85ce2fe5320f65/fb337197.so for attributes
 DynaLoader::bootstrap for Digest::SHA &#40;auto/Digest/SHA/SHA.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.22.1/lib/5.22.1/x86_64-linux/auto/Digest/SHA/SHA.so for Digest::SHA

running log:

hello, world

5.24.0:

Pp log:

DynaLoader.pm loaded &#40;/home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0 /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 . /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0 /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 ., /usr/local/lib /home/fds/build/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64 /tmp/par-637175/cache-1f96b90f48b2549e260a6c2d7e28e28ecaec5750 /home/fds/build/lib64 /home/fds/build/FDSonline-1.0-201612120013/lib64 /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5/x86_64-linux-thread-multi/CORE /home/user/cqu/oracl_inst_client/instantclient_12_1&#41;
dl_findfile&#40;&#41;
dl_findfile found:
DynaLoader::bootstrap for Digest::SHA &#40;auto/Digest/SHA/SHA.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Digest/SHA/SHA.so for Digest::SHA
 DynaLoader.pm loaded &#40;CODE&#40;0x28b6c90&#41; /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0 /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 ., /usr/local/lib /home/fds/build/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64 /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8 /home/fds/build/lib64 /home/fds/build/FDSonline-1.0-201612120013/lib64 /export/fds/Linux_RHEL6_x86_64/lang/perl/5.12/lib/5.12.5/x86_64-linux-thread-multi/CORE /home/user/cqu/oracl_inst_client/instantclient_12_1&#41;
DynaLoader::bootstrap for Cwd &#40;auto/Cwd/Cwd.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Cwd/Cwd.so for Cwd
 DynaLoader::bootstrap for IO &#40;auto/IO/IO.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/IO/IO.so for IO
 DynaLoader::bootstrap for Fcntl &#40;auto/Fcntl/Fcntl.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Fcntl/Fcntl.so for Fcntl
 DynaLoader::bootstrap for Compress::Raw::Zlib &#40;auto/Compress/Raw/Zlib/Zlib.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Compress/Raw/Zlib/Zlib.so for Compress::Raw::Zlib
 DynaLoader::bootstrap for List::Util &#40;auto/List/Util/Util.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/List/Util/Util.so for List::Util
 DynaLoader::bootstrap for Encode &#40;auto/Encode/Encode.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Encode/Encode.so for Encode
 DynaLoader::bootstrap for Data::Dumper &#40;auto/Data/Dumper/Dumper.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Data/Dumper/Dumper.so for Data::Dumper
 dl_findfile&#40;&#41;
dl_findfile found:
DynaLoader::bootstrap for File::Glob &#40;auto/File/Glob/Glob.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/99a7eb96.so for File::Glob
 DynaLoader::bootstrap for PerlIO::scalar &#40;auto/PerlIO/scalar/scalar.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/2704eb0c.so for PerlIO::scalar
 DynaLoader::bootstrap for Tie::Hash::NamedCapture &#40;auto/Tie/Hash/NamedCapture/NamedCapture.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/90acfd09.so for Tie::Hash::NamedCapture
 DynaLoader::bootstrap for attributes &#40;auto/attributes/attributes.so&#41;
found /tmp/par-637175/cache-3a8e16187c7a034a209ade355b4de22b0efc79d8/a1227989.so for attributes
 DynaLoader::bootstrap for Digest::SHA &#40;auto/Digest/SHA/SHA.so&#41;
found /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/auto/Digest/SHA/SHA.so for Digest::SHA


running log:

Can&#39;t locate loadable object for module IO in @INC &#40;@INC contains: CODE&#40;0x13ab388&#41; /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0 /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 .&#41; at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
Compilation failed in require at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
BEGIN failed--compilation aborted at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
Compilation failed in require at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Seekable.pm line 101.
BEGIN failed--compilation aborted at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Seekable.pm line 101.
Compilation failed in require at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/File.pm line 133.
BEGIN failed--compilation aborted at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/File.pm line 133.
Compilation failed in require at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/Archive/Zip.pm line 7.
BEGIN failed--compilation aborted at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/Archive/Zip.pm line 7.
Compilation failed in require at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/PAR/Heavy.pm line 19.
BEGIN failed--compilation aborted at /home/user/cqu/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/PAR/Heavy.pm line 19.
Compilation failed in require at -e line 158.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Tuesday, December 13, 2016 2:52 PM
To: par@perl.org
Subject: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module

Tue Dec 13 09:51:21 2016: Request 119224 was acted upon.
Transaction: Correspondence added by RSCHUPP
       Queue: PAR-Packer
     Subject: Issue about Can&#39;t locate loadable object for module
   Broken in: &#40;no value&#41;
    Severity: &#40;no value&#41;
       Owner: Nobody
  Requestors: cqu@factset.com
      Status: new
 Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119224">https://rt.cpan.org/Ticket/Display.html?id=119224</a></span> &gt;


Please provide the versions of the following modules that you are using:

  Module::ScanDeps
  PAR
  PAR::Packer

Did you build PAR::Packer yourself? Esp. did you run &#34;make test&#34; and it passed?

Does this problem show for a simple &#34;hello world&#34; program, e.g.

$ pp -o hello.exe -e &#39;print &#34;hello, world\n&#34;&#39;
$ ./hello.exe

If yes, please include the complete output produced by running hello.exe.
Otherwise, provide a failing example script.


Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;10:40:24&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am 2016-12-13 10:10:49, cqu@factset.com schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Verisons:
&gt; 
&gt; 5.22.1:
&gt; PAR: 1.010
&gt; PAR::Packer: 1.033
&gt; Module::ScanDeps: 1.21
</div>
This is the one that works?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 5.24.0:
&gt; PAR: 1.013
&gt; PAR::Packer: 1.033 &#40;I used cpanm to install this version, 1.038 also
&gt; fails so I guess this one is not related&#41;
</div>
&#40;1&#41; There is no PAR::Packer 1.038
&#40;2&#41; It&#39;s highly unlikely that &#34;hello world&#34; fails while cpanm did install
PAR::Packer successfully &#40;unless you did &#34;cpan -f ...&#34;&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hellow world test:
&gt; 
&gt; 5.22.1:
&gt; 
&gt; Pp log:
</div>
What does &#34;Pp log&#34; do? Sorry, I can&#39;t wade thru its output. 
Please unset all PERL* environment variables &#40;esp. PERL5LIB&#41;, then run
just the two commands in &#34;hello world&#34; example from my previous message.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;11:05:48&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 16:05:15 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;, &#34;par [...] perl.org&#34; &lt;par [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roderich:

Sorry I remembered the version wrong, the version for PAR::Packer that originally installed on perl-5.24.0 was 1.035 which causes the failure, so I reinstalled that with 1.033 and the failure still exist.

The pp log is just me setting the DynaLoader.pm to print out debug messages, trying to figure out why it couldn&#39;t find the so files from the /tmp directory.

I tried with completely new environment, I spin up a new box with perl-5.24.0 installed:

 5.24.0:
 PAR: 1.013
 PAR::Packer: 1.035
 Module::ScanDeps: 1.23


And the result I got is:

Can&#39;t locate loadable object for module IO in @INC &#40;@INC contains: CODE&#40;0x258ae98&#41; /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0 /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 .&#41; at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
Compilation failed in require at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
BEGIN failed--compilation aborted at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Handle.pm line 269.
Compilation failed in require at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Seekable.pm line 101.
BEGIN failed--compilation aborted at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/Seekable.pm line 101.
Compilation failed in require at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/File.pm line 133.
BEGIN failed--compilation aborted at /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-multi/IO/File.pm line 133.
Compilation failed in require at /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/Archive/Zip.pm line 7.
BEGIN failed--compilation aborted at /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/Archive/Zip.pm line 7.
Compilation failed in require at /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/PAR/Heavy.pm line 19.
BEGIN failed--compilation aborted at /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0/PAR/Heavy.pm line 19.
Compilation failed in require at -e line 158.


Can I ask how does the mangled file in the /tmp directory get copied in the first place? 

Thanks
Chenchen



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Tuesday, December 13, 2016 3:41 PM
To: par@perl.org
Subject: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module

Tue Dec 13 10:40:24 2016: Request 119224 was acted upon.
Transaction: Correspondence added by RSCHUPP
       Queue: PAR-Packer
     Subject: Issue about Can&#39;t locate loadable object for module
   Broken in: &#40;no value&#41;
    Severity: &#40;no value&#41;
       Owner: RSCHUPP
  Requestors: cqu@factset.com
      Status: open
 Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119224">https://rt.cpan.org/Ticket/Display.html?id=119224</a></span> &gt;


Am 2016-12-13 10:10:49, cqu@factset.com schrieb:
<div class="message-stanza open">&gt; Verisons:
&gt; 
&gt; 5.22.1:
&gt; PAR: 1.010
&gt; PAR::Packer: 1.033
&gt; Module::ScanDeps: 1.21
</div>
This is the one that works?

<div class="message-stanza open">&gt; 5.24.0:
&gt; PAR: 1.013
&gt; PAR::Packer: 1.033 &#40;I used cpanm to install this version, 1.038 also 
&gt; fails so I guess this one is not related&#41;
</div>
&#40;1&#41; There is no PAR::Packer 1.038
&#40;2&#41; It&#39;s highly unlikely that &#34;hello world&#34; fails while cpanm did install PAR::Packer successfully &#40;unless you did &#34;cpan -f ...&#34;&#41;

<div class="message-stanza open">&gt; Hellow world test:
&gt; 
&gt; 5.22.1:
&gt; 
&gt; Pp log:
</div>
What does &#34;Pp log&#34; do? Sorry, I can&#39;t wade thru its output. 
Please unset all PERL* environment variables &#40;esp. PERL5LIB&#41;, then run just the two commands in &#34;hello world&#34; example from my previous message.

Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;11:27:52&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am 2016-12-13 11:05:48, cqu@factset.com schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I tried with completely new environment, I spin up a new box with
&gt; perl-5.24.0 installed:
&gt; 
&gt; 5.24.0:
&gt; PAR: 1.013
&gt; PAR::Packer: 1.035
&gt; Module::ScanDeps: 1.23
&gt; 
&gt; 
&gt; And the result I got is:
&gt; 
&gt; Can&#39;t locate loadable object for module IO in @INC &#40;@INC contains:
&gt; CODE&#40;0x258ae98&#41; /root/perl5/perlbrew/perls/perl-
&gt; 5.24.0/lib/site_perl/5.24.0/x86_64-linux-thread-multi
&gt; /root/perl5/perlbrew/perls/perl-5.24.0/lib/site_perl/5.24.0
&gt; /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-
&gt; multi /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0 .&#41; at
&gt; /root/perl5/perlbrew/perls/perl-5.24.0/lib/5.24.0/x86_64-linux-thread-
&gt; multi/IO/Handle.pm line 269.
</div>
That line does not make any sense. Are you sure that calling pp 
in this environment invokes /root/perl5/perlbrew/perls/perl-5.24.0/bin/pp?

Plase provide the unabridged output of the following commands:

perl -V
cpanm -v --reinstall PAR::Packer


Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;11:38:24&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 16:38:05 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;14:37:35&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 19:37:14 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;16:06:01&nbsp;2016</span>
    <span class="description">ahippo [...] yandex.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 16:05:49 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-par-packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andrey &lt;ahippo [...] yandex.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I had the same problem with perl-5.22.2, PAR-1.013, PAR::Packer-1.035, and Module::ScanDeps-1.23.

I managed to workaround it by downgrading PAR to 1.011.
&#40;1.012 is also broken&#41;

Now, executables produced with pp seem to work fine.


Roderich, please, let me know if you want me to test a fix or something.

Thank you,

-- 
Andrey.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;17:43:04&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> ahippo [...] yandex.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-12-13 16:06:01, ahippo@yandex.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I had the same problem with perl-5.22.2, PAR-1.013, PAR::Packer-1.035,
&gt; and Module::ScanDeps-1.23.
&gt; 
&gt; I managed to workaround it by downgrading PAR to 1.011.
&gt; &#40;1.012 is also broken&#41;
</div>
1.012 is definitely broken.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now, executables produced with pp seem to work fine.
</div>
Yeah, I&#39;m beginning to suspect that the problem is in PAR, not in PAR::Packer.
Though I don&#39;t know why I can&#39;t reproduce it. 
Can you try the attached patch for PAR &#40;on top of PAR 1.013&#41;?


Cheers, Roderich
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Heavy.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/lib/PAR/Heavy.pm b/lib/PAR/Heavy.pm
index feadae6..eccc42f 100644
--- a/lib/PAR/Heavy.pm
+++ b/lib/PAR/Heavy.pm
@@ -16,7 +16,6 @@ No user-serviceable parts inside.
 =cut
 
 use File::Spec;
-use Archive::Zip qw&#40; :ERROR_CODES &#41;; 
 
 ########################################################################
 # Dynamic inclusion of XS modules
@@ -136,7 +135,7 @@ sub _dl_extract {
     # extract it under a temporary name that isn&#39;t likely to be used
     # by concurrent processes doing the same
     my $tempname = &#34;$filename.$$&#34;;
-    $member-&gt;extractToFileNamed&#40;$tempname&#41; == AZ_OK
+    $member-&gt;extractToFileNamed&#40;$tempname&#41; == Archive::Zip::AZ_OK
         or die &#34;Can&#39;t extract archive member &#34;.$member-&gt;fileName.&#34; to $tempname: $!&#34;;
 
     # now that we have a &#34;good&#34; copy in $tempname, rename it to $filename;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;18:37:52&nbsp;2016</span>
    <span class="description">ahippo [...] yandex.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2016 18:37:30 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-par-packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andrey &lt;ahippo [...] yandex.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yeah, I&#39;m beginning to suspect that the problem is in PAR, not in PAR::Packer.
&gt; Though I don&#39;t know why I can&#39;t reproduce it.
</div>Hm, that&#39;s strange, because even &#34;hello.exe&#34; doesn&#39;t work.
I&#39;ve built a fresh perl-5.22.2 using perlbrew on CentOS 5.9 and then installed PAR::Packer using cpan.
I&#39;ve also installed PAR::Packer from cpan on an up-to-date Gentoo machine running perl-5.22.2 and PAR 1.013.
Both hello.exe&#39;s die with &#34;Can&#39;t locate loadable object for module IO&#34;.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you try the attached patch for PAR &#40;on top of PAR 1.013&#41;?
</div>Sure.
It now works!
Both on CentOS 5 and Gentoo.
A more sophisticated script now works just fine too.

Thank you so much for the patch!

-- 
Andrey.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;07:12:16&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Dec 2016 12:11:59 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roderich:

After applying the patch my executable works fine now, thank you for giving out the fix

Chenchen

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Tuesday, December 13, 2016 10:43 PM
To: Chenchen Qu &lt;cqu@factset.com&gt;
Subject: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119224">https://rt.cpan.org/Ticket/Display.html?id=119224</a></span> &gt;

On 2016-12-13 16:06:01, ahippo@yandex.com wrote:
<div class="message-stanza open">&gt; I had the same problem with perl-5.22.2, PAR-1.013, PAR::Packer-1.035, 
&gt; and Module::ScanDeps-1.23.
&gt; 
&gt; I managed to workaround it by downgrading PAR to 1.011.
&gt; &#40;1.012 is also broken&#41;
</div>
1.012 is definitely broken.

<div class="message-stanza open">&gt; Now, executables produced with pp seem to work fine.
</div>
Yeah, I&#39;m beginning to suspect that the problem is in PAR, not in PAR::Packer.
Though I don&#39;t know why I can&#39;t reproduce it. 
Can you try the attached patch for PAR &#40;on top of PAR 1.013&#41;?


Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:13:38&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> ahippo [...] yandex.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you both for testing the fix!
I&#39;m going to release a fixed PAR over the weekend.
In hindsight it was a silly idea to &#34;use&#34; anything in PAR/Heavy.pm
&#40;esp. anything that could directly or recursively load an XS module&#41;.
After all, PAR/Heavy.pm contains the machinery that allows XSLoader 
or DynaLoader to load XS modules from a packed executable or .par archive.

But I&#39;m still puzzled about the fact that PAR::Packer&#39;s self test passes
&#40;which packs and runs a variety of simple scripts&#41;, but the &#34;hello world&#34;
example bombs out for you &#40;but not on my test systems&#41;.
So that we&#39;re all on the same page here: 
Did you *run* the &#34;hello world&#34; executable on the *same* machine 
where you generated it &#40;with pp&#41;?

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:14:22&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Queue changed from PAR-Packer to PAR</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:14:42&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Broken in 1.013 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:18:22&nbsp;2016</span>
    <span class="description">cqu [...] factset.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Dec 2016 16:18:06 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;, &#34;par [...] perl.org&#34; &lt;par [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chenchen Qu &lt;cqu [...] factset.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No, I ran it on new machine, I guess if your test script is able to locate the share library somewhere in your system it could still pass your test.

Thanks for the quick fix!

Chenchen

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Wednesday, December 14, 2016 4:14 PM
To: par@perl.org
Subject: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module

Wed Dec 14 11:13:38 2016: Request 119224 was acted upon.
Transaction: Correspondence added by RSCHUPP
       Queue: PAR-Packer
     Subject: Issue about Can&#39;t locate loadable object for module
   Broken in: &#40;no value&#41;
    Severity: &#40;no value&#41;
       Owner: RSCHUPP
  Requestors: cqu@factset.com
      Status: open
 Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119224">https://rt.cpan.org/Ticket/Display.html?id=119224</a></span> &gt;


Thank you both for testing the fix!
I&#39;m going to release a fixed PAR over the weekend.
In hindsight it was a silly idea to &#34;use&#34; anything in PAR/Heavy.pm &#40;esp. anything that could directly or recursively load an XS module&#41;.
After all, PAR/Heavy.pm contains the machinery that allows XSLoader or DynaLoader to load XS modules from a packed executable or .par archive.

But I&#39;m still puzzled about the fact that PAR::Packer&#39;s self test passes &#40;which packs and runs a variety of simple scripts&#41;, but the &#34;hello world&#34;
example bombs out for you &#40;but not on my test systems&#41;.
So that we&#39;re all on the same page here: 
Did you *run* the &#34;hello world&#34; executable on the *same* machine where you generated it &#40;with pp&#41;?

Cheers, Roderich

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:43:49&nbsp;2016</span>
    <span class="description">ahippo [...] yandex.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Dec 2016 12:43:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-par-packer [...] rt.cpan.org&gt;, bug-par [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andrey &lt;ahippo [...] yandex.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you both for testing the fix!
</div>
No problem.
The fix came right in time!
I was really desperate and looking for other packagers for perl.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m going to release a fixed PAR over the weekend.
</div>
Great news, thank you so much!


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I&#39;m still puzzled about the fact that PAR::Packer&#39;s self test passes
&gt; &#40;which packs and runs a variety of simple scripts&#41;, but the &#34;hello world&#34;
&gt; example bombs out for you &#40;but not on my test systems&#41;.
&gt; So that we&#39;re all on the same page here:
&gt; Did you *run* the &#34;hello world&#34; executable on the *same* machine
&gt; where you generated it &#40;with pp&#41;?
</div>
No, I ran it on a different clean machine.
I guess, it worked fine on the build machine because it loaded everything from system-wide perl.

The simplest way to get a clean environment for me is to setup a minimalistic chroot:
mkdir -p chroot/{dev,tmp,lib64}
mount --rbind /dev chroot/dev
mount --bind /lib64 chroot/lib64
mount --bind -o ro,remount /lib64 chroot/lib64 # yes, a separate remount is needed with util-linux &lt; 2.27
cp hello.exe chroot/
chroot ./chroot /hello.exe

It has a downside of running hello.exe as root though.

Not sure, how to plug this in Packer&#39;s self-tests though.
An LD_PRELOAD library that hides system-wide perl might work.

-- 
Andrey.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:43:51&nbsp;2016</span>
    <span class="description">ahippo [...] yandex.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Dec 2016 12:43:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-par-packer [...] rt.cpan.org&gt;, bug-par [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andrey &lt;ahippo [...] yandex.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you both for testing the fix!
</div>
No problem.
The fix came right in time!
I was really desperate and looking for other packagers for perl.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m going to release a fixed PAR over the weekend.
</div>
Great news, thank you so much!


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I&#39;m still puzzled about the fact that PAR::Packer&#39;s self test passes
&gt; &#40;which packs and runs a variety of simple scripts&#41;, but the &#34;hello world&#34;
&gt; example bombs out for you &#40;but not on my test systems&#41;.
&gt; So that we&#39;re all on the same page here:
&gt; Did you *run* the &#34;hello world&#34; executable on the *same* machine
&gt; where you generated it &#40;with pp&#41;?
</div>
No, I ran it on a different clean machine.
I guess, it worked fine on the build machine because it loaded everything from system-wide perl.

The simplest way to get a clean environment for me is to setup a minimalistic chroot:
mkdir -p chroot/{dev,tmp,lib64}
mount --rbind /dev chroot/dev
mount --bind /lib64 chroot/lib64
mount --bind -o ro,remount /lib64 chroot/lib64 # yes, a separate remount is needed with util-linux &lt; 2.27
cp hello.exe chroot/
chroot ./chroot /hello.exe

It has a downside of running hello.exe as root though.

Not sure, how to plug this in Packer&#39;s self-tests though.
An LD_PRELOAD library that hides system-wide perl might work.

-- 
Andrey.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;14:33:26&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> ahippo [...] yandex.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Again, thanks to both of you. Puzzle solved!

A bit of explanation: When a packed executable runs, its @INC will only contain
paths inside of the cache area &#40;usually /tmp/par-XXX/SOME-SHA1&#41; &#40;plus some CODE refs&#41;.
The self test will check for this.
 
However, this is only correct once the bootstrap phase is finished. 
During bootstrap we might still see remnants of the perl built-in @INC, but if
everythings works as planned we do not call any operation that causes a search
in @INC. Except for stupid mistakes which go undetected if we&#39;re running the executable
in the same environment where we packed it :&#40;

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;11:30:33&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in PAR 1.014, just released to CPAN

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;11:30:45&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;19&nbsp;18:05:47&nbsp;2016</span>
    <span class="description">ahippo [...] yandex.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119224] Issue about Can&#39;t locate loadable object for module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Dec 2016 18:05:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR [...] rt.cpan.org&#34; &lt;bug-par [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Andrey &lt;ahippo [...] yandex.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fixed in PAR 1.014, just released to CPAN
</div>
Awesome, thank you so much for releasing so quickly!
I&#39;ve just updated to PAR-1.014 and it works great!

Thank you again!

-- 
Andrey.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
