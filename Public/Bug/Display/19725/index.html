<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #19725 for Audio-MPEG: Will not make</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #19725 for Audio-MPEG: Will not make</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Audio-MPEG">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Audio-MPEG">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Audio-MPEG">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Audio-MPEG">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Audio-MPEG">Audio-MPEG CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">19725</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Audio-MPEG">Audio-MPEG</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
LGODDARD [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-3054-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.04    </td>
  </tr>
  <tr id="CF-3055-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




audio.c<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/414486/202283/audio.c">
Mon Jan 28 10:14:42 2008 (22.4k) by phrack2561 [...] gmail.com
</a>
</font></li>
</ul>


encode.h<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/414486/202280/encode.h">
Mon Jan 28 10:14:39 2008 (1.2k) by phrack2561 [...] gmail.com
</a>
</font></li>
</ul>


lame_global_flags.h<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/414486/202289/lame_global_flags.h">
Mon Jan 28 10:14:47 2008 (7.8k) by phrack2561 [...] gmail.com
</a>
</font></li>
</ul>


lee.vcf<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/205672/78378/lee.vcf">
Thu Jun 08 14:31:23 2006 (238b) by west.finchley [...] leegoddard.net
</a>
</font></li>
</ul>


MPEG.xs<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/414486/202286/MPEG.xs">
Mon Jan 28 10:14:46 2008 (23.9k) by phrack2561 [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=19725">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-204320" href="/Public/Bug/Display.html?id=19725#txn-204320">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;06&nbsp;03:18:02&nbsp;2006</span>
    <span class="description">LGODDARD [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Will not make</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/204320/77445/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/77445">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 12.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-204401" href="/Public/Bug/Display.html?id=19725#txn-204401">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;06&nbsp;07:33:30&nbsp;2006</span>
    <span class="description">LGODDARD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Old Lame, New Perl?</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/204401/77479/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/77479">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Have now tried with the old LAME mentioned in the POD, and I presume 
my Perl is now too new...

  CPAN.pm: Going to build P/PT/PTIMOF/Audio-MPEG-0.04.tar.gz

Checking if your kit is complete...
Looks good
Writing Makefile for Audio::MPEG
cp MPEG.pm blib/lib/Audio/MPEG.pm
/usr/bin/perl /usr/lib/perl5/5.8.5/ExtUtils/xsubpp  -
typemap /usr/lib/perl5/5.8.5/ExtUtils/typemap -typemap typemap  
MPEG.xs &gt; MPEG.xsc &#38;&#38; mv MPEG.xsc MPEG.c
gcc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -
pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -
I/usr/include/gdbm -O2   -DVERSION=\&#34;0.04\&#34; -DXS_VERSION=\&#34;0.04\&#34; -
fPIC &#34;-I/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE&#34;   MPEG.c
MPEG.xs: In function `XS_Audio__MPEG__Decode_new&#39;:
MPEG.xs:59: warning: use of cast expressions as lvalues is deprecated
MPEG.xs: In function `XS_Audio__MPEG__Output_new&#39;:
MPEG.xs:354: warning: use of cast expressions as lvalues is deprecated
MPEG.xs: In function `XS_Audio__MPEG__Encode_new&#39;:
MPEG.xs:602: warning: use of cast expressions as lvalues is deprecated
ar rv libmpeg.a MPEG.o
ar: creating libmpeg.a
a - MPEG.o
gcc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-aliasing -
pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -
I/usr/include/gdbm -O2   -DVERSION=\&#34;0.04\&#34; -DXS_VERSION=\&#34;0.04\&#34; -
fPIC &#34;-I/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE&#34;   audio.c
audio.c: In function `audio_pcm_float&#39;:
audio.c:986: error: long, short, signed or unsigned used invalidly for 
`sample0&#39;
audio.c:986: error: long, short, signed or unsigned used invalidly for 
`sample1&#39;
make: *** [audio.o] Error 1
  /usr/bin/make  -- NOT OK
Running make test
  Can&#39;t test without successful make
Running make install
  make had returned bad status, install seems impossible
Failed during this command:
  PTIMOF/Audio-MPEG-0.04.tar.gz                : make NO

                                                                       
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">                                                       cpan&gt; exit
</div>Lockfile removed.
bash-3.00# perl -V
Summary of my perl5 &#40;revision 5 version 8 subversion 5&#41; configuration:
  Platform:
    osname=linux, osvers=2.6.9-22.0.1.elsmp, archname=i386-linux-
thread-multi
    uname=&#39;linux build-i386 2.6.9-22.0.1.elsmp #1 smp thu oct 27 
13:14:25 cdt 2005 i686 i686 i386 gnulinux &#39;
    config_args=&#39;-des -Doptimize=-O2 -g -pipe -m32 -march=i386 -
mtune=pentium4 -Dversion=5.8.5 -Dmyhostname=localhost -
Dperladmin=root@localhost -Dcc=gcc -Dcf_by=Red Hat, Inc. -
Dinstallprefix=/usr -Dprefix=/usr -Darchname=i386-linux -
Dvendorprefix=/usr -Dsiteprefix=/usr -Duseshrplib -Dusethreads -
Duseithreads -Duselargefiles -Dd_dosuid -Dd_semctl_semun -Di_db -
Ui_ndbm -Di_gdbm -Di_shadow -Di_syslog -Dman3ext=3pm -Duseperlio -
Dinstallusrbinperl -Ubincompat5005 -Uversiononly -
Dpager=/usr/bin/less -isr -Dinc_version_list=5.8.4 5.8.3 5.8.2 5.8.1 
5.8.0&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define 
usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-
strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -
D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm&#39;,
    optimize=&#39;-O2 -g -pipe -m32 -march=i386 -mtune=pentium4&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DDEBUGGING -fno-strict-
aliasing -pipe -I/usr/local/include -I/usr/include/gdbm&#39;
    ccversion=&#39;&#39;, gccversion=&#39;3.4.4 20050721 &#40;Red Hat 3.4.4-2&#41;&#39;, 
gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, 
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lpthread -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=/lib/libc-2.3.4.so, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;2.3.4&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E -
Wl,-rpath,/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: DEBUGGING MULTIPLICITY USE_ITHREADS 
USE_LARGE_FILES PERL_IMPLICIT_CONTEXT
  Built under linux
  Compiled at Dec 21 2005 06:35:04
  @INC:
    /usr/lib/perl5/5.8.5/i386-linux-thread-multi
    /usr/lib/perl5/5.8.5
    /usr/lib/perl5/site_perl/5.8.5/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.4/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.3/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.2/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.1/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.0/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.8.5
    /usr/lib/perl5/site_perl/5.8.4
    /usr/lib/perl5/site_perl/5.8.3
    /usr/lib/perl5/site_perl/5.8.2
    /usr/lib/perl5/site_perl/5.8.1
    /usr/lib/perl5/site_perl/5.8.0
    /usr/lib/perl5/site_perl
    /usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.4/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.3/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.2/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.1/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.8.5
    /usr/lib/perl5/vendor_perl/5.8.4
    /usr/lib/perl5/vendor_perl/5.8.3
    /usr/lib/perl5/vendor_perl/5.8.2
    /usr/lib/perl5/vendor_perl/5.8.1
    /usr/lib/perl5/vendor_perl/5.8.0
    /usr/lib/perl5/vendor_perl
    .
bash-3.00#
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-205591" href="/Public/Bug/Display.html?id=19725#txn-205591">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;08&nbsp;11:34:31&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SNEVINE</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/205591/78317/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/78317">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 240b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Those errors are compilation errors with gcc.  They don&#39;t really have
anything to do with Perl.

Because of the massive amount of argument warnings and missing members,
my guess would be that there&#39;s some serious library conflicts going on.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-205592" href="/Public/Bug/Display.html?id=19725#txn-205592">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;08&nbsp;11:34:32&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-205672" href="/Public/Bug/Display.html?id=19725#txn-205672">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;08&nbsp;14:31:23&nbsp;2006</span>
    <span class="description">west.finchley [...] leegoddard.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #19725] Will not make</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 08 Jun 2006 19:30:16 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Audio-MPEG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Lee Goddard &lt;lee [...] leegoddard.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/205672/78377/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/78377">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 864b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=19725">http://rt.cpan.org/Ticket/Display.html?id=19725</a></span> &gt;
&gt;
&gt; Those errors are compilation errors with gcc.  They don&#39;t really have
&gt; anything to do with Perl.
&gt;
&gt; Because of the massive amount of argument warnings and missing members,
&gt; my guess would be that there&#39;s some serious library conflicts going on.
&gt;
&gt;   
</div>I think it is relevant to the module in that I reduced the errors and 
warnings by downgrading the version of LAME used to that which the 
author used, but does not check for.

FWIW The resulting warnings look to my untrained and scanning eye to be 
related to a change in XS between the writing of the module and the 
release of my quite recent perl.

Either way it would be nice if the module made some deeper checks for 
what it needs.

LAME is fine on my system, as is MAD - Audio::MAD is spreading the joy 
nicely...

Lee
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/205672/78378/lee.vcf">Download lee.vcf</a><br />
<span class="downloadcontenttype">text/x-vcard 238b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-414486" href="/Public/Bug/Display.html?id=19725#txn-414486">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;10:14:33&nbsp;2008</span>
    <span class="description">phrack2561 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> phrack2561 [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/414486/202277/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/202277">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">在 2006-06-08 14:31:23 星期四 时，west.finchley@leegoddard.net 写到：
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Guest via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=19725">http://rt.cpan.org/Ticket/Display.html?id=19725</a></span> &gt;
&gt; &gt;
&gt; &gt; Those errors are compilation errors with gcc.  They don&#39;t really have
&gt; &gt; anything to do with Perl.
&gt; &gt;
&gt; &gt; Because of the massive amount of argument warnings and missing members,
&gt; &gt; my guess would be that there&#39;s some serious library conflicts going on.
&gt; &gt;
&gt; &gt;   
</div>&gt; I think it is relevant to the module in that I reduced the errors and 
&gt; warnings by downgrading the version of LAME used to that which the 
&gt; author used, but does not check for.
&gt; 
&gt; FWIW The resulting warnings look to my untrained and scanning eye to be 
&gt; related to a change in XS between the writing of the module and the 
&gt; release of my quite recent perl.
&gt; 
&gt; Either way it would be nice if the module made some deeper checks for 
&gt; what it needs.
&gt; 
&gt; LAME is fine on my system, as is MAD - Audio::MAD is spreading the joy 
&gt; nicely...
&gt; 
&gt; Lee
</div>

I encountered the same problem, and some warning become error in my
environment.

System: Ubuntu 7.10
Gcc:  4.1.3
perl: 5.8.8
Lame: 3.97
Mad:  0.15.1b

After investigation, I found it mainly caused by macro Newz and variable
flags&#40;type is lame_t&#41;.

Using Newz&#40;0, &#40;void *&#41;RETVAL, sizeof&#40;*RETVAL&#41;, char&#41; caused the follow
problem:
MPEG.xs: In function &#39;XS_Audio__MPEG__Decode_new&#39;:
MPEG.xs:59: error: invalid lvalue in assignment

After macro expansion, the parameter &#40;void *&#41;RETVAL used as a lvalue.
Type-cast for a lvalue is a warning in some early version of gcc, but an
 error in my current version. So I have to change &#40;void *&#41;RETVAL into
RETVAL when using Newz.

Lots of errors caused by flags which defined as lame_t *flags in file
encode.h. Look into lame.h, we can found:
struct lame_global_struct;
typedef struct lame_global_struct lame_global_flags;
typedef lame_global_flags *lame_t;

So flags is a pointer of pointer which point to a  struct
lame_global_struct, obvious, it is not the author&#39;s intention.&#40;I think
the lame.h has changed&#41;. Anyway, we have to change all lame_t * into lame_t.

And then make will be successful, you can use it normally, although it
still can not through the &#39;make test&#39;.


Btw: I found there isn&#39;t lame_global_flags.h in the liblame-dev, which
defines the struct lame_global_struct, so I found one from internet.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/414486/202280/encode.h">Download encode.h</a><br />
<span class="downloadcontenttype">text/x-chdr 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">/*
 * $Id: encode.h,v 1.1.1.1 2001/06/17 01:37:51 ptimof Exp $
 *
 * Copyright &#40;c&#41; 2001 Peter Timofejew. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * &#40;at your option&#41; any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 *
 */

#ifndef AUDIO_MPEG_ENCODE_H
#define AUDIO_MPEG_ENCODE_H

#include &lt;lame/lame.h&gt;
#include &lt;lame/lame_global_flags.h&gt;
#include &#34;audio.h&#34;

struct audio_mpeg_encode {
	lame_t					flags;
	unsigned int			encode_delay_applied;
};

typedef struct audio_mpeg_encode * Audio_MPEG_Encode;

int encode_new&#40;Audio_MPEG_Encode&#41;;
void encode_DESTROY&#40;Audio_MPEG_Encode&#41;;
unsigned int lame_encode_buffer_interleaved_float&#40;lame_t , float *,
	unsigned int, unsigned char *, unsigned int&#41;;

#endif
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/414486/202283/audio.c">Download audio.c</a><br />
<span class="downloadcontenttype">text/x-csrc 22.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/414486/202286/MPEG.xs">Download MPEG.xs</a><br />
<span class="downloadcontenttype">text/x-csrc 23.9k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/414486/202289/lame_global_flags.h">Download lame_global_flags.h</a><br />
<span class="downloadcontenttype">text/x-chdr 7.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#ifndef LAME_GLOBAL_FLAGS_H
#define LAME_GLOBAL_FLAGS_H

#ifndef lame_internal_flags_defined
#define lame_internal_flags_defined
struct lame_internal_flags;
typedef struct lame_internal_flags lame_internal_flags;
#endif


typedef enum short_block_e {
    short_block_not_set = -1, /* allow LAME to decide */
    short_block_allowed = 0, /* LAME may use them, even different block types for L/R */
    short_block_coupled, /* LAME may use them, but always same block types in L/R */
    short_block_dispensed, /* LAME will not use short blocks, long blocks only */
    short_block_forced  /* LAME will not use long blocks, short blocks only */
} short_block_t;

/***********************************************************************
*
*  Control Parameters set by User.  These parameters are here for
*  backwards compatibility with the old, non-shared lib API.
*  Please use the lame_set_variablename&#40;&#41; functions below
*
*
***********************************************************************/
struct lame_global_struct {
    /* input description */
    unsigned long num_samples; /* number of samples. default=2^32-1           */
    int     num_channels;    /* input number of channels. default=2         */
    int     in_samplerate;   /* input_samp_rate in Hz. default=44.1 kHz     */
    int     out_samplerate;  /* output_samp_rate.
                                default: LAME picks best value
                                at least not used for MP3 decoding:
                                Remember 44.1 kHz MP3s and AC97           */
    float   scale;           /* scale input by this amount before encoding
                                at least not used for MP3 decoding          */
    float   scale_left;      /* scale input of channel 0 &#40;left&#41; by this
                                amount before encoding                      */
    float   scale_right;     /* scale input of channel 1 &#40;right&#41; by this
                                amount before encoding                      */

    /* general control params */
    int     analysis;        /* collect data for a MP3 frame analyzer?      */
    int     bWriteVbrTag;    /* add Xing VBR tag?                           */
    int     decode_only;     /* use lame/mpglib to convert mp3 to wav       */
    int     quality;         /* quality setting 0=best,  9=worst  default=5 */
    MPEG_mode mode;          /* see enum in lame.h
                                default = LAME picks best value             */
    int     force_ms;        /* force M/S mode.  requires mode=1            */
    int     free_format;     /* use free format? default=0                  */
    int     findReplayGain;  /* find the RG value? default=0       */
    int     decode_on_the_fly; /* decode on the fly? default=0                */

    /*
     * set either brate&gt;0  or compression_ratio&gt;0, LAME will compute
     * the value of the variable not set.
     * Default is compression_ratio = 11.025
     */
    int     brate;           /* bitrate                                    */
    float   compression_ratio; /* sizeof&#40;wav file&#41;/sizeof&#40;mp3 file&#41;          */


    /* frame params */
    int     copyright;       /* mark as copyright. default=0           */
    int     original;        /* mark as original. default=1            */
    int     extension;       /* the MP3 &#39;private extension&#39; bit.
                                Meaningless                            */
    int     emphasis;        /* Input PCM is emphased PCM &#40;for
                                instance from one of the rarely
                                emphased CDs&#41;, it is STRONGLY not
                                recommended to use this, because
                                psycho does not take it into account,
                                and last but not least many decoders
                                don&#39;t care about these bits          */
    int     error_protection; /* use 2 bytes per frame for a CRC
                                 checksum. default=0                    */
    int     strict_ISO;      /* enforce ISO spec as much as possible   */

    int     disable_reservoir; /* use bit reservoir?                     */

    /* quantization/noise shaping */
    int     quant_comp;
    int     quant_comp_short;
    int     experimentalY;
    int     exp_nspsytune;

    int     preset;

    /* VBR control */
    vbr_mode VBR;
    int     VBR_q;
    int     VBR_mean_bitrate_kbps;
    int     VBR_min_bitrate_kbps;
    int     VBR_max_bitrate_kbps;
    int     VBR_hard_min;    /* strictly enforce VBR_min_bitrate
                                normaly, it will be violated for analog
                                silence                                 */


    /* resampling and filtering */
    int     lowpassfreq;     /* freq in Hz. 0=lame choses.
                                -1=no filter                          */
    int     highpassfreq;    /* freq in Hz. 0=lame choses.
                                -1=no filter                          */
    int     lowpasswidth;    /* freq width of filter, in Hz
                                &#40;default=15%&#41;                         */
    int     highpasswidth;   /* freq width of filter, in Hz
                                &#40;default=15%&#41;                         */



    /*
     * psycho acoustics and other arguments which you should not change
     * unless you know what you are doing
     */
    int     psymodel;        /* select psychoacoustic model          */
    float   maskingadjust;
    float   maskingadjust_short;
    int     ATHonly;         /* only use ATH                         */
    int     ATHshort;        /* only use ATH for short blocks        */
    int     noATH;           /* disable ATH                          */
    int     ATHtype;         /* select ATH formula                   */
    float   ATHcurve;        /* change ATH formula 4 shape           */
    float   ATHlower;        /* lower ATH by this many db            */
    int     athaa_type;      /* select ATH auto-adjust scheme        */
    int     athaa_loudapprox; /* select ATH auto-adjust loudness calc */
    float   athaa_sensitivity; /* dB, tune active region of auto-level */
    int     cwlimit;         /* predictability limit                 */
    short_block_t short_blocks;
    int     useTemporal;     /* use temporal masking effect          */
    float   interChRatio;
    float   msfix;           /* Naoki&#39;s adjustment of Mid/Side maskings */

    int     tune;            /* 0 off, 1 on */
    float   tune_value_a;    /* used to pass values for debugging and stuff */

    int     quantization_type; /* 0 depending on quality, 1 ISO, 2 nonlinear */

    struct {
        void    &#40;*msgf&#41; &#40;const char *format, va_list ap&#41;;
        void    &#40;*debugf&#41; &#40;const char *format, va_list ap&#41;;
        void    &#40;*errorf&#41; &#40;const char *format, va_list ap&#41;;
    } report;

  /************************************************************************/
    /* internal variables, do not set...                                    */
    /* provided because they may be of use to calling application           */
  /************************************************************************/

    int     version;         /* 0=MPEG-2/2.5  1=MPEG-1               */
    int     encoder_delay;
    int     encoder_padding; /* number of samples of padding appended to input */
    int     framesize;
    int     frameNum;        /* number of frames encoded             */
    int     lame_allocated_gfp; /* is this struct owned by calling
                                   program or lame?                     */



  /**************************************************************************/
    /* more internal variables are stored in this structure:                  */
  /**************************************************************************/
    lame_internal_flags *internal_flags;


    struct {
        int     mmx;
        int     amd3dnow;
        int     sse;

    } asm_optimizations;
};

#endif /* LAME_GLOBAL_FLAGS_H */
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.62279</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
