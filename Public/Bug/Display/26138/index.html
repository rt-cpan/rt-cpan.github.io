<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #26138 for Mac-Glue: Found the line of code causing the problem</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #26138 for Mac-Glue: Found the line of code causing the problem</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Mac-Glue/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Mac-Glue/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Mac-Glue/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Mac-Glue/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mac-Glue">Mac-Glue CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">26138</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Mac-Glue/Active/">Mac-Glue</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jelte [...] liebrand.co.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19756-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19757-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;12:51:24&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 17:51:39 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Chris_Nandor via RT &lt;bug-Mac-Glue [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya

I found the line of code that causes the problem. When I use $eyeTV- 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;Channels, that effectively &#40;as you probably better know than me&#41;,  
</div>creates an event to be sent to EyeTV.

Once the event is created, the _send_event is called, which in turn  
calls IsRunning. And inside that baby is where things go wrong. That  
one gets the address, successfully, and then tries to go through % 
Process.... that variable is the one that is mad.

If I try to dump that variable in the debugger, it just hangs and  
gobbles up the memory. I can place a print just before the call to
        for my $psn &#40;keys %Process&#41; {

but not after... ie %Process is seemingly random memory or something  
weird... I&#39;ll dig some more, but at least now I know where to look...

/J
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;14:16:15&nbsp;2007</span>
    <span class="description">cnandor [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 11:13:13 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nandor &lt;cnandor [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you provide your Mac architecture, along with version #s for
Mac::Apps::Launch, Mac::Carbon, Mac::AppleEvents::Simple, and Mac::Glue?

Thanks,

-- 
Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;14:16:17&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;14:45:47&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 19:45:48 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya,

Thanks for your quick response!

I&#39;ll collect all that info in a second, just running a test now. It  
seems I can reproduce the problem with this:
#!/usr/bin/perl -w

use Mac::Processes;

while &#40; &#40;$psn, $psi&#41; = each&#40;%Process&#41; &#41; {
     print &#34;$psn\t&#34;,
            $psi-&gt;processName,       &#34; &#34;,
            $psi-&gt;processNumber,     &#34;\n&#34; if $psi;
}

Interesting things to note:
* If I dont put the &#34;if $psi&#34; at the end of that print statement,  
then after printing a handful of processes, it will spit out &#34;Can&#39;t  
call method &#34;processName&#34; on an undefined value.
* If i do have that &#34;if $psi&#34; at the ened, then it will loop for a  
LONG  time &#40;still going, thats the test i&#39;m running now&#41;.
* because I use a while loop here, it doesn&#39;t actually run out of  
memory, since it deletes the memory on every loop. Whereas a for loop  
keeps the memory until the end of the loop, which is why the  
IsRunning sub routine is causing my script to run out of memory.

I will let this test run for a while and see what it comes back with.  
But my guess is that it thinks there are 5983459385935583 &#40;whatever&#41;  
number of processes, which are not defined....

/J


On 6 Apr 2007, at 19:16, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; Can you provide your Mac architecture, along with version #s for
&gt; Mac::Apps::Launch, Mac::Carbon, Mac::AppleEvents::Simple, and  
&gt; Mac::Glue?
&gt;
&gt; Thanks,
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;15:24:22&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 20:23:34 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

Ok, my test is still going, leading me to believe that it&#39;s got  
itself in an eternal loop. Which is a bit bizarre for a while loop  
from a hash, but there ya go.

Attached is my system architecture. As for the versions, here they are:
Mac::Apps::Launch version 1.92
Mac::Carbon version 0.77
Mac::AppleEvents::Simple version 1.18
Mac::Glue version version 1.27

And for good measure:
Mac::Processes version 1.05
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
/Cheers,
Jelte


On 6 Apr 2007, at 19:16, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; Can you provide your Mac architecture, along with version #s for
&gt; Mac::Apps::Launch, Mac::Carbon, Mac::AppleEvents::Simple, and  
&gt; Mac::Glue?
&gt;
&gt; Thanks,
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;18:11:04&nbsp;2007</span>
    <span class="description">pudge [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 14:10:19 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nandor &lt;pudge [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">At 14:45 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;I&#39;ll collect all that info in a second, just running a test now. It
&gt;seems I can reproduce the problem with this:
&gt;#!/usr/bin/perl -w
&gt;
&gt;use Mac::Processes;
&gt;
&gt;while &#40; &#40;$psn, $psi&#41; = each&#40;%Process&#41; &#41; {
&gt;     print &#34;$psn\t&#34;,
&gt;            $psi-&gt;processName,       &#34; &#34;,
&gt;            $psi-&gt;processNumber,     &#34;\n&#34; if $psi;
&gt;}
&gt;
&gt;Interesting things to note:
&gt;* If I dont put the &#34;if $psi&#34; at the end of that print statement,
&gt;then after printing a handful of processes, it will spit out &#34;Can&#39;t
&gt;call method &#34;processName&#34; on an undefined value.
&gt;* If i do have that &#34;if $psi&#34; at the ened, then it will loop for a
&gt;LONG  time &#40;still going, thats the test i&#39;m running now&#41;.
</div>
Will it print anything if you have if $psi?

How about adding:

        print &#34;$psn??\n&#34; if !$psi;

See if *that&#39;s* defined.

-- 
Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;19:06:20&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Apr 2007 00:06:23 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It will only print about 20 processes and then hangs. INdeed I also  
tried to print $psn, which does print... it prints over over the same  
number &#40;3204055042 in this case&#41;.

/J


On 6 Apr 2007, at 23:11, pudge@pobox.com via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; At 14:45 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<div class="message-stanza open">&gt;&gt; I&#39;ll collect all that info in a second, just running a test now. It
&gt;&gt; seems I can reproduce the problem with this:
&gt;&gt; #!/usr/bin/perl -w
&gt;&gt;
&gt;&gt; use Mac::Processes;
&gt;&gt;
&gt;&gt; while &#40; &#40;$psn, $psi&#41; = each&#40;%Process&#41; &#41; {
&gt;&gt;     print &#34;$psn\t&#34;,
&gt;&gt;            $psi-&gt;processName,       &#34; &#34;,
&gt;&gt;            $psi-&gt;processNumber,     &#34;\n&#34; if $psi;
&gt;&gt; }
&gt;&gt;
&gt;&gt; Interesting things to note:
&gt;&gt; * If I dont put the &#34;if $psi&#34; at the end of that print statement,
&gt;&gt; then after printing a handful of processes, it will spit out &#34;Can&#39;t
&gt;&gt; call method &#34;processName&#34; on an undefined value.
&gt;&gt; * If i do have that &#34;if $psi&#34; at the ened, then it will loop for a
&gt;&gt; LONG  time &#40;still going, thats the test i&#39;m running now&#41;.
</div>&gt;
&gt; Will it print anything if you have if $psi?
&gt;
&gt; How about adding:
&gt;
&gt;       print &#34;$psn??\n&#34; if !$psi;
&gt;
&gt; See if *that&#39;s* defined.
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;06&nbsp;19:39:24&nbsp;2007</span>
    <span class="description">cnandor [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 6 Apr 2007 16:38:48 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nandor &lt;cnandor [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">At 19:06 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;It will only print about 20 processes and then hangs. INdeed I also
&gt;tried to print $psn, which does print... it prints over over the same
&gt;number &#40;3204055042 in this case&#41;.
</div>
Weird.

I cannot duplicate this problem.  I wish I could, because I would likely be
able to fix it if I could duplicate it.

That code you gave me, does it run as you?  Under root?  Any other special
conditions that are present?

-- 
Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;07&nbsp;06:03:30&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Apr 2007 11:03:15 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya,

Yeah it is very weird. I guess I have some process running which just  
screws up the Mac::Processes concept of what is running.... could it  
be something silly like it getting confused about some number value?  
intel vs powerpc or something?

Here&#39;s a zip with some other info. The script itself runs just as me,  
not as root. So I&#39;ve also done a  ps aux  and captured that output.  
Perhaps you can see something running that could explain things?

I know if I reboot it goes away, but that&#39;s why I  dont want to  
reboot, cuz then I can&#39;t debug it :-&#41;

Let me know if there is anything else that you&#39;d like me to check
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
/Cheers,
Jelte


On 7 Apr 2007, at 00:39, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; At 19:06 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<div class="message-stanza open">&gt;&gt; It will only print about 20 processes and then hangs. INdeed I also
&gt;&gt; tried to print $psn, which does print... it prints over over the same
&gt;&gt; number &#40;3204055042 in this case&#41;.
</div>&gt;
&gt; Weird.
&gt;
&gt; I cannot duplicate this problem.  I wish I could, because I would  
&gt; likely be
&gt; able to fix it if I could duplicate it.
&gt;
&gt; That code you gave me, does it run as you?  Under root?  Any other  
&gt; special
&gt; conditions that are present?
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;07&nbsp;06:31:57&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Apr 2007 11:13:48 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oh btw, I&#39;ve been trying to debug this Mac::Processes to put some  
prints in there to see if I can find something. But I&#39;m a little lost  
at how it&#39;s supposed to work.... the processes.pm is a rather small  
perl module with as good as nothing in it... where is the meat of  
this stuff??

/J



On 7 Apr 2007, at 00:39, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; At 19:06 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<div class="message-stanza open">&gt;&gt; It will only print about 20 processes and then hangs. INdeed I also
&gt;&gt; tried to print $psn, which does print... it prints over over the same
&gt;&gt; number &#40;3204055042 in this case&#41;.
</div>&gt;
&gt; Weird.
&gt;
&gt; I cannot duplicate this problem.  I wish I could, because I would  
&gt; likely be
&gt; able to fix it if I could duplicate it.
&gt;
&gt; That code you gave me, does it run as you?  Under root?  Any other  
&gt; special
&gt; conditions that are present?
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;07&nbsp;06:40:28&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Apr 2007 11:20:31 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yet another mail ;-&#41;

I also checked the output of what I just sent you. The PSN that  
repeats over and over seems to be that of the activity montior app.  
So I&#39;ve killed it and ran it again. Now it repeats 321585122, which  
isn&#39;t in my psaux list :-&#40;

/J


On 7 Apr 2007, at 00:39, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; At 19:06 -0400 2007.04.06, Jelte Liebrand via RT wrote:
<div class="message-stanza open">&gt;&gt; It will only print about 20 processes and then hangs. INdeed I also
&gt;&gt; tried to print $psn, which does print... it prints over over the same
&gt;&gt; number &#40;3204055042 in this case&#41;.
</div>&gt;
&gt; Weird.
&gt;
&gt; I cannot duplicate this problem.  I wish I could, because I would  
&gt; likely be
&gt; able to fix it if I could duplicate it.
&gt;
&gt; That code you gave me, does it run as you?  Under root?  Any other  
&gt; special
&gt; conditions that are present?
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;09&nbsp;12:35:55&nbsp;2007</span>
    <span class="description">cnandor [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 9 Apr 2007 09:35:18 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nandor &lt;cnandor [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please try:

#!/usr/bin/perl -w

use Mac::Errors &#39;$MacError&#39;;
use Mac::Processes;

my $psn = 0;
while &#40; 1 &#41; {
    my @results;
    $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
    push @results, $psn, $MacError;
    if &#40;! defined $psn&#41; {
        print &#34;$MacError\n&#34;;
        last;
    }
    my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
    push @results, $psi-&gt;processName, $MacError if $psi;
    print &#34;@results\n&#34;;
}

-- 
Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;10&nbsp;18:08:25&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 Apr 2007 23:08:33 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

OK, some more interesting things to note:
1- when my machine gets in this funny state, all I have to do is re- 
login and it is ok again &#40;ie i dont need a full reboot&#41;
2- I tested my own script from cron &#40;like it runs daily at 03:00am&#41;,  
but then running it during the day numerous times and nothing bad  
happens
3- then I put my script back to run at 03:00am and that ran fine this  
morning as well, BUT:

now my machine is in the &#34;odd state&#34; again. Which leads me to believe  
this is something completely different. Ie something else is running  
daily &#40;after 03:00am&#41; which puts my mac mini in this state. I am  
thinking perhaps it is  iBackup, a bit of software i recently  
installed... I will turn it off tonight and see if tomorrow my  
machine is screwed again.

Now that it is in this state, I&#39;ve run your script, and this is the  
result:
262145 kHIDSuccess loginwindow kHIDSuccess
524289 kHIDSuccess Dock kHIDSuccess
786433 kHIDSuccess SystemUIServer kHIDSuccess
917505 kHIDSuccess Finder kHIDSuccess
1048577 kHIDSuccess iTunesHelper kHIDSuccess
1179649 kHIDSuccess DropCopy kHIDSuccess
1310721 kHIDSuccess droplet kHIDSuccess
1441793 kHIDSuccess iBackup kHIDSuccess
1572865 kHIDSuccess UniversalAccess kHIDSuccess
1703937 kHIDSuccess EyeTV Helper kHIDSuccess
1835009 kHIDSuccess Quicksilver kHIDSuccess
1966081 kHIDSuccess miraRCD kHIDSuccess
2097153 kHIDSuccess miraUSBDriver kHIDSuccess
65142785 kHIDSuccess System Events kHIDSuccess
206962689 kHIDSuccess EyeTV kHIDSuccess
3885105153 kHIDSuccess
3885105153 kHIDSuccess
3885105153 kHIDSuccess
3885105153 kHIDSuccess
3885105153 kHIDSuccess
3885105153 kHIDSuccess
&lt;this latter one repeats over and over and over&gt;

/Cheers,
Jelte



On 9 Apr 2007, at 17:35, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; #!/usr/bin/perl -w
&gt;
&gt; use Mac::Errors &#39;$MacError&#39;;
&gt; use Mac::Processes;
&gt;
&gt; my $psn = 0;
&gt; while &#40; 1 &#41; {
&gt;     my @results;
&gt;     $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
&gt;     push @results, $psn, $MacError;
&gt;     if &#40;! defined $psn&#41; {
&gt;         print &#34;$MacError\n&#34;;
&gt;         last;
&gt;     }
&gt;     my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
&gt;     push @results, $psi-&gt;processName, $MacError if $psi;
&gt;     print &#34;@results\n&#34;;
&gt; }
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;10&nbsp;18:23:57&nbsp;2007</span>
    <span class="description">cnandor [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 Apr 2007 15:23:28 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Nandor &lt;cnandor [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Another test script, added one line.  It will tell you the PID of the PSN,
if it exists, so you can try to identify the process.

#!/usr/bin/perl -w

use Mac::Errors &#39;$MacError&#39;;
use Mac::Processes;

my $psn = 0;
while &#40; 1 &#41; {
    my @results;
    $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
    push @results, $psn, $MacError;
    if &#40;! defined $psn&#41; {
        print &#34;$MacError\n&#34;;
        last;
    }
    push @results, GetProcessPID&#40;$psn&#41;;
    my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
    push @results, $psi-&gt;processName, $MacError if $psi;
    print &#34;@results\n&#34;;
}

-- 
Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;12&nbsp;05:56:06&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 12 Apr 2007 10:56:14 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Well it wasn&#39;t the backup software, the problem still occurs. The  
extra line didn&#39;t do much either, it just results in:
Use of uninitialized value in join or string at .....

So it&#39;s not finding anything about this &#34;ghost&#34; process.... this is  
getting frustrating :-&#40;

Next thing I&#39;ll do is write a little routine that will &#34;spot&#34; the  
problem. I&#39;ll put that on a cron job every 5 min, and then at least I  
know at what time during the day my machine gets itself in this  
state, and hopefully pin point if there is something bizarre  
happening at that time.

I dont have anything else in cron though, so I&#39;m not sure if Apple  
itself has some daily scheduler... we&#39;ll see

/J


On 10 Apr 2007, at 23:23, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; use Mac::Errors &#39;$MacError&#39;;
&gt; use Mac::Processes;
&gt;
&gt; my $psn = 0;
&gt; while &#40; 1 &#41; {
&gt;     my @results;
&gt;     $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
&gt;     push @results, $psn, $MacError;
&gt;     if &#40;! defined $psn&#41; {
&gt;         print &#34;$MacError\n&#34;;
&gt;         last;
&gt;     }
&gt;     push @results, GetProcessPID&#40;$psn&#41;;
&gt;     my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
&gt;     push @results, $psi-&gt;processName, $MacError if $psi;
&gt;     print &#34;@results\n&#34;;
&gt; }
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;09:38:03&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2007 14:36:39 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya,

Well I&#39;ve tried loads of things now, and I can&#39;t seem to work this  
one out... :-&#40;

Looks like my mini goes in to this weird mode at random times during  
the day, but at least about once a day.
There isn&#39;t any particular process that is running that i can kill  
that resolves it, and comparing the list of processes before and  
after it gets in this state doesn&#39;t shed any light on matters either.

The only last guess I have is that it happens xx hours after I  
login... which would explain why it&#39;s not always breaking at the same  
time during the day.

Do you have any pointers as to where I can start poking around to see  
what it actually does under the covers? I&#39;ve used the perl debugger,  
but since the things is tied to something deep down in Mac, I can&#39;t  
seem to work out where and why it screws up... If you have any  
thoughts as to where i could poke, that would be great

/Cheers,
Jelte




On 10 Apr 2007, at 23:23, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; Another test script, added one line.  It will tell you the PID of  
&gt; the PSN,
&gt; if it exists, so you can try to identify the process.
&gt;
&gt; #!/usr/bin/perl -w
&gt;
&gt; use Mac::Errors &#39;$MacError&#39;;
&gt; use Mac::Processes;
&gt;
&gt; my $psn = 0;
&gt; while &#40; 1 &#41; {
&gt;     my @results;
&gt;     $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
&gt;     push @results, $psn, $MacError;
&gt;     if &#40;! defined $psn&#41; {
&gt;         print &#34;$MacError\n&#34;;
&gt;         last;
&gt;     }
&gt;     push @results, GetProcessPID&#40;$psn&#41;;
&gt;     my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
&gt;     push @results, $psi-&gt;processName, $MacError if $psi;
&gt;     print &#34;@results\n&#34;;
&gt; }
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;18&nbsp;15:19:59&nbsp;2007</span>
    <span class="description">jelte [...] liebrand.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26138] Found the line of code causing the problem</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 Apr 2007 20:18:55 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mac-Glue [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jelte Liebrand &lt;jelte [...] liebrand.co.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmmm I found this... perhaps this is related:

<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.apple.com/archives/carbon-development/2001/Jul/">http://lists.apple.com/archives/carbon-development/2001/Jul/</a></span> 
msg01063.html


/J



On 10 Apr 2007, at 23:23, Chris_Nandor via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26138">http://rt.cpan.org/Ticket/Display.html?id=26138</a></span> &gt;
&gt;
&gt; Another test script, added one line.  It will tell you the PID of  
&gt; the PSN,
&gt; if it exists, so you can try to identify the process.
&gt;
&gt; #!/usr/bin/perl -w
&gt;
&gt; use Mac::Errors &#39;$MacError&#39;;
&gt; use Mac::Processes;
&gt;
&gt; my $psn = 0;
&gt; while &#40; 1 &#41; {
&gt;     my @results;
&gt;     $psn = Mac::Processes::GetNextProcess&#40;$psn&#41;;
&gt;     push @results, $psn, $MacError;
&gt;     if &#40;! defined $psn&#41; {
&gt;         print &#34;$MacError\n&#34;;
&gt;         last;
&gt;     }
&gt;     push @results, GetProcessPID&#40;$psn&#41;;
&gt;     my $psi = Mac::Processes::GetProcessInformation&#40;$psn&#41;;
&gt;     push @results, $psi-&gt;processName, $MacError if $psi;
&gt;     print &#34;@results\n&#34;;
&gt; }
&gt;
&gt; -- 
&gt; Chris Nandor                      pudge@pobox.com    <span class="clickylink"><a target="new" rel="nofollow" href="http://pudge.net/">http://pudge.net/</a></span>
&gt; Open Source Technology Group       pudge@ostg.com     <span class="clickylink"><a target="new" rel="nofollow" href="http://ostg.com/">http://ostg.com/</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
