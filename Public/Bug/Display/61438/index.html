<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #61438 for Getopt-Euclid: Need the possibility of distinguishing between option not used or used without optional argument - added field &#39;no_val&#39;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #61438 for Getopt-Euclid: Need the possibility of distinguishing between option not used or used without optional argument - added field &#39;no_val&#39;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Getopt-Euclid">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Getopt-Euclid">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Getopt-Euclid">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Getopt-Euclid">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Getopt-Euclid">Getopt-Euclid CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">61438</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Getopt-Euclid">Getopt-Euclid</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
paolo [...] medeo.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-14654-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.0.2</li>
<li>
0.0.3</li>
<li>
0.0.4</li>
<li>
0.2.1</li>
<li>
v0.0.5</li>
<li>
v0.0.7</li>
<li>
v0.0.8</li>
<li>
v0.0.9</li>
<li>
v0.1.0</li>
<li>
v0.2.0</li>
<li>
v0.2.2</li>
<li>
v0.2.3</li>
</ul>
    </td>
  </tr>
  <tr id="CF-14655-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Euclid.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/972390/506043/Euclid.pm">
Tue Aug 30 23:14:43 2011 (71.3k) by paolo [...] medeo.net
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/835393/432747/Euclid.pm">
Thu Sep 23 14:43:23 2010 (56.2k) by paolo [...] medeo.net
</a>
</font></li>

</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=61438">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-832814" href="/Public/Bug/Display.html?id=61438#txn-832814">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;17&nbsp;17:36:32&nbsp;2010</span>
    <span class="description">paolo [...] medeo.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Need the possibility of distinguishing between option not used or
 used without optional argument - added field &#39;no_val&#39;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/832814/431412/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/431412">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 843b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Kevin,
You rightfully rejected my filing this issue as a bug, since the
original specs of the module called for &#40;to me illogical&#41; having the
same default value applied both when an option is not used or it is used
without any optional argument.
As you can see from the attached file, I have solved the issue by
creating a new field &#40;&#39;no_val&#39;&#41; for specifying the value to assign to
the option when it is called without arguments.
Here following is an example of how the POD would look like:

=item [-]-debug [&lt;log_level&gt;]

Debug: optional log level. If no log level is specified, it is assumed
to be &#39;DEBUG&#39;

=for Euclid:
    log_level.type:    string
    log_level.default: &#39;NOT SET&#39;
    log_level.no_val:  &#39;DEBUG&#39;

I have tested the code with a couple of scripts and seems performing
fine. I&#39;ll test even more early next week.

Thanks!

Paolo
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Euclid.pm</td>
  </tr>
</table>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"></div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-835382" href="/Public/Bug/Display.html?id=61438#txn-835382">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;23&nbsp;14:32:34&nbsp;2010</span>
    <span class="description">kgalinsky [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/835382/432739/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/432739">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 97b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m unable to download your modified Euclid.pm. Can you please re-attach it?

Thanks,
-Kevin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-835385" href="/Public/Bug/Display.html?id=61438#txn-835385">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;23&nbsp;14:32:35&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-835393" href="/Public/Bug/Display.html?id=61438#txn-835393">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;23&nbsp;14:43:23&nbsp;2010</span>
    <span class="description">paolo [...] medeo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paolo [...] medeo.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/835393/432746/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/432746">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 246b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Kevin,
Here it is. I&#39;ve sent it also to your private e-mail account.

Thanks!

Paolo

On Thu Sep 23 14:32:34 2010, kgalinsky wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I&#39;m unable to download your modified Euclid.pm. Can you please
</div>re-attach it?
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Thanks,
&gt; -Kevin
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Euclid.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/835393/432747/Euclid.pm">Download Euclid.pm</a><br />
<span class="downloadcontenttype">text/x-perl 56.2k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-942106" href="/Public/Bug/Display.html?id=61438#txn-942106">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;03&nbsp;11:53:58&nbsp;2011</span>
    <span class="description">paolo [...] medeo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paolo [...] medeo.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/942106/489828/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/489828">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Is anybody alive?
I&#39;ve provided a fix to a design shortcoming that was indispensable for
me &#40;and, I guess others&#41;, with the understanding that this would be soon
implemented in the new release of this module. Since we agreed on the
interface, I went ahead adopting my implementation while waiting for the
official release. Over eight months have passed without any progress.
Some time ago I&#39;ve learned from Kevin that he has handed everything to
somebody else supposedly more active with bug-fixing and code
improvements. However, the page shows Kevin still as the curator and no
mention of the new person: What is going on?

Paolo

On Fri Sep 17 17:36:32 2010, pamedeo wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Kevin,
&gt; You rightfully rejected my filing this issue as a bug, since the
&gt; original specs of the module called for &#40;to me illogical&#41; having the
&gt; same default value applied both when an option is not used or it is used
&gt; without any optional argument.
&gt; As you can see from the attached file, I have solved the issue by
&gt; creating a new field &#40;&#39;no_val&#39;&#41; for specifying the value to assign to
&gt; the option when it is called without arguments.
&gt; Here following is an example of how the POD would look like:
&gt; 
&gt; =item [-]-debug [&lt;log_level&gt;]
&gt; 
&gt; Debug: optional log level. If no log level is specified, it is assumed
&gt; to be &#39;DEBUG&#39;
&gt; 
&gt; =for Euclid:
&gt;     log_level.type:    string
&gt;     log_level.default: &#39;NOT SET&#39;
&gt;     log_level.no_val:  &#39;DEBUG&#39;
&gt; 
&gt; I have tested the code with a couple of scripts and seems performing
&gt; fine. I&#39;ll test even more early next week.
&gt; 
&gt; Thanks!
&gt; 
&gt; Paolo
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972390" href="/Public/Bug/Display.html?id=61438#txn-972390">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;30&nbsp;23:14:43&nbsp;2011</span>
    <span class="description">paolo [...] medeo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paolo [...] medeo.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/972390/506042/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506042">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Florent,
I&#39;ve inserted the code changes to the new version Euclid.pm &#40;see
attached file&#41; to support the new &#39;no_val&#39; field to disambiguate between
the case when an option is used without an optional argument and the
case when it is not used.
This code change had been already accepted by Kevin, and we were in
agreement that he would insert in his release 0.2.4
I have tested my changes in the new code and they appear to function
correctly.
I have already a lot of code that relies on that disambiguation and hate
to be stuck with my branch of Getopt::Euclid missing out your
improvements, or having to create yet another flavor of Getopt.

I really hope that you can quickly review and incorporate my code
changes. They are mostly in portion of codes that haven&#39;t changed much
in the past few releases.

Thanks!

Paolo


On Fri Sep 17 17:36:32 2010, pamedeo wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Kevin,
&gt; You rightfully rejected my filing this issue as a bug, since the
&gt; original specs of the module called for &#40;to me illogical&#41; having the
&gt; same default value applied both when an option is not used or it is used
&gt; without any optional argument.
&gt; As you can see from the attached file, I have solved the issue by
&gt; creating a new field &#40;&#39;no_val&#39;&#41; for specifying the value to assign to
&gt; the option when it is called without arguments.
&gt; Here following is an example of how the POD would look like:
&gt; 
&gt; =item [-]-debug [&lt;log_level&gt;]
&gt; 
&gt; Debug: optional log level. If no log level is specified, it is assumed
&gt; to be &#39;DEBUG&#39;
&gt; 
&gt; =for Euclid:
&gt;     log_level.type:    string
&gt;     log_level.default: &#39;NOT SET&#39;
&gt;     log_level.no_val:  &#39;DEBUG&#39;
&gt; 
&gt; I have tested the code with a couple of scripts and seems performing
&gt; fine. I&#39;ll test even more early next week.
&gt; 
&gt; Thanks!
&gt; 
&gt; Paolo
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Euclid.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/972390/506043/Euclid.pm">Download Euclid.pm</a><br />
<span class="downloadcontenttype">text/x-perl 71.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972405" href="/Public/Bug/Display.html?id=61438#txn-972405">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;31&nbsp;00:38:11&nbsp;2011</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/972405/506050/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506050">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Paolo,

My time being limited, I appreciate that you submitted a patched version
of Getopt::Euclid. I am afraid that Kevin never got the time to properly
finish what he was up to with Getopt::Euclid and that&#39;s why your patch
never made it in the codebase so far.

Note that Kevin set up a Git repository for Getopt::Euclid &#40;see
<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/scm/?type=git&#38;group_id=259291&#41;">http://sourceforge.net/scm/?type=git&#38;group_id=259291&#41;</a></span>, so for any future
hacking of Getopt::Euclid, use this git repository and it will make our
life easier. Also, there is a series of tests &#40;in the ./t/ folder&#41; that
Getopt::Euclid uses to limit the risk of bugs. So, ideally, when you
submit code, you should submit new tests and make sure that the old
tests still pass successfully.

Now, regarding this option that you suggest... To be honest, I am not
sure that I like it the way it is because there is never the need to
have both a &#34;strong&#34; default like log_level.default: &#39;NOT SET&#39; and a
&#34;weak&#34; default like log_level.no_val: &#39;DEBUG&#39; at the same time. But how
about keeping the general idea but specifying the following way?

=item [-]-debug [&lt;log_level&gt;]

Debug: optional log level. If no log level is specified, it is assumed
to be &#39;DEBUG&#39;

=for Euclid:
   log_level.type: string
   log_level.default: &#39;DEBUG&#39;
   log_level.default.is_strong: 0 

And, of course, the default would be to have strong default, i.e.
log_level.default.is_strong of 1, to keep the compatibility with
previous versions of Getopt::Euclid.

Florent
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972409" href="/Public/Bug/Display.html?id=61438#txn-972409">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;31&nbsp;00:52:06&nbsp;2011</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/972409/506053/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506053">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 378b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">My proposal would makes it possible to display the default value in the
POD as is already possible in recent versions of Getopt::Euclid.

=item [-]-debug [&lt;log_level&gt;]

Debug: optional log level. If no log level is specified, it is assumed
to be [default: log_level.default]

=for Euclid:
   log_level.type: string
   log_level.default: &#39;DEBUG&#39;
   log_level.default.is_strong: 0
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972517" href="/Public/Bug/Display.html?id=61438#txn-972517">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;31&nbsp;10:46:56&nbsp;2011</span>
    <span class="description">paolo [...] medeo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paolo [...] medeo.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/972517/506103/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506103">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, Florent for the quick reply. Honestly, I&#39;m a bit confused, since
I haven&#39;t found anywhere in the documentation and current release
anything about &#39;is_strong&#39; modifier. What would it do? Would it undef
the variable associated with the option in the case the option is not used? 
What I need is to distinguish between not using an option and using
without the optional argument &#40;e.g. --verbose writing to STDOUT if no
argument is used or writing to a file whose name is provided as
argument: definitely you want the program to shut up if you don&#39;t use
--verbose&#41;.
At the same time, it is necessary to respect the backward compatibility
&#40;i.e. the option with optional argument set to the default value both
when it is not used or when it is used without arguments--useless
behavior, in my opinion&#41;, we need not to alter any behavior of the
existing fields. I have achieved that by introducing the &#39;no_val&#39; field.
I thought that the meaning would be intuitive, and--definitely--the
implementation in the code is quite easy. As matter of fact am using it
successfully in our code and have never encountered any issue with any
other script using Getopt::Euclid.

Unfortunately, I do have a full-time job and am quite busy on the side
as well. I&#39;m not interested in any way to become one of the developers
of this module. I thought that providing an implementation of the
possible solution in a way that could be easily &#34;diffed&#34; with the latest
development draft &#40;I believe that I&#39;ve introduced changes in maximum ten
lines of code&#41; would be a good step forward compared to just whining
about a bug.
Since the solution to our problems has been already implemented
internally, I have serious doubt that my boss would authorize me
spending more efforts and resources for this module. If I have to do it
in my &#34;free time&#34;, I&#39;ll probably could think messing with the Git
repository and working on some test, but it will take much longer.

Thanks!

Paolo
On Wed Aug 31 00:52:06 2011, FANGLY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My proposal would makes it possible to display the default value in the
&gt; POD as is already possible in recent versions of Getopt::Euclid.
&gt; 
&gt; =item [-]-debug [&lt;log_level&gt;]
&gt; 
&gt; Debug: optional log level. If no log level is specified, it is assumed
&gt; to be [default: log_level.default]
&gt; 
&gt; =for Euclid:
&gt;    log_level.type: string
&gt;    log_level.default: &#39;DEBUG&#39;
&gt;    log_level.default.is_strong: 0
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972783" href="/Public/Bug/Display.html?id=61438#txn-972783">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;31&nbsp;21:42:52&nbsp;2011</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/972783/506218/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506218">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 359b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Paolo,

Your initial example got me confused but I think I understand what you
are after now. Indeed, there is no reason why a parameter could not have
both a regular default and the type of default that you suggest, which I
suggest to call an optional default &#40;opt_default&#41; or weak default
&#40;weak_default&#41;.

I&#39;ll try and merge your changes soon.

Florent
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-972995" href="/Public/Bug/Display.html?id=61438#txn-972995">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;01&nbsp;09:21:10&nbsp;2011</span>
    <span class="description">paolo [...] medeo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paolo [...] medeo.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/972995/506364/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506364">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 61b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, Florent!
I appreciate it, and I&#39;ll stay tuned.

Paolo
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-973339" href="/Public/Bug/Display.html?id=61438#txn-973339">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;02&nbsp;07:08:20&nbsp;2011</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/973339/506577/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/506577">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 301b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok Paolo, thanks again for the patch! I managed to merge it but I called
the constraint opt_default instead of no_val, as discussed above. The
patch initially made fail some tests but I managed to fix that without
too much trouble. I also added some safeguards and tests.

Check it out. Version 0.2.8
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-973342" href="/Public/Bug/Display.html?id=61438#txn-973342">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;02&nbsp;07:08:21&nbsp;2011</span>
    <span class="description">florent.angly [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.651488</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
