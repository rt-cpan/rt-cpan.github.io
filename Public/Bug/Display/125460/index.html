<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #125460 for Tcl-pTk: bug Tcl-pTk-0.92</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #125460 for Tcl-pTk: bug Tcl-pTk-0.92</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Tcl-pTk">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Tcl-pTk">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Tcl-pTk">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Tcl-pTk">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tcl-pTk">Tcl-pTk CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">125460</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Tcl-pTk">Tcl-pTk</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">CAC [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
fantinuoli [...] gmx.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
CAC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-234402-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-234403-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.93    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=125460">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1788868" href="/Public/Bug/Display.html?id=125460#txn-1788868">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;08:52:04&nbsp;2018</span>
    <span class="description">fantinuoli [...] gmx.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> bug Tcl-pTk-0.92</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Jun 2018 14:51:47 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Tcl-pTk [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Claudio Fantinuoli&#34; &lt;fantinuoli [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1788868/962120/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/962120">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><div style="font-family: Verdana;font-size: 12.0px;"><div>
<div>OS: macOS HighSierra</div>

<div>Module:&nbsp;Tcl-pTk-0.92</div>

<div>Perl:&nbsp;5.24.4</div>

<div>&nbsp;</div>

<div>I discovered a strange behavior of &quot;bind&quot;. In many cases, if a selection has been done in a Widget and a subrutine is invoked through binding a key, a copy of the selection is inserted into the Widget.</div>

<div>&nbsp;</div>

<div>
<div>#!/usr/bin/perl
use strict;
use warnings;</div>

<div>use Tcl::pTk;
use Tk::Text;</div>

<div>my &#36;mw = MainWindow-&gt;new();
my &#36;text = &#36;mw-&gt;Text()-&gt;pack();</div>

<div>
&#36;text-&gt;bind(&#39;&lt;Key-F2&gt;&#39;, [sub {print &quot;something&quot;}, Ev(&#39;X&#39;), Ev(&#39;Y&#39;), ]); #if F2 is pressed while a string is selected, an error message is displayed:&nbsp;Tcl::pTk::Error: Can&#39;t call method &quot;_retListContext&quot; without a package or object reference at perl-5.24.4/lib/site_perl/5.24.4/Tcl/pTk/Widget.pm line 2842.</div>

<div>&nbsp;</div>

<div>PupupTextWidget(&#36;mw, &#36;text);#In this case, if the popup is called while a string is selected, the same string is copied in the Widget after the popup has been distroyed
MainLoop;</div>

<div>&nbsp;</div>

<div>sub PupupTextWidget{
&nbsp; &nbsp; my (&#36;mw, &#36;obj) = @_;
&nbsp; &nbsp; my &#36;menu = &#36;mw-&gt;Menu(-tearoff=&gt;0, -menuitems=&gt;[
&nbsp; &nbsp; [command=&gt;&#39;My command&#39;, -command=&gt;[sub {print &quot;something&quot;}, &#36;obj,]],
&nbsp; &nbsp; ]);
&nbsp; &nbsp; &#36;obj-&gt;bind(&#39;&lt;2&gt;&#39;, [&#39;PostPopupMenu&#39;, Ev(&#39;X&#39;), Ev(&#39;Y&#39;), ]);
&nbsp; &nbsp; return &#36;obj;
}</div>
</div>
</div>

<div>































&nbsp;</div></div>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other Forward Transaction even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790000" href="/Public/Bug/Display.html?id=125460#txn-1790000">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;08&nbsp;22:21:18&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Forwarded Transaction #1788868 to CAC@cpan.org</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790002" href="/Public/Bug/Display.html?id=125460#txn-1790002">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;08&nbsp;22:23:58&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Cc CAC added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790005" href="/Public/Bug/Display.html?id=125460#txn-1790005">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;08&nbsp;23:42:21&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1790005/962705/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/962705">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for reporting this. I have observed some peculiarities with bind&#40;&#41; as well, in that certain syntax that works under Perl/Tk doesn&#39;t work under Tcl::pTk, but your syntax looks OK.

In your test program, note that your menu &#40;the one with a &#34;My command&#34; entry&#41; won&#39;t appear since nothing was configured to use it.


A little background:

Some of the issues you observe and workarounds in your test program are due to the right and middle mouse buttons &#40;buttons 2 and 3&#41; being swapped on macOS aqua to be opposite of other windowingsystems &#40;X11 and Windows&#41;. Please have a look at my earlier ticket, <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125050">https://rt.cpan.org/Ticket/Display.html?id=125050</a></span> as well as the Perl/Tk issue: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/eserte/perl-tk/issues/31">https://github.com/eserte/perl-tk/issues/31</a></span>.

Because Tk chooses to preserve the OS/windowingsystem&#39;s mapping of mouse buttons rather than make it consistent across windowingsystems, any widgets or programs using buttons 2 and 3 are supposed to check which windowingsystem is present. But neither Perl/Tk nor Tcl::pTk have yet to update all the widgets to do this.

If your mouse happens to have a middle/third mouse button &#40;and which isn&#39;t bound to ExposÃ© or Mission Control in System Preferences&#41;, or you use a program like Karabiner-Elements to map a spare keyboard key to the middle mouse button, you can observe this &#34;backwards&#34; behavior.

If and when this issue gets addressed, you won&#39;t have to bind the mouse to PostPopupMenu as you&#39;ve done in your program. The Text widget already binds PostPopupMenu  to a mouse button--it&#39;s just bound to the wrong one currently.

Likewise, the cause of the text getting copied is that the middle button causes any selected text to be inserted where the mouse cursor is. This is &#34;intended&#34; behavior as far as I can tell, and can be reproduced from e.g. the &#34;Basic editable text&#34; widget demo on both Tcl::pTk and Perl/Tk &#40;in X11&#41;. But currently on macOS aqua this event is bound to the right mouse button, so it would happen along with the other event you manually bound to it &#40;PostPopupMenu&#41;.


Regarding the error when pressing F2:

The Text widget already binds F2 to clipboardColumnCut, which is supposed to cut any selected text. However this appears to be broken in Tcl::pTk. 

Also, F1 is bound to clipboardColumnCopy, and F3 is bound to clipboardColumnPaste. If you pick a different unused F-key you might get something closer to the desired behavior.


Hope this helps
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790006" href="/Public/Bug/Display.html?id=125460#txn-1790006">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;08&nbsp;23:42:22&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790283" href="/Public/Bug/Display.html?id=125460#txn-1790283">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;10&nbsp;01:42:33&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1790283/962865/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/962865">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza">I&#39;ve found why there&#39;s an error when pressing F2 (or F1) for cut/copy respectively in a Text widget. Both bind event callbacks rely on a subroutine in Text.pm called <span style="font-family:courier new,courier,monospace;">Column_Copy_or_Cut</span>, and in it there are uses of <span style="font-family:courier new,courier,monospace;">expand()</span> from Text::Tabs. But <span style="font-family:courier new,courier,monospace;">use Text::Tabs;</span> is missing from Text.pm (Perl/Tk has it at the top of its Text.pm), even though we don&#39;t see a &quot;<span style="font-family:courier new,courier,monospace;">Undefined subroutine expand called</span>&quot; error.<br>

<br>

My understanding is that this is because Tcl::pTk relies heavily on <span style="font-family:courier new,courier,monospace;">AUTOLOAD</span>, where if some function isn&#39;t defined in Perl it&#39;s assumed to be a function provided by Tcl, so it attempts translate it to a Tcl call. This fails for <span style="font-family:courier new,courier,monospace;">expand()</span>, hence the unusual errors &quot;<span style="font-family:courier new,courier,monospace;">Tcl::pTk::Error: Can&#39;t call method &quot;_retListContext&quot; without a package or object reference</span>&quot; or &quot;<span style="font-family:courier new,courier,monospace;">via package [selected text]</span>&quot;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1790335" href="/Public/Bug/Display.html?id=125460#txn-1790335">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;10&nbsp;04:50:43&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1790335/962901/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/962901">with headers</a>
<br />
<span class="downloadcontenttype">text/html 556b</span>
</div>
<div class="messagebody">
<div class="message-stanza">Related: there&#39;s a couple of tests (bgerror2.t and tkHijack_bgerror2.t) which attempt to make the &quot;<span style="font-family:courier new,courier,monospace;">Undefined subroutine</span>&quot; error message appear on purpose. Another user reported that those two tests were failing (see <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119754&#41;">https://rt.cpan.org/Ticket/Display.html?id=119754&#41;</a></span>; I think it may be due to the same reason I discussed here (Tcl::pTk&#39;s use of <span style="font-family:courier new,courier,monospace;">AUTOLOAD </span>preventing that specific error from appearing). See&nbsp;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795807" href="/Public/Bug/Display.html?id=125460#txn-1795807">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;13&nbsp;07:09:06&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795910" href="/Public/Bug/Display.html?id=125460#txn-1795910">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;13&nbsp;17:39:37&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1795910/965817/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/965817">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><span style="font-family:arial,helvetica,sans-serif;">I&#39;ve released Tcl::pTk 0.93, which fixes the&nbsp;<span style="font-family:courier new,courier,monospace;">Can&#39;t call method &quot;_retListContext&quot; without a package or object reference</span> error, and binds the middle and right mouse buttons appropriately. It should no longer be necessary to manually bind <span style="font-family:courier new,courier,monospace;">PostPopupMenu</span> to <span style="font-family:courier new,courier,monospace;">&lt;2&gt;</span> (the right mouse button on aqua).<br>

<br>

Another odd behavior I observed in your test program is that pressing function keys other than F1, F2, F3, or F4 caused strange characters to be inserted. Specifically, the code point (0xF708 + [the number of the function key]) is what gets inserted, e.g. <span style="font-family:courier new,courier,monospace;">\N{U+F708}</span> for F5 and <span style="font-family:courier new,courier,monospace;">\N{U+F716}</span> for F19. These are &quot;private use area&quot; characters, so they only appear as boxes (either empty or with a &#39;?&#39; inside). I&#39;m inclined to open a separate ticket for this.<br>

<br>

Please reopen this if you find there&#39;s still an issue.<br>

<br>

PS: I recently added a p5-tcl-ptk port for MacPorts, in case you&#39;d like to try that. However the existing ports for Tk extensions (e.g. Tix and Tktable) only support X11 currently, so there is some functionality not yet available to p5-tcl-ptk when used from macOS aqua.</span><br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795913" href="/Public/Bug/Display.html?id=125460#txn-1795913">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;13&nbsp;17:39:38&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795915" href="/Public/Bug/Display.html?id=125460#txn-1795915">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;13&nbsp;17:39:38&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Fixed in 0.93 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1795935" href="/Public/Bug/Display.html?id=125460#txn-1795935">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;13&nbsp;18:17:11&nbsp;2018</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1795935/965830/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/965830">with headers</a>
<br />
<span class="downloadcontenttype">text/html 277b</span>
</div>
<div class="messagebody">
<div class="message-stanza">I&#39;ve opened a new ticket regarding the issue of function keys inserting unusual characters:&nbsp;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=125844">https://rt.cpan.org/Ticket/Display.html?id=125844</a></span><br>

<br>

I think it is an upstream Tcl/Tk bug because the issue can be reproduced from the pure Tcl/Tk widget demo.<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1835443" href="/Public/Bug/Display.html?id=125460#txn-1835443">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;27&nbsp;04:02:28&nbsp;2019</span>
    <span class="description">CAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1835443/986814/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/986814">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza">On Fri Jul 13 16:39:37 2018, CAC wrote:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve released Tcl::pTk 0.93, which fixes the Can&#39;t call method<br>

&gt; &quot;_retListContext&quot; without a package or object reference error, and<br>

&gt; binds the<br>

&gt; middle and right mouse buttons appropriately. It should no longer be<br>

&gt; necessary<br>

&gt; to manually bind PostPopupMenu to &lt;2&gt; (the right mouse button on<br>

&gt; aqua).<br>

&gt;<br>

&gt; Another odd behavior I observed in your test program is that pressing<br>

&gt; function<br>

&gt; keys other than F1, F2, F3, or F4 caused strange characters to be<br>

&gt; inserted.<br>

&gt; Specifically, the code point (0xF708 + [the number of the function<br>

&gt; key]) is<br>

&gt; what gets inserted, e.g. \N{U+F708} for F5 and \N{U+F716} for F19.<br>

&gt; These are<br>

&gt; &quot;private use area&quot; characters, so they only appear as boxes (either<br>

&gt; empty or<br>

&gt; with a &#39;?&#39; inside). I&#39;m inclined to open a separate ticket for this.<br>

&gt;<br>

&gt; Please reopen this if you find there&#39;s still an issue.<br>

&gt;<br>

&gt; PS: I recently added a p5-tcl-ptk port for MacPorts, in case you&#39;d<br>

&gt; like to try<br>

&gt; that. However the existing ports for Tk extensions (e.g. Tix and<br>

&gt; Tktable) only<br>

&gt; support X11 currently, so there is some functionality not yet<br>

&gt; available to<br>

&gt; p5-tcl-ptk when used from macOS aqua.<br>
</div><br>

<span style="font-family:arial,helvetica,sans-serif;">For reference, this was also reported on PerlMonks:&nbsp;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.perlmonks.org/?node_id=1215728">https://www.perlmonks.org/?node_id=1215728</a></span></span>
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.539449</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
