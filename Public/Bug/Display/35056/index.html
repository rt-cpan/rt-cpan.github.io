<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #35056 for CGI-Application-Plugin-ValidateRM: test failure at t/forward.t #2 &#39;form is returned&#39;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #35056 for CGI-Application-Plugin-ValidateRM: test failure at t/forward.t #2 &#39;form is returned&#39;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CGI-Application-Plugin-ValidateRM/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CGI-Application-Plugin-ValidateRM/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CGI-Application-Plugin-ValidateRM/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CGI-Application-Plugin-ValidateRM/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CGI-Application-Plugin-ValidateRM">CGI-Application-Plugin-ValidateRM CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">35056</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CGI-Application-Plugin-ValidateRM/Active/">CGI-Application-Plugin-ValidateRM</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MARKSTOS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
zakame [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-5524-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.1    </td>
  </tr>
  <tr id="CF-5525-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;03:32:08&nbsp;2008</span>
    <span class="description">zakame [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test failure at t/forward.t #2 &#39;form is returned&#39;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Install failure on CGI-Application-Plugin-ValidateRM-2.1, installing to
a perl-5.8.8 &#40;darwin-thread-multi-2level&#41; on a Darwin alteran.local
8.11.1 Darwin Kernel Version 8.11.1: Wed Oct 10 18:23:28 PDT 2007;
root:xnu-792.25.20~1/RELEASE_I386 i386 i386.

make test TEST_VERBOSE=1:

alteran:~/.cpan/build/CGI-Application-Plugin-ValidateRM-2.1-m_nrKE
zakame$ make test TEST_VERBOSE=1
PERL_DL_NONLAZY=1 /opt/local/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;1, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_basic......
1..14
ok 1 - use CGI::Application::Plugin::ValidateRM;
ok 2 - err__
ok 3 - basic invalid
ok 4 - basic missing
ok 5 - err__
ok 6 - basic invalid
ok 7 - basic missing
ok 8 - t3 basic missing
ok 9 - passing options to HTML::FillInForm works
ok 10 - has dfv_results method
ok 11 - has dfv_error_page method
ok 12 - has check_rm_error_page method
ok 13 - content of DFV method is as expected
ok 14 - calling check_rm in scalar context returns just the DFV obj.
ok
t/99_pod........
1..1
ok 1 - POD test for blib/lib/CGI/Application/Plugin/ValidateRM.pm
ok
t/forward.......
1..4
ok 1 - if
#             ::Forward is not loaded, current_rm is not updated
not ok 2 - form is returned

#   Failed test &#39;form is returned&#39;
#   at t/forward.t line 22.
#          got: &#39;legacy form output HUH&#39;
#     expected: &#39;legacy form output&#39;
ok 3 # SKIP CGI::Application::Plugin::Forward required
ok 4 # SKIP CGI::Application::Plugin::Forward required
# Looks like you failed 1 test of 4.
 Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
 Failed 1/4 subtests 
        &#40;less 2 skipped subtests: 1 okay&#41;

Test Summary Report
-------------------
t/forward.t &#40;Wstat: 256 Tests: 4 Failed: 1&#41;
  Failed test:  2
  Non-zero exit status: 1
Files=3, Tests=19,  1 wallclock secs &#40; 0.02 usr  0.01 sys +  0.30 cusr 
0.09 csys =  0.42 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 1/19 subtests failed.
make: *** [test_dynamic] Error 1

Checking against cpantesters:

cpan[10]&gt; reports MARKSTOS/CGI-Application-Plugin-ValidateRM-2.1.tar.gz
Distribution: M/MA/MARKSTOS/CGI-Application-Plugin-ValidateRM-2.1.tar.gz
Fetching
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.yaml&#39;...DONE">http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.yaml&#39;...DONE</a></span>

2.1:
 +PASS 5.8.5 on Linux 2.6.3-25mdk-i686-up-4gb &#40;i386-linux-thread-multi&#41;
 -FAIL 5.8.7 on Linux 2.4.30 &#40;i686-linux-thread-multi-64int-ld&#41;
 +PASS 5.8.5 on Solaris 2.9 &#40;sun4-solaris-thread-multi&#41;
 +PASS 5.8.5 on MSWin32 4.0 &#40;MSWin32-x86-multi-thread&#41;
 +PASS 5.8.7 on Linux 2.6.9-22.el &#40;i686-linux&#41;
 +PASS 5.8.8 on Linux 2.6.16.14 &#40;x86_64-linux-thread-multi-ld&#41;
 +PASS 5.8.8 on Linux 2.4.20-8smp &#40;i686-linux&#41;
 -FAIL 5.9.5 on Darwin 8.10.1 &#40;darwin-2level&#41;
 -FAIL 5.10.0 on Linux 2.6.22.10 &#40;x86_64-linux-thread-multi-ld&#41;
 +PASS 5.8.4 on Linux 2.4.26 &#40;i486-linux&#41;
See
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.html">http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.html</a></span>
for details


This is also the case in my other machine running perl-5.10.0 on i686-linux.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;10:56:38&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> MARKSTOS [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Zakame,

Could you also supply a patch to fix the issue?  Otherwise, I&#39;ll to get
eventually.  

    Mark


On Tue Apr 15 03:32:08 2008, ZAKAME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Install failure on CGI-Application-Plugin-ValidateRM-2.1, installing
&gt; to
&gt; a perl-5.8.8 &#40;darwin-thread-multi-2level&#41; on a Darwin alteran.local
&gt; 8.11.1 Darwin Kernel Version 8.11.1: Wed Oct 10 18:23:28 PDT 2007;
&gt; root:xnu-792.25.20~1/RELEASE_I386 i386 i386.
&gt; 
&gt; make test TEST_VERBOSE=1:
&gt; 
&gt; alteran:~/.cpan/build/CGI-Application-Plugin-ValidateRM-2.1-m_nrKE
&gt; zakame$ make test TEST_VERBOSE=1
&gt; PERL_DL_NONLAZY=1 /opt/local/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;1, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
&gt; t/01_basic......
&gt; 1..14
&gt; ok 1 - use CGI::Application::Plugin::ValidateRM;
&gt; ok 2 - err__
&gt; ok 3 - basic invalid
&gt; ok 4 - basic missing
&gt; ok 5 - err__
&gt; ok 6 - basic invalid
&gt; ok 7 - basic missing
&gt; ok 8 - t3 basic missing
&gt; ok 9 - passing options to HTML::FillInForm works
&gt; ok 10 - has dfv_results method
&gt; ok 11 - has dfv_error_page method
&gt; ok 12 - has check_rm_error_page method
&gt; ok 13 - content of DFV method is as expected
&gt; ok 14 - calling check_rm in scalar context returns just the DFV obj.
&gt; ok
&gt; t/99_pod........
&gt; 1..1
&gt; ok 1 - POD test for blib/lib/CGI/Application/Plugin/ValidateRM.pm
&gt; ok
&gt; t/forward.......
&gt; 1..4
&gt; ok 1 - if
&gt; #             ::Forward is not loaded, current_rm is not updated
&gt; not ok 2 - form is returned
&gt; 
&gt; #   Failed test &#39;form is returned&#39;
&gt; #   at t/forward.t line 22.
&gt; #          got: &#39;legacy form output HUH&#39;
&gt; #     expected: &#39;legacy form output&#39;
&gt; ok 3 # SKIP CGI::Application::Plugin::Forward required
&gt; ok 4 # SKIP CGI::Application::Plugin::Forward required
&gt; # Looks like you failed 1 test of 4.
&gt;  Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt;  Failed 1/4 subtests
&gt;         &#40;less 2 skipped subtests: 1 okay&#41;
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/forward.t &#40;Wstat: 256 Tests: 4 Failed: 1&#41;
&gt;   Failed test:  2
&gt;   Non-zero exit status: 1
&gt; Files=3, Tests=19,  1 wallclock secs &#40; 0.02 usr  0.01 sys +  0.30 cusr
&gt; 0.09 csys =  0.42 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/3 test programs. 1/19 subtests failed.
&gt; make: *** [test_dynamic] Error 1
&gt; 
&gt; Checking against cpantesters:
&gt; 
&gt; cpan[10]&gt; reports MARKSTOS/CGI-Application-Plugin-ValidateRM-
&gt; 2.1.tar.gz
&gt; Distribution: M/MA/MARKSTOS/CGI-Application-Plugin-ValidateRM-
&gt; 2.1.tar.gz
&gt; Fetching
&gt; &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.perl.org/show/CGI-Application-Plugin-">http://cpantesters.perl.org/show/CGI-Application-Plugin-</a></span>
&gt; ValidateRM.yaml&#39;...DONE
&gt; 
&gt; 2.1:
&gt;  +PASS 5.8.5 on Linux 2.6.3-25mdk-i686-up-4gb &#40;i386-linux-thread-
&gt; multi&#41;
&gt;  -FAIL 5.8.7 on Linux 2.4.30 &#40;i686-linux-thread-multi-64int-ld&#41;
&gt;  +PASS 5.8.5 on Solaris 2.9 &#40;sun4-solaris-thread-multi&#41;
&gt;  +PASS 5.8.5 on MSWin32 4.0 &#40;MSWin32-x86-multi-thread&#41;
&gt;  +PASS 5.8.7 on Linux 2.6.9-22.el &#40;i686-linux&#41;
&gt;  +PASS 5.8.8 on Linux 2.6.16.14 &#40;x86_64-linux-thread-multi-ld&#41;
&gt;  +PASS 5.8.8 on Linux 2.4.20-8smp &#40;i686-linux&#41;
&gt;  -FAIL 5.9.5 on Darwin 8.10.1 &#40;darwin-2level&#41;
&gt;  -FAIL 5.10.0 on Linux 2.6.22.10 &#40;x86_64-linux-thread-multi-ld&#41;
&gt;  +PASS 5.8.4 on Linux 2.4.26 &#40;i486-linux&#41;
&gt; See
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.perl.org/show/CGI-Application-Plugin-">http://cpantesters.perl.org/show/CGI-Application-Plugin-</a></span>
&gt; ValidateRM.html
&gt; for details
&gt; 
&gt; 
&gt; This is also the case in my other machine running perl-5.10.0 on i686-
&gt; linux.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;10:56:41&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;20:54:44&nbsp;2008</span>
    <span class="description">zakame [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #35056] test failure at t/forward.t #2 &#39;form is returned&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Apr 2008 08:54:25 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Application-Plugin-ValidateRM [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Zak B. Elep&#34; &lt;zakame [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 4/15/08, MARKSTOS via RT
&lt;bug-CGI-Application-Plugin-ValidateRM@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  Could you also supply a patch to fix the issue?  Otherwise, I&#39;ll to get
&gt;  eventually.
</div>
I&#39;ll try. ;&#41;

Is the &#39;HUH&#39; part of the *_form runmodes in the tests supposed to be
removed somewhere during the process, before the Test::More::is&#40;&#41;
checks?  I don&#39;t really see any code in the ValidateRM plugin itself
doing this, neither in Data::FormValidator nor HTML::FillInForm...

Cheers,

Zakame


-- 
Zak B. Elep  ||  <span class="clickylink"><a target="new" rel="nofollow" href="http://zakame.spunge.org">http://zakame.spunge.org</a></span>
zakame@ubuntu.com  ||  zakame@spunge.org  ||  zakame@morphlabs.com
1486 7957 454D E529 E4F1  F75E 5787 B1FD FA53 851D
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;21:04:14&nbsp;2008</span>
    <span class="description">zakame [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 15 20:54:44 2008, ZAKAME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is the &#39;HUH&#39; part of the *_form runmodes in the tests supposed to be
&gt; removed somewhere during the process, before the Test::More::is&#40;&#41;
&gt; checks?  I don&#39;t really see any code in the ValidateRM plugin itself
&gt; doing this, neither in Data::FormValidator nor HTML::FillInForm...
</div>
Here is a patch that just removes that &#39;HUH&#39; in the forward test; I
don&#39;t really know if it is the correct patch as I don&#39;t see a reason why
there is that &#39;HUH&#39; in the test.  This perplexes me as I see test PASSes
on other platforms, so I&#39;m probably missing something.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From f71667ad5b7708545876fd75496a5b36541aa3b0 Mon Sep 17 00:00:00 2001
From: Zak B. Elep &lt;zakame@cpan.org&gt;
Date: Wed, 16 Apr 2008 08:57:06 +0800
Subject: [PATCH] Remove extraneous HUH in forward test

The forward test fails due to an extra &#39;HUH&#39; string returned by the *_form
runmodes; I don&#39;t really know whether if this should be removed by something
else during the check_rm&#40;&#41; process, since I don&#39;t see any code elsewhere
&#40;even outside ValidateRM&#41; that removes the string.

Signed-off-by: Zak B. Elep &lt;zakame@cpan.org&gt;
---
 t/forward.t |    4 ++--
 1 files changed, 2 insertions&#40;+&#41;, 2 deletions&#40;-&#41;

diff --git a/t/forward.t b/t/forward.t
index 87e829d..fe80c14 100644
--- a/t/forward.t
+++ b/t/forward.t
@@ -12,7 +12,7 @@ $ENV{CGI_APP_RETURN_ONLY} = 1;
     sub legacy_form { my $self = shift;
         Test::More::is&#40;$self-&gt;get_current_runmode, &#39;legacy_process&#39;, &#34;if
             ::Forward is not loaded, current_rm is not updated&#34;&#41;;
-        $self-&gt;header_type&#40;&#39;none&#39;&#41;; return &#34;legacy form output HUH&#34;; }
+        $self-&gt;header_type&#40;&#39;none&#39;&#41;; return &#34;legacy form output&#34;; }
 
     sub legacy_process { my $self = shift; my &#40;$results, $err_page&#41; =
         $self-&gt;check_rm&#40;&#39;legacy_form&#39;, { required =&gt; &#39;fail&#39; }&#41;; return
@@ -42,7 +42,7 @@ SKIP: {
         Test::More::is&#40;$self-&gt;get_current_runmode, &#39;forward_form&#39;, 
             &#34;if ::Forward is loaded, current_rm is updated&#34;&#41;;
         $self-&gt;header_type&#40;&#39;none&#39;&#41;;
-        return &#34;forward form output HUH&#34;;
+        return &#34;forward form output&#34;;
     }
 
     sub forward_process {
-- 
1.5.4.5

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;16&nbsp;10:20:35&nbsp;2008</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #35056] test failure at t/forward.t #2 &#39;form is returned&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 Apr 2008 10:19:05 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Application-Plugin-ValidateRM [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Zak B. Elep via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: CGI-Application-Plugin-ValidateRM
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=35056">http://rt.cpan.org/Ticket/Display.html?id=35056</a></span> &gt;
&gt; 
&gt; On Tue Apr 15 20:54:44 2008, ZAKAME wrote:
<div class="message-stanza open">&gt;&gt; Is the &#39;HUH&#39; part of the *_form runmodes in the tests supposed to be
&gt;&gt; removed somewhere during the process, before the Test::More::is&#40;&#41;
&gt;&gt; checks?  I don&#39;t really see any code in the ValidateRM plugin itself
&gt;&gt; doing this, neither in Data::FormValidator nor HTML::FillInForm...
</div>&gt; 
&gt; Here is a patch that just removes that &#39;HUH&#39; in the forward test; I
&gt; don&#39;t really know if it is the correct patch as I don&#39;t see a reason why
&gt; there is that &#39;HUH&#39; in the test.  This perplexes me as I see test PASSes
&gt; on other platforms, so I&#39;m probably missing something.
</div>
Zak,

Thanks for trying. This bug appeared somewhat recently without any code 
changes in ValidateRM. You can see through the search.cpan.org page for 
the module that all the tests generally pass for most people.

What I suspect then is that the problem is with a different version of 
an external module, like DFV, HTML::FillInForm or CGI.pm.

I suspect our &#34;fix&#34; may be to explicitly require a later version of one 
of these modules, but first we have to understand why the test only 
fails someone.

I fear that if we just update the test to pass in this case, it may only 
mean that it starts to fail for people it currently passes for.

Your help is appreciated!

     Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;16&nbsp;10:50:57&nbsp;2008</span>
    <span class="description">zakame [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 16 10:20:35 2008, mark@summersault.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for trying. This bug appeared somewhat recently without any code 
&gt; changes in ValidateRM. You can see through the search.cpan.org page for 
&gt; the module that all the tests generally pass for most people.
</div>
Yep, the cpantesters page for this indicates the module passes for a lot
of installations, so there could be something else beyond the module&#39;s
code that&#39;s triggering this bug

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What I suspect then is that the problem is with a different version of 
&gt; an external module, like DFV, HTML::FillInForm or CGI.pm.
&gt; 
&gt; I suspect our &#34;fix&#34; may be to explicitly require a later version of one 
&gt; of these modules, but first we have to understand why the test only 
&gt; fails someone.
</div>
Anything I can do to help here?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I fear that if we just update the test to pass in this case, it may only 
&gt; mean that it starts to fail for people it currently passes for.
&gt; 
&gt; Your help is appreciated!
</div>
Thanks!  Yep, that&#39;s what I feared too, as I felt changing the test
itself was a bit of a cheat working around the actual bug.

Cheers,

Zakame
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;26&nbsp;06:29:09&nbsp;2008</span>
    <span class="description">CHORNY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From &#39;Changes&#39; of HTML::FillInForm 1.07: &#34;Fix a bug the last plaintext
part might be chopped if called via scalarref [rt.cpan.org #21750]
&#40;Tatsuhiko Miyagawa&#41;&#34;

Only 1 FAIL and 2 PASS has dependencies versions listed.
FAIL - HTML::FillInForm 1.06
PASS - HTML::FillInForm 2.00

It seems that putting 1.07 in dependencies and removing &#39;HUH&#39; is correct
solution.

-- 
Alexandr Ciornii, <span class="clickylink"><a target="new" rel="nofollow" href="http://chorny.net">http://chorny.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;29&nbsp;10:52:30&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;29&nbsp;10:53:08&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have attempted to address this by just uploaded 2.2, which requires
HTML::FillInForm 1.07. Let&#39;s see if that fixes it. 

  Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;29&nbsp;10:53:12&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;06&nbsp;10:21:58&nbsp;2008</span>
    <span class="description">mark [...] summersault.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #35056] test failure at t/forward.t #2 &#39;form is returned&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 May 2008 10:21:33 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CGI-Application-Plugin-ValidateRM [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Stosberg &lt;mark [...] summersault.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;From &#39;Changes&#39; of HTML::FillInForm 1.07: &#34;Fix a bug the last plaintext
</div>&gt; part might be chopped if called via scalarref [rt.cpan.org #21750]
&gt; &#40;Tatsuhiko Miyagawa&#41;&#34;
&gt; 
&gt; Only 1 FAIL and 2 PASS has dependencies versions listed.
&gt; FAIL - HTML::FillInForm 1.06
&gt; PASS - HTML::FillInForm 2.00
&gt; 
&gt; It seems that putting 1.07 in dependencies and removing &#39;HUH&#39; is correct
&gt; solution.
</div>
I tried this approach for the 2.2 release, and it didn&#39;t work. In fact,
tests are failing everywhere now: 

<span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.html">http://cpantesters.perl.org/show/CGI-Application-Plugin-ValidateRM.html</a></span>

There must be some other dependency in the chain that changed its behavior...
maybe CGI.pm? It still needs further investigation.

    Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;06&nbsp;10:22:02&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;22&nbsp;23:04:32&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I see what part of the issue is.

In my development environment, I was getting a reverse result. An
incorrect setup pass, while a correct one would fail. This was with
FreeBSD 6.1 and Perl 5.8.0. I suspect this older version of Perl may be
somehow at fault, although I don&#39;t understand why. 

I&#39;ve just gotten the failing test to pass on Linux with Perl 5.8.8, and
will upload a revised version soon. 

   Makr
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;23&nbsp;09:07:59&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test failure at t/forward.t #2 &#39;form is returned&#39; &#40;fix released&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I released a new version to address this. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;23&nbsp;09:08:02&nbsp;2008</span>
    <span class="description">MARKSTOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
