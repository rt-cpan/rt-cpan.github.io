<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #67320 for Win32-API: Win32::API Callback won&#39;t install</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #67320 for Win32-API: Win32::API Callback won&#39;t install</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Win32-API">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Win32-API">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Win32-API">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Win32-API">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-API">Win32-API CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">67320</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">3 hours (180 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Win32-API">Win32-API</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">cosimo [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
engineer [...] fuse.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35436-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.62    </td>
  </tr>
  <tr id="CF-35437-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=67320">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-920411" href="/Public/Bug/Display.html?id=67320#txn-920411">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;07&nbsp;20:54:43&nbsp;2011</span>
    <span class="description">engineer [...] fuse.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Win32::API Callback won&#39;t install</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/920411/477534/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477534">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 848b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am running windows version Windows 7 Home Premium x86_64bit, 
Strawberry Perl ver 5.12.2, using makemaker version 6.56. About a month 
ago we got the Win32::API &#40;ver 0.60&#41; running on my machine, but I 
noticed Callback wasn&#39;t implimented. I thought maybe it was a separate 
download but when I went to CPAN the download was the API &#40;ver 0.62&#41;. I 
tried it to be sure nothing was different but Callback still isn&#39;t 
implimented although the rest of the API package compiled and installed 
perfectly. Cosimo tells me that this is presently a 64 bit issue so 
this is just the reminder he asked for.

By the way, in the compiling and testing there was no mention of the 
Callback routine in the printout that insued although the Callback.pm 
module was found in the root folder and a Callback folder was generated 
with the Callback.xs and makefile.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-920959" href="/Public/Bug/Display.html?id=67320#txn-920959">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;03:41:15&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/920959/477821/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477821">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 956b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 07 20:54:43 2011, bob41042 wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I thought maybe it was a separate 
&gt; download but when I went to CPAN the download was the API &#40;ver 0.62&#41;. 
&gt; I tried it to be sure nothing was different but Callback still isn&#39;t 
&gt; implimented although the rest of the API package compiled and 
&gt; installed perfectly. Cosimo tells me that this is presently a 64 bit
&gt; issue so this is just the reminder he asked for.
</div>
Hi Bob,

thanks for filing a ticket.
I looked at the code again, and the callback part was indeed disabled 
on purpose on 64 bit builds because it&#39;s currently not working, so the 
tests would fail.

This is the relevant part of Makefile.PL:


    &#39;PM&#39; =&gt; {
        ...
        $is_64bit_build
            ? &#40;&#41;
            : &#40;&#39;Callback.pm&#39; =&gt; &#39;$&#40;INST_LIBDIR&#41;/API/Callback.pm&#39;&#41;,
    },

If you change it to:

    &#39;PM&#39; =&gt; {
        ...
        &#39;Callback.pm&#39; =&gt; &#39;$&#40;INST_LIBDIR&#41;/API/Callback.pm&#39;,
    },

then the Callback part will be enabled.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-920962" href="/Public/Bug/Display.html?id=67320#txn-920962">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;03:41:16&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921200" href="/Public/Bug/Display.html?id=67320#txn-921200">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:14:34&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921200/477967/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477967">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 318b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Give odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921213" href="/Public/Bug/Display.html?id=67320#txn-921213">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:52:18&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Given to COSIMO</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921214" href="/Public/Bug/Display.html?id=67320#txn-921214">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:52:19&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921214/477978/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477978">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 318b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921219" href="/Public/Bug/Display.html?id=67320#txn-921219">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:52:25&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921219/477983/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477983">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 318b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921224" href="/Public/Bug/Display.html?id=67320#txn-921224">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:52:31&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921224/477988/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477988">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 318b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921229" href="/Public/Bug/Display.html?id=67320#txn-921229">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;17:52:36&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921229/477993/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/477993">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 318b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-921259" href="/Public/Bug/Display.html?id=67320#txn-921259">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;21:29:10&nbsp;2011</span>
    <span class="description">engineer [...] fuse.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67320] Win32::API Callback won&#39;t install </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 10 Apr 2011 21:28:58 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Win32-API [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Bob R&#34; &lt;engineer [...] fuse.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/921259/478017/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/478017">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Made the changes to both makefile.pl&#39;s this time from the commit page. Results were nearly the same &#40;everything compiled fine and the API stuff works&#41; except the this time because we leave out the callback.pm hash from the main makefile, it doesn&#39;t copy the module to the library at all so my error message this time when I try to run the Callback program is:

D:\MyPerl\Perl\Programs\XS\Development&gt;callback2.pl
Can&#39;t locate Win32/API/Callback.pm in @INC &#40;@INC contains: C:/strawberry/perl/site/lib C:/strawberry/perl/vendor/lib C:/strawberry/perl/lib .&#41; at D:\MyPerl\Perl\Programs\XS\Development\callback2.pl line 5.
BEGIN failed--compilation aborted at D:\MyPerl\Perl\Programs\XS\Development\callback2.pl line 5.

Then, if I copy the module to the library manually I get the old &#34;Can&#39;t locate loadable object&#34; error.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message----- 
From: Cosimo Streppone via RT 
Sent: Sunday, April 10, 2011 5:52 PM 
To: engineer@fuse.net 
Subject: [rt.cpan.org #67320] Win32::API Callback won&#39;t install 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67320">https://rt.cpan.org/Ticket/Display.html?id=67320</a></span> &gt;

I was too quick on that one.

Here&#39;s the &#40;reversed&#41; patch that will allow compilation of 
Win32::API::Callback on 64 bit builds:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>
commit/7bc695d94f98566d3ad90ec53b3d978935495e94

so, it needs changes to Callback/Makefile.PL too, not just Makefile.PL.
Sorry for the confusion.
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/921259/478018/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/478018">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971452" href="/Public/Bug/Display.html?id=67320#txn-971452">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;28&nbsp;15:30:25&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/971452/505519/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/505519">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 664b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Win32::API v0.64 is on its way to CPAN, and it&#39;s also pushed to Github 
at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span> 

This version has a clearer Makefile.PL that will correctly build or not 
build the Callback module depending on a &#34;$build_callback&#34; flag instead 
of avoiding build if it&#39;s a 64 bit architecture.

The two flags are still linked together by default &#40;64 bit arch =&gt; no 
callback&#41; because the Callback tests would fail anyway, but it should 
be easier for anyone to just enable/disable callback module by changing 
the &#34;$build_callback&#34; flag in:

* Makefile.PL
* Callback/Makefile.PL

I&#39;ll fix as resolved. Please get in touch if there&#39;s problems.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971456" href="/Public/Bug/Display.html?id=67320#txn-971456">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;28&nbsp;15:30:28&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971751" href="/Public/Bug/Display.html?id=67320#txn-971751">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;29&nbsp;12:19:09&nbsp;2011</span>
    <span class="description">engineer [...] fuse.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67320] Win32::API Callback won&#39;t install </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Aug 2011 10:48:24 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Win32-API [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Bob R&#34; &lt;engineer [...] fuse.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/971751/505703/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/505703">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I changed the two $build_callback flags and installed the new revision. 
Everything seemed to work fine in testing and installing. But now that it&#39;s 
installed, none of the sample callback programs work still. They come up 
with an error saying &#34;Perl has stopped working. Trying to find out why&#34;. 
Then when the resolution pops up it says, &#34;The thread tried to read from or 
write to a virtual address for which it does not have the appropriate 
access&#34;. If there is something I&#39;m doing wrong could you tell me what might 
cause such an error? These were the 3 sample callback programs in the 
package.

Thanks,
Bob Ross

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message----- 
From: Cosimo Streppone via RT
Sent: Sunday, August 28, 2011 3:30 PM
To: engineer@fuse.net
Subject: [rt.cpan.org #67320] Win32::API Callback won&#39;t install

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67320">https://rt.cpan.org/Ticket/Display.html?id=67320</a></span> &gt;

Win32::API v0.64 is on its way to CPAN, and it&#39;s also pushed to Github
at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/cosimo/perl5-win32-api/">https://github.com/cosimo/perl5-win32-api/</a></span>

This version has a clearer Makefile.PL that will correctly build or not
build the Callback module depending on a &#34;$build_callback&#34; flag instead
of avoiding build if it&#39;s a 64 bit architecture.

The two flags are still linked together by default &#40;64 bit arch =&gt; no
callback&#41; because the Callback tests would fail anyway, but it should
be easier for anyone to just enable/disable callback module by changing
the &#34;$build_callback&#34; flag in:

* Makefile.PL
* Callback/Makefile.PL

I&#39;ll fix as resolved. Please get in touch if there&#39;s problems.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971753" href="/Public/Bug/Display.html?id=67320#txn-971753">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;29&nbsp;12:19:10&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971897" href="/Public/Bug/Display.html?id=67320#txn-971897">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;29&nbsp;14:44:23&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/971897/505800/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/505800">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 486b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Aug 29 12:19:09 2011, bob41042 wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I changed the two $build_callback flags and installed the new 
</div>revision. 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Everything seemed to work fine in testing and installing. But now 
</div>that it&#39;s 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; installed, none of the sample callback programs work still. They come 
</div>up 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; with an error saying &#34;Perl has stopped working. Trying to find out 
</div>why&#34;.

Hi Bob,

yes, sadly that problem &#40;the original problem with Callbacks and 64 bit 
architectures&#41; is still not solved.

-- 
Cosimo
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-971901" href="/Public/Bug/Display.html?id=67320#txn-971901">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;29&nbsp;14:44:37&nbsp;2011</span>
    <span class="description">cosimo [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.749614</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
