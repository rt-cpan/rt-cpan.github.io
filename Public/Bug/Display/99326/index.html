<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #99326 for Perl-Dist-Strawberry: http fetch bugs in cpanm</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #99326 for Perl-Dist-Strawberry: http fetch bugs in cpanm</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Dist-Strawberry">Perl-Dist-Strawberry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">99326</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Perl-Dist-Strawberry/Active/">Perl-Dist-Strawberry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
esarmas [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;06&nbsp;07:39:20&nbsp;2014</span>
    <span class="description">esarmas [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> http fetch bugs in cpanm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 6 Oct 2014 14:38:29 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ev Sarmas &lt;esarmas [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I want to learn perl and downloaded and use Strawberry Per &#40;5.20&#41; on 32 bit
Windows. It works fine but when I wanted to install Padre I used the
&#39;cpanm&#39; tool which is my source of complaints.

1. cpanm cannot get a http url for a distribution on first try immediately
and usually on all 3 tries so I have to run a cpanm command many times in
sequence for it to get the distribution and try to install it &#40;often 10
times !!!&#41;
certainly something is wrong, Chrome gets it immediately on first try

this happened with

cpanm Padre
cpanm Alien::wxWidgets
cpanm Wx

2. even when cpanm finally gets the distribution it cannot install it
because it often needs to get some other source and fetches further http
data which not all result in 200 HTTP code but many times in 301 HTTP code
&#40;MOVED&#41; that cpanm handles as error
clearly cpanm should handle 301 and finish the installation

I paste below the log for cpanm Alien:wxWidgets

cpanm &#40;App::cpanminus&#41; 1.7009 on perl 5.020001 built for
MSWin32-x86-multi-thread-64int
Work directory is C:\DOCUME~1\eis/.cpanm/work/1412516982.2084
You have make C:\Strawberry\c\bin\dmake.exe
You have LWP 6.08
Falling back to Archive::Tar 2.02
Searching Alien::wxWidgets on cpanmetadb ...
-&gt; FAIL Finding Alien::wxWidgets on cpanmetadb failed.
Searching Alien::wxWidgets &#40;&#41; on metacpan ...
--&gt; Working on Alien::wxWidgets
Fetching
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/M/MD/MDOOTSON/Alien-wxWidgets-0.65.tar.gz">http://www.cpan.org/authors/id/M/MD/MDOOTSON/Alien-wxWidgets-0.65.tar.gz</a></span>
-&gt; OK
Unpacking Alien-wxWidgets-0.65.tar.gz
Entering Alien-wxWidgets-0.65
Checking configure dependencies from META.json
Checking if you have Module::Build 0.28 ... Yes &#40;0.4210&#41;
Configuring Alien-wxWidgets-0.65
Running Build.PL
Possible precedence issue with control flow operator at
lib/Alien/wxWidgets/Utility.pm line 77.
Created MYMETA.yml and MYMETA.json
Creating new &#39;Build&#39; script for &#39;Alien-wxWidgets&#39; version &#39;0.65&#39;
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have Module::Pluggable 2.6 ... Yes &#40;5.1&#41;
Checking if you have Module::Build 0.28 ... Yes &#40;0.4210&#41;
Checking if you have File::Spec 1.50 ... Yes &#40;3.48&#41;
Checking if you have ExtUtils::CBuilder 0.24 ... Yes &#40;0.280219&#41;
Building and testing Alien-wxWidgets-0.65
Possible precedence issue with control flow operator at
lib/Alien/wxWidgets/Utility.pm line 77.
Fetch failed! HTTP response: 500 Internal Server Error [500 Can&#39;t connect
to prdownloads.sourceforge.net:80 &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://prdownloads.sourceforge.net/">http://prdownloads.sourceforge.net/</a></span>&gt;] at
inc/My/Build/Base.pm line 305.
Fetch failed! HTTP response: 599 [Internal Exception] at
inc/My/Build/Base.pm line 305.
Got a &#39;301&#39; from &#39;prdownloads.sourceforge.net&#39; expected &#39;200&#39; at
inc/My/Build/Base.pm line 305.
Unable to fetch archive at inc/My/Build/Base.pm line 307.
Building Alien-wxWidgets
Fetching wxWidgets...
fetching from:
<span class="clickylink"><a target="new" rel="nofollow" href="http://prdownloads.sourceforge.net/wxwindows/wxWidgets-3.0.0.tar.bz2">http://prdownloads.sourceforge.net/wxwindows/wxWidgets-3.0.0.tar.bz2</a></span>
-&gt; FAIL Installing Alien::wxWidgets failed. See
C:\DOCUME~1\eis\.cpanm\work\1412516982.2084\build.log for details. Retry
with --force to force install it.


Please what can I do ??

I must say the impression one gets is not very favorable for Perl &#40;sorry...&#41;
cpanm is not just a tool that may go wrong, it&#39;s the main install/upgrade
tool for perl packages as I understand and it should work ok


Best regards,

E.Sarmas
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;06&nbsp;09:32:42&nbsp;2014</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #99326] http fetch bugs in cpanm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 06 Oct 2014 15:32:30 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karel Miko &lt;kmx [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

the trouble here is that Alien-wxWidgets build script tries to download 
some files &#40;probably Wxwidget source tarball&#41; from sourceforge.net server.

Unfortunately at the time you have tried it the sourceforge.net server &#40;not 
a perl server not a strawberry perl server&#41; responded with error &#34;500 
Internal Server Error&#34;

As you have realized the workaround is to try it again.

The more bulletproof fix might be implemented at Alien-wxWidgets&#39;s side 
where their build script might repeatedly retry the download in case of 
failure.

Anyway neither cpanm nor strawberry perl can do much about this as it is 
simply caused by unreliable and/or overloaded sourceforge.net server.

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;06&nbsp;09:32:43&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;06&nbsp;15:36:46&nbsp;2014</span>
    <span class="description">esarmas [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #99326] http fetch bugs in cpanm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 6 Oct 2014 22:36:36 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ev Sarmas &lt;esarmas [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!

Thanks for reply but i think it was rather hasty compounded by the fact
that the log output is not so well worded perhaps.

If you look after the 500 error, there is further error report from the
same line number &#40;!&#41; that the http code received was 301 when expecting 200
and indeed
if you try on Chrome the link

<span class="clickylink"><a target="new" rel="nofollow" href="http://prdownloads.sourceforge.net/wxwindows/wxWidgets-3.0.0.tar.bz2">http://prdownloads.sourceforge.net/wxwindows/wxWidgets-3.0.0.tar.bz2</a></span>

you easily get the package after a redirect to another url ...

the 500 code seems not to be real &#40;!&#41; since you cannot get both 500 and 301

Also remains my note #1 about the many trials needed to download from the
cpan.org site.

I am surprised. These packages seem to be important requirements for an
important distribution which is Padre. How do other people install Padre ?
Have they noticed no problem ??!

Best Regards,

E.Sarmas
On 6 Oct 2014 16:32, &#34;kmx via RT&#34; &lt;bug-Perl-Dist-Strawberry@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=99326">https://rt.cpan.org/Ticket/Display.html?id=99326</a></span> &gt;
&gt;
&gt; Hi,
&gt;
&gt; the trouble here is that Alien-wxWidgets build script tries to download
&gt; some files &#40;probably Wxwidget source tarball&#41; from sourceforge.net server.
&gt;
&gt; Unfortunately at the time you have tried it the sourceforge.net server
&gt; &#40;not
&gt; a perl server not a strawberry perl server&#41; responded with error &#34;500
&gt; Internal Server Error&#34;
&gt;
&gt; As you have realized the workaround is to try it again.
&gt;
&gt; The more bulletproof fix might be implemented at Alien-wxWidgets&#39;s side
&gt; where their build script might repeatedly retry the download in case of
&gt; failure.
&gt;
&gt; Anyway neither cpanm nor strawberry perl can do much about this as it is
&gt; simply caused by unreliable and/or overloaded sourceforge.net server.
&gt;
&gt; --
&gt; kmx
&gt;
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;23&nbsp;03:23:27&nbsp;2014</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">I am afraid I am not help your more with this issue as I do not regard it a Strawberry perl bug. Therefore closing.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;23&nbsp;03:23:28&nbsp;2014</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
