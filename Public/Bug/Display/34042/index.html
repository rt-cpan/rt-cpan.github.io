<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #34042 for Catalyst-View-JSON: Couldn&#39;t find a JSON Package.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #34042 for Catalyst-View-JSON: Couldn&#39;t find a JSON Package.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Catalyst-View-JSON/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Catalyst-View-JSON/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Catalyst-View-JSON/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Catalyst-View-JSON/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Catalyst-View-JSON">Catalyst-View-JSON CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">34042</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Catalyst-View-JSON/Active/">Catalyst-View-JSON</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-5320-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.24    </td>
  </tr>
  <tr id="CF-5321-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;02:41:28&nbsp;2008</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Couldn&#39;t find a JSON Package.</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">My smoke box reported this test failure: Couldn&#39;t find a JSON Package.

In <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html</a></span>

As so often this failure cannot be reproduced later because the smoker
has installed something else in the meantime. Seems to be a different
logic in the test script and in the dependency declaration. Or something

There are three other testers reports with the same error message.

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;04:27:56&nbsp;2008</span>
    <span class="description">miyagawa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34042] Couldn&#39;t find a JSON Package.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Mar 2008 01:27:41 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Catalyst-View-JSON [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tatsuhiko Miyagawa&#34; &lt;miyagawa [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is actually a problem with JSON::Any, isn&#39;t it?

On 3/12/08, Andreas Koenig via RT &lt;bug-Catalyst-View-JSON@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Thu Mar 13 02:41:28 2008: Request 34042 was acted upon.
&gt; Transaction: Ticket created by ANDK
&gt;       Queue: Catalyst-View-JSON
&gt;     Subject: Couldn&#39;t find a JSON Package.
&gt;   Broken in: 0.24
&gt;    Severity: Normal
&gt;       Owner: Nobody
&gt;  Requestors: ANDK@cpan.org
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34042">http://rt.cpan.org/Ticket/Display.html?id=34042</a></span> &gt;
&gt;
&gt;
&gt; My smoke box reported this test failure: Couldn&#39;t find a JSON Package.
&gt;
&gt; In <span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html</a></span>
&gt;
&gt; As so often this failure cannot be reproduced later because the smoker
&gt; has installed something else in the meantime. Seems to be a different
&gt; logic in the test script and in the dependency declaration. Or something
&gt;
&gt; There are three other testers reports with the same error message.
&gt;
&gt; Thanks,
&gt;
&gt;
</div>

-- 
Tatsuhiko Miyagawa
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;04:27:57&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;13&nbsp;17:07:28&nbsp;2008</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34042] Couldn&#39;t find a JSON Package.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Mar 2008 22:07:03 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Catalyst-View-JSON [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Thu, 13 Mar 2008 04:27:58 -0400, &#34;miyagawa@gmail.com via RT&#34; &lt;bug-Catalyst-View-JSON@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; This is actually a problem with JSON::Any, isn&#39;t it?
</div>
If it is you would know better than me. Could you then reassign the
ticket to the JSON::Any queue with enough information attached so that
the maintainers there understand what needs fixing? Otherwise let me
know what I could do to clear things up.

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;09&nbsp;03:24:58&nbsp;2011</span>
    <span class="description">converter [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de, miyagawa [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">For what it&#39;s worth I ran into this issue on my in-house smoke test box 
and after struggling with it for days noticed a stray symlink to 
View/JSON.pm in the top level of the application directory. After 
removing the symlink make test was able to complete without failures.

While troubleshooting, I also discovered that prove -l t/ was not 
subject to the unexpected failures. I&#39;m not sure what that means.

On Thu Mar 13 01:41:28 2008, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My smoke box reported this test failure: Couldn&#39;t find a JSON Package.
&gt; 
&gt; In 
</div><span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html">http://www.nntp.perl.org/group/perl.cpan.testers/2008/03/msg1155037.html</a></span>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; As so often this failure cannot be reproduced later because the smoker
&gt; has installed something else in the meantime. Seems to be a different
&gt; logic in the test script and in the dependency declaration. Or 
</div>something
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; There are three other testers reports with the same error message.
&gt; 
&gt; Thanks,
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;16:26:28&nbsp;2012</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">ecarroll@occupyboxen:/var/www/dealermade$ perl script/55901 
Couldn&#39;t instantiate component &#34;Dealermade::View::JSON&#34;, &#34;Couldn&#39;t find a 
JSON package. Need XS, JSON, or DWIW at 
/usr/local/share/perl/5.14.2/Catalyst/View/JSON.pm line 42.&#34;Compilation 
failed in require at /usr/local/share/perl/5.14.2/Module/Runtime.pm line 
317.
 at /usr/local/share/perl/5.14.2/Catalyst/ScriptRunner.pm line 50.
ecarroll@occupyboxen:/var/www/dealermade$ perl -MJSON::XS -e1

I&#39;ll work on resolving this, I&#39;ve got it too.

-- 
Evan Carroll
System Lord of the Internets
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.evancarroll.com">http://www.evancarroll.com</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;26&nbsp;17:41:21&nbsp;2012</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is the issue. Just looked into it, and figured it out quickly. I 
use Syck -- it&#39;s the only full featured JSON exporter. I have no 
intention of leaving Syck. The program generates the error message:

&#34;Couldn&#39;t find a JSON package. Need XS, JSON, or DWIW&#34;

Yet in my YAML conf file I have

View::JSON:
  expose_stash: &#39;json&#39;
  json_driver: &#39;Syck&#39;


I suggest we make the error message more verbose and say *what* driver 
failed to load, patch up now with pull request.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/EvanCarroll/catalyst-view-json">https://github.com/EvanCarroll/catalyst-view-json</a></span>

-- 
Evan Carroll
System Lord of the Internets
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.evancarroll.com">http://www.evancarroll.com</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;27&nbsp;14:46:23&nbsp;2013</span>
    <span class="description">dsteinbrunner [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> dsteinbrunner [...] pobox.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Mar 13 02:41:28 2008, ANDK wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There are three other testers reports with the same error message.
</div>
Just ran into this.  New perl 5.16.3 install along with Catalyst and other dependencies for the Catalyst app in question.  Everything installed but Catalyst::View::JSON.

These are the JSON modules that were installed:

JSON::Any
JSON::MaybeXS
JSON::PP
Cpanel::JSON::XS

I tried installing JSON::XS and this did not help the test pass.

Installing JSON however allowed the test to pass.  Not sure why ones of the other JSON modules did not get picked up and used.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;30&nbsp;10:28:23&nbsp;2013</span>
    <span class="description">jjn1056 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34042] Couldn&#39;t find a JSON Package.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 30 Nov 2013 07:28:11 -0800 &#40;PST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Catalyst-View-JSON [...] rt.cpan.org&#34; &lt;bug-Catalyst-View-JSON [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Napiorkowski &lt;jjn1056 [...] yahoo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m pretty sure this is a a problem with JSON::Any which in my mind is being far too clever for its own good.  What version of JSON::Any do you have?

Can you try also JSON_ANY_ORDER=JSON cpanm Catalyst::View::JSON

and let me know if that helps?

john


On Wednesday, November 27, 2013 1:46 PM, &#34;dsteinbrunner@pobox.com via RT&#34; &lt;bug-Catalyst-View-JSON@rt.cpan.org&gt; wrote:

       Queue: Catalyst-View-JSON
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=34042">https://rt.cpan.org/Ticket/Display.html?id=34042</a></span> &gt;

On Thu Mar 13 02:41:28 2008, ANDK wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There are three other testers reports with the same error message.
</div>
Just ran into this.  New perl 5.16.3 install along with Catalyst and other dependencies for the Catalyst app in question.  Everything installed but Catalyst::View::JSON.

These are the JSON modules that were installed:

JSON::Any
JSON::MaybeXS
JSON::PP
Cpanel::JSON::XS

I tried installing JSON::XS and this did not help the test pass.

Installing JSON however allowed the test to pass.  Not sure why ones of the other JSON modules did not get picked up and used.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;03&nbsp;14:06:56&nbsp;2015</span>
    <span class="description">https://colinnewell.wordpress.com/ -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Colin Newell</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 30 10:28:23 2013, jjn1056@yahoo.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m pretty sure this is a a problem with JSON::Any which in my mind is
&gt; being far too clever for its own good.  What version of JSON::Any do
&gt; you have?
&gt; 
&gt; Can you try also JSON_ANY_ORDER=JSON cpanm Catalyst::View::JSON
&gt; 
&gt; and let me know if that helps?
&gt; 
&gt; john
</div>
Unfortunately @order contains &#39;JSON&#39; so the JSON_ANY_ORDER= has no effect on proceedings.  

. = JSON::Any::import&#40;&#39;JSON::Any&#39;, &#39;JSON&#39;&#41; called from file `lib/Catalyst/View/JSON.pm&#39; line 42

That appears to be the line calling JSON::Any-&gt;import&#40;$driver&#41;;

That&#39;s defaulted to JSON which I don&#39;t install these days, instead preferring the new Cpanel module.  It looks like that JSON default was added in 0.18 in 2007 for backwards compatibility.

I&#39;ve created a pull request to fix the test as it already appeared to try to avoid the dependency on JSON.  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/shadowcat-mst/catalyst-view-json/pull/2">https://github.com/shadowcat-mst/catalyst-view-json/pull/2</a></span>

I also created one for preventing the attempt to load JSON in the module as that seems to be the core of the problem.  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/colinnewell/catalyst-view-json/commit/9d0240c8283db6616eff5956ea48251a69ea04d6">https://github.com/colinnewell/catalyst-view-json/commit/9d0240c8283db6616eff5956ea48251a69ea04d6</a></span> 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;25&nbsp;11:25:36&nbsp;2015</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m pretty sure the move to MaybJSON::XS solves this as I don&#39;t see errors reported in any recent version on CPAN testers.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;25&nbsp;11:25:37&nbsp;2015</span>
    <span class="description">jjnapiork [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
