<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #72542 for Spiffy: Tests using &#34;package B&#34; conflict with the real B.pm</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #72542 for Spiffy: Tests using &#34;package B&#34; conflict with the real B.pm</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Spiffy/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Spiffy/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Spiffy/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Spiffy/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/ingydotnet/spiffy-pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Spiffy">Spiffy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">72542</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Spiffy/Active/">Spiffy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-29382-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.30    </td>
  </tr>
  <tr id="CF-29383-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;18&nbsp;16:54:33&nbsp;2011</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tests using &#34;package B&#34; conflict with the real B.pm</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The Spiffy tests use &#34;package B&#34; a lot.  This can conflict with B.pm if
it were to be loaded by anything the Spiffy tests use causing the tests
to fail.  It turns out the next major version of Test::More will do this.
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/release/MSCHWERN/Test-Simple-1.005000_001/">https://metacpan.org/release/MSCHWERN/Test-Simple-1.005000_001/</a></span>

The attached patch changes B to Bicycle to avoid conflict.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> spiffy.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/t/autoload.t b/t/autoload.t
index 206c68f..ae1ed73 100644
--- a/t/autoload.t
+++ b/t/autoload.t
@@ -11,7 +11,7 @@ sub AUTOLOAD {
     join &#39;+&#39;, $A::AUTOLOAD, @_;
 }
 
-package B;
+package Bicycle;
 use base &#39;A&#39;;
 
 sub AUTOLOAD {
@@ -19,7 +19,7 @@ sub AUTOLOAD {
 }
 
 package C;
-use base &#39;B&#39;;
+use base &#39;Bicycle&#39;;
 
 sub AUTOLOAD {
     super;
diff --git a/t/export2.t b/t/export2.t
index 2a14dd7..7484c62 100644
--- a/t/export2.t
+++ b/t/export2.t
@@ -7,16 +7,16 @@ BEGIN {@A::EXPORT = qw&#40;$A1 $A2&#41;}
 $A::A1 = 5;
 $A::A2 = 10;
 
-package B;
+package Bicycle;
 use base &#39;A&#39;;
-BEGIN {@B::EXPORT = qw&#40;$A2 $A3&#41;}
-$B::A2 = 15;
-$B::A3 = 20;
+BEGIN {@Bicycle::EXPORT = qw&#40;$A2 $A3&#41;}
+$Bicycle::A2 = 15;
+$Bicycle::A3 = 20;
 
 package main;
 use strict;
 use Test::More tests =&gt; 6;
-BEGIN {B-&gt;import}
+BEGIN {Bicycle-&gt;import}
 ok&#40;defined $main::A1&#41;;
 ok&#40;defined $main::A2&#41;;
 ok&#40;defined $main::A3&#41;;
diff --git a/t/export3.t b/t/export3.t
index 2e76659..7f62c3a 100644
--- a/t/export3.t
+++ b/t/export3.t
@@ -8,16 +8,16 @@ BEGIN {@A::EXPORT_OK = qw&#40;$A1 $A2&#41;}
 $A::A1 = 5;
 $A::A2 = 10;
 
-package B;
+package Bicycle;
 use base &#39;A&#39;;
-BEGIN {@B::EXPORT_OK = qw&#40;$A2 $A3&#41;}
-$B::A2 = 15;
-$B::A3 = 20;
+BEGIN {@Bicycle::EXPORT_OK = qw&#40;$A2 $A3&#41;}
+$Bicycle::A2 = 15;
+$Bicycle::A3 = 20;
 
 package main;
 no warnings;
 use Test::More tests =&gt; 7;
-BEGIN {B-&gt;import&#40;qw&#40;$A1 $A2 $A3 $A4&#41;&#41;}
+BEGIN {Bicycle-&gt;import&#40;qw&#40;$A1 $A2 $A3 $A4&#41;&#41;}
 ok&#40;defined $main::A1&#41;;
 ok&#40;defined $main::A2&#41;;
 ok&#40;defined $main::A3&#41;;
diff --git a/t/export4.t b/t/export4.t
index 1330293..aacdde1 100644
--- a/t/export4.t
+++ b/t/export4.t
@@ -6,7 +6,7 @@ package A;
 # Exporter before 5.8.4 needs the tag as the first thing imported
 use Spiffy -base, qw&#40;:XXX const&#41;;
 
-package B;
+package Bicycle;
 use base &#39;A&#39;;
 
 package C;
@@ -30,10 +30,10 @@ ok&#40;defined &#38;A::const&#41;;
 ok&#40;defined &#38;A::XXX&#41;;
 ok&#40;defined &#38;A::YYY&#41;;
 
-ok&#40;defined &#38;B::field&#41;;
-ok&#40;defined &#38;B::const&#41;;
-ok&#40;not defined &#38;B::XXX&#41;;
-ok&#40;not defined &#38;B::YYY&#41;;
+ok&#40;defined &#38;Bicycle::field&#41;;
+ok&#40;defined &#38;Bicycle::const&#41;;
+ok&#40;not defined &#38;Bicycle::XXX&#41;;
+ok&#40;not defined &#38;Bicycle::YYY&#41;;
 
 ok&#40;defined &#38;C::field&#41;;
 ok&#40;defined &#38;C::const&#41;;
diff --git a/t/export5.t b/t/export5.t
index e9f8d8c..c8f48b9 100644
--- a/t/export5.t
+++ b/t/export5.t
@@ -7,15 +7,15 @@ use Spiffy -base;
 BEGIN {@A::EXPORT_OK = qw&#40;dude&#41;}
 const dude =&gt; 10;
 
-package B;
+package Bicycle;
 use base &#39;A&#39;;
 BEGIN {
-    @B::EXPORT_OK = qw&#40;dude&#41;;
+    @Bicycle::EXPORT_OK = qw&#40;dude&#41;;
     const dude =&gt; 20;
 }
 
 package C;
-BEGIN {B-&gt;import&#40;&#39;dude&#39;&#41;}
+BEGIN {Bicycle-&gt;import&#40;&#39;dude&#39;&#41;}
 
 package main;
 no warnings;
diff --git a/t/export6.t b/t/export6.t
index 5620f12..d631233 100644
--- a/t/export6.t
+++ b/t/export6.t
@@ -5,12 +5,12 @@ use warnings;
 package A;
 use Spiffy -Base, &#39;:XXX&#39;;
 
-package B;
+package Bicycle;
 use Spiffy -Base, &#39;:XXX&#39;, &#39;field&#39;;
 
 package main;
 use Test::More tests =&gt; 4;
 ok&#40;not defined &#38;A::field&#41;;
-ok&#40;defined &#38;B::field&#41;;
+ok&#40;defined &#38;Bicycle::field&#41;;
 ok&#40;defined &#38;A::XXX&#41;;
-ok&#40;defined &#38;B::XXX&#41;;
+ok&#40;defined &#38;Bicycle::XXX&#41;;
diff --git a/t/export7.t b/t/export7.t
index badadba..8a2715c 100644
--- a/t/export7.t
+++ b/t/export7.t
@@ -2,7 +2,7 @@ use Test::More;
 
 plan tests =&gt; 4;
 
-package B;
+package Bicycle;
 use Spiffy -Base, -XXX;
 
 package A;
@@ -13,5 +13,5 @@ package main;
 ok&#40;not defined &#38;A::XXX&#41;;
 ok&#40;defined &#38;A::field&#41;;
 
-ok&#40;defined &#38;B::XXX&#41;;
-ok&#40;defined &#38;B::field&#41;;
+ok&#40;defined &#38;Bicycle::XXX&#41;;
+ok&#40;defined &#38;Bicycle::field&#41;;
diff --git a/t/mixin3.t b/t/mixin3.t
index 19a2321..f215f00 100644
--- a/t/mixin3.t
+++ b/t/mixin3.t
@@ -2,7 +2,7 @@ use lib &#39;t&#39;, &#39;lib&#39;;
 package A;
 use Spiffy -Base;
 
-package B;
+package Bicycle;
 use Spiffy -Base;
 field foo =&gt; 42;
 
@@ -11,5 +11,5 @@ package main;
 use Test::More tests =&gt; 1;
 
 my $a = A-&gt;new;
-$a-&gt;mixin&#40;&#39;B&#39;&#41;;
+$a-&gt;mixin&#40;&#39;Bicycle&#39;&#41;;
 is&#40;$a-&gt;foo, 42&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;17&nbsp;04:40:14&nbsp;2012</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ping?

Can this be resolved? Broken Spiffy blocks Test::Base, Test::Less, and
~30 other direct dependents.

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;17&nbsp;04:40:15&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;02&nbsp;00:47:16&nbsp;2012</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ping again.  This is blocking testing a chunk of CPAN with Test::Builder
1.5.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;02&nbsp;14:13:18&nbsp;2012</span>
    <span class="description">ingy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in Spiffy-0.31
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;02&nbsp;14:13:19&nbsp;2012</span>
    <span class="description">ingy [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
