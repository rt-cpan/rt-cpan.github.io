<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #98683 for Inline-Java: libinline-java-perl: FTBFS on mips: test suite issues</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #98683 for Inline-Java: libinline-java-perl: FTBFS on mips: test suite issues</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Inline-Java">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Inline-Java">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Inline-Java">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Inline-Java">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Inline-Java">Inline-Java CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">98683</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1 hour (60 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Inline-Java">Inline-Java</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ETJ [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
gregoa [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16926-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16927-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




libinline-java-perl_0.55-1_mips.build<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1433051/761775/libinline-java-perl_0.55-1_mips.build">
Fri Nov 14 13:07:38 2014 (17.5k) by gregoa [...] debian.org
</a>
</font></li>
</ul>


libinline-java-perl_0.55-1_mips.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1434137/762310/libinline-java-perl_0.55-1_mips.log">
Mon Nov 17 12:26:00 2014 (12k) by gregoa [...] debian.org
</a>
</font></li>
</ul>


libinline-java-perl_0.56_mips.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1436785/763813/libinline-java-perl_0.56_mips.log">
Wed Nov 26 12:23:23 2014 (19.5k) by Jurica.Stanojkovic [...] imgtec.com
</a>
</font></li>
</ul>


signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1667669/895015/signature.asc">
Sat Sep 10 16:46:53 2016 (931b) by gregoa [...] debian.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1436788/763818/signature.asc">
Wed Nov 26 12:38:40 2014 (949b) by gregoa [...] debian.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1434137/762311/signature.asc">
Mon Nov 17 12:26:00 2014 (949b) by gregoa [...] debian.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1433051/761776/signature.asc">
Fri Nov 14 13:07:38 2014 (949b) by gregoa [...] debian.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=98683">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1408205" href="/Public/Bug/Display.html?id=98683#txn-1408205">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;07&nbsp;07:59:54&nbsp;2014</span>
    <span class="description">gregoa [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gregoa [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1408205/747430/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/747430">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">We have the following bug reported to the Debian package of
Inline-Java &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.debian.org/754755&#41;">https://bugs.debian.org/754755&#41;</a></span>:

It doesn&#39;t seem to be a bug in the packaging, so you may want to take
a look. Thanks!

The original bug report is about mips but actually the package fails to
build on all kinds of architectures; cf. the build logs at
<span class="clickylink"><a target="new" rel="nofollow" href="https://buildd.debian.org/status/logs.php?pkg=libinline-java-perl">https://buildd.debian.org/status/logs.php?pkg=libinline-java-perl</a></span>


------8&lt;-----------8&lt;-----------8&lt;-----------8&lt;-----------8&lt;-----

Source: libinline-java-perl
Version: 0.53-2
Severity: serious
Justification: FTBFS

Hi,

your package no longer builds on mips:
| Test Summary Report
| -------------------
| t/04_members.t       &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
|   Non-zero wait status: 11
|   Parse errors: Bad plan.  You planned 28 tests but ran 0.
| t/13_handles.t       &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
|   Non-zero wait status: 11
|   Parse errors: Bad plan.  You planned 12 tests but ran 0.
| Files=19, Tests=287, 995 wallclock secs &#40; 1.60 usr  0.64 sys + 501.64 cusr 494.28 csys = 998.16 CPU&#41;
| Result: FAIL
| Failed 2/19 test programs. 0/287 subtests failed.
| make[1]: *** [test_dynamic] Error 255
| Makefile:886: recipe for target &#39;test_dynamic&#39; failed
| make[1]: Leaving directory &#39;/Ã‚Â«PKGBUILDDIRÃ‚Â»&#39;
| make: *** [debian/stamp-makefile-check] Error 2
| /usr/share/cdbs/1/class/makefile.mk:67: recipe for target &#39;debian/stamp-makefile-check&#39; failed
| dpkg-buildpackage: error: debian/rules build-arch gave error exit status 2

Full build log:
  <span class="clickylink"><a target="new" rel="nofollow" href="https://buildd.debian.org/status/fetch.php?pkg=libinline-java-perl&#38;arch=mips&#38;ver=0.53-2&#38;stamp=1405227323">https://buildd.debian.org/status/fetch.php?pkg=libinline-java-perl&#38;arch=mips&#38;ver=0.53-2&#38;stamp=1405227323</a></span>

Mraw,
KiBi.


------8&lt;-----------8&lt;-----------8&lt;-----------8&lt;-----------8&lt;-----


Thanks for considering,
  gregor herrmann,
  Debian Perl Group
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1408778" href="/Public/Bug/Display.html?id=98683#txn-1408778">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;08&nbsp;21:44:11&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1408778/747704/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/747704">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 286b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On the git master version, these tests pass. This is my Java version:

$ java -version
java version &#34;1.5.0&#34;
gij &#40;GNU libgcj&#41; version 4.4.7 20120313 &#40;Red Hat 4.4.7-4&#41;
Copyright &#40;C&#41; 2007 Free Software Foundation, Inc.

Is it possible for you to try against latest &#40;0.54, on CPAN shortly&#41;?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1408779" href="/Public/Bug/Display.html?id=98683#txn-1408779">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;08&nbsp;21:44:12&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1408782" href="/Public/Bug/Display.html?id=98683#txn-1408782">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;08&nbsp;22:24:02&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1408782/747707/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/747707">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 91b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The CPAN release of 0.540 has been withdrawn. Please get in touch with Ingy on this matter.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1426754" href="/Public/Bug/Display.html?id=98683#txn-1426754">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;29&nbsp;12:42:20&nbsp;2014</span>
    <span class="description">jurica.stanojkovic [...] rt-rk.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jurica.stanojkovic [...] rt-rk.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1426754/757956/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/757956">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 815b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I have tried to build libinline-java-perl_0.53-3 from Debian on mips.
Package FTBFS on mips.

But same package &#40;libinline-java-perl_0.53-3&#41; can be built from same source manually with following commands:
  perl Makefile.PL J2SDK=/usr/
  make                                   
  make test                             

If built manually all tests pass on mips.

java version is &#34;1.7.0_65&#34;

Can someone please help with this issue?

Thank you!

Regards,
Jurica 


On Mon Sep 08 21:44:11 2014, ETJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On the git master version, these tests pass. This is my Java version:
&gt; 
&gt; $ java -version
&gt; java version &#34;1.5.0&#34;
&gt; gij &#40;GNU libgcj&#41; version 4.4.7 20120313 &#40;Red Hat 4.4.7-4&#41;
&gt; Copyright &#40;C&#41; 2007 Free Software Foundation, Inc.
&gt; 
&gt; Is it possible for you to try against latest &#40;0.54, on CPAN shortly&#41;?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1433003" href="/Public/Bug/Display.html?id=98683#txn-1433003">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;14&nbsp;10:16:58&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> jurica.stanojkovic [...] rt-rk.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1433003/761745/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/761745">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 47b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Could you try with version 0.55, just released?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1433051" href="/Public/Bug/Display.html?id=98683#txn-1433051">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;14&nbsp;13:07:38&nbsp;2014</span>
    <span class="description">gregoa [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> 754755 [...] bugs.debian.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 14 Nov 2014 19:07:13 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Ed J via RT &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gregor herrmann &lt;gregoa [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1433051/761774/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/761774">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 14 Nov 2014 10:16:59 -0500, Ed J via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98683">https://rt.cpan.org/Ticket/Display.html?id=98683</a></span> &gt;
&gt; 
&gt; Could you try with version 0.55, just released?
</div>
I&#39;ve now tried 0.55 on gabrielli.debian.org &#40;the mips portbox&#41;.

The first build attempt fails with:

#v+
Running Mkbootstrap for Inline::Java::JNI &#40;&#41;
chmod 644 JNI.bs
/usr/bin/perl /usr/share/perl/5.20.1/ExtUtils/xsubpp  -typemap /usr/share/perl/5.20/ExtUtils/typemap -typemap typemap  JNI.xs &gt; JNI.xsc &#38;&#38; mv JNI.xsc JNI.c
cc -c  -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include -D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wall -D_FORTIFY_SOURCE=2   -DVERSION=\&#34;0.53_90\&#34; -DXS_VERSION=\&#34;0.53_90\&#34; -fPIC &#34;-I/usr/lib/mips-linux-gnu/perl/5.20/CORE&#34;   JNI.c
JNI.xs: In function &#39;check_exception_from_perl&#39;:
JNI.xs:51:3: error: format not a string literal and no format arguments [-Werror=format-security]
   croak&#40;msg&#41; ;
   ^
#v-

After fixing this with

#v+
--- a/Java/JNI.xs
+++ b/Java/JNI.xs
@@ -48,7 +48,7 @@
    if &#40;&#40;*&#40;env&#41;&#41;-&gt;ExceptionCheck&#40;env&#41;&#41;{
        &#40;*&#40;env&#41;&#41;-&gt;ExceptionDescribe&#40;env&#41; ;
        &#40;*&#40;env&#41;&#41;-&gt;ExceptionClear&#40;env&#41; ;
-       croak&#40;msg&#41; ;
+       croak&#40;&#34;%s&#34;, msg&#41; ;
    }
 }
 
#v-

the build succeeds but the tests still fail:

#v-
Test Summary Report
-------------------
t/01_init.t          &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 1 tests but ran 0.
t/02_primitives.t    &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 102 tests but ran 0.
t/03_objects.t       &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 16 tests but ran 0.
t/05_arrays.t        &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 55 tests but ran 0.
t/07_polymorph.t     &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 24 tests but ran 0.
t/08_study.t         &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: No plan found in TAP output
t/09_usages.t        &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 6 tests but ran 0.
t/14_encoding.t      &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 9 tests but ran 0.
t/99_end.t           &#40;Wstat: 11 Tests: 0 Failed: 0&#41;
  Non-zero wait status: 11
  Parse errors: Bad plan.  You planned 1 tests but ran 0.
Files=19, Tests=102, 812 wallclock secs &#40; 1.06 usr  0.42 sys + 406.64 cusr 404.04 csys = 812.16 CPU&#41;
Result: FAIL
Failed 9/19 test programs. 0/102 subtests failed.
#v- 

&#40;full build log attached&#41;


Cheers,
gregor


-- 
 .&#39;&#39;`.  Homepage: <span class="clickylink"><a target="new" rel="nofollow" href="http://info.comodo.priv.at/">http://info.comodo.priv.at/</a></span> - OpenPGP key 0xBB3A68018649AA06
 : :&#39; : Debian GNU/Linux user, admin, and developer  -  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.debian.org/">http://www.debian.org/</a></span>
 `. `&#39;  Member of VIBE!AT &#38; SPI, fellow of the Free Software Foundation Europe
   `-   NP: U2: Love Comes Tumbling
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1433051/761775/libinline-java-perl_0.55-1_mips.build">Download libinline-java-perl_0.55-1_mips.build</a><br />
<span class="downloadcontenttype">text/plain 17.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1433051/761776/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 949b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1433892" href="/Public/Bug/Display.html?id=98683#txn-1433892">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;16&nbsp;22:21:08&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1433892/762172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/762172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 97b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the patch, I put it on git. Could you try this and paste results?

make &#38;&#38; prove -bv t
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1434137" href="/Public/Bug/Display.html?id=98683#txn-1434137">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;17&nbsp;12:26:00&nbsp;2014</span>
    <span class="description">gregoa [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 17 Nov 2014 18:25:34 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Ed J via RT &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gregor herrmann &lt;gregoa [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1434137/762309/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/762309">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 14.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1434137/762310/libinline-java-perl_0.55-1_mips.log">Download libinline-java-perl_0.55-1_mips.log</a><br />
<span class="downloadcontenttype">text/plain 12k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1434137/762311/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 949b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1435491" href="/Public/Bug/Display.html?id=98683#txn-1435491">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;21&nbsp;08:37:35&nbsp;2014</span>
    <span class="description">Jurica.Stanojkovic [...] imgtec.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;gregoa [...] debian.org&#34; &lt;gregoa [...] debian.org&gt;, &#34;bug-Inline-Java [...] rt.cpan.org&#34; &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Nov 2014 13:37:16 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;754755 [...] bugs.debian.org&#34; &lt;754755 [...] bugs.debian.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jurica Stanojkovic &lt;Jurica.Stanojkovic [...] imgtec.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1435491/763108/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763108">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

Firstly, I have applied proposed patch.

patch for Java/JNI.xs:

--- a/Java/JNI.xs
+++ b/Java/JNI.xs
@@ -48,7 +48,7 @@
    if &#40;&#40;*&#40;env&#41;&#41;-&gt;ExceptionCheck&#40;env&#41;&#41;{
        &#40;*&#40;env&#41;&#41;-&gt;ExceptionDescribe&#40;env&#41; ;
        &#40;*&#40;env&#41;&#41;-&gt;ExceptionClear&#40;env&#41; ;
-       croak&#40;msg&#41; ;
+       croak&#40;&#34;%s&#34;, msg&#41; ;
    }
 }

Secondly, I have tried to replace CDBS debian/rules in package libinline-java-perl file with the folowing debian/rules:

debian/rules:
-------------------------------------------------------------------------------
#!/usr/bin/make -f
export PERL_MM_USE_DEFAULT := 1
%:
    dh $@
override_dh_auto_configure:
    DESTDIR=$$&#40;pwd&#41;/
    perl Makefile.PL J2SDK=/usr/lib/jvm/default-java
override_dh_usrlocal:
-------------------------------------------------------------------------------

With these changes package does build successfully &#40;using sbuild&#41; on mips, mipsel, and i386.

We are not sure why this issue is happening only on mips and not on mipsel, i386, etc.
I have noticed that package is also FTBFS on sparc with similar error.
Could somebody please test this on sparc?

Thank you!

Regards,
Jurica
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1435491/763109/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763109">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.6k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1435521" href="/Public/Bug/Display.html?id=98683#txn-1435521">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;21&nbsp;10:39:50&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> Jurica.Stanojkovic [...] imgtec.com, 754755 [...] bugs.debian.org,
 jurica.stanojkovic [...] rt-rk.com, gregoa [...] debian.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1435521/763125/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763125">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 62b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please could you try the new 0.56 rather than stick with 0.53?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1435529" href="/Public/Bug/Display.html?id=98683#txn-1435529">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;21&nbsp;10:51:18&nbsp;2014</span>
    <span class="description">754755 [...] bugs.debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug#754755: Info received &#40;[rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Nov 2014 15:51:09 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Inline-Java [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> owner [...] bugs.debian.org &#40;Debian Bug Tracking System&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1435529/763132/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763132">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 799b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for the additional information you have supplied regarding
this Bug report.

This is an automatically generated reply to let you know your message
has been received.

Your message is being forwarded to the package maintainers and other
interested parties for their attention; they will reply in due course.

Your message has been sent to the package maintainer&#40;s&#41;:
 Debian Perl Group &lt;pkg-perl-maintainers@lists.alioth.debian.org&gt;

If you wish to submit further information on this problem, please
send it to 754755@bugs.debian.org.

Please do not send mail to owner@bugs.debian.org unless you wish
to report a problem with the Bug-tracking system.

-- 
754755: <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=754755">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=754755</a></span>
Debian Bug Tracking System
Contact owner@bugs.debian.org with problems
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1436785" href="/Public/Bug/Display.html?id=98683#txn-1436785">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;26&nbsp;12:23:23&nbsp;2014</span>
    <span class="description">Jurica.Stanojkovic [...] imgtec.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;gregoa [...] debian.org&#34; &lt;gregoa [...] debian.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 26 Nov 2014 17:23:04 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;754755 [...] bugs.debian.org&#34; &lt;754755 [...] bugs.debian.org&gt;, &#34;bug-Inline-Java [...] rt.cpan.org&#34; &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jurica Stanojkovic &lt;Jurica.Stanojkovic [...] imgtec.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1436785/763812/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763812">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 564b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

Tests are still failing in new version 0.56 during build.
I have used sbuild for package build.
Build log is attached.

Regards,
Jurica
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________________
From: Ed J via RT [bug-Inline-Java@rt.cpan.org]
Sent: 21 November 2014 16:39
Cc: Jurica Stanojkovic; 754755@bugs.debian.org; jurica.stanojkovic@rt-rk.com; gregoa@debian.org
Subject: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98683">https://rt.cpan.org/Ticket/Display.html?id=98683</a></span> &gt;

Please could you try the new 0.56 rather than stick with 0.53?
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1436785/763813/libinline-java-perl_0.56_mips.log">Download libinline-java-perl_0.56_mips.log</a><br />
<span class="downloadcontenttype">text/x-log 19.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1436788" href="/Public/Bug/Display.html?id=98683#txn-1436788">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;26&nbsp;12:38:40&nbsp;2014</span>
    <span class="description">gregoa [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Jurica.Stanojkovic [...] imgtec.com, 754755 [...] bugs.debian.org, jurica.stanojkovic [...] rt-rk.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 26 Nov 2014 18:38:10 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Ed J via RT &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gregor herrmann &lt;gregoa [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1436788/763817/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/763817">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 699b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 21 Nov 2014 10:39:51 -0500, Ed J via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=98683">https://rt.cpan.org/Ticket/Display.html?id=98683</a></span> &gt;
&gt; 
&gt; Please could you try the new 0.56 rather than stick with 0.53?
</div>
0.56 has been uploaded to Debian unstable.

Build results will soon show up at
<span class="clickylink"><a target="new" rel="nofollow" href="https://buildd.debian.org/status/logs.php?pkg=libinline-java-perl">https://buildd.debian.org/status/logs.php?pkg=libinline-java-perl</a></span>
&#40;and
<span class="clickylink"><a target="new" rel="nofollow" href="http://buildd.debian-ports.org/status/logs.php?pkg=libinline-java-perl">http://buildd.debian-ports.org/status/logs.php?pkg=libinline-java-perl</a></span>
for other architectures&#41;


Cheers,
gregor 

-- 
 .&#39;&#39;`.  Homepage: <span class="clickylink"><a target="new" rel="nofollow" href="http://info.comodo.priv.at/">http://info.comodo.priv.at/</a></span> - OpenPGP key 0xBB3A68018649AA06
 : :&#39; : Debian GNU/Linux user, admin, and developer  -  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.debian.org/">http://www.debian.org/</a></span>
 `. `&#39;  Member of VIBE!AT &#38; SPI, fellow of the Free Software Foundation Europe
   `-   
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1436788/763818/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 949b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1437329" href="/Public/Bug/Display.html?id=98683#txn-1437329">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;29&nbsp;02:27:08&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> gregoa [...] debian.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1437329/764102/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/764102">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 346b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tests are still failing in new version 0.56 during build.
&gt; I have used sbuild for package build.
&gt; Build log is attached.
</div>
Thanks for the log, I can see the failures, but I&#39;m not seeing them on my machine. Could you tell me what Java version you&#39;re using? &#40;and where to obtain it - I&#39;m using very stale CentOS JVM and I think I need to update&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1437333" href="/Public/Bug/Display.html?id=98683#txn-1437333">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;29&nbsp;02:27:10&nbsp;2014</span>
    <span class="description">ETJ [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1641869" href="/Public/Bug/Display.html?id=98683#txn-1641869">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;26&nbsp;08:50:44&nbsp;2016</span>
    <span class="description">intrigeri [...] boum.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1641869/880329/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/880329">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 389b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 29 02:27:08 2014, ETJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the log, I can see the failures, but I&#39;m not seeing them on
&gt; my machine. Could you tell me what Java version you&#39;re using?
</div>
The last attempted &#40;and failed&#41; build log:
<span class="clickylink"><a target="new" rel="nofollow" href="https://buildd.debian.org/status/fetch.php?pkg=libinline-java-perl&#38;arch=mips&#38;ver=0.58%7Edfsg-1&#38;stamp=1459786777">https://buildd.debian.org/status/fetch.php?pkg=libinline-java-perl&#38;arch=mips&#38;ver=0.58%7Edfsg-1&#38;stamp=1459786777</a></span>

... used openjdk-8-jre 8u77-b03-3 from Debian unstable.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1654999" href="/Public/Bug/Display.html?id=98683#txn-1654999">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;02&nbsp;09:53:44&nbsp;2016</span>
    <span class="description">Daniel.Knezevic [...] imgtec.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 2 Aug 2016 13:53:06 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;754755 [...] bugs.debian.org&#34; &lt;754755 [...] bugs.debian.org&gt;, &#34;bug-Inline-Java [...] rt.cpan.org&#34; &lt;bug-Inline-Java [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Knezevic &lt;Daniel.Knezevic [...] imgtec.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1654999/888171/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/888171">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 829b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Tests are still failing in version 0.58 during build.

I have found out that the tests are failing when Inline::Java uses JNI extensions
&#40;PERL_INLINE_JAVA_JNI is set to 1&#41;, but the tests pass when Inline::Java run JVM in
the default client/server mode &#40;PERL_INLINE_JAVA_JNI is unset&#41;.

--- debian/rules_orig   2016-08-02 12:16:34.206089692 +0000
+++ debian/rules        2016-08-02 12:16:46.476196564 +0000
@@ -49,9 +49,6 @@

 export JAVA_HOME=/usr/lib/jvm/default-java

-# Have testsuite use JNI
-export PERL_INLINE_JAVA_JNI=1
-
 # Put aside upstream cruft during build
 DEB_UPSTREAM_CRUFT_MOVE = t/t13.txt

It may be some mips/mipsel specific issue, because the build succeeds on mips64el.
We are still investigating, any tip will be useful.

Can we use Inline::Java without JNI extension for mips/mipsel?

Regards,
Daniel
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1654999/888172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/888172">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1667669" href="/Public/Bug/Display.html?id=98683#txn-1667669">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;10&nbsp;16:46:53&nbsp;2016</span>
    <span class="description">gregoa [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-inline-java [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Bug#754755: [rt.cpan.org #98683] libinline-java-perl: FTBFS on mips: test suite issues</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 Sep 2016 22:46:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Daniel Knezevic &lt;Daniel.Knezevic [...] imgtec.com&gt;, 754755 [...] bugs.debian.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gregor herrmann &lt;gregoa [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1667669/895014/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/895014">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 02 Aug 2016 13:53:06 +0000, Daniel Knezevic wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tests are still failing in version 0.58 during build.
&gt; 
&gt; I have found out that the tests are failing when Inline::Java uses JNI extensions
&gt; &#40;PERL_INLINE_JAVA_JNI is set to 1&#41;, but the tests pass when Inline::Java run JVM in
&gt; the default client/server mode &#40;PERL_INLINE_JAVA_JNI is unset&#41;.
&gt; 
&gt; --- debian/rules_orig   2016-08-02 12:16:34.206089692 +0000
&gt; +++ debian/rules        2016-08-02 12:16:46.476196564 +0000
&gt; @@ -49,9 +49,6 @@
&gt; 
&gt;  export JAVA_HOME=/usr/lib/jvm/default-java
&gt; 
&gt; -# Have testsuite use JNI
&gt; -export PERL_INLINE_JAVA_JNI=1
&gt; -
&gt;  # Put aside upstream cruft during build
&gt;  DEB_UPSTREAM_CRUFT_MOVE = t/t13.txt
&gt; 
&gt; It may be some mips/mipsel specific issue, because the build succeeds on mips64el.
&gt; We are still investigating, any tip will be useful.
&gt; 
&gt; Can we use Inline::Java without JNI extension for mips/mipsel?
</div>
Thanks for your findings!

I think the idea to drop PERL_INLINE_JAVA_JNI solves only half of the
problem; it doesn&#39;t use the JNI extension during the tests but it
still builds them.
In order not to build them on architectures where they apparently
don&#39;t work, we probably shouldn&#39;t build them in the first place.

I&#39;ve come up with the following patch now &#40;committed in git but not
yet uploaded in the hope of getting more eyeballs to look at it&#41;:

#v+
--- a/debian/rules
+++ b/debian/rules
@@ -49,8 +49,15 @@ CDBS_DEPENDS_$&#40;pkg&#41; = $&#40;deps&#41;

 export JAVA_HOME=/usr/lib/jvm/default-java

+DEB_HOST_ARCH = $&#40;shell dpkg-architecture -qDEB_HOST_ARCH&#41;
+NO_JNI_ARCH = hppa hurd-i386 mips mipsel
+ifeq &#40;,$&#40;filter $&#40;DEB_HOST_ARCH&#41;, $&#40;NO_JNI_ARCH&#41;&#41;&#41;
 # Have testsuite use JNI
 export PERL_INLINE_JAVA_JNI=1
+else
+# Don&#39;t build JNI extension
+DEB_MAKEMAKER_USER_FLAGS = BUILD_JNI=0
+endif

 # Put aside upstream cruft during build
 DEB_UPSTREAM_CRUFT_MOVE = t/t13.txt
@@ -58,6 +65,7 @@ DEB_UPSTREAM_CRUFT_MOVE = t/t13.txt
 # Have testsuite use the C locale&#39;s decimal point
 DEB_MAKE_CHECK_TARGET += LC_NUMERIC=C

+ifeq &#40;,$&#40;filter $&#40;DEB_HOST_ARCH&#41;, $&#40;NO_JNI_ARCH&#41;&#41;&#41;
 binary-post-install/$&#40;pkg&#41;::
        chrpath -d $&#40;cdbs_curdestdir&#41;$&#40;perlpath&#41;/auto/Inline/Java/JNI/JNI.so

@@ -67,3 +75,4 @@ binary-post-install/$&#40;pkg&#41;::
                $&#40;cdbs_curdestdir&#41;$&#40;perlpath&#41;/Inline/Java/*.jar
        dh_link usr/share/$&#40;pkg&#41;/InlineJavaServer.jar $&#40;perlpath&#41;/Inline/Java/InlineJavaServer.jar \
                usr/share/$&#40;pkg&#41;/InlineJavaUser.jar $&#40;perlpath&#41;/Inline/Java/InlineJavaUser.jar
+endif
#v-

This seems to work for both cases; what&#39;s not so nice is that in the
case of the NO_JNI_ARCH we get a hint from lintian:

X: libinline-java-perl: package-contains-no-arch-dependent-files

and indeed everything ends up in /usr/share/perl5 despite the package
saying it&#39;s arch:any.


Alternatives:
- just remove PERL_INLINE_JAVA_JNI and ignore the fact that the JNI
  stuff might be broken on some architectures
- don&#39;t build it on all architectures &#40;and make the package arch:all&#41;


Cheers,
gregor

-- 
 .&#39;&#39;`.  Homepage <span class="clickylink"><a target="new" rel="nofollow" href="https://info.comodo.priv.at/">https://info.comodo.priv.at/</a></span> - OpenPGP key 0xBB3A68018649AA06
 : :&#39; : Debian GNU/Linux user, admin, and developer -  <span class="clickylink"><a target="new" rel="nofollow" href="https://www.debian.org/">https://www.debian.org/</a></span>
 `. `&#39;  Member of VIBE!AT &#38; SPI, fellow of the Free Software Foundation Europe
   `-   NP: JBO: Frauen
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1667669/895015/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 931b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1779701" href="/Public/Bug/Display.html?id=98683#txn-1779701">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;31&nbsp;15:35:35&nbsp;2018</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1779701/957549/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/957549">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 223b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Any of the above options look sensible to me. I&#39;m taking a look at making PerlInterpreter et al all built by default, and fixing any resulting problems.

Do you folks need anything else from me, or can we close this ticket?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1780185" href="/Public/Bug/Display.html?id=98683#txn-1780185">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;03&nbsp;17:43:39&nbsp;2018</span>
    <span class="description">ETJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1780185/957785/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/957785">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 126b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I believe the issues are all resolved on this &#40;the upstream&#41; end, so I will close the ticket. If I am wrong, please reopen it!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1780188" href="/Public/Bug/Display.html?id=98683#txn-1780188">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;03&nbsp;17:43:40&nbsp;2018</span>
    <span class="description">ETJ [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.241288</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
