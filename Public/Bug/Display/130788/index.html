<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #130788 for Tk-FontDialog: t/00-basic.t: Fails with &#39;undefined symbol Perl_to_utf8_lower&#39; in perl-5.31.5</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #130788 for Tk-FontDialog: t/00-basic.t: Fails with &#39;undefined symbol Perl_to_utf8_lower&#39; in perl-5.31.5</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Tk-FontDialog">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Tk-FontDialog">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Tk-FontDialog">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Tk-FontDialog">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tk-FontDialog">Tk-FontDialog CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">130788</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Tk-FontDialog">Tk-FontDialog</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jkeenan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33770-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-33771-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=130788">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1868246" href="/Public/Bug/Display.html?id=130788#txn-1868246">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;23&nbsp;04:51:01&nbsp;2019</span>
    <span class="description">jkeenan [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/00-basic.t: Fails with &#39;undefined symbol Perl_to_utf8_lower&#39; in
 perl-5.31.5</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1868246/1003138/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1003138">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">In the course of testing the CPAN River 3000 against Perl dev release perl-5.31.5, I had occasion to test this module.  I encountered this failure:

#####
{
  author =&gt; &#34;SREZIC&#34;,
  dist =&gt; &#34;Tk-FontDialog&#34;,
  distname =&gt; &#34;Tk-FontDialog-0.18&#34;,
  distversion =&gt; 0.18,
  grade =&gt; &#34;FAIL&#34;,
  prereqs =&gt; undef,
  test_output =&gt; [
    &#34;Building and testing Tk-FontDialog-0.18&#34;,
    &#34;cp lib/Tk/FontDialog.pm blib/lib/Tk/FontDialog.pm&#34;,
    &#34;PERL_DL_NONLAZY=1 \&#34;/usr/home/jkeenan/var/tad/testing/perl-5.31.5/bin/perl\&#34; \&#34;-MExtUtils::Command::MM\&#34; \&#34;-MTest::Harness\&#34; \&#34;-e\&#34; \&#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;\&#34; t/*.t&#34;,
    &#34;Can&#39;t load &#39;/home/jkeenan/var/tad/testing/perl-5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so&#39; for module Tk: /home/jkeenan/var/tad/testing/perl-5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so: Undefined symbol \&#34;Perl_to_utf8_lower\&#34; at /home/jkeenan/var/tad/testing/perl-5.31.5/lib/5.31.5/amd64-freebsd-thread-multi/DynaLoader.pm line 193.&#34;,
    &#34;\0 at t/00-basic.t line 24.&#34;,
    &#34;Compilation failed in require at t/00-basic.t line 24.&#34;,
    &#34;BEGIN failed--compilation aborted at t/00-basic.t line 24.&#34;,
    &#34;t/00-basic.t .. &#34;,
    &#34;Dubious, test returned 2 &#40;wstat 512, 0x200&#41;&#34;,
    &#34;No subtests run &#34;,
    &#34;&#34;,
    &#34;Test Summary Report&#34;,
    &#34;-------------------&#34;,
    &#34;t/00-basic.t &#40;Wstat: 512 Tests: 0 Failed: 0&#41;&#34;,
    &#34;  Non-zero exit status: 2&#34;,
    &#34;  Parse errors: No plan found in TAP output&#34;,
    &#34;Files=1, Tests=0,  0 wallclock secs &#40; 0.02 usr  0.00 sys +  0.04 cusr  0.06 csys =  0.12 CPU&#41;&#34;,
    &#34;Result: FAIL&#34;,
  ],
  via =&gt; &#34;App::cpanminus::reporter 0.17 &#40;1.7044&#41;&#34;,
}

This error appears to be new.  I did not get it during the September 2019 run against perl-5.31.4.

Not yet further analyzed.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895575" href="/Public/Bug/Display.html?id=130788#txn-1895575">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;29&nbsp;15:51:50&nbsp;2020</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895575/1016280/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016280">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 23 04:51:01 2019, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In the course of testing the CPAN River 3000 against Perl dev release
&gt; perl-5.31.5, I had occasion to test this module.  I encountered this
&gt; failure:
&gt; 
&gt; #####
&gt; {
&gt;   author =&gt; &#34;SREZIC&#34;,
&gt;   dist =&gt; &#34;Tk-FontDialog&#34;,
&gt;   distname =&gt; &#34;Tk-FontDialog-0.18&#34;,
&gt;   distversion =&gt; 0.18,
&gt;   grade =&gt; &#34;FAIL&#34;,
&gt;   prereqs =&gt; undef,
&gt;   test_output =&gt; [
&gt;     &#34;Building and testing Tk-FontDialog-0.18&#34;,
&gt;     &#34;cp lib/Tk/FontDialog.pm blib/lib/Tk/FontDialog.pm&#34;,
&gt;     &#34;PERL_DL_NONLAZY=1 \&#34;/usr/home/jkeenan/var/tad/testing/perl-
&gt; 5.31.5/bin/perl\&#34; \&#34;-MExtUtils::Command::MM\&#34; \&#34;-MTest::Harness\&#34; \&#34;-
&gt; e\&#34; \&#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;,
&gt; &#39;blib/arch&#39;&#41;\&#34; t/*.t&#34;,
&gt;     &#34;Can&#39;t load &#39;/home/jkeenan/var/tad/testing/perl-
&gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so&#39;
&gt; for module Tk: /home/jkeenan/var/tad/testing/perl-
&gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so:
&gt; Undefined symbol \&#34;Perl_to_utf8_lower\&#34; at
&gt; /home/jkeenan/var/tad/testing/perl-5.31.5/lib/5.31.5/amd64-freebsd-
&gt; thread-multi/DynaLoader.pm line 193.&#34;,
&gt;     &#34;\0 at t/00-basic.t line 24.&#34;,
&gt;     &#34;Compilation failed in require at t/00-basic.t line 24.&#34;,
&gt;     &#34;BEGIN failed--compilation aborted at t/00-basic.t line 24.&#34;,
&gt;     &#34;t/00-basic.t .. &#34;,
&gt;     &#34;Dubious, test returned 2 &#40;wstat 512, 0x200&#41;&#34;,
&gt;     &#34;No subtests run &#34;,
&gt;     &#34;&#34;,
&gt;     &#34;Test Summary Report&#34;,
&gt;     &#34;-------------------&#34;,
&gt;     &#34;t/00-basic.t &#40;Wstat: 512 Tests: 0 Failed: 0&#41;&#34;,
&gt;     &#34;  Non-zero exit status: 2&#34;,
&gt;     &#34;  Parse errors: No plan found in TAP output&#34;,
&gt;     &#34;Files=1, Tests=0,  0 wallclock secs &#40; 0.02 usr  0.00 sys +  0.04
&gt; cusr  0.06 csys =  0.12 CPU&#41;&#34;,
&gt;     &#34;Result: FAIL&#34;,
&gt;   ],
&gt;   via =&gt; &#34;App::cpanminus::reporter 0.17 &#40;1.7044&#41;&#34;,
&gt; }
&gt; 
&gt; This error appears to be new.  I did not get it during the September
&gt; 2019 run against perl-5.31.4.
&gt; 
&gt; Not yet further analyzed.
&gt; 
&gt; Thank you very much.
&gt; Jim Keenan
</div>
Encountered again in CPAN-River-3000 testing against perl-5.31.10.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895614" href="/Public/Bug/Display.html?id=130788#txn-1895614">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;02:05:45&nbsp;2020</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895614/1016302/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016302">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2020-04-29 15:51:50, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Oct 23 04:51:01 2019, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; In the course of testing the CPAN River 3000 against Perl dev release
&gt; &gt; perl-5.31.5, I had occasion to test this module.  I encountered this
&gt; &gt; failure:
&gt; &gt; 
&gt; &gt; #####
&gt; &gt; {
&gt; &gt;   author =&gt; &#34;SREZIC&#34;,
&gt; &gt;   dist =&gt; &#34;Tk-FontDialog&#34;,
&gt; &gt;   distname =&gt; &#34;Tk-FontDialog-0.18&#34;,
&gt; &gt;   distversion =&gt; 0.18,
&gt; &gt;   grade =&gt; &#34;FAIL&#34;,
&gt; &gt;   prereqs =&gt; undef,
&gt; &gt;   test_output =&gt; [
&gt; &gt;     &#34;Building and testing Tk-FontDialog-0.18&#34;,
&gt; &gt;     &#34;cp lib/Tk/FontDialog.pm blib/lib/Tk/FontDialog.pm&#34;,
&gt; &gt;     &#34;PERL_DL_NONLAZY=1 \&#34;/usr/home/jkeenan/var/tad/testing/perl-
&gt; &gt; 5.31.5/bin/perl\&#34; \&#34;-MExtUtils::Command::MM\&#34; \&#34;-MTest::Harness\&#34; \&#34;-
&gt; &gt; e\&#34; \&#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;,
&gt; &gt; &#39;blib/arch&#39;&#41;\&#34; t/*.t&#34;,
&gt; &gt;     &#34;Can&#39;t load &#39;/home/jkeenan/var/tad/testing/perl-
&gt; &gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so&#39;
&gt; &gt; for module Tk: /home/jkeenan/var/tad/testing/perl-
&gt; &gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so:
&gt; &gt; Undefined symbol \&#34;Perl_to_utf8_lower\&#34; at
&gt; &gt; /home/jkeenan/var/tad/testing/perl-5.31.5/lib/5.31.5/amd64-freebsd-
&gt; &gt; thread-multi/DynaLoader.pm line 193.&#34;,
&gt; &gt;     &#34;\0 at t/00-basic.t line 24.&#34;,
&gt; &gt;     &#34;Compilation failed in require at t/00-basic.t line 24.&#34;,
&gt; &gt;     &#34;BEGIN failed--compilation aborted at t/00-basic.t line 24.&#34;,
&gt; &gt;     &#34;t/00-basic.t .. &#34;,
&gt; &gt;     &#34;Dubious, test returned 2 &#40;wstat 512, 0x200&#41;&#34;,
&gt; &gt;     &#34;No subtests run &#34;,
&gt; &gt;     &#34;&#34;,
&gt; &gt;     &#34;Test Summary Report&#34;,
&gt; &gt;     &#34;-------------------&#34;,
&gt; &gt;     &#34;t/00-basic.t &#40;Wstat: 512 Tests: 0 Failed: 0&#41;&#34;,
&gt; &gt;     &#34;  Non-zero exit status: 2&#34;,
&gt; &gt;     &#34;  Parse errors: No plan found in TAP output&#34;,
&gt; &gt;     &#34;Files=1, Tests=0,  0 wallclock secs &#40; 0.02 usr  0.00 sys +  0.04
&gt; &gt; cusr  0.06 csys =  0.12 CPU&#41;&#34;,
&gt; &gt;     &#34;Result: FAIL&#34;,
&gt; &gt;   ],
&gt; &gt;   via =&gt; &#34;App::cpanminus::reporter 0.17 &#40;1.7044&#41;&#34;,
&gt; &gt; }
&gt; &gt; 
&gt; &gt; This error appears to be new.  I did not get it during the September
&gt; &gt; 2019 run against perl-5.31.4.
&gt; &gt; 
&gt; &gt; Not yet further analyzed.
&gt; &gt; 
&gt; &gt; Thank you very much.
&gt; &gt; Jim Keenan
</div>&gt; 
&gt; Encountered again in CPAN-River-3000 testing against perl-5.31.10.
</div>
This is surprising --- does this happen with Tk 804.035 installed?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895615" href="/Public/Bug/Display.html?id=130788#txn-1895615">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;02:05:46&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895703" href="/Public/Bug/Display.html?id=130788#txn-1895703">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;16:22:37&nbsp;2020</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1895703/1016356/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1016356">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 30 02:05:45 2020, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2020-04-29 15:51:50, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; On Wed Oct 23 04:51:01 2019, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; &gt; In the course of testing the CPAN River 3000 against Perl dev release
&gt; &gt; &gt; perl-5.31.5, I had occasion to test this module.  I encountered this
&gt; &gt; &gt; failure:
&gt; &gt; &gt; 
&gt; &gt; &gt; #####
&gt; &gt; &gt; {
&gt; &gt; &gt;   author =&gt; &#34;SREZIC&#34;,
&gt; &gt; &gt;   dist =&gt; &#34;Tk-FontDialog&#34;,
&gt; &gt; &gt;   distname =&gt; &#34;Tk-FontDialog-0.18&#34;,
&gt; &gt; &gt;   distversion =&gt; 0.18,
&gt; &gt; &gt;   grade =&gt; &#34;FAIL&#34;,
&gt; &gt; &gt;   prereqs =&gt; undef,
&gt; &gt; &gt;   test_output =&gt; [
&gt; &gt; &gt;     &#34;Building and testing Tk-FontDialog-0.18&#34;,
&gt; &gt; &gt;     &#34;cp lib/Tk/FontDialog.pm blib/lib/Tk/FontDialog.pm&#34;,
&gt; &gt; &gt;     &#34;PERL_DL_NONLAZY=1 \&#34;/usr/home/jkeenan/var/tad/testing/perl-
&gt; &gt; &gt; 5.31.5/bin/perl\&#34; \&#34;-MExtUtils::Command::MM\&#34; \&#34;-MTest::Harness\&#34; \&#34;-
&gt; &gt; &gt; e\&#34; \&#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;,
&gt; &gt; &gt; &#39;blib/arch&#39;&#41;\&#34; t/*.t&#34;,
&gt; &gt; &gt;     &#34;Can&#39;t load &#39;/home/jkeenan/var/tad/testing/perl-
&gt; &gt; &gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so&#39;
&gt; &gt; &gt; for module Tk: /home/jkeenan/var/tad/testing/perl-
&gt; &gt; &gt; 5.31.5/lib/site_perl/5.31.5/amd64-freebsd-thread-multi/auto/Tk/Tk.so:
&gt; &gt; &gt; Undefined symbol \&#34;Perl_to_utf8_lower\&#34; at
&gt; &gt; &gt; /home/jkeenan/var/tad/testing/perl-5.31.5/lib/5.31.5/amd64-freebsd-
&gt; &gt; &gt; thread-multi/DynaLoader.pm line 193.&#34;,
&gt; &gt; &gt;     &#34;\0 at t/00-basic.t line 24.&#34;,
&gt; &gt; &gt;     &#34;Compilation failed in require at t/00-basic.t line 24.&#34;,
&gt; &gt; &gt;     &#34;BEGIN failed--compilation aborted at t/00-basic.t line 24.&#34;,
&gt; &gt; &gt;     &#34;t/00-basic.t .. &#34;,
&gt; &gt; &gt;     &#34;Dubious, test returned 2 &#40;wstat 512, 0x200&#41;&#34;,
&gt; &gt; &gt;     &#34;No subtests run &#34;,
&gt; &gt; &gt;     &#34;&#34;,
&gt; &gt; &gt;     &#34;Test Summary Report&#34;,
&gt; &gt; &gt;     &#34;-------------------&#34;,
&gt; &gt; &gt;     &#34;t/00-basic.t &#40;Wstat: 512 Tests: 0 Failed: 0&#41;&#34;,
&gt; &gt; &gt;     &#34;  Non-zero exit status: 2&#34;,
&gt; &gt; &gt;     &#34;  Parse errors: No plan found in TAP output&#34;,
&gt; &gt; &gt;     &#34;Files=1, Tests=0,  0 wallclock secs &#40; 0.02 usr  0.00 sys +  0.04
&gt; &gt; &gt; cusr  0.06 csys =  0.12 CPU&#41;&#34;,
&gt; &gt; &gt;     &#34;Result: FAIL&#34;,
&gt; &gt; &gt;   ],
&gt; &gt; &gt;   via =&gt; &#34;App::cpanminus::reporter 0.17 &#40;1.7044&#41;&#34;,
&gt; &gt; &gt; }
&gt; &gt; &gt; 
&gt; &gt; &gt; This error appears to be new.  I did not get it during the September
&gt; &gt; &gt; 2019 run against perl-5.31.4.
&gt; &gt; &gt; 
&gt; &gt; &gt; Not yet further analyzed.
&gt; &gt; &gt; 
&gt; &gt; &gt; Thank you very much.
&gt; &gt; &gt; Jim Keenan
</div>&gt; &gt; 
&gt; &gt; Encountered again in CPAN-River-3000 testing against perl-5.31.10.
</div>&gt; 
&gt; This is surprising --- does this happen with Tk 804.035 installed?
&gt; 
</div>
Slaven,

It appears that you solved this problem with the release of Tk 804.035.  When I did the CPAN-River-3000 run against perl-5.31.10 in March, the latest available release of Tk was 804.034.  As the error message cited documents &#40;but which I did not fully grasp at first&#41;, Tk-FontDialog was unable to *load* Tk.so, apparently because it encountered undefined symbol Perl_to_utf8_lower.  In Tk-804.035, this symbol is gone as part of major revisions to encGlue.c.  In the CPAN-River-3000 run against perl-5.31.11 earlier this week, Tk-FontDialog PASSed, as did two other CPAN distros which started to FAIL several months ago citing undefined symbol Perl_to_utf8_lower in their error messages:

Tk-GBARR    : <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=130789">https://rt.cpan.org/Ticket/Display.html?id=130789</a></span>
Tk-ToolBar  : <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=130808">https://rt.cpan.org/Ticket/Display.html?id=130808</a></span>

Only yesterday did I realize that there were aspects of this problem that prevented me from properly understanding it and, perhaps, contributing more quickly to a solution.  I&#39;ll list these problems here as an aide-memoire and so that others can learn from them.

1. I conduct the CPAN-River-3000 testing on a &#40;FreeBSD&#41; VM for which I have no GUI.

2. Tk&#39;s test suite inherently is only relevant if one has a GUI.  Tk&#39;s test suite recognizes this and sidesteps tests in non-GUI environments with messaging like this:

#####
    &#34;# couldn&#39;t connect to display \&#34;:0\&#34; at /usr/home/jkeenan/var/tad/testing/perl-5.31.11/.cpanm/work/1588155283.17683/Tk-804.035/PNG/../blib/lib/Tk/MainWindow.pm line 53.&#34;,
    &#34;MainWindow-&gt;new&#40;&#41; at ../t/TkTest.pm line 41.&#34;,
    &#34;&#34;,
    &#34;../xt/skip_all_mw.t .. skipped: Cannot create MainWindow &#40;maybe no X11 server is running or DISPLAY is not set?&#41;&#34;,
    &#34;Files=1, Tests=0,  0 wallclock secs &#40; 0.01 usr +  0.02 sys =  0.03 CPU&#41;&#34;,
    &#34;Result: NOTESTS&#34;,
#####

cpanm grades this as NOTESTS, which App::cpanminus::reporter converts into a grade of UNKNOWN.  So throughout this dev cycle, the CPAN-River-3000 program has always graded Tk as UNKNOWN.  I incorrectly assumed that NOTESTS and UNKNOWN meant that Tk has not been *installed* by the River program.  And with Tk-FontDialog, Tk-GBARR and Tk-ToolBar all FAILing between perl-5.31.5 and perl-5.31.10 inclusive, I didn&#39;t probe deeper.  I assumed that these three distros had FAILed because their prerequisite had not been installed.

More specifically, when reading the error message reporting that Tk.so could not be *loaded*, I incorrectly assumed that Tk.so could not be *found* -- and if Tk had not been installed, then its shared object file would not exist, could not be found and for that reason could not be loaded.

What I should have noted was that between perl-5.31.0 and perl-5.31.4, those three distros were PASSing in the River-program *despite* Tk having been graded UNKNOWN.

Now, I still don&#39;t know why the three distros, starting in perl-5.31.5, became unable to load Tk.so and therefore FAILed.  The same version of Tk, 804.034, was used during River testing in all runs from 5.31.0 to 5.31.10 inclusive.  But with the release of Tk-804.035 on March 28, these three distros are finding what they need in Tk and are PASSing once again.

I believe this ticket can be marked Resolved.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1895871" href="/Public/Bug/Display.html?id=130788#txn-1895871">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;01&nbsp;08:53:09&nbsp;2020</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.372216</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
