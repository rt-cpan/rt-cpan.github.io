<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #110644 for IO-Compress: Tutorial about writing a new IO::Compress module</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #110644 for IO-Compress: Tutorial about writing a new IO::Compress module</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IO-Compress">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IO-Compress">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IO-Compress">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IO-Compress">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-Compress">IO-Compress CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">110644</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IO-Compress">IO-Compress</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
marius [...] ieval.ro

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-226778-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-226779-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1578755/843182/signature.asc">
Thu Dec 31 14:15:06 2015 (818b) by marius [...] ieval.ro
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1578597/843074/signature.asc">
Thu Dec 31 07:01:34 2015 (818b) by marius [...] ieval.ro
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=110644">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1576745" href="/Public/Bug/Display.html?id=110644#txn-1576745">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;27&nbsp;04:22:15&nbsp;2015</span>
    <span class="description">marius [...] ieval.ro -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tutorial about writing a new IO::Compress module</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1576745/842030/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/842030">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 434b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I&#39;d like to write an IO::Compress module. However, there seems to be no documentation about the steps that should be followed. I figure I should subclass IO::Compress::Base and IO::Uncompress::Base, but neither of the modules have documentation about what methods must/should be implemented. I guess I can find this out by reading the source, but it would be much better if a tutorial or some documentation would be available.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578594" href="/Public/Bug/Display.html?id=110644#txn-1578594">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;31&nbsp;06:47:34&nbsp;2015</span>
    <span class="description">pmqs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578594/843070/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/843070">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 891b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Dec 27 04:22:15 2015, MGV wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; I&#39;d like to write an IO::Compress module. However, there seems to be
&gt; no documentation about the steps that should be followed. I figure I
&gt; should subclass IO::Compress::Base and IO::Uncompress::Base, but
&gt; neither of the modules have documentation about what methods
&gt; must/should be implemented. I guess I can find this out by reading the
&gt; source, but it would be much better if a tutorial or some
&gt; documentation would be available.
</div>

Hey Marius,

writing a tutorial for this would be difficult - the code isn&#39;t well enough structured to allow an easy tutorial. The source is probably your best bet. Also - not all compression libraries are suitable for the IO:Compress treatment. Which were you planning to implement?

Please shout if you get stuck &#38; need a hand.

sorry for the delay in replying. Christmas got in the way.

Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578595" href="/Public/Bug/Display.html?id=110644#txn-1578595">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;31&nbsp;06:47:34&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578597" href="/Public/Bug/Display.html?id=110644#txn-1578597">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;31&nbsp;07:01:34&nbsp;2015</span>
    <span class="description">marius [...] ieval.ro -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #110644] Tutorial about writing a new IO::Compress module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Dec 2015 14:00:31 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Paul Marquess via RT&#34; &lt;bug-IO-Compress [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marius Gavrilescu &lt;marius [...] ieval.ro&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578597/843073/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/843073">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Paul Marquess via RT&#34; &lt;bug-IO-Compress@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; writing a tutorial for this would be difficult - the code isn&#39;t well
&gt; enough structured to allow an easy tutorial. The source is probably
&gt; your best bet. Also - not all compression libraries are suitable for
&gt; the IO:Compress treatment. Which were you planning to implement?
</div>
When I said &#34;tutorial&#34; I was thinking of something of the form &#34;Here&#39;s a
list of methods you must/should implement and what each of them should do&#34;.

I am implementing a module for the Brotli compression format, which is
the format originally used in web fonts and more recently as a HTTP
Content-Encoding, thus replacing gzip and deflate. At the moment it&#39;s
only implemented in Firefox, but moreimplementations are coming.

The official repository is <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/google/brotli/">https://github.com/google/brotli/</a></span>

I will release an initial version today. It will only handle
decompression &#40;I still have to figure out how to use XS with C++, as the
official compression code is C++ while the decompression code is C&#41;, and
it will be a simple wrapper around the official API. In the following
weeks, after I read the source of IO::{Unc,C}ompress::Base, I&#39;ll release
updated versions that support compression and follow the
IO::{Unc,C}ompress API.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please shout if you get stuck &#38; need a hand.
</div>
Alright.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; sorry for the delay in replying. Christmas got in the way.
</div>
No problem, thanks for your reply!
-- 
Marius Gavrilescu
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578597/843074/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 818b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578738" href="/Public/Bug/Display.html?id=110644#txn-1578738">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;31&nbsp;12:59:21&nbsp;2015</span>
    <span class="description">pmqs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578738/843169/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/843169">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 31 07:01:34 2015, MGV wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Paul Marquess via RT&#34; &lt;bug-IO-Compress@rt.cpan.org&gt; writes:
&gt; 
<div class="message-stanza open">&gt; &gt; writing a tutorial for this would be difficult - the code isn&#39;t well
&gt; &gt; enough structured to allow an easy tutorial. The source is probably
&gt; &gt; your best bet. Also - not all compression libraries are suitable for
&gt; &gt; the IO:Compress treatment. Which were you planning to implement?
</div>&gt; 
&gt; When I said &#34;tutorial&#34; I was thinking of something of the form &#34;Here&#39;s a
&gt; list of methods you must/should implement and what each of them should do&#34;.
</div>
That would be good to do. Will add it to my &#40;long&#41; list of things to deal with.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am implementing a module for the Brotli compression format, which is
&gt; the format originally used in web fonts and more recently as a HTTP
&gt; Content-Encoding, thus replacing gzip and deflate. At the moment it&#39;s
&gt; only implemented in Firefox, but moreimplementations are coming.
&gt; 
&gt; The official repository is <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/google/brotli/">https://github.com/google/brotli/</a></span>
</div>
Yep - looked at that one a while ago. It&#39;s on my list of compression formats to keep an eye on. My main problem is getting the time to devote to my perl modules at the moment.

If you want this to work with IO::Compress it has to use the Brolti streaming interface that allows compression/uncompression to be done a bit at a time. I *think* Brolti also has an interface that takes the complete compressed input and uncompresses &#40;and the same for compression&#41; -- that won&#39;t work with IO::Compress. 
 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I will release an initial version today. It will only handle
&gt; decompression &#40;I still have to figure out how to use XS with C++, as the
&gt; official compression code is C++ while the decompression code is C&#41;, and
&gt; it will be a simple wrapper around the official API. 
</div>
That makes sense. The IO::Compress code assumes there is a module that handles the API to the compresion library. For example all the zlib based IO::Compress modules &#40;gzip, deflate, zip&#41; use Compress::Raw::Zlib to access the library.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In the following
&gt; weeks, after I read the source of IO::{Unc,C}ompress::Base, I&#39;ll release
&gt; updated versions that support compression and follow the
&gt; IO::{Unc,C}ompress API.
&gt; 
<div class="message-stanza open">&gt; &gt; Please shout if you get stuck &#38; need a hand.
</div>&gt; 
&gt; Alright.
&gt; 
<div class="message-stanza open">&gt; &gt; sorry for the delay in replying. Christmas got in the way.
</div>&gt; 
&gt; No problem, thanks for your reply!
</div>
cheers
Paul

ps - I see Perl6 has a Brolti module. See <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/sylvarant/Compress-Brotli">https://github.com/sylvarant/Compress-Brotli</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578755" href="/Public/Bug/Display.html?id=110644#txn-1578755">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;31&nbsp;14:15:06&nbsp;2015</span>
    <span class="description">marius [...] ieval.ro -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #110644] Tutorial about writing a new IO::Compress module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Dec 2015 21:14:16 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Paul Marquess via RT&#34; &lt;bug-IO-Compress [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marius Gavrilescu &lt;marius [...] ieval.ro&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578755/843181/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/843181">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Paul Marquess via RT&#34; &lt;bug-IO-Compress@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; I will release an initial version today. It will only handle
&gt;&gt; decompression &#40;I still have to figure out how to use XS with C++, as the
&gt;&gt; official compression code is C++ while the decompression code is C&#41;, and
&gt;&gt; it will be a simple wrapper around the official API.
</div>&gt;
&gt; That makes sense. The IO::Compress code assumes there is a module that
&gt; handles the API to the compresion library. For example all the zlib
&gt; based IO::Compress modules &#40;gzip, deflate, zip&#41; use
&gt; Compress::Raw::Zlib to access the library.
</div>
And IO-Compress-Brotli-0.001 &#40;which can&#39;t compress yet&#41; is now on the CPAN:
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/release/MGV/IO-Compress-Brotli-0.001">https://metacpan.org/release/MGV/IO-Compress-Brotli-0.001</a></span>

It wraps both the one-shot &#40;whole-buffer&#41; and the streaming interfaces
of the Brotli decompression library. It also passes the official test
suite &#40;with the streaming interface, as the one-shot interface can&#39;t
reasonably handle 3 of the test cases&#41;.

I&#39;ll read up on Compress::Raw and IO::{Unc,C}ompress::Base in the
following weeks and try to implement conforming to their APIs.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ps - I see Perl6 has a Brolti module. See <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/sylvarant/Compress-Brotli">https://github.com/sylvarant/Compress-Brotli</a></span>
</div>
Ooh, that&#39;s nice. But it does not seem to offer a streaming interface...

Also, I didn&#39;t know libbrotli existed! I just shipped the relevant part
of the Brotli source code and linked against it.

Happy new year!
-- 
Marius Gavrilescu
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578755/843182/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 818b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1578821" href="/Public/Bug/Display.html?id=110644#txn-1578821">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;01&nbsp;04:45:05&nbsp;2016</span>
    <span class="description">pmqs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1578821/843218/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/843218">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 613b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; And IO-Compress-Brotli-0.001 &#40;which can&#39;t compress yet&#41; is now on the
&gt; CPAN:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/release/MGV/IO-Compress-Brotli-0.001">https://metacpan.org/release/MGV/IO-Compress-Brotli-0.001</a></span>
</div>
Excellent!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It wraps both the one-shot &#40;whole-buffer&#41; and the streaming interfaces
&gt; of the Brotli decompression library. It also passes the official test
&gt; suite &#40;with the streaming interface, as the one-shot interface can&#39;t
&gt; reasonably handle 3 of the test cases&#41;.
&gt; 
&gt; I&#39;ll read up on Compress::Raw and IO::{Unc,C}ompress::Base in the
&gt; following weeks and try to implement conforming to their APIs.
</div>
OK. Drop me a line if you get stuck on anything.

Paul
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.381679</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
