<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #48260 for libnet: Undefined value Net-FTP-2.77 dataconn.pm line 54</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #48260 for libnet: Undefined value Net-FTP-2.77 dataconn.pm line 54</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/libnet/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/libnet/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/libnet/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/libnet/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/libnet">libnet CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">48260</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/libnet/Active/">libnet</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
tom.shaw [...] solidsystems.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
jsremba [...] gfs.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-18284-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-18285-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;27&nbsp;23:32:34&nbsp;2009</span>
    <span class="description">tom.shaw [...] solidsystems.com.au -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Undefined value Net-FTP-2.77 dataconn.pm line 54</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Jul 2009 11:32:07 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-libnet [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tom Shaw &lt;tom.shaw [...] solidsystems.com.au&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perl: **This is perl, v5.8.9 built for sun4-solaris
OS: SunOS hubint 5.10 Generic_141414-01 sun4u sparc SUNW,SPARC-Enterprise
Error: Can&#39;t use an undefined value as a symbol reference at
/opt/WNGperl5/lib/5.8.9/Net/FTP/dataconn.pm line 54.

Also seen using the built-in Perl 5.8.4 from Solaris 10 on a different SPARC
machine.

The server is &#34;Microsoft FTP Service&#34;

This seems to be a race condition caused by using the $ftp-&gt;list&#40;$filename&#41;
method. It is likely I am using this method incorrectly, and not handling
the dataconn correctly - if so, can I suggest that the documentation be
updated to advise users that the &#34;low-level&#34; functions like $ftp-&gt;list can
interfere with other Net::FTP commands if they are not handled correctly.

The documentation currently says:
If for some reason you want to have complete control over the data
connection, this includes generating it and calling the response method when
required, then the user can use these methods to do so.

However calling these methods only affects the use of the methods above that
can return a data connection. They have no effect on methods get, put,
put_unique and those that do not require data connections.

&#34;These methods&#34; is ambiguous - I assume it means the methods listed above.
It seems that the second paragraph here is incorrect as &#34;these methods&#34; do
affect the other methods.

There arre a few posts on various forums about the line 54 error, as yet not
answered.

*Steps to reproduce*

#!/usr/bin/perl -w

use strict;

use Net::FTP;

my $host=&#34;hostname&#34;;

my $server=&#34;server&#34;;
my $uname =&#34;user&#34;;
my $pword =&#34;password&#34;;
my $rdir  =&#34;directory&#34;;
my $filename1 = &#34;test1&#34;;
my $filename2 = &#34;test2&#34;;

my $ftp = Net::FTP-&gt;new&#40;$server, Debug =&gt; 1&#41;
        or die &#40;&#34;Could not connect to server $server&#34;&#41;;
$ftp-&gt;login&#40;$uname,$pword&#41;
        or die &#40;&#34;$host cannot login to server $server: &#34; . $ftp-&gt;message&#41;;
$ftp-&gt;cwd&#40;&#34;$rdir&#34;&#41;
        or exitscript&#40;$ftp-&gt;code&#40;&#41;,&#34;$host cannot change remote working
directory: &#34; . $ftp-&gt;message&#41;;
$ftp-&gt;ascii
        or die&#40;&#34;$host cannot set transfer mode: &#34; . $ftp-&gt;message&#41;;
$ftp-&gt;put&#40;$filename1&#41;;
$ftp-&gt;list&#40;$filename1&#41;;
$ftp-&gt;put&#40;$filename2&#41;;
$ftp-&gt;list&#40;$filename2&#41;;

$ftp-&gt;quit&#40;&#41;;
exit 1;

*Output*

&#40;using the debugger to get a good stack trace&#41;
# perl -d 1.pl

Loading DB routines from perl5db.pl version 1.31
Editor support available.

Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.

main::&#40;1.pl:7&#41;: my $host=&#34;hostname&#34;;
  DB&lt;1&gt; c
Net::FTP&gt;&gt;&gt; Net::FTP&#40;2.77&#41;
Net::FTP&gt;&gt;&gt;   Exporter&#40;5.63&#41;
Net::FTP&gt;&gt;&gt;   Net::Cmd&#40;2.29&#41;
Net::FTP&gt;&gt;&gt;   IO::Socket::INET&#40;1.31&#41;
Net::FTP&gt;&gt;&gt;     IO::Socket&#40;1.30&#41;
Net::FTP&gt;&gt;&gt;       IO::Handle&#40;1.27&#41;
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 220 Microsoft FTP Service
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; USER username
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 331 Password required for username.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; PASS ....
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 230 User username logged in.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; CWD directory
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 250 CWD command successful.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; TYPE A
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 200 Type set to A.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; ALLO 6
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 200 ALLO command successful.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 227 Entering Passive Mode
&#40;10,210,188,202,14,196&#41;.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; STOR test1
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 125 Data connection already open; Transfer
starting.
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 226 Transfer complete.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 227 Entering Passive Mode
&#40;10,210,188,202,14,197&#41;.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; LIST test1
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 125 Data connection already open; Transfer
starting.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; ALLO 6
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 226 Transfer complete.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 200 ALLO command successful.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x23d944&#41;&lt;&lt;&lt; 227 Entering Passive Mode
&#40;10,210,188,202,14,198&#41;.
Net::FTP=GLOB&#40;0x23d944&#41;&gt;&gt;&gt; LIST test2
Can&#39;t use an undefined value as a symbol reference at
/opt/WNGperl5/lib/5.8.9/Net/FTP/dataconn.pm line 54.
 at /opt/WNGperl5/lib/5.8.9/Net/FTP/dataconn.pm line 54
        Net::FTP::dataconn::_close&#40;&#39;Net::FTP::A=GLOB&#40;0x5aeb8c&#41;&#39;&#41; called at
/opt/WNGperl5/lib/5.8.9/Net/FTP/dataconn.pm line 70
        Net::FTP::dataconn::close&#40;&#39;Net::FTP::A=GLOB&#40;0x5aeb8c&#41;&#39;&#41; called at
/opt/WNGperl5/lib/5.8.9/sun4-solaris/IO/Socket/INET.pm line 118
        IO::Socket::INET::_error&#40;&#39;Net::FTP::A=GLOB&#40;0x5aeb8c&#41;&#39;, &#39;Illegal
seek&#39;, &#39;&#39;&#41; called at /opt/WNGperl5/lib/5.8.9/sun4-solaris/IO/Socket/INET.pm
line 237
        IO::Socket::INET::configure&#40;&#39;Net::FTP::A=GLOB&#40;0x5aeb8c&#41;&#39;,
&#39;HASH&#40;0x5ca910&#41;&#39;&#41; called at
/opt/WNGperl5/lib/5.8.9/sun4-solaris/IO/Socket.pm line 48
        IO::Socket::new&#40;&#39;Net::FTP::A&#39;, &#39;PeerAddr&#39;, 10.210.188.202,
&#39;PeerPort&#39;, 3782, &#39;LocalAddr&#39;, undef, &#39;Proto&#39;, &#39;tcp&#39;, ...&#41; called at
/opt/WNGperl5/lib/5.8.9/sun4-solaris/IO/Socket/INET.pm line 37
        IO::Socket::INET::new&#40;&#39;Net::FTP::A&#39;, &#39;PeerAddr&#39;, 10.210.188.202,
&#39;PeerPort&#39;, 3782, &#39;LocalAddr&#39;, undef, &#39;Proto&#39;, &#39;tcp&#39;, ...&#41; called at
/opt/WNGperl5/lib/5.8.9/Net/FTP.pm line 932
        Net::FTP::_dataconn&#40;&#39;Net::FTP=GLOB&#40;0x23d944&#41;&#39;&#41; called at
/opt/WNGperl5/lib/5.8.9/Net/FTP.pm line 1014
        Net::FTP::_data_cmd&#40;&#39;Net::FTP=GLOB&#40;0x23d944&#41;&#39;, &#39;LIST&#39;, &#39;test2&#39;&#41;
called at /opt/WNGperl5/lib/5.8.9/Net/FTP.pm line 677
        Net::FTP::list&#40;&#39;Net::FTP=GLOB&#40;0x23d944&#41;&#39;, &#39;test2&#39;&#41; called at 1.pl
line 30
Debugged program terminated.  Use q to quit or R to restart,
  use o inhibit_exit to avoid stopping after program termination,
  h q, h R or h o to get additional info.
  DB&lt;1&gt;

Note: this dies at the second &#34;list&#34; command. The FTP status codes etc have
become out-of-order.

Alternatively, if I am conscientious at doing:
$ftp-&gt;put&#40;$filename&#41; or die ...

then the script dies at &#34;Unable to put test2&#34;.

Regards
Tom Shaw
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;14:54:52&nbsp;2009</span>
    <span class="description">jsremba [...] gfs.com -  Cc jsremba added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;22&nbsp;10:41:33&nbsp;2009</span>
    <span class="description">deven [...] ties.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This appears to be a duplicate of bug #37700, which had a patch attached
to fix this problem over a year ago.  Is anyone maintaining Net::FTP?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;22&nbsp;10:41:34&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;22&nbsp;11:39:30&nbsp;2009</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #48260] Undefined value Net-FTP-2.77 dataconn.pm line 54 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 22 Sep 2009 10:38:57 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-libnet [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Sep 22, 2009, at 9:41 AM, Deven T. Corzine via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: libnet
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=48260">https://rt.cpan.org/Ticket/Display.html?id=48260</a></span> &gt;
&gt;
&gt; This appears to be a duplicate of bug #37700, which had a patch  
&gt; attached
&gt; to fix this problem over a year ago.  Is anyone maintaining Net::FTP?
</div>
It is true that libnet has been neglected for a while, but I hope to  
dig through all the backlog soon.

If you would like to help, the repository is on github @ <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/gbarr/perl-libnet">http://github.com/gbarr/perl-libnet</a></span>

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;08&nbsp;13:03:27&nbsp;2013</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The bug which this has been commented is a duplicate of &#40;namely, #37700&#41; should now be fixed in 1.22_02. Please can you try that release and report back whether it fixes this bug? Thank you.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;31&nbsp;04:15:41&nbsp;2014</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 08 13:03:27 2013, SHAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The bug which this has been commented is a duplicate of &#40;namely,
&gt; #37700&#41; should now be fixed in 1.22_02. Please can you try that
&gt; release and report back whether it fixes this bug? Thank you.
</div>
I have now tried this myself, and #37700 does not fix this bug involving the use of list&#40;&#41;.

The test program no longer complains &#34;Can&#39;t use an undefined value as a symbol reference&#34; &#40;which is what #37700 fixed&#41;, but the list&#40;&#41; still fails, prematurely exiting the script without transferring the second file:

C:\Dev\Temp&gt;perl test.pl
Net::FTP&gt;&gt;&gt; Net::FTP&#40;2.79&#41;
Net::FTP&gt;&gt;&gt;   Exporter&#40;5.68&#41;
Net::FTP&gt;&gt;&gt;   Net::Cmd&#40;2.29&#41;
Net::FTP&gt;&gt;&gt;   IO::Socket::INET&#40;1.33&#41;
Net::FTP&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
Net::FTP&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 220-FileZilla Server version 0.9.43 beta
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 220-written by Tim Kosse &#40;tim.kosse@filezilla-projec
t.org&#41;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 220 Please visit <span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/projects/fil">http://sourceforge.net/projects/fil</a></span>
ezilla/
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; USER anonymous
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 331 Password required for anonymous
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; PASS ....
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 230 Logged on
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; CWD foo
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 250 CWD successful. &#34;/foo&#34; is current directory.
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; TYPE A
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 200 Type set to A
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 227 Entering Passive Mode &#40;127,0,0,1,243,220&#41;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; STOR a.txt
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 150 Opening data channel for file upload to server o
f &#34;/foo/a.txt&#34;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 226 Successfully transferred &#34;/foo/a.txt&#34;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 227 Entering Passive Mode &#40;127,0,0,1,243,222&#41;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; LIST a.txt
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 150 Opening data channel for directory listing of &#34;/
foo/a.txt&#34;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 226 Successfully transferred &#34;/foo/a.txt&#34;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; PASV
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 227 Entering Passive Mode &#40;127,0,0,1,243,224&#41;
Net::FTP=GLOB&#40;0x26dc1d8&#41;&gt;&gt;&gt; QUIT
Net::FTP=GLOB&#40;0x26dc1d8&#41;&lt;&lt;&lt; 227 Entering Passive Mode &#40;127,0,0,1,243,225&#41;

The script completes normally using ls&#40;&#41; instead of list&#40;&#41; so it is surely something amiss with list&#40;&#41; here - an entirely separate bug to #37700.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;31&nbsp;04:21:40&nbsp;2014</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As with #50371, setting FTP_PASSIVE=0 fixes this problem...
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
