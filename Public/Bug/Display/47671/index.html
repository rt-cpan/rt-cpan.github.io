<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #47671 for DateTime-TimeZone: Extremely inefficient instantiating a distant local date</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #47671 for DateTime-TimeZone: Extremely inefficient instantiating a distant local date</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DateTime-TimeZone">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DateTime-TimeZone">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DateTime-TimeZone">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DateTime-TimeZone">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/houseabsolute/DateTime-TimeZone/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DateTime-TimeZone">DateTime-TimeZone CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">47671</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DateTime-TimeZone">DateTime-TimeZone</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-9962-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9963-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=47671">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629795" href="/Public/Bug/Display.html?id=47671#txn-629795">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;22:01:30&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Extremely inefficient instanciating a distant local date</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/629795/320672/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320672">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ time perl -wle &#39;use DateTime;  print DateTime-&gt;new&#40; year =&gt; 3058,
time_zone =&gt; &#34;local&#34; &#41;&#39;
3058-01-01T00:00:00

real    0m9.558s
user    0m8.619s
sys     0m0.165s

This occurs whether time_zone is &#34;local&#34; or set to a zone like
&#34;America/Chicago&#34;.

Profiling reveals that this makes tens of thousands of method calls. 
The big hog is 10000 calls to DateTime::set_time_zone which is being
called by add_duration&#40;&#41; which all traces back to
DateTime::TimeZone::_generate_spans_until_match looping over OlsenDB
calls 2000+ times.

This all traces back to DateTime-&gt;offset called by
DateTime::_handle_offset_modifier and DateTime::_calc_local_rd

Its possible one could hold off doing whatever it is that calc_local_rd
does, considering that information is not necessary just to instantiate
an object, but the root problem is _generate_spans_until_match&#39;s
algorithm.  I&#39;m not sure what its purpose is, but it appears to be
iterative by year resulting in Y iterations where Y is the year being
search for &#40;minus some arbitrary lower limit&#41;.

If the whole purpose is to determine the time zone offset, this
algorithm is much more efficiently done as a binary search.  Even if we
assume a 64 bit year it will take at most 64 iterations to zero in on
the right year.  And so on for the month, day, hour, minute and second.

If its just searching the Olsen DB for applicable zone changes I don&#39;t
pretend to understand how that works but there&#39;s got to be a better way
to do it.  C libraries can do it in milliseconds and Perl is just not
that slow.  Perhaps with some sort of... database?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629804" href="/Public/Bug/Display.html?id=47671#txn-629804">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;22:08:38&nbsp;2009</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 7 Jul 2009 21:08:02 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/629804/320677/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320677">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 7 Jul 2009, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Its possible one could hold off doing whatever it is that calc_local_rd
&gt; does, considering that information is not necessary just to instantiate
&gt; an object, but the root problem is _generate_spans_until_match&#39;s
&gt; algorithm.  I&#39;m not sure what its purpose is, but it appears to be
&gt; iterative by year resulting in Y iterations where Y is the year being
&gt; search for &#40;minus some arbitrary lower limit&#41;.
</div>
It&#39;s generating all the time zone changes from X years out &#40;by default, 
each time zone ships with 10 years of pre-calculated data. The rest is 
generated as needed.

Note that this only affects zones with DST rules in effect.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If the whole purpose is to determine the time zone offset, this
&gt; algorithm is much more efficiently done as a binary search.  Even if we
&gt; assume a 64 bit year it will take at most 64 iterations to zero in on
&gt; the right year.  And so on for the month, day, hour, minute and second.
</div>
The problem being that there&#39;s nothing to search until it&#39;s generated.


While I&#39;m sure this could be made faster, I&#39;m not sure it&#39;s worth too much 
effort. Project Olson time zones that far in the future is pretty silly. 
Time zones are political entities, and it&#39;s almost certain that rules in 
effect now won&#39;t be in effect in the year 3058.

Just use UTC.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629805" href="/Public/Bug/Display.html?id=47671#txn-629805">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;22:08:39&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629819" href="/Public/Bug/Display.html?id=47671#txn-629819">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;23:02:01&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/629819/320687/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320687">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 07 22:08:38 2009, autarch@urth.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The problem being that there&#39;s nothing to search until it&#39;s generated.
</div>
Are you saying it regenerates the database at run time every time?  How
about doing it once when DateTime::TimeZone is installed?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; While I&#39;m sure this could be made faster, I&#39;m not sure it&#39;s worth too
</div>much 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; effort. Project Olson time zones that far in the future is pretty silly. 
&gt; Time zones are political entities, and it&#39;s almost certain that rules in 
&gt; effect now won&#39;t be in effect in the year 3058.
&gt; 
&gt; Just use UTC.
</div>
What the hell kind of answer is that?!  I&#39;ll take &#34;yeah, that sucks but
I don&#39;t have the tuits to optimize it.  Here&#39;s some thoughts on how to
do it...&#34; but not &#34;use UTC&#34;.  Come on.  While time zones are annoying,
you can&#39;t just blow them off!  Especially as the maintainer of the most
heavily used date module in Perl!

While I agree worrying about the niggling details of historical time
zone changes 1000 years from now is silly, THE SUN WILL STILL BE IN THE
SKY and that&#39;s what a time zone offset basically reflects.  And while
optimizing the code might be hard we&#39;re not talking milliseconds here. 
That&#39;s 10 seconds to go forward a mere 1000 years.  Even calculating
2109 takes a full second.  2150 is 1.3 seconds.  That&#39;s unacceptable.

Another simple optimization would be to cache what the latest Olsen
entry is and then just not bother looking beyond that.

Somewhat apropos, for dates far in the past, before time zones, I&#39;ve
seen 64 bit Linuxen use the lat/long for the city in question which is
pretty clever.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629829" href="/Public/Bug/Display.html?id=47671#txn-629829">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;23:37:39&nbsp;2009</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 7 Jul 2009 22:37:20 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/629829/320692/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320692">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 7 Jul 2009, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: DateTime
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47671">https://rt.cpan.org/Ticket/Display.html?id=47671</a></span> &gt;
&gt;
&gt; On Tue Jul 07 22:08:38 2009, autarch@urth.org wrote:
<div class="message-stanza open">&gt;&gt; The problem being that there&#39;s nothing to search until it&#39;s generated.
</div>&gt;
&gt; Are you saying it regenerates the database at run time every time?  How
&gt; about doing it once when DateTime::TimeZone is installed?
</div>
Storing the changes in memory uses up a fair bit of memory.

Generating 1000+ years worth would make loading each time zone take much 
much more memory. It does it at runtime to optimize for the common case of 
not needing to look too far in the future.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Just use UTC.
</div>&gt;
&gt; What the hell kind of answer is that?!  I&#39;ll take &#34;yeah, that sucks but
&gt; I don&#39;t have the tuits to optimize it.  Here&#39;s some thoughts on how to
&gt; do it...&#34; but not &#34;use UTC&#34;.  Come on.  While time zones are annoying,
&gt; you can&#39;t just blow them off!  Especially as the maintainer of the most
&gt; heavily used date module in Perl!
</div>
It&#39;s the right answer. Using _Olson_ time zones with far future dates just 
doesn&#39;t make any sense. These time zones exist for the purpose of dealing 
with the dictates of modern political entities.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; While I agree worrying about the niggling details of historical time
&gt; zone changes 1000 years from now is silly, THE SUN WILL STILL BE IN THE
&gt; SKY and that&#39;s what a time zone offset basically reflects.  And while
</div>
Yes, that&#39;s what the _offset_ reflects. However, the DST changes reflect 
the random whims of idiot politicians.

If you just want an offset, use a static offset like &#39;-0500&#39;. That will be 
fast, since there&#39;s no DST rules to deal with.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another simple optimization would be to cache what the latest Olsen
&gt; entry is and then just not bother looking beyond that.
</div>
That doesn&#39;t make any sense. The last Olson entry is purely arbitrary 
based on how many years of pre-calculation the module ships with, and when 
I happen to generate it.

Or do you mean the offset without DST? Then someone else will complain 
that it&#39;s broken at some arbitrary date &#40;like 11 years out&#41;.

For people who need to calculate far future dates, there are other 
solutions &#40;UTC or some other fixed offset&#41; that work. But either way, you 
as the user need to make a decision about what you want. I can&#39;t make that 
decision for you, I just provide the options.

If you want to take a stab at optimizing the changes generation, that&#39;s 
fine with me, but personally I don&#39;t think it&#39;s wortwhile, since there&#39;s 
no sane use case for Olson time zones in the far future.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Somewhat apropos, for dates far in the past, before time zones, I&#39;ve
&gt; seen 64 bit Linuxen use the lat/long for the city in question which is
&gt; pretty clever.
</div>
A DT::TZ::LatLong would be very cool.

Actually, the Olson database approximates this, since pre-modern times it 
uses local mean time, which is an offset based off the lat/long of the 
named city.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-630036" href="/Public/Bug/Display.html?id=47671#txn-630036">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;05:57:18&nbsp;2009</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 08 Jul 2009 02:56:52 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/630036/320788/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320788">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; On Tue Jul 07 22:08:38 2009, autarch@urth.org wrote:
<div class="message-stanza open">&gt;&gt;&gt; The problem being that there&#39;s nothing to search until it&#39;s generated.
</div>&gt;&gt; Are you saying it regenerates the database at run time every time?  How
&gt;&gt; about doing it once when DateTime::TimeZone is installed?
</div>&gt; 
&gt; Storing the changes in memory uses up a fair bit of memory.
&gt; 
&gt; Generating 1000+ years worth would make loading each time zone take much 
&gt; much more memory. It does it at runtime to optimize for the common case of 
&gt; not needing to look too far in the future.
</div>
Generating 1000+ years of what?  The Olsen database doesn&#39;t go forward that
far.  And who says it has to all be in memory?  There&#39;s any number of
techniques to leave things on disk.

The C code figured this out 20 years ago!


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; Just use UTC.
</div>&gt;&gt; What the hell kind of answer is that?!  I&#39;ll take &#34;yeah, that sucks but
&gt;&gt; I don&#39;t have the tuits to optimize it.  Here&#39;s some thoughts on how to
&gt;&gt; do it...&#34; but not &#34;use UTC&#34;.  Come on.  While time zones are annoying,
&gt;&gt; you can&#39;t just blow them off!  Especially as the maintainer of the most
&gt;&gt; heavily used date module in Perl!
</div>&gt; 
&gt; It&#39;s the right answer. Using _Olson_ time zones with far future dates just 
&gt; doesn&#39;t make any sense. These time zones exist for the purpose of dealing 
&gt; with the dictates of modern political entities.
&gt; 
<div class="message-stanza open">&gt;&gt; While I agree worrying about the niggling details of historical time
&gt;&gt; zone changes 1000 years from now is silly, THE SUN WILL STILL BE IN THE
&gt;&gt; SKY and that&#39;s what a time zone offset basically reflects.  And while
</div>&gt; 
&gt; Yes, that&#39;s what the _offset_ reflects. However, the DST changes reflect 
&gt; the random whims of idiot politicians.
</div>
You&#39;re absolutely correct, it sucks and its broken.  However, you maintain a
date/time library which deals with time zones.  You have to deal with the
reality.  Full stop.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you just want an offset, use a static offset like &#39;-0500&#39;. That will be 
&gt; fast, since there&#39;s no DST rules to deal with.
</div>
I, in fact, don&#39;t want an offset at all.  I just want a DateTime object
representing the date I gave it.  Why is it calculating the offset just to
instantiate?  Can&#39;t it wait until I ask for it?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Another simple optimization would be to cache what the latest Olsen
&gt;&gt; entry is and then just not bother looking beyond that.
</div>&gt; 
&gt; That doesn&#39;t make any sense. The last Olson entry is purely arbitrary 
&gt; based on how many years of pre-calculation the module ships with, and when 
&gt; I happen to generate it.
&gt; 
&gt; Or do you mean the offset without DST? Then someone else will complain 
&gt; that it&#39;s broken at some arbitrary date &#40;like 11 years out&#41;.
</div>
Ok, maybe I&#39;m missing something here.  If I hand you something like &#34;July 9th,
2009 America/Chicago&#34; and ask what the offset is taking into account DST you
look at the last DST rule before that date and apply it.  Let&#39;s say the last
rule change was 2007 &#40;which I think it was&#41; so you look at that and apply it
and that&#39;s that, right?

Why would the algorithm be any different for 3009?  What&#39;s all this extra
calculation you&#39;re talking about?  Are you generating rules for every year up
to 3009 or something?  Wouldn&#39;t that just be repeating the same calculation
over and over?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For people who need to calculate far future dates, there are other 
&gt; solutions &#40;UTC or some other fixed offset&#41; that work. But either way, you 
&gt; as the user need to make a decision about what you want. I can&#39;t make that 
&gt; decision for you, I just provide the options.
&gt; 
&gt; If you want to take a stab at optimizing the changes generation, that&#39;s 
&gt; fine with me, but personally I don&#39;t think it&#39;s wortwhile, since there&#39;s 
&gt; no sane use case for Olson time zones in the far future.
</div>
Look, all I know is every other datetime library that goes past 2038 doesn&#39;t
take 10 seconds to make this calculation.  Something is wrong here.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Somewhat apropos, for dates far in the past, before time zones, I&#39;ve
&gt;&gt; seen 64 bit Linuxen use the lat/long for the city in question which is
&gt;&gt; pretty clever.
</div>&gt; 
&gt; A DT::TZ::LatLong would be very cool.
&gt; 
&gt; Actually, the Olson database approximates this, since pre-modern times it 
&gt; uses local mean time, which is an offset based off the lat/long of the 
&gt; named city.
</div>
That sounds like it.


-- 
The past has a vote, but not a veto.
    -- Mordecai M. Kaplan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-630378" href="/Public/Bug/Display.html?id=47671#txn-630378">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;15:57:25&nbsp;2009</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/630378/320971/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320971">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 989b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve dug into the DateTime::TimeZone code and now I understand why we&#39;re
talking past each other.  I&#39;m talking in terms of Olsen rules database
&#40;after this year this time zone changes to DST at 2am on the 1st Sunday&#41;
and you&#39;re talking in terms of these &#34;span&#34; things which cache the
calculation, one for every DST change.  Now I see why you&#39;d think it has
to be expensive and why you&#39;d think it was untenable to store.

Since they&#39;re linear, and since the only way to search through them is
binary, I can see why TimeZone is locked into having to generate them
all and why it can&#39;t just leave them on disk.  What are they indexed by?
 Julian days?  What&#39;s &#34;rd&#34; as in &#34;ymd2rd&#34;?

I understand the approach, but there&#39;s got to be a better way to do it
that doesn&#39;t involve calculating each DST change up to the current year.
 Cached perhaps.  I also think its possible to make use of the fact that
a DateTime object already knows what year it is to perhaps just cache
this all in a DBM file.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-630431" href="/Public/Bug/Display.html?id=47671#txn-630431">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;17:21:33&nbsp;2009</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 8 Jul 2009 16:21:14 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/630431/321008/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/321008">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, 8 Jul 2009, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: DateTime
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47671">https://rt.cpan.org/Ticket/Display.html?id=47671</a></span> &gt;
&gt;
&gt; I&#39;ve dug into the DateTime::TimeZone code and now I understand why we&#39;re
&gt; talking past each other.  I&#39;m talking in terms of Olsen rules database
&gt; &#40;after this year this time zone changes to DST at 2am on the 1st Sunday&#41;
&gt; and you&#39;re talking in terms of these &#34;span&#34; things which cache the
&gt; calculation, one for every DST change.  Now I see why you&#39;d think it has
&gt; to be expensive and why you&#39;d think it was untenable to store.
&gt;
&gt; Since they&#39;re linear, and since the only way to search through them is
&gt; binary, I can see why TimeZone is locked into having to generate them
&gt; all and why it can&#39;t just leave them on disk.  What are they indexed by?
&gt; Julian days?  What&#39;s &#34;rd&#34; as in &#34;ymd2rd&#34;?
</div>
They&#39;re indexed by UTC days.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I understand the approach, but there&#39;s got to be a better way to do it
&gt; that doesn&#39;t involve calculating each DST change up to the current year.
&gt; Cached perhaps.  I also think its possible to make use of the fact that
&gt; a DateTime object already knows what year it is to perhaps just cache
&gt; this all in a DBM file.
</div>
Probably the quickest, most efficient way would be to have the time zone 
generator spit out some code that encapsulates the decisions that need to 
be made, one when given UTC values, another for local. This would require 
some changes to DateTime as well, since right now it passes in just the 
rata die day and seconds.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-630465" href="/Public/Bug/Display.html?id=47671#txn-630465">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;19:43:42&nbsp;2009</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> mschwern [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 08 Jul 2009 16:43:15 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/630465/321022/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/321022">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47671">https://rt.cpan.org/Ticket/Display.html?id=47671</a></span> &gt;
&gt; 
&gt; On Wed, 8 Jul 2009, Michael G Schwern via RT wrote:
&gt; 
<div class="message-stanza open">&gt;&gt;       Queue: DateTime
&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47671">https://rt.cpan.org/Ticket/Display.html?id=47671</a></span> &gt;
&gt;&gt;
&gt;&gt; I&#39;ve dug into the DateTime::TimeZone code and now I understand why we&#39;re
&gt;&gt; talking past each other.  I&#39;m talking in terms of Olsen rules database
&gt;&gt; &#40;after this year this time zone changes to DST at 2am on the 1st Sunday&#41;
&gt;&gt; and you&#39;re talking in terms of these &#34;span&#34; things which cache the
&gt;&gt; calculation, one for every DST change.  Now I see why you&#39;d think it has
&gt;&gt; to be expensive and why you&#39;d think it was untenable to store.
&gt;&gt;
&gt;&gt; Since they&#39;re linear, and since the only way to search through them is
&gt;&gt; binary, I can see why TimeZone is locked into having to generate them
&gt;&gt; all and why it can&#39;t just leave them on disk.  What are they indexed by?
&gt;&gt; Julian days?  What&#39;s &#34;rd&#34; as in &#34;ymd2rd&#34;?
</div>&gt; 
&gt; They&#39;re indexed by UTC days.
</div>
Presumably this is the number of UTC days since some epoch?  What&#39;s the epoch?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; I understand the approach, but there&#39;s got to be a better way to do it
&gt;&gt; that doesn&#39;t involve calculating each DST change up to the current year.
&gt;&gt; Cached perhaps.  I also think its possible to make use of the fact that
&gt;&gt; a DateTime object already knows what year it is to perhaps just cache
&gt;&gt; this all in a DBM file.
</div>&gt; 
&gt; Probably the quickest, most efficient way would be to have the time zone 
&gt; generator spit out some code that encapsulates the decisions that need to 
&gt; be made, one when given UTC values, another for local. This would require 
&gt; some changes to DateTime as well, since right now it passes in just the 
&gt; rata die day and seconds.
</div>
Ah HA!  That&#39;s the mysterious &#34;rd&#34;.


-- 
Alligator sandwich, and make it snappy!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-630492" href="/Public/Bug/Display.html?id=47671#txn-630492">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;08&nbsp;21:32:56&nbsp;2009</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47671] Extremely inefficient instanciating a distant local date</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 8 Jul 2009 20:32:38 -0500 &#40;CDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/630492/321037/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/321037">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 307b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can we take this conversation to the datetime@perl.org list?


/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-702263" href="/Public/Bug/Display.html?id=47671#txn-702263">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;05&nbsp;14:58:56&nbsp;2009</span>
    <span class="description">DROLSKY [...] cpan.org -  Subject changed from &#39;Extremely inefficient instanciating a distant local date&#39; to &#39;Extremely inefficient instantiating a distant local date&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-702264" href="/Public/Bug/Display.html?id=47671#txn-702264">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;05&nbsp;14:58:56&nbsp;2009</span>
    <span class="description">DROLSKY [...] cpan.org -  Queue changed from DateTime to DateTime-TimeZone</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1682649" href="/Public/Bug/Display.html?id=47671#txn-1682649">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;12&nbsp;12:58:30&nbsp;2016</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1682649/903305/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/903305">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 89b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ticket migrated to GitHub as <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/houseabsolute/DateTime-TimeZone/issues/12">https://github.com/houseabsolute/DateTime-TimeZone/issues/12</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1682651" href="/Public/Bug/Display.html?id=47671#txn-1682651">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;12&nbsp;12:58:30&nbsp;2016</span>
    <span class="description">DROLSKY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.625948</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
