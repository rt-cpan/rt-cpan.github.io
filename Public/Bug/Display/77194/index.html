<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77194 for Net-SAML2: CA and Signature verification should not be required</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77194 for Net-SAML2: CA and Signature verification should not be required</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SAML2">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SAML2">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SAML2">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SAML2">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SAML2">Net-SAML2 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77194</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SAML2">Net-SAML2</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">TIMLEGGE [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jchang [...] athenahealth.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236562-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236563-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=77194">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077860" href="/Public/Bug/Display.html?id=77194#txn-1077860">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;14&nbsp;12:36:54&nbsp;2012</span>
    <span class="description">jchang [...] athenahealth.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CA and Signature verification should not be required</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 14 May 2012 12:36:11 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-SAML2 [...] rt.cpan.org&#34; &lt;bug-Net-SAML2 [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jason Chang &lt;jchang [...] athenahealth.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077860/567202/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567202">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Under Net::SAML2 0.17, the POST and Redirect binding modules require the certificate for the certificate authority that issued the IdP certificate; and they sign the request before sending it to the identity provider, and assume that the resulting assertion has been signed.

However this verification is optional under the SAML 2 specification. &#40;In the Core specification with errata inline at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf">http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf</a></span>, lines 3033 and 3036 indicate &#34;All SAML assertions MAY be signed using XML signature.&#34; and &#34;All SAML protocol request and response messages MAY be signed using XML signature.&#34;.&#41;

Thus these modules cannot be used in a standards-compliant way with some identity providers. For example, OneLogin does not use XML signature by default. Assertions from them without signatures cause an instantiation error.

I suggest the following changes:

Make cacert an optional parameter in POST and Redirect.
Make key an optional parameter in Redirect.
In POST::handle_response, do not call $x-&gt;verify unless a Signature element is present.
In POST::handle_response, do not instantiate a VerifyX509 from $self-&gt;cacert nor call $ca-&gt;verify&#40;$cert&#41; unless $self-&gt;cacert is defined.
In POST::handle_response, do not append &#34; &#40;verified&#41;&#34; to the subject if verification was not attempted.
Add new functions in Redirect that are modified versions of sign and verify &#40;leaving sign and verify alone, since it would be confusing to have a function named &#34;sign&#34; that could optionally not sign&#41;; for example, &#34;generate_uri&#34; and &#34;handle_response&#34;.
The new Redirect::generate_uri would add the SigAlg and Signature params, and would call new_private_key and would calculate $sig, only if $self-&gt;key is defined.
The new Redirect::handle_response would instantiate $cert and $rsa_pub, and would check the SigAlg and Signature params, only if Signature is present.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077860/567203/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567203">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1078285" href="/Public/Bug/Display.html?id=77194#txn-1078285">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;15&nbsp;14:51:32&nbsp;2012</span>
    <span class="description">chris [...] nodnol.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #77194] CA and Signature verification should not be required</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 15 May 2012 19:51:21 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SAML2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Andrews &lt;chris [...] nodnol.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1078285/567448/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567448">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, May 14, 2012 at 5:36 PM, Jason Chang via RT
&lt;bug-Net-SAML2@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Under Net::SAML2 0.17, the POST and Redirect binding modules require the certificate for the certificate authority that issued the IdP certificate; and they sign the request before sending it to the identity provider, and assume that the resulting assertion has been signed.
&gt;
&gt; However this verification is optional under the SAML 2 specification. &#40;In the Core specification with errata inline at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf">http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf</a></span>, lines 3033 and 3036 indicate &#34;All SAML assertions MAY be signed using XML signature.&#34; and &#34;All SAML protocol request and response messages MAY be signed using XML signature.&#34;.&#41;
&gt;
&gt; Thus these modules cannot be used in a standards-compliant way with some identity providers. For example, OneLogin does not use XML signature by default. Assertions from them without signatures cause an instantiation error.
</div>
You&#39;re absolutely right that this module doesn&#39;t implement the full
SAML 2.0 specification, and it also hardcodes a number of assumptions
that were true for my original use of SAML. I&#39;d happily accept patches
that make what&#39;s there already useful in more situations.

I&#39;ve got a specific question about the situation you describe though:
if you&#39;re not signing the assertions, what do you do to verify their
origin? Is this something that&#39;s only applicable to the Artifact
binding, where you can be sure of the IdP&#39;s identity in other ways?


Thanks,
Chris.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1078288" href="/Public/Bug/Display.html?id=77194#txn-1078288">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;15&nbsp;14:51:34&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1078304" href="/Public/Bug/Display.html?id=77194#txn-1078304">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;15&nbsp;15:36:09&nbsp;2012</span>
    <span class="description">jchang [...] athenahealth.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77194] CA and Signature verification should not be required</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 15 May 2012 15:35:56 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-SAML2 [...] rt.cpan.org&#34; &lt;bug-Net-SAML2 [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jason Chang &lt;jchang [...] athenahealth.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1078304/567459/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567459">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Chris,
Thanks for the reply! I&#39;ll put a patch together; how should I go about submitting it? &#40;Format, input method, etc.&#41;

As to your other question, I admit best practices in fact argue against forgoing signatures in this way, and in the end we may in fact not allow integration with any identity provider that does not sign its assertions. But we nonetheless want to keep enforcement of best practices distinct from technical compliance with standards to enable correct assignment of responsibility.

Thanks again!

Jason

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Chris Andrews via RT [mailto:bug-Net-SAML2@rt.cpan.org] 
Sent: Tuesday, May 15, 2012 2:52 PM
To: Jason Chang
Subject: Re: [rt.cpan.org #77194] CA and Signature verification should not be required

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77194">https://rt.cpan.org/Ticket/Display.html?id=77194</a></span> &gt;

On Mon, May 14, 2012 at 5:36 PM, Jason Chang via RT
&lt;bug-Net-SAML2@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; Under Net::SAML2 0.17, the POST and Redirect binding modules require the certificate for the certificate authority that issued the IdP certificate; and they sign the request before sending it to the identity provider, and assume that the resulting assertion has been signed.
&gt;
&gt; However this verification is optional under the SAML 2 specification. &#40;In the Core specification with errata inline at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf">http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf</a></span>, lines 3033 and 3036 indicate &#34;All SAML assertions MAY be signed using XML signature.&#34; and &#34;All SAML protocol request and response messages MAY be signed using XML signature.&#34;.&#41;
&gt;
&gt; Thus these modules cannot be used in a standards-compliant way with some identity providers. For example, OneLogin does not use XML signature by default. Assertions from them without signatures cause an instantiation error.
</div>
You&#39;re absolutely right that this module doesn&#39;t implement the full
SAML 2.0 specification, and it also hardcodes a number of assumptions
that were true for my original use of SAML. I&#39;d happily accept patches
that make what&#39;s there already useful in more situations.

I&#39;ve got a specific question about the situation you describe though:
if you&#39;re not signing the assertions, what do you do to verify their
origin? Is this something that&#39;s only applicable to the Artifact
binding, where you can be sure of the IdP&#39;s identity in other ways?


Thanks,
Chris.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1078437" href="/Public/Bug/Display.html?id=77194#txn-1078437">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;16&nbsp;04:52:20&nbsp;2012</span>
    <span class="description">chris [...] nodnol.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #77194] CA and Signature verification should not be required</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 16 May 2012 09:52:03 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SAML2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Andrews &lt;chris [...] nodnol.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1078437/567529/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567529">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 935b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, May 15, 2012 at 8:36 PM, Jason Chang via RT
&lt;bug-Net-SAML2@rt.cpan.org&gt; wrote:
...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the reply! I&#39;ll put a patch together; how should I go about submitting it? &#40;Format, input method, etc.&#41;
</div>
Ideally a github fork, but if you&#39;re not already using it an emailed
unidiff is just fine.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As to your other question, I admit best practices in fact argue against forgoing signatures in this way, and in the end we may in fact not allow integration with any identity provider that does not sign its assertions. But we nonetheless want to keep enforcement of best practices distinct from technical compliance with standards to enable correct assignment of responsibility.
</div>
I see where you&#39;re coming from, but I do feel that signature
validation should at least be something you need to explicitly disable
- otherwise it may be too easy to arrive at a &#34;working&#34; but completely
insecure system without any validation.


Chris.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1892907" href="/Public/Bug/Display.html?id=77194#txn-1892907">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;07&nbsp;22:25:34&nbsp;2020</span>
    <span class="description">TIMLEGGE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1892907/1015057/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1015057">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 451b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I see where you&#39;re coming from, but I do feel that signature
&gt; validation should at least be something you need to explicitly disable
&gt; - otherwise it may be too easy to arrive at a &#34;working&#34; but completely
&gt; insecure system without any validation.
</div>
I agree with Chris but I will take a look at onelogin&#39;s Idp to see if I can test against something without a default of signed.

Will not be in the next release but yu&#39;ve been waiting 8 years so,...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1892910" href="/Public/Bug/Display.html?id=77194#txn-1892910">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;07&nbsp;22:25:35&nbsp;2020</span>
    <span class="description">TIMLEGGE [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1893759" href="/Public/Bug/Display.html?id=77194#txn-1893759">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;15&nbsp;14:59:37&nbsp;2020</span>
    <span class="description">TIMLEGGE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1893759/1015399/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1015399">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 714b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Apr 07 22:25:34 2020, TIMLEGGE wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I agree with Chris but I will take a look at onelogin&#39;s Idp to see if
&gt; I can test against something without a default of signed.
&gt; 
&gt; Will not be in the next release but yu&#39;ve been waiting 8 years so,...
</div>
I took a look at the onelogin IdP and one big issue is related to their use of self-signed certificates. Net::SAML2 uses the trust store of openssl and the underlying server to trust the signature.  That is not easy to trust with the current implementation since it needs the user to understand how to trust that certificate gets trusted

A certificate fingerprint might help with that but I have not yet sen any indication that they don&#39;t sigh assertions
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.477131</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
