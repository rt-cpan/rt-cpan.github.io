<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75514 for Net-IMAP-Simple: Test failures and daemon process left active after testing</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75514 for Net-IMAP-Simple: Test failures and daemon process left active after testing</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-IMAP-Simple/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-IMAP-Simple/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-IMAP-Simple/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-IMAP-Simple/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-IMAP-Simple">Net-IMAP-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75514</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-IMAP-Simple/Active/">Net-IMAP-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
TEAM [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22730-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.2030    </td>
  </tr>
  <tr id="CF-22731-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;03&nbsp;21:29:01&nbsp;2012</span>
    <span class="description">TEAM [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test failures and daemon process left active after testing</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

I&#39;ve noticed that the last few attempts to install the current version
&#40;1.2030&#41; on my local system are failing, and there&#39;s a Net::IMAP::Server
process left running afterwards - ps auxw output:

  4319 ?        S      0:00 Net::IMAP::Server&#40;4319&#41;

An example test report is here:

 <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/b7bdeb3c-5b79-11e1-b768-53e3da31a447">http://www.cpantesters.org/cpan/report/b7bdeb3c-5b79-11e1-b768-53e3da31a447</a></span>

and I think this may be related to the test stability issue reported in
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=73915">https://rt.cpan.org/Public/Bug/Display.html?id=73915</a></span>.

This doesn&#39;t appear due to network/firewall issues, however, since the
daemon process is listening on two ports and I can connect locally -
netstat -ltnp:

 tcp        0      0 0.0.0.0:19794           0.0.0.0:*              
LISTEN      14461/Net::IMAP::Se
 tcp        0      0 0.0.0.0:19795           0.0.0.0:*              
LISTEN      14461/Net::IMAP::Se

Connecting to the first port as the same user I&#39;m running the test as
gives me:

 $ telnet localhost 19794
 Trying ::1...
 Trying 127.0.0.1...
 Connected to localhost.
 Escape character is &#39;^]&#39;.
 * OK Net::IMAP::Simple Test Server &#40;1&#41;
 ^]quit

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> telnet&gt; quit
</div> Connection closed.

with the second port accepting the connection but not returning a banner:

 $ telnet localhost 19795
 Trying ::1...
 Trying 127.0.0.1...
 Connected to localhost.
 Escape character is &#39;^]&#39;.

 ^]quit

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> telnet&gt; quit
</div> Connection closed.

Initially I thought this might be due to the version of Test.pm
installed &#40;1.25_02&#41;, but installing Test.pm 1.25 and retrying the
Net::IMAP::Simple installation still gave the same result.

Obviously this then impacts on any further attempts to run tests since
the port number appears to be hardcoded - I&#39;d suspect that running the
server component in-process in each test might help with this since this
should allow the system to assign a port for you, and it should also
avoid the test ordering issue mentioned in the latest Changes entry?

I should hasten to add I&#39;m reporting this for completeness, since I&#39;m
not actively using the module at the moment, so from my point of view at
least this isn&#39;t an urgent bug report =&#41;

best regards,

Tom
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;03&nbsp;21:29:47&nbsp;2012</span>
    <span class="description">TEAM [...] cpan.org -  Reference to ticket #73915 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;12:55:34&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I would guess you&#39;re running the tests simultaneously.  For the last 12
or 15 years, the tests ran in ascii order, one at a time.  Lately I&#39;ve
been seeing test failures because some of the test systems are using EV
to multithread the testing.  There doesn&#39;t appear to be any way to tell
those systems that the test suite needs to be run single threaded... so
my two options are build the test suite as a monolithic single file or
to simply disable the tests.  I&#39;m leaning toward the later.  The tests
don&#39;t really tell me anything when the run around the world that I can&#39;t
learn here at my house.

That second port is the SSL port.  It wont answer unless you speak SSL
to it.

-Paul


-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;12:55:35&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;17:11:51&nbsp;2012</span>
    <span class="description">TEAM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

On Sun Mar 04 12:55:34 2012, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I would guess you&#39;re running the tests simultaneously.  For the last 12
&gt; or 15 years, the tests ran in ascii order, one at a time.
</div>
No, they should be running in serial - or at least they do with
TAP::Harness and I haven&#39;t enabled any specific configuration to run
parallel testing with the Test.pm framework. The output and results &#40;see
linked test report&#41; are sequential so I&#39;d be surprised if it was running
things in parallel. I also get the same errors when running the tests
individually. If it&#39;s any help I can attach the output, although there&#39;s
not much more than the cpantesters report contains.

cheers,

Tom
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;17:37:18&nbsp;2012</span>
    <span class="description">paul [...] voltar.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75514] Test failures and daemon process left active after testing</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Mar 2012 17:37:07 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Miller &lt;paul [...] voltar.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The tests should log most things they do.  Doesn&#39;t show up on the testers
output.  Certainly send them.  Though, these aren&#39;t really package bugs.
They&#39;re just portability errors in the tests.

--
message brief, sent from phone
On Mar 4, 2012 5:11 PM, &#34;Thomas Edward Alexander Molesworth via RT&#34; &lt;
bug-Net-IMAP-Simple@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Net-IMAP-Simple
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75514">https://rt.cpan.org/Ticket/Display.html?id=75514</a></span> &gt;
&gt;
&gt; Hi there,
&gt;
&gt; On Sun Mar 04 12:55:34 2012, JETTERO wrote:
<div class="message-stanza open">&gt; &gt; I would guess you&#39;re running the tests simultaneously.  For the last 12
&gt; &gt; or 15 years, the tests ran in ascii order, one at a time.
</div>&gt;
&gt; No, they should be running in serial - or at least they do with
&gt; TAP::Harness and I haven&#39;t enabled any specific configuration to run
&gt; parallel testing with the Test.pm framework. The output and results &#40;see
&gt; linked test report&#41; are sequential so I&#39;d be surprised if it was running
&gt; things in parallel. I also get the same errors when running the tests
&gt; individually. If it&#39;s any help I can attach the output, although there&#39;s
&gt; not much more than the cpantesters report contains.
&gt;
&gt; cheers,
&gt;
&gt; Tom
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;17:56:40&nbsp;2012</span>
    <span class="description">TEAM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 04 17:37:18 2012, paul@voltar.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The tests should log most things they do.  Doesn&#39;t show up on the testers
&gt; output.  Certainly send them.  Though, these aren&#39;t really package bugs.
&gt; They&#39;re just portability errors in the tests.
</div>
I&#39;ve attached the output from running the first few tests directly via
perl, rather than going through prove, in case that was causing
additional issues. The informal-*.log files are empty. My guess is that
the make test failures are due to the daemon still running after the
first test so the next attempt to bind to the port fails, although if
that&#39;s the case I&#39;m not sure why the first few tests are okay when run
manually.

As I say, this is just something I&#39;m reporting for completeness, so if
you&#39;re satisfied that it&#39;s purely due to environment rather than
anything wrong with the package itself, feel free to close this RT.

cheers,

Tom
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> session.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">cpan[2]&gt; look Net::IMAP::Simple
Running look for module &#39;Net::IMAP::Simple&#39;

Trying to open a subshell in the build directory...
Checksum for /home/tom/.cpan/sources/authors/id/J/JE/JETTERO/Net-IMAP-Simple-1.2030.tar.gz ok
Working directory is /home/tom/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ dir
total 136
drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 certs/
-rw-r--r-- 1 tom tom 18547 2012-02-06 15:05 Changes
drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 contrib/
drwxr-x--- 3 tom tom  4096 2012-02-06 15:06 inc/
drwxr-x--- 3 tom tom  4096 2012-02-06 15:06 lib/
-rw-r--r-- 1 tom tom  2629 2011-09-02 19:35 Makefile.PL
-rw-r--r-- 1 tom tom  2478 2012-02-06 15:06 MANIFEST
-rw-r----- 1 tom tom  1689 2012-02-06 15:06 META.json
-rw-r----- 1 tom tom   960 2012-02-06 15:06 META.yml
-rw-r--r-- 1 tom tom   589 2010-10-29 14:09 README
-rw-r--r-- 1 tom tom 32602 2012-02-06 14:43 Simple.pm
-rw-r--r-- 1 tom tom 30064 2012-01-25 19:25 Simple.pod
-rwxr-xr-x 1 tom tom    95 2010-10-29 14:09 start_server.sh*
-rwxr-xr-x 1 tom tom    96 2010-10-29 14:09 stop_server.sh*
drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 t/
-rw-r--r-- 1 tom tom   212 2010-10-29 14:09 TODO
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl Makefile.PL
Do you wish to include some simple protocol extensions &#40;pulls in Parse::RecDescent&#41;?  [y] y
Checking if your kit is complete...
Looks good
Writing Makefile for Net::IMAP::Simple
Writing MYMETA.yml and MYMETA.json
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ make
cp Simple.pm blib/lib/Net/IMAP/Simple.pm
cp SimpleX.pm blib/lib/Net/IMAP/SimpleX.pm
cp SimpleX.pod blib/lib/Net/IMAP/SimpleX.pod
cp Simple.pod blib/lib/Net/IMAP/Simple.pod
cp lib/Net/IMAP/Simple/PipeSocket.pm blib/lib/Net/IMAP/Simple/PipeSocket.pm
Manifying blib/man3/Net::IMAP::SimpleX.3
Manifying blib/man3/Net::IMAP::Simple.3
Manifying blib/man3/Net::IMAP::Simple::PipeSocket.3
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ make test
PERL_DL_NONLAZY=1 /home/tom/perl5/perlbrew/perls/perl-5.14.2/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_load.t .......................... ok
t/07_select_and_examine.t ............ Failed 21/23 subtests                                                                                                                  * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
t/08_selectalot.t .................... Failed 3/3 subtests                                                                                                                    * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
t/09_concurrent_connections_new.t .... 1/5 # Failed test 1 in t/09_concurrent_connections_new.t at line 19                                                                    * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
#  t/09_concurrent_connections_new.t line 19 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
^Cmake: *** [test_dynamic] Interrupt

--- interrupted tests here in order to run them manually

tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ ps auxw | grep -i imap
tom      20092  0.0  0.1 101500 19272 ?        S    22:39   0:00 Net::IMAP::Server&#40;20092&#41;
tom      20149  0.0  0.0   8960   864 pts/22   R+   22:40   0:00 grep -i imap
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ kill 20092
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib t/01_load.t
1..1
# Running under perl version 5.014002 for linux
# Current time local: Sun Mar  4 22:42:43 2012
# Current time GMT:   Sun Mar  4 22:42:43 2012
# Using Test.pm version 1.25
ok 1
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib t/07_select_and_examine.t
1..23
# Running under perl version 5.014002 for linux
# Current time local: Sun Mar  4 22:42:46 2012
# Current time GMT:   Sun Mar  4 22:42:46 2012
# Using Test.pm version 1.25
ok 1                                                                                                                                                                          * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
ok 2
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib t/08_selectalot.t
1..3
# Running under perl version 5.014002 for linux
# Current time local: Sun Mar  4 22:42:58 2012
# Current time GMT:   Sun Mar  4 22:42:58 2012
# Using Test.pm version 1.25
tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib t/09_concurrent_connections_new.t 
1..5
# Running under perl version 5.014002 for linux
# Current time local: Sun Mar  4 22:43:23 2012
# Current time GMT:   Sun Mar  4 22:43:23 2012
# Using Test.pm version 1.25
not ok 1                                                                                                                                                                      * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
# Failed test 1 in t/09_concurrent_connections_new.t at line 19
#  t/09_concurrent_connections_new.t line 19 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
not ok 2
# Failed test 2 in t/09_concurrent_connections_new.t at line 20
#  t/09_concurrent_connections_new.t line 20 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
not ok 3
# Failed test 3 in t/09_concurrent_connections_new.t at line 21
#  t/09_concurrent_connections_new.t line 21 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
not ok 4
# Failed test 4 in t/09_concurrent_connections_new.t at line 22
#  t/09_concurrent_connections_new.t line 22 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
ok 5

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> formal-imap-server.log</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">2012/03/04-22:39:00 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20034&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:39:01 CONNECT TCP Peer: &#34;127.0.0.1:37374&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2a07a48&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x2a07a48&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:01 CONNECT TCP Peer: &#34;127.0.0.1:37375&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2a07dc0&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x2a07dc0&#41;,???,unselected&#41;: 0 LOGIN bad &#34;login&#34;
S&#40;t::Connection=HASH&#40;0x2a07dc0&#41;,???,unselected&#41;: 0 NO Login is disabled
-&#40;t::Connection=HASH&#40;0x2a07dc0&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:07 CONNECT TCP Peer: &#34;127.0.0.1:37378&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x267c3e8&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x267c3e8&#41;,???,unselected&#41;: 1 Shutdown
2012/03/04-22:39:07 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20046&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:39:07 CONNECT TCP Peer: &#34;127.0.0.1:37390&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x26eb810&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x26eb810&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:07 CONNECT TCP Peer: &#34;127.0.0.1:37391&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x26e4b40&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x26e4b40&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:13 CONNECT TCP Peer: &#34;127.0.0.1:37394&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x26eb558&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x26eb558&#41;,???,unselected&#41;: 1 Shutdown
2012/03/04-22:39:13 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20049&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:39:14 CONNECT TCP Peer: &#34;127.0.0.1:37407&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2f88980&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x2f88980&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:27 Server closing!
2012/03/04-22:39:36 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20092&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:39:37 CONNECT TCP Peer: &#34;127.0.0.1:37415&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2d05540&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x2d05540&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:39:37 CONNECT TCP Peer: &#34;127.0.0.1:37416&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2cfdfc0&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x2cfdfc0&#41;,???,unselected&#41;: 0 LOGIN bad &#34;login&#34;
S&#40;t::Connection=HASH&#40;0x2cfdfc0&#41;,???,unselected&#41;: 0 NO Login is disabled
-&#40;t::Connection=HASH&#40;0x2cfdfc0&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:41:45 Server closing!
2012/03/04-22:41:49 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20341&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:41:50 CONNECT TCP Peer: &#34;127.0.0.1:37453&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x33ab910&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x33ab910&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:41:50 CONNECT TCP Peer: &#34;127.0.0.1:37454&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x33b7a20&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x33b7a20&#41;,???,unselected&#41;: 0 LOGIN bad &#34;login&#34;
S&#40;t::Connection=HASH&#40;0x33b7a20&#41;,???,unselected&#41;: 0 NO Login is disabled
-&#40;t::Connection=HASH&#40;0x33b7a20&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:42:37 Server closing!
2012/03/04-22:42:48 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20493&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:42:49 CONNECT TCP Peer: &#34;127.0.0.1:37477&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2e39910&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x2e39910&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:42:49 CONNECT TCP Peer: &#34;127.0.0.1:37478&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2e45a20&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x2e45a20&#41;,???,unselected&#41;: 0 LOGIN bad &#34;login&#34;
S&#40;t::Connection=HASH&#40;0x2e45a20&#41;,???,unselected&#41;: 0 NO Login is disabled
-&#40;t::Connection=HASH&#40;0x2e45a20&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:42:59 CONNECT TCP Peer: &#34;127.0.0.1:37482&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x2e36688&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x2e36688&#41;,???,unselected&#41;: 1 Shutdown
2012/03/04-22:42:59 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20510&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:43:00 CONNECT TCP Peer: &#34;127.0.0.1:37495&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x3655838&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x3655838&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:43:00 CONNECT TCP Peer: &#34;127.0.0.1:37496&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x36603f8&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x36603f8&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:43:24 CONNECT TCP Peer: &#34;127.0.0.1:37504&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x3655580&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x3655580&#41;,???,unselected&#41;: 1 Shutdown
2012/03/04-22:43:24 Net::IMAP::Server &#40;type Net::Server::Coro&#41; starting! pid&#40;20574&#41;
Using default listen value of 128
Binding to TCP port 19794 on host *
Binding to TCP port 19795 on host *
Group Not Defined.  Defaulting to EGID &#39;1000 0 4 6 20 24 29 46 105 119 122 125 1000&#39;
User Not Defined.  Defaulting to EUID &#39;1000&#39;
2012/03/04-22:43:25 CONNECT TCP Peer: &#34;127.0.0.1:37518&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x1a7c7b8&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
-&#40;t::Connection=HASH&#40;0x1a7c7b8&#41;,???,unselected&#41;: Connection closed by remote host
2012/03/04-22:43:50 CONNECT TCP Peer: &#34;127.0.0.1:37531&#34; Local: &#34;127.0.0.1:19794&#34;
S&#40;t::Connection=HASH&#40;0x1a7e1c8&#41;,???,unselected&#41;: * OK Net::IMAP::Simple Test Server &#40;1&#41;
C&#40;t::Connection=HASH&#40;0x1a7e1c8&#41;,???,unselected&#41;: 1 Shutdown
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;18:21:53&nbsp;2012</span>
    <span class="description">paul [...] voltar.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75514] Test failures and daemon process left active after testing</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Mar 2012 18:21:42 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Miller &lt;paul [...] voltar.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That&#39;s much worse looking than I expected.  Is that on a roku?

--
message brief, sent from phone
On Mar 4, 2012 5:56 PM, &#34;Thomas Edward Alexander Molesworth via RT&#34; &lt;
bug-Net-IMAP-Simple@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Net-IMAP-Simple
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75514">https://rt.cpan.org/Ticket/Display.html?id=75514</a></span> &gt;
&gt;
&gt; On Sun Mar 04 17:37:18 2012, paul@voltar.org wrote:
<div class="message-stanza open">&gt; &gt; The tests should log most things they do.  Doesn&#39;t show up on the testers
&gt; &gt; output.  Certainly send them.  Though, these aren&#39;t really package bugs.
&gt; &gt; They&#39;re just portability errors in the tests.
</div>&gt;
&gt; I&#39;ve attached the output from running the first few tests directly via
&gt; perl, rather than going through prove, in case that was causing
&gt; additional issues. The informal-*.log files are empty. My guess is that
&gt; the make test failures are due to the daemon still running after the
&gt; first test so the next attempt to bind to the port fails, although if
&gt; that&#39;s the case I&#39;m not sure why the first few tests are okay when run
&gt; manually.
&gt;
&gt; As I say, this is just something I&#39;m reporting for completeness, so if
&gt; you&#39;re satisfied that it&#39;s purely due to environment rather than
&gt; anything wrong with the package itself, feel free to close this RT.
&gt;
&gt; cheers,
&gt;
&gt; Tom
&gt;
&gt;
&gt; cpan[2]&gt; look Net::IMAP::Simple
&gt; Running look for module &#39;Net::IMAP::Simple&#39;
&gt;
&gt; Trying to open a subshell in the build directory...
&gt; Checksum for
&gt; /home/tom/.cpan/sources/authors/id/J/JE/JETTERO/Net-IMAP-Simple-1.2030.tar.gz
&gt; ok
&gt; Working directory is /home/tom/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ dir
&gt; total 136
&gt; drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 certs/
&gt; -rw-r--r-- 1 tom tom 18547 2012-02-06 15:05 Changes
&gt; drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 contrib/
&gt; drwxr-x--- 3 tom tom  4096 2012-02-06 15:06 inc/
&gt; drwxr-x--- 3 tom tom  4096 2012-02-06 15:06 lib/
&gt; -rw-r--r-- 1 tom tom  2629 2011-09-02 19:35 Makefile.PL
&gt; -rw-r--r-- 1 tom tom  2478 2012-02-06 15:06 MANIFEST
&gt; -rw-r----- 1 tom tom  1689 2012-02-06 15:06 META.json
&gt; -rw-r----- 1 tom tom   960 2012-02-06 15:06 META.yml
&gt; -rw-r--r-- 1 tom tom   589 2010-10-29 14:09 README
&gt; -rw-r--r-- 1 tom tom 32602 2012-02-06 14:43 Simple.pm
&gt; -rw-r--r-- 1 tom tom 30064 2012-01-25 19:25 Simple.pod
&gt; -rwxr-xr-x 1 tom tom    95 2010-10-29 14:09 start_server.sh*
&gt; -rwxr-xr-x 1 tom tom    96 2010-10-29 14:09 stop_server.sh*
&gt; drwxr-x--- 2 tom tom  4096 2012-02-06 15:06 t/
&gt; -rw-r--r-- 1 tom tom   212 2010-10-29 14:09 TODO
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl Makefile.PL
&gt; Do you wish to include some simple protocol extensions &#40;pulls in
&gt; Parse::RecDescent&#41;?  [y] y
&gt; Checking if your kit is complete...
&gt; Looks good
&gt; Writing Makefile for Net::IMAP::Simple
&gt; Writing MYMETA.yml and MYMETA.json
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ make
&gt; cp Simple.pm blib/lib/Net/IMAP/Simple.pm
&gt; cp SimpleX.pm blib/lib/Net/IMAP/SimpleX.pm
&gt; cp SimpleX.pod blib/lib/Net/IMAP/SimpleX.pod
&gt; cp Simple.pod blib/lib/Net/IMAP/Simple.pod
&gt; cp lib/Net/IMAP/Simple/PipeSocket.pm blib/lib/Net/IMAP/Simple/PipeSocket.pm
&gt; Manifying blib/man3/Net::IMAP::SimpleX.3
&gt; Manifying blib/man3/Net::IMAP::Simple.3
&gt; Manifying blib/man3/Net::IMAP::Simple::PipeSocket.3
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ make test
&gt; PERL_DL_NONLAZY=1 /home/tom/perl5/perlbrew/perls/perl-5.14.2/bin/perl
&gt; &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34;
&gt; t/*.t
&gt; t/01_load.t .......................... ok
&gt; t/07_select_and_examine.t ............ Failed 21/23 subtests
&gt;
&gt;                        * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
&gt; t/08_selectalot.t .................... Failed 3/3 subtests
&gt;
&gt;                        * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
&gt; t/09_concurrent_connections_new.t .... 1/5 # Failed test 1 in
&gt; t/09_concurrent_connections_new.t at line 19
&gt;                                      * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
&gt; #  t/09_concurrent_connections_new.t line 19 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
&gt; ^Cmake: *** [test_dynamic] Interrupt
&gt;
&gt; --- interrupted tests here in order to run them manually
&gt;
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ ps auxw | grep -i
&gt; imap
&gt; tom      20092  0.0  0.1 101500 19272 ?        S    22:39   0:00
&gt; Net::IMAP::Server&#40;20092&#41;
&gt; tom      20149  0.0  0.0   8960   864 pts/22   R+   22:40   0:00 grep -i
&gt; imap
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ kill 20092
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib
&gt; t/01_load.t
&gt; 1..1
&gt; # Running under perl version 5.014002 for linux
&gt; # Current time local: Sun Mar  4 22:42:43 2012
&gt; # Current time GMT:   Sun Mar  4 22:42:43 2012
&gt; # Using Test.pm version 1.25
&gt; ok 1
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib
&gt; t/07_select_and_examine.t
&gt; 1..23
&gt; # Running under perl version 5.014002 for linux
&gt; # Current time local: Sun Mar  4 22:42:46 2012
&gt; # Current time GMT:   Sun Mar  4 22:42:46 2012
&gt; # Using Test.pm version 1.25
&gt; ok 1
&gt;
&gt;                        * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
&gt; ok 2
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib
&gt; t/08_selectalot.t
&gt; 1..3
&gt; # Running under perl version 5.014002 for linux
&gt; # Current time local: Sun Mar  4 22:42:58 2012
&gt; # Current time GMT:   Sun Mar  4 22:42:58 2012
&gt; # Using Test.pm version 1.25
&gt; tom@roku:~/.cpan/build/Net-IMAP-Simple-1.2030-U5PTEH$ perl -Ilib
&gt; t/09_concurrent_connections_new.t
&gt; 1..5
&gt; # Running under perl version 5.014002 for linux
&gt; # Current time local: Sun Mar  4 22:43:23 2012
&gt; # Current time GMT:   Sun Mar  4 22:43:23 2012
&gt; # Using Test.pm version 1.25
&gt; not ok 1
&gt;
&gt;                        * OK inc/Net/IMAP/Server.pm &#40;1.27&#41;
&gt; # Failed test 1 in t/09_concurrent_connections_new.t at line 19
&gt; #  t/09_concurrent_connections_new.t line 19 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
&gt; not ok 2
&gt; # Failed test 2 in t/09_concurrent_connections_new.t at line 20
&gt; #  t/09_concurrent_connections_new.t line 20 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
&gt; not ok 3
&gt; # Failed test 3 in t/09_concurrent_connections_new.t at line 21
&gt; #  t/09_concurrent_connections_new.t line 21 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
&gt; not ok 4
&gt; # Failed test 4 in t/09_concurrent_connections_new.t at line 22
&gt; #  t/09_concurrent_connections_new.t line 22 is:     ok&#40; $c-&gt;&#40;&#41; &#41;;
&gt; ok 5
&gt;
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;18:28:56&nbsp;2012</span>
    <span class="description">TEAM [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 04 18:21:53 2012, paul@voltar.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That&#39;s much worse looking than I expected.  Is that on a roku?
</div>
ah, that&#39;s just the hostname - it&#39;s an Ubuntu 10.10 system:

tom@roku:~$ uname -a
Linux roku 2.6.35-30-generic #61-Ubuntu SMP Tue Oct 11 17:52:57 UTC 2011
x86_64 GNU/Linux

tom@roku:~$ cat /etc/lsb-release 
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=10.10
DISTRIB_CODENAME=maverick
DISTRIB_DESCRIPTION=&#34;Ubuntu 10.10&#34;

It&#39;s using a perlbrew-compiled 5.14.2 with threads disabled. Can&#39;t think
of anything else particularly unusual about this system but if you think
it&#39;s worth pursuing I can try setting up an equivalent system in a VM to
see if it&#39;s easy to reproduce this situation. The note about
Parse::RecDescent did make me wonder whether this might be related to
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=74733">https://rt.cpan.org/Public/Bug/Display.html?id=74733</a></span>, but tried with
both module versions mentioned in that bug with the same results each time.

&#40;I&#39;m on irc.perl.org as tom_m and irc.freenode.net/#perl as tm604 if
that&#39;s easier for you, by the way&#41;

cheers,

Tom
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;18:37:14&nbsp;2012</span>
    <span class="description">paul [...] voltar.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75514] Test failures and daemon process left active after testing</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Mar 2012 18:37:05 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Miller &lt;paul [...] voltar.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m sure I can reproduce the end... What I don&#39;t have is time...

I&#39;ll look at parse recdescent this week.  I wonder if that&#39;s related.
--
message brief, sent from phone
On Mar 4, 2012 6:28 PM, &#34;Thomas Edward Alexander Molesworth via RT&#34; &lt;
bug-Net-IMAP-Simple@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Net-IMAP-Simple
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75514">https://rt.cpan.org/Ticket/Display.html?id=75514</a></span> &gt;
&gt;
&gt; On Sun Mar 04 18:21:53 2012, paul@voltar.org wrote:
<div class="message-stanza open">&gt; &gt; That&#39;s much worse looking than I expected.  Is that on a roku?
</div>&gt;
&gt; ah, that&#39;s just the hostname - it&#39;s an Ubuntu 10.10 system:
&gt;
&gt; tom@roku:~$ uname -a
&gt; Linux roku 2.6.35-30-generic #61-Ubuntu SMP Tue Oct 11 17:52:57 UTC 2011
&gt; x86_64 GNU/Linux
&gt;
&gt; tom@roku:~$ cat /etc/lsb-release
&gt; DISTRIB_ID=Ubuntu
&gt; DISTRIB_RELEASE=10.10
&gt; DISTRIB_CODENAME=maverick
&gt; DISTRIB_DESCRIPTION=&#34;Ubuntu 10.10&#34;
&gt;
&gt; It&#39;s using a perlbrew-compiled 5.14.2 with threads disabled. Can&#39;t think
&gt; of anything else particularly unusual about this system but if you think
&gt; it&#39;s worth pursuing I can try setting up an equivalent system in a VM to
&gt; see if it&#39;s easy to reproduce this situation. The note about
&gt; Parse::RecDescent did make me wonder whether this might be related to
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=74733">https://rt.cpan.org/Public/Bug/Display.html?id=74733</a></span>, but tried with
&gt; both module versions mentioned in that bug with the same results each time.
&gt;
&gt; &#40;I&#39;m on irc.perl.org as tom_m and irc.freenode.net/#perl as tm604 if
&gt; that&#39;s easier for you, by the way&#41;
&gt;
&gt; cheers,
&gt;
&gt; Tom
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;18:39:02&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75514] Test failures and daemon process left active after testing</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Mar 2012 18:38:34 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-IMAP-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Miller &lt;jettero [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">er, environment.  autocorrect seems necessary with touch screens, but
it&#39;s also something of a misfeature.  If you can&#39;t replace things 100%
correctly, you probably shouldn&#39;t change the input without some action
from the operator.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m sure I can reproduce the end... What I don&#39;t have is time...
</div>


-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;14:02:06&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I pretty much forgot about this.  I really have no idea how to fix it,
other than deleting/disabling most of the test suite.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;14:05:14&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I pretty much forgot about this.  I really have no idea how to fix it,
&gt; other than deleting/disabling most of the test suite.
</div>
I should ask too:  Do you have any suggestions for repairing it?  I&#39;m
really honestly thinking about disabling most of the test suite.  It
causes problems for people and I really haven&#39;t learned anything from it
by running it all over the place -- it&#39;s more of a build tool.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;16&nbsp;08:14:21&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m just going to remove the initial module load. I think that will
&#34;fix&#34; it by obviating the SSL library unload &#40;or whatever the hell
causes the problems on some machines, but never mine&#41;. Please be sure to
test 1.2034_2 when it appears on the cpan and reopen if it doesn&#39;t &#34;fix&#34; it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;16&nbsp;08:14:22&nbsp;2012</span>
    <span class="description">jettero [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
