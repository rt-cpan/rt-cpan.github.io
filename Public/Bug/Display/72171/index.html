<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #72171 for ExtUtils-ParseXS: t/003-usage.t fails on tests on AIX 6 with perl5.14.2</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #72171 for ExtUtils-ParseXS: t/003-usage.t fails on tests on AIX 6 with perl5.14.2</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=ExtUtils-ParseXS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=ExtUtils-ParseXS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=ExtUtils-ParseXS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=ExtUtils-ParseXS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://rt.perl.org/rt3/">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-ParseXS">ExtUtils-ParseXS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">72171</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=ExtUtils-ParseXS">ExtUtils-ParseXS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
w.phillip.moore [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-12510-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.05    </td>
  </tr>
  <tr id="CF-12511-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=72171">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-995843" href="/Public/Bug/Display.html?id=72171#txn-995843">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;04&nbsp;10:40:14&nbsp;2011</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/003-usage.t fails on tests on AIX 6 with perl5.14.2</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/995843/518634/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/518634">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve just managed to build and tests ExtUtils-ParseXS-3.05 on Solaris 10, RHEL 5, and AIX 6, 
for all of perl5.10.1, 5.12.4 and 5.14.2, both 32 and 64 bit.   On ONE of those combinations, 
one of the tests fails.

Only 32 bit perl5.14.2 on AIX 6 fails, and It&#39;s not clear whether or not I can ignore this one 
&#40;until I build some of the CPAN modules that depend on this one, RSN....&#41;

The test failure is:


[2011-11-04 14:16:53]  Build command: cd /var/efsbuild/perl5-ExtUtils-ParseXS-3.05-
build001-build/powerpc32.aix.6/5.14/\
source/ExtUtils-ParseXS-3.05 &#38;&#38; make test &lt; /dev/null
[2011-11-04 14:16:54]  PERL_DL_NONLAZY=1 
/efs/dist/perl5/core/5.14/.exec/powerpc32.aix.6/bin/perl &#34;-MExtUtils::Command:\
:MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
[2011-11-04 14:17:01]  t/001-basic.t ............................ ok
[2011-11-04 14:17:09]  t/002-more.t ............................. ok
[2011-11-04 14:17:15]
[2011-11-04 14:17:15]  #   Failed test at t/003-usage.t line 57.
[2011-11-04 14:17:15]  #          got: &#39;XSUsage.pm did not return a true value at t/003-
usage.t line 56.
[2011-11-04 14:17:15]  # &#39;
[2011-11-04 14:17:15]  #     expected: &#39;&#39;
[2011-11-04 14:17:15]  # Looks like you failed 1 test of 24.
[2011-11-04 14:17:15]  t/003-usage.t ............................
[2011-11-04 14:17:15]  Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
[2011-11-04 14:17:15]  Failed 1/24 subtests
[2011-11-04 14:17:24]  t/004-nolinenumbers.t .................... ok
[2011-11-04 14:17:24]  t/101-standard_typemap_locations.t ....... ok
[2011-11-04 14:17:24]  t/102-trim_whitespace.t .................. ok
[2011-11-04 14:17:25]  t/103-tidy_type.t ........................ ok
[2011-11-04 14:17:25]  t/104-map_type.t ........................ ok
[2011-11-04 14:17:25]  t/105-valid_proto_string.t ............... ok
[2011-11-04 14:17:25]  t/106-process_typemaps.t ................. ok
[2011-11-04 14:17:26]  t/107-make_targetable.t .................. ok
[2011-11-04 14:17:26]  t/108-map_type.t ......................... ok
[2011-11-04 14:17:26]  t/109-standard_XS_defs.t ................. ok
[2011-11-04 14:17:26]  t/110-assign_func_args.t ................. ok
[2011-11-04 14:17:27]  t/111-analyze_preprocessor_statements.t .. ok
[2011-11-04 14:17:27]  t/112-set_cond.t ......................... ok
[2011-11-04 14:17:28]  t/113-check_cond_preproc_statements.t .... ok
[2011-11-04 14:17:28]  t/114-blurt_death_Warn.t ................. ok
[2011-11-04 14:17:28]  t/501-t-compile.t ........................ ok
[2011-11-04 14:17:29]  t/510-t-bare.t ........................... ok
[2011-11-04 14:17:30]  t/511-t-whitespace.t ..................... ok
[2011-11-04 14:17:30]  t/512-t-file.t ........................... ok
[2011-11-04 14:17:31]  t/513-t-merge.t .......................... ok
[2011-11-04 14:17:34]  t/600-t-compat.t ......................... ok
[2011-11-04 14:17:34]
[2011-11-04 14:17:34]  Test Summary Report
[2011-11-04 14:17:34]  -------------------
[2011-11-04 14:17:34]  t/003-usage.t                          &#40;Wstat: 256 Tests: 24 Failed: 1&#41;
[2011-11-04 14:17:34]    Failed test:  7
[2011-11-04 14:17:34]    Non-zero exit status: 1
[2011-11-04 14:17:34]  Files=24, Tests=212, 40 wallclock secs &#40; 0.14 usr  0.04 sys +  2.98 
cusr  0.65 csys =  3.81 CPU&#41;
[2011-11-04 14:17:34]  Result: FAIL
[2011-11-04 14:17:34]  Failed 1/24 test programs. 1/212 subtests failed.
[2011-11-04 14:17:34]  make: *** [test_dynamic] Error 255

I attempted to debug this, but got nowhere.  In the debugger:

[efsops@shou18l560-02 ExtUtils-ParseXS-3.05]$ perl -d -Mblib t/003-usage.t
 
Loading DB routines from perl5db.pl version 1.33
Editor support available.
 
Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.
 
main::&#40;t/003-usage.t:9&#41;:        if &#40; $] &lt; 5.008 &#41; {
  DB&lt;1&gt; c
1..24
ok 1 - require ExtUtils::ParseXS;
ok 2 - Create an output file
gcc -I/var/efsbuild/perl5-ExtUtils-ParseXS-3.05-build001-
build/powerpc32.aix.6/5.14/lib/CORE -c -O2 -O -o XSUsage.o XSUsage.c
ok 3
ok 4 - Make sure XSUsage.o exists
gcc -maix32 -Wl,-bhalt:4 -Wl,-G -Wl,-bI:/var/efsbuild/perl5-ExtUtils-ParseXS-3.05-
build001-build/powerpc32.aix.6/5.14/lib/CORE/perl.exp -Wl,-bE:XSUsage.exp -Wl,-
bnoentry -lpthreads -lc -lm -L/usr/lib -o XSUsage.so XSUsage.o
ok 5
ok 6 - Make sure XSUsage.so exists
Bizarre copy of BIND in scalar assignment at /efs/dist/perl5/core/5.14.2-
build002/.exec/powerpc32.aix.6/lib/perl5/perl5db.pl line 1945.
at /efs/dist/perl5/core/5.14.2-build002/.exec/powerpc32.aix.6/lib/perl5/perl5db.pl line 
1945
        DB::DB called at t/003-usage.t line 57
Bizarre copy of BIND in scalar assignment at /efs/dist/perl5/core/5.14.2-
build002/.exec/powerpc32.aix.6/lib/perl5/perl5db.pl line 1945.
Bizarre copy of BIND in scalar assignment at /efs/dist/perl5/core/5.14.2-
build002/.exec/powerpc32.aix.6/lib/perl5/perl5db.pl line 1945.
Bizarre copy of BIND in scalar assignment at /efs/dist/perl5/core/5.14.2-
build002/.exec/powerpc32.aix.6/lib/perl5/perl5db.pl line 1945.

ALL of the other tests pass, and it&#39;s just this one that fails, so it&#39;s not clear to me &#40;again, until 
I have built some of it&#39;s dependent CPAN modules&#41; whether or not this one matters.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.197076</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
