<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #95311 for YATT: Test suite fails with perl 5.19.x</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #95311 for YATT: Test suite fails with perl 5.19.x</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=YATT">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=YATT">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=YATT">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=YATT">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/YATT">YATT CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">95311</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">patched</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=YATT">YATT</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">hkoba [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-219652-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
v0.0.8    </td>
  </tr>
  <tr id="CF-219653-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.0_9    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




typealias_ng.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1359143/721375/typealias_ng.t">
Mon May 05 06:24:29 2014 (1k) by hkoba [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=95311">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1358273" href="/Public/Bug/Display.html?id=95311#txn-1358273">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;03&nbsp;04:59:51&nbsp;2014</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test suite fails with perl 5.19.x</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1358273/720886/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/720886">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">YATT&#39;s test suite fails with newest perls &#40;5.19.10, 5.19.11&#41;. Following the beginning of the test log run:

Output from &#39;./Build test&#39;:

web/cgi-bin/yatt.lib/t/rlimit.t ........... skipped: BSD::Resource is not installed
web/cgi-bin/yatt.lib/t/topcgi-redirect.t .. skipped: yatt.cgi and testapp is not installed.

#   Failed test &#39;require YATT::Translator::Perl;&#39;
#   at web/cgi-bin/yatt.lib/t/use.t line 64.
#     Tried to require &#39;YATT::Translator::Perl&#39;.
#     Error:  No such class t_attr at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1396, near &#34;my t_attr&#34;
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1396.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
# No such class t_attr at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1402, near &#34;&#40;my t_attr&#34;
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1402.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1407.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1412.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1412.
# Global symbol &#34;$var&#34; requires explicit package name at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1413.
# No such class t_attr at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1417, near &#34;my t_attr&#34;
# /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm has too many errors.
# Compilation failed in require at &#40;eval 58&#41; line 2.

#   Failed test &#39;require YATT::Translator::Perl::macro_dbfetch;&#39;
#   at web/cgi-bin/yatt.lib/t/use.t line 64.
#     Tried to require &#39;YATT::Translator::Perl::macro_dbfetch&#39;.
#     Error:  Attempt to reload YATT/Translator/Perl.pm aborted.
# Compilation failed in require at /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl/macro_dbfetch.pm line 4.
# Compilation failed in require at &#40;eval 75&#41; line 2.
# Looks like you failed 2 tests of 112.
web/cgi-bin/yatt.lib/t/use.t .............. 
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/112 subtests 
        &#40;less 6 skipped subtests: 104 okay&#41;
...


Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1358506" href="/Public/Bug/Display.html?id=95311#txn-1358506">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;03&nbsp;17:43:33&nbsp;2014</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1358506/721014/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721014">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 117b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Git bisect brings us to v5.19.2-138-g137da2b already treated in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/rt3/Ticket/Display.html?id=119047">https://rt.perl.org/rt3/Ticket/Display.html?id=119047</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1358507" href="/Public/Bug/Display.html?id=95311#txn-1358507">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;03&nbsp;17:43:33&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1359143" href="/Public/Bug/Display.html?id=95311#txn-1359143">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;05&nbsp;06:24:29&nbsp;2014</span>
    <span class="description">hkoba [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359143/721374/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721374">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for telling me about this failure.
Could you/someone explain me about changes about constant sub handling
introduced between 5.19.2 and 5.19.3?

I noticed attached test do not work after 5.19.3.
Is this intentional change?

In YATT and other project, I&#39;ve been used compile time checking with

  my Dog $spot = ...

feature in conjunction with constant sub &#40;in this case &#39;Dog&#39;&#41;,
which is generated compile time.

To generate constant sub &#40;&#39;Dog&#39; =&gt; &#39;My::Lib::Dog&#39;&#41;, I&#39;ve been used

  my $sym = do {no strict &#39;refs&#39;; \*$string};
  *$sym = sub &#40;&#41; {$value};


Is this obsoleted anymore?


Regards.
hkoba.


On 2014-5月-03 土 17:59:51, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; YATT&#39;s test suite fails with newest perls &#40;5.19.10, 5.19.11&#41;.
&gt; Following the beginning of the test log run:
&gt; 
&gt; Output from &#39;./Build test&#39;:
&gt; 
&gt; web/cgi-bin/yatt.lib/t/rlimit.t ........... skipped: BSD::Resource is
&gt; not installed
&gt; web/cgi-bin/yatt.lib/t/topcgi-redirect.t .. skipped: yatt.cgi and
&gt; testapp is not installed.
&gt; 
&gt; #   Failed test &#39;require YATT::Translator::Perl;&#39;
&gt; #   at web/cgi-bin/yatt.lib/t/use.t line 64.
&gt; #     Tried to require &#39;YATT::Translator::Perl&#39;.
&gt; #     Error:  No such class t_attr at /home/cpansand/.cpan/build/YATT-
&gt; v0.0.8-fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line
&gt; 1396, near &#34;my t_attr&#34;
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1396.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1397.
&gt; # No such class t_attr at /home/cpansand/.cpan/build/YATT-v0.0.8-
&gt; fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1402,
&gt; near &#34;&#40;my t_attr&#34;
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1402.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1407.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1412.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1412.
&gt; # Global symbol &#34;$var&#34; requires explicit package name at
&gt; /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1413.
&gt; # No such class t_attr at /home/cpansand/.cpan/build/YATT-v0.0.8-
&gt; fpPXvw/web/cgi-bin/yatt.lib/t/../YATT/Translator/Perl.pm line 1417,
&gt; near &#34;my t_attr&#34;
&gt; # /home/cpansand/.cpan/build/YATT-v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl.pm has too many errors.
&gt; # Compilation failed in require at &#40;eval 58&#41; line 2.
&gt; 
&gt; #   Failed test &#39;require YATT::Translator::Perl::macro_dbfetch;&#39;
&gt; #   at web/cgi-bin/yatt.lib/t/use.t line 64.
&gt; #     Tried to require &#39;YATT::Translator::Perl::macro_dbfetch&#39;.
&gt; #     Error:  Attempt to reload YATT/Translator/Perl.pm aborted.
&gt; # Compilation failed in require at /home/cpansand/.cpan/build/YATT-
&gt; v0.0.8-fpPXvw/web/cgi-
&gt; bin/yatt.lib/t/../YATT/Translator/Perl/macro_dbfetch.pm line 4.
&gt; # Compilation failed in require at &#40;eval 75&#41; line 2.
&gt; # Looks like you failed 2 tests of 112.
&gt;  web/cgi-bin/yatt.lib/t/use.t ..............
&gt; Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
&gt;  Failed 2/112 subtests
&gt;         &#40;less 6 skipped subtests: 104 okay&#41;
&gt; ...
&gt; 
&gt; 
&gt; Regards,
&gt;     Slaven
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> typealias_ng.t</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359143/721375/typealias_ng.t">Download typealias_ng.t</a><br />
<span class="downloadcontenttype">text/x-perl 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/env perl
use strict;
use warnings FATAL =&gt; qw/all/;

sub make_type_alias {
  my $callpack = caller;
  foreach my $name &#40;@_&#41; {
    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
    {
      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
    }
    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$fullname};
  }
}

sub globref {
  my $fullname = join &#34;::&#34;, @_;
  do {no strict &#39;refs&#39;; \*$fullname};
}

use Test::More;

my $common = &lt;&lt;&#39;END&#39;;
package testing::dummy%d; sub MY &#40;&#41; {__PACKAGE__}
use strict;
BEGIN {::make_type_alias&#40;qw/Foo Bar Baz/&#41;}
END

{
  my $script = sprintf&#40;$common, 1&#41;. &lt;&lt;&#39;END&#39;;
sub t1 {
  join&#40;&#34;, &#34;, Foo&#41;;
}
1;
END

  ok eval&#40;$script&#41;, &#34;use of constant sub&#34;;
  is $@, &#39;&#39;, &#34;no error&#34;;
}

{
  my $script = sprintf&#40;$common, 2&#41;. &lt;&lt;&#39;END&#39;;
sub t2 {
  &#40;my Foo $foo&#41; = @_;
}
1;
END

  ok eval&#40;$script&#41;, &#34;use of constant sub for my Dog \$spot&#34;;
  is $@, &#39;&#39;, &#34;no error&#34;;
}

{
  my $script = sprintf&#40;$common, 3&#41;. &lt;&lt;&#39;END&#39;;
sub t3 {
  &#40;my MY $foo&#41; = @_;
}
1;
END

  ok eval&#40;$script&#41;, &#34;use of constant sub for my Dog \$spot&#34;;
  is $@, &#39;&#39;, &#34;no error&#34;;
}

done_testing&#40;&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1359512" href="/Public/Bug/Display.html?id=95311#txn-1359512">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;05&nbsp;18:16:34&nbsp;2014</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359512/721588/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721588">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-05-05 06:24:29, HKOBA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you for telling me about this failure.
&gt; Could you/someone explain me about changes about constant sub handling
&gt; introduced between 5.19.2 and 5.19.3?
&gt; 
&gt; I noticed attached test do not work after 5.19.3.
&gt; Is this intentional change?
&gt; 
&gt; In YATT and other project, I&#39;ve been used compile time checking with
&gt; 
&gt;   my Dog $spot = ...
&gt; 
&gt; feature in conjunction with constant sub &#40;in this case &#39;Dog&#39;&#41;,
&gt; which is generated compile time.
&gt; 
&gt; To generate constant sub &#40;&#39;Dog&#39; =&gt; &#39;My::Lib::Dog&#39;&#41;, I&#39;ve been used
&gt; 
&gt;   my $sym = do {no strict &#39;refs&#39;; \*$string};
&gt;   *$sym = sub &#40;&#41; {$value};
&gt; 
&gt; 
&gt; Is this obsoleted anymore?
&gt; 
</div>
First, the change about sub&#40;&#41;{$var} was documented in perl5193delta.pod:

    *   Closures of the form &#34;sub &#40;&#41; { $some_variable }&#34; are no longer
        inlined, causing changes to the variable to be ignored by callers of
        the subroutine. [perl #79908]

As a consequence of this change it seems that creation of the sub still works, but it is not anymore an inlinable constant. If you need still to create a real constant, you can use a string-eval hack like this:

    *{globref&#40;$fullname&#41;} = eval &#34;sub &#40;&#41; {q{$fullname}}&#34;; die $@ if $@;

However, probably it&#39;s best to ask directly at the perl5-porters mailing list for advise.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1359563" href="/Public/Bug/Display.html?id=95311#txn-1359563">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;05&nbsp;22:26:24&nbsp;2014</span>
    <span class="description">hkoba [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1359563/721616/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/721616">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for your explanation of the change and workaround.

Although your advice is enough good for me,
I too think I should ask p5p for advice 
about this, especially about 

1. Why this change is required.
2. What is recommended way to dynamically make inlineable subs.

# But for me, writing in English is not so easy, so please wait.

Thanks!
hkoba.


On 2014-5月-06 火 07:16:34, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2014-05-05 06:24:29, HKOBA wrote:
<div class="message-stanza open">&gt; &gt; Thank you for telling me about this failure.
&gt; &gt; Could you/someone explain me about changes about constant sub
&gt; &gt; handling
&gt; &gt; introduced between 5.19.2 and 5.19.3?
&gt; &gt;
&gt; &gt; I noticed attached test do not work after 5.19.3.
&gt; &gt; Is this intentional change?
&gt; &gt;
&gt; &gt; In YATT and other project, I&#39;ve been used compile time checking with
&gt; &gt;
&gt; &gt; my Dog $spot = ...
&gt; &gt;
&gt; &gt; feature in conjunction with constant sub &#40;in this case &#39;Dog&#39;&#41;,
&gt; &gt; which is generated compile time.
&gt; &gt;
&gt; &gt; To generate constant sub &#40;&#39;Dog&#39; =&gt; &#39;My::Lib::Dog&#39;&#41;, I&#39;ve been used
&gt; &gt;
&gt; &gt; my $sym = do {no strict &#39;refs&#39;; \*$string};
&gt; &gt; *$sym = sub &#40;&#41; {$value};
&gt; &gt;
&gt; &gt;
&gt; &gt; Is this obsoleted anymore?
&gt; &gt;
</div>&gt; 
&gt; First, the change about sub&#40;&#41;{$var} was documented in
&gt; perl5193delta.pod:
&gt; 
&gt; *   Closures of the form &#34;sub &#40;&#41; { $some_variable }&#34; are no longer
&gt;     inlined, causing changes to the variable to be ignored by callers
&gt; of
&gt;     the subroutine. [perl #79908]
&gt; 
&gt; As a consequence of this change it seems that creation of the sub
&gt; still works, but it is not anymore an inlinable constant. If you need
&gt; still to create a real constant, you can use a string-eval hack like
&gt; this:
&gt; 
&gt; *{globref&#40;$fullname&#41;} = eval &#34;sub &#40;&#41; {q{$fullname}}&#34;; die $@ if $@;
&gt; 
&gt; However, probably it&#39;s best to ask directly at the perl5-porters
&gt; mailing list for advise.
&gt; 
&gt; Regards,
&gt;     Slaven
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1359583" href="/Public/Bug/Display.html?id=95311#txn-1359583">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;05&nbsp;22:59:14&nbsp;2014</span>
    <span class="description">hkoba [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1360935" href="/Public/Bug/Display.html?id=95311#txn-1360935">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;03:26:49&nbsp;2014</span>
    <span class="description">hkoba [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1360935/722426/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722426">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

May I ask you about current status of following patch?

* smoke-me/avar/rv-fix-79908 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4

Is above patch judged to go into mainline? or Is it rejected?

Do I still need to change YATT to solve this ticket #95311 ?

Thanks.
hkoba


On 2014-5月-06 火 07:16:34, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2014-05-05 06:24:29, HKOBA wrote:
<div class="message-stanza open">&gt; &gt; Thank you for telling me about this failure.
&gt; &gt; Could you/someone explain me about changes about constant sub
&gt; &gt; handling
&gt; &gt; introduced between 5.19.2 and 5.19.3?
&gt; &gt;
&gt; &gt; I noticed attached test do not work after 5.19.3.
&gt; &gt; Is this intentional change?
&gt; &gt;
&gt; &gt; In YATT and other project, I&#39;ve been used compile time checking with
&gt; &gt;
&gt; &gt; my Dog $spot = ...
&gt; &gt;
&gt; &gt; feature in conjunction with constant sub &#40;in this case &#39;Dog&#39;&#41;,
&gt; &gt; which is generated compile time.
&gt; &gt;
&gt; &gt; To generate constant sub &#40;&#39;Dog&#39; =&gt; &#39;My::Lib::Dog&#39;&#41;, I&#39;ve been used
&gt; &gt;
&gt; &gt; my $sym = do {no strict &#39;refs&#39;; \*$string};
&gt; &gt; *$sym = sub &#40;&#41; {$value};
&gt; &gt;
&gt; &gt;
&gt; &gt; Is this obsoleted anymore?
&gt; &gt;
</div>&gt; 
&gt; First, the change about sub&#40;&#41;{$var} was documented in
&gt; perl5193delta.pod:
&gt; 
&gt; *   Closures of the form &#34;sub &#40;&#41; { $some_variable }&#34; are no longer
&gt;     inlined, causing changes to the variable to be ignored by callers
&gt; of
&gt;     the subroutine. [perl #79908]
&gt; 
&gt; As a consequence of this change it seems that creation of the sub
&gt; still works, but it is not anymore an inlinable constant. If you need
&gt; still to create a real constant, you can use a string-eval hack like
&gt; this:
&gt; 
&gt; *{globref&#40;$fullname&#41;} = eval &#34;sub &#40;&#41; {q{$fullname}}&#34;; die $@ if $@;
&gt; 
&gt; However, probably it&#39;s best to ask directly at the perl5-porters
&gt; mailing list for advise.
&gt; 
&gt; Regards,
&gt;     Slaven
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1361133" href="/Public/Bug/Display.html?id=95311#txn-1361133">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;09&nbsp;13:50:57&nbsp;2014</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1361133/722544/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/722544">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-05-09 03:26:49, HKOBA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; May I ask you about current status of following patch?
&gt; 
&gt; * smoke-me/avar/rv-fix-79908 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4
&gt; 
&gt; Is above patch judged to go into mainline? or Is it rejected?
&gt; 
&gt; Do I still need to change YATT to solve this ticket #95311 ?
&gt; 
</div>
Sorry, I can&#39;t tell. It&#39;s best if you ask again in the thread you opened in perl5-porters.

Regards,
    Slaven

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks.
&gt; hkoba
&gt; 
&gt; 
&gt; On 2014-5月-06 火 07:16:34, SREZIC wrote:
<div class="message-stanza open">&gt; &gt; On 2014-05-05 06:24:29, HKOBA wrote:
<div class="message-stanza open">&gt; &gt; &gt; Thank you for telling me about this failure.
&gt; &gt; &gt; Could you/someone explain me about changes about constant sub
&gt; &gt; &gt; handling
&gt; &gt; &gt; introduced between 5.19.2 and 5.19.3?
&gt; &gt; &gt;
&gt; &gt; &gt; I noticed attached test do not work after 5.19.3.
&gt; &gt; &gt; Is this intentional change?
&gt; &gt; &gt;
&gt; &gt; &gt; In YATT and other project, I&#39;ve been used compile time checking with
&gt; &gt; &gt;
&gt; &gt; &gt; my Dog $spot = ...
&gt; &gt; &gt;
&gt; &gt; &gt; feature in conjunction with constant sub &#40;in this case &#39;Dog&#39;&#41;,
&gt; &gt; &gt; which is generated compile time.
&gt; &gt; &gt;
&gt; &gt; &gt; To generate constant sub &#40;&#39;Dog&#39; =&gt; &#39;My::Lib::Dog&#39;&#41;, I&#39;ve been used
&gt; &gt; &gt;
&gt; &gt; &gt; my $sym = do {no strict &#39;refs&#39;; \*$string};
&gt; &gt; &gt; *$sym = sub &#40;&#41; {$value};
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Is this obsoleted anymore?
&gt; &gt; &gt;
</div>&gt; &gt; 
&gt; &gt; First, the change about sub&#40;&#41;{$var} was documented in
&gt; &gt; perl5193delta.pod:
&gt; &gt; 
&gt; &gt; *   Closures of the form &#34;sub &#40;&#41; { $some_variable }&#34; are no longer
&gt; &gt;     inlined, causing changes to the variable to be ignored by callers
&gt; &gt; of
&gt; &gt;     the subroutine. [perl #79908]
&gt; &gt; 
&gt; &gt; As a consequence of this change it seems that creation of the sub
&gt; &gt; still works, but it is not anymore an inlinable constant. If you need
&gt; &gt; still to create a real constant, you can use a string-eval hack like
&gt; &gt; this:
&gt; &gt; 
&gt; &gt; *{globref&#40;$fullname&#41;} = eval &#34;sub &#40;&#41; {q{$fullname}}&#34;; die $@ if $@;
&gt; &gt; 
&gt; &gt; However, probably it&#39;s best to ask directly at the perl5-porters
&gt; &gt; mailing list for advise.
&gt; &gt; 
&gt; &gt; Regards,
&gt; &gt;     Slaven
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1480878" href="/Public/Bug/Display.html?id=95311#txn-1480878">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;01&nbsp;20:58:19&nbsp;2015</span>
    <span class="description">TONYC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1480878/788883/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/788883">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 09 03:26:49 2014, HKOBA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; May I ask you about current status of following patch?
&gt; 
&gt; * smoke-me/avar/rv-fix-79908 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4
&gt; 
&gt; Is above patch judged to go into mainline? or Is it rejected?
&gt; 
&gt; Do I still need to change YATT to solve this ticket #95311 ?
</div>
You still need to modify YATT.

The behaviour has changed in 5.21.x, the following code:

  my $value = ...;
  *foo = sub &#40;&#41; { $value };

will generate a constant, but if you do anything with the value variable that 
*might* modify it a constant will not be generated, so for instance with your:

 sub make_type_alias {
  my $callpack = caller;
  foreach my $name &#40;@_&#41; {
    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
    {
      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
    }
    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$fullname};
  }
 }

the reference to $fullname in:

      globref&#40;$fullname&#41;

will prevent a const sub from being created, since globref&#40;&#41; could potentially
modify $fullname, or create a reference to it for later modification.

This can be fixed by making sure the only use of the variable used for the
constant is in its initialization, so make_type_alias&#40;&#41; becomes:

 sub make_type_alias {
  my $callpack = caller;
  foreach my $name &#40;@_&#41; {
    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
    {
      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
    }
    my $const_value = $fullname;
    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$const_value};
  }
 }

which allows your tests to pass:

$ ./perl -Ilib ../yatt-issue-sample.pl 
ok 1 - use of constant sub
ok 2 - no error
ok 3 - use of constant sub for my Dog $spot
ok 4 - no error
ok 5 - use of constant sub for my Dog $spot
ok 6 - no error
1..6

Note that declaring the variable and then setting it:

  my $value;
  $value = ...;
  *foo = sub &#40;&#41; { $value };

won&#39;t result in a constant, see:

  <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54">http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54</a></span>

for the full details.

You asked:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1. Why this change is required. 
</div>
See <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=79908">https://rt.perl.org/Ticket/Display.html?id=79908</a></span> for the details, but as a
summary, the problem was that:

  sub &#40;&#41; { $foo }

and

  sub &#40;&#41; { return $foo }

could behave differently with the old implementation, if $foo was modified somewhere.

The behaviour was documented, but if you didn&#39;t know about the non-intuitive behaviour
it could be confusing.

With the change only subs that where the variable can&#39;t be modified will be inlined,
meaning the behaviour wouldn&#39;t change with the inlining optimization.

Tony
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1480881" href="/Public/Bug/Display.html?id=95311#txn-1480881">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;01&nbsp;21:16:35&nbsp;2015</span>
    <span class="description">hkoba [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #95311] Test suite fails with perl 5.19.x</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 2 Apr 2015 10:16:23 +0900</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-YATT [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> KOBAYASI hiroaki &lt;hkoba [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1480881/788886/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/788886">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thank you for your deep inspection of my code and detailed great
explanation about this perl5.21.x change!
I will fix YATT and YATT::Lite.

Thank you!!

hkoba.


2015-04-02 9:58 GMT+09:00 TONYC via RT &lt;bug-YATT@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: YATT
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95311">https://rt.cpan.org/Ticket/Display.html?id=95311</a></span> &gt;
&gt;
&gt; On Fri May 09 03:26:49 2014, HKOBA wrote:
<div class="message-stanza open">&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; May I ask you about current status of following patch?
&gt;&gt;
&gt;&gt; * smoke-me/avar/rv-fix-79908 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4
&gt;&gt;
&gt;&gt; Is above patch judged to go into mainline? or Is it rejected?
&gt;&gt;
&gt;&gt; Do I still need to change YATT to solve this ticket #95311 ?
</div>&gt;
&gt; You still need to modify YATT.
&gt;
&gt; The behaviour has changed in 5.21.x, the following code:
&gt;
&gt;   my $value = ...;
&gt;   *foo = sub &#40;&#41; { $value };
&gt;
&gt; will generate a constant, but if you do anything with the value variable that
&gt; *might* modify it a constant will not be generated, so for instance with your:
&gt;
&gt;  sub make_type_alias {
&gt;   my $callpack = caller;
&gt;   foreach my $name &#40;@_&#41; {
&gt;     my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt;     {
&gt;       local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt;     }
&gt;     *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$fullname};
&gt;   }
&gt;  }
&gt;
&gt; the reference to $fullname in:
&gt;
&gt;       globref&#40;$fullname&#41;
&gt;
&gt; will prevent a const sub from being created, since globref&#40;&#41; could potentially
&gt; modify $fullname, or create a reference to it for later modification.
&gt;
&gt; This can be fixed by making sure the only use of the variable used for the
&gt; constant is in its initialization, so make_type_alias&#40;&#41; becomes:
&gt;
&gt;  sub make_type_alias {
&gt;   my $callpack = caller;
&gt;   foreach my $name &#40;@_&#41; {
&gt;     my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt;     {
&gt;       local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt;     }
&gt;     my $const_value = $fullname;
&gt;     *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$const_value};
&gt;   }
&gt;  }
&gt;
&gt; which allows your tests to pass:
&gt;
&gt; $ ./perl -Ilib ../yatt-issue-sample.pl
&gt; ok 1 - use of constant sub
&gt; ok 2 - no error
&gt; ok 3 - use of constant sub for my Dog $spot
&gt; ok 4 - no error
&gt; ok 5 - use of constant sub for my Dog $spot
&gt; ok 6 - no error
&gt; 1..6
&gt;
&gt; Note that declaring the variable and then setting it:
&gt;
&gt;   my $value;
&gt;   $value = ...;
&gt;   *foo = sub &#40;&#41; { $value };
&gt;
&gt; won&#39;t result in a constant, see:
&gt;
&gt;   <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54">http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54</a></span>
&gt;
&gt; for the full details.
&gt;
&gt; You asked:
&gt;
<div class="message-stanza open">&gt;&gt; 1. Why this change is required.
</div>&gt;
&gt; See <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=79908">https://rt.perl.org/Ticket/Display.html?id=79908</a></span> for the details, but as a
&gt; summary, the problem was that:
&gt;
&gt;   sub &#40;&#41; { $foo }
&gt;
&gt; and
&gt;
&gt;   sub &#40;&#41; { return $foo }
&gt;
&gt; could behave differently with the old implementation, if $foo was modified somewhere.
&gt;
&gt; The behaviour was documented, but if you didn&#39;t know about the non-intuitive behaviour
&gt; it could be confusing.
&gt;
&gt; With the change only subs that where the variable can&#39;t be modified will be inlined,
&gt; meaning the behaviour wouldn&#39;t change with the inlining optimization.
&gt;
&gt; Tony
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483997" href="/Public/Bug/Display.html?id=95311#txn-1483997">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;11&nbsp;20:32:26&nbsp;2015</span>
    <span class="description">hkoba [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483997/790615/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790615">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I hope this is fixed! Thank you all for all of advices!

On 2015-4月-02 木 10:16:35, HKOBA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; Thank you for your deep inspection of my code and detailed great
&gt; explanation about this perl5.21.x change!
&gt; I will fix YATT and YATT::Lite.
&gt; 
&gt; Thank you!!
&gt; 
&gt; hkoba.
&gt; 
&gt; 
&gt; 2015-04-02 9:58 GMT+09:00 TONYC via RT &lt;bug-YATT@rt.cpan.org&gt;:
<div class="message-stanza open">&gt; &gt; Queue: YATT
&gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95311">https://rt.cpan.org/Ticket/Display.html?id=95311</a></span> &gt;
&gt; &gt;
&gt; &gt; On Fri May 09 03:26:49 2014, HKOBA wrote:
<div class="message-stanza open">&gt; &gt;&gt; Hi,
&gt; &gt;&gt;
&gt; &gt;&gt; May I ask you about current status of following patch?
&gt; &gt;&gt;
&gt; &gt;&gt; * smoke-me/avar/rv-fix-79908
&gt; &gt;&gt; 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4
&gt; &gt;&gt;
&gt; &gt;&gt; Is above patch judged to go into mainline? or Is it rejected?
&gt; &gt;&gt;
&gt; &gt;&gt; Do I still need to change YATT to solve this ticket #95311 ?
</div>&gt; &gt;
&gt; &gt; You still need to modify YATT.
&gt; &gt;
&gt; &gt; The behaviour has changed in 5.21.x, the following code:
&gt; &gt;
&gt; &gt; my $value = ...;
&gt; &gt; *foo = sub &#40;&#41; { $value };
&gt; &gt;
&gt; &gt; will generate a constant, but if you do anything with the value
&gt; &gt; variable that
&gt; &gt; *might* modify it a constant will not be generated, so for instance
&gt; &gt; with your:
&gt; &gt;
&gt; &gt; sub make_type_alias {
&gt; &gt;  my $callpack = caller;
&gt; &gt;  foreach my $name &#40;@_&#41; {
&gt; &gt;    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt; &gt;    {
&gt; &gt;      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt; &gt;    }
&gt; &gt;    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$fullname};
&gt; &gt;  }
&gt; &gt; }
&gt; &gt;
&gt; &gt; the reference to $fullname in:
&gt; &gt;
&gt; &gt; globref&#40;$fullname&#41;
&gt; &gt;
&gt; &gt; will prevent a const sub from being created, since globref&#40;&#41; could
&gt; &gt; potentially
&gt; &gt; modify $fullname, or create a reference to it for later modification.
&gt; &gt;
&gt; &gt; This can be fixed by making sure the only use of the variable used
&gt; &gt; for the
&gt; &gt; constant is in its initialization, so make_type_alias&#40;&#41; becomes:
&gt; &gt;
&gt; &gt; sub make_type_alias {
&gt; &gt;  my $callpack = caller;
&gt; &gt;  foreach my $name &#40;@_&#41; {
&gt; &gt;    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt; &gt;    {
&gt; &gt;      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt; &gt;    }
&gt; &gt;    my $const_value = $fullname;
&gt; &gt;    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$const_value};
&gt; &gt;  }
&gt; &gt; }
&gt; &gt;
&gt; &gt; which allows your tests to pass:
&gt; &gt;
&gt; &gt; $ ./perl -Ilib ../yatt-issue-sample.pl
&gt; &gt; ok 1 - use of constant sub
&gt; &gt; ok 2 - no error
&gt; &gt; ok 3 - use of constant sub for my Dog $spot
&gt; &gt; ok 4 - no error
&gt; &gt; ok 5 - use of constant sub for my Dog $spot
&gt; &gt; ok 6 - no error
&gt; &gt; 1..6
&gt; &gt;
&gt; &gt; Note that declaring the variable and then setting it:
&gt; &gt;
&gt; &gt; my $value;
&gt; &gt; $value = ...;
&gt; &gt; *foo = sub &#40;&#41; { $value };
&gt; &gt;
&gt; &gt; won&#39;t result in a constant, see:
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54">http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54</a></span>
&gt; &gt;
&gt; &gt; for the full details.
&gt; &gt;
&gt; &gt; You asked:
&gt; &gt;
<div class="message-stanza open">&gt; &gt;&gt; 1. Why this change is required.
</div>&gt; &gt;
&gt; &gt; See <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=79908">https://rt.perl.org/Ticket/Display.html?id=79908</a></span> for the details,
&gt; &gt; but as a
&gt; &gt; summary, the problem was that:
&gt; &gt;
&gt; &gt; sub &#40;&#41; { $foo }
&gt; &gt;
&gt; &gt; and
&gt; &gt;
&gt; &gt; sub &#40;&#41; { return $foo }
&gt; &gt;
&gt; &gt; could behave differently with the old implementation, if $foo was
&gt; &gt; modified somewhere.
&gt; &gt;
&gt; &gt; The behaviour was documented, but if you didn&#39;t know about the non-
&gt; &gt; intuitive behaviour
&gt; &gt; it could be confusing.
&gt; &gt;
&gt; &gt; With the change only subs that where the variable can&#39;t be modified
&gt; &gt; will be inlined,
&gt; &gt; meaning the behaviour wouldn&#39;t change with the inlining optimization.
&gt; &gt;
&gt; &gt; Tony
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483999" href="/Public/Bug/Display.html?id=95311#txn-1483999">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;11&nbsp;20:32:27&nbsp;2015</span>
    <span class="description">hkoba [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1484000" href="/Public/Bug/Display.html?id=95311#txn-1484000">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;11&nbsp;20:32:28&nbsp;2015</span>
    <span class="description">hkoba [...] cpan.org -  Fixed in 0.0_9 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1553785" href="/Public/Bug/Display.html?id=95311#txn-1553785">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;07&nbsp;05:06:08&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1553785/829431/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/829431">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The most recent devel version looks better wrt perl 5.21.x and newer, so maybe a new stable release could be done out of it? Test overview: <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=YATT%200.0_9">http://matrix.cpantesters.org/?dist=YATT%200.0_9</a></span>

On 2015-04-11 20:32:26, HKOBA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I hope this is fixed! Thank you all for all of advices!
&gt; 
&gt; On 2015-4月-02 木 10:16:35, HKOBA wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; Thank you for your deep inspection of my code and detailed great
&gt; &gt; explanation about this perl5.21.x change!
&gt; &gt; I will fix YATT and YATT::Lite.
&gt; &gt; 
&gt; &gt; Thank you!!
&gt; &gt; 
&gt; &gt; hkoba.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 2015-04-02 9:58 GMT+09:00 TONYC via RT &lt;bug-YATT@rt.cpan.org&gt;:
<div class="message-stanza open">&gt; &gt; &gt; Queue: YATT
&gt; &gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95311">https://rt.cpan.org/Ticket/Display.html?id=95311</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On Fri May 09 03:26:49 2014, HKOBA wrote:
<div class="message-stanza open">&gt; &gt; &gt;&gt; Hi,
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt; May I ask you about current status of following patch?
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt; * smoke-me/avar/rv-fix-79908
&gt; &gt; &gt;&gt; 45558e2060d49c463cdc10e07f8ff1c8e5d72cd4
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt; Is above patch judged to go into mainline? or Is it rejected?
&gt; &gt; &gt;&gt;
&gt; &gt; &gt;&gt; Do I still need to change YATT to solve this ticket #95311 ?
</div>&gt; &gt; &gt;
&gt; &gt; &gt; You still need to modify YATT.
&gt; &gt; &gt;
&gt; &gt; &gt; The behaviour has changed in 5.21.x, the following code:
&gt; &gt; &gt;
&gt; &gt; &gt; my $value = ...;
&gt; &gt; &gt; *foo = sub &#40;&#41; { $value };
&gt; &gt; &gt;
&gt; &gt; &gt; will generate a constant, but if you do anything with the value
&gt; &gt; &gt; variable that
&gt; &gt; &gt; *might* modify it a constant will not be generated, so for instance
&gt; &gt; &gt; with your:
&gt; &gt; &gt;
&gt; &gt; &gt; sub make_type_alias {
&gt; &gt; &gt;  my $callpack = caller;
&gt; &gt; &gt;  foreach my $name &#40;@_&#41; {
&gt; &gt; &gt;    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt; &gt; &gt;    {
&gt; &gt; &gt;      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt; &gt; &gt;    }
&gt; &gt; &gt;    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$fullname};
&gt; &gt; &gt;  }
&gt; &gt; &gt; }
&gt; &gt; &gt;
&gt; &gt; &gt; the reference to $fullname in:
&gt; &gt; &gt;
&gt; &gt; &gt; globref&#40;$fullname&#41;
&gt; &gt; &gt;
&gt; &gt; &gt; will prevent a const sub from being created, since globref&#40;&#41; could
&gt; &gt; &gt; potentially
&gt; &gt; &gt; modify $fullname, or create a reference to it for later modification.
&gt; &gt; &gt;
&gt; &gt; &gt; This can be fixed by making sure the only use of the variable used
&gt; &gt; &gt; for the
&gt; &gt; &gt; constant is in its initialization, so make_type_alias&#40;&#41; becomes:
&gt; &gt; &gt;
&gt; &gt; &gt; sub make_type_alias {
&gt; &gt; &gt;  my $callpack = caller;
&gt; &gt; &gt;  foreach my $name &#40;@_&#41; {
&gt; &gt; &gt;    my $fullname = join&#40;&#34;::&#34;, $callpack, $name&#41;;
&gt; &gt; &gt;    {
&gt; &gt; &gt;      local $@; eval &#34;package $fullname&#34;; die $@ if $@;
&gt; &gt; &gt;    }
&gt; &gt; &gt;    my $const_value = $fullname;
&gt; &gt; &gt;    *{globref&#40;$fullname&#41;} = sub &#40;&#41; {$const_value};
&gt; &gt; &gt;  }
&gt; &gt; &gt; }
&gt; &gt; &gt;
&gt; &gt; &gt; which allows your tests to pass:
&gt; &gt; &gt;
&gt; &gt; &gt; $ ./perl -Ilib ../yatt-issue-sample.pl
&gt; &gt; &gt; ok 1 - use of constant sub
&gt; &gt; &gt; ok 2 - no error
&gt; &gt; &gt; ok 3 - use of constant sub for my Dog $spot
&gt; &gt; &gt; ok 4 - no error
&gt; &gt; &gt; ok 5 - use of constant sub for my Dog $spot
&gt; &gt; &gt; ok 6 - no error
&gt; &gt; &gt; 1..6
&gt; &gt; &gt;
&gt; &gt; &gt; Note that declaring the variable and then setting it:
&gt; &gt; &gt;
&gt; &gt; &gt; my $value;
&gt; &gt; &gt; $value = ...;
&gt; &gt; &gt; *foo = sub &#40;&#41; { $value };
&gt; &gt; &gt;
&gt; &gt; &gt; won&#39;t result in a constant, see:
&gt; &gt; &gt;
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54">http://perl5.git.perl.org/perl.git/blob/v5.21.6:/pod/perldelta.pod#l54</a></span>
&gt; &gt; &gt;
&gt; &gt; &gt; for the full details.
&gt; &gt; &gt;
&gt; &gt; &gt; You asked:
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt;&gt; 1. Why this change is required.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; See <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=79908">https://rt.perl.org/Ticket/Display.html?id=79908</a></span> for the details,
&gt; &gt; &gt; but as a
&gt; &gt; &gt; summary, the problem was that:
&gt; &gt; &gt;
&gt; &gt; &gt; sub &#40;&#41; { $foo }
&gt; &gt; &gt;
&gt; &gt; &gt; and
&gt; &gt; &gt;
&gt; &gt; &gt; sub &#40;&#41; { return $foo }
&gt; &gt; &gt;
&gt; &gt; &gt; could behave differently with the old implementation, if $foo was
&gt; &gt; &gt; modified somewhere.
&gt; &gt; &gt;
&gt; &gt; &gt; The behaviour was documented, but if you didn&#39;t know about the non-
&gt; &gt; &gt; intuitive behaviour
&gt; &gt; &gt; it could be confusing.
&gt; &gt; &gt;
&gt; &gt; &gt; With the change only subs that where the variable can&#39;t be modified
&gt; &gt; &gt; will be inlined,
&gt; &gt; &gt; meaning the behaviour wouldn&#39;t change with the inlining optimization.
&gt; &gt; &gt;
&gt; &gt; &gt; Tony
</div></div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.591841</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
