<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #96324 for Finance-Bank-Bankwest: test failures due to inability to find test fixtures</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #96324 for Finance-Bank-Bankwest: test failures due to inability to find test fixtures</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Finance-Bank-Bankwest/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Finance-Bank-Bankwest/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Finance-Bank-Bankwest/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Finance-Bank-Bankwest/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Finance-Bank-Bankwest">Finance-Bank-Bankwest CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>This distribution provides the ability to log into Bankwest's Online Banking service using a Personal Access Number (PAN) and access code, then retrieve information on all accounts associated with that PAN and their transactions.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">96324</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Finance-Bank-Bankwest/Active/">Finance-Bank-Bankwest</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">lxp [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
lxp [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-249584-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.2.6    </td>
  </tr>
  <tr id="CF-249585-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.2.7    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;00:08:57&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test failures due to inability to find test fixtures</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.org/cpan/report/78956120-aeb9-11e3-b273-f2158806f0e4">http://cpantesters.org/cpan/report/78956120-aeb9-11e3-b273-f2158806f0e4</a></span>

Some tests failed with &#34;resource does not exist&#34; errors:

Error GETing file://.../t/fixtures/txn-export.csv?...: File `.../t/fixtures/txn-export.csv?...&#39; does not exist at .../lib/Finance/Bank/Bankwest/Session.pm line 75.

Error GETing file://.../t/fixtures/acct-balances.html?...: File `.../t/fixtures/acct-balances.html?...&#39; does not exist at .../lib/Finance/Bank/Bankwest/SessionFromLogin.pm line 52.

These errors are triggered by this code in LWP::Protocol::file:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/MSCHILLI/libwww-perl-6.06/lib/LWP/Protocol/file.pm#L50">https://metacpan.org/source/MSCHILLI/libwww-perl-6.06/lib/LWP/Protocol/file.pm#L50</a></span>

It seems that an earlier version of this protocol might have treated the
the query string as part of the filename.  This failure doesn&#39;t exist in
LWP::Protocol v6.00.

Since the &#34;file&#34; protocol is only used by the tests, the appropriate fix
seems to be to add a test dependency on the minimum version of LWP::
Protocol::file that GETs the fixtures correctly.

Scanning through occurrences of the word &#34;file&#34; and &#34;query&#34; in the
Changes file for libwww-perl didn&#39;t assist in finding a version
addressing this issue.

The next best step is probably to contact the person responsible for
running the tests showing this failure, and see whether they can
identify the version of libwww-perl that was running at the time.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people DelWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;00:09:19&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor LXP deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;00:09:19&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor pause@barnyard.co.uk added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;00:11:16&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor david@cantrell.org.uk added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;00:22:43&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi David,

Thanks for your CPAN Testers participation, and for helping to improve
the quality of the software available on CPAN.

I&#39;m contacting you regarding a report you submitted for the Finance::
Bank::Bankwest distribution at 2014-03-18T16:22:16Z.  The report is
located here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://cpantesters.org/cpan/report/78956120-aeb9-11e3-b273-f2158806f0e4">http://cpantesters.org/cpan/report/78956120-aeb9-11e3-b273-f2158806f0e4</a></span>

but in short, it shows test failures that at this stage I suspect are
caused by an older version of libwww-perl &#40;LWP&#41;.

I&#39;d like to identify the minimum version of LWP needed for the tests to
pass, and knowing what version of LWP was installed on your system when
this test occurred would assist me.

Unfortunately, since my distribution doesn&#39;t directly depend on LWP, the
report doesn&#39;t provide me with this information.

Are you able to advise me of the LWP version installed at the time of
this test?

Thanks for your time and attention.

-- 
Kind regards,
Alex Peters
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:37:48&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi David,

On Sun Jun 08 14:22:43 2014, LXP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Are you able to advise me of the LWP version installed at the time of
&gt; this test?
</div>
Please disregard my earlier request; I&#39;ve found the offending code in
URI::file, not LWP.

-- 
Kind regards,
Alex Peters
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people DelWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:38:14&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor pause@barnyard.co.uk deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people DelWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:38:15&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor david@cantrell.org.uk deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:38:15&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Requestor LXP added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:46:44&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jun 08 14:08:57 2014, LXP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It seems that an earlier version of this protocol might have treated
&gt; the query string as part of the filename.  This failure doesn&#39;t exist
&gt; in LWP::Protocol v6.00.
&gt; 
&gt; Since the &#34;file&#34; protocol is only used by the tests, the appropriate
&gt; fix seems to be to add a test dependency on the minimum version of
&gt; LWP::Protocol::file that GETs the fixtures correctly.
</div>
I&#39;ve identified that the problem is actually caused by an old version of
URI::file, not LWP::Protocol::file.

Release 1.55 of the URI distribution includes the relevant fix:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/changes/distribution/URI#L88">https://metacpan.org/changes/distribution/URI#L88</a></span>

Annoyingly though, URI::file&#39;s version number wasn&#39;t bumped at the same
time.  The minimum version containing this fix is 4.21.

Requiring URI::file v4.21 in the test code should solve this problem.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;05:47:30&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Reference to https://metacpan.org/changes/distribution/URI#L88 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;10:30:59&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;08&nbsp;10:30:59&nbsp;2014</span>
    <span class="description">lxp [...] cpan.org -  Fixed in 1.2.7 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
