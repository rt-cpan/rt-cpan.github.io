<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #41824 for Net-Twitter: Detailed return value</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #41824 for Net-Twitter: Detailed return value</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-Twitter/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-Twitter/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-Twitter/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-Twitter/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://github.com/semifor/Net-Twitter/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-Twitter">Net-Twitter CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">41824</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-Twitter/Active/">Net-Twitter</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">cthom [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jtpdgd [...] aol.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-42694-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.21    </td>
  </tr>
  <tr id="CF-42695-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;08:17:07&nbsp;2008</span>
    <span class="description">jtpdgd [...] aol.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Detailed return value</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think it is more comfortable for a Net::Twitter user that if it return
more detailed information.

As you know, create_friend method returns JSON objects if successfully
making friends with or undef if not. But in some situation, users wants
to know reasons for failure. And, original Twitter API returns the
reasons via JSON objects.

The same may be said for other methods. So, it might be better to return
JSON object directly if is_success is true or not, and leave an error
judgement up to a user-implemented-error-parser.

Thank you for reading.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;08:45:49&nbsp;2008</span>
    <span class="description">cthom [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;08:53:04&nbsp;2008</span>
    <span class="description">cthom [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Other than the &#34;relationship_exists&#34; and &#34;test&#34; methods, every
Net::Twitter method takes whatever twitter returns and tries to convert
the JSON into a hashref, which it returns.

If twitter does not return anything, the JSON::Any module will convert
&#34;nothing&#34; into undef, which Net::Twitter returns to the caller.

There&#39;s no point at which Net::Twitter is NOT returning the maximum
information as returned by twitter. It does not detect and error and
discard that information and choose to return undef on its own.

Basically, if you get undef returned, it&#39;s because twitter didn&#39;t return
anything. If twitter returned something, you&#39;d have gotten it back in a
hashref.

In the event you get an undef, the only extra information available to
you is the HTTP code and the message that was returned. You can see
these with the http_code and http_message methods.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;08:53:05&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;08:53:05&nbsp;2008</span>
    <span class="description">cthom [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;22:39:07&nbsp;2008</span>
    <span class="description">jtpdgd [...] aim.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> jtpdgd [...] aim.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #41824] Resolved: Detailed return value </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 20 Dec 2008 12:38:32 +0900</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-Twitter [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;AYANOKOUZI, Ryuunosuke&#34; &lt;jtpdgd [...] aim.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
とりあえずてすとでもしてみるかな。
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;22:39:07&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;20&nbsp;00:38:35&nbsp;2008</span>
    <span class="description">jtpdgd [...] aim.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> jtpdgd [...] aim.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #41824] Resolved: Detailed return value </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 20 Dec 2008 14:38:11 +0900</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-Twitter [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;AYANOKOUZI, Ryuunosuke&#34; &lt;jtpdgd [...] aim.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for your suggestion.

It is true that referring not only $twit-&gt;create_friend&#40;&#41; but also $twit-&gt;http_code and $twit-&gt;http_messages methods is also enough to judge that $twit-&gt;create_friend operation is success or failure.

But, don&#39;t you think some of the users want to know the reason why 2xx code is not responded&#40;blocked, 2000 over, etc.&#41;. For now, users never get an information of http header and body, unless 2xx code is responded. And, in some situations of failure, http body contains more detailed information of failure than http response codes. 

For example, it seems to be 5 error cases responding &#34;403 Forbidden&#34;.

1. You have been blocked from following this account at the request of the user.
2. You are unable to follow more people. Please read about our following limits
3. You&#39;ve already requested to follow user.
4. User not found.
5. User is already on your list.

If these errors are responded, users can recognize $twit-&gt;create_friend&#40;&#41; is faild but never know the reason of failure. Because $twit-&gt;create_friend&#40;&#41; and $twit never contain information of http body;

I have ran bellow test code, and sniffed packets. For each 5 error cases, request and response http packets are also shown bellow. Dumped $twit-&gt;create_friend&#40;&#41; is always undef. And unfortunately, $twit have not contain any information the reason of failure.

I think for some users, at least for me, the reason of failure is important information. I would appreciate if you could take my opinion into consideration.

Thank you for reading.

TEST CODE

#!/usr/bin/perl -w
use strict;
use warnings;

use Data::Dumper;
use Net::Twitter;

my $twit = Net::Twitter-&gt;new&#40;
    username  =&gt; &#39;********&#39;,
    password  =&gt; &#39;********&#39;,
&#41;;
my $args = {
    id =&gt; &#39;********&#39;,
    follow =&gt; 1,
};
my $res = $twit-&gt;create_friend&#40;$args&#41;;
print &#38;Dumper&#40;$res&#41;;
print &#38;Dumper&#40;$twit&#41;;
exit;

1. You have been blocked from following this account at the request of the user.

REQUEST

POST /friendships/create/********.json HTTP/1.1.
TE: deflate,gzip;q=0.3.
Connection: TE, close.
Authorization: Basic ************************.
Host: twitter.com.
User-Agent: Net::Twitter/1.21 &#40;PERL&#41;.
Content-Length: 11.
Content-Type: application/x-www-form-urlencoded.
X-Twitter-Client-URL:: <span class="clickylink"><a target="new" rel="nofollow" href="http://x4.net/twitter/meta.xml">http://x4.net/twitter/meta.xml</a></span>.
X-Twitter-Client-Version:: 1.21.
X-Twitter-Client:: Perl Net::Twitter.
.
follow=true

RESPONSE

HTTP/1.1 403 Forbidden.
Date: Fri, 19 Dec 2008 22:29:34 GMT.
Server: hi.
Last-Modified: Fri, 19 Dec 2008 22:29:34 GMT.
Status: 403 Forbidden.
Pragma: no-cache.
Cache-Control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0.
Content-Type: application/json; charset=utf-8.
Content-Length: 161.
Expires: Tue, 31 Mar 1981 05:00:00 GMT.
Set-Cookie: _twitter_sess=****************************************************************************************************************************************************************************************; domain=.twitter.com; path=/.
Vary: Accept-Encoding.
Connection: close.
.
{&#34;request&#34;:&#34;\/friendships\/create\/********.json&#34;,&#34;error&#34;:&#34;Could not follow user: You have been blocked from following this account at the request of the user.&#34;}

2. You are unable to follow more people. Please read about our following limits

REQUEST

POST /friendships/create/*******.json HTTP/1.1.
TE: deflate,gzip;q=0.3.
Connection: TE, close.
Authorization: Basic ************************.
Host: twitter.com.
User-Agent: Net::Twitter/1.21 &#40;PERL&#41;.
Content-Length: 11.
Content-Type: application/x-www-form-urlencoded.
X-Twitter-Client-URL:: <span class="clickylink"><a target="new" rel="nofollow" href="http://x4.net/twitter/meta.xml">http://x4.net/twitter/meta.xml</a></span>.
X-Twitter-Client-Version:: 1.21.
X-Twitter-Client:: Perl Net::Twitter.
.
follow=true

RESPONSE

HTTP/1.1 403 Forbidden.
Date: Fri, 19 Dec 2008 22:39:40 GMT.
Server: hi.
Last-Modified: Fri, 19 Dec 2008 22:39:40 GMT.
Status: 403 Forbidden.
Pragma: no-cache.
Cache-Control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0.
Content-Type: application/json; charset=utf-8.
Content-Length: 232.
Expires: Tue, 31 Mar 1981 05:00:00 GMT.
Set-Cookie: _twitter_sess=****************************************************************************************************************************************************************************************; domain=.twitter.com; path=/.
Vary: Accept-Encoding.
Connection: close.
.
{&#34;request&#34;:&#34;\/friendships\/create\/*******.json&#34;,&#34;error&#34;:&#34;Could not follow user: You are unable to follow more people. Please read about our &lt;a href=\&#34;http:\/\/help.twitter.com\/index.php?pg=kb.page&#38;id=242\&#34;&gt;following limits&lt;\/a&gt;.&#34;}

3. You&#39;ve already requested to follow user.

REQUEST

POST /friendships/create/*******.json HTTP/1.1.
TE: deflate,gzip;q=0.3.
Connection: TE, close.
Authorization: Basic ************************.
Host: twitter.com.
User-Agent: Net::Twitter/1.21 &#40;PERL&#41;.
Content-Length: 11.
Content-Type: application/x-www-form-urlencoded.
X-Twitter-Client-URL:: <span class="clickylink"><a target="new" rel="nofollow" href="http://x4.net/twitter/meta.xml">http://x4.net/twitter/meta.xml</a></span>.
X-Twitter-Client-Version:: 1.21.
X-Twitter-Client:: Perl Net::Twitter.
.
follow=true

RESPONSE

HTTP/1.1 403 Forbidden.
Date: Fri, 19 Dec 2008 22:26:17 GMT.
Server: hi.
Last-Modified: Fri, 19 Dec 2008 22:26:17 GMT.
Status: 403 Forbidden.
Pragma: no-cache.
Cache-Control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0.
Content-Type: application/json; charset=utf-8.
Content-Length: 126.
Expires: Tue, 31 Mar 1981 05:00:00 GMT.
Set-Cookie: _twitter_sess=****************************************************************************************************************************************************************************************; domain=.twitter.com; path=/.
Vary: Accept-Encoding.
Connection: close.
.
{&#34;request&#34;:&#34;\/friendships\/create\/*******.json&#34;,&#34;error&#34;:&#34;Could not follow user: You&#39;ve already requested to follow *******.&#34;}

4. User not found.

REQUEST

POST /friendships/create/********.json HTTP/1.1.
TE: deflate,gzip;q=0.3.
Connection: TE, close.
Authorization: Basic ************************.
Host: twitter.com.
User-Agent: Net::Twitter/1.21 &#40;PERL&#41;.
Content-Length: 11.
Content-Type: application/x-www-form-urlencoded.
X-Twitter-Client-URL:: <span class="clickylink"><a target="new" rel="nofollow" href="http://x4.net/twitter/meta.xml">http://x4.net/twitter/meta.xml</a></span>.
X-Twitter-Client-Version:: 1.21.
X-Twitter-Client:: Perl Net::Twitter.
.
follow=true

RESPONSE

HTTP/1.1 403 Forbidden.
Date: Fri, 19 Dec 2008 22:21:20 GMT.
Server: hi.
Last-Modified: Fri, 19 Dec 2008 22:21:20 GMT.
Status: 403 Forbidden.
Pragma: no-cache.
Cache-Control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0.
Content-Type: application/json; charset=utf-8.
Content-Length: 99.
Expires: Tue, 31 Mar 1981 05:00:00 GMT.
Set-Cookie: _twitter_sess=****************************************************************************************************************************************************************************************; domain=.twitter.com; path=/.
Vary: Accept-Encoding.
Connection: close.
.
{&#34;request&#34;:&#34;\/friendships\/create\/********.json&#34;,&#34;error&#34;:&#34;Could not follow user: User not found.&#34;}

5. User is already on your list.

REQUEST

POST /friendships/create/********.json HTTP/1.1.
TE: deflate,gzip;q=0.3.
Connection: TE, close.
Authorization: Basic ************************.
Host: twitter.com.
User-Agent: Net::Twitter/1.21 &#40;PERL&#41;.
Content-Length: 11.
Content-Type: application/x-www-form-urlencoded.
X-Twitter-Client-URL:: <span class="clickylink"><a target="new" rel="nofollow" href="http://x4.net/twitter/meta.xml">http://x4.net/twitter/meta.xml</a></span>.
X-Twitter-Client-Version:: 1.21.
X-Twitter-Client:: Perl Net::Twitter.
.
follow=true

RESPONSE

HTTP/1.1 403 Forbidden.
Date: Fri, 19 Dec 2008 22:11:39 GMT.
Server: hi.
Last-Modified: Fri, 19 Dec 2008 22:11:39 GMT.
Status: 403 Forbidden.
Pragma: no-cache.
Cache-Control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0.
Content-Type: application/json; charset=utf-8.
Content-Length: 117.
Expires: Tue, 31 Mar 1981 05:00:00 GMT.
Set-Cookie: _twitter_sess=****************************************************************************************************************************************************************************************; domain=.twitter.com; path=/.
Vary: Accept-Encoding.
Connection: close.
.
{&#34;request&#34;:&#34;\/friendships\/create\/********.json&#34;,&#34;error&#34;:&#34;Could not follow user: ******** is already on your list.&#34;}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;22&nbsp;12:18:32&nbsp;2008</span>
    <span class="description">cthom [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was all set to tell you that you were wrong, and then looked at my
code and realized that each method was, in fact, discarding the error
JSON. My fault entirely, I hadn&#39;t really looked at it in a long time.

I&#39;ve made a change in HEAD:

<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/ct/net-twitter/commit/43b7c86b622584a6272f5ba75e2451ad592e6ab5">http://github.com/ct/net-twitter/commit/43b7c86b622584a6272f5ba75e2451ad592e6ab5</a></span>

It&#39;ll be in 1.22. I need to do some more cleanup, so it should be
released shortly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;22&nbsp;12:18:33&nbsp;2008</span>
    <span class="description">cthom [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
