<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #83078 for Net-DNS: Resolver 0.69 and newer fails to load non-existant linux.pm file</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #83078 for Net-DNS: Resolver 0.69 and newer fails to load non-existant linux.pm file</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-DNS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-DNS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-DNS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-DNS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">83078</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-DNS">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
steveocepek [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
cpan [...] barely3am.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=83078">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1176458" href="/Public/Bug/Display.html?id=83078#txn-1176458">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;31&nbsp;18:07:32&nbsp;2013</span>
    <span class="description">steveocepek [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Resolver 0.69 and newer fails to load non-existant linux.pm file</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 31 Jan 2013 18:07:23 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steve Ocepek &lt;steveocepek [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1176458/620537/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/620537">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 262b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Net::DNS::Resolver does this at line 33:

eval &#34;require Net::DNS::Resolver::$_;&#34;;


$_ is $^O which is &#34;linux&#34; on Linux distros, which causes an error.
0.68 and older don&#39;t do this, that code uses $^O for MSWin32/cygwin,
then falls back to UNIX.pm as a default.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1176458/620538/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/620538">with headers</a>
<br />
<span class="downloadcontenttype">text/html 810b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1176613" href="/Public/Bug/Display.html?id=83078#txn-1176613">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;01&nbsp;07:01:50&nbsp;2013</span>
    <span class="description">cpan [...] barely3am.com -  Cc SAXJAZMAN added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1179314" href="/Public/Bug/Display.html?id=83078#txn-1179314">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;09&nbsp;06:20:29&nbsp;2013</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1179314/622127/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/622127">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 401b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 31 18:07:32 2013, steveocepek@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Net::DNS::Resolver does this at line 33:
&gt; 
&gt; eval &#34;require Net::DNS::Resolver::$_;&#34;;
&gt; 
&gt; 
&gt; $_ is $^O which is &#34;linux&#34; on Linux distros, which causes an error.
&gt; 0.68 and older don&#39;t do this, that code uses $^O for MSWin32/cygwin,
&gt; then falls back to UNIX.pm as a default.
</div>
How does this cause a problem?

Error message text?

Platform?
 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1179317" href="/Public/Bug/Display.html?id=83078#txn-1179317">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;09&nbsp;06:20:33&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1183453" href="/Public/Bug/Display.html?id=83078#txn-1183453">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;20&nbsp;11:07:54&nbsp;2013</span>
    <span class="description">steveocepek [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #83078] Resolver 0.69 and newer fails to load non-existant linux.pm file</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 20 Feb 2013 11:07:35 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steve Ocepek &lt;steveocepek [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1183453/624392/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/624392">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1000b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Problem: the require fails, stops program execution

Error:
Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains: /etc/perl
/usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5
/usr/share/perl5 /usr/lib/perl/5.14 /usr/share/perl/5.14
/usr/local/lib/site_perl .&#41; at &#40;eval 172&#41; line 1.

Platform:
Ubuntu 12.10, 12.04
Imagine it affects other Linux distros as well due to use of $^O in eval
statement


On Sat, Feb 9, 2013 at 6:20 AM, Dick Franks via RT
&lt;bug-Net-DNS@rt.cpan.org&gt;wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=83078">https://rt.cpan.org/Ticket/Display.html?id=83078</a></span> &gt;
&gt;
&gt; On Thu Jan 31 18:07:32 2013, steveocepek@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Net::DNS::Resolver does this at line 33:
&gt; &gt;
&gt; &gt; eval &#34;require Net::DNS::Resolver::$_;&#34;;
&gt; &gt;
&gt; &gt;
&gt; &gt; $_ is $^O which is &#34;linux&#34; on Linux distros, which causes an error.
&gt; &gt; 0.68 and older don&#39;t do this, that code uses $^O for MSWin32/cygwin,
&gt; &gt; then falls back to UNIX.pm as a default.
</div>&gt;
&gt; How does this cause a problem?
&gt;
&gt; Error message text?
&gt;
&gt; Platform?
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1183453/624393/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/624393">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1185589" href="/Public/Bug/Display.html?id=83078#txn-1185589">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;25&nbsp;15:10:16&nbsp;2013</span>
    <span class="description">crawford [...] dcrawford.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1185589/625436/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/625436">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 330b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Broken on Debian as well.


Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains: /opt/cif/bin/../local/lib 
/opt/cif/bin/../lib /etc/perl /usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 
/usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl 
.&#41; at &#40;eval 1054&#41; line 1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1186099" href="/Public/Bug/Display.html?id=83078#txn-1186099">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;27&nbsp;01:02:51&nbsp;2013</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1186099/625667/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/625667">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
The cpantesters.org database lists 56 PASS and 0 FAIL results for 0.72
on Debian. A further 2000+ PASS results are listed for 0.69+ across a
wide spread of linux and Unix platforms; none of these was hampered by
the absence of linux.pm, sunos.pm or whatever.pm.

There must be something else going on here.

Please can you unpack a clean 0.72 tarball into /tmp, follow the build
instructions and capture the output from &#34;make test&#34;. If the output gets
excessive, you can stop it after 03-rr.t

The test should be run with no non-standard elements in the @INC search
path. The environment variable PERL5LIB should be undefined.



On Mon Feb 25 15:10:16 2013, DCRAWFORD wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Broken on Debian as well.
&gt; 
&gt; 
&gt; Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains:
&gt; /opt/cif/bin/../local/lib
&gt; /opt/cif/bin/../lib /etc/perl /usr/local/lib/perl/5.10.1
&gt; /usr/local/share/perl/5.10.1
&gt; /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10
&gt; /usr/share/perl/5.10 /usr/local/lib/site_perl
&gt; .&#41; at &#40;eval 1054&#41; line 1.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1191127" href="/Public/Bug/Display.html?id=83078#txn-1191127">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;14&nbsp;16:47:04&nbsp;2013</span>
    <span class="description">steveocepek [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #83078] Resolver 0.69 and newer fails to load non-existant linux.pm file</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 14 Mar 2013 16:46:51 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steve Ocepek &lt;steveocepek [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1191127/628436/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/628436">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Indeed I agree there is something else at work here. I did the build as you
recommended and I cannot reproduce the issue. The eval statement still
looks for Net::DNS::Resolver::linux as seen in the debugger:

Net::DNS::Resolver::CODE&#40;0x27ebba8&#41;&#40;&#40;eval
6&#41;[/usr/local/lib/perl/5.14.2/Net/DNS/Resolver.pm:33]:1&#41;:
1:      require Net::DNS::Resolver::linux;

but I realize now that using eval is a trick to avoiding program
interruption when trying to include a module that may or may not exist.
What is strange is that many of us using the CIF project are seeing this
error quite a bit:

<span class="clickylink"><a target="new" rel="nofollow" href="https://groups.google.com/forum/?fromgroups=#!searchin/ci-framework/net::dns::resolver::linux">https://groups.google.com/forum/?fromgroups=#!searchin/ci-framework/net::dns::resolver::linux</a></span>

and it seems to occur in that eval statement that doesn&#39;t produce an error
under normal conditions. For example:

cif@cif lib]$ time /opt/cif/bin/cif_analytic -d -t 8 -m 1250
Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains:
/opt/cif/bin/../local/lib /opt/cif/bin/../lib /usr/local/lib64/perl5
/usr/local/share/perl5 /usr/lib64/perl5/vendor_perl
/usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .&#41; at &#40;eval
150&#41; line 1.

So it could be a bug in a specific perl version that we&#39;re using or maybe
thread-related, but I couldn&#39;t reproduce the error so far by doing the
require inside of a thread. There have been cases where eval&#39;s work
differently when threads are used however:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.perl5.porters/2012/06/msg187631.html">http://www.nntp.perl.org/group/perl.perl5.porters/2012/06/msg187631.html</a></span>


I agree it&#39;s not a coding error, just documenting a few things here in case
it helps someone to locate the exact problem. If the other poster on this
thread could share more details around their use of Net::DNS, that would
also be helpful.

Thanks for looking into this and I&#39;ll let you know if I ever track down the
exact condition that causes the problem.


On Wed, Feb 27, 2013 at 1:02 AM, Dick Franks via RT &lt;bug-Net-DNS@rt.cpan.org
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; wrote:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=83078">https://rt.cpan.org/Ticket/Display.html?id=83078</a></span> &gt;
&gt;
&gt;
&gt; The cpantesters.org database lists 56 PASS and 0 FAIL results for 0.72
&gt; on Debian. A further 2000+ PASS results are listed for 0.69+ across a
&gt; wide spread of linux and Unix platforms; none of these was hampered by
&gt; the absence of linux.pm, sunos.pm or whatever.pm.
&gt;
&gt; There must be something else going on here.
&gt;
&gt; Please can you unpack a clean 0.72 tarball into /tmp, follow the build
&gt; instructions and capture the output from &#34;make test&#34;. If the output gets
&gt; excessive, you can stop it after 03-rr.t
&gt;
&gt; The test should be run with no non-standard elements in the @INC search
&gt; path. The environment variable PERL5LIB should be undefined.
&gt;
&gt;
&gt;
&gt; On Mon Feb 25 15:10:16 2013, DCRAWFORD wrote:
<div class="message-stanza open">&gt; &gt; Broken on Debian as well.
&gt; &gt;
&gt; &gt;
&gt; &gt; Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains:
&gt; &gt; /opt/cif/bin/../local/lib
&gt; &gt; /opt/cif/bin/../lib /etc/perl /usr/local/lib/perl/5.10.1
&gt; &gt; /usr/local/share/perl/5.10.1
&gt; &gt; /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10
&gt; &gt; /usr/share/perl/5.10 /usr/local/lib/site_perl
&gt; &gt; .&#41; at &#40;eval 1054&#41; line 1.
&gt; &gt;
</div>&gt;
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1191127/628437/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/628437">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1259090" href="/Public/Bug/Display.html?id=83078#txn-1259090">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;05&nbsp;22:35:16&nbsp;2013</span>
    <span class="description">marcus [...] mindmined.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marcus [...] mindmined.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1259090/666592/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/666592">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 753b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Had this same thing happen to me, on a Red Hat EL6 system, using Perlbrew and Carton for installations:

Can&#39;t locate Net/DNS/Resolver/linux.pm in @INC &#40;@INC contains: . local/lib/perl5/x86_64-linux-thread-multi local/lib/perl5 IX/local/lib/perl5/x86_64-linux-thread-multi IX/local/lib/perl5 IX Local RGraph Remedy /usr/local/bin/perl5/perls/perl-5.10.1/lib/5.10.1/x86_64-linux-thread-multi /usr/local/bin/perl5/perls/perl-5.10.1/lib/5.10.1 /usr/local/bin/perl5/perls/perl-5.10.1/lib/site_perl/5.10.1/x86_64-linux-thread-multi /usr/local/bin/perl5/perls/perl-5.10.1/lib/site_perl/5.10.1&#41; at &#40;eval 96&#41;

Copying UNIX.pm to a new linux.pm and changing the first line in linux.pm to:

    package Net::DNS::Resolver::linux;

... resolved the problem for me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1261685" href="/Public/Bug/Display.html?id=83078#txn-1261685">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;15:31:14&nbsp;2013</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1261685/668009/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/668009">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Steve,

On Thu Mar 14 16:47:04 2013, steveocepek@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Indeed I agree there is something else at work here. I did the build
&gt; as you
&gt; recommended and I cannot reproduce the issue.
</div>
Thanks

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The eval statement still
&gt; looks for Net::DNS::Resolver::linux as seen in the debugger:
</div>
The eval{ require something; } idiom is widely used to load code
which may or may not be installed.
The &#34;linux&#34; part comes from Perl&#39;s idea about the platform it is
running on. Linux is much like Unix, so nothing needs be done.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div>
As the failure involves a 2 line code fragment, which one might
expect to be too small to have any interesting behaviour, the only
mechanism I can think of which might break it, is to speculate that
the $@ variable is getting destroyed by another thread in between
the inside of eval where it is set and the test for error.

I would have expected $@ to be local to each thread, otherwise the
construct is inherently unsafe.

As there are Perl revisions out there which exhibit this failing,
we will need to write it out of the code.

Dick 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1287468" href="/Public/Bug/Display.html?id=83078#txn-1287468">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;13&nbsp;09:31:13&nbsp;2013</span>
    <span class="description">NLNETLABS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1287468/682231/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/682231">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 42b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is fixed in the upcoming 0.73 release
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1287471" href="/Public/Bug/Display.html?id=83078#txn-1287471">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;13&nbsp;09:31:15&nbsp;2013</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.777558</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
