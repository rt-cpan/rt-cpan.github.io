<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79778 for HTML-WikiConverter-PmWiki: &lt;img&gt; conversions do not leave space after inserting src</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79778 for HTML-WikiConverter-PmWiki: &lt;img&gt; conversions do not leave space after inserting src</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=HTML-WikiConverter-PmWiki">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=HTML-WikiConverter-PmWiki">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=HTML-WikiConverter-PmWiki">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=HTML-WikiConverter-PmWiki">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTML-WikiConverter-PmWiki">HTML-WikiConverter-PmWiki CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79778</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=HTML-WikiConverter-PmWiki">HTML-WikiConverter-PmWiki</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
tamara [...] tamaratemple.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=79778">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122061" href="/Public/Bug/Display.html?id=79778#txn-1122061">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;07:19:11&nbsp;2012</span>
    <span class="description">tamara [...] tamaratemple.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &lt;img&gt; conversions do not leave space after inserting src</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 06:18:57 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-WikiConverter-PmWiki [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tamara Temple &lt;tamara [...] tamaratemple.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122061/590310/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590310">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The conversion of img tags inserts the src attribute, but if the img  
tag butts up against whatever comes before or after, no space is  
inserted, which renders the image unusable without further editing.

Patch:

152c152
&lt;   return $node-&gt;attr&#40;&#39;src&#39;&#41; || &#39;&#39;;
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   return &#39; &#39; . &#40;$node-&gt;attr&#40;&#39;src&#39;&#41; || &#39;&#39;&#41; . &#39; &#39; ;
</div>

Example:

HTML input: testfiles/wctest.html:
&lt;p&gt;This is how the&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;butts up  
on both sides.&lt;/p&gt;
&lt;p&gt;This is how the&lt;img&gt;butts up if no src attribute is given&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;This is how it goes at  
the beginning of the line.&lt;/p&gt;
&lt;p&gt;This is how it goes at the end of the line&lt;img  
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;&lt;/p&gt;

Before patch applied:

$ perl -MHTML::WikiConverter -e &#39;@in = &lt;STDIN&gt;;$html =  
join&#40;&#34;&#34;,@in&#41;;$wc=new  
HTML::WikiConverter&#40;dialect=&gt;&#34;PmWiki2&#34;&#41;;printf&#40;&#34;%s\n\n&#34;,  
$wc-&gt;html2wiki&#40;$html&#41;&#41;;&#39; &lt; testfiles/wctest.html
This is how the<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> butts up on both sides.

This is how the butts up if no src attribute is given

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> This is how it goes at the beginning  
of the line.

This is how it goes at the end of the line<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>

After patch applied:

$ perl -MHTML::WikiConverter -e &#39;@in = &lt;STDIN&gt;;$html =  
join&#40;&#34;&#34;,@in&#41;;$wc=new  
HTML::WikiConverter&#40;dialect=&gt;&#34;PmWiki2&#34;&#41;;printf&#40;&#34;%s\n\n&#34;,  
$wc-&gt;html2wiki&#40;$html&#41;&#41;;&#39; &lt; testfiles/wctest.html
This is how the <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> butts up on both sides.

This is how the  butts up if no src attribute is given

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> This is how it goes at the beginning  
of the line.

This is how it goes at the end of the line <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>



Perl version: v5.10.1
Linux version: Linux caesar 2.6.38-15-generic #66-Ubuntu SMP Tue Aug  
14 17:25:35 UTC 2012 i686 i686 i386 GNU/Linux

Module id = HTML::WikiConverter::PmWiki
     CPAN_USERID  DIBERRI &#40;David Iberri &lt;diberri@cpan.org&gt;&#41;
     CPAN_VERSION 0.51
     CPAN_FILE    D/DI/DIBERRI/HTML-WikiConverter-PmWiki-0.51.tar.gz
     MANPAGE      HTML::WikiConverter::PmWiki - Convert HTML to PmWiki markup
     INST_FILE    /usr/local/share/perl/5.10.1/HTML/WikiConverter/PmWiki.pm
     INST_VERSION 0.51






-- 
Tamara Temple
     aka tamouse__

&#34;May you never see a stranger&#39;s face in the mirror.&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1122165" href="/Public/Bug/Display.html?id=79778#txn-1122165">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;21&nbsp;13:23:02&nbsp;2012</span>
    <span class="description">tamara [...] tamaratemple.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79778] AutoReply: &lt;img&gt; conversions do not leave space after inserting src</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Sep 2012 12:22:50 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTML-WikiConverter-PmWiki [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tamara Temple &lt;tamara [...] tamaratemple.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1122165/590369/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/590369">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Correction: I pasted the same results for both before and after. The  
actual before results are:

$ perl -MHTML::WikiConverter -e &#39;@in = &lt;STDIN&gt;;$html =  
join&#40;&#34;&#34;,@in&#41;;$wc=new  
HTML::WikiConverter&#40;dialect=&gt;&#34;PmWiki&#34;&#41;;printf&#40;&#34;%s\n\n&#34;,  
$wc-&gt;html2wiki&#40;$html&#41;&#41;;&#39; &lt; testfiles/wctest.html
This is how the<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpgbutts">http://www.example.com/image.jpgbutts</a></span> up on both sides.

This is how thebutts up if no src attribute is given

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpgThis">http://www.example.com/image.jpgThis</a></span> is how it goes at the beginning  
of the line.

This is how it goes at the end of the line<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>





On Fri, 21 Sep 2012 07:19:11 -0400, Bugs in HTML-WikiConverter-PmWiki  
via RT &lt;bug-HTML-WikiConverter-PmWiki@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Greetings,
&gt;
&gt; This message has been automatically generated in response to the
&gt; creation of a trouble ticket regarding:
&gt;       &#34;&lt;img&gt; conversions do not leave space after inserting src&#34;,
&gt; a summary of which appears below.
&gt;
&gt; There is no need to reply to this message right now.  Your ticket has been
&gt; assigned an ID of [rt.cpan.org #79778].  Your ticket is accessible
&gt; on the web at:
&gt;
&gt;     <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79778">https://rt.cpan.org/Ticket/Display.html?id=79778</a></span>
&gt;
&gt; Please include the string:
&gt;
&gt;          [rt.cpan.org #79778]
&gt;
&gt; in the subject line of all future correspondence about this issue. To do so,
&gt; you may reply to this message.
&gt;
&gt;                         Thank you,
&gt;                         bug-HTML-WikiConverter-PmWiki@rt.cpan.org
&gt;
&gt; -------------------------------------------------------------------------
&gt; The conversion of img tags inserts the src attribute, but if the img
&gt; tag butts up against whatever comes before or after, no space is
&gt; inserted, which renders the image unusable without further editing.
&gt;
&gt; Patch:
&gt;
&gt; 152c152
&gt; &lt;   return $node-&gt;attr&#40;&#39;src&#39;&#41; || &#39;&#39;;
&gt; ---
<div class="message-stanza open">&gt;&gt;   return &#39; &#39; . &#40;$node-&gt;attr&#40;&#39;src&#39;&#41; || &#39;&#39;&#41; . &#39; &#39; ;
</div>&gt;
&gt;
&gt; Example:
&gt;
&gt; HTML input: testfiles/wctest.html:
&gt; &lt;p&gt;This is how the&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;butts up
&gt; on both sides.&lt;/p&gt;
&gt; &lt;p&gt;This is how the&lt;img&gt;butts up if no src attribute is given&lt;/p&gt;
&gt; &lt;p&gt;&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;This is how it goes at
&gt; the beginning of the line.&lt;/p&gt;
&gt; &lt;p&gt;This is how it goes at the end of the line&lt;img
&gt; src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>&#34;&gt;&lt;/p&gt;
&gt;
&gt; Before patch applied:
&gt;
&gt; $ perl -MHTML::WikiConverter -e &#39;@in = &lt;STDIN&gt;;$html =
&gt; join&#40;&#34;&#34;,@in&#41;;$wc=new
&gt; HTML::WikiConverter&#40;dialect=&gt;&#34;PmWiki2&#34;&#41;;printf&#40;&#34;%s\n\n&#34;,
&gt; $wc-&gt;html2wiki&#40;$html&#41;&#41;;&#39; &lt; testfiles/wctest.html
&gt; This is how the<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> butts up on both sides.
&gt;
&gt; This is how the butts up if no src attribute is given
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> This is how it goes at the beginning
&gt; of the line.
&gt;
&gt; This is how it goes at the end of the line<span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>
&gt;
&gt; After patch applied:
&gt;
&gt; $ perl -MHTML::WikiConverter -e &#39;@in = &lt;STDIN&gt;;$html =
&gt; join&#40;&#34;&#34;,@in&#41;;$wc=new
&gt; HTML::WikiConverter&#40;dialect=&gt;&#34;PmWiki2&#34;&#41;;printf&#40;&#34;%s\n\n&#34;,
&gt; $wc-&gt;html2wiki&#40;$html&#41;&#41;;&#39; &lt; testfiles/wctest.html
&gt; This is how the <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> butts up on both sides.
&gt;
&gt; This is how the  butts up if no src attribute is given
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span> This is how it goes at the beginning
&gt; of the line.
&gt;
&gt; This is how it goes at the end of the line <span class="clickylink"><a target="new" rel="nofollow" href="http://www.example.com/image.jpg">http://www.example.com/image.jpg</a></span>
&gt;
&gt;
&gt;
&gt; Perl version: v5.10.1
&gt; Linux version: Linux caesar 2.6.38-15-generic #66-Ubuntu SMP Tue Aug
&gt; 14 17:25:35 UTC 2012 i686 i686 i386 GNU/Linux
&gt;
&gt; Module id = HTML::WikiConverter::PmWiki
&gt;      CPAN_USERID  DIBERRI &#40;David Iberri &lt;diberri@cpan.org&gt;&#41;
&gt;      CPAN_VERSION 0.51
&gt;      CPAN_FILE    D/DI/DIBERRI/HTML-WikiConverter-PmWiki-0.51.tar.gz
&gt;      MANPAGE      HTML::WikiConverter::PmWiki - Convert HTML to PmWiki markup
&gt;      INST_FILE    /usr/local/share/perl/5.10.1/HTML/WikiConverter/PmWiki.pm
&gt;      INST_VERSION 0.51
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Tamara Temple
&gt;      aka tamouse__
&gt;
&gt; &#34;May you never see a stranger&#39;s face in the mirror.&#34;
&gt;
&gt;
&gt;
</div>


-- 
Tamara Temple
     aka tamouse__

&#34;May you never see a stranger&#39;s face in the mirror.&#34;
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.248785</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
