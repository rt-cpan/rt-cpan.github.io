<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #103423 for IO-Socket-SSL: IO::Socket::IP and IO::Socket::SSL do not play well together</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #103423 for IO-Socket-SSL: IO::Socket::IP and IO::Socket::SSL do not play well together</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IO-Socket-SSL">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IO-Socket-SSL">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IO-Socket-SSL">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IO-Socket-SSL">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-Socket-SSL">IO-Socket-SSL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">103423</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IO-Socket-SSL">IO-Socket-SSL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
w.phillip.moore [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-17228-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.012    </td>
  </tr>
  <tr id="CF-17229-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=103423">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483337" href="/Public/Bug/Display.html?id=103423#txn-1483337">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;12:44:33&nbsp;2015</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> IO::Socket::IP and IO::Socket::SSL do not play well together</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483337/790285/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790285">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m using the latest IO::Socket::SSL 2.012 with perl 5.20.1, which includes IO::Socket::IP 0.29, and I&#39;ve discovered that if IO::Socket::SSL::connect fails, then the error is never displayed.

I have a rather complex application with uses IO::Socket::SSL with a lot of autogenerated and automanaged SSL certificates, and it started to fail use to what was an issue with how one of the certificates was being created.   However, it took me quite a while to figure this out, because failed calls to IO::Socket::SSL-&gt;new&#40;&#41; were returning undef, and not setting either $! or $@, but instead the very non-standard $SSL_ERROR, which had this value:

IO::Socket::IP configuration failed

In years of developing IO::Socket::SSL apps I had never seen this one before.   I did some digging, and found that the problem is that IO::Socket::IP makes an assumption about IO::Socket::SSL::connect which is not true.  Namely, that if it fails, it will set $!, which I don&#39;t think has ever been true.   The offending code is in IO::Socket::IP::setup

 603      if&#40; defined&#40; my $addr = $info-&gt;{peeraddr} &#41; &#41; {
 604         if&#40; $self-&gt;connect&#40; $addr &#41; &#41; {
 605            $! = 0;
 606            return 1;
 607         }
 608
 609         if&#40; $! == EINPROGRESS or HAVE_MSWIN32 &#38;&#38; $! == Errno::EWOULDBLOCK&#40;&#41; &#41; {
 610            ${*$self}{io_socket_ip_connect_in_progress} = 1;
 611            return 0;
 612         }
 613
 614         ${*$self}{io_socket_ip_errors}[0] = $!;
 615         next;
 616      }

When IO::Socket::SSL::connect fails, $! is an empty string, which is defined, so at the end of the subroutine:

 621   # Pick the most appropriate error, stringified                                                                                           
 622   $! = &#40; grep defined, @{ ${*$self}{io_socket_ip_errors}} &#41;[0];
 623   $@ = &#34;$!&#34;;
 624   return undef;

But that results in both $! and $@ being the empty string, and the real error is lost.   In my case, the real error, found only by stepping through the code in the debugger, is:

SSL connect attempt failed error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed

The root cause of that problem is an issue in my test suite, so I own that.   However, it would really be nice if IO::Socket::SSL and IO::Socket::IP worked together correctly, especially since IO::Socket::SSL prefers IO::Socket::IP it if is available.    IO::Socket::SSL also has no means of controlling which IO::Socket::* class gets used, so users of perl5.20 end up being forced to use IO::Socket::IP.

I&#39;m going to post this in the IO::Socket::SSL queue as well, and hopefully I can get the two authors to collaborate on the best solution.   Personally, I think the fact that IO::Socket::SSL sets a totally non-standard error variable is a serious mistake in that code, since it means that code like IO::Socket::IP has to handle that as a special case.  I think it would be cleanest if IO::Socket::SSL::connect set $!, or $@, in additional to $SSL_ERROR whenever the latter is true.  I haven&#39;t yet chased down why I&#39;m seeing $SSL_ERROR but not $!, so I don&#39;t know if that is expected behavior or not.

Now to figure out why my certs are broken.....
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483341" href="/Public/Bug/Display.html?id=103423#txn-1483341">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;12:45:24&nbsp;2015</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483342" href="/Public/Bug/Display.html?id=103423#txn-1483342">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;12:45:25&nbsp;2015</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Broken in 2.012 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483359" href="/Public/Bug/Display.html?id=103423#txn-1483359">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;13:02:45&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Reference by ticket #103422 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483364" href="/Public/Bug/Display.html?id=103423#txn-1483364">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;13:03:47&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Cc ETHER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483371" href="/Public/Bug/Display.html?id=103423#txn-1483371">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;13:24:03&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483371/790300/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790300">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 503b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">


Am Do 09. Apr 2015, 12:44:33, WPMOORE schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m using the latest IO::Socket::SSL 2.012 with perl 5.20.1, which
&gt; includes IO::Socket::IP 0.29, and I&#39;ve discovered that if
&gt; IO::Socket::SSL::connect fails, then the error is never displayed.
</div>
Please use at least IO::Socket::IP version 0.31 &#40;current version is 0.37&#41;.
As you might see from the Changelog of IO::Socket::IP there were changes made to work better with IO::Socket::SSL.
See also <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=95983">https://rt.cpan.org/Public/Bug/Display.html?id=95983</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483372" href="/Public/Bug/Display.html?id=103423#txn-1483372">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;13:24:03&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483375" href="/Public/Bug/Display.html?id=103423#txn-1483375">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;13:24:05&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483412" href="/Public/Bug/Display.html?id=103423#txn-1483412">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;17:54:55&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483412/790317/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790317">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 647b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-04-09 13:24:03, SULLR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 
&gt; 
&gt; Am Do 09. Apr 2015, 12:44:33, WPMOORE schrieb:
<div class="message-stanza open">&gt; &gt; I&#39;m using the latest IO::Socket::SSL 2.012 with perl 5.20.1, which
&gt; &gt; includes IO::Socket::IP 0.29, and I&#39;ve discovered that if
&gt; &gt; IO::Socket::SSL::connect fails, then the error is never displayed.
</div>&gt; 
&gt; Please use at least IO::Socket::IP version 0.31 &#40;current version is
&gt; 0.37&#41;.
&gt; As you might see from the Changelog of IO::Socket::IP there were
&gt; changes made to work better with IO::Socket::SSL.
&gt; See also <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=95983">https://rt.cpan.org/Public/Bug/Display.html?id=95983</a></span>
</div>
In this case, shouldn&#39;t IO::Socket::SSL&#39;s Makefile.PL specify a minimum version?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483496" href="/Public/Bug/Display.html?id=103423#txn-1483496">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;00:10:14&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483496/790360/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790360">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 528b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In this case, shouldn&#39;t IO::Socket::SSL&#39;s Makefile.PL specify a
&gt; minimum version?
</div>
IO::Socket::SSL does not depend on IO::Socket::IP at all, but will use it if it exists to have IPv6 support.
Thus specifying a minimal version in Makefile.PL will not work. It actually looks at the version when trying to load the module in IO/Socket/SSL.pm and requires at least 0.20 &#40;and excludes the broken 0.30&#41;. It does not require at least 0.31 because lower version mostly work, the only problem is with error propagation on connect.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483528" href="/Public/Bug/Display.html?id=103423#txn-1483528">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;01:37:58&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483528/790381/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790381">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 994b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-04-10 00:10:14, SULLR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; In this case, shouldn&#39;t IO::Socket::SSL&#39;s Makefile.PL specify a
&gt; &gt; minimum version?
</div>&gt; 
&gt; IO::Socket::SSL does not depend on IO::Socket::IP at all, but will use
&gt; it if it exists to have IPv6 support.
&gt; Thus specifying a minimal version in Makefile.PL will not work.
</div>
I thought about doing something like this in Makefile.PL:

    my %additional_PREREQ_PM;
    if &#40;eval { require IO::Socket::IP; $IO::Socket::IP::VERSION &lt; 0.31 }&#41; {
        $additional_PREREQ_PM{&#39;IO::Socket::IP&#39;} = 0.31;
    }

Additionally the IO::Socket::SSL module itself should probably not use IO::Socket::IP if it&#39;s too old.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It
&gt; actually looks at the version when trying to load the module in
&gt; IO/Socket/SSL.pm and requires at least 0.20 &#40;and excludes the broken
&gt; 0.30&#41;. It does not require at least 0.31 because lower version mostly
&gt; work, the only problem is with error propagation on connect.
</div>
Maybe &#34;mostly work&#34; is not enough --- see the existence of this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483623" href="/Public/Bug/Display.html?id=103423#txn-1483623">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;09:33:35&nbsp;2015</span>
    <span class="description">w.phillip.moore [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103423] IO::Socket::IP and IO::Socket::SSL do not play well together</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 Apr 2015 09:33:11 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-IO-Socket-SSL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Phillip Moore &lt;w.phillip.moore [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483623/790434/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790434">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">In this case, the workaround for me was to declare a dependency on
IO::Socket::IP that I don&#39;t really have, in order to force the use of the
newer version, and get my code to work.

I understand why you guys have to add all this insanely complex code in the
Makefile.PL, but I have for decades been opposed to the use of dynamic,
runtime dependency decisions.  When you have no choice I get it
&#40;conditionally depending on modules that only work on Windows, for
example&#41;, but is there any reason you can&#39;t simplify this and just assert
the dependency on IO::Socket::IP?

Right now, you only &#34;see&#34; IO::Socket::IP if you use perl5.20, since that is
the first core that the module appears in.    If someone installs a fresh
perl5.20, and then installs IO::Socket::SSL with cpanp, or one of the
similar tools, they will not upgrade IO::Socket::IP for you, and this means
that the default behavior in a clean 5.20 installation is buggy.    And
BTW, the test suite doesn&#39;t expose this bug &#40;perhaps it should&#41;, so it will
go unnoticed until someone has a connection problem, and they have NO
diagnostics to figure it out.   That makes this bug a tad more severe in my
opinion.

Unless you need to support very old core versions for which IO::Socket::IP
might not work &#40;and I was able to install it cleanly for everything back to
5.16, which is the oldest perl core I currently support&#41;, it seems to me
that asserting the dependency to ensure that installation of
IO::Socket::SSL always gets the latest IO::Socket::IP would be the better
solution.

This lets you remove some significant complexity from the code as well, but
again, this might require dropping support in the newer code for some older
perls, or perhaps older platforms.

Your code, your call....   I can live with my workaround for now.

On Fri, Apr 10, 2015 at 1:37 AM, Slaven_Rezic via RT &lt;
bug-IO-Socket-SSL@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103423">https://rt.cpan.org/Ticket/Display.html?id=103423</a></span> &gt;
&gt;
&gt; On 2015-04-10 00:10:14, SULLR wrote:
<div class="message-stanza open">&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; In this case, shouldn&#39;t IO::Socket::SSL&#39;s Makefile.PL specify a
&gt; &gt; &gt; minimum version?
</div>&gt; &gt;
&gt; &gt; IO::Socket::SSL does not depend on IO::Socket::IP at all, but will use
&gt; &gt; it if it exists to have IPv6 support.
&gt; &gt; Thus specifying a minimal version in Makefile.PL will not work.
</div>&gt;
&gt; I thought about doing something like this in Makefile.PL:
&gt;
&gt;     my %additional_PREREQ_PM;
&gt;     if &#40;eval { require IO::Socket::IP; $IO::Socket::IP::VERSION &lt; 0.31 }&#41; {
&gt;         $additional_PREREQ_PM{&#39;IO::Socket::IP&#39;} = 0.31;
&gt;     }
&gt;
&gt; Additionally the IO::Socket::SSL module itself should probably not use
&gt; IO::Socket::IP if it&#39;s too old.
&gt;
<div class="message-stanza open">&gt; &gt; It
&gt; &gt; actually looks at the version when trying to load the module in
&gt; &gt; IO/Socket/SSL.pm and requires at least 0.20 &#40;and excludes the broken
&gt; &gt; 0.30&#41;. It does not require at least 0.31 because lower version mostly
&gt; &gt; work, the only problem is with error propagation on connect.
</div>&gt;
&gt; Maybe &#34;mostly work&#34; is not enough --- see the existence of this ticket.
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483623/790435/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790435">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3.6k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483626" href="/Public/Bug/Display.html?id=103423#txn-1483626">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;09:56:54&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483626/790438/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790438">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 303b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Fr 10. Apr 2015, 01:37:58, SREZIC schrieb:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I thought about doing something like this in Makefile.PL:
&gt; 
&gt; my %additional_PREREQ_PM;
&gt; if &#40;eval { require IO::Socket::IP; $IO::Socket::IP::VERSION &lt; 0.31 }&#41;
&gt; {
&gt;     $additional_PREREQ_PM{&#39;IO::Socket::IP&#39;} = 0.31;
&gt; }
&gt; 
</div>
That might be a good idea.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483629" href="/Public/Bug/Display.html?id=103423#txn-1483629">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;10:09:30&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483629/790441/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790441">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Fr 10. Apr 2015, 09:33:35, WPMOORE schrieb:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Right now, you only &#34;see&#34; IO::Socket::IP if you use perl5.20, since
&gt; that is
&gt; the first core that the module appears in.    If someone installs a
</div>
Actually you see IO::Socket::IP also if you installed it yourself to get
IPv6 support in earlier versions of Perl. Or you might have installed
IO::Socket::INET6 instead which was the preferred module for IPv6 
before IO::Socket::IP came.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unless you need to support very old core versions for which
&gt; IO::Socket::IP
&gt; might not work &#40;and I was able to install it cleanly for everything
&gt; back to
&gt; 5.16, which is the oldest perl core I currently support&#41;, it seems to
&gt; me
</div>
IO::Socket::SSL supports older Perl versions down to 5.8 and I have
no intention to limit the support in the near future.
This also means that I have to deal with installations not having
any IPv6 support, having IO::Socket::INET6 for IPv6 or having
IO::Socket::IP. I don&#39;t like to enforce use of IO::Socket::IP if
the user has either another working IPv6 module or has no need for
IPv6 at all, because installing IO::Socket::IP requires a lot more
changes in the current installation then the user might like. Especially
it requires a newer Socket version which then needs a compiler to 
install and which might also behave slightly different to the Socket
module coming with the original Perl installation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1483681" href="/Public/Bug/Display.html?id=103423#txn-1483681">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;12:58:50&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1483681/790463/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/790463">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I wonder if this is the problem I&#39;ve been seeing with Test::LWP::UserAgent&#39;s tests:

<span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027">http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027</a></span>

I&#39;ve been meaning to do a re-release that also includes the installed versions of IO::Socket::*, but haven&#39;t yet gotten around to it.  Indeed all the test failures are during making network connections to example.com.

I&#39;m in favour of dynamic prereqs in Makefile.PL when they make sense. I&#39;d much rather have those than have a too-high prereq imposed when it&#39;s *not* actually needed, as that can cause a burden downstream with packagers as well as when juggling large repositories for application deployments &#40;something I&#39;m involved with at $work&#41;.

I&#39;m also in favour of adding a test that explicitly checks for the type of error that can occur when the version combination is bad. Failing earlier would make it a lot easier to figure out what&#39;s going on.

If you know the exact combination of upgrades that needs to occur to resolve this connection issue, can you leave it in this ticket so I can make the appropriate modifications for Test::LWP::UserAgent&#39;s Makefile.PL? much appreciated!!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1492558" href="/Public/Bug/Display.html?id=103423#txn-1492558">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;01&nbsp;11:51:26&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1492558/794867/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/794867">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am Fr 10. Apr 2015, 12:58:50, ETHER schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if this is the problem I&#39;ve been seeing with
&gt; Test::LWP::UserAgent&#39;s tests:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027">http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027</a></span>
&gt; 
&gt; I&#39;ve been meaning to do a re-release that also includes the installed
&gt; versions of IO::Socket::*, but haven&#39;t yet gotten around to it.
&gt; Indeed all the test failures are during making network connections to
&gt; example.com.
</div>
Yes, but they are to example.com:80 already, so no https and thus no IO::Socket::SSL
is involved. For me these tests simply look like a connectivity problem, i.e. somebody
enabling live tests without having the proper environment to do live tests.

I have live tests enabled by default but these are written in a way, that they will 
detect connectivity and other problems &#40;like SSL intercepting firewalls&#41; and skip
the tests in these cases.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m in favour of dynamic prereqs in Makefile.PL when they make sense.
&gt; I&#39;d much rather have those than have a too-high prereq imposed when
&gt; it&#39;s *not* actually needed, as that can cause a burden downstream with
&gt; packagers as well as when juggling large repositories for application
&gt; deployments &#40;something I&#39;m involved with at $work&#41;.
</div>
I though again about it: I think it is not useful to add IO::Socket::IP to
prereq, because either the user has already the correct version or has 
IO::Socket::INET6 or does not need IPv6 support. 

In the just released 2.013 I&#39;ve upped the required version of IO::Socket::IP to 0.31,
but still does not require the module as prerequisite. If the user has this module
not installed or has a lower version IPv6 support will simply not be available.

I&#39;ve also reworked error propagation in 2.013, so that follow-up errors like
&#34;configuration failed&#34; don&#39;t replace more specific errors like &#34;hostname verification
failed&#34;. This should help in solving the original problem too.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1492561" href="/Public/Bug/Display.html?id=103423#txn-1492561">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;01&nbsp;11:53:42&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1492561/794870/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/794870">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 249b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">With 2.013 the issue should hopefully be resolved, i.e. it will use IO::Socket::IP only if at least version 0.31 is installed and it will not replace the original error &#40;&#34;hostname verification failed&#34;&#41; with follow-up errors &#40;&#34;configuration failed&#34;&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1492564" href="/Public/Bug/Display.html?id=103423#txn-1492564">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;01&nbsp;11:53:42&nbsp;2015</span>
    <span class="description">Steffen_Ullrich [...] genua.de -  Status changed from &#39;rejected&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1492635" href="/Public/Bug/Display.html?id=103423#txn-1492635">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;01&nbsp;17:51:30&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1492635/794918/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/794918">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-05-01 08:51:26, SULLR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Am Fr 10. Apr 2015, 12:58:50, ETHER schrieb:
<div class="message-stanza open">&gt; &gt; I wonder if this is the problem I&#39;ve been seeing with
&gt; &gt; Test::LWP::UserAgent&#39;s tests:
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027">http://matrix.cpantesters.org/?dist=Test-LWP-UserAgent+0.027</a></span>
&gt; &gt;
&gt; &gt; I&#39;ve been meaning to do a re-release that also includes the installed
&gt; &gt; versions of IO::Socket::*, but haven&#39;t yet gotten around to it.
&gt; &gt; Indeed all the test failures are during making network connections to
&gt; &gt; example.com.
</div>&gt; 
&gt; Yes, but they are to example.com:80 already, so no https and thus no
&gt; IO::Socket::SSL
&gt; is involved. For me these tests simply look like a connectivity
&gt; problem, i.e. somebody
&gt; enabling live tests without having the proper environment to do live
&gt; tests.
</div>
Agreed!
I&#39;m trying to get in touch with the testers in question, to get them to set
NO_NETWORK_TESTING if they are smoking behind a firewall, but I&#39;m thinking that
the real solution here is to use Test::RequiresInternet &#40;which attempts to make
a connection to the same host, and skips tests if that fails&#41;.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve also reworked error propagation in 2.013, so that follow-up
&gt; errors like
&gt; &#34;configuration failed&#34; don&#39;t replace more specific errors like
&gt; &#34;hostname verification
&gt; failed&#34;. This should help in solving the original problem too.
</div>
Awesome!
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.733443</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
