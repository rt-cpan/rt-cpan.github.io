<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42903 for Test-Weaken: immediate sub-reference not reported</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42903 for Test-Weaken: immediate sub-reference not reported</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Weaken">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Weaken">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Weaken">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Weaken">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Weaken">Test-Weaken CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42903</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Weaken">Test-Weaken</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">jkegl [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
user42 [...] zip.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-45720-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
1.000000</li>
<li>
1.001_000</li>
<li>
1.001_004</li>
<li>
1.002000</li>
</ul>
    </td>
  </tr>
  <tr id="CF-45721-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<ul>
<li>
1.003_004</li>
<li>
2.000000</li>
</ul>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




firstref.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/561349/283449/firstref.pl">
Thu Jan 29 15:11:20 2009 (972b) by user42 [...] zip.com.au
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=42903">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561349" href="/Public/Bug/Display.html?id=42903#txn-561349">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:11:20&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> immediate sub-reference not reported</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Jan 2009 07:09:03 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/561349/283448/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/283448">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 667b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is the bit I mentioned in passing in the other ticket.

With 1.002 the program below shows nothing leaked from the first
example,

    $weaken = [
                0,
                2,
                [],
                []
              ];

where I hoped &#40;if I understand what&#39;s supposed to happen&#41; that the $leak
array [ &#39;abc&#39; ] would be reported as an unfreed component of $obj.

The second shows a [ &#39;ghi&#39; ] sub-component of $leak reported, but not
$leak itself,

    $weaken = [
                0,
                3,
                [],
                [
                  [
                    &#39;ghi&#39;
                  ]
                ]
              ];
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/561349/283449/firstref.pl">Download firstref.pl</a><br />
<span class="downloadcontenttype">text/x-perl 972b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561366" href="/Public/Bug/Display.html?id=42903#txn-561366">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:41:55&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561367" href="/Public/Bug/Display.html?id=42903#txn-561367">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:42:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561368" href="/Public/Bug/Display.html?id=42903#txn-561368">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:43:20&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Broken in 1.000000 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561369" href="/Public/Bug/Display.html?id=42903#txn-561369">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:43:21&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Broken in 1.001_000 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561370" href="/Public/Bug/Display.html?id=42903#txn-561370">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:43:21&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Broken in 1.001_004 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561371" href="/Public/Bug/Display.html?id=42903#txn-561371">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:43:21&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Broken in 1.002000 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561372" href="/Public/Bug/Display.html?id=42903#txn-561372">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:44:12&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561373" href="/Public/Bug/Display.html?id=42903#txn-561373">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:45:15&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/561373/283460/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/283460">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 97b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Since this is an actual bug and the other are features, I&#39;m pushing this
to the head of my queue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-561375" href="/Public/Bug/Display.html?id=42903#txn-561375">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;15:46:45&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/561375/283462/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/283462">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 140b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Make that previous message read:

Since this is an actual bug and the others are feature requests, I&#39;m
pushing this to the head of my queue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-562458" href="/Public/Bug/Display.html?id=42903#txn-562458">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;02&nbsp;14:07:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Status on &#34;immediate subrefence&#34; bug</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/562458/284029/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284029">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 540b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve found the problem, coded the fix, and tested it, but I have yet to
update the documentation.

The fix changes the count of unfreed objects, and their order.  Since
this is a serious change, the new user&#39;s release will be a new major
release, 2.000000.  I think it is a good idea to pair major changes to
the internals with a major change in the interface, so I&#39;m also
including an improved user interface.

The next release will be a developer&#39;s release, with a first draft of
the revised documentation.  I hope to produce this shortly
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-562693" href="/Public/Bug/Display.html?id=42903#txn-562693">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;03&nbsp;00:31:46&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fixed in release 1.003_000, just uploaded</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/562693/284147/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284147">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 573b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve just uploaded 1.003_000, which has the fix to this bug, and the 2nd
draft of the new documentation.  Please check it out, if that&#39;s convenient.

The interface has changed -- the main, static, interface routine is now
leaks&#40;&#41;, not poof&#40;&#41;.  poof&#40;&#41; still exists &#40;it&#39;s written as a wrapper
around the new interface&#41;, but it is undocumented and deprecated.  I
hope you find the new interface an improvement.

If all goes well, I&#39;ll put some finishing touches on the documentation,
and create a developer&#39;s release that will be a release candidate for
Test::Weaken 2.000000.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563062" href="/Public/Bug/Display.html?id=42903#txn-563062">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;03&nbsp;18:28:37&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42903] Fixed in release 1.003_000, just uploaded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 04 Feb 2009 10:26:48 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563062/284368/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284368">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; 2nd draft of the new documentation.
</div>
Looks orright.  You could include code snippets in among the func
descriptions.  I find it easier to follow a sample of an option usage
etc than just words.

For the &#34;tracing memory leaks&#34; bit you might cross reference
Devel::FindRef, I&#39;ve found it reasonable for tracking down why something
didn&#39;t go away.  It tends to be verbose and technical, but often there&#39;s
a variable name or whatnot among the output that gives you a clue.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The interface has changed -- the main, static, interface routine is now
&gt; leaks&#40;&#41;,
</div>
I expect object methods is clearer than $weaken[3] etc.  The distinction
between &#34;unfreed weak&#34; and &#34;unfreed strong&#34; is gone is it?  I found that
pretty subtle, and was going to suggest describing the motivation -- now
unnecessary if it&#39;s gone :&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; deprecated
</div>
In practice that means somewhere on a continuum from &#34;alas the concept
was unworkable&#34; to &#34;I had a better idea&#34; to &#34;I&#39;m going to break your
code on a whim&#34;!  I always wish people would say which they mean :-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563156" href="/Public/Bug/Display.html?id=42903#txn-563156">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;04&nbsp;01:37:09&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> They&#39;ll be a few more developer&#39;s versions</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563156/284417/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284417">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 626b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I want to put the documentation through a few more drafts before
2.000000.  Also, 1.003_000 didn&#39;t run on 5.8 or Windows.  5.8 punts
because I inadvertently included 5.10 only test routines.  Windows punts
because one of my tests does a fork.  The problems are in the tests, not
the code, but one appears as a spurious &#34;NA&#34; on cpantesters, and the
other as failure on Windows.

I&#39;ve fixed the 5.8 problem in 1.003_001.  I expect to make the tests
Windows-resistant in 1.003_002.

If I hear no objections, I&#39;m going to delete the 1.003_00n releases very
soon after I get new, less problematic ones out.  It saves space on CPAN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563158" href="/Public/Bug/Display.html?id=42903#txn-563158">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;04&nbsp;01:50:22&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/563158/284419/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284419">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ll put code snippets and Devel::FindRef on my TODO list.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The distinction between &#34;unfreed weak&#34; and &#34;unfreed strong&#34;
&gt; is gone is it?
</div>
At first the strong/weak distinction seemed very unsubtle.  Weak
references require very careful handling because even implicit copying
strengthens them.  1.000000 did not attempt to preserve weakness when it
returned references, so I reported weak references separately because
that was the only way you could know the difference.

This version preserves weakness on output and can be less &#34;in your face&#34;
about the distinction.  This allows someone who does not care about the
distinction to ignore it, and someone who does care to dive in face
first if they like.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; deprecated
</div>&gt; 
&gt; In practice that means somewhere on a continuum from &#34;alas the concept
&gt; was unworkable&#34; to &#34;I had a better idea&#34; to &#34;I&#39;m going to break your
&gt; code on a whim&#34;!  I always wish people would say which they mean :-&#41;
</div>
This may be open source, but you&#39;ve gotta allow me to keep some things
to myself. :-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563421" href="/Public/Bug/Display.html?id=42903#txn-563421">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;04&nbsp;17:58:28&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42903] They&#39;ll be a few more developer&#39;s versions</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 05 Feb 2009 09:56:21 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Weaken [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563421/284576/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284576">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 312b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Jeffrey Kegler via RT&#34; &lt;bug-Test-Weaken@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; The problems are in the tests,
</div>
Incidentally, in bug42903.t you might consider Test::More is_deeply&#40;&#41;
instead of looking at the text from Data::Dumper.  You never know when
the latter might get prettified or whatnot and come out a bit different.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-566521" href="/Public/Bug/Display.html?id=42903#txn-566521">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;14&nbsp;17:11:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/566521/286010/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/286010">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 530b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">My apologies for the slow progress.  I needed to catch up on
bookkeeping, and rewriting the documentation into presentable draft form
has taken some time.  For me, adding snippets to the documentation is a
major project, because I create tests for all my snippets.  &#40;Apparently
many module writers who do not do this, and how they keep their snippets
bug-free I cannot imagine.&#41;

I expect to have another developer&#39;s release out soon.  If all goes
well, the developer&#39;s release after that will be a release candidate for
2.000000.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-567144" href="/Public/Bug/Display.html?id=42903#txn-567144">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;16&nbsp;22:56:27&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Fixed in 1.003_003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-567150" href="/Public/Bug/Display.html?id=42903#txn-567150">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;16&nbsp;23:02:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/567150/286312/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/286312">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 802b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">You have a good point, but I&#39;m going to postpone dealing with this until
after 2.000000.  Right now I am using Test::Differences on the
Data::Dumper outputs, so that in case of error I get the differences in
a nice tabular form.  I want to run a few experiments to see how
Test::More::is_deeply&#40;&#41; behaves in the face of screwups.  If the
switchover is a lose from the point of view of perspicuous output in the
event of failed tests, I&#39;ll probably decide to take my chances with
changes in the output format of Data::Dumper.

On Wed Feb 04 17:58:28 2009, user42@zip.com.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Incidentally, in bug42903.t you might consider Test::More is_deeply&#40;&#41;
&gt; instead of looking at the text from Data::Dumper.  You never know when
&gt; the latter might get prettified or whatnot and come out a bit different.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-567151" href="/Public/Bug/Display.html?id=42903#txn-567151">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;16&nbsp;23:05:20&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/567151/286313/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/286313">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 250b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">1.003_003 is out.  I&#39;ll want to see what cpantesters makes of it &#40;so far
so good&#41; and reread the documentation once more to see if it contains no
problems which justify holding up a bug fix.  So 1.003_003 is actually
release candidate 1 for 2.000000.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568146" href="/Public/Bug/Display.html?id=42903#txn-568146">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;19&nbsp;23:00:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/568146/286685/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/286685">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 113b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just uploaded 2.000000.  Unless a problem shows up with cpantesters, I
will close this bug in a couple of days.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568341" href="/Public/Bug/Display.html?id=42903#txn-568341">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;20&nbsp;12:10:36&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Fixed in 1.003_004 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568342" href="/Public/Bug/Display.html?id=42903#txn-568342">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;20&nbsp;12:10:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Fixed in 2.000000 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568343" href="/Public/Bug/Display.html?id=42903#txn-568343">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;20&nbsp;12:10:38&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Fixed in 1.003_003 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568827" href="/Public/Bug/Display.html?id=42903#txn-568827">#</a>      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;22&nbsp;20:54:37&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/568827/286914/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/286914">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 70b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 2,000000, which cpantesters is giving a clean bill of health.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-568828" href="/Public/Bug/Display.html?id=42903#txn-568828">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;22&nbsp;20:54:38&nbsp;2009</span>
    <span class="description">jkegl [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.973688</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
