<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79154 for PadWalker: [PATCH] Pad changes in 5.17.4-to-be</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79154 for PadWalker: [PATCH] Pad changes in 5.17.4-to-be</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PadWalker">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PadWalker">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PadWalker">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PadWalker">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PadWalker">PadWalker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79154</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PadWalker">PadWalker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
&#39;spro^^*%*^6ut# [...] &#38;$%*c

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24446-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24447-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




open_IBDZEttU.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1112365/585030/open_IBDZEttU.txt">
Thu Aug 23 12:52:30 2012 (467b) by $_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print
</a>
</font></li>
</ul>


open_sYghdGEG.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1112141/584881/open_sYghdGEG.txt">
Thu Aug 23 01:13:58 2012 (9.1k) by $_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=79154">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112141" href="/Public/Bug/Display.html?id=79154#txn-1112141">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;01:13:58&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PATCH] Pad changes in 5.17.4-to-be</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112141/584880/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/584880">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 273b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This module no longer compiles with bleadperl. Attached is a patch. For more information, see:

   <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
   <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
   <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> open_sYghdGEG.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112141/584881/open_sYghdGEG.txt">Download open_sYghdGEG.txt</a><br />
<span class="downloadcontenttype">text/plain 9.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -rup PadWalker-1.94-Fltezy/PadWalker.xs PadWalker-1.94-4weoop/PadWalker.xs
--- PadWalker-1.94-Fltezy/PadWalker.xs	2012-02-05 07:52:17.000000000 -0800
+++ PadWalker-1.94-4weoop/PadWalker.xs	2012-08-22 22:10:53.000000000 -0700
@@ -71,6 +71,25 @@ show_cxstack&#40;void&#41;
 #  define COP_SEQ_RANGE_HIGH&#40;sv&#41;                 U_32&#40;SvUVX&#40;sv&#41;&#41;
 #endif
 
+#ifndef PadARRAY
+typedef AV PADNAMELIST;
+typedef SV PADNAME;
+# if PERL_VERSION &lt; 9
+typedef AV PADLIST;
+typedef AV PAD;
+# endif
+# define PadlistARRAY&#40;pl&#41;	&#40;&#40;PAD **&#41;AvARRAY&#40;pl&#41;&#41;
+# define PadlistMAX&#40;pl&#41;		AvFILLp&#40;pl&#41;
+# define PadlistNAMES&#40;pl&#41;	&#40;*PadlistARRAY&#40;pl&#41;&#41;
+# define PadnamelistARRAY&#40;pnl&#41;	&#40;&#40;PADNAME **&#41;AvARRAY&#40;pnl&#41;&#41;
+# define PadnamelistMAX&#40;pnl&#41;	AvFILLp&#40;pnl&#41;
+# define PadARRAY		AvARRAY
+# define PadnameIsOUR&#40;pn&#41;	!!&#40;SvFLAGS&#40;pn&#41; &#38; SVpad_OUR&#41;
+# define PadnameOURSTASH&#40;pn&#41;	SvOURSTASH&#40;pn&#41;
+# define PadnameOUTER&#40;pn&#41;	!!SvFAKE&#40;pn&#41;
+# define PadnamePV&#40;pn&#41;		&#40;SvPOKp&#40;pn&#41; ? SvPVX&#40;pn&#41; : NULL&#41;
+#endif
+
 
 /* Originally stolen from pp_ctl.c; now significantly different */
 
@@ -181,25 +200,24 @@ fetch_from_stash&#40;HV *stash, char *name_s
 }
 
 void
-pads_into_hash&#40;AV* pad_namelist, AV* pad_vallist, HV* my_hash, HV* our_hash, U32 valid_at_seq&#41;
+pads_into_hash&#40;PADNAMELIST* pad_namelist, PAD* pad_vallist, HV* my_hash,
+               HV* our_hash, U32 valid_at_seq&#41;
 {
     I32 i;
 
     debug_print&#40;&#40;&#34;pads_into_hash&#40;%p, %p, ..&#41;\n&#34;,
         &#40;void*&#41;pad_namelist, &#40;void*&#41; pad_vallist&#41;&#41;;
 
-    for &#40;i=av_len&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
-      SV** name_ptr = av_fetch&#40;pad_namelist, i, 0&#41;;
+    for &#40;i=PadnamelistMAX&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
+      PADNAME* name_sv = PadnamelistARRAY&#40;pad_namelist&#41;[i];
 
-      if &#40;name_ptr&#41; {
-        SV*   name_sv = *name_ptr;
-
-        if &#40;SvPOKp&#40;name_sv&#41;&#41; {
-          char* name_str = SvPVX&#40;name_sv&#41;;
+      if &#40;name_sv&#41; {
+        char *name_str = PadnamePV&#40;name_sv&#41;;
+        if &#40;name_str&#41; {
 
         debug_print&#40;&#40;&#34;** %s &#40;%lx,%lx&#41; [%lx]%s\n&#34;, name_str,
                COP_SEQ_RANGE_LOW&#40;name_sv&#41;, COP_SEQ_RANGE_HIGH&#40;name_sv&#41;, valid_at_seq,
-               SvFAKE&#40;name_sv&#41; ? &#34; &lt;fake&gt;&#34; : &#34;&#34;&#41;&#41;;
+               PadnameOUTER&#40;name_sv&#41; ? &#34; &lt;fake&gt;&#34; : &#34;&#34;&#41;&#41;;
         
         /* Check that this variable is valid at the cop_seq
          * specified, by peeking into the NV and IV slots
@@ -215,13 +233,13 @@ pads_into_hash&#40;AV* pad_namelist, AV* pad
          * them out of the stash directly.
          */
 
-        if &#40;&#40;SvFAKE&#40;name_sv&#41; || 0 == valid_at_seq ||
+        if &#40;&#40;PadnameOUTER&#40;name_sv&#41; || 0 == valid_at_seq ||
             &#40;valid_at_seq &lt;= COP_SEQ_RANGE_HIGH&#40;name_sv&#41; &#38;&#38;
             valid_at_seq &gt; COP_SEQ_RANGE_LOW&#40;name_sv&#41;&#41;&#41; &#38;&#38;
             strlen&#40;name_str&#41; &gt; 1 &#41;
 
           {
-            SV **val_ptr, *val_sv;
+            SV *val_sv;
             U32 name_len = strlen&#40;name_str&#41;;
             bool is_our = &#40;&#40;SvFLAGS&#40;name_sv&#41; &#38; SVpad_OUR&#41; != 0&#41;;
 
@@ -235,7 +253,8 @@ pads_into_hash&#40;AV* pad_namelist, AV* pad
             }
             else {
               if &#40;is_our&#41; {
-                val_sv = fetch_from_stash&#40;SvOURSTASH&#40;name_sv&#41;, name_str, name_len&#41;;
+                val_sv = fetch_from_stash&#40;PadnameOURSTASH&#40;name_sv&#41;,
+                                          name_str, name_len&#41;;
                 if &#40;!val_sv&#41; {
                     debug_print&#40;&#40;&#34;Value of our variable is undefined\n&#34;&#41;&#41;;
                     val_sv = &#38;PL_sv_undef;
@@ -243,8 +262,9 @@ pads_into_hash&#40;AV* pad_namelist, AV* pad
               }
               else
               {
-                val_ptr = pad_vallist ? av_fetch&#40;pad_vallist, i, 0&#41; : 0;
-                val_sv = val_ptr ? *val_ptr : &#38;PL_sv_undef;
+                val_sv =
+                  pad_vallist ? PadARRAY&#40;pad_vallist&#41;[i] : &#38;PL_sv_undef;
+                if &#40;!val_sv&#41; val_sv = &#38;PL_sv_undef;
               }
 
               hv_store&#40;&#40;is_our ? our_hash : my_hash&#41;, name_str, name_len,
@@ -257,15 +277,17 @@ pads_into_hash&#40;AV* pad_namelist, AV* pad
 }
 
 void
-padlist_into_hash&#40;AV* padlist, HV* my_hash, HV* our_hash, U32 valid_at_seq, long depth&#41;
+padlist_into_hash&#40;PADLIST* padlist, HV* my_hash, HV* our_hash,
+                  U32 valid_at_seq, long depth&#41;
 {
-    AV *pad_namelist, *pad_vallist;
+    PADNAMELIST *pad_namelist;
+    PAD *pad_vallist;
     
     if &#40;depth == 0&#41; depth = 1;
 
     /* We blindly deref this, cos it&#39;s always there &#40;AFAIK!&#41; */
-    pad_namelist = &#40;AV*&#41; *av_fetch&#40;padlist, 0, FALSE&#41;;
-    pad_vallist  = &#40;AV*&#41; *av_fetch&#40;padlist, depth, FALSE&#41;;
+    pad_namelist = PadlistNAMES&#40;padlist&#41;;
+    pad_vallist  = PadlistARRAY&#40;padlist&#41;[depth];
 
     pads_into_hash&#40;pad_namelist, pad_vallist, my_hash, our_hash, valid_at_seq&#41;;
 }
@@ -363,30 +385,30 @@ get_closed_over&#40;CV *cv, HV *hash, HV *in
 {
     I32 i;
     U32 val_depth;
-    AV *pad_namelist;
-    AV *pad_vallist;
+    PADNAMELIST *pad_namelist;
+    PAD *pad_vallist;
 
     if &#40;!CvPADLIST&#40;cv&#41;&#41; {
         return;
     }
 
     val_depth = CvDEPTH&#40;cv&#41; ? CvDEPTH&#40;cv&#41; : 1;
-    pad_namelist = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, 0, FALSE&#41;;
-    pad_vallist  = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, val_depth, FALSE&#41;;
+    pad_namelist = PadlistNAMES&#40;CvPADLIST&#40;cv&#41;&#41;;
+    pad_vallist  = PadlistARRAY&#40;CvPADLIST&#40;cv&#41;&#41;[val_depth];
 
-    debug_print&#40;&#40;&#34;av_len&#40;CvPADLIST&#40;cv&#41;&#41; = %ld\n&#34;, av_len&#40;CvPADLIST&#40;cv&#41;&#41; &#41;&#41;;
+    debug_print&#40;&#40;&#34;PadlistMAX&#40;CvPADLIST&#40;cv&#41;&#41; = %ld\n&#34;,
+                  PadlistMAX&#40;CvPADLIST&#40;cv&#41;&#41; &#41;&#41;;
     
-    for &#40;i=av_len&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
-      SV** name_ptr = av_fetch&#40;pad_namelist, i, 0&#41;;
+    for &#40;i=PadnamelistMAX&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
+      PADNAME* name_sv = PadnamelistARRAY&#40;pad_namelist&#41;[i];
 
-      if &#40;name_ptr &#38;&#38; SvPOKp&#40;*name_ptr&#41;&#41; {
-        SV*   name_sv   = *name_ptr;
-        char* name_str  = SvPVX&#40;name_sv&#41;;
+      if &#40;name_sv &#38;&#38; PadnamePV&#40;name_sv&#41;&#41; {
+        char* name_str  = PadnamePV&#40;name_sv&#41;;
         STRLEN name_len = strlen&#40;name_str&#41;;
         
-        if &#40;SvFAKE&#40;name_sv&#41; &#38;&#38; 0 == &#40;SvFLAGS&#40;name_sv&#41; &#38; SVpad_OUR&#41;&#41; {
-            SV **val   = av_fetch&#40;pad_vallist, i, 0&#41;;
-            SV *val_sv = val ? *val : &#38;PL_sv_undef;
+        if &#40;PadnameOUTER&#40;name_sv&#41; &#38;&#38; !PadnameIsOUR&#40;name_sv&#41;&#41; {
+            SV *val_sv   = PadARRAY&#40;pad_vallist&#41;[i];
+	    if &#40;!val_sv&#41; val_sv = &#38;PL_sv_undef;
 #ifdef PADWALKER_DEBUGGING
             debug_print&#40;&#40;&#34;Found a fake slot: %s\n&#34;, name_str&#41;&#41;;
             if &#40;val == 0&#41;
@@ -412,18 +434,15 @@ get_var_name&#40;CV *cv, SV *var&#41;
 {
     I32 i;
     U32 val_depth = CvDEPTH&#40;cv&#41; ? CvDEPTH&#40;cv&#41; : 1;
-    AV *pad_namelist = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, 0, FALSE&#41;;
-    AV *pad_vallist  = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, val_depth, FALSE&#41;;
+    PADNAMELIST *pad_namelist = PadlistNAMES&#40;CvPADLIST&#40;cv&#41;&#41;;
+    PAD *pad_vallist  = PadlistARRAY&#40;CvPADLIST&#40;cv&#41;&#41;[val_depth];
 
-    for &#40;i=av_len&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
-      SV** name_ptr = av_fetch&#40;pad_namelist, i, 0&#41;;
+    for &#40;i=PadnamelistMAX&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
+      PADNAME* name = PadnamelistARRAY&#40;pad_namelist&#41;[i];
+      char* name_str;
 
-      if &#40;name_ptr &#38;&#38; SvPOKp&#40;*name_ptr&#41;&#41; {
-        SV*   name_sv   = *name_ptr;
-        char* name_str  = SvPVX&#40;name_sv&#41;;
-        
-        SV **val   = av_fetch&#40;pad_vallist, i, 0&#41;;
-        if &#40;val &#38;&#38; &#40;*val == var&#41;&#41;
+      if &#40;  name &#38;&#38; &#40;name_str = PadnamePV&#40;name&#41;&#41;
+         &#38;&#38; PadARRAY&#40;pad_vallist&#41;[i] == var&#41; {
           return name_str;
       }
     }
@@ -529,32 +548,30 @@ HV* pad;
     I32 i;
     CV *cv = &#40;CV *&#41;SvRV&#40;sv&#41;;
     U32 val_depth = CvDEPTH&#40;cv&#41; ? CvDEPTH&#40;cv&#41; : 1;
-    AV *pad_namelist = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, 0, FALSE&#41;;
-    AV *pad_vallist  = &#40;AV*&#41; *av_fetch&#40;CvPADLIST&#40;cv&#41;, val_depth, FALSE&#41;;
+    PADNAMELIST *pad_namelist = PadlistNAMES&#40;CvPADLIST&#40;cv&#41;&#41;;
+    PAD *pad_vallist  = PadlistARRAY&#40;CvPADLIST&#40;cv&#41;&#41;[val_depth];
   CODE:
-    for &#40;i=av_len&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
-      SV** name_ptr = av_fetch&#40;pad_namelist, i, 0&#41;;
+    for &#40;i=PadnamelistMAX&#40;pad_namelist&#41;; i&gt;=0; --i&#41; {
+      PADNAME* name = PadnamelistARRAY&#40;pad_namelist&#41;[i];
+      char* name_str;
 
-      if &#40;name_ptr &#38;&#38; SvPOKp&#40;*name_ptr&#41;&#41; {
-        SV*   name_sv   = *name_ptr;
-        char* name_str  = SvPVX&#40;name_sv&#41;;
+      if &#40;name &#38;&#38; &#40;name_str = PadnamePV&#40;name&#41;&#41;&#41; {
         STRLEN name_len = strlen&#40;name_str&#41;;
 
-        if &#40;SvFAKE&#40;name_sv&#41; &#38;&#38; 0 == &#40;SvFLAGS&#40;name_sv&#41; &#38; SVpad_OUR&#41;&#41; {
+        if &#40;PadnameOUTER&#40;name&#41; &#38;&#38; !PadnameIsOUR&#40;name&#41;&#41; {
           SV **restore_ref = hv_fetch&#40;pad, name_str, name_len, FALSE&#41;;
           if &#40; restore_ref &#41; {
             if &#40; SvROK&#40;*restore_ref&#41; &#41; {
               SV *restore = SvRV&#40;*restore_ref&#41;;
-              SV **orig = av_fetch&#40;pad_vallist, i, 0&#41;;
+              SV *orig = PadARRAY&#40;pad_vallist&#41;[i];
               int restore_type = SvTYPE&#40;restore&#41;;
 
-              if &#40; !orig || !*orig || is_correct_type&#40;*orig, restore&#41; &#41; {
+              if &#40; !orig || is_correct_type&#40;orig, restore&#41; &#41; {
                 SvREFCNT_inc&#40;restore&#41;;
 
-                if &#40; av_store&#40;pad_vallist, i, restore&#41; == NULL &#41;
-                  SvREFCNT_dec&#40;restore&#41;;
+                PadARRAY&#40;pad_vallist&#41;[i] = restore;
               } else {
-                croak&#40;&#34;Incorrect reftype for variable %s &#40;got %s expected %s&#41;&#34;, name_str, sv_reftype&#40;restore, 0&#41;, sv_reftype&#40;*orig, 0&#41;&#41;;
+                croak&#40;&#34;Incorrect reftype for variable %s &#40;got %s expected %s&#41;&#34;, name_str, sv_reftype&#40;restore, 0&#41;, sv_reftype&#40;orig, 0&#41;&#41;;
               }
             } else {
               croak&#40;&#34;The variable for %s is not a reference&#34;, name_str&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112220" href="/Public/Bug/Display.html?id=79154#txn-1112220">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;06:53:22&nbsp;2012</span>
    <span class="description">robin [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112220/584939/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/584939">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 379b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This module no longer compiles with bleadperl. Attached is a patch.
&gt; For more information, see:
&gt; 
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>
Thank you very much! Applied and uploaded as 1.95.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112222" href="/Public/Bug/Display.html?id=79154#txn-1112222">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;06:53:23&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112223" href="/Public/Bug/Display.html?id=79154#txn-1112223">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;06:53:23&nbsp;2012</span>
    <span class="description">robin [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112305" href="/Public/Bug/Display.html?id=79154#txn-1112305">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;11:03:46&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112305/584990/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/584990">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 23 06:53:22 2012, ROBIN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; This module no longer compiles with bleadperl. Attached is a patch.
&gt; &gt; For more information, see:
&gt; &gt; 
&gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>&gt; 
&gt; Thank you very much! Applied and uploaded as 1.95.
</div>
1.95 is failing to build for me with all perl 5.8 versions I&#39;ve tried
&#40;5.8.5 to 5.8.8&#41;:

$ make -j4
/usr/bin/perl /usr/lib/perl5/5.8.5/ExtUtils/xsubpp  -typemap
/usr/lib/perl5/5.8.5/ExtUtils/typemap  PadWalker.xs &gt; PadWalker.xsc &#38;&#38;
mv PadWalker.xsc PadWalker.c
Running Mkbootstrap for PadWalker &#40;&#41;
chmod 644 PadWalker.bs
cp PadWalker.bs blib/arch/auto/PadWalker/PadWalker.bs
chmod 644 blib/arch/auto/PadWalker/PadWalker.bs
cp PadWalker.pm blib/lib/PadWalker.pm
gcc -c   -D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBUGGING
-fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -m32 -march=i386
-mtune=pentium4   -DVERSION=\&#34;1.95\&#34; -DXS_VERSION=\&#34;1.95\&#34; -fPIC
&#34;-I/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE&#34;   PadWalker.c
PadWalker.xs:78: error: redefinition of typedef &#39;PADLIST&#39;
/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE/pad.h:19: error:
previous declaration of &#39;PADLIST&#39; was here
PadWalker.xs:79: error: redefinition of typedef &#39;PAD&#39;
/usr/lib/perl5/5.8.5/i386-linux-thread-multi/CORE/pad.h:20: error:
previous declaration of &#39;PAD&#39; was here
make: *** [PadWalker.o] Error 1

5.10.x and later seem OK.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112308" href="/Public/Bug/Display.html?id=79154#txn-1112308">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;11:03:47&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112362" href="/Public/Bug/Display.html?id=79154#txn-1112362">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;12:30:07&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112362/585025/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/585025">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 900b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 23 11:03:46 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 23 06:53:22 2012, ROBIN wrote:
<div class="message-stanza open">&gt; &gt; On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; This module no longer compiles with bleadperl. Attached is a patch.
&gt; &gt; &gt; For more information, see:
&gt; &gt; &gt; 
&gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>&gt; &gt; 
&gt; &gt; Thank you very much! Applied and uploaded as 1.95.
</div>&gt; 
&gt; 1.95 is failing to build for me with all perl 5.8 versions I&#39;ve tried
&gt; &#40;5.8.5 to 5.8.8&#41;:
</div>
I saw that the PAD and PADLIST typedefs were introduced between 5.8.0 and 5.10.0.  What I 
did not notice was that they were backported to 5.8.1, in commit 9755d405a69.

Unfortunately, #ifdef doesn’t work on typedefs.

I’ll try to come up with another patch, but I am a bit busy today.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112365" href="/Public/Bug/Display.html?id=79154#txn-1112365">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;23&nbsp;12:52:30&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112365/585029/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/585029">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 23 12:30:07 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 23 11:03:46 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; On Thu Aug 23 06:53:22 2012, ROBIN wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; This module no longer compiles with bleadperl. Attached is a
</div></div></div>&gt; patch.
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; For more information, see:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Thank you very much! Applied and uploaded as 1.95.
</div>&gt; &gt;
&gt; &gt; 1.95 is failing to build for me with all perl 5.8 versions I&#39;ve
</div>&gt; tried
<div class="message-stanza open">&gt; &gt; &#40;5.8.5 to 5.8.8&#41;:
</div>&gt; 
&gt; I saw that the PAD and PADLIST typedefs were introduced between 5.8.0
&gt; and 5.10.0.  What I
&gt; did not notice was that they were backported to 5.8.1, in commit
&gt; 9755d405a69.
&gt; 
&gt; Unfortunately, #ifdef doesn’t work on typedefs.
&gt; 
&gt; I’ll try to come up with another patch, but I am a bit busy today.
</div>
OK, here you go.  This one I have tested in 5.8.2 and 5.8.1.

In 5.8.1, the Makefile.PL dies because it requires 5.8.2.  But if I comment out that line all the 
tests pass &#40;hint, hint&#41;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> open_IBDZEttU.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112365/585030/open_IBDZEttU.txt">Download open_IBDZEttU.txt</a><br />
<span class="downloadcontenttype">text/plain 467b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -rup PadWalker-1.95-466rUN/PadWalker.xs PadWalker-1.95-OOhVqz/PadWalker.xs
--- PadWalker-1.95-466rUN/PadWalker.xs	2012-08-23 03:41:57.000000000 -0700
+++ PadWalker-1.95-OOhVqz/PadWalker.xs	2012-08-23 09:44:33.000000000 -0700
@@ -74,7 +74,7 @@ show_cxstack&#40;void&#41;
 #ifndef PadARRAY
 typedef AV PADNAMELIST;
 typedef SV PADNAME;
-# if PERL_VERSION &lt; 9
+# if PERL_VERSION &lt; 8 || &#40;PERL_VERSION == 8 &#38;&#38; !PERL_SUBVERSION&#41;
 typedef AV PADLIST;
 typedef AV PAD;
 # endif
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112896" href="/Public/Bug/Display.html?id=79154#txn-1112896">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;17:52:19&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112896/585376/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/585376">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 23 12:52:30 2012, SPROUT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 23 12:30:07 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; On Thu Aug 23 11:03:46 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Thu Aug 23 06:53:22 2012, ROBIN wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; This module no longer compiles with bleadperl. Attached is a
</div></div></div>&gt; &gt; patch.
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; For more information, see:
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Thank you very much! Applied and uploaded as 1.95.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; 1.95 is failing to build for me with all perl 5.8 versions I&#39;ve
</div>&gt; &gt; tried
<div class="message-stanza open">&gt; &gt; &gt; &#40;5.8.5 to 5.8.8&#41;:
</div>&gt; &gt;
&gt; &gt; I saw that the PAD and PADLIST typedefs were introduced between
</div>&gt; 5.8.0
<div class="message-stanza open">&gt; &gt; and 5.10.0.  What I
&gt; &gt; did not notice was that they were backported to 5.8.1, in commit
&gt; &gt; 9755d405a69.
&gt; &gt;
&gt; &gt; Unfortunately, #ifdef doesn’t work on typedefs.
&gt; &gt;
&gt; &gt; I’ll try to come up with another patch, but I am a bit busy today.
</div>&gt; 
&gt; OK, here you go.  This one I have tested in 5.8.2 and 5.8.1.
&gt; 
&gt; In 5.8.1, the Makefile.PL dies because it requires 5.8.2.  But if I
&gt; comment out that line all the
&gt; tests pass &#40;hint, hint&#41;.
</div>
Works for me everywhere I&#39;ve tried it, from 5.8.5 to 5.61.1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112899" href="/Public/Bug/Display.html?id=79154#txn-1112899">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;17:52:47&nbsp;2012</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112899/585379/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/585379">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Aug 24 17:52:19 2012, paul@city-fan.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Aug 23 12:52:30 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; On Thu Aug 23 12:30:07 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Thu Aug 23 11:03:46 2012, paul@city-fan.org wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Thu Aug 23 06:53:22 2012, ROBIN wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; On Thu Aug 23 01:13:58 2012, SPROUT wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; &gt; This module no longer compiles with bleadperl. Attached is a
</div></div></div>&gt; &gt; &gt; patch.
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; &gt; For more information, see:
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936">http://perl5.git.perl.org/perl.git/commitdiff/86b9d2936</a></span>
&gt; &gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb">http://perl5.git.perl.org/perl.git/commitdiff/35e035ccb</a></span>
&gt; &gt; &gt; &gt; &gt; &gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0">http://perl5.git.perl.org/perl.git/commitdiff/86d2498c0</a></span>
</div>&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Thank you very much! Applied and uploaded as 1.95.
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; 1.95 is failing to build for me with all perl 5.8 versions I&#39;ve
</div>&gt; &gt; &gt; tried
<div class="message-stanza open">&gt; &gt; &gt; &gt; &#40;5.8.5 to 5.8.8&#41;:
</div>&gt; &gt; &gt;
&gt; &gt; &gt; I saw that the PAD and PADLIST typedefs were introduced between
</div>&gt; &gt; 5.8.0
<div class="message-stanza open">&gt; &gt; &gt; and 5.10.0.  What I
&gt; &gt; &gt; did not notice was that they were backported to 5.8.1, in commit
&gt; &gt; &gt; 9755d405a69.
&gt; &gt; &gt;
&gt; &gt; &gt; Unfortunately, #ifdef doesn’t work on typedefs.
&gt; &gt; &gt;
&gt; &gt; &gt; I’ll try to come up with another patch, but I am a bit busy today.
</div>&gt; &gt; 
&gt; &gt; OK, here you go.  This one I have tested in 5.8.2 and 5.8.1.
&gt; &gt; 
&gt; &gt; In 5.8.1, the Makefile.PL dies because it requires 5.8.2.  But if I
&gt; &gt; comment out that line all the
&gt; &gt; tests pass &#40;hint, hint&#41;.
</div>&gt; 
&gt; Works for me everywhere I&#39;ve tried it, from 5.8.5 to 5.61.1.
</div>
Err, that&#39;s 5.16.1 actually ;-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112945" href="/Public/Bug/Display.html?id=79154#txn-1112945">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;25&nbsp;03:04:12&nbsp;2012</span>
    <span class="description">robin [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1112945/585404/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/585404">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 119b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Many thanks, once again! This should please all the frustrated Perl 5.8.1 users out there.

Released as PadWalker 1.96.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1112947" href="/Public/Bug/Display.html?id=79154#txn-1112947">#</a>      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;25&nbsp;03:04:13&nbsp;2012</span>
    <span class="description">robin [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.613094</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
