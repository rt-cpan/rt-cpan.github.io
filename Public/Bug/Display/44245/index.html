<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #44245 for Finance-Quote: yahoo_europe regression on mutual funds</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #44245 for Finance-Quote: yahoo_europe regression on mutual funds</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Finance-Quote/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Finance-Quote/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Finance-Quote/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Finance-Quote/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Finance-Quote">Finance-Quote CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">44245</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">15 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Finance-Quote/Active/">Finance-Quote</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">eco [...] ecocode.net
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
lmamane-bitcard [...] conuropsis.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-13576-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.15    </td>
  </tr>
  <tr id="CF-13577-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;11:27:04&nbsp;2009</span>
    <span class="description">lmamane-bitcard [...] conuropsis.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> yahoo_europe regression on mutual funds</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m using Debian, but I have disabled all Debian patches and the problem
still occurs.

The yahoo_europe returns wrong data &#40;the right data, but in the wrong
fields&#41; for at least some mutual funds. My test case is INGBM.AS. My
test program is:

use Finance::Quote;
use Data::Dumper;

my $q = Finance::Quote-&gt;new&#40;&#41;;
my %data = $q-&gt;fetch&#40;&#39;yahoo_europe&#39;, &#39;INGBM.AS&#39;&#41;;

print Dumper&#40; {%data} &#41;;

Output with 1.15:

          &#39;INGBM.ASnet&#39; =&gt; &#39;03/17/2009&#39;,
          &#39;INGBM.ASlast&#39; =&gt; &#39;29.83&#39;,
          &#39;INGBM.ASname&#39; =&gt; &#39;IBP ING BASIC MAT 6&#39;,
          &#39;INGBM.AStime&#39; =&gt; &#39;00:00&#39;,
          &#39;INGBM.ASisodate&#39; =&gt; &#39;2000-00-00&#39;,
          &#39;INGBM.ASopen&#39; =&gt; &#39;29.44&#39;,
          &#39;INGBM.ASsuccess&#39; =&gt; 1,
          &#39;INGBM.ASvolume&#39; =&gt; &#39;+1.32%&#39;,
          &#39;INGBM.ASprice&#39; =&gt; &#39;29.83&#39;,
          &#39;INGBM.ASdate&#39; =&gt; &#39;00/00/2000&#39;,
          &#39;INGBM.ASp_change&#39; =&gt; &#39;+0.39&#39;,
          &#39;INGBM.ASmethod&#39; =&gt; &#39;yahoo_europe&#39;,
          &#39;INGBM.ASsymbol&#39; =&gt; &#39;INGBM.AS&#39;,
          &#39;INGBM.AScap&#39; =&gt; &#39;0.00&#39;

In particular:

 - currency is undef, which makes it unusable by Gnucash
 - p_change contains a net change, should contain percent
 - net is undef
 - volume contains what should be p_change

There is more detail at <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/517626">http://bugs.debian.org/517626</a></span>.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;12:06:28&nbsp;2009</span>
    <span class="description">lmamane-bitcard [...] conuropsis.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> 517626 [...] bugs.debian.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is a patch that fixes this problem; I&#39;ve tested it with yahoo and
yahoo_asia, it works, too.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -u --recursive libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Base.pm /usr/share/perl5/Finance/Quote/Yahoo/Base.pm
--- libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Base.pm	2008-10-26 09:15:50.000000000 +0100
+++ /usr/share/perl5/Finance/Quote/Yahoo/Base.pm	2009-03-17 16:55:52.849536735 +0100
@@ -56,11 +56,11 @@
 # in the URL.  These are recorded below, along with their corresponding
 # field names.
 
-@FIELDS = qw/symbol name last date time net p_change volume bid ask
+@FIELDS = qw/symbol name last net p_change volume bid ask
              close open day_range year_range eps pe div_date div div_yield
-	     cap ex_div avg_vol currency/;
+	     cap ex_div avg_vol currency time date/;
 
-@FIELD_ENCODING = qw/s n l1 d1 t1 c1 p2 v b a p o m w e r r1 d y j1 q a2 c4/;
+@FIELD_ENCODING = qw/s n l1 c1 p2 v b a p o m w e r r1 d y j1 q a2 c4 t1 d1/;
 
 # This returns a list of labels that are provided, so that code
 # that make use of this module can know what it&#39;s dealing with.
@@ -156,7 +156,7 @@
 
 	# The suffix is used to specify particular markets.
 	my $suffix = shift || &#34;&#34;;
-	
+
 	my $uses_semicolon = shift || 0;
 
 	my %info;
Only in /usr/share/perl5/Finance/Quote/Yahoo/: Base.pm~
diff -u --recursive libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Europe.pm /usr/share/perl5/Finance/Quote/Yahoo/Europe.pm
--- libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Europe.pm	2008-10-26 09:15:50.000000000 +0100
+++ /usr/share/perl5/Finance/Quote/Yahoo/Europe.pm	2009-03-17 16:56:21.921029713 +0100
@@ -42,18 +42,6 @@
 
 $YAHOO_EUROPE_URL = &#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://uk.finance.yahoo.com/d/quotes.csv">http://uk.finance.yahoo.com/d/quotes.csv</a></span>&#34;&#41;;
 
-# Yahoo Europe switched date and time. sending t1d1 or d1t1
-# returns the same : Time followed by date. This is a short
-# bug fix until yahoo changes back again.
-#
-# Yahoo Europe doens&#39;t return values for r1 &#40;div_date&#41; and q &#40;ex_div&#41;
-# Another solution might be to change Base.pm FIELDS labels to this
-# string + div_date and ex_div. Code would be nicier, but this will
-# need more testing for other yahoo modules and can be done later.
-our @YH_EUROPE_FIELDS = qw/symbol name last time date net p_change volume bid ask
-                           close open day_range year_range eps pe div div_yield
-                           cap avg_vol currency/;
-
 sub methods {return &#40;europe =&gt; \&#38;yahoo_europe,yahoo_europe =&gt; \&#38;yahoo_europe&#41;};
 
 {
@@ -70,10 +58,6 @@
 	my @symbols = @_;
 	return unless @symbols;	# Nothing if no symbols.
 
-        # localise the Base.FIELDS array. Perl restores the array at
-        # the end of this sub.
-        local @Finance::Quote::Yahoo::Base::FIELDS = @YH_EUROPE_FIELDS ;
-
 	# This does all the hard work.
 	my %info = yahoo_request&#40;$quoter,$YAHOO_EUROPE_URL,\@symbols&#41;;
 
Only in /usr/share/perl5/Finance/Quote/Yahoo/: Europe.pm~
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;12:06:34&nbsp;2009</span>
    <span class="description">lmamane-bitcard [...] conuropsis.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;12:14:39&nbsp;2009</span>
    <span class="description">517626 [...] bugs.debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug#517626: Info received &#40;[rt.cpan.org #44245] yahoo_europe  regression on mutual funds &#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 17 Mar 2009 16:12:02 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Finance-Quote [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> owner [...] bugs.debian.org &#40;Debian Bug Tracking System&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Thank you for the additional information you have supplied regarding
this Bug report.

This is an automatically generated reply to let you know your message
has been received.

Your message is being forwarded to the package maintainers and other
interested parties for their attention; they will reply in due course.

Your message has been sent to the package maintainer&#40;s&#41;:
 Bart Martens &lt;bartm@debian.org&gt;

If you wish to submit further information on this problem, please
send it to 517626@bugs.debian.org, as before.

Please do not send mail to owner@bugs.debian.org unless you wish
to report a problem with the Bug-tracking system.


-- 
517626: <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=517626">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=517626</a></span>
Debian Bug Tracking System
Contact owner@bugs.debian.org with problems
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;12:28:11&nbsp;2009</span>
    <span class="description">lmamane-bitcard [...] conuropsis.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 17 12:06:28 2009, lmamane wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is a patch that fixes this problem; I&#39;ve tested it with yahoo and
&gt; yahoo_asia, it works, too.
</div>
I had tested it on INGBM.AS. But it breaks e.g. KPN.AS, so this is a
no-go. Sigh.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;17&nbsp;13:51:14&nbsp;2009</span>
    <span class="description">lmamane-bitcard [...] conuropsis.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Now, _this_ patch has been tested with symbol/method:

 - JNPR yahoo
 - KPN.AS yahoo
 - KPN.AS yahoo_europe
 - INGBM.AS yahoo
 - INGBM.AS yahoo_europe
 - INGBM.AS yahoo_asia

and works with all these combinations.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -u --recursive libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Base.pm /usr/share/perl5/Finance/Quote/Yahoo/Base.pm
--- libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Base.pm	2008-10-26 09:15:50.000000000 +0100
+++ /usr/share/perl5/Finance/Quote/Yahoo/Base.pm	2009-03-17 18:44:07.637030153 +0100
@@ -56,11 +56,11 @@
 # in the URL.  These are recorded below, along with their corresponding
 # field names.
 
-@FIELDS = qw/symbol name last date time net p_change volume bid ask
-             close open day_range year_range eps pe div_date div div_yield
-	     cap ex_div avg_vol currency/;
+@FIELDS = qw/symbol name last net p_change volume bid ask
+             close open day_range year_range eps pe div div_yield
+	     cap avg_vol currency time date ex_div div_date/;
 
-@FIELD_ENCODING = qw/s n l1 d1 t1 c1 p2 v b a p o m w e r r1 d y j1 q a2 c4/;
+@FIELD_ENCODING = qw/s n l1 c1 p2 v b a p o m w e r d y j1 a2 c4 t1 d1 q r1/;
 
 # This returns a list of labels that are provided, so that code
 # that make use of this module can know what it&#39;s dealing with.
diff -u --recursive libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Europe.pm /usr/share/perl5/Finance/Quote/Yahoo/Europe.pm
--- libfinance-quote-perl-1.15/lib/Finance/Quote/Yahoo/Europe.pm	2008-10-26 09:15:50.000000000 +0100
+++ /usr/share/perl5/Finance/Quote/Yahoo/Europe.pm	2009-03-17 16:56:21.921029713 +0100
@@ -42,18 +42,6 @@
 
 $YAHOO_EUROPE_URL = &#40;&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://uk.finance.yahoo.com/d/quotes.csv">http://uk.finance.yahoo.com/d/quotes.csv</a></span>&#34;&#41;;
 
-# Yahoo Europe switched date and time. sending t1d1 or d1t1
-# returns the same : Time followed by date. This is a short
-# bug fix until yahoo changes back again.
-#
-# Yahoo Europe doens&#39;t return values for r1 &#40;div_date&#41; and q &#40;ex_div&#41;
-# Another solution might be to change Base.pm FIELDS labels to this
-# string + div_date and ex_div. Code would be nicier, but this will
-# need more testing for other yahoo modules and can be done later.
-our @YH_EUROPE_FIELDS = qw/symbol name last time date net p_change volume bid ask
-                           close open day_range year_range eps pe div div_yield
-                           cap avg_vol currency/;
-
 sub methods {return &#40;europe =&gt; \&#38;yahoo_europe,yahoo_europe =&gt; \&#38;yahoo_europe&#41;};
 
 {
@@ -70,10 +58,6 @@
 	my @symbols = @_;
 	return unless @symbols;	# Nothing if no symbols.
 
-        # localise the Base.FIELDS array. Perl restores the array at
-        # the end of this sub.
-        local @Finance::Quote::Yahoo::Base::FIELDS = @YH_EUROPE_FIELDS ;
-
 	# This does all the hard work.
 	my %info = yahoo_request&#40;$quoter,$YAHOO_EUROPE_URL,\@symbols&#41;;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;04&nbsp;13:46:31&nbsp;2009</span>
    <span class="description">eco [...] ecocode.net -  Correspondence added</span>
    <span class="time-taken">15 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 17 13:51:14 2009, lmamane wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now, _this_ patch has been tested with symbol/method:
&gt; 
&gt;  - JNPR yahoo
&gt;  - KPN.AS yahoo
&gt;  - KPN.AS yahoo_europe
&gt;  - INGBM.AS yahoo
&gt;  - INGBM.AS yahoo_europe
&gt;  - INGBM.AS yahoo_asia
&gt; 
&gt; and works with all these combinations.
</div>
I&#39;ve modified your patch to work only on yahoo_europe and don&#39;t interfere with other yahoo 
modules.
It seems to work here.
Will be included in version 1.17

thanks for your code!

-- 
Erik
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;04&nbsp;13:46:33&nbsp;2009</span>
    <span class="description">eco [...] ecocode.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;04&nbsp;13:46:34&nbsp;2009</span>
    <span class="description">eco [...] ecocode.net -  Given to ecocode</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
