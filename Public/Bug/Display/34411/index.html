<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #34411 for DBD-Sybase: Fails to compile on RHEL 64</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #34411 for DBD-Sybase: Fails to compile on RHEL 64</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DBD-Sybase/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DBD-Sybase/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DBD-Sybase/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DBD-Sybase/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-Sybase">DBD-Sybase CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">34411</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DBD-Sybase/Active/">DBD-Sybase</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">mpeppler [...] peppler.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sales [...] minixel.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-10262-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.08    </td>
  </tr>
  <tr id="CF-10263-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;24&nbsp;20:19:06&nbsp;2008</span>
    <span class="description">sales [...] minixel.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails to compile on RHEL 64</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I compiled DBD-Sybase 1.08 using DBI 1.604, and the perl Makefile.PL 
works fine, but then when I do a make I get this
Sybase.xsi:275: error: invalid lvalue in assignment
Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
Sybase.xsi:334: error: invalid lvalue in assignment
make: *** [Sybase.o] Error 1
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> DBD_sybase_error.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">gcc -c  -I/usr/local/include -DNO_THREADS  -DSYB_LP64 -DNO_BLK=1 -I/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\&#34;1.08\&#34; -DXS_VERSION=\&#34;1.08\&#34; -fPIC &#34;-I/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE&#34;   Sybase.c
In file included from Sybase.h:50,
                 from Sybase.xs:14:
dbdimp.h:32: error: expected specifier-qualifier-list before âCS_BIGINTâ
Sybase.c: In function âXS_DBD__Sybase__db__isdeadâ:
Sybase.c:103: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__db__date_fmtâ:
Sybase.c:121: warning: unused variable âixâ
Sybase.xs: In function âXS_DBD__Sybase__db_pingâ:
Sybase.xs:83: warning: implicit declaration of function âsyb_pingâ
Sybase.xs: In function âXS_DBD__Sybase__st_cancelâ:
Sybase.xs:95: warning: implicit declaration of function âsyb_st_cancelâ
Sybase.c:157: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_get_dataâ:
Sybase.c:175: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_data_infoâ:
Sybase.c:205: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_send_dataâ:
Sybase.c:240: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_prepare_sendâ:
Sybase.c:260: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_finish_sendâ:
Sybase.c:278: warning: unused variable âixâ
Sybase.xsi: In function âXS_DBD__Sybase__db_disconnectâ:
Sybase.xsi:275: error: invalid lvalue in assignment
Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
Sybase.xsi:334: error: invalid lvalue in assignment
make: *** [Sybase.o] Error 1
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;02:09:04&nbsp;2008</span>
    <span class="description">mpeppler [...] peppler.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 24 20:19:06 2008, falves1 wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I compiled DBD-Sybase 1.08 using DBI 1.604, and the perl Makefile.PL 
&gt; works fine, but then when I do a make I get this
&gt; Sybase.xsi:275: error: invalid lvalue in assignment
&gt; Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
&gt; Sybase.xsi:334: error: invalid lvalue in assignment
&gt; make: *** [Sybase.o] Error 1
</div>
This is a problem with FreeTDS.

The issue is that FreeTDS defines CS_UINT_TYPE, but not CS_BIGINT_TYPE,
and Sybase never defines one without the other.

The fix is to edit dbdimp.h and comment out the CS_BIGINT declaration
around line 32.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;02:09:05&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;03:01:11&nbsp;2008</span>
    <span class="description">sales [...] minixel.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34411] Fails to compile on RHEL 64 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 Mar 2008 03:00:29 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-DBD-Sybase [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Federico Alves&#34; &lt;sales [...] minixel.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Michel
I did this:
        CS_CHAR *c;
        CS_INT i;
#if defined&#40;CS_UINT_TYPE&#41;
        CS_UINT ui;
        /*CS_BIGINT bi;*/
        CS_UBIGINT ubi;
#endif

But it still fails like this:

Sybase.c:260: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_finish_sendâ:
Sybase.c:278: warning: unused variable âixâ
Sybase.xsi: In function âXS_DBD__Sybase__db_disconnectâ:
Sybase.xsi:275: error: invalid lvalue in assignment
Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
Sybase.xsi:334: error: invalid lvalue in assignment
make: *** [Sybase.o] Error 1

Please let me know if I did something wrong.
Yours
Federico

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Michael Peppler via RT [mailto:bug-DBD-Sybase@rt.cpan.org] 
Sent: Tuesday, March 25, 2008 2:09 AM
To: sales@minixel.com
Subject: [rt.cpan.org #34411] Fails to compile on RHEL 64 


&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34411">http://rt.cpan.org/Ticket/Display.html?id=34411</a></span> &gt;

On Mon Mar 24 20:19:06 2008, falves1 wrote:
<div class="message-stanza open">&gt; I compiled DBD-Sybase 1.08 using DBI 1.604, and the perl Makefile.PL 
&gt; works fine, but then when I do a make I get this
&gt; Sybase.xsi:275: error: invalid lvalue in assignment
&gt; Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
&gt; Sybase.xsi:334: error: invalid lvalue in assignment
&gt; make: *** [Sybase.o] Error 1
</div>
This is a problem with FreeTDS.

The issue is that FreeTDS defines CS_UINT_TYPE, but not CS_BIGINT_TYPE,
and Sybase never defines one without the other.

The fix is to edit dbdimp.h and comment out the CS_BIGINT declaration
around line 32.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;15:18:28&nbsp;2008</span>
    <span class="description">mpeppler [...] peppler.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Try this:

Edit dbdimp.h, and near the top, add

#if !defined&#40;CS_BIGINT_TYPE&#41;
#define CS_BIGINT_TYPE CS_INT_TYPE
#endif
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;25&nbsp;15:29:03&nbsp;2008</span>
    <span class="description">sales [...] minixel.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34411] Fails to compile on RHEL 64 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 Mar 2008 15:27:43 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-DBD-Sybase [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Federico Alves&#34; &lt;sales [...] minixel.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Michel
I did follow your instructions and it still blows up. If you don&#39;t mind spending a minute in this, please login via SSH to my box at 66.28.190.219, root, pwd=dbdisgood and go to /usr/src/DBD-Sybase-1.08. 
I take full responsibility and you are not liable for any reason while accepting my invitation.
Once you make it work, maybe we can post the changes to the community?
Yours
Federico

Sybase.c: In function âXS_DBD__Sybase__db__isdeadâ:
Sybase.c:103: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__db__date_fmtâ:
Sybase.c:121: warning: unused variable âixâ
Sybase.xs: In function âXS_DBD__Sybase__db_pingâ:
Sybase.xs:83: warning: implicit declaration of function âsyb_pingâ
Sybase.xs: In function âXS_DBD__Sybase__st_cancelâ:
Sybase.xs:95: warning: implicit declaration of function âsyb_st_cancelâ
Sybase.c:157: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_get_dataâ:
Sybase.c:175: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_data_infoâ:
Sybase.c:205: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_send_dataâ:
Sybase.c:240: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_prepare_sendâ:
Sybase.c:260: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_finish_sendâ:
Sybase.c:278: warning: unused variable âixâ
Sybase.xsi: In function âXS_DBD__Sybase__db_disconnectâ:
Sybase.xsi:275: error: invalid lvalue in assignment
Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
Sybase.xsi:334: error: invalid lvalue in assignment
make: *** [Sybase.o] Error 1

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Michael Peppler via RT [mailto:bug-DBD-Sybase@rt.cpan.org] 
Sent: Tuesday, March 25, 2008 3:19 PM
To: sales@minixel.com
Subject: [rt.cpan.org #34411] Fails to compile on RHEL 64 


&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34411">http://rt.cpan.org/Ticket/Display.html?id=34411</a></span> &gt;

Try this:

Edit dbdimp.h, and near the top, add

#if !defined&#40;CS_BIGINT_TYPE&#41;
#define CS_BIGINT_TYPE CS_INT_TYPE
#endif
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;26&nbsp;15:19:32&nbsp;2008</span>
    <span class="description">mpeppler [...] peppler.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;26&nbsp;15:24:08&nbsp;2008</span>
    <span class="description">mpeppler [...] peppler.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is a patch that appears to solve the problem when building with the
current version of FreeTDS. To build, make sure that -DFREETDS is set.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: dbdimp.c
===================================================================
RCS file: /usr/local/cvsroot/DBD-Sybase/dbdimp.c,v
retrieving revision 1.96
diff -c -r1.96 dbdimp.c
*** dbdimp.c	19 Apr 2007 18:31:19 -0000	1.96
--- dbdimp.c	26 Mar 2008 19:17:51 -0000
***************
*** 3494,3501 ****
--- 3494,3507 ----
  #endif
  #if defined&#40;CS_BIGINT_TYPE&#41;
      case CS_BIGINT_TYPE: bytes = sizeof&#40;CS_BIGINT&#41;; break;
+ #endif
+ #if defined&#40;CS_USMALLINT_TYPE&#41;
      case CS_USMALLINT_TYPE: bytes = sizeof&#40;CS_USMALLINT&#41;; break;
+ #endif
+ #if defined&#40;CS_UINT_TYPE&#41;
      case CS_UINT_TYPE: bytes = sizeof&#40;CS_UINT&#41;; break;
+ #endif
+ #if defined&#40;CS_UBIGINT_TYPE&#41;
      case CS_UBIGINT_TYPE: bytes = sizeof&#40;CS_UBIGINT&#41;; break;
  #endif
      default: warn&#40;&#34;alloc_datatype: unkown type: %d&#34;, datatype&#41;; return NULL;
Index: dbdimp.h
===================================================================
RCS file: /usr/local/cvsroot/DBD-Sybase/dbdimp.h,v
retrieving revision 1.38
diff -c -r1.38 dbdimp.h
*** dbdimp.h	11 Apr 2007 17:27:29 -0000	1.38
--- dbdimp.h	26 Mar 2008 19:17:51 -0000
***************
*** 17,22 ****
--- 17,36 ----
  */
  #define MAX_CHAR_BUF	1024
  
+ #if defined&#40;FREETDS&#41;
+ #undef CS_UINT_TYPE
+ #undef CS_DATE_TYPE
+ 
+ #define CS_BIGINT CS_INT
+ #define CS_UBIGINT CS_INT
+ #define CS_USMALLINT CS_SMALLINT
+ /*#define CS_UINT_TYPE CS_INT_TYPE*/
+ 
+ #define BLK_VERSION_150 BLK_VERSION
+ #define BLK_VERSION_125 BLK_VERSION
+ #define BLK_VERSION_120 BLK_VERSION
+ #endif
+ 
  
  typedef struct _col_data
  {
***************
*** 29,35 ****
--- 43,53 ----
  	CS_INT i;
  #if defined&#40;CS_UINT_TYPE&#41;
  	CS_UINT ui;
+ #endif
+ #if defined&#40;CS_BIGINT_TYPE&#41;
          CS_BIGINT bi;
+ #endif
+ #if defined&#40;CS_UBIGINT_TYPE&#41;
          CS_UBIGINT ubi;
  #endif
  	CS_FLOAT f;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;26&nbsp;17:04:42&nbsp;2008</span>
    <span class="description">sales [...] minixel.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #34411] Fails to compile on RHEL 64 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 26 Mar 2008 17:03:35 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-DBD-Sybase [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Federico Alves&#34; &lt;sales [...] minixel.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Michel
I applied the patch but I still have the same error. Maybe it is because I don&#39;t know what to do with this portion from your email:
&#34; To build, make sure that -DFREETDS is set&#34;
Would you be so kind to take a look?

patch -p0 &lt; ../freetds.patch
patching file dbdimp.c
patching file dbdimp.h
Hunk #1 succeeded at 21 &#40;offset 4 lines&#41;.
[root@sipserver DBD-Sybase-1.08]# make
gcc -c  -I/usr/local/include -DNO_THREADS  -DSYB_LP64 -DNO_BLK=1 -I/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\&#34;1.08\&#34; -DXS_VERSION=\&#34;1.08\&#34; -fPIC &#34;-I/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE&#34;   Sybase.c
In file included from Sybase.h:50,
                 from Sybase.xs:14:
dbdimp.h:52: error: expected specifier-qualifier-list before âCS_BIGINTâ
Sybase.c: In function âXS_DBD__Sybase__db__isdeadâ:
Sybase.c:103: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__db__date_fmtâ:
Sybase.c:121: warning: unused variable âixâ
Sybase.xs: In function âXS_DBD__Sybase__db_pingâ:
Sybase.xs:83: warning: implicit declaration of function âsyb_pingâ
Sybase.xs: In function âXS_DBD__Sybase__st_cancelâ:
Sybase.xs:95: warning: implicit declaration of function âsyb_st_cancelâ
Sybase.c:157: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_get_dataâ:
Sybase.c:175: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_data_infoâ:
Sybase.c:205: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_send_dataâ:
Sybase.c:240: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_prepare_sendâ:
Sybase.c:260: warning: unused variable âixâ
Sybase.c: In function âXS_DBD__Sybase__st_ct_finish_sendâ:
Sybase.c:278: warning: unused variable âixâ
Sybase.xsi: In function âXS_DBD__Sybase__db_disconnectâ:
Sybase.xsi:275: error: invalid lvalue in assignment
Sybase.xsi: In function âXS_DBD__Sybase__db_DESTROYâ:
Sybase.xsi:334: error: invalid lvalue in assignment
make: *** [Sybase.o] Error 1

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Michael Peppler via RT [mailto:bug-DBD-Sybase@rt.cpan.org] 
Sent: Wednesday, March 26, 2008 3:24 PM
To: sales@minixel.com
Subject: [rt.cpan.org #34411] Fails to compile on RHEL 64 


&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34411">http://rt.cpan.org/Ticket/Display.html?id=34411</a></span> &gt;

Here is a patch that appears to solve the problem when building with the current version of FreeTDS. To build, make sure that -DFREETDS is set.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;27&nbsp;02:07:45&nbsp;2008</span>
    <span class="description">mpeppler [...] peppler.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">You can fix your problem temporarily by editing dbdimp.h, and adding

#define FREETDS 1

near the top of the file.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;25&nbsp;05:12:41&nbsp;2011</span>
    <span class="description">mpeppler [...] peppler.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 1.11.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;25&nbsp;05:12:42&nbsp;2011</span>
    <span class="description">mpeppler [...] peppler.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
