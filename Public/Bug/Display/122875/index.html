<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #122875 for List-MoreUtils: Fails when List::MoreUtils::XS not installed</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #122875 for List-MoreUtils: Fails when List::MoreUtils::XS not installed</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=List-MoreUtils">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=List-MoreUtils">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=List-MoreUtils">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=List-MoreUtils">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/List-MoreUtils">List-MoreUtils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">122875</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=List-MoreUtils">List-MoreUtils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
DBOOK [...] cpan.org

<br />
PLICEASE [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19166-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.423    </td>
  </tr>
  <tr id="CF-19167-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




LMU-0.424_001-Testers-Matrix.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1747426/939938/LMU-0.424_001-Testers-Matrix.png">
Wed Sep 06 05:20:38 2017 (424.1k) by REHSACK [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=122875">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745811" href="/Public/Bug/Display.html?id=122875#txn-1745811">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;22&nbsp;22:22:49&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails when List::MoreUtils::XS not installed</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745811/939032/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939032">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Diagnostics:

Can&#39;t locate List/MoreUtils/XS.pm in @INC &#40;you may need to install the List::MoreUtils::XS module&#41; &#40;@INC contains: /tmp/loop_over_bdir-8924-FYP1tx/List-MoreUtils-0.423-0/blib/lib /tmp/loop_over_bdir-8924-FYP1tx/List-MoreUtils-0.423-0/blib/arch /home/sand/src/perl/repoperls/installed-perls/host/k93msid/v5.27.3/29fb/lib/site_perl/5.27.3/x86_64-linux-thread-multi /home/sand/src/perl/repoperls/installed-perls/host/k93msid/v5.27.3/29fb/lib/site_perl/5.27.3 /home/sand/src/perl/repoperls/installed-perls/host/k93msid/v5.27.3/29fb/lib/5.27.3/x86_64-linux-thread-multi /home/sand/src/perl/repoperls/installed-perls/host/k93msid/v5.27.3/29fb/lib/5.27.3 .&#41; at /tmp/loop_over_bdir-8924-FYP1tx/List-MoreUtils-0.423-0/blib/lib/List/MoreUtils.pm line 14.
BEGIN failed--compilation aborted at /tmp/loop_over_bdir-8924-FYP1tx/List-MoreUtils-0.423-0/blib/lib/List/MoreUtils.pm line 20.
Compilation failed in require at t/xs/after.t line 7.
BEGIN failed--compilation aborted at t/xs/after.t line 7.
t/xs/after.t ......................
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
No subtests run


Full sample fail report:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/d16e2854-8714-11e7-906a-d8267b9c3273">http://www.cpantesters.org/cpan/report/d16e2854-8714-11e7-906a-d8267b9c3273</a></span>

HTH&#38;&#38;Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745856" href="/Public/Bug/Display.html?id=122875#txn-1745856">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;05:37:50&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745856/939069/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939069">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 578b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is unfortunately a false negative :&#40;

When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in invoked neither what happened to the recommended dependencies&#41;, List::MoreUtils::XS is put into recommendations and the xs-tests are activated.

When you specify PUREPERL_ONLY=1, none of that happens.

Since it was a clear, explicit wish that List::MoreUtils::XS should be installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/25&#41;">https://github.com/perl5-utils/List-MoreUtils/issues/25&#41;</a></span>.

I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted users as happy as possible.

Best regards,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745857" href="/Public/Bug/Display.html?id=122875#txn-1745857">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;05:37:50&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745961" href="/Public/Bug/Display.html?id=122875#txn-1745961">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;10:37:45&nbsp;2017</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745961/939130/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939130">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 23 05:37:50 2017, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is unfortunately a false negative :&#40;
&gt; 
&gt; When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in
&gt; invoked neither what happened to the recommended dependencies&#41;,
&gt; List::MoreUtils::XS is put into recommendations and the xs-tests are
&gt; activated.
&gt; 
&gt; When you specify PUREPERL_ONLY=1, none of that happens.
&gt; 
&gt; Since it was a clear, explicit wish that List::MoreUtils::XS should be
&gt; installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-">https://github.com/perl5-utils/List-</a></span>
&gt; MoreUtils/issues/25&#41;.
&gt; 
&gt; I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted users
&gt; as happy as possible.
&gt; 
&gt; Best regards,
&gt; Jens
</div>
There are a few issues with the current setup.

First, the xs vs pp options aren&#39;t working as intended.  They are intended to toggle List::MoreUtils::XS as a recommendation and running the xs tests.  They are actually only controlling the tests.  META_MERGE is entirely ignored on user machines.  Instead, LMU::XS is always listed as a recommendation, because that is how the META_MERGE option is set on the author machine.  On user machines, that metadata is copied from the META.json file, only making adjustments based on the PREREQ_PM/BUILD_REQUIRES/TEST_REQUIRES options.  This is a limitation in EUMM which I don&#39;t have a good workaround for at this time.

Second is that List::MoreUtils::XS is only listed as a recommendation, yet is a hard requirement of the tests.  This is the primary issue preventing users from installing this dist.  The default behavior of the Makefile.PL is to enable the xs tests.  But since LMU::XS is only ever listed as an optional prerequisite, most users will not have it installed or upgraded.  To resolve this, the xs tests should skip themselves if an appropriate version of List::MoreUtils::XS is not available.

The conventional way these XS-optional prerequisites have been handled elsewhere is by detecting if a compiler is available &#40;using a tool like ExtUtils::HasCompiler&#41; and based on that setting a hard prerequisite &#40;PREREQ_PM&#41; on the XS backend.  If this approach was used, the xs tests could be enabled in the same way without having to check for LMU::XS themselves.

The current conflict checking code also looks like it has some issues.  It appears to only be removing the old arch versions of modules if they are in the perl core directories.  This means upgrading from a pre-XS-split version in a local::lib won&#39;t work.  The @killsite content also looks wrong, and will contain an extra trailing .pm.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745964" href="/Public/Bug/Display.html?id=122875#txn-1745964">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;10:55:04&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745964/939133/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939133">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 23 10:37:45 2017, haarg wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Aug 23 05:37:50 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; This is unfortunately a false negative :&#40;
&gt; &gt;
&gt; &gt; When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in
&gt; &gt; invoked neither what happened to the recommended dependencies&#41;,
&gt; &gt; List::MoreUtils::XS is put into recommendations and the xs-tests are
&gt; &gt; activated.
&gt; &gt;
&gt; &gt; When you specify PUREPERL_ONLY=1, none of that happens.
&gt; &gt;
&gt; &gt; Since it was a clear, explicit wish that List::MoreUtils::XS should
&gt; &gt; be
&gt; &gt; installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-">https://github.com/perl5-utils/List-</a></span>
&gt; &gt; MoreUtils/issues/25&#41;.
&gt; &gt;
&gt; &gt; I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted users
&gt; &gt; as happy as possible.
&gt; &gt;
&gt; &gt; Best regards,
&gt; &gt; Jens
</div>&gt; 
&gt; There are a few issues with the current setup.
&gt; 
&gt; First, the xs vs pp options aren&#39;t working as intended.  They are
&gt; intended to toggle List::MoreUtils::XS as a recommendation and running
&gt; the xs tests.  They are actually only controlling the tests.
&gt; META_MERGE is entirely ignored on user machines.  Instead, LMU::XS is
&gt; always listed as a recommendation, because that is how the META_MERGE
&gt; option is set on the author machine.  On user machines, that metadata
&gt; is copied from the META.json file, only making adjustments based on
&gt; the PREREQ_PM/BUILD_REQUIRES/TEST_REQUIRES options.  This is a
&gt; limitation in EUMM which I don&#39;t have a good workaround for at this
&gt; time.
</div>
Understood &#40;more or less&#41;. So putting XS into PREREQ_PM and remove it
from there when PUREPERL_ONLY is set to a true value would be recognized
by EUMM and handled correctly?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Second is that List::MoreUtils::XS is only listed as a recommendation,
&gt; yet is a hard requirement of the tests.  This is the primary issue
&gt; preventing users from installing this dist.  The default behavior of
&gt; the Makefile.PL is to enable the xs tests.  But since LMU::XS is only
&gt; ever listed as an optional prerequisite, most users will not have it
&gt; installed or upgraded.  To resolve this, the xs tests should skip
&gt; themselves if an appropriate version of List::MoreUtils::XS is not
&gt; available.
</div>
This cannot be reasonably tested - since you&#39;ll never know at this time
whether XS has been installed but is broken or XS is not wanted.

I explained that long and wide - but ... yeah ... people :&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The conventional way these XS-optional prerequisites have been handled
&gt; elsewhere is by detecting if a compiler is available &#40;using a tool
&gt; like ExtUtils::HasCompiler&#41; and based on that setting a hard
&gt; prerequisite &#40;PREREQ_PM&#41; on the XS backend.  If this approach was
&gt; used, the xs tests could be enabled in the same way without having to
&gt; check for LMU::XS themselves.
</div>
ExtUtils::HasCompiler is broken by design and was built and released
to get rid of Config::AutoConf which noone had understood by noone wanted
to learn. A lot of &#34;flamewar&#34; was because of this and I really hope this
doesn&#39;t happen this time and here again - but the strong wish of removing
XS availability approval out of List::MoreUtils led to this issue.

It&#39;s a &#34;wash me but don&#39;t make me wet&#34; situation.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The current conflict checking code also looks like it has some issues.
&gt; It appears to only be removing the old arch versions of modules if
&gt; they are in the perl core directories.  This means upgrading from a
&gt; pre-XS-split version in a local::lib won&#39;t work.  The @killsite
&gt; content also looks wrong, and will contain an extra trailing .pm.
</div>
Yeah - that might be true. I don&#39;t like this at all but took it from
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/22">https://github.com/perl5-utils/List-MoreUtils/issues/22</a></span> as you recommended.

I don&#39;t think perlbrews or local::libs shall be treated like an updatable
user-package-tree. It is not, not all all.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745981" href="/Public/Bug/Display.html?id=122875#txn-1745981">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;11:20:41&nbsp;2017</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745981/939139/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939139">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 23 10:55:04 2017, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Aug 23 10:37:45 2017, haarg wrote:
<div class="message-stanza open">&gt; &gt; On Wed Aug 23 05:37:50 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; &gt; This is unfortunately a false negative :&#40;
&gt; &gt; &gt;
&gt; &gt; &gt; When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in
&gt; &gt; &gt; invoked neither what happened to the recommended dependencies&#41;,
&gt; &gt; &gt; List::MoreUtils::XS is put into recommendations and the xs-tests are
&gt; &gt; &gt; activated.
&gt; &gt; &gt;
&gt; &gt; &gt; When you specify PUREPERL_ONLY=1, none of that happens.
&gt; &gt; &gt;
&gt; &gt; &gt; Since it was a clear, explicit wish that List::MoreUtils::XS should
&gt; &gt; &gt; be
&gt; &gt; &gt; installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-">https://github.com/perl5-utils/List-</a></span>
&gt; &gt; &gt; MoreUtils/issues/25&#41;.
&gt; &gt; &gt;
&gt; &gt; &gt; I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted users
&gt; &gt; &gt; as happy as possible.
&gt; &gt; &gt;
&gt; &gt; &gt; Best regards,
&gt; &gt; &gt; Jens
</div>&gt; &gt; 
&gt; &gt; There are a few issues with the current setup.
&gt; &gt; 
&gt; &gt; First, the xs vs pp options aren&#39;t working as intended.  They are
&gt; &gt; intended to toggle List::MoreUtils::XS as a recommendation and running
&gt; &gt; the xs tests.  They are actually only controlling the tests.
&gt; &gt; META_MERGE is entirely ignored on user machines.  Instead, LMU::XS is
&gt; &gt; always listed as a recommendation, because that is how the META_MERGE
&gt; &gt; option is set on the author machine.  On user machines, that metadata
&gt; &gt; is copied from the META.json file, only making adjustments based on
&gt; &gt; the PREREQ_PM/BUILD_REQUIRES/TEST_REQUIRES options.  This is a
&gt; &gt; limitation in EUMM which I don&#39;t have a good workaround for at this
&gt; &gt; time.
</div>&gt; 
&gt; Understood &#40;more or less&#41;. So putting XS into PREREQ_PM and remove it
&gt; from there when PUREPERL_ONLY is set to a true value would be recognized
&gt; by EUMM and handled correctly?
</div>
Yes, that would work correctly.  Although it would end up with LMU::XS usually being a hard prerequisite.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Second is that List::MoreUtils::XS is only listed as a recommendation,
&gt; &gt; yet is a hard requirement of the tests.  This is the primary issue
&gt; &gt; preventing users from installing this dist.  The default behavior of
&gt; &gt; the Makefile.PL is to enable the xs tests.  But since LMU::XS is only
&gt; &gt; ever listed as an optional prerequisite, most users will not have it
&gt; &gt; installed or upgraded.  To resolve this, the xs tests should skip
&gt; &gt; themselves if an appropriate version of List::MoreUtils::XS is not
&gt; &gt; available.
</div>&gt; 
&gt; This cannot be reasonably tested - since you&#39;ll never know at this time
&gt; whether XS has been installed but is broken or XS is not wanted.
&gt; 
&gt; I explained that long and wide - but ... yeah ... people :&#41;
</div>
If the XS module is optional in the prerequisites, then it has to be optional in the tests.  If you want to keep it as required in the tests, then it needs to be a hard prerequisite in the Makefile.PL.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; The conventional way these XS-optional prerequisites have been handled
&gt; &gt; elsewhere is by detecting if a compiler is available &#40;using a tool
&gt; &gt; like ExtUtils::HasCompiler&#41; and based on that setting a hard
&gt; &gt; prerequisite &#40;PREREQ_PM&#41; on the XS backend.  If this approach was
&gt; &gt; used, the xs tests could be enabled in the same way without having to
&gt; &gt; check for LMU::XS themselves.
</div>&gt; 
&gt; ExtUtils::HasCompiler is broken by design and was built and released
&gt; to get rid of Config::AutoConf which noone had understood by noone wanted
&gt; to learn. A lot of &#34;flamewar&#34; was because of this and I really hope this
&gt; doesn&#39;t happen this time and here again - but the strong wish of removing
&gt; XS availability approval out of List::MoreUtils led to this issue.
&gt; 
&gt; It&#39;s a &#34;wash me but don&#39;t make me wet&#34; situation.
</div>
I&#39;m not specifically advocating for ExtUtils::HasCompiler, although I do believe it is a good solution.

The convention for this is to decide up front if we are going to use the XS version based on if a compiler is available, and allowing a user override &#40;PUREPERL_ONLY&#41;.  Then it becomes simple to control the XS prerequisite and any tests.

I&#39;m not certain which part of this you have a conflict with.  If it&#39;s only the choice of EUHC, then using something else to detect the compiler would also make sense.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; The current conflict checking code also looks like it has some issues.
&gt; &gt; It appears to only be removing the old arch versions of modules if
&gt; &gt; they are in the perl core directories.  This means upgrading from a
&gt; &gt; pre-XS-split version in a local::lib won&#39;t work.  The @killsite
&gt; &gt; content also looks wrong, and will contain an extra trailing .pm.
</div>&gt; 
&gt; Yeah - that might be true. I don&#39;t like this at all but took it from
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/22">https://github.com/perl5-utils/List-MoreUtils/issues/22</a></span> as you recommended.
&gt; 
&gt; I don&#39;t think perlbrews or local::libs shall be treated like an updatable
&gt; user-package-tree. It is not, not all all.
</div>
This seems an odd decision given that it isn&#39;t hard to support, and deploying and updating local::libs is very common.  The code you are using is doing extra work to check for the core directories, when not doing those checks would allow it to work with local::lib seamlessly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745984" href="/Public/Bug/Display.html?id=122875#txn-1745984">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;11:45:29&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745984/939142/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939142">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 23 11:20:41 2017, haarg wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Aug 23 10:55:04 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; On Wed Aug 23 10:37:45 2017, haarg wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Wed Aug 23 05:37:50 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; This is unfortunately a false negative :&#40;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in
&gt; &gt; &gt; &gt; invoked neither what happened to the recommended dependencies&#41;,
&gt; &gt; &gt; &gt; List::MoreUtils::XS is put into recommendations and the xs-tests
&gt; &gt; &gt; &gt; are
&gt; &gt; &gt; &gt; activated.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; When you specify PUREPERL_ONLY=1, none of that happens.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Since it was a clear, explicit wish that List::MoreUtils::XS
&gt; &gt; &gt; &gt; should
&gt; &gt; &gt; &gt; be
&gt; &gt; &gt; &gt; installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-">https://github.com/perl5-utils/List-</a></span>
&gt; &gt; &gt; &gt; MoreUtils/issues/25&#41;.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted
&gt; &gt; &gt; &gt; users
&gt; &gt; &gt; &gt; as happy as possible.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Best regards,
&gt; &gt; &gt; &gt; Jens
</div>&gt; &gt; &gt;
&gt; &gt; &gt; There are a few issues with the current setup.
&gt; &gt; &gt;
&gt; &gt; &gt; First, the xs vs pp options aren&#39;t working as intended.  They are
&gt; &gt; &gt; intended to toggle List::MoreUtils::XS as a recommendation and
&gt; &gt; &gt; running
&gt; &gt; &gt; the xs tests.  They are actually only controlling the tests.
&gt; &gt; &gt; META_MERGE is entirely ignored on user machines.  Instead, LMU::XS
&gt; &gt; &gt; is
&gt; &gt; &gt; always listed as a recommendation, because that is how the
&gt; &gt; &gt; META_MERGE
&gt; &gt; &gt; option is set on the author machine.  On user machines, that
&gt; &gt; &gt; metadata
&gt; &gt; &gt; is copied from the META.json file, only making adjustments based on
&gt; &gt; &gt; the PREREQ_PM/BUILD_REQUIRES/TEST_REQUIRES options.  This is a
&gt; &gt; &gt; limitation in EUMM which I don&#39;t have a good workaround for at this
&gt; &gt; &gt; time.
</div>&gt; &gt;
&gt; &gt; Understood &#40;more or less&#41;. So putting XS into PREREQ_PM and remove it
&gt; &gt; from there when PUREPERL_ONLY is set to a true value would be
&gt; &gt; recognized
&gt; &gt; by EUMM and handled correctly?
</div>&gt; 
&gt; Yes, that would work correctly.  Although it would end up with LMU::XS
&gt; usually being a hard prerequisite.
</div>
How does dynamic_configuration=1 works then? What can be changed on
user machines?
The tests shall be coupled with the prereq.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Second is that List::MoreUtils::XS is only listed as a
&gt; &gt; &gt; recommendation,
&gt; &gt; &gt; yet is a hard requirement of the tests.  This is the primary issue
&gt; &gt; &gt; preventing users from installing this dist.  The default behavior
&gt; &gt; &gt; of
&gt; &gt; &gt; the Makefile.PL is to enable the xs tests.  But since LMU::XS is
&gt; &gt; &gt; only
&gt; &gt; &gt; ever listed as an optional prerequisite, most users will not have
&gt; &gt; &gt; it
&gt; &gt; &gt; installed or upgraded.  To resolve this, the xs tests should skip
&gt; &gt; &gt; themselves if an appropriate version of List::MoreUtils::XS is not
&gt; &gt; &gt; available.
</div>&gt; &gt;
&gt; &gt; This cannot be reasonably tested - since you&#39;ll never know at this
&gt; &gt; time
&gt; &gt; whether XS has been installed but is broken or XS is not wanted.
&gt; &gt;
&gt; &gt; I explained that long and wide - but ... yeah ... people :&#41;
</div>&gt; 
&gt; If the XS module is optional in the prerequisites, then it has to be
&gt; optional in the tests.  If you want to keep it as required in the
&gt; tests, then it needs to be a hard prerequisite in the Makefile.PL.
</div>
I want both be turned on and off with the same trigger. And it seems
when default is both on and turned of dynamically is the preferred
way &#40;I&#39;m unoppiniated here&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; The conventional way these XS-optional prerequisites have been
&gt; &gt; &gt; handled
&gt; &gt; &gt; elsewhere is by detecting if a compiler is available &#40;using a tool
&gt; &gt; &gt; like ExtUtils::HasCompiler&#41; and based on that setting a hard
&gt; &gt; &gt; prerequisite &#40;PREREQ_PM&#41; on the XS backend.  If this approach was
&gt; &gt; &gt; used, the xs tests could be enabled in the same way without having
&gt; &gt; &gt; to
&gt; &gt; &gt; check for LMU::XS themselves.
</div>&gt; &gt;
&gt; &gt; ExtUtils::HasCompiler is broken by design and was built and released
&gt; &gt; to get rid of Config::AutoConf which noone had understood by noone
&gt; &gt; wanted
&gt; &gt; to learn. A lot of &#34;flamewar&#34; was because of this and I really hope
&gt; &gt; this
&gt; &gt; doesn&#39;t happen this time and here again - but the strong wish of
&gt; &gt; removing
&gt; &gt; XS availability approval out of List::MoreUtils led to this issue.
&gt; &gt;
&gt; &gt; It&#39;s a &#34;wash me but don&#39;t make me wet&#34; situation.
</div>&gt; 
&gt; I&#39;m not specifically advocating for ExtUtils::HasCompiler, although I
&gt; do believe it is a good solution.
</div>
It lacks to much...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The convention for this is to decide up front if we are going to use
&gt; the XS version based on if a compiler is available, and allowing a
&gt; user override &#40;PUREPERL_ONLY&#41;.  Then it becomes simple to control the
&gt; XS prerequisite and any tests.
&gt; 
&gt; I&#39;m not certain which part of this you have a conflict with.  If it&#39;s
&gt; only the choice of EUHC, then using something else to detect the
&gt; compiler would also make sense.
</div>
...
&lt;haarg&gt; i don&#39;t like Config::AutoConf, but i do think using it like i described for EUHC would be better than how things are now

So the recommendation is, proving for XS build availability. And if
at any point in time something better than Config::AutoConf comes
around, it&#39;ll favoured.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; The current conflict checking code also looks like it has some
&gt; &gt; &gt; issues.
&gt; &gt; &gt; It appears to only be removing the old arch versions of modules if
&gt; &gt; &gt; they are in the perl core directories.  This means upgrading from a
&gt; &gt; &gt; pre-XS-split version in a local::lib won&#39;t work.  The @killsite
&gt; &gt; &gt; content also looks wrong, and will contain an extra trailing .pm.
</div>&gt; &gt;
&gt; &gt; Yeah - that might be true. I don&#39;t like this at all but took it from
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/22">https://github.com/perl5-utils/List-MoreUtils/issues/22</a></span> as you
&gt; &gt; recommended.
&gt; &gt;
&gt; &gt; I don&#39;t think perlbrews or local::libs shall be treated like an
&gt; &gt; updatable
&gt; &gt; user-package-tree. It is not, not all all.
</div>&gt; 
&gt; This seems an odd decision given that it isn&#39;t hard to support, and
&gt; deploying and updating local::libs is very common.  The code you are
&gt; using is doing extra work to check for the core directories, when not
&gt; doing those checks would allow it to work with local::lib seamlessly.
</div>
For me it&#39;s completely weird. If you have a small patch, I happily
add that. I took the recommendation against my opinion - so I might
have thoughts and opinions and decide _always_ for users.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1745994" href="/Public/Bug/Display.html?id=122875#txn-1745994">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;23&nbsp;11:53:45&nbsp;2017</span>
    <span class="description">haarg [...] haarg.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1745994/939148/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939148">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 23 11:45:29 2017, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Aug 23 11:20:41 2017, haarg wrote:
<div class="message-stanza open">&gt; &gt; On Wed Aug 23 10:55:04 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Wed Aug 23 10:37:45 2017, haarg wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Wed Aug 23 05:37:50 2017, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; This is unfortunately a false negative :&#40;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; When you don&#39;t specify anything &#40;I don&#39;t see how Makefile.PL in
&gt; &gt; &gt; &gt; &gt; invoked neither what happened to the recommended dependencies&#41;,
&gt; &gt; &gt; &gt; &gt; List::MoreUtils::XS is put into recommendations and the xs-
&gt; &gt; &gt; &gt; &gt; tests
&gt; &gt; &gt; &gt; &gt; are
&gt; &gt; &gt; &gt; &gt; activated.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; When you specify PUREPERL_ONLY=1, none of that happens.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Since it was a clear, explicit wish that List::MoreUtils::XS
&gt; &gt; &gt; &gt; &gt; should
&gt; &gt; &gt; &gt; &gt; be
&gt; &gt; &gt; &gt; &gt; installed when possible &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-">https://github.com/perl5-</a></span>
&gt; &gt; &gt; &gt; &gt; utils/List-
&gt; &gt; &gt; &gt; &gt; MoreUtils/issues/25&#41;.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; I appreciate any &#40;reasonable&#41; suggestion to keep even unwanted
&gt; &gt; &gt; &gt; &gt; users
&gt; &gt; &gt; &gt; &gt; as happy as possible.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Best regards,
&gt; &gt; &gt; &gt; &gt; Jens
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; There are a few issues with the current setup.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; First, the xs vs pp options aren&#39;t working as intended.  They are
&gt; &gt; &gt; &gt; intended to toggle List::MoreUtils::XS as a recommendation and
&gt; &gt; &gt; &gt; running
&gt; &gt; &gt; &gt; the xs tests.  They are actually only controlling the tests.
&gt; &gt; &gt; &gt; META_MERGE is entirely ignored on user machines.  Instead,
&gt; &gt; &gt; &gt; LMU::XS
&gt; &gt; &gt; &gt; is
&gt; &gt; &gt; &gt; always listed as a recommendation, because that is how the
&gt; &gt; &gt; &gt; META_MERGE
&gt; &gt; &gt; &gt; option is set on the author machine.  On user machines, that
&gt; &gt; &gt; &gt; metadata
&gt; &gt; &gt; &gt; is copied from the META.json file, only making adjustments based
&gt; &gt; &gt; &gt; on
&gt; &gt; &gt; &gt; the PREREQ_PM/BUILD_REQUIRES/TEST_REQUIRES options.  This is a
&gt; &gt; &gt; &gt; limitation in EUMM which I don&#39;t have a good workaround for at
&gt; &gt; &gt; &gt; this
&gt; &gt; &gt; &gt; time.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Understood &#40;more or less&#41;. So putting XS into PREREQ_PM and remove
&gt; &gt; &gt; it
&gt; &gt; &gt; from there when PUREPERL_ONLY is set to a true value would be
&gt; &gt; &gt; recognized
&gt; &gt; &gt; by EUMM and handled correctly?
</div>&gt; &gt;
&gt; &gt; Yes, that would work correctly.  Although it would end up with
&gt; &gt; LMU::XS
&gt; &gt; usually being a hard prerequisite.
</div>&gt; 
&gt; How does dynamic_configuration=1 works then? What can be changed on
&gt; user machines?
&gt; The tests shall be coupled with the prereq.
</div>
Prerequisites can be changed under dynamic_config.  What I meant by this making it a hard prerequisite is that it would by default be a hard prereq unless you also add the compiler detection.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; Second is that List::MoreUtils::XS is only listed as a
&gt; &gt; &gt; &gt; recommendation,
&gt; &gt; &gt; &gt; yet is a hard requirement of the tests.  This is the primary
&gt; &gt; &gt; &gt; issue
&gt; &gt; &gt; &gt; preventing users from installing this dist.  The default behavior
&gt; &gt; &gt; &gt; of
&gt; &gt; &gt; &gt; the Makefile.PL is to enable the xs tests.  But since LMU::XS is
&gt; &gt; &gt; &gt; only
&gt; &gt; &gt; &gt; ever listed as an optional prerequisite, most users will not have
&gt; &gt; &gt; &gt; it
&gt; &gt; &gt; &gt; installed or upgraded.  To resolve this, the xs tests should skip
&gt; &gt; &gt; &gt; themselves if an appropriate version of List::MoreUtils::XS is
&gt; &gt; &gt; &gt; not
&gt; &gt; &gt; &gt; available.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; This cannot be reasonably tested - since you&#39;ll never know at this
&gt; &gt; &gt; time
&gt; &gt; &gt; whether XS has been installed but is broken or XS is not wanted.
&gt; &gt; &gt;
&gt; &gt; &gt; I explained that long and wide - but ... yeah ... people :&#41;
</div>&gt; &gt;
&gt; &gt; If the XS module is optional in the prerequisites, then it has to be
&gt; &gt; optional in the tests.  If you want to keep it as required in the
&gt; &gt; tests, then it needs to be a hard prerequisite in the Makefile.PL.
</div>&gt; 
&gt; I want both be turned on and off with the same trigger. And it seems
&gt; when default is both on and turned of dynamically is the preferred
&gt; way &#40;I&#39;m unoppiniated here&#41;.
&gt; 
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; The conventional way these XS-optional prerequisites have been
&gt; &gt; &gt; &gt; handled
&gt; &gt; &gt; &gt; elsewhere is by detecting if a compiler is available &#40;using a
&gt; &gt; &gt; &gt; tool
&gt; &gt; &gt; &gt; like ExtUtils::HasCompiler&#41; and based on that setting a hard
&gt; &gt; &gt; &gt; prerequisite &#40;PREREQ_PM&#41; on the XS backend.  If this approach was
&gt; &gt; &gt; &gt; used, the xs tests could be enabled in the same way without
&gt; &gt; &gt; &gt; having
&gt; &gt; &gt; &gt; to
&gt; &gt; &gt; &gt; check for LMU::XS themselves.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; ExtUtils::HasCompiler is broken by design and was built and
&gt; &gt; &gt; released
&gt; &gt; &gt; to get rid of Config::AutoConf which noone had understood by noone
&gt; &gt; &gt; wanted
&gt; &gt; &gt; to learn. A lot of &#34;flamewar&#34; was because of this and I really hope
&gt; &gt; &gt; this
&gt; &gt; &gt; doesn&#39;t happen this time and here again - but the strong wish of
&gt; &gt; &gt; removing
&gt; &gt; &gt; XS availability approval out of List::MoreUtils led to this issue.
&gt; &gt; &gt;
&gt; &gt; &gt; It&#39;s a &#34;wash me but don&#39;t make me wet&#34; situation.
</div>&gt; &gt;
&gt; &gt; I&#39;m not specifically advocating for ExtUtils::HasCompiler, although I
&gt; &gt; do believe it is a good solution.
</div>&gt; 
&gt; It lacks to much...
&gt; 
<div class="message-stanza open">&gt; &gt; The convention for this is to decide up front if we are going to use
&gt; &gt; the XS version based on if a compiler is available, and allowing a
&gt; &gt; user override &#40;PUREPERL_ONLY&#41;.  Then it becomes simple to control the
&gt; &gt; XS prerequisite and any tests.
&gt; &gt;
&gt; &gt; I&#39;m not certain which part of this you have a conflict with.  If it&#39;s
&gt; &gt; only the choice of EUHC, then using something else to detect the
&gt; &gt; compiler would also make sense.
</div>&gt; 
&gt; ...
&gt; &lt;haarg&gt; i don&#39;t like Config::AutoConf, but i do think using it like i
&gt; described for EUHC would be better than how things are now
&gt; 
&gt; So the recommendation is, proving for XS build availability. And if
&gt; at any point in time something better than Config::AutoConf comes
&gt; around, it&#39;ll favoured.
&gt; 
<div class="message-stanza open"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; The current conflict checking code also looks like it has some
&gt; &gt; &gt; &gt; issues.
&gt; &gt; &gt; &gt; It appears to only be removing the old arch versions of modules
&gt; &gt; &gt; &gt; if
&gt; &gt; &gt; &gt; they are in the perl core directories.  This means upgrading from
&gt; &gt; &gt; &gt; a
&gt; &gt; &gt; &gt; pre-XS-split version in a local::lib won&#39;t work.  The @killsite
&gt; &gt; &gt; &gt; content also looks wrong, and will contain an extra trailing .pm.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Yeah - that might be true. I don&#39;t like this at all but took it
&gt; &gt; &gt; from
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/22">https://github.com/perl5-utils/List-MoreUtils/issues/22</a></span> as you
&gt; &gt; &gt; recommended.
&gt; &gt; &gt;
&gt; &gt; &gt; I don&#39;t think perlbrews or local::libs shall be treated like an
&gt; &gt; &gt; updatable
&gt; &gt; &gt; user-package-tree. It is not, not all all.
</div>&gt; &gt;
&gt; &gt; This seems an odd decision given that it isn&#39;t hard to support, and
&gt; &gt; deploying and updating local::libs is very common.  The code you are
&gt; &gt; using is doing extra work to check for the core directories, when not
&gt; &gt; doing those checks would allow it to work with local::lib seamlessly.
</div>&gt; 
&gt; For me it&#39;s completely weird. If you have a small patch, I happily
&gt; add that. I took the recommendation against my opinion - so I might
&gt; have thoughts and opinions and decide _always_ for users.
</div>
I&#39;ll look at providing a patch for this.  It is a separate issue from the primary focus of this ticket anyway.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1746149" href="/Public/Bug/Display.html?id=122875#txn-1746149">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;24&nbsp;11:44:33&nbsp;2017</span>
    <span class="description">DBOOK [...] cpan.org -  Cc DBOOK added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1746858" href="/Public/Bug/Display.html?id=122875#txn-1746858">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;30&nbsp;21:32:00&nbsp;2017</span>
    <span class="description">PLICEASE [...] cpan.org -  Cc PLICEASE added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747226" href="/Public/Bug/Display.html?id=122875#txn-1747226">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;04&nbsp;13:07:46&nbsp;2017</span>
    <span class="description">johanl [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747226/939825/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939825">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 448b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This breaks installation of this module and quite a lot of downstream modules &#40;looking at <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/requires/module/List::MoreUtils?p=1&#38;size=100&#38;sort=%5B%5B2%2C1%5D%5D">https://metacpan.org/requires/module/List::MoreUtils?p=1&#38;size=100&#38;sort=%5B%5B2%2C1%5D%5D</a></span>, about 900&#41;.

Would it be possible to put a quick fix in place, to unbreak all these modules, and then sort out the issue in an ideal way without any time pressure?

Reverting to the previous version would be better than not being able to install it at all, IMHO.


/J
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747237" href="/Public/Bug/Display.html?id=122875#txn-1747237">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;04&nbsp;13:35:14&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747237/939831/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939831">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 161b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">There was a trial version out for a quite reasonable time. No, a revert is not reasonable and yes, I deal this with priority. Rushing something is insane anyway.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747240" href="/Public/Bug/Display.html?id=122875#txn-1747240">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;04&nbsp;14:25:39&nbsp;2017</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747240/939834/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939834">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 847b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 20170904T173514Z, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There was a trial version out for a quite reasonable time.
</div>
Just for the sake of revelation:

There was a trial release out for *one* week. And this week should have been enough to *prevent* this release. Test results available from <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=List-MoreUtils+0.420_001">http://matrix.cpantesters.org/?dist=List-MoreUtils+0.420_001</a></span>. It has a pass to fail ratio of 1:9.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; No, a
&gt; revert is not reasonable and yes, I deal this with priority. Rushing
&gt; something is insane anyway.
</div>

Please reconsider your position. I&#39;d recommend a revert too.

For those watching this from home: if you&#39;re using CPAN.pm, you can workaround this fuckup with the following distroprefs file:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/andk/cpanpm/commit/a8be5247e6d2784617faf9a59c8e6720ed81eff8">https://github.com/andk/cpanpm/commit/a8be5247e6d2784617faf9a59c8e6720ed81eff8</a></span>

It simply prevents that your cpan shell ever tries to install this broken release.

Good luck,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747266" href="/Public/Bug/Display.html?id=122875#txn-1747266">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;05&nbsp;03:31:20&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747266/939848/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939848">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Sep 04 14:25:39 2017, ANDK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 20170904T173514Z, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; There was a trial version out for a quite reasonable time.
</div>&gt; 
&gt; Just for the sake of revelation:
&gt; 
&gt; There was a trial release out for *one* week. And this week should
&gt; have been enough to *prevent* this release. Test results available
&gt; from <span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=List-MoreUtils+0.420_001">http://matrix.cpantesters.org/?dist=List-MoreUtils+0.420_001</a></span>. It
&gt; has a pass to fail ratio of 1:9.
</div>
At which time? Was there on the web-site on 22 Aug 2017 08:29:26 GMT or yesterday? Unfortunately that&#39;s a big difference and at the time I prepared the release, there was at least a handful with issues. Together with my experience with CPAN.pm &#40;which installs recommended and even fails if a recommendation failed to install&#41;, I rated that as fairly ok. When the picture changes, drop me a note &#40;what happens yesterday&#41; and do not expect I follow an unknown checklist.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; No, a
&gt; &gt; revert is not reasonable and yes, I deal this with priority. Rushing
&gt; &gt; something is insane anyway.
</div>&gt; 
&gt; 
&gt; Please reconsider your position. I&#39;d recommend a revert too.
</div>
For several reasons a revert hurts real users while a fix just hurts cpantesters.
If you strongly need to install List::MoreUtils using a client not supporting recommends, I consider relying on the feature supported since 0.400: 
$ env PUREPERL_ONLY=1 perl Makefile.PL
$ env PUREPERL_ONLY=1 cpan List::MoreUtils

If you want to speed up a 0.424 fixing just the recommend/require-behavior, check <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/commit/7a9b063af67eee688377d1060c1b73df3e394eef">https://github.com/perl5-utils/List-MoreUtils/commit/7a9b063af67eee688377d1060c1b73df3e394eef</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For those watching this from home: if you&#39;re using CPAN.pm, you can
&gt; workaround this fuckup with the following distroprefs file:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/andk/cpanpm/commit/a8be5247e6d2784617faf9a59c8e6720ed81eff8">https://github.com/andk/cpanpm/commit/a8be5247e6d2784617faf9a59c8e6720ed81eff8</a></span>
&gt; 
&gt; It simply prevents that your cpan shell ever tries to install this
&gt; broken release.
</div>
This breaks situation for users relying on new functions of List::MoreUtils 0.423.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Good luck,
</div>
Seriously?

Cheers,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747284" href="/Public/Bug/Display.html?id=122875#txn-1747284">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;05&nbsp;07:10:17&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747284/939860/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939860">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 381b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For the meta-&gt;recommend vs. PREREQ_PM a 0.424_001 is released.
This tests one more thing I&#39;m interested in - the expected 0.425 will have the requirement for List::MoreUtils::XS in deployed META.yml and will remove that on

$ PERL__MM_OPT=&#34;PUREPERL_ONLY=1&#34; ...

If one has a sane argument leaving xs-tests out for now and what is required to have them in, please speak up soon&#39;ish.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747426" href="/Public/Bug/Display.html?id=122875#txn-1747426">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;06&nbsp;05:20:38&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747426/939937/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939937">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 65b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">0.425 out which might or might not make CPAN Testers much greener
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> LMU-0.424_001-Testers-Matrix.png</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747426/939938/LMU-0.424_001-Testers-Matrix.png">Download LMU-0.424_001-Testers-Matrix.png</a><br />
<span class="downloadcontenttype">image/png 424.1k</span>
</div>
<div class="messagebody">
<img alt="LMU-0.424_001-Testers-Matrix.png" title="LMU-0.424_001-Testers-Matrix.png" src="/Ticket/Attachment/1747426/939938/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747489" href="/Public/Bug/Display.html?id=122875#txn-1747489">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;06&nbsp;11:33:34&nbsp;2017</span>
    <span class="description">DBOOK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747489/939981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939981">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 443b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 06 05:20:38 2017, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 0.425 out which might or might not make CPAN Testers much greener
</div>
This solves the issue in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-utils/List-MoreUtils/issues/25">https://github.com/perl5-utils/List-MoreUtils/issues/25</a></span> , and the xs tests seem to be correctly skipped when not requiring LMU::XS. The only remaining user-experience issue that I can see is that if PUREPERL_ONLY=1 is not specified but there is no compiler, the dependency of LMU::XS will fail to install.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1747513" href="/Public/Bug/Display.html?id=122875#txn-1747513">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;06&nbsp;14:48:53&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1747513/939997/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/939997">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 206b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">There can be much more preventing successful installing LMU::XS than a missing compiler. I postpone that approval because of the burning situation. It&#39;s still priority, but no &#34;immediate reaction&#34; required.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1761923" href="/Public/Bug/Display.html?id=122875#txn-1761923">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;12&nbsp;14:01:21&nbsp;2017</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.916798</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
