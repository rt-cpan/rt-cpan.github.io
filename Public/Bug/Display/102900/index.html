<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #102900 for Plack-App-AutoCRUD: doesn&#39;t work with recent versions of JSON.pm because of changed API</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #102900 for Plack-App-AutoCRUD: doesn&#39;t work with recent versions of JSON.pm because of changed API</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Plack-App-AutoCRUD">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Plack-App-AutoCRUD">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Plack-App-AutoCRUD">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Plack-App-AutoCRUD">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Plack-App-AutoCRUD">Plack-App-AutoCRUD CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">102900</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Plack-App-AutoCRUD">Plack-App-AutoCRUD</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">DAMI [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
richard [...] doubleprime.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-253192-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-253193-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=102900">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475596" href="/Public/Bug/Display.html?id=102900#txn-1475596">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;06:22:41&nbsp;2015</span>
    <span class="description">richard [...] doubleprime.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> A bug in DBIx/DataModel/Schema/Generator.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 20 Mar 2015 06:22:28 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Plack-App-AutoCRUD [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Richard Chen &lt;richard [...] doubleprime.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1475596/785894/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/785894">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

        I am trying out autocrud on a simple database in which
I only have a couple of unrelated tables and I got errors like

===
500 Server Error

can&#39;t generate schema: no data. Call parse_DBI&#40;&#41; or parse_DBIx_Class&#40;&#41;
before at ../../lib/App/AutoCRUD/DataSource.pm line 114.
===

I have traced this to the undef value for $self-&gt;{assoc} as shown below:

[root@myserver html]# diff -u /u01/ops/perl-5.20.1/lib/site_perl/5.20.1/DBIx/DataModel/Schema/Generator.pm.sav /u01/ops/perl-5.20.1/lib/site_perl/5.20.1/DBIx/DataModel/Schema/Generator.pm 
---
/u01/ops/perl-5.20.1/lib/site_perl/5.20.1/DBIx/DataModel/Schema/Generator.pm.sav
2015-03-11 20:24:53.000000000 -0400
+++
/u01/ops/perl-5.20.1/lib/site_perl/5.20.1/DBIx/DataModel/Schema/Generator.pm
2015-03-20 04:07:48.823876390 -0400
@@ -288,7 +288,8 @@
   my &#40;$self&#41; = @_;
 
   # check that we have some data
-  $self-&gt;{assoc} &#38;&#38; $self-&gt;{tables}
+#  $self-&gt;{assoc} &#38;&#38; $self-&gt;{tables}
+   $self-&gt;{tables}
     or croak &#34;can&#39;t generate schema: no data. &#34;
            . &#34;Call parse_DBI&#40;&#41; or parse_DBIx_Class&#40;&#41; before&#34;;

I am not familiar with the autocrud code base yet but it appears that 
$self-&gt;{assoc} is for associations or relationships among the tables 
and if there are no relationship among the tables, then this value can be undef.
This should not be considered as an error because autocrud should cover
the simple cases as well as complicated ones.

The above changes seems to have made my simple test database work.

Please confirm if this is the case and if it needs to be fixed.

It would also be nice to have some info about troubleshoot autocrud.
I just used perl debugger on the command line but there may be
better ways.

Another issue is that if json output fails if you install the latest
JSON and JSON::XS because calls like

my $json_maker = JSON-&gt;new&#40;%{$self-&gt;{json_args}}&#41;;

does not work any more in the newer versions.

I have not used autcrud much yet but it seems to be really useful.
Thanks for your hard work.

Thanks

Richard Chen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475693" href="/Public/Bug/Display.html?id=102900#txn-1475693">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;12:12:14&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Member ticket #102908 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475789" href="/Public/Bug/Display.html?id=102900#txn-1475789">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;15:45:18&nbsp;2015</span>
    <span class="description">laurent.dami [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102900] A bug in DBIx/DataModel/Schema/Generator.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 20 Mar 2015 21:44:51 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Plack-App-AutoCRUD [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Laurent Dami &lt;laurent.dami [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1475789/786001/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/786001">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le 20.03.2015 12:22, Richard Chen via RT a Ã©crit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       I am trying out autocrud
</div>Hi Richard, thanks for your interest.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; can&#39;t generate schema: no data. Call parse_DBI&#40;&#41; or parse_DBIx_Class&#40;&#41;
&gt; before at ../../lib/App/AutoCRUD/DataSource.pm line 114.
&gt; ===
</div>Indeed this is a bug in DBIx::DataModel &#40;because I never thought of such 
a use case&#41;.
I opened a child ticket for this point &#40;102908&#41;.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; It would also be nice to have some info about troubleshoot autocrud.
&gt; I just used perl debugger on the command line but there may be
&gt; better ways.
</div>Well, when the application runs you get HTTP error messages; but if the 
bugs are at earlier stages, as in your case, then I don&#39;t see better 
ways than using the debugger.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another issue is that if json output fails if you install the latest
&gt; JSON and JSON::XS because calls like
&gt;
&gt; my $json_maker = JSON-&gt;new&#40;%{$self-&gt;{json_args}}&#41;;
&gt;
&gt; does not work any more in the newer versions.
</div>Thanks, I wasn&#39;t aware of this &#40;unfortunate :-&#40; &#41; change.

Thanks for the bug report and detailed investigation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475790" href="/Public/Bug/Display.html?id=102900#txn-1475790">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;15:45:18&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475793" href="/Public/Bug/Display.html?id=102900#txn-1475793">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;15:48:19&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Subject changed from &#39;A bug in DBIx/DataModel/Schema/Generator.pm&#39; to &#39;doesn&#39;t work with recent versions of JSON.pm because of changed API&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475794" href="/Public/Bug/Display.html?id=102900#txn-1475794">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;15:48:19&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475832" href="/Public/Bug/Display.html?id=102900#txn-1475832">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;16:59:19&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1475832/786029/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/786029">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 376b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Mar 20 06:22:41 2015, richard@doubleprime.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another issue is that if json output fails if you install the latest
&gt; JSON and JSON::XS because calls like
&gt; 
&gt; my $json_maker = JSON-&gt;new&#40;%{$self-&gt;{json_args}}&#41;;
&gt; 
&gt; does not work any more in the newer versions.
</div>
Patched in 
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/damil/App-AutoCRUD/commit/df668b3f96ea273e2bab13bac8e672f94c4a4f79">https://github.com/damil/App-AutoCRUD/commit/df668b3f96ea273e2bab13bac8e672f94c4a4f79</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475834" href="/Public/Bug/Display.html?id=102900#txn-1475834">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;16:59:20&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1475924" href="/Public/Bug/Display.html?id=102900#txn-1475924">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;20&nbsp;20:11:52&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1475924/786088/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/786088">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 580b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-03-20 13:59:19, DAMI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Mar 20 06:22:41 2015, richard@doubleprime.com wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Another issue is that if json output fails if you install the latest
&gt; &gt; JSON and JSON::XS because calls like
&gt; &gt;
&gt; &gt; my $json_maker = JSON-&gt;new&#40;%{$self-&gt;{json_args}}&#41;;
&gt; &gt;
&gt; &gt; does not work any more in the newer versions.
</div>&gt; 
&gt; Patched in
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/damil/App-">https://github.com/damil/App-</a></span>
&gt; AutoCRUD/commit/df668b3f96ea273e2bab13bac8e672f94c4a4f79
</div>

I would suggest using JSON::MaybeXS here, as it provides an abstraction layer to multiple implementations as well as versions of JSON backends.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1476007" href="/Public/Bug/Display.html?id=102900#txn-1476007">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;21&nbsp;07:32:03&nbsp;2015</span>
    <span class="description">laurent.dami [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #102900] doesn&#39;t work with recent versions of JSON.pm because of changed API</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 21 Mar 2015 13:31:49 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Plack-App-AutoCRUD [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Laurent Dami &lt;laurent.dami [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1476007/786132/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/786132">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 405b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le 21.03.2015 02:11, Karen Etheridge via RT a Ã©crit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I would suggest using JSON::MaybeXS here, as it provides an 
&gt; abstraction layer to multiple implementations as well as versions of 
&gt; JSON backends. 
</div>Thanks for the suggestion, I&#39;ll do so.
I did not really follow the details of the controversy about JSON::XS, 
but using JSON::MaybeXS seems to be a good solution for maximum 
cross-compatibility.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1477660" href="/Public/Bug/Display.html?id=102900#txn-1477660">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;24&nbsp;03:44:18&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1477660/787045/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/787045">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 36b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Solved in v0.10, using JSON::MaybeXS
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1477662" href="/Public/Bug/Display.html?id=102900#txn-1477662">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;24&nbsp;03:44:19&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.453975</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
