<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #19305 for Tree-Suffix: Strange characters at the end of strings</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #19305 for Tree-Suffix: Strange characters at the end of strings</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Tree-Suffix/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Tree-Suffix/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Tree-Suffix/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Tree-Suffix/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Tree-Suffix">Tree-Suffix CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">19305</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Tree-Suffix/Active/">Tree-Suffix</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
wolfgang.bergner [...] web.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-38528-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.14    </td>
  </tr>
  <tr id="CF-38529-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test_stree<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/255123/110281/test_stree">
Tue Oct 24 13:47:38 2006 (1.4k) by mail [...] maasha.dk
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;17&nbsp;09:32:00&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Strange characters at the end of strings</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi gray,

I don&#39;t know if this is my fault or not, it would be great if you&#39;d have
a look at this.

I just added couple of strings to an array:
    my @arr = &#40;&#39;acute onset&#39;, &#39;acoa aneurysms&#39;, &#39;acute subarachnoid&#39;,
               &#39;age range&#39;, &#39;aneurysmal formation&#39;, &#39;acute period&#39;&#41;;

Then I added this to a Tree::Suffix
    my $tree = Tree::Suffix-&gt;new&#40;@arr&#41;;

When I now print all the strings in the tree with...
    foreach &#40;$tree-&gt;strings&#41; {
        print $tree-&gt;string&#40;$_&#41;, &#34;\n&#34;;
    }

...I get a weird output, i.e. at the end of some strings appears a
strange character. E.g.:
   acoa aneurysms
   acute onset
-&gt; acute period&lt;89&gt;
   acute subarachnoid
   age range
-&gt; aneurysmal formation^Y

I don&#39;t really see what could be wrong with my little code snippet, so
do you think this could be a bug? Would be great if you could help me
fast, since I could use this for my thesis which I have to finish in
only 5 weeks &#40;I know, this is not your problem&#41;.

Thanks a lot!
Wolfgang
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;17&nbsp;13:41:29&nbsp;2006</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gray [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 17 09:32:00 2006, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi gray,
&gt; 
&gt; I don&#39;t know if this is my fault or not, it would be great if you&#39;d have
&gt; a look at this.
&gt; 
&gt; I just added couple of strings to an array:
&gt;     my @arr = &#40;&#39;acute onset&#39;, &#39;acoa aneurysms&#39;, &#39;acute subarachnoid&#39;,
&gt;                &#39;age range&#39;, &#39;aneurysmal formation&#39;, &#39;acute period&#39;&#41;;
&gt; 
&gt; Then I added this to a Tree::Suffix
&gt;     my $tree = Tree::Suffix-&gt;new&#40;@arr&#41;;
&gt; 
&gt; When I now print all the strings in the tree with...
&gt;     foreach &#40;$tree-&gt;strings&#41; {
&gt;         print $tree-&gt;string&#40;$_&#41;, &#34;\n&#34;;
&gt;     }
&gt; 
&gt; ...I get a weird output, i.e. at the end of some strings appears a
&gt; strange character. E.g.:
&gt;    acoa aneurysms
&gt;    acute onset
&gt; -&gt; acute period&lt;89&gt;
&gt;    acute subarachnoid
&gt;    age range
&gt; -&gt; aneurysmal formation^Y
&gt; 
&gt; I don&#39;t really see what could be wrong with my little code snippet, so
&gt; do you think this could be a bug? Would be great if you could help me
&gt; fast, since I could use this for my thesis which I have to finish in
&gt; only 5 weeks &#40;I know, this is not your problem&#41;.
</div>
My first thought is your problem could be platform-specific. Did you run
`make test` when installing the module and if so, were all tests
successfull? The problem could also lie in the libstree library, to
which this module binds. Can you run the tests included in the source
for that library.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;17&nbsp;13:41:29&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;24&nbsp;13:47:37&nbsp;2006</span>
    <span class="description">mail [...] maasha.dk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mail [...] maasha.dk</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am having problems here also - it actually renders the module
completely useless so this is indeed a severe bug!

I am attaching a small test script to this bugreport.

On my system the output is:

$VAR1 = [
          &#39;gcggagccaactggagctgatcgaaccggaaccgac¹&#39;
        ];

note that superscript 1 at the end!!!

To me it looks like some pointer is overshooting somewhere and garble
from them memory is inserted by mistake. I can&#39;t tell if this is a bug
in Tree::Suffix, libstree, Perl, or my OS.

I am running:
Tree::Suffix 0.14
libstree-0.4.2
Perl 5.8.4
Debian/Linux

Martin
Debian/Linux 3




On Wed May 17 13:41:29 2006, GRAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed May 17 09:32:00 2006, guest wrote:
<div class="message-stanza open">&gt; &gt; Hi gray,
&gt; &gt; 
&gt; &gt; I don&#39;t know if this is my fault or not, it would be great if you&#39;d have
&gt; &gt; a look at this.
&gt; &gt; 
&gt; &gt; I just added couple of strings to an array:
&gt; &gt;     my @arr = &#40;&#39;acute onset&#39;, &#39;acoa aneurysms&#39;, &#39;acute subarachnoid&#39;,
&gt; &gt;                &#39;age range&#39;, &#39;aneurysmal formation&#39;, &#39;acute period&#39;&#41;;
&gt; &gt; 
&gt; &gt; Then I added this to a Tree::Suffix
&gt; &gt;     my $tree = Tree::Suffix-&gt;new&#40;@arr&#41;;
&gt; &gt; 
&gt; &gt; When I now print all the strings in the tree with...
&gt; &gt;     foreach &#40;$tree-&gt;strings&#41; {
&gt; &gt;         print $tree-&gt;string&#40;$_&#41;, &#34;\n&#34;;
&gt; &gt;     }
&gt; &gt; 
&gt; &gt; ...I get a weird output, i.e. at the end of some strings appears a
&gt; &gt; strange character. E.g.:
&gt; &gt;    acoa aneurysms
&gt; &gt;    acute onset
&gt; &gt; -&gt; acute period&lt;89&gt;
&gt; &gt;    acute subarachnoid
&gt; &gt;    age range
&gt; &gt; -&gt; aneurysmal formation^Y
&gt; &gt; 
&gt; &gt; I don&#39;t really see what could be wrong with my little code snippet, so
&gt; &gt; do you think this could be a bug? Would be great if you could help me
&gt; &gt; fast, since I could use this for my thesis which I have to finish in
&gt; &gt; only 5 weeks &#40;I know, this is not your problem&#41;.
</div>&gt; 
&gt; My first thought is your problem could be platform-specific. Did you run
&gt; `make test` when installing the module and if so, were all tests
&gt; successfull? The problem could also lie in the libstree library, to
&gt; which this module binds. Can you run the tests included in the source
&gt; for that library.
</div></div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/255123/110281/test_stree">Download test_stree</a><br />
<span class="downloadcontenttype">application/octet-stream 1.4k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;24&nbsp;14:07:08&nbsp;2006</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> gray [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 24 13:47:37 2006, maasha wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am having problems here also - it actually renders the module
&gt; completely useless so this is indeed a severe bug!
&gt; 
&gt; I am attaching a small test script to this bugreport.
&gt; 
&gt; On my system the output is:
&gt; 
&gt; $VAR1 = [
&gt;           &#39;gcggagccaactggagctgatcgaaccggaaccgac¹&#39;
&gt;         ];
&gt; 
&gt; note that superscript 1 at the end!!!
&gt; 
&gt; To me it looks like some pointer is overshooting somewhere and garble
&gt; from them memory is inserted by mistake. I can&#39;t tell if this is a bug
&gt; in Tree::Suffix, libstree, Perl, or my OS.
&gt; 
&gt; I am running:
&gt; Tree::Suffix 0.14
&gt; libstree-0.4.2
&gt; Perl 5.8.4
&gt; Debian/Linux
&gt; 
&gt; Martin
&gt; Debian/Linux 3
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; My first thought is your problem could be platform-specific. Did you run
&gt; &gt; `make test` when installing the module and if so, were all tests
&gt; &gt; successfull? The problem could also lie in the libstree library, to
&gt; &gt; which this module binds. Can you run the tests included in the source
&gt; &gt; for that library.
</div>&gt; 
</div>
Try testing libstree itself- it includes a directory of tests. You can
plug your inputs into the test program lcstext. This seems like a
platform-specific issue since I have not seen this problem on Mac OS X.
If it is a problem with the libstree, the author doesn&#39;t seem to be
supporting it anymore.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;24&nbsp;23:27:00&nbsp;2006</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">i asked the author if the library is abandonware and replied that he&#39;d
accept patches for the bugs.  so i&#39;m betting it won&#39;t be fixed unless
somebody else does it.

On Tue Oct 24 14:07:08 2006, GRAY wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If it is a problem with the libstree, the author doesn&#39;t seem to be
&gt; supporting it anymore.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;03&nbsp;14:09:58&nbsp;2007</span>
    <span class="description">gray [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;15&nbsp;22:08:16&nbsp;2009</span>
    <span class="description">JHANNAH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 24 14:07:08 2006, GRAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Try testing libstree itself- it includes a directory of tests. You can
&gt; plug your inputs into the test program lcstext. 
</div>
We&#39;re hitting the same problem on multiple Linux &#40;Ubuntu&#41; boxes. The
problem appears to be in libstree itself, in libstree 0.4.2 and 0.4.3. 

We run the libstree test program like so:

/opt/libstree-0.4.2/test/lrstext
GTTGTTGCTGATCACGAGCGCTGGGATGTCGAGCGCGGCCAGGACGGC
GCCGTCCTCGTCCGCCACGATCACGATCTGCGGCGTCGCCAGGCCGGGCACCGTCTCGACGGTGGTCAGCACACGGCCCCGGTGGAGCCAGGCTCTGACCTGGTCGCCCGG
GCCGTCATCGTCGGCCACGATCACAATGTGCGACGTTGACTGATCCGGCACCGGCCGGGCCGTGGAGGCCACCCGGTGCCGCTCTAACCAGGCCTGGATTTGGACCCC
CGGGGCGATGAGGACGTTGGTGACGAGCTCGGCGCGGTGCGCCCAGGTCGTCACCGCGTCTCCCGG
GACCAGCAGTGGCACGCTGGGCGTCCGCGCGGCCTGGATGGCCCGGATCGCGGCCGGTTCGATTACCTTGTAGCAGTCGACGTAGGCGTAGGAGGCCCTGGCCAGCGGTGCAAGGTCGACCGCGGTCAGGGCCTCGGCGACTCCTTGTAGGTACGG
CGGAACCCCTGCCCGGCGGGCGGCCTCGATGGCGCGGAGGCTTGCTGGTTCGATGAGCTGGTAGCAGTCCACATAGGCGAAGGATGCCGAGGCCAGCGGTGTGAGGTCCACGGCCATCAGCCCATCCAGTACCCCGGGCAGGTACGG
GGTGACTACCACCCACGAAGCTCCGGTCTGGCCCAGCAGGGTGGCGGCTACGGCCGGGGCAGTTTCGTGCGCGTCGTCGTCGACGTTGGTCTGGATGATCAGATCCGGGCAGTCCCGGAGGACGGACGCCACCATCGGTGTGAGGAC
CGTGACCACCACCCAGGAGGCCCGGGTCTGGCTCCGCAGGGAGGCCGCCGTCGCCAGGGCCTCCCCGTGCGCGGCGTCGTCCACGTTCGTCTGGATCACCAGCAGTTCCGGCCAATCCCGGAGCGCGGAAGCCACCTCCGG
GCGGACGGCCGCCGGTAGCTGATCCAGCGATTCACCGCACGCCAGCAGTTCCGTGAGATGCGGCAGCGGTTCGTGGTGGGCTCGCGCACACCGGAGCCCACCACTGGC
GCCGTCCTGGCCGCGCTCGACATCCCAGCGCTCGTGATCAGCAACAAC
CCGGGCGACCAGGTCAGAGCCTGGCTCCACCGGGGCCGTGTGCTGACCACCGTCGAGACGGTGCCCGGCCTGGCGACGCCGCAGATCGTGATCGTGGCGGACGAGGACGGC
GGGGTCCAAATCCAGGCCTGGTTAGAGCGGCACCGGGTGGCCTCCACGGCCCGGCCGGTGCCGGATCAGTCAACGTCGCACATTGTGATCGTGGCCGACGATGACGGC
CCGGGAGACGCGGTGACGACCTGGGCGCACCGCGCCGAGCTCGTCACCAACGTCCTCATCGCCCCG
CCGTACCTACAAGGAGTCGCCGAGGCCCTGACCGCGGTCGACCTTGCACCGCTGGCCAGGGCCTCCTACGCCTACGTCGACTGCTACAAGGTAATCGAACCGGCCGCGATCCGGGCCATCCAGGCCGCGCGGACGCCCAGCGTGCCACTGCTGGTC
CCGTACCTGCCCGGGGTACTGGATGGGCTGATGGCCGTGGACCTCACACCGCTGGCCTCGGCATCCTTCGCCTATGTGGACTGCTACCAGCTCATCGAACCAGCAAGCCTCCGCGCCATCGAGGCCGCCCGCCGGGCAGGGGTTCCG
GTCCTCACACCGATGGTGGCGTCCGTCCTCCGGGACTGCCCGGATCTGATCATCCAGACCAACGTCGACGACGACGCGCACGAAACTGCCCCGGCCGTAGCCGCCACCCTGCTGGGCCAGACCGGAGCTTCGTGGGTGGTAGTCACC
CCGGAGGTGGCTTCCGCGCTCCGGGATTGGCCGGAACTGCTGGTGATCCAGACGAACGTGGACGACGCCGCGCACGGGGAGGCCCTGGCGACGGCGGCCTCCCTGCGGAGCCAGACCCGGGCCTCCTGGGTGGTGGTCACG
GCCAGTGGTGGGCTCCGGTGTGCGCGAGCCCACCACGAACCGCTGCCGCATCTCACGGAACTGCTGGCGTGCGGTGAATCGCTGGATCAGCTACCGGCGGCCGTCCGC

And get this output:

GCCAGGGCCTCC^Q GGAGGCCCTGGC^Q CCAGCAGTTCCG&#41; CGGAACTGCTGG^Q

&#40;
   If that paste is corrupted you can check it out here:
   svn co
<span class="clickylink"><a target="new" rel="nofollow" href="https://clabsvn.ist.unomaha.edu/anonsvn/user/jhannah/UNO/JCVI/Project_C/tree_suffix_test">https://clabsvn.ist.unomaha.edu/anonsvn/user/jhannah/UNO/JCVI/Project_C/tree_suffix_test</a></span>
   file: 3.sh
&#41;

I don&#39;t have the C skills to fix libstree, and can&#39;t find any
alternatives, in any language, anywhere near as convenient to use as
Tree::Suffix!  :&#40;

Thanks for the module...  :&#41;  Wish we could use it...

Thanks for your time,

j


# cat /etc/debian_version 
lenny/sid
# uname -a
Linux klab.ist.unomaha.edu 2.6.24-24-generic #1 SMP Wed Apr 15 15:54:25
UTC 2009 i686 GNU/Linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;15&nbsp;22:08:16&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;03&nbsp;15:59:28&nbsp;2013</span>
    <span class="description">asher.diamond [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> asher.diamond [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I found the problem in libstree
in lst_string.c: lines 79 and 80: remove the &#39;+ 1&#39;

         *&#40;index-&gt;end_index&#41; - index-&gt;start_index /*+ 1*/&#41;;
  s[i][*&#40;index-&gt;end_index&#41; - index-&gt;start_index /*+ 1*/] = &#39;\0&#39;;

and lrstext works and then Tree::Suffix-&gt;longest_repeated_substrings&#40;&#41;
no longer occasionally adds junk to the found string

So, if anyone is still listening, and living, &#40;hey, it&#39;s been awhile...&#41;

I did this on version 0.4.2

here is a short test case for libstree:
lrstext 0 0 abcdefghijkl abcdefghijkl 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;03&nbsp;17:42:14&nbsp;2013</span>
    <span class="description">gray [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 03 15:59:28 2013, asher.diamond wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I found the problem in libstree
&gt; in lst_string.c:
</div>
This isn&#39;t the right place to address bugs in the libstree library. You
should contact the author directly, but note that it&#39;s been abandonware
for many years.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;03&nbsp;17:42:15&nbsp;2013</span>
    <span class="description">gray [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
