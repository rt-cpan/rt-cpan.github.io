<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75675 for Apache2-AuthCookieDBI: Feature request for mysql logging</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75675 for Apache2-AuthCookieDBI: Feature request for mysql logging</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Apache2-AuthCookieDBI">Apache2-AuthCookieDBI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75675</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1.2 hours (70 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Apache2-AuthCookieDBI/Active/">Apache2-AuthCookieDBI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ccolumbu [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-2338-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2339-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.15    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;13:15:49&nbsp;2012</span>
    <span class="description">ccolumbu [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Feature request for mysql logging</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Matisse,
I had to hack in the mysql logging code again for a new client, and
thought I would submit it to you again in case you want to include it in
the module.

I have attached my copy of the module with the code changes.
I assume it will need testing in your usual way.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AuthCookieDBI.pm</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;14:33:03&nbsp;2012</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Chad,

how about you create a sub-class of the module that implements the SQL logging  you want?
If you do this I will modify AuthCookieDBI.pm to call a logging method in many places 
throughout the code, starting with the places where you added calls to log_to_sql&#40;&#41;

We&#39;d need to agree on a generalized API for what arguments the logging method would get 
called with - this will allow users of AuthCookieDBI.pm to implement their own logging approach 
and not be tied to the one you chose.


So, for example, in your modified version of the module right now in the group&#40;&#41; method there 
is:



   $r-&gt;log_error&#40;
        &#34;$class: user $user was not a member of any of the required groups @groups for auth 
realm $auth_name&#34;,
        $r-&gt;uri
    &#41;;
    &#38;log_to_sql&#40;$class, $r, &#34;$class: user $user was not a member of any of the required groups 
@groups for auth realm $auth_name&#34;, $user&#41;;


I would replace both of those lines with something like this:

my $message = &#34;$class: user $user was not a member of any of the required groups @groups 
for auth realm $auth_name&#34;;
$class-&gt;logger&#40;$r, &#39;error&#39; , $message, $user, @groups&#41;;

and I will add a new logger&#40;&#41; method to AuthCookieDBI.pm which would look something like this:

sub logger {
    my &#40;$class,$r, $log_level, $message, $user, @extra_args&#41; = @_;
    # $log_level should be one of: emerg alert crit error warn notice info debug
    $r-&gt;log-&gt;$log_level&#40;$message, @extra_args&#41;;
}

In your sub-class of AuthCookieDBI.pm you would override the logger&#40;&#41; method with something 
like this:

sub logger {
    my &#40;$class,$r, $log_level, $display_message, $user, @extra_args&#41; = @_;
    # $log_level should be one of: emerg alert crit error warn notice info debug
    $r-&gt;log-&gt;$log_level&#40;$message, @extra_args&#41;;
    $class-&gt;log_to_sql&#40; $r, $display_message, $user&#41;;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;14:33:04&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;14:58:40&nbsp;2012</span>
    <span class="description">ccolumbu [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ccolumbu [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 11 14:33:03 2012, MATISSE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Chad,
&gt; 
&gt; how about you create a sub-class of the module that implements the SQL
&gt; logging  you want?
&gt; If you do this I will modify AuthCookieDBI.pm to call a logging method
&gt; in many places
&gt; throughout the code, starting with the places where you added calls to
&gt; log_to_sql&#40;&#41;
&gt; 
&gt; We&#39;d need to agree on a generalized API for what arguments the logging
&gt; method would get
&gt; called with - this will allow users of AuthCookieDBI.pm to implement
&gt; their own logging approach
&gt; and not be tied to the one you chose.
&gt; 
&gt; 
&gt; So, for example, in your modified version of the module right now in
&gt; the group&#40;&#41; method there
&gt; is:
&gt; 
&gt; 
&gt; 
&gt;    $r-&gt;log_error&#40;
&gt;         &#34;$class: user $user was not a member of any of the required
&gt; groups @groups for auth
&gt; realm $auth_name&#34;,
&gt;         $r-&gt;uri
&gt;     &#41;;
&gt;     &#38;log_to_sql&#40;$class, $r, &#34;$class: user $user was not a member of
&gt; any of the required groups
&gt; @groups for auth realm $auth_name&#34;, $user&#41;;
&gt; 
&gt; 
&gt; I would replace both of those lines with something like this:
&gt; 
&gt; my $message = &#34;$class: user $user was not a member of any of the
&gt; required groups @groups
&gt; for auth realm $auth_name&#34;;
&gt; $class-&gt;logger&#40;$r, &#39;error&#39; , $message, $user, @groups&#41;;
&gt; 
&gt; and I will add a new logger&#40;&#41; method to AuthCookieDBI.pm which would
&gt; look something like this:
&gt; 
&gt; sub logger {
&gt;     my &#40;$class,$r, $log_level, $message, $user, @extra_args&#41; = @_;
&gt;     # $log_level should be one of: emerg alert crit error warn notice
&gt; info debug
&gt;     $r-&gt;log-&gt;$log_level&#40;$message, @extra_args&#41;;
&gt; }
&gt; 
&gt; In your sub-class of AuthCookieDBI.pm you would override the logger&#40;&#41;
&gt; method with something
&gt; like this:
&gt; 
&gt; sub logger {
&gt;     my &#40;$class,$r, $log_level, $display_message, $user, @extra_args&#41; =
&gt; @_;
&gt;     # $log_level should be one of: emerg alert crit error warn notice
&gt; info debug
&gt;     $r-&gt;log-&gt;$log_level&#40;$message, @extra_args&#41;;
&gt;     $class-&gt;log_to_sql&#40; $r, $display_message, $user&#41;;
&gt; }
</div>
I can subclass this module, I have never done that before &#40;or published
on CPAN&#41;, but I read about it and it does not seem to hard.

I did find one more place where I would want to send errors to the sql
log, which is in the _get_crypted_password sub inside this error check:
if &#40; !$class-&gt;user_is_active&#40; $r, $user &#41; &#41; {

I am wondering if we should just pass all errors to this new logging
method and add a &#34;type&#34; of error, so I can just control &#34;login&#34; type
errors &#40;which is all I care about&#41;, but others could overwrite or log to
sql other types. Adding a &#34;session&#34; type error for things missing
DBI_SecretKey and such. I am not sure how granular you would want to
make this though.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;16:43:55&nbsp;2012</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 11 14:58:40 2012, ccolumbu wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can subclass this module, I have never done that before &#40;or published
&gt; on CPAN&#41;, but I read about it and it does not seem to hard.
&gt; 
&gt; I did find one more place where I would want to send errors to the sql
&gt; log, which is in the _get_crypted_password sub inside this error check:
&gt; if &#40; !$class-&gt;user_is_active&#40; $r, $user &#41; &#41; {
&gt; 
&gt; I am wondering if we should just pass all errors to this new logging
&gt; method and add a &#34;type&#34; of error, so I can just control &#34;login&#34; type
&gt; errors &#40;which is all I care about&#41;, but others could overwrite or log to
&gt; sql other types. Adding a &#34;session&#34; type error for things missing
&gt; DBI_SecretKey and such. I am not sure how granular you would want to
&gt; make this though.
</div>
Yes I would replace ALL logging calls with calls to the logger method, as well as adding some 
new ones.

Adding a &#39;type&#39; argument is a reasonable idea.

Here&#39;s what I suggest: You implement a sub-class and the changes in the base-class that 
support what you need, and attach the proposed new base class to this ticket. I&#39;ll review it, add 
tests where needed, etc. Once we agree on the API I&#39;ll make release a new official version of 
AuthCookieDBI with the changes.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;17:49:40&nbsp;2012</span>
    <span class="description">ccolumbu [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75675] Feature request for mysql logging</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 Mar 2012 14:49:21 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Apache2-AuthCookieDBI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad &lt;ccolumbu [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 3/11/2012 1:43 PM, Matisse Enzer via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75675">https://rt.cpan.org/Ticket/Display.html?id=75675</a></span>&gt;
&gt;
&gt; On Sun Mar 11 14:58:40 2012, ccolumbu wrote:
<div class="message-stanza open">&gt;&gt; I can subclass this module, I have never done that before &#40;or published
&gt;&gt; on CPAN&#41;, but I read about it and it does not seem to hard.
&gt;&gt;
&gt;&gt; I did find one more place where I would want to send errors to the sql
&gt;&gt; log, which is in the _get_crypted_password sub inside this error check:
&gt;&gt; if &#40; !$class-&gt;user_is_active&#40; $r, $user &#41; &#41; {
&gt;&gt;
&gt;&gt; I am wondering if we should just pass all errors to this new logging
&gt;&gt; method and add a &#34;type&#34; of error, so I can just control &#34;login&#34; type
&gt;&gt; errors &#40;which is all I care about&#41;, but others could overwrite or log to
&gt;&gt; sql other types. Adding a &#34;session&#34; type error for things missing
&gt;&gt; DBI_SecretKey and such. I am not sure how granular you would want to
&gt;&gt; make this though.
</div>&gt;
&gt; Yes I would replace ALL logging calls with calls to the logger method, as well as adding some
&gt; new ones.
&gt;
&gt; Adding a &#39;type&#39; argument is a reasonable idea.
&gt;
&gt; Here&#39;s what I suggest: You implement a sub-class and the changes in the base-class that
&gt; support what you need, and attach the proposed new base class to this ticket. I&#39;ll review it, add
&gt; tests where needed, etc. Once we agree on the API I&#39;ll make release a new official version of
&gt; AuthCookieDBI with the changes.
</div>

Ok, I added what I think is reasonable changes to the base class.
I replaced all calls to $r-&gt;log_error with a call to $class-&gt;logger, however I think there are places in the code where $class is not passed in or is not 
defined yet because the module will not pass a perl -c test.

I think I got you like 85% of the way there though &#40;I hope&#41;, and you will only have to make minor changes.
Take a look at the attached and let me know before I continue by creating the sub-class.

^C
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;01:22:29&nbsp;2012</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Chad,

I&#39;m attaching a draft version of AuthCookieDBI.pm for you to try out.

I won&#39;t be able to work on this again until at least next weekend.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AuthCookieDBI.pm</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;02:04:09&nbsp;2012</span>
    <span class="description">ccolumbu [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75675] Feature request for mysql logging</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 Mar 2012 23:03:57 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Apache2-AuthCookieDBI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad &lt;ccolumbu [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok, FYI: running it returns this:
Can&#39;t locate object method &#34;log_notice&#34; via package &#34;Apache2::RequestRec&#34; at /usr/local/share/perl5/Apache2/AuthCookieDBI.pm line 1033

I am looking at it now.


^C


On 3/11/2012 10:22 PM, Matisse Enzer via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75675">https://rt.cpan.org/Ticket/Display.html?id=75675</a></span>&gt;
&gt;
&gt; Chad,
&gt;
&gt; I&#39;m attaching a draft version of AuthCookieDBI.pm for you to try out.
&gt;
&gt; I won&#39;t be able to work on this again until at least next weekend.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;04:06:55&nbsp;2012</span>
    <span class="description">ccolumbu [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75675] Feature request for mysql logging</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Mar 2012 01:06:42 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Apache2-AuthCookieDBI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chad &lt;ccolumbu [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 3/11/2012 10:22 PM, Matisse Enzer via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75675">https://rt.cpan.org/Ticket/Display.html?id=75675</a></span>&gt;
&gt;
&gt; Chad,
&gt;
&gt; I&#39;m attaching a draft version of AuthCookieDBI.pm for you to try out.
&gt;
&gt; I won&#39;t be able to work on this again until at least next weekend.
</div>
Ok, I fixed the line 1033 problem by adding this to hardcoded line right above it for now &#40;just so I can move on till you are working next weekend&#41;:
$log_method = &#39;log_error&#39;;

I also changed the my to our on line 301, so I can add to the config vars in the sub-class:
our %CONFIG_DEFAULT = &#40;

So I have a working test package now, but it needs a lot more work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;27&nbsp;01:53:54&nbsp;2012</span>
    <span class="description">matisse [...] spamcop.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;May&nbsp;27&nbsp;01:53:54&nbsp;2012</span>
    <span class="description">matisse [...] spamcop.net -  Fixed in 2.15 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
