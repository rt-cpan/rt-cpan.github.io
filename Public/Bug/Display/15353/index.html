<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #15353 for PPI: Failure on Unicode byte order mark</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #15353 for PPI: Failure on Unicode byte order mark</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PPI">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PPI">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PPI">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PPI">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/adamkennedy/PPI/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/PPI">PPI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">15353</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PPI">PPI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chris+rt [...] chrisdolan.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-27032-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.103    </td>
  </tr>
  <tr id="CF-27033-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




ja.pm.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/146725/42274/ja.pm.gz">
Fri Oct 28 01:15:22 2005 (197b) by 
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=15353">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146725" href="/Public/Bug/Display.html?id=15353#txn-146725">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;28&nbsp;01:15:22&nbsp;2005</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Failure on Unicode byte order mark</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/146725/42273/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42273">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 605b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PPI parsing fails if a .pm file starts with the Unicode byte-order mark &#40;BOM -- <span class="clickylink"><a target="new" rel="nofollow" href="http://www.unicode.org/faq/utf_bom.html#BOM&#41;">http://www.unicode.org/faq/utf_bom.html#BOM&#41;</a></span>

Attached is a simplified Japanese UTF-8 module that uses Locale::Maketext.  That file has a BOM that looks like 0xefbbbf, namely the UTF-8 BOM.  Note: I gzipped the attachment to prevent RT and/or browsers from mangling the BOM.

If you try to parse that document as follows, you get an error message:

   perl -MPPI::Document -e &#39;PPI::Document-&gt;new&#40;&#34;ja.pm&#34;&#41;||print&#34;$PPI::Document::errstr\n&#34;&#39;

   Error at line 1, character 0

Perl 5.8.6 handles this file just fine.

  -- Chris
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146725/42274/ja.pm.gz">Download ja.pm.gz</a><br />
<span class="downloadcontenttype">application/x-gzip 197b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146726" href="/Public/Bug/Display.html?id=15353#txn-146726">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;28&nbsp;02:49:47&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 Oct 2005 16:49:20 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146726/42278/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42278">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 949b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">PPI does not support unicode, only the non-English characters from the 
latin-1 characterset.

Adam K

Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by guest &lt;&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; PPI parsing fails if a .pm file starts with the Unicode byte-order mark &#40;BOM -- <span class="clickylink"><a target="new" rel="nofollow" href="http://www.unicode.org/faq/utf_bom.html#BOM&#41;">http://www.unicode.org/faq/utf_bom.html#BOM&#41;</a></span>
&gt; 
&gt; Attached is a simplified Japanese UTF-8 module that uses Locale::Maketext.  That file has a BOM that looks like 0xefbbbf, namely the UTF-8 BOM.  Note: I gzipped the attachment to prevent RT and/or browsers from mangling the BOM.
&gt; 
&gt; If you try to parse that document as follows, you get an error message:
&gt; 
&gt;    perl -MPPI::Document -e &#39;PPI::Document-&gt;new&#40;&#34;ja.pm&#34;&#41;||print&#34;$PPI::Document::errstr\n&#34;&#39;
&gt; 
&gt;    Error at line 1, character 0
&gt; 
&gt; Perl 5.8.6 handles this file just fine.
&gt; 
&gt;   -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146727" href="/Public/Bug/Display.html?id=15353#txn-146727">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;11:20:44&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/146727/42477/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42477">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 996b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[adam@phase-n.com - Fri Oct 28 02:49:47 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; PPI does not support unicode, only the non-English characters from the
&gt; latin-1 characterset.
</div>
Thanks for the clarification Adam.  I&#39;ve been thinking about this for a
couple of days.  How about a new token class called PPI::Token::BOM
which is a subclass of ::Whitespace?  The document would start with its
initial state set to ::BOM instead of ::Whitespace.  If no BOM was
present, it would go on parsing as usual, switching the type to
::Whitespace.  In the first version it could accept the UTF-8 BOM and
choke on other BOMs.

My reasoning behind this is that most Unicode perl is only unicode
because the strings contain Unicode.  With the exception of the BOM,
most UTF-8 documents are PPI-friendly because they use only ASCII
outside of strings.

If you think this is a good idea, I&#39;d be happy to write a first-draft
patch and test.  I&#39;ve read the code of ::Whitespace, so I do understand
the magnitude of this proposed change.

 -- Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146728" href="/Public/Bug/Display.html?id=15353#txn-146728">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;11:32:11&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 01 Nov 2005 03:31:07 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146728/42478/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42478">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The main problem here is that there&#39;s not much point in supporting one 
particular character from unicode if we don&#39;t support a more complete 
subset... or is there?

I&#39;m afraid some of the specifics of the unicode issues escape me, but 
that&#39;s my main issue... what&#39;s the point of just adding BOM?

Adam K

  via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by CLOTHO &lt;CLOTHO@cpan.org&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; [adam@phase-n.com - Fri Oct 28 02:49:47 2005]:
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt;PPI does not support unicode, only the non-English characters from the
&gt;&gt;latin-1 characterset.
</div>&gt; 
&gt; 
&gt; Thanks for the clarification Adam.  I&#39;ve been thinking about this for a
&gt; couple of days.  How about a new token class called PPI::Token::BOM
&gt; which is a subclass of ::Whitespace?  The document would start with its
&gt; initial state set to ::BOM instead of ::Whitespace.  If no BOM was
&gt; present, it would go on parsing as usual, switching the type to
&gt; ::Whitespace.  In the first version it could accept the UTF-8 BOM and
&gt; choke on other BOMs.
&gt; 
&gt; My reasoning behind this is that most Unicode perl is only unicode
&gt; because the strings contain Unicode.  With the exception of the BOM,
&gt; most UTF-8 documents are PPI-friendly because they use only ASCII
&gt; outside of strings.
&gt; 
&gt; If you think this is a good idea, I&#39;d be happy to write a first-draft
&gt; patch and test.  I&#39;ve read the code of ::Whitespace, so I do understand
&gt; the magnitude of this proposed change.
&gt; 
&gt;  -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146729" href="/Public/Bug/Display.html?id=15353#txn-146729">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;11:57:18&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cdolan [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146729/42480/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42480">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[adam@phase-n.com - Mon Oct 31 11:32:11 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The main problem here is that there&#39;s not much point in supporting one
&gt; particular character from unicode if we don&#39;t support a more complete
&gt; subset... or is there?
&gt; 
&gt; I&#39;m afraid some of the specifics of the unicode issues escape me, but
&gt; that&#39;s my main issue... what&#39;s the point of just adding BOM?
&gt; 
&gt; Adam K
</div>
Hi Adam,

BOM support would make Locale::Maketext-based modules parseable.  Those
contain many L10N strings, but minimal Perl.  The .pm file needs to be
non-Latin-1 to support the strings, and many editors add the BOM
automatically.

Another potential case of Unicode docs that are nearly PPI-parseable are
ones with Unicode in the POD, but just ASCII in the code.  For example,
if the author&#39;s name is not representable in ASCII.

Looking at PPI::Token::Pod, PPI::Token::Quote::* and
PPI::Token::_QuoteEngine*, it looks like they are already as
Unicode-friendly as Perl is, since they only scan for special characters
instead of validating at every one.  So, in the simple case of a UTF-8
document that used the ASCII subset for all code, BOM support is the
sole limiting factor for PPI.

Note that you may not see many UTF-8 docs with BOMs on CPAN because
localization is usually relegated to the application, not the libraries.
 So if there is a lack of BOM errors for PPI on CPAN, that may be a
selection bias.

Thanks,
 -- Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146730" href="/Public/Bug/Display.html?id=15353#txn-146730">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;12:25:35&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 01 Nov 2005 04:24:38 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146730/42482/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42482">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Not really, I haven&#39;t run the tinderbox in a while, but I purged I10N 
errors from the tinderbox process.

And yeah, a German guy pointed out that for latin-1 support it only need 
to be supported in POD, comments and the quote engine for strings.

He wrote up the latin-1 unit test scripts.

If you think that the BOM stuff is the only thing stopping the majority 
of Unicode, then go ahead and try for a patch to it.

If you want I can add you to the developer list for the parseperl 
repository and you can just work it up in a branch on the live module?

Adam K

  via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by CLOTHO &lt;CLOTHO@cpan.org&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; [adam@phase-n.com - Mon Oct 31 11:32:11 2005]:
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt;The main problem here is that there&#39;s not much point in supporting one
&gt;&gt;particular character from unicode if we don&#39;t support a more complete
&gt;&gt;subset... or is there?
&gt;&gt;
&gt;&gt;I&#39;m afraid some of the specifics of the unicode issues escape me, but
&gt;&gt;that&#39;s my main issue... what&#39;s the point of just adding BOM?
&gt;&gt;
&gt;&gt;Adam K
</div>&gt; 
&gt; 
&gt; Hi Adam,
&gt; 
&gt; BOM support would make Locale::Maketext-based modules parseable.  Those
&gt; contain many L10N strings, but minimal Perl.  The .pm file needs to be
&gt; non-Latin-1 to support the strings, and many editors add the BOM
&gt; automatically.
&gt; 
&gt; Another potential case of Unicode docs that are nearly PPI-parseable are
&gt; ones with Unicode in the POD, but just ASCII in the code.  For example,
&gt; if the author&#39;s name is not representable in ASCII.
&gt; 
&gt; Looking at PPI::Token::Pod, PPI::Token::Quote::* and
&gt; PPI::Token::_QuoteEngine*, it looks like they are already as
&gt; Unicode-friendly as Perl is, since they only scan for special characters
&gt; instead of validating at every one.  So, in the simple case of a UTF-8
&gt; document that used the ASCII subset for all code, BOM support is the
&gt; sole limiting factor for PPI.
&gt; 
&gt; Note that you may not see many UTF-8 docs with BOMs on CPAN because
&gt; localization is usually relegated to the application, not the libraries.
&gt;  So if there is a lack of BOM errors for PPI on CPAN, that may be a
&gt; selection bias.
&gt; 
&gt; Thanks,
&gt;  -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146731" href="/Public/Bug/Display.html?id=15353#txn-146731">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;12:29:05&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cdolan [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146731/42483/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42483">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 815b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[adam@phase-n.com - Mon Oct 31 12:25:35 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Not really, I haven&#39;t run the tinderbox in a while, but I purged I10N
&gt; errors from the tinderbox process.
&gt; 
&gt; And yeah, a German guy pointed out that for latin-1 support it only
&gt; need
&gt; to be supported in POD, comments and the quote engine for strings.
&gt; 
&gt; He wrote up the latin-1 unit test scripts.
&gt; 
&gt; If you think that the BOM stuff is the only thing stopping the
&gt; majority
&gt; of Unicode, then go ahead and try for a patch to it.
&gt; 
&gt; If you want I can add you to the developer list for the parseperl
&gt; repository and you can just work it up in a branch on the live module?
&gt; 
&gt; Adam K
</div>
Sounds good to me.  For reference, I&#39;m usually chris @ chrisdolan.net. 
I make no predictions on an ETA for the patch, but I&#39;ll try to work on
it soon.

Thanks!
 -- Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146732" href="/Public/Bug/Display.html?id=15353#txn-146732">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;12:47:32&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 01 Nov 2005 04:46:31 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146732/42484/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42484">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Timeline is fine, if you contain it in a branch and work at your own 
pace, however long it takes is totally fine by me.

What is your SourceForge account, and I&#39;ll add it to CVS permissions?

Adam K

  via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by CLOTHO &lt;CLOTHO@cpan.org&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; [adam@phase-n.com - Mon Oct 31 12:25:35 2005]:
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt;Not really, I haven&#39;t run the tinderbox in a while, but I purged I10N
&gt;&gt;errors from the tinderbox process.
&gt;&gt;
&gt;&gt;And yeah, a German guy pointed out that for latin-1 support it only
&gt;&gt;need
&gt;&gt;to be supported in POD, comments and the quote engine for strings.
&gt;&gt;
&gt;&gt;He wrote up the latin-1 unit test scripts.
&gt;&gt;
&gt;&gt;If you think that the BOM stuff is the only thing stopping the
&gt;&gt;majority
&gt;&gt;of Unicode, then go ahead and try for a patch to it.
&gt;&gt;
&gt;&gt;If you want I can add you to the developer list for the parseperl
&gt;&gt;repository and you can just work it up in a branch on the live module?
&gt;&gt;
&gt;&gt;Adam K
</div>&gt; 
&gt; 
&gt; Sounds good to me.  For reference, I&#39;m usually chris @ chrisdolan.net. 
&gt; I make no predictions on an ETA for the patch, but I&#39;ll try to work on
&gt; it soon.
&gt; 
&gt; Thanks!
&gt;  -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146733" href="/Public/Bug/Display.html?id=15353#txn-146733">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;13:04:01&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cdolan [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146733/42487/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42487">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 291b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[adam@phase-n.com - Mon Oct 31 12:47:32 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Timeline is fine, if you contain it in a branch and work at your own
&gt; pace, however long it takes is totally fine by me.
&gt; 
&gt; What is your SourceForge account, and I&#39;ll add it to CVS permissions?
&gt; 
&gt; Adam K
</div>
I&#39;m chrisdolan @ SF.

 -- Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146734" href="/Public/Bug/Display.html?id=15353#txn-146734">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;13:09:46&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 01 Nov 2005 05:08:51 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146734/42488/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42488">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 575b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, added. Go for your life.

Adam K

  via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by CLOTHO &lt;CLOTHO@cpan.org&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; [adam@phase-n.com - Mon Oct 31 12:47:32 2005]:
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt;Timeline is fine, if you contain it in a branch and work at your own
&gt;&gt;pace, however long it takes is totally fine by me.
&gt;&gt;
&gt;&gt;What is your SourceForge account, and I&#39;ll add it to CVS permissions?
&gt;&gt;
&gt;&gt;Adam K
</div>&gt; 
&gt; 
&gt; I&#39;m chrisdolan @ SF.
&gt; 
&gt;  -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146735" href="/Public/Bug/Display.html?id=15353#txn-146735">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;31&nbsp;15:14:03&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cdolan [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146735/42508/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/42508">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 553b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I couldn&#39;t stop thinking about this, so I implemented it.  I committed
it on a CVS branch called &#34;Branch_unicode_support&#34;.

I tested my patch using Perl::Critic and it now succeeds to parse basic
UTF-8 files that were failing before.  So, if this patch reaches
mainline PPI, I consider this bug closed.

Note that my patch unexpectedly caused one test to pass: UTF-8
characters in the middle of barewords.  UTF-8 characters at the
beginning of barewords still fails.  I think that&#39;s because \w is
already Unicode-friedly in PPI::Token::Words

 -- Chris
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146736" href="/Public/Bug/Display.html?id=15353#txn-146736">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;12&nbsp;13:24:00&nbsp;2005</span>
    <span class="description">cpan [...] clotho.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/146736/45668/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/45668">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 843b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Adam,

Just a reminder that the BOM code is still in the CVS branch mentioned
below.  In light of the Unicode improvements that A.Tang has been
pushing, I think the BOM code has more relevance.

Best wishes,
Chris


[CLOTHO - Mon Oct 31 15:14:03 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I couldn&#39;t stop thinking about this, so I implemented it.  I committed
&gt; it on a CVS branch called &#34;Branch_unicode_support&#34;.
&gt; 
&gt; I tested my patch using Perl::Critic and it now succeeds to parse
&gt;    basic
&gt; UTF-8 files that were failing before.  So, if this patch reaches
&gt; mainline PPI, I consider this bug closed.
&gt; 
&gt; Note that my patch unexpectedly caused one test to pass: UTF-8
&gt; characters in the middle of barewords.  UTF-8 characters at the
&gt; beginning of barewords still fails.  I think that&#39;s because \w is
&gt; already Unicode-friedly in PPI::Token::Words
&gt; 
&gt;  -- Chris
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-146737" href="/Public/Bug/Display.html?id=15353#txn-146737">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;07:12:35&nbsp;2005</span>
    <span class="description">adam [...] phase-n.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Dec 2005 23:09:28 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] phase-n.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PPI [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #15353] Failure on Unicode byte order mark</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/146737/45721/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/45721">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">According to Audrey &#40;formerly Autrijus, as of 1 week ago&#41; the code 
didn&#39;t work... so she added her Unicode stuff to the main branch rather 
than to the branch.

We might want to talk in Freenode #perl6 about this? Any comments?

Adam K

  via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about PPI was sent to you by CLOTHO &lt;CLOTHO@cpan.org&gt; via rt.cpan.org
&gt; 
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=15353">https://rt.cpan.org/Ticket/Display.html?id=15353</a></span> &gt;
&gt; 
&gt; Hi Adam,
&gt; 
&gt; Just a reminder that the BOM code is still in the CVS branch mentioned
&gt; below.  In light of the Unicode improvements that A.Tang has been
&gt; pushing, I think the BOM code has more relevance.
&gt; 
&gt; Best wishes,
&gt; Chris
&gt; 
&gt; 
&gt; [CLOTHO - Mon Oct 31 15:14:03 2005]:
&gt; 
&gt; 
<div class="message-stanza open">&gt;&gt;I couldn&#39;t stop thinking about this, so I implemented it.  I committed
&gt;&gt;it on a CVS branch called &#34;Branch_unicode_support&#34;.
&gt;&gt;
&gt;&gt;I tested my patch using Perl::Critic and it now succeeds to parse
&gt;&gt;   basic
&gt;&gt;UTF-8 files that were failing before.  So, if this patch reaches
&gt;&gt;mainline PPI, I consider this bug closed.
&gt;&gt;
&gt;&gt;Note that my patch unexpectedly caused one test to pass: UTF-8
&gt;&gt;characters in the middle of barewords.  UTF-8 characters at the
&gt;&gt;beginning of barewords still fails.  I think that&#39;s because \w is
&gt;&gt;already Unicode-friedly in PPI::Token::Words
&gt;&gt;
&gt;&gt; -- Chris
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-736943" href="/Public/Bug/Display.html?id=15353#txn-736943">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;20&nbsp;23:01:14&nbsp;2010</span>
    <span class="description">adamk [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/736943/380686/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/380686">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 44b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Confirming this case appears to be resolved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-736946" href="/Public/Bug/Display.html?id=15353#txn-736946">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;20&nbsp;23:01:19&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-736947" href="/Public/Bug/Display.html?id=15353#txn-736947">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;20&nbsp;23:01:21&nbsp;2010</span>
    <span class="description">adamk [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.732333</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
