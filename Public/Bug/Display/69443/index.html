<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #69443 for PAR-Packer: parl.exe try to load dll from c:\strawberry\lib first</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #69443 for PAR-Packer: parl.exe try to load dll from c:\strawberry\lib first</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">69443</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mdengfeng [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;03:40:43&nbsp;2011</span>
    <span class="description">mdengfeng [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> parl.exe try to load dll from c:\strawberry\lib first</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 13 Jul 2011 15:40:26 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> DengFeng Mao &lt;mdengfeng [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, PAR::Packer  experts
   Currently, I am working on win2003 x64 with strawberry-perl-5.12.3x64. I
have installed PAR-Packer-1.009 with the patch in
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57273">https://rt.cpan.org/Ticket/Display.html?id=57273</a></span>.
   After the module was installed. I can run the parl.exe correctly.
   =====================================================

C:\strawberry\perl\site\bin&gt;parl.exe

Usage: parl.exe [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [
program.pl ]

       parl.exe [ -B|-b ] [-Ooutfile] src.par

  =======================================================

Then I copy the parl.exe to c:\  and install strawberry-perl-5.10.4x86 under
c:\strawberry. When I try to run the file c:\parl.exe, I got error

=====================================================
C:\&gt;parl.exe
Can&#39;t load &#39;C:/strawberry/perl/lib/auto/IO/IO.dll&#39; for module IO:
load_file:%1 i
s not a valid Win32 application at C:/strawberry/perl/lib/XSLoader.pm line
71.
 at C:/strawberry/perl/lib/IO.pm line 11
Compilation failed in require at C:/strawberry/perl/lib/IO/Handle.pm line
266.
BEGIN failed--compilation aborted at C:/strawberry/perl/lib/IO/Handle.pm
line 26
6.
Compilation failed in require at C:/strawberry/perl/lib/IO/Seekable.pm line
101.

BEGIN failed--compilation aborted at C:/strawberry/perl/lib/IO/Seekable.pm
line
101.
Compilation failed in require at C:/strawberry/perl/lib/IO/File.pm line 133.
BEGIN failed--compilation aborted at C:/strawberry/perl/lib/IO/File.pm line
133.

Compilation failed in require at -e line 351.
=========================================================

The parl.exe try to load some dll from C:/strawberry/perl/lib. But the dll
files can&#39;t be loaded successful.

Then  I try to rename c:\strawberry to another name c:\strawberry_old  and
try to run  c:\parl.exe again.
This time , the parl.exe can be executed correctly.
I restore the c:\strawberry_old  to c:\strawberry. Then the issue takes
place again.


I also tried PAR-Packer-1.009 on strawberryperl-5.10.4x86.  The parl.exe can
work well no matter  what version strawberry perl was installed to
c:\strawberry.

Could you help to look into this?
Any further information needed, let me know

Thanks
Dengfeng






-- 
---------------------------------------------------------
Market is wrong, But I am right!
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;04:59:19&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;04:59:21&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;05:19:33&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-07-13 03:40:43, mdengfeng@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    After the module was installed. I can run the parl.exe correctly.
&gt; Then I copy the parl.exe to c:\  and install strawberry-perl-5.10.4x86
</div>under
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; c:\strawberry. When I try to run the file c:\parl.exe, I got error
</div>
Looks like parl.exe &#40;which in theory should be totally self-contained&#41;
still looks for modules in C:\strawberry\... &#40;i.e. the configuration
from where it was built&#41; in preference to the modules packed
into parl.exe. 

If it finds a module and its DLL in C:\strawberry\... it tries to load
that - and that won&#39;t work because Perl 5.12 and 5.10 have incompatible
ABIs. If there&#39;s nothing in C:\strawberry\... it falls back to 
the built-in modules.

This behaviour might be caused by the fact that Strawberry Perl 5.12
contains a new version of XSLoader that breaks PAR::Packer&#39;s hack
to intercept loading of DLLs.

The fix for that is already in PAR::Packer&#39;s Subversion repository:

<span class="clickylink"><a target="new" rel="nofollow" href="http://svn.openfoundry.org/par/PAR-Packer/trunk">http://svn.openfoundry.org/par/PAR-Packer/trunk</a></span>

Could you try that, i.e.
- re-install Straberry 5.12.3
- check out the above
- apply the patch from RT 57273 as before
- build it and save parl.exe

While you&#39;re at it: regarding that patch from RT 57273:
- does &#34;dmake test&#34; pass all tests?
- after &#34;dmake install&#34;, please try to pack a minimal script

    pp -o hello.exe -e &#34;print qq[hello world\n]&#34;

  I&#39;m interested in the output of

      objdump -h hello.exe

  in particular if it lists a resource section &#40;&#34;.rsrc&#34;&#41;
  &#40;objdump.exe is in C:\strawberry\c\bin&#41;.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;06:36:56&nbsp;2011</span>
    <span class="description">mdengfeng [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #69443] parl.exe try to load dll from c:\strawberry\lib first</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 13 Jul 2011 18:36:39 +0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> DengFeng Mao &lt;mdengfeng [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Good news.
This issue has been fixed  in
<span class="clickylink"><a target="new" rel="nofollow" href="http://svn.openfoundry.org/par/PAR-Packer/trunk">http://svn.openfoundry.org/par/PAR-Packer/trunk</a></span>.
When I install this latest version on strawberry-5.12.3x64.the parl.exe can
be executed sucessful no mater what perl version was installed in
c:\strawberry.
But there is still a test fail , Here are the details

C:\workspace\PAR-Packer&gt;dmake test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0,
&#39;inc&#39;, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/00-pod.t t/10-parl-generation.t t/20-pp.t
t/3
0-current_exec.t t/40-packer_cd_option.t t/90-rt59710.t
t/00-pod.t ............... skipped: Set environment variable PERL_TEST_POD=1
to
test POD
t/10-parl-generation.t ... ok
t/20-pp.t ................ 26/34 The system cannot execute the specified
program
.
t/20-pp.t ................ 27/34 C:\workspace\PAR-Packer\blib\script/pp:
Cannot
open hello.exe for reading: No such file or directory at
C:\workspace\PAR-Packer
\blib\lib/PAR/Packer.pm line 1170.

#   Failed test &#39;pp_gui_tests
# amsg572: sub pp_gui_tests cannot system pp --gui --icon hi.ico -o
hello.exe he
llo.pl:No such file or directory:
# &#39;
#   at automated_pp_test.pl line 8445.
t/20-pp.t ................ 34/34 # Looks like you failed 1 test of 34.
t/20-pp.t ................ Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/34 subtests
t/30-current_exec.t ...... # Please wait
t/30-current_exec.t ...... ok
t/40-packer_cd_option.t .. ok
t/90-rt59710.t ........... ok

Test Summary Report
-------------------
t/20-pp.t              &#40;Wstat: 256 Tests: 34 Failed: 1&#41;
  Failed test:  32
  Non-zero exit status: 1
Files=6, Tests=74, 1378 wallclock secs &#40; 0.06 usr +  0.00 sys =  0.06 CPU&#41;
Result: FAIL
Failed 1/6 test programs. 1/74 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;


C:\workspace\PAR-Packer&gt;pp -o hello.exe -e &#34;print qq[hello world\n]&#34;

C:\workspace\PAR-Packer&gt;hello.exe
hello world

C:\workspace\PAR-Packer&gt;objdump -h hello.exe

hello.exe:     file format pei-x86-64

Sections:
Idx Name          Size      VMA               LMA               File off
 Algn
  0 .text         000048c0  0000000000401000  0000000000401000  00000400
 2**4
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  1 .data         0016b130  0000000000406000  0000000000406000  00004e00
 2**5
                  CONTENTS, ALLOC, LOAD, DATA
  2 .rdata        00000580  0000000000572000  0000000000572000  00170000
 2**4
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  3 .bss          000089f0  0000000000573000  0000000000573000  00000000
 2**5
                  ALLOC
  4 .idata        00000c98  000000000057c000  000000000057c000  00170600
 2**2
                  CONTENTS, ALLOC, LOAD, DATA
  5 .CRT          00000068  000000000057d000  000000000057d000  00171400
 2**3
                  CONTENTS, ALLOC, LOAD, DATA
  6 .tls          00000048  000000000057e000  000000000057e000  00171600
 2**5
                  CONTENTS, ALLOC, LOAD, DATA
  7 .rsrc         00001538  000000000057f000  000000000057f000  00171800
 2**2
                  CONTENTS, ALLOC, LOAD, DATA



Thank Roderich for the help


Dengfeng













2011/7/13 Roderich Schupp via RT &lt;bug-PAR-Packer@rt.cpan.org&gt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=69443">https://rt.cpan.org/Ticket/Display.html?id=69443</a></span> &gt;
&gt;
&gt; On 2011-07-13 03:40:43, mdengfeng@gmail.com wrote:
<div class="message-stanza open">&gt; &gt;    After the module was installed. I can run the parl.exe correctly.
&gt; &gt; Then I copy the parl.exe to c:\  and install strawberry-perl-5.10.4x86
</div>&gt; under
<div class="message-stanza open">&gt; &gt; c:\strawberry. When I try to run the file c:\parl.exe, I got error
</div>&gt;
&gt; Looks like parl.exe &#40;which in theory should be totally self-contained&#41;
&gt; still looks for modules in C:\strawberry\... &#40;i.e. the configuration
&gt; from where it was built&#41; in preference to the modules packed
&gt; into parl.exe.
&gt;
&gt; If it finds a module and its DLL in C:\strawberry\... it tries to load
&gt; that - and that won&#39;t work because Perl 5.12 and 5.10 have incompatible
&gt; ABIs. If there&#39;s nothing in C:\strawberry\... it falls back to
&gt; the built-in modules.
&gt;
&gt; This behaviour might be caused by the fact that Strawberry Perl 5.12
&gt; contains a new version of XSLoader that breaks PAR::Packer&#39;s hack
&gt; to intercept loading of DLLs.
&gt;
&gt; The fix for that is already in PAR::Packer&#39;s Subversion repository:
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://svn.openfoundry.org/par/PAR-Packer/trunk">http://svn.openfoundry.org/par/PAR-Packer/trunk</a></span>
&gt;
&gt; Could you try that, i.e.
&gt; - re-install Straberry 5.12.3
&gt; - check out the above
&gt; - apply the patch from RT 57273 as before
&gt; - build it and save parl.exe
&gt;
&gt; While you&#39;re at it: regarding that patch from RT 57273:
&gt; - does &#34;dmake test&#34; pass all tests?
&gt; - after &#34;dmake install&#34;, please try to pack a minimal script
&gt;
&gt;    pp -o hello.exe -e &#34;print qq[hello world\n]&#34;
&gt;
&gt;  I&#39;m interested in the output of
&gt;
&gt;      objdump -h hello.exe
&gt;
&gt;  in particular if it lists a resource section &#40;&#34;.rsrc&#34;&#41;
&gt;  &#40;objdump.exe is in C:\strawberry\c\bin&#41;.
&gt;
&gt; Cheers, Roderich
&gt;
&gt;
&gt;
&gt;
</div>

-- 
---------------------------------------------------------
Market is wrong, But I am right!
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;07:03:04&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-07-13 06:36:56, mdengfeng@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Good news.
&gt; This issue has been fixed  in
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://svn.openfoundry.org/par/PAR-Packer/trunk">http://svn.openfoundry.org/par/PAR-Packer/trunk</a></span>.
</div>
So the cause really was the XSLoader problem, thanks for confirming.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; hello.exe:     file format pei-x86-64
&gt;   7 .rsrc         00001538  000000000057f000  000000000057f000  
</div>
And your packed executables do have a .rsrc sections.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But there is still a test fail , Here are the details
</div>
Yeah, must be a separate issue. Some people get this test failure,
others don&#39;t. I&#39;d say go ahead anyway and file another bug if
you encounter a &#34;real&#34; problem.

My main concern is that I don&#39;t know what test 32 in t/20-pp.t
was intended to test :&#40; Anyway, I&#39;ll commit the patch from RT 57273
and roll out a release ASAP as the Windows 64 bit build problem
is currently the most often reported issue.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;09:47:15&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in PAR::Packer 1.010
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;09:47:17&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
