<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #74390 for Pod-Simple: keep =encoding information</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #74390 for Pod-Simple: keep =encoding information</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Pod-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Pod-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Pod-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Pod-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/perl-pod/pod-simple/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Pod-Simple">Pod-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">74390</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Pod-Simple">Pod-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
pertusus [...] free.fr

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26176-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26177-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
3.26    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Get-encoding-and-keep-encoding-in-the-tree.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1051170/549618/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">
Fri Mar 16 19:16:14 2012 (13.8k) by pertusus [...] free.fr
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1046173/546643/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">
Sun Mar 04 14:50:06 2012 (4.4k) by pertusus [...] free.fr
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1027812/536232/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">
Wed Jan 25 18:17:47 2012 (4.4k) by pertusus [...] free.fr
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=74390">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027704" href="/Public/Bug/Display.html?id=74390#txn-1027704">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:19:35&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 21:19:18 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Patrice Dumas &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027704/536150/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536150">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 448b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This has a wishlist severity.

When Pod::Simple processes a pod fragment, it uses the information of
=encoding, but do not give that information to converter subclasses.  Although
many converters do not care, some do, for example a translator to Texinfo
I am writing could use this information.

What would be even better would be to also convey the information that
an encoding is used, maybe by having an accessor to the currently used
encoding?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027714" href="/Public/Bug/Display.html?id=74390#txn-1027714">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:26:24&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 12:26:15 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027714/536156/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536156">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 723b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Jan 25, 2012, at 12:19 PM, Patrice Dumas via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When Pod::Simple processes a pod fragment, it uses the information of
&gt; =encoding, but do not give that information to converter subclasses.  Although
&gt; many converters do not care, some do, for example a translator to Texinfo
&gt; I am writing could use this information.
&gt; 
&gt; What would be even better would be to also convey the information that
&gt; an encoding is used, maybe by having an accessor to the currently used
&gt; encoding?
</div>
Why would that be important? If there is an =encoding, then the resulting text will be decoded to Perl’s internal form. You could then encode it for output however you like, without regard to the original encoding.

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027717" href="/Public/Bug/Display.html?id=74390#txn-1027717">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:26:26&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027720" href="/Public/Bug/Display.html?id=74390#txn-1027720">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:31:59&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 21:31:40 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027720/536161/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536161">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 610b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jan 25, 2012 at 03:26:26PM -0500, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Why would that be important? If there is an =encoding, then the resulting text will be decoded to Perl’s internal form. You could then encode it for output however you like, without regard to the original encoding.
</div>
Sure, but you may also want to encode for output in the original 
encoding, considering that it is a hint on the user preferred
encoding for that manual.  This is especially relevant for conversion
to formats that are not themselves output formats but are documentation
formats too &#40;like Texinfo, LaTeX...&#41;.

-- 
Pat
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027732" href="/Public/Bug/Display.html?id=74390#txn-1027732">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:44:40&nbsp;2012</span>
    <span class="description">david [...] justatheory.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 12:44:30 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;david [...] justatheory.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027732/536167/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536167">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 506b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Jan 25, 2012, at 12:31 PM, Patrice Dumas via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sure, but you may also want to encode for output in the original 
&gt; encoding, considering that it is a hint on the user preferred
&gt; encoding for that manual.  This is especially relevant for conversion
&gt; to formats that are not themselves output formats but are documentation
&gt; formats too &#40;like Texinfo, LaTeX...&#41;.
</div>
Okay, I could see that. Care to create a patch? Maybe just an encoding attribute on the Pod::Simple object. Would that do it?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027745" href="/Public/Bug/Display.html?id=74390#txn-1027745">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;15:53:44&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 21:53:11 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;david [...] justatheory.com via RT&#34; &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027745/536178/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536178">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 605b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jan 25, 2012 at 03:44:41PM -0500, david@justatheory.com via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Okay, I could see that. Care to create a patch? Maybe just an encoding attribute on the Pod::Simple object. Would that do it?
</div>
I could have a try.

I think that an encoding attribute on the Pod::Simple object would not
be enough, because it would not be possible to know when it becomes
avalable if one do not know that an =encoding was just processed.

Typically, when starting the parsing, this wouldn&#39;t be set, but when 
the end of an =encoding happens, it would be the right moment to 
look at the encoding attribute.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027773" href="/Public/Bug/Display.html?id=74390#txn-1027773">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;16:58:01&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 13:57:49 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027773/536205/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536205">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Jan 25, 2012, at 12:53 PM, Patrice Dumas via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I could have a try.
&gt; 
&gt; I think that an encoding attribute on the Pod::Simple object would not
&gt; be enough, because it would not be possible to know when it becomes
&gt; avalable if one do not know that an =encoding was just processed.
&gt; 
&gt; Typically, when starting the parsing, this wouldn&#39;t be set, but when 
&gt; the end of an =encoding happens, it would be the right moment to 
&gt; look at the encoding attribute.
</div>
I guess your formatter could just not output anything until it knows what encoding it’s dealing with. And it would reach that point once the the =encoding was seen. In fact, you can already get that via $self-&gt;{encoding}.

Note what `perlpod` says about =encoding:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        &#34;=encoding encodingname&#34;
&gt;            This command is used for declaring the encoding of a document.
&gt;            Most users won’t need this; but if your encoding isn’t US‐ASCII or
&gt;            Latin−1, then put a &#34;=encoding encodingname&#34; command early in the
&gt;            document so that pod formatters will know how to decode the
&gt;            document.  For encodingname, use a name recognized by the
&gt;            Encode::Supported module.  Examples:
&gt; 
&gt;              =encoding utf8
&gt; 
&gt;              =encoding koi8−r
&gt; 
&gt;              =encoding ShiftJIS
&gt; 
&gt;              =encoding big5
&gt; 
&gt;        &#34;=encoding&#34; affects the whole document, and must occur only once.
</div>
So once you see $self-&gt;{encoding} has a value, you should be good to go.

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027801" href="/Public/Bug/Display.html?id=74390#txn-1027801">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;17:48:25&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 25 Jan 2012 23:48:08 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027801/536222/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536222">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 863b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jan 25, 2012 at 04:58:02PM -0500, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I guess your formatter could just not output anything until it knows what encoding it’s dealing with. And it would reach that point once the the =encoding was seen. In fact, you can already get that via $self-&gt;{encoding}.
&gt; 
&gt; So once you see $self-&gt;{encoding} has a value, you should be good to go.
</div>
Not necessarily, as it is set even if the encoding is not known.
Also, I don&#39;t think that ascii happening before =encoding should
be ignored.  It happens for example for tests in t/corpus/cp1256.txt.

So, in the patch I prepared, I add a $self-&gt;{&#39;used_encoding&#39;}
member set only if the encoding was succesfully set, and a corresponding
accessor.

I addition, I also added a sub encoding function that returns &#39;encoding&#39;
&#40;or sets it, but you can remove that code if you don&#39;t want it&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1027812" href="/Public/Bug/Display.html?id=74390#txn-1027812">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;25&nbsp;18:17:47&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 26 Jan 2012 00:17:12 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027812/536231/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/536231">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 128b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is a patch proposal.  Some tests fail, but I checked that
the difference is the addition of encoding in the tree.

-- 
Pat
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1027812/536232/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">Download 0001-Get-encoding-and-keep-encoding-in-the-tree.patch</a><br />
<span class="downloadcontenttype">text/x-diff 4.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1045113" href="/Public/Bug/Display.html?id=74390#txn-1045113">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;02&nbsp;02:19:48&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1045113/546021/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/546021">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 883b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2012-01-25 18:17:47, pertusus@free.fr wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is a patch proposal.  Some tests fail, but I checked that
&gt; the difference is the addition of encoding in the tree.
</div>
I&#39;m thinking that, instead of `used_encoding&#40;&#41;`, it should be called `detected_encoding&#40;&#41;`, 
maybe?

Also, I don&#39;t understand why XML output now emits an &lt;encoding&gt; element:

--- t/corpus/2202jp.xml 2012-01-02 16:06:30.000000000 -0800
+++ t/corpus/2202jp.xml_out     2012-03-01 23:16:44.000000000 -0800
@@ -8,6 +8,9 @@
   &lt;head1 start_line=&#34;7&#34;&gt;
     DESCRIPTION
   &lt;/head1&gt;
+  &lt;encoding start_line=&#34;9&#34;&gt;
+    iso-2022-jp
+  &lt;/encoding&gt;
   &lt;Para start_line=&#34;11&#34;&gt;
     This is a test Pod document in ISO-2202-JP. Its content
     is some Japanese haiku by famous poets.

This seems to be the cause of the test failures, but I don&#39;t  think that element should be there. 
Can you do something about that?

Thanks,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1045116" href="/Public/Bug/Display.html?id=74390#txn-1045116">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;02&nbsp;02:19:48&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046173" href="/Public/Bug/Display.html?id=74390#txn-1046173">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;14:50:06&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 4 Mar 2012 20:49:24 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1046173/546642/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/546642">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 999b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Mar 02, 2012 at 02:19:48AM -0500, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I&#39;m thinking that, instead of `used_encoding&#40;&#41;`, it should be called `detected_encoding&#40;&#41;`, 
</div>
No problem, here is an updated patch.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also, I don&#39;t understand why XML output now emits an &lt;encoding&gt; element:
&gt; 
&gt; --- t/corpus/2202jp.xml       2012-01-02 16:06:30.000000000 -0800
&gt; +++ t/corpus/2202jp.xml_out   2012-03-01 23:16:44.000000000 -0800
&gt; @@ -8,6 +8,9 @@
&gt;    &lt;head1 start_line=&#34;7&#34;&gt;
&gt;      DESCRIPTION
&gt;    &lt;/head1&gt;
&gt; +  &lt;encoding start_line=&#34;9&#34;&gt;
&gt; +    iso-2022-jp
&gt; +  &lt;/encoding&gt;
&gt;    &lt;Para start_line=&#34;11&#34;&gt;
&gt;      This is a test Pod document in ISO-2202-JP. Its content
&gt;      is some Japanese haiku by famous poets.
&gt; 
&gt; This seems to be the cause of the test failures, but I don&#39;t  think that element should be there. 
</div>
Adding this encoding element to the tree is the objective of this patch
&#40;in addition to separating &#39;detected_encoding&#39; and &#39;encoding&#39;&#41;.

So having those additional elements is a feature!

-- 
Pat
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1046173/546643/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">Download 0001-Get-encoding-and-keep-encoding-in-the-tree.patch</a><br />
<span class="downloadcontenttype">text/x-diff 4.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046175" href="/Public/Bug/Display.html?id=74390#txn-1046175">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;04&nbsp;14:50:07&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046718" href="/Public/Bug/Display.html?id=74390#txn-1046718">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;00:01:48&nbsp;2012</span>
    <span class="description">david [...] kineticode.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 5 Mar 2012 21:01:28 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;david [...] kineticode.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1046718/546963/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/546963">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mar 4, 2012, at 11:50 AM, Patrice Dumas via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; I&#39;m thinking that, instead of `used_encoding&#40;&#41;`, it should be called `detected_encoding&#40;&#41;`, 
</div>&gt; 
&gt; No problem, here is an updated patch.
</div>
Thanks.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Also, I don&#39;t understand why XML output now emits an &lt;encoding&gt; element:
&gt;&gt; 
&gt;&gt; --- t/corpus/2202jp.xml      2012-01-02 16:06:30.000000000 -0800
&gt;&gt; +++ t/corpus/2202jp.xml_out  2012-03-01 23:16:44.000000000 -0800
&gt;&gt; @@ -8,6 +8,9 @@
&gt;&gt;   &lt;head1 start_line=&#34;7&#34;&gt;
&gt;&gt;     DESCRIPTION
&gt;&gt;   &lt;/head1&gt;
&gt;&gt; +  &lt;encoding start_line=&#34;9&#34;&gt;
&gt;&gt; +    iso-2022-jp
&gt;&gt; +  &lt;/encoding&gt;
&gt;&gt;   &lt;Para start_line=&#34;11&#34;&gt;
&gt;&gt;     This is a test Pod document in ISO-2202-JP. Its content
&gt;&gt;     is some Japanese haiku by famous poets.
&gt;&gt; 
&gt;&gt; This seems to be the cause of the test failures, but I don&#39;t  think that element should be there. 
</div>&gt; 
&gt; Adding this encoding element to the tree is the objective of this patch
&gt; &#40;in addition to separating &#39;detected_encoding&#39; and &#39;encoding&#39;&#41;.
&gt; 
&gt; So having those additional elements is a feature!
</div>
Wait, what? Why? XML has its own encoding syntax that should go into the root-level element.

An emitted document may have only one encoding.

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046721" href="/Public/Bug/Display.html?id=74390#txn-1046721">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;00:04:30&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1047457" href="/Public/Bug/Display.html?id=74390#txn-1047457">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;07&nbsp;16:47:26&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 7 Mar 2012 23:09:09 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1047457/547404/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/547404">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Mar 06, 2012 at 12:01:48AM -0500, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 
&gt; &gt; Adding this encoding element to the tree is the objective of this patch
&gt; &gt; &#40;in addition to separating &#39;detected_encoding&#39; and &#39;encoding&#39;&#41;.
&gt; &gt; 
&gt; &gt; So having those additional elements is a feature!
</div>&gt; 
&gt; Wait, what? Why? XML has its own encoding syntax that should go into the root-level element.
</div>
That&#39;s a really weird comment...  What I understand is that the XML
produced in the corpus.t test is simply a representation of the tree as
produced by Pod::Simple::DumpAsXML.  That&#39;s not a &#39;real&#39; XML, and as far
as I can tell it never has an encoding.  And if the =encoding, as
proposed in my patch is added to the tree, it will be in the XML output
dumping the tree &#40;but also in any other output that correspond to a
dumping of the tree&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; An emitted document may have only one encoding.
</div>
The number of encoding in the tree resulting from a Pod file parsing is
not related to the XML encoding.  It may be mandated that there is only
one such element, but because there is one such node in the perl
structure tree resulting from the Pod file parsing.  That&#39;s completly 
unrelated to the XML output.

-- 
Pat
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1047459" href="/Public/Bug/Display.html?id=74390#txn-1047459">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;07&nbsp;16:47:27&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048624" href="/Public/Bug/Display.html?id=74390#txn-1048624">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;15:53:27&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 Mar 2012 12:53:14 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048624/548106/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548106">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mar 7, 2012, at 1:47 PM, Patrice Dumas via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That&#39;s a really weird comment...  What I understand is that the XML
&gt; produced in the corpus.t test is simply a representation of the tree as
&gt; produced by Pod::Simple::DumpAsXML.  That&#39;s not a &#39;real&#39; XML, and as far
&gt; as I can tell it never has an encoding.  And if the =encoding, as
&gt; proposed in my patch is added to the tree, it will be in the XML output
&gt; dumping the tree &#40;but also in any other output that correspond to a
&gt; dumping of the tree&#41;.
</div>
Oh, I’m an idiot. Sorry.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt;&gt; An emitted document may have only one encoding.
</div>&gt; 
&gt; The number of encoding in the tree resulting from a Pod file parsing is
&gt; not related to the XML encoding.  It may be mandated that there is only
&gt; one such element, but because there is one such node in the perl
&gt; structure tree resulting from the Pod file parsing.  That&#39;s completly 
&gt; unrelated to the XML output.
</div>
Okay. Looks okay then. Two more requests:

1. Please update the tests so that they pass.
2. Please document the new methods.

Then I will commit. :-&#41;

Thanks,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1051170" href="/Public/Bug/Display.html?id=74390#txn-1051170">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;16&nbsp;19:16:14&nbsp;2012</span>
    <span class="description">pertusus [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #74390] keep =encoding information</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Mar 2012 00:16:29 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> David Wheeler via RT &lt;bug-Pod-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dumas Patrice &lt;pertusus [...] free.fr&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1051170/549617/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/549617">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 346b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Mar 10, 2012 at 03:53:28PM -0500, David Wheeler via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Okay. Looks okay then. Two more requests:
&gt; 
&gt; 1. Please update the tests so that they pass.
&gt; 2. Please document the new methods.
</div>
Here it is.  Since setting the encoding with
$parser-&gt;encoding&#40;&#39;encoding&#39;&#41; is not really well tested I didn&#39;t really
document it.

-- 
Pat
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1051170/549618/0001-Get-encoding-and-keep-encoding-in-the-tree.patch">Download 0001-Get-encoding-and-keep-encoding-in-the-tree.patch</a><br />
<span class="downloadcontenttype">text/x-diff 13.8k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1084845" href="/Public/Bug/Display.html?id=74390#txn-1084845">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;29&nbsp;14:36:26&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1084845/570119/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570119">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 81b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This functionality has been added in Pod::Simple 3.22, now on CPAN. Check it out!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1084848" href="/Public/Bug/Display.html?id=74390#txn-1084848">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;29&nbsp;14:36:27&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1084850" href="/Public/Bug/Display.html?id=74390#txn-1084850">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;29&nbsp;14:36:34&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Fixed in 3.21 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1186640" href="/Public/Bug/Display.html?id=74390#txn-1186640">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;28&nbsp;12:16:39&nbsp;2013</span>
    <span class="description">dwheeler [...] cpan.org -  Fixed in 3.26 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1186641" href="/Public/Bug/Display.html?id=74390#txn-1186641">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;28&nbsp;12:16:39&nbsp;2013</span>
    <span class="description">dwheeler [...] cpan.org -  Fixed in 3.21 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.826139</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
