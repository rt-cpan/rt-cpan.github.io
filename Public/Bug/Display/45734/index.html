<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #40843 for CPAN: Couldn&#39;t untar CPAN-1.9301.tar</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #40843 for CPAN: Couldn&#39;t untar CPAN-1.9301.tar</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CPAN/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CPAN/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CPAN/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CPAN/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPAN">CPAN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">40843</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CPAN/Active/">CPAN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dolmen [...] cpan.org

<br />
bitcard [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-8164-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.9301    </td>
  </tr>
  <tr id="CF-8165-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;11&nbsp;20:54:42&nbsp;2008</span>
    <span class="description">bitcard [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Couldn&#39;t untar CPAN-1.9301.tar</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">When attempting to do a CPAN upgrade using the following command
   &#34;/usr/local/bin/perl -MCPAN -e &#39;install CPAN&#39;  &#34;

I get the error message &#34;Couldn&#39;t untar CPAN-1.9301.tar&#34;

What I have been able to prove is the file 
&#34;authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar&#34;
as extracted from the CPAN tar should actually be
&#34;CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz&#34;

The &#39;tar&#39; file actually appears to be the valid &#39;gz&#39;, based on signature
and checksum. 

As a work around until the distro is updated it is possible to:
- mv CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar
CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
- do manual build
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;11&nbsp;21:57:29&nbsp;2008</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is from the &#34;real&#34; CPAN:

% ls -l
/home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz

-rw-rw-r-- 1 root root 1965 2008-04-14 07:47:39
/home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz


% md5sum
/home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
                     
706a88c3c6a2b86f4e2034710a768f99 
/home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz


It would be interesting to find out how you got this file as
CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar. I have no theory.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;11&nbsp;21:57:33&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;11&nbsp;23:10:42&nbsp;2008</span>
    <span class="description">bitcard [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40843] Couldn&#39;t untar CPAN-1.9301.tar</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Nov 2008 14:10:30 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Mick M&#34; &lt;bitcard [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Andreas,

I have had this happen on two Solaris boxes over the last couple of days.

Solaris 8 running &#34;v5.8.8 built for sun4-solaris&#34;
Solaris 10 running &#34;v5.8.7 built for sun4-solaris&#34;

The md on the downloaded CPAN is as follows.
bash-3.00# /opt/SUNBEmd5/md5-sparc CPAN-1.9301.tar.gz
MD5 &#40;CPAN-1.9301.tar.gz&#41; = 291ef4d76121718d6ebad25fcde40395

Please understand I&#39;m not explicitly downloading
&#34;CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz&#34; it is being extracted from
&#34; CPAN-1.9301.tar.gz&#34;.
That said I did download it once explicitly to compare against the included
file.

As far as theory goes - I&#39;m at a loss as well.



On Wed, Nov 12, 2008 at 12:57 PM, Andreas Koenig via RT &lt;
bug-CPAN@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=40843">http://rt.cpan.org/Ticket/Display.html?id=40843</a></span> &gt;
&gt;
&gt; This is from the &#34;real&#34; CPAN:
&gt;
&gt; % ls -l
&gt;
&gt; /home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
&gt;
&gt; -rw-rw-r-- 1 root root 1965 2008-04-14 07:47:39
&gt;
&gt; /home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
&gt;
&gt;
&gt; % md5sum
&gt;
&gt; /home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
&gt;
&gt; 706a88c3c6a2b86f4e2034710a768f99
&gt;
&gt; /home/ftp/pub/PAUSE/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz
&gt;
&gt;
&gt; It would be interesting to find out how you got this file as
&gt; CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar. I have no theory.
&gt;
&gt;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;18&nbsp;21:47:00&nbsp;2008</span>
    <span class="description">bitcard [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bitcard [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 11 23:10:42 2008, mtm2 wrote:
I have found and verified the issue - finding the best way forward is up
to you.

Essentially the core issue is Solaris TAR and GNU Tar handle long
filenames and paths differently. 
  
Essentially GNU TAR does it in accordance to RFC and Sun does in ....
well in accordance to Sun. That said they don&#39;t seem to have complete
consistency in what they do w.r.t. to man pages etc.

One thing is for sure, you will start experiencing issues when the path
and filename exceeds 100 characters .... which is what it is in our case.

In our case it strips of characters 101-103 &#39;.gz&#39;

I have also confirmed the following:
  Solaris 8 broken when extracting the CPAN tar
  Solaris 9 broken when extracting the CPAN tar
  Solaris 10 broken  when extracting the CPAN tar
  Linux ok
  Perl Archive::Tar ok &#40;in fact this is how I&#39;m currently now doing my
deployment - not ideal but it works&#41;

Interesting Solaris TAR does provide a little hit &#40; if I had rigorously
read the log of a manual extraction - I might have seen it .... probably
not, but did once I had worked out what was wrong it was easy to spot&#41;

&lt;cut&gt;
----------   0/0      104 Jan  1 00:00 1970 ././@LongLink
-rw-r--r-- 1000/1000   1965 Apr 24 05:52 2008
CPAN-1.9301/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar
&lt;/cut&gt;

As far as fixing it I would strongly suggest that no CPAN tar balls
should ever have any files with a f.q.p.n. exceeding 100 characters.

catcha
Mick
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;18&nbsp;22:23:05&nbsp;2008</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40843] Couldn&#39;t untar CPAN-1.9301.tar</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 19 Nov 2008 04:22:52 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Tue, 18 Nov 2008 21:47:02 -0500, &#34;mtm2 via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; One thing is for sure, you will start experiencing issues when the path
  &gt; and filename exceeds 100 characters .... which is what it is in our case.
</div>
Wow, nice detective work! The fix isn&#39;t yet clear to me. The long path
results from the fact that I must mimick the original CPAN directory
structure, otherwise the CHECKSUMS files will not match, and I cannot
create new CHECKSUMS files because they are signed...

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;18&nbsp;22:51:26&nbsp;2008</span>
    <span class="description">bitcard [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bitcard [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have also verified the Sunfreeware version on TAR &#40;which is GNU based&#41;
works ok.

So that is another option .... that is instead of installing
Archive::Tar one can install Sunfreeware Tar and configure cpan tar
options to be
&#34;/usr/local/bin/tar&#34;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;00:50:35&nbsp;2009</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks again for the report. This will be fixed in 1.93_53 with a
suggestion by MST in ticket #43813: tarball has been renamed to .tgz
which shaves off 3 bytes and shortens the path from 103 to 100. Stay tuned:&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;00:50:37&nbsp;2009</span>
    <span class="description">ANDK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;05&nbsp;10:15:55&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Invalid 1.93_53 release</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This on HP-UX B.11.23

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; gzip -dc CPAN-1.93_53.tar.gz | tar tvf - | grep -v CPAN
</div>---------   0/0    102 Jan  1 01:00 1970 ././@LongLink
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; cpan ANDK/CPAN-1.93_53.tar.gz
</div>Going to read /home/nagios/CPAN/.cpan/sources/authors/01mailrc.txt.gz
CPAN: Compress::Zlib loaded ok &#40;v1.41&#41;
............................................................................DONE
Going to read
/home/nagios/CPAN/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 05 May 2009 00:26:59 GMT
CPAN: HTTP::Date loaded ok &#40;v1.47&#41;
............................................................................DONE
Going to read /home/nagios/CPAN/.cpan/sources/modules/03modlist.data.gz
............................................................................DONE
CPAN: Storable loaded ok &#40;v2.15&#41;
Going to write /home/nagios/CPAN/.cpan/Metadata
CPAN: YAML loaded ok &#40;v0.68&#41;
CPAN: CPAN::Kwalify loaded ok &#40;v5.50&#41;
Running make for A/AN/ANDK/CPAN-1.93_53.tar.gz

[...]

x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne-1.00.tar.gz,
1893 bytes, 4 tape blocks
x ././@LongLink, 102 bytes, 1 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.05.tg,
1992 bytes, 4 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CHECKSUMS,
1267 bytes, 3 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-BuildOrMake-1.02.tar.gz,
1773 bytes, 4 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-UnsatPrereq-1.00.tar.gz,
1598 bytes, 4 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CHECKSUMS.2nd, 19587 bytes,
39 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeThree-1.00.tar.gz,
1897 bytes, 4 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-Failearly-1.02.tar.gz,
1856 bytes, 4 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-Zip-1.03.zip,
4916 bytes, 10 tape blocks
x
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeTwo-1.00.tar.gz,
1895 bytes, 4 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/NotInChecksums-0.000.tar.gz,
136 bytes, 1 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CHECKSUMS, 33031 bytes, 65
tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/AN/CHECKSUMS, 1614 bytes, 4 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/A/CHECKSUMS, 1246 bytes, 3 tape blocks
x CPAN-1.93_53/t/CPAN/authors/id/CHECKSUMS, 18264 bytes, 36 tape blocks
x CPAN-1.93_53/t/CPAN/TestConfig.pm, 2470 bytes, 5 tape blocks
x CPAN-1.93_53/t/CPAN/TestPatch.txt, 584 bytes, 2 tape blocks
x CPAN-1.93_53/t/00signature.t, 1489 bytes, 3 tape blocks
x CPAN-1.93_53/t/01loadme.t, 175 bytes, 1 tape blocks
x CPAN-1.93_53/t/02nox.t, 1073 bytes, 3 tape blocks
x CPAN-1.93_53/t/50pod.t, 152 bytes, 1 tape blocks
x CPAN-1.93_53/t/10version.t, 2690 bytes, 6 tape blocks
x CPAN-1.93_53/t/41distribution.t, 3884 bytes, 8 tape blocks
x CPAN-1.93_53/t/52podcover.t, 1194 bytes, 3 tape blocks
x CPAN-1.93_53/t/13tarzip.t, 768 bytes, 2 tape blocks
x CPAN-1.93_53/t/12cpan.t, 7392 bytes, 15 tape blocks
x CPAN-1.93_53/t/70_critic.t, 526 bytes, 2 tape blocks
x CPAN-1.93_53/t/perlcriticrc, 560 bytes, 2 tape blocks
x CPAN-1.93_53/t/30shell.coverage, 21300 bytes, 42 tape blocks
x CPAN-1.93_53/t/43distroprefspref.t, 1904 bytes, 4 tape blocks
x CPAN-1.93_53/t/51pod.t, 1206 bytes, 3 tape blocks
x CPAN-1.93_53/SIGNATURE, 37571 bytes, 74 tape blocks
CPAN: File::Temp loaded ok &#40;v0.16&#41;
Package contains both files[@LongLink] and directories[CPAN-1.93_53];
not recognized as a perl package, giving up
  Package contains both files[@LongLink] and directories[CPAN-1.93_53];
not recognized as a perl package, giving up, won&#39;t make
Running make test
  Make had some problems, won&#39;t test
Running make install
  Make had some problems, won&#39;t install
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;05&nbsp;10:22:34&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar. Mai. 05 10:15:55 2009, DOLMEN a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This on HP-UX B.11.23
&gt; 
<div class="message-stanza open">&gt; &gt; gzip -dc CPAN-1.93_53.tar.gz | tar tvf - | grep -v CPAN
</div>&gt; ---------   0/0    102 Jan  1 01:00 1970 ././@LongLink
</div>
The content of @LongLink is:
CPAN-1.9304/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.04.tar.gz

So I suppose that this is a &#40;GNU?&#41; TAR extension that is not known to
the HP-UX TAR.

Release 1.9304 has the same problem. However I had not seen it because I
installed using an older CPAN which did not the archive content check.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;05&nbsp;10:22:35&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;05&nbsp;14:13:13&nbsp;2009</span>
    <span class="description">ANDK [...] cpan.org - Ticket #45734:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Rats. I suppose this will not be a problem when I release this tarball
as 1.94 because then the path will by three bytes shorter again.

There are tar implementations that have issues with paths longer than
~100 bytes. I need to make more room free for them so that dev releases
fit into the corset.

Thanks for the report!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;12&nbsp;05:29:36&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar. Mai. 05 14:13:13 2009, ANDK a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There are tar implementations that have issues with paths longer than
&gt; ~100 bytes. I need to make more room free for them so that dev releases
&gt; fit into the corset.
</div>
I&#39;m confirming.
It looks like it would be better to avoid file paths longer than 100
characters. This is the case for
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.05.tar.gz

Here is an extract of the output of &#39;gzip -dc CPAN-1.93_53.tar.gz | tar
tvf -&#39;:

rw-r--r-- 1000/1000   1643 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Build-DepeFails-1.02.tar.gz
rw-r--r-- 1000/1000   2323 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-Expect-1.00.tar.gz
rw-r--r-- 1000/1000   1893 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeOne-1.00.tar.gz
rwxr-xr-x 1000/1000      0 May  4 08:05 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/
---------   0/0    102 Jan  1 01:00 1970 ././@LongLink
rw-r--r-- 1000/1000   1992 Apr 14 06:48 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CPAN-Test-Dummy-Perl5-Make-Features-1.05.tg
rw-r--r-- 1000/1000   1267 Apr 14 06:48 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/cpantestdummies/CHECKSUMS
rw-r--r-- 1000/1000   1773 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-BuildOrMake-1.02.tar.gz
rw-r--r-- 1000/1000   1598 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-UnsatPrereq-1.00.tar.gz
rw-r--r-- 1000/1000  19587 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CHECKSUMS.2nd
rw-r--r-- 1000/1000   1897 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-CircDepeThree-1.00.tar.gz
rw-r--r-- 1000/1000   1856 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-Failearly-1.02.tar.gz
rw-r--r-- 1000/1000   4916 Mar 13 17:59 2009
CPAN-1.93_53/t/CPAN/authors/id/A/AN/ANDK/CPAN-Test-Dummy-Perl5-Make-Zip-1.03.zip
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;12&nbsp;05:32:40&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Subject changed from &#39;Invalid 1.93_53 release&#39; to &#39;Invalid 1.93_53 release : path longer than 100 in archive&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;12&nbsp;10:28:14&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org - Ticket #45734:  Merged into ticket #40843</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;May&nbsp;12&nbsp;10:28:14&nbsp;2009</span>
    <span class="description">dolmen [...] cpan.org -  Merged into ticket #40843</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
