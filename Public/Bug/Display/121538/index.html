<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #121538 for Net-SSLeay: Runtime failure in version 1.81 when OpenSSL was not built with Engine support</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #121538 for Net-SSLeay: Runtime failure in version 1.81 when OpenSSL was not built with Engine support</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-SSLeay/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">121538</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-SSLeay/Active/">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">chrisn [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Paul.Green [...] stratus.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.86_04    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;05&nbsp;16:06:19&nbsp;2017</span>
    <span class="description">Paul.Green [...] stratus.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Farley, Paul&#34; &lt;Paul.Farley [...] stratus.com&gt;, &#34;Green, Paul&#34; &lt;Paul.Green [...] stratus.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Runtime failure in version 1.81 when OpenSSL was not built with Engine support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 May 2017 19:58:57 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-SSLeay [...] rt.cpan.org&#34; &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Green, Paul&#34; &lt;Paul.Green [...] stratus.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Gentle Net::SSLeay maintainers,

I previously a related bug &#40;#120330&#41; back on February 22 of this year, which you kindly fixed on March 1, and released in Net::SSLeay version 1.81. Many thanks. That cleared up the first issue. Now I have run into the next problem, which is that the code is still referencing ENGINE-related functions at runtime. Our standard version of OpenSSL doesn&#39;t include Engine support, so that&#39;s a problem. Not sure how I missed this back in February.

This change should have no effect on any current users of Net::SSLeay because up until this point, the package assumed that ENGINE support was always present. All my two patches do is to enable people who do not have ENGINE support in their OpenSSL to still use Net::SSLeay.

Here is the patch to version 1.81 to resolve this issue.

diff -ur Net-SSLeay-1.81-0/SSLeay.xs Net-SSLeay-1.81-1/SSLeay.xs
--- Net-SSLeay-1.81-0/SSLeay.xs    2017-05-05 15:53:43 -0400
+++ Net-SSLeay-1.81-1/SSLeay.xs    2017-05-05 15:55:26 -0400
@@ -50,6 +50,7 @@
  * 1/ SSleay.xs is expected to build/pass test suite
  *    - with openssl 0.9.6 and newer versions
  *    - with perl 5.8 and newer versions
+ *    - with or without ENGINE support
  *
  * 2/ Fix all compiler warnings - we expect 100% clean build
  *
@@ -2393,6 +2394,7 @@
     RETVAL

#if OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL
+#ifndef OPENSSL_NO_ENGINE
#define REM5 &#34;NOTE: requires 0.9.7+&#34;

void
@@ -2410,6 +2412,7 @@
         ENGINE * e
         int flags

+#endif /* OPENSSL_NO_ENGINE */
#endif /* OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL */

void

** end patch **

You may mark my previous bug, #120330 as resolved by version 1.81. That change was correct, just not complete enough.

Thanks
PG
--
Sr. Technical Consultant, Stratus Technologies, Inc.
Maynard, MA 01754-1482
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;05&nbsp;17:57:33&nbsp;2017</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #121538] Runtime failure in version 1.81 when OpenSSL was not built with Engine support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 May 2017 22:08:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks. 
I won&#39;t get a chance to assess your patch for a few weeks

Cheers

Sent from my iPhone

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 5 May 2017, at 9:06 pm, Paul Green via RT &lt;bug-Net-SSLeay@rt.cpan.org&gt; wrote:
&gt; 
&gt; Fri May 05 16:06:19 2017: Request 121538 was acted upon.
&gt; Transaction: Ticket created by Paul.Green@stratus.com
&gt;       Queue: Net-SSLeay
&gt;     Subject: Runtime failure in version 1.81 when OpenSSL was not built with Engine support
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: &#40;no value&#41;
&gt;       Owner: Nobody
&gt;  Requestors: Paul.Green@stratus.com
&gt;      Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121538">https://rt.cpan.org/Ticket/Display.html?id=121538</a></span> &gt;
&gt; 
&gt; 
&gt; Gentle Net::SSLeay maintainers,
&gt; 
&gt; I previously a related bug &#40;#120330&#41; back on February 22 of this year, which you kindly fixed on March 1, and released in Net::SSLeay version 1.81. Many thanks. That cleared up the first issue. Now I have run into the next problem, which is that the code is still referencing ENGINE-related functions at runtime. Our standard version of OpenSSL doesn&#39;t include Engine support, so that&#39;s a problem. Not sure how I missed this back in February.
&gt; 
&gt; This change should have no effect on any current users of Net::SSLeay because up until this point, the package assumed that ENGINE support was always present. All my two patches do is to enable people who do not have ENGINE support in their OpenSSL to still use Net::SSLeay.
&gt; 
&gt; Here is the patch to version 1.81 to resolve this issue.
&gt; 
&gt; diff -ur Net-SSLeay-1.81-0/SSLeay.xs Net-SSLeay-1.81-1/SSLeay.xs
&gt; --- Net-SSLeay-1.81-0/SSLeay.xs    2017-05-05 15:53:43 -0400
&gt; +++ Net-SSLeay-1.81-1/SSLeay.xs    2017-05-05 15:55:26 -0400
&gt; @@ -50,6 +50,7 @@
&gt;  * 1/ SSleay.xs is expected to build/pass test suite
&gt;  *    - with openssl 0.9.6 and newer versions
&gt;  *    - with perl 5.8 and newer versions
&gt; + *    - with or without ENGINE support
&gt;  *
&gt;  * 2/ Fix all compiler warnings - we expect 100% clean build
&gt;  *
&gt; @@ -2393,6 +2394,7 @@
&gt;     RETVAL
&gt; 
&gt; #if OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL
&gt; +#ifndef OPENSSL_NO_ENGINE
&gt; #define REM5 &#34;NOTE: requires 0.9.7+&#34;
&gt; 
&gt; void
&gt; @@ -2410,6 +2412,7 @@
&gt;         ENGINE * e
&gt;         int flags
&gt; 
&gt; +#endif /* OPENSSL_NO_ENGINE */
&gt; #endif /* OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL */
&gt; 
&gt; void
&gt; 
&gt; ** end patch **
&gt; 
&gt; You may mark my previous bug, #120330 as resolved by version 1.81. That change was correct, just not complete enough.
&gt; 
&gt; Thanks
&gt; PG
&gt; --
&gt; Sr. Technical Consultant, Stratus Technologies, Inc.
&gt; Maynard, MA 01754-1482
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;05&nbsp;17:57:34&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;08&nbsp;09:31:20&nbsp;2017</span>
    <span class="description">Paul.Green [...] stratus.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #121538] Runtime failure in version 1.81 when OpenSSL was not built with Engine support</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 8 May 2017 13:29:42 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Net-SSLeay [...] rt.cpan.org&#34; &lt;bug-Net-SSLeay [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Green, Paul&#34; &lt;Paul.Green [...] stratus.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That’s not a problem. I’ve given my customer an avoidance.

PG


From: Mike McCauley via RT [mailto:bug-Net-SSLeay@rt.cpan.org]
Sent: Friday, May 05, 2017 5:58 PM
To: Green, Paul &lt;Paul.Green@stratus.com&gt;
Subject: Re: [rt.cpan.org #121538] Runtime failure in version 1.81 when OpenSSL was not built with Engine support

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121538">https://rt.cpan.org/Ticket/Display.html?id=121538</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121538">https://rt.cpan.org/Ticket/Display.html?id=121538</a></span>&gt; &gt;

Thanks.
I won&#39;t get a chance to assess your patch for a few weeks

Cheers

Sent from my iPhone

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 5 May 2017, at 9:06 pm, Paul Green via RT &lt;bug-Net-SSLeay@rt.cpan.org&lt;mailto:bug-Net-SSLeay@rt.cpan.org&gt;&gt; wrote:
&gt;
&gt; Fri May 05 16:06:19 2017: Request 121538 was acted upon.
&gt; Transaction: Ticket created by Paul.Green@stratus.com&lt;mailto:Paul.Green@stratus.com&gt;
&gt; Queue: Net-SSLeay
&gt; Subject: Runtime failure in version 1.81 when OpenSSL was not built with Engine support
&gt; Broken in: &#40;no value&#41;
&gt; Severity: &#40;no value&#41;
&gt; Owner: Nobody
&gt; Requestors: Paul.Green@stratus.com&lt;mailto:Paul.Green@stratus.com&gt;
&gt; Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121538">https://rt.cpan.org/Ticket/Display.html?id=121538</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121538">https://rt.cpan.org/Ticket/Display.html?id=121538</a></span>&gt; &gt;
&gt;
&gt;
&gt; Gentle Net::SSLeay maintainers,
&gt;
&gt; I previously a related bug &#40;#120330&#41; back on February 22 of this year, which you kindly fixed on March 1, and released in Net::SSLeay version 1.81. Many thanks. That cleared up the first issue. Now I have run into the next problem, which is that the code is still referencing ENGINE-related functions at runtime. Our standard version of OpenSSL doesn&#39;t include Engine support, so that&#39;s a problem. Not sure how I missed this back in February.
&gt;
&gt; This change should have no effect on any current users of Net::SSLeay because up until this point, the package assumed that ENGINE support was always present. All my two patches do is to enable people who do not have ENGINE support in their OpenSSL to still use Net::SSLeay.
&gt;
&gt; Here is the patch to version 1.81 to resolve this issue.
&gt;
&gt; diff -ur Net-SSLeay-1.81-0/SSLeay.xs Net-SSLeay-1.81-1/SSLeay.xs
&gt; --- Net-SSLeay-1.81-0/SSLeay.xs 2017-05-05 15:53:43 -0400
&gt; +++ Net-SSLeay-1.81-1/SSLeay.xs 2017-05-05 15:55:26 -0400
&gt; @@ -50,6 +50,7 @@
&gt; * 1/ SSleay.xs is expected to build/pass test suite
&gt; * - with openssl 0.9.6 and newer versions
&gt; * - with perl 5.8 and newer versions
&gt; + * - with or without ENGINE support
&gt; *
&gt; * 2/ Fix all compiler warnings - we expect 100% clean build
&gt; *
&gt; @@ -2393,6 +2394,7 @@
&gt; RETVAL
&gt;
&gt; #if OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL
&gt; +#ifndef OPENSSL_NO_ENGINE
&gt; #define REM5 &#34;NOTE: requires 0.9.7+&#34;
&gt;
&gt; void
&gt; @@ -2410,6 +2412,7 @@
&gt; ENGINE * e
&gt; int flags
&gt;
&gt; +#endif /* OPENSSL_NO_ENGINE */
&gt; #endif /* OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL */
&gt;
&gt; void
&gt;
&gt; ** end patch **
&gt;
&gt; You may mark my previous bug, #120330 as resolved by version 1.81. That change was correct, just not complete enough.
&gt;
&gt; Thanks
&gt; PG
&gt; --
&gt; Sr. Technical Consultant, Stratus Technologies, Inc.
&gt; Maynard, MA 01754-1482
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;27&nbsp;13:28:37&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> Paul.Farley [...] stratus.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 05 21:06:19 2017, Paul.Green@stratus.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Gentle Net::SSLeay maintainers,
&gt; 
&gt; I previously a related bug &#40;#120330&#41; back on February 22 of this year,
&gt; which you kindly fixed on March 1, and released in Net::SSLeay version
&gt; 1.81. Many thanks. That cleared up the first issue. Now I have run
&gt; into the next problem, which is that the code is still referencing
&gt; ENGINE-related functions at runtime. Our standard version of OpenSSL
&gt; doesn&#39;t include Engine support, so that&#39;s a problem. Not sure how I
&gt; missed this back in February.
&gt; 
&gt; This change should have no effect on any current users of Net::SSLeay
&gt; because up until this point, the package assumed that ENGINE support
&gt; was always present. All my two patches do is to enable people who do
&gt; not have ENGINE support in their OpenSSL to still use Net::SSLeay.
&gt; 
&gt; Here is the patch to version 1.81 to resolve this issue.
&gt; 
&gt; diff -ur Net-SSLeay-1.81-0/SSLeay.xs Net-SSLeay-1.81-1/SSLeay.xs
&gt; --- Net-SSLeay-1.81-0/SSLeay.xs    2017-05-05 15:53:43 -0400
&gt; +++ Net-SSLeay-1.81-1/SSLeay.xs    2017-05-05 15:55:26 -0400
&gt; @@ -50,6 +50,7 @@
&gt;   * 1/ SSleay.xs is expected to build/pass test suite
&gt;   *    - with openssl 0.9.6 and newer versions
&gt;   *    - with perl 5.8 and newer versions
&gt; + *    - with or without ENGINE support
&gt;   *
&gt;   * 2/ Fix all compiler warnings - we expect 100% clean build
&gt;   *
&gt; @@ -2393,6 +2394,7 @@
&gt;      RETVAL
&gt; 
&gt; #if OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL
&gt; +#ifndef OPENSSL_NO_ENGINE
&gt; #define REM5 &#34;NOTE: requires 0.9.7+&#34;
&gt; 
&gt; void
&gt; @@ -2410,6 +2412,7 @@
&gt;          ENGINE * e
&gt;          int flags
&gt; 
&gt; +#endif /* OPENSSL_NO_ENGINE */
&gt; #endif /* OPENSSL_VERSION_NUMBER &gt;= 0x0090700fL */
&gt; 
&gt; void
&gt; 
&gt; ** end patch **
</div>
Thanks, Paul - patch applied, with minor modifications to document the potential unavailability of the ENGINE_* functions and to credit you for the patch in the Changes file:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/radiator-software/p5-net-ssleay/pull/16">https://github.com/radiator-software/p5-net-ssleay/pull/16</a></span>

This will be included in the next developer release &#40;1.86_04&#41; and the next stable release after that.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;27&nbsp;13:28:39&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;27&nbsp;13:28:39&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;30&nbsp;19:33:32&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;30&nbsp;19:33:32&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Fixed in 1.86_04 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
