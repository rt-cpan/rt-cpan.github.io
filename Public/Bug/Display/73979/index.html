<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #73979 for Net-SSH-Expect: Perl SSH Expect send result varies from manual execution</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #73979 for Net-SSH-Expect: Perl SSH Expect send result varies from manual execution</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SSH-Expect">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SSH-Expect">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SSH-Expect">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SSH-Expect">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSH-Expect">Net-SSH-Expect CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">73979</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SSH-Expect">Net-SSH-Expect</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kumar.rajesh [...] wipro.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44340-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44341-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




iTrace_start_stop.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1021937/532982/iTrace_start_stop.pl">
Fri Jan 13 10:48:45 2012 (2.3k) by kumar.rajesh [...] wipro.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=73979">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1021937" href="/Public/Bug/Display.html?id=73979#txn-1021937">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;13&nbsp;10:48:45&nbsp;2012</span>
    <span class="description">kumar.rajesh [...] wipro.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perl SSH Expect send result varies from manual execution</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 13 Jan 2012 15:48:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Net-SSH-Expect [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;kumar.rajesh [...] wipro.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1021937/532980/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/532980">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Greetings,

I am having an issue in perl &#40;SSH::Expect&#41; where I need some help with the interactive menu selection &#40;perl case attached&#41;. It works fine manually but fails with perl ssh expect. When executing manually i get the following:


|---------------------------------------------|
| 1. Create task                              |
| 2. Start task                               |
| 3. Pause task                               |
| 4. Delete task                              |
| 5. Query task                               |
| 6. Save message                             |
|---------------------------------------------|
| 7. Exit                                     |
|---------------------------------------------|

Please enter the operation serial number.  &gt;1
Incorrect number. Please enter a correct one.  &gt;1

NO.                                                NE name                                            NE type name
1                                                  TB2SEE                                             HW_SEE
2                                                  UKTB2SEE                                           HW_SEE
3                                                  TB2SLEE                                            HW_SLEE
4                                                  UKTB2SLEE                                          HW_SLEE

***************Input Tips*************
a: To create a tracing task for an NE, enter the NE number.
b: To create a tracing task for multiple NEs, enter the NE numbers and separate every two of them with a plus sign &#40;+&#41;. Example: 1+2.
c: To create a tracing task for all NEs, enter 0.
**************************************
Please enter the NE serial number.  &gt;


but when i run it from perl automated script i get the following:



  DB&lt;1&gt;
main::&#40;iTrace_start_stop.pl:50&#41;:        $ssh-&gt;waitfor&#40;&#39;Please\senter\sthe\soperation\sserial\snumber.\s*&#39;, 2&#41; or die &#34;prompt &#39;operation serial number&#39; not found after 2 second&#34;;
  DB&lt;1&gt;
main::&#40;iTrace_start_stop.pl:51&#41;:        $ssh-&gt;send&#40;&#34;1&#34;&#41;;
  DB&lt;1&gt;
main::&#40;iTrace_start_stop.pl:54&#41;:        print $ssh-&gt;peek&#40;1&#41;;
  DB&lt;1&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div>
NO.NE nameNE type name
---- More &#40;Enter to show More&#41; ----
NO.NE nameNE type name
---- More &#40;Enter to show More&#41; ----
NO.NE nameNE type name
---- More &#40;Enter to show More&#41; ----

That is it only prints the first line of the table but not the whole content.

Somehow the table is not coming properly from the server and it is not taking any further input.  Please let me know if you have faced such issues so that i can fix this based on the experience.

Thanks,
Rajesh Kumar Bathina

Please do not print this email unless it is absolutely necessary. 

The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee&#40;s&#41; and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments. 

WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. 

www.wipro.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1021937/532981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/532981">with headers</a>
<br />
<span class="downloadcontenttype">text/html 11k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1021937/532982/iTrace_start_stop.pl">Download iTrace_start_stop.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1022499" href="/Public/Bug/Display.html?id=73979#txn-1022499">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;15&nbsp;08:44:23&nbsp;2012</span>
    <span class="description">bnegrao [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73979] Perl SSH Expect send result varies from manual execution</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 15 Jan 2012 11:44:10 -0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSH-Expect [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Bruno Negrao Zica &lt;bnegrao [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022499/533283/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/533283">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Kumar,

I believe that is because your server doesn&#39;t get the same terminal
settings when it receives the ssh request via perl expect. Your server
understands that the client screen is smaller so it sends that message &#34;
---- More &#40;Enter to show More&#41; ----&#34;.

Well, i have no idea on how would you fix the client terminal settings, so
what I would do is configure ssh-perl-expect to send ENTER whenever it
receives a &#34;---- More &#40;Enter to show More&#41; ----&#34; string.

hope that helps.

bruno.

On Fri, Jan 13, 2012 at 1:48 PM, kumar.rajesh via RT &lt;
bug-Net-SSH-Expect@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Jan 13 10:48:45 2012: Request 73979 was acted upon.
&gt; Transaction: Ticket created by kumar.rajesh@wipro.com
&gt;       Queue: Net-SSH-Expect
&gt;     Subject: Perl SSH Expect send result varies from manual execution
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: &#40;no value&#41;
&gt;       Owner: Nobody
&gt;  Requestors: kumar.rajesh@wipro.com
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73979">https://rt.cpan.org/Ticket/Display.html?id=73979</a></span> &gt;
&gt;
&gt;
&gt; Hi,
&gt;
&gt; Greetings,
&gt;
&gt; I am having an issue in perl &#40;SSH::Expect&#41; where I need some help with the
&gt; interactive menu selection &#40;perl case attached&#41;. It works fine manually but
&gt; fails with perl ssh expect. When executing manually i get the following:
&gt;
&gt;
&gt; |---------------------------------------------|
&gt; | 1. Create task                              |
&gt; | 2. Start task                               |
&gt; | 3. Pause task                               |
&gt; | 4. Delete task                              |
&gt; | 5. Query task                               |
&gt; | 6. Save message                             |
&gt; |---------------------------------------------|
&gt; | 7. Exit                                     |
&gt; |---------------------------------------------|
&gt;
&gt; Please enter the operation serial number.  &gt;1
&gt; Incorrect number. Please enter a correct one.  &gt;1
&gt;
&gt; NO.                                                NE name
&gt;                            NE type name
&gt; 1                                                  TB2SEE
&gt;                             HW_SEE
&gt; 2                                                  UKTB2SEE
&gt;                             HW_SEE
&gt; 3                                                  TB2SLEE
&gt;                            HW_SLEE
&gt; 4                                                  UKTB2SLEE
&gt;                            HW_SLEE
&gt;
&gt; ***************Input Tips*************
&gt; a: To create a tracing task for an NE, enter the NE number.
&gt; b: To create a tracing task for multiple NEs, enter the NE numbers and
&gt; separate every two of them with a plus sign &#40;+&#41;. Example: 1+2.
&gt; c: To create a tracing task for all NEs, enter 0.
&gt; **************************************
&gt; Please enter the NE serial number.  &gt;
&gt;
&gt;
&gt; but when i run it from perl automated script i get the following:
&gt;
&gt;
&gt;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:50&#41;:
&gt;  $ssh-&gt;waitfor&#40;&#39;Please\senter\sthe\soperation\sserial\snumber.\s*&#39;, 2&#41; or
&gt; die &#34;prompt &#39;operation serial number&#39; not found after 2 second&#34;;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:51&#41;:        $ssh-&gt;send&#40;&#34;1&#34;&#41;;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:54&#41;:        print $ssh-&gt;peek&#40;1&#41;;
&gt;  DB&lt;1&gt;
<div class="message-stanza open">&gt; &gt;
</div>&gt;
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt;
&gt; That is it only prints the first line of the table but not the whole
&gt; content.
&gt;
&gt; Somehow the table is not coming properly from the server and it is not
&gt; taking any further input.  Please let me know if you have faced such issues
&gt; so that i can fix this based on the experience.
&gt;
&gt; Thanks,
&gt; Rajesh Kumar Bathina
&gt;
&gt; Please do not print this email unless it is absolutely necessary.
&gt;
&gt; The information contained in this electronic message and any attachments
&gt; to this message are intended for the exclusive use of the addressee&#40;s&#41; and
&gt; may contain proprietary, confidential or privileged information. If you are
&gt; not the intended recipient, you should not disseminate, distribute or copy
&gt; this e-mail. Please notify the sender immediately and destroy all copies of
&gt; this message and any attachments.
&gt;
&gt; WARNING: Computer viruses can be transmitted via email. The recipient
&gt; should check this email and any attachments for the presence of viruses.
&gt; The company accepts no liability for any damage caused by any virus
&gt; transmitted by this email.
&gt;
&gt; www.wipro.com
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022499/533284/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/533284">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1022502" href="/Public/Bug/Display.html?id=73979#txn-1022502">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;15&nbsp;08:44:25&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1022694" href="/Public/Bug/Display.html?id=73979#txn-1022694">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;16&nbsp;03:40:35&nbsp;2012</span>
    <span class="description">kumar.rajesh [...] wipro.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #73979] Perl SSH Expect send result varies from manual execution</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 16 Jan 2012 08:40:20 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Net-SSH-Expect [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;kumar.rajesh [...] wipro.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022694/533393/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/533393">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Bruno,

Greetings,

I have already tried Enter &#40;\n&#41; when i get the message &#34;Enter to show more&#34; and it did not help. 

Thanks and Regards,
Rajesh Kumar Bathina
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________________
From: Bruno Negrao via RT [bug-Net-SSH-Expect@rt.cpan.org]
Sent: Sunday, January 15, 2012 7:14 PM
To: Rajesh Kumar Bathina &#40;WT01 - GMT-Global Comm Service Provider&#41;
Subject: Re: [rt.cpan.org #73979] Perl SSH Expect send result varies from manual execution

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73979">https://rt.cpan.org/Ticket/Display.html?id=73979</a></span> &gt;

Hello Kumar,

I believe that is because your server doesn&#39;t get the same terminal
settings when it receives the ssh request via perl expect. Your server
understands that the client screen is smaller so it sends that message &#34;
---- More &#40;Enter to show More&#41; ----&#34;.

Well, i have no idea on how would you fix the client terminal settings, so
what I would do is configure ssh-perl-expect to send ENTER whenever it
receives a &#34;---- More &#40;Enter to show More&#41; ----&#34; string.

hope that helps.

bruno.

On Fri, Jan 13, 2012 at 1:48 PM, kumar.rajesh via RT &lt;
bug-Net-SSH-Expect@rt.cpan.org&gt; wrote:

<div class="message-stanza open">&gt; Fri Jan 13 10:48:45 2012: Request 73979 was acted upon.
&gt; Transaction: Ticket created by kumar.rajesh@wipro.com
&gt;       Queue: Net-SSH-Expect
&gt;     Subject: Perl SSH Expect send result varies from manual execution
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: &#40;no value&#41;
&gt;       Owner: Nobody
&gt;  Requestors: kumar.rajesh@wipro.com
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73979">https://rt.cpan.org/Ticket/Display.html?id=73979</a></span> &gt;
&gt;
&gt;
&gt; Hi,
&gt;
&gt; Greetings,
&gt;
&gt; I am having an issue in perl &#40;SSH::Expect&#41; where I need some help with the
&gt; interactive menu selection &#40;perl case attached&#41;. It works fine manually but
&gt; fails with perl ssh expect. When executing manually i get the following:
&gt;
&gt;
&gt; |---------------------------------------------|
&gt; | 1. Create task                              |
&gt; | 2. Start task                               |
&gt; | 3. Pause task                               |
&gt; | 4. Delete task                              |
&gt; | 5. Query task                               |
&gt; | 6. Save message                             |
&gt; |---------------------------------------------|
&gt; | 7. Exit                                     |
&gt; |---------------------------------------------|
&gt;
&gt; Please enter the operation serial number.  &gt;1
&gt; Incorrect number. Please enter a correct one.  &gt;1
&gt;
&gt; NO.                                                NE name
&gt;                            NE type name
&gt; 1                                                  TB2SEE
&gt;                             HW_SEE
&gt; 2                                                  UKTB2SEE
&gt;                             HW_SEE
&gt; 3                                                  TB2SLEE
&gt;                            HW_SLEE
&gt; 4                                                  UKTB2SLEE
&gt;                            HW_SLEE
&gt;
&gt; ***************Input Tips*************
&gt; a: To create a tracing task for an NE, enter the NE number.
&gt; b: To create a tracing task for multiple NEs, enter the NE numbers and
&gt; separate every two of them with a plus sign &#40;+&#41;. Example: 1+2.
&gt; c: To create a tracing task for all NEs, enter 0.
&gt; **************************************
&gt; Please enter the NE serial number.  &gt;
&gt;
&gt;
&gt; but when i run it from perl automated script i get the following:
&gt;
&gt;
&gt;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:50&#41;:
&gt;  $ssh-&gt;waitfor&#40;&#39;Please\senter\sthe\soperation\sserial\snumber.\s*&#39;, 2&#41; or
&gt; die &#34;prompt &#39;operation serial number&#39; not found after 2 second&#34;;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:51&#41;:        $ssh-&gt;send&#40;&#34;1&#34;&#41;;
&gt;  DB&lt;1&gt;
&gt; main::&#40;iTrace_start_stop.pl:54&#41;:        print $ssh-&gt;peek&#40;1&#41;;
&gt;  DB&lt;1&gt;
<div class="message-stanza open">&gt; &gt;
</div>&gt;
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt; NO.NE nameNE type name
&gt; ---- More &#40;Enter to show More&#41; ----
&gt;
&gt; That is it only prints the first line of the table but not the whole
&gt; content.
&gt;
&gt; Somehow the table is not coming properly from the server and it is not
&gt; taking any further input.  Please let me know if you have faced such issues
&gt; so that i can fix this based on the experience.
&gt;
&gt; Thanks,
&gt; Rajesh Kumar Bathina
&gt;
&gt; Please do not print this email unless it is absolutely necessary.
&gt;
&gt; The information contained in this electronic message and any attachments
&gt; to this message are intended for the exclusive use of the addressee&#40;s&#41; and
&gt; may contain proprietary, confidential or privileged information. If you are
&gt; not the intended recipient, you should not disseminate, distribute or copy
&gt; this e-mail. Please notify the sender immediately and destroy all copies of
&gt; this message and any attachments.
&gt;
&gt; WARNING: Computer viruses can be transmitted via email. The recipient
&gt; should check this email and any attachments for the presence of viruses.
&gt; The company accepts no liability for any damage caused by any virus
&gt; transmitted by this email.
&gt;
&gt; www.wipro.com
&gt;
&gt;
</div>

Please do not print this email unless it is absolutely necessary. 

The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee&#40;s&#41; and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments. 

WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. 

www.wipro.com
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.327068</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
