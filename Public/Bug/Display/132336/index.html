<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #132336 for DateTime-Event-Sunrise: Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #132336 for DateTime-Event-Sunrise: Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DateTime-Event-Sunrise/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DateTime-Event-Sunrise/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DateTime-Event-Sunrise/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DateTime-Event-Sunrise/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DateTime-Event-Sunrise">DateTime-Event-Sunrise CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">132336</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">patched</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DateTime-Event-Sunrise/Active/">DateTime-Event-Sunrise</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
timezones [...] kosowsky.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9832-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-9833-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.0506    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;13&nbsp;18:52:21&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 13 Apr 2020 18:49:54 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
I was just testing DateTime::Event::Sunrise for Newton Center,
Massachuseets for the month of April 2020 against several other
calculators, including:
1. NOAA &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.esrl.noaa.gov/gmd/grad/solcalc/table.php?lat=42.3358&#38;lon=-71.2044&#38;year=2020&#41;">https://www.esrl.noaa.gov/gmd/grad/solcalc/table.php?lat=42.3358&#38;lon=-71.2044&#38;year=2020&#41;</a></span>
2. timeanddate.com &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://www.timeanddate.com/sun/@4945289&#41;">https://www.timeanddate.com/sun/@4945289&#41;</a></span>
3. <span class="clickylink"><a target="new" rel="nofollow" href="https://keisan.casio.com/exec/system/1224686065">https://keisan.casio.com/exec/system/1224686065</a></span>

They all were consistent within about 1 minute.

On the other hand, DateTime::Event::Sunrise for *sunrise* seemed to be
about 2 minutes earlier on most days in my tested month of April.
Yet, for *sunset* the times were accurate for the month.

Any ideas on what might be going on here?

Note I used the following code:

#!/usr/bin/perl

use strict;
use warnings;
use DateTime;
use DateTime::Event::Sunrise;

my $sunriseset = DateTime::Event::Sunrise-&gt;new&#40; #Note this is a different object type &#40;used with sunrise_datetime and sunset_datetime&#41;
                     longitude =&gt; 42.3358,
                     latitude =&gt; -71.2044,
                     altitude =&gt; &#39;-0.833&#39;,
                     precise =&gt; 1&#41;;

my $dt = DateTime-&gt;new&#40;
                year =&gt; 2020,
                month =&gt; 4, 
                day =&gt; 12,
                hour =&gt; 12,
                time_zone =&gt; &#39;America/New_York&#39;&#41;;

for&#40;my $i=1; $i&lt;=30; $i++&#41; {
    $dt-&gt;set&#40;day =&gt; $i&#41;;
    print $dt-&gt;mdy, &#34;\t&#34;, $sunriseset-&gt;sunrise_datetime&#40;$dt&#41;-&gt;hms, &#34;\t&#34;, $sunriseset-&gt;sunset_datetime&#40;$dt&#41;-&gt;hms, &#34;\n&#34;;
};
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;14:27:14&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
[ cut ]
Thank you for reporting this bug.

There is a error in your code example: your location
is 42°E, 71°S while I think you meant 71°W 42°N.
I think you live near Boston, rather than on the
Antarctic coast. But it is not important.

You wrote: Any ideas on what might be going there?
Here are some ideas.

The sunrise module was created as Astro::Sunrise.
It did not integrate with DateTime, because DateTime
was first released in 2003 and Astro::Sunrise was first
released in 2000. In 2003, the original author duplicated
his module Astro::Sunrise into DateTime::Event::Sunrise.
For a while, he maintained both modules. But
very soon, he stopped being active in the Perl world.

After submitting a bug report in 2008, I took over
the maintenance of both modules in 2013. I fixed the
simple errors, and I postponed fixing the difficult bugs.
Among these difficult bugs, there is the &#34;precise&#34; method
which, as written, does not look good to me.

In 2017, I decided to tackle the issue of the precise
algorithm. The problem is, I decided to work on
Astro::Sunrise and only when Astro::Sunrise would be completely
debugged, I would port the fixes to DT::E::Sunrise.

So the situation now is:
-- Astro::Sunrise, last released in January 2019, contains a precise
algorithm which seems correct to me,
-- DT::E::Sunrise, last released in December 2015, contains another
&#34;precise&#34; algorithm which I do not understand and which seems wrong
to me.

Up to this morning when I read your bug report, I had the intention
to work again on Astro::Sunrise and find a fix to
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=110016">https://rt.cpan.org/Public/Bug/Display.html?id=110016</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=109992">https://rt.cpan.org/Public/Bug/Display.html?id=109992</a></span>

But because of your bug report, I will do what I should have done
before, that is, port the Astro::Sunrise fixes to DT::E::Sunrise.
And maybe find a fix to ticket 110016 at the same time.
So DT::E::Sunrise would be ahead of Astro::Sunrise this time.
But you will have to wait several weeks before a new module release.
I am not paid to maintain Perl modules, I do this in my evening free time.

Meanwhile, if you want, you can do a few experiments, such as
comparing the Astro::Sunrise precise algorithm with the DT::E::Sunrise
&#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
algorithm is worse than the simpler one.

Also, you can read:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod">https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod</a></span>
Note: this includes a paragraph about the choice between the simple
and the precise algorithms. Actually, for Boston, you have no real need
for the precise algorithm, the simple one would be sufficient. On the other
hand, I still need to do the A::Sunrise → DT::E::Sunrise port.

Thank you for your interest in my module&#40;s&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;14:27:14&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;14&nbsp;18:54:46&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 14 Apr 2020 18:52:22 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Jean for the helpful and thoughtful response... and thanks for
your work as maintainer and advancer of the module.
It&#39;s such a shame that the audience for PERL is declining - it&#39;s a
wonderfully powerful language.

And yes, I do live near Boston -- though would love to visit
Antarctica one day...

Jeff

Jean Forget via RT wrote at about 14:27:15 -0400 on Tuesday, April 14, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
 &gt; [ cut ]
 &gt; Thank you for reporting this bug.
 &gt; 
 &gt; There is a error in your code example: your location
 &gt; is 42°E, 71°S while I think you meant 71°W 42°N.
 &gt; I think you live near Boston, rather than on the
 &gt; Antarctic coast. But it is not important.
 &gt; 
 &gt; You wrote: Any ideas on what might be going there?
 &gt; Here are some ideas.
 &gt; 
 &gt; The sunrise module was created as Astro::Sunrise.
 &gt; It did not integrate with DateTime, because DateTime
 &gt; was first released in 2003 and Astro::Sunrise was first
 &gt; released in 2000. In 2003, the original author duplicated
 &gt; his module Astro::Sunrise into DateTime::Event::Sunrise.
 &gt; For a while, he maintained both modules. But
 &gt; very soon, he stopped being active in the Perl world.
 &gt; 
 &gt; After submitting a bug report in 2008, I took over
 &gt; the maintenance of both modules in 2013. I fixed the
 &gt; simple errors, and I postponed fixing the difficult bugs.
 &gt; Among these difficult bugs, there is the &#34;precise&#34; method
 &gt; which, as written, does not look good to me.
 &gt; 
 &gt; In 2017, I decided to tackle the issue of the precise
 &gt; algorithm. The problem is, I decided to work on
 &gt; Astro::Sunrise and only when Astro::Sunrise would be completely
 &gt; debugged, I would port the fixes to DT::E::Sunrise.
 &gt; 
 &gt; So the situation now is:
 &gt; -- Astro::Sunrise, last released in January 2019, contains a precise
 &gt; algorithm which seems correct to me,
 &gt; -- DT::E::Sunrise, last released in December 2015, contains another
 &gt; &#34;precise&#34; algorithm which I do not understand and which seems wrong
 &gt; to me.
 &gt; 
 &gt; Up to this morning when I read your bug report, I had the intention
 &gt; to work again on Astro::Sunrise and find a fix to
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=110016">https://rt.cpan.org/Public/Bug/Display.html?id=110016</a></span>
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=109992">https://rt.cpan.org/Public/Bug/Display.html?id=109992</a></span>
 &gt; 
 &gt; But because of your bug report, I will do what I should have done
 &gt; before, that is, port the Astro::Sunrise fixes to DT::E::Sunrise.
 &gt; And maybe find a fix to ticket 110016 at the same time.
 &gt; So DT::E::Sunrise would be ahead of Astro::Sunrise this time.
 &gt; But you will have to wait several weeks before a new module release.
 &gt; I am not paid to maintain Perl modules, I do this in my evening free time.
 &gt; 
 &gt; Meanwhile, if you want, you can do a few experiments, such as
 &gt; comparing the Astro::Sunrise precise algorithm with the DT::E::Sunrise
 &gt; &#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
 &gt; Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
 &gt; algorithm is worse than the simpler one.
 &gt; 
 &gt; Also, you can read:
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod">https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod</a></span>
 &gt; Note: this includes a paragraph about the choice between the simple
 &gt; and the precise algorithms. Actually, for Boston, you have no real need
 &gt; for the precise algorithm, the simple one would be sufficient. On the other
 &gt; hand, I still need to do the A::Sunrise → DT::E::Sunrise port.
 &gt; 
 &gt; Thank you for your interest in my module&#40;s&#41;.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;22&nbsp;23:35:35&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 22 Apr 2020 23:35:13 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Jean Forget via RT wrote at about 14:27:15 -0400 on Tuesday, April 14, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
 &gt; [ cut ]
 &gt; Thank you for reporting this bug.
 &gt; 
 &gt; 
 &gt; Meanwhile, if you want, you can do a few experiments, such as
 &gt; comparing the Astro::Sunrise precise algorithm with the DT::E::Sunrise
 &gt; &#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
 &gt; Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
 &gt; algorithm is worse than the simpler one.
</div>
I did some experimenting and it appears that at least for Boston, the
&#34;simple&#34; algorithm aligns with other sources whereas the &#34;precise&#34; is
off by 2-3 minutes.

Note for some reason, at least at this time of the year, the error is
larger for sunrise than for sunset

Please let me know when you have uploaded the fixed code and I will
test.
Thanks!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also, you can read:
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod">https://github.com/jforget/Astro-Sunrise/blob/master/doc/astronomical-notes.pod</a></span>
 &gt; Note: this includes a paragraph about the choice between the simple
 &gt; and the precise algorithms. Actually, for Boston, you have no real need
 &gt; for the precise algorithm, the simple one would be sufficient. On the other
 &gt; hand, I still need to do the A::Sunrise → DT::E::Sunrise port.
 &gt; 
 &gt; Thank you for your interest in my module&#40;s&#41;.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;23&nbsp;01:07:58&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu 23 Avr 2020 05:35:35, timezones@kosowsky.org a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Jean Forget via RT wrote at about 14:27:15 -0400 on Tuesday, April 14,
&gt; 2020:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
&gt; &gt;
&gt; &gt; Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
&gt; &gt; [ cut ]
&gt; &gt; Thank you for reporting this bug.
&gt; &gt;
&gt; &gt;
&gt; &gt; Meanwhile, if you want, you can do a few experiments, such as
&gt; &gt; comparing the Astro::Sunrise precise algorithm with the
&gt; &gt; DT::E::Sunrise
&gt; &gt; &#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
&gt; &gt; Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
&gt; &gt; algorithm is worse than the simpler one.
</div>&gt; 
&gt; I did some experimenting and it appears that at least for Boston, the
&gt; &#34;simple&#34; algorithm aligns with other sources whereas the &#34;precise&#34; is
&gt; off by 2-3 minutes.
&gt; 
&gt; Note for some reason, at least at this time of the year, the error is
&gt; larger for sunrise than for sunset
&gt; 
&gt; Please let me know when you have uploaded the fixed code and I will
&gt; test.
&gt; Thanks!
&gt; 
</div>The updated code is not yet uplooaded to CPAN. You can use my Github repo at
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/DateTime-Event-Sunrise">https://github.com/jforget/DateTime-Event-Sunrise</a></span>
It is still a work in progress, but the situation has improved.

By the way, I told you that the precise algorithm was already implemented
in Astro::Sunrise. While working on DT::E::Sunrise, I think I have found a
bug in Astro::Sunrise. I will fix it after I have released DT::E::Sunrise
to CPAN.

Jean Forget
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;23&nbsp;09:09:58&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Apr 2020 09:07:27 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Jean Forget via RT wrote at about 01:07:59 -0400 on Thursday, April 23, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Jeu 23 Avr 2020 05:35:35, timezones@kosowsky.org a écrit :
<div class="message-stanza open"> &gt; &gt; Please let me know when you have uploaded the fixed code and I will
 &gt; &gt; test.
 &gt; &gt; Thanks!
 &gt; &gt; 
</div> &gt; The updated code is not yet uplooaded to CPAN. You can use my Github repo at
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/DateTime-Event-Sunrise">https://github.com/jforget/DateTime-Event-Sunrise</a></span>
 &gt; It is still a work in progress, but the situation has improved.
 &gt; 
 &gt; By the way, I told you that the precise algorithm was already implemented
 &gt; in Astro::Sunrise. While working on DT::E::Sunrise, I think I have found a
 &gt; bug in Astro::Sunrise. I will fix it after I have released DT::E::Sunrise
 &gt; to CPAN.
 &gt; 
 &gt; Jean Forget
</div>
Thanks for the update!
Amazing how bugs can persist in even the most stable code... :&#41;

Good luck on finishing the work in progress...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;18&nbsp;01:42:56&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu 23 Avr 2020 15:09:58, timezones@kosowsky.org a écrit :
[ cut ]
After I have implemented the proper precise algorithm &#40;already
implemented in Astro::Sunrise&#41;, there are still differences between
the values obtained by Stellarium and the NOAA on one side and by
DT::E::S on the other side. I have found that these differences are
the caused by the &#34;magic&#34; values 15 and 15.04107 used in the module.

15.04107 is the angular speed of Earth&#39;s spin, while 15 is the combination
of Earth&#39;s spin with the orbital speed of the Sun-Earth system.
According to Paul Schlyter &#39;s description of the precise algorithm, we
should use 15.04107, but I have found that using 15 instead gives results
closer to Stellarium.

More abstractly, the problem is: when you are an low-level amateur astronomer,
who is an authoritative source for you? Whom do you trust? Paul Schlyter or
the Stellarium team or the NOAA?

I have decided to defer this question to the module user. There is a new
parameter, &#34;algo&#34;, which lets the user choose between trusting Paul Schlyter
more than Stellarium or trusting Stellarium more than Paul Schlyter.

So you should use:

  my $sunriseset = DateTime::Event::Sunrise-&gt;new&#40;
                     latitude  =&gt; 42.3358,
                     longitude =&gt; -71.2044,
                     altitude  =&gt; &#39;-0.833&#39;,
                     precise   =&gt; 1,
                     algo      =&gt; &#39;Stellarium&#39;&#41;;

I will release the new version of DT::E::S to CPAN next week.
If you have a better idea for the name of the new parameter, please
tell me before this release.

In the meantime, the updated code is available on Github.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;18&nbsp;16:02:30&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 18 Jun 2020 16:00:01 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;&#34; &lt;timezones [...] kosowsky.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sounds great! and thanks for investing in the updates.

An alternative variable approach would be to call it &#34;spin&#34; and let it
be either the actual numerical value for the spin or the text value
&#39;Stellarium&#39; or &#39;Schlyter&#39;, in which case the values they advocate for
would be substituted for the text.

Jean Forget via RT wrote at about 01:42:57 -0400 on Thursday, June 18, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Jeu 23 Avr 2020 15:09:58, timezones@kosowsky.org a écrit :
 &gt; [ cut ]
 &gt; After I have implemented the proper precise algorithm &#40;already
 &gt; implemented in Astro::Sunrise&#41;, there are still differences between
 &gt; the values obtained by Stellarium and the NOAA on one side and by
 &gt; DT::E::S on the other side. I have found that these differences are
 &gt; the caused by the &#34;magic&#34; values 15 and 15.04107 used in the module.
 &gt; 
 &gt; 15.04107 is the angular speed of Earth&#39;s spin, while 15 is the combination
 &gt; of Earth&#39;s spin with the orbital speed of the Sun-Earth system.
 &gt; According to Paul Schlyter &#39;s description of the precise algorithm, we
 &gt; should use 15.04107, but I have found that using 15 instead gives results
 &gt; closer to Stellarium.
 &gt; 
 &gt; More abstractly, the problem is: when you are an low-level amateur astronomer,
 &gt; who is an authoritative source for you? Whom do you trust? Paul Schlyter or
 &gt; the Stellarium team or the NOAA?
 &gt; 
 &gt; I have decided to defer this question to the module user. There is a new
 &gt; parameter, &#34;algo&#34;, which lets the user choose between trusting Paul Schlyter
 &gt; more than Stellarium or trusting Stellarium more than Paul Schlyter.
 &gt; 
 &gt; So you should use:
 &gt; 
 &gt;   my $sunriseset = DateTime::Event::Sunrise-&gt;new&#40;
 &gt;                      latitude  =&gt; 42.3358,
 &gt;                      longitude =&gt; -71.2044,
 &gt;                      altitude  =&gt; &#39;-0.833&#39;,
 &gt;                      precise   =&gt; 1,
 &gt;                   algo      =&gt; &#39;Stellarium&#39;&#41;;
 &gt; 
 &gt; I will release the new version of DT::E::S to CPAN next week.
 &gt; If you have a better idea for the name of the new parameter, please
 &gt; tell me before this release.
 &gt; 
 &gt; In the meantime, the updated code is available on Github.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;05&nbsp;23:35:51&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 5 Jul 2020 23:33:18 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Jean,
Can you let me know when the official update is posted to cpan?
Thanks again for all your contributions! Amazing stuff!
Jeff

Jean Forget via RT wrote at about 01:07:59 -0400 on Thursday, April 23, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Jeu 23 Avr 2020 05:35:35, timezones@kosowsky.org a écrit :
<div class="message-stanza open"> &gt; &gt; Jean Forget via RT wrote at about 14:27:15 -0400 on Tuesday, April 14,
 &gt; &gt; 2020:
<div class="message-stanza open"> &gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; &gt; &gt;
 &gt; &gt; &gt; Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
 &gt; &gt; &gt; [ cut ]
 &gt; &gt; &gt; Thank you for reporting this bug.
 &gt; &gt; &gt;
 &gt; &gt; &gt;
 &gt; &gt; &gt; Meanwhile, if you want, you can do a few experiments, such as
 &gt; &gt; &gt; comparing the Astro::Sunrise precise algorithm with the
 &gt; &gt; &gt; DT::E::Sunrise
 &gt; &gt; &gt; &#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
 &gt; &gt; &gt; Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
 &gt; &gt; &gt; algorithm is worse than the simpler one.
</div> &gt; &gt; 
 &gt; &gt; I did some experimenting and it appears that at least for Boston, the
 &gt; &gt; &#34;simple&#34; algorithm aligns with other sources whereas the &#34;precise&#34; is
 &gt; &gt; off by 2-3 minutes.
 &gt; &gt; 
 &gt; &gt; Note for some reason, at least at this time of the year, the error is
 &gt; &gt; larger for sunrise than for sunset
 &gt; &gt; 
 &gt; &gt; Please let me know when you have uploaded the fixed code and I will
 &gt; &gt; test.
 &gt; &gt; Thanks!
 &gt; &gt; 
</div> &gt; The updated code is not yet uplooaded to CPAN. You can use my Github repo at
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/DateTime-Event-Sunrise">https://github.com/jforget/DateTime-Event-Sunrise</a></span>
 &gt; It is still a work in progress, but the situation has improved.
 &gt; 
 &gt; By the way, I told you that the precise algorithm was already implemented
 &gt; in Astro::Sunrise. While working on DT::E::Sunrise, I think I have found a
 &gt; bug in Astro::Sunrise. I will fix it after I have released DT::E::Sunrise
 &gt; to CPAN.
 &gt; 
 &gt; Jean Forget
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;06&nbsp;14:33:09&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Lun 06 Jui 2020 05:35:51, timezones@kosowsky.org a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Jean,
&gt; Can you let me know when the official update is posted to cpan?
&gt; Thanks again for all your contributions! Amazing stuff!
&gt; Jeff
&gt; 
</div>I have promised a release for &#34;next week&#34;, 3 weeks ago.
In the meantime, I have received a few advices, one of them
being that it was a bad idea to allow the users choosing a
angular speed value which would give an erroneous result.
So I have decided to work a bit more on the module and
to fix it and refactor it. 

Sorry for the delay. Maybe sometime during July.

Jean
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;06&nbsp;22:34:01&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 6 Jul 2020 22:33:41 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">All good. No rush. Thanks!
Jean Forget via RT wrote at about 14:33:10 -0400 on Monday, July 6, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Lun 06 Jui 2020 05:35:51, timezones@kosowsky.org a écrit :
<div class="message-stanza open"> &gt; &gt; Hi Jean,
 &gt; &gt; Can you let me know when the official update is posted to cpan?
 &gt; &gt; Thanks again for all your contributions! Amazing stuff!
 &gt; &gt; Jeff
 &gt; &gt; 
</div> &gt; I have promised a release for &#34;next week&#34;, 3 weeks ago.
 &gt; In the meantime, I have received a few advices, one of them
 &gt; being that it was a bad idea to allow the users choosing a
 &gt; angular speed value which would give an erroneous result.
 &gt; So I have decided to work a bit more on the module and
 &gt; to fix it and refactor it. 
 &gt; 
 &gt; Sorry for the delay. Maybe sometime during July.
 &gt; 
 &gt; Jean
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;12&nbsp;15:32:15&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;12&nbsp;15:32:15&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Fixed in 0.0506 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;19&nbsp;00:49:31&nbsp;2020</span>
    <span class="description">timezones [...] kosowsky.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 19 Jul 2020 00:49:22 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> timezones [...] kosowsky.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Jean,
I noticed that you posted an updated version to CPANN.
Can I assume this is the latest fixed version?

Thanks for all the help!
Jeff

Jean Forget via RT wrote at about 01:07:59 -0400 on Thursday, April 23, 2020:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; 
 &gt; Le Jeu 23 Avr 2020 05:35:35, timezones@kosowsky.org a écrit :
<div class="message-stanza open"> &gt; &gt; Jean Forget via RT wrote at about 14:27:15 -0400 on Tuesday, April 14,
 &gt; &gt; 2020:
<div class="message-stanza open"> &gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
 &gt; &gt; &gt;
 &gt; &gt; &gt; Le Mar 14 Avr 2020 00:52:21, timezones@kosowsky.org a écrit :
 &gt; &gt; &gt; [ cut ]
 &gt; &gt; &gt; Thank you for reporting this bug.
 &gt; &gt; &gt;
 &gt; &gt; &gt;
 &gt; &gt; &gt; Meanwhile, if you want, you can do a few experiments, such as
 &gt; &gt; &gt; comparing the Astro::Sunrise precise algorithm with the
 &gt; &gt; &gt; DT::E::Sunrise
 &gt; &gt; &gt; &#34;precise&#34; algorithm. and comparing them with the simpler algorithm.
 &gt; &gt; &gt; Actually, I would not be surprised if the DT::E::Sunrise &#34;precise&#34;
 &gt; &gt; &gt; algorithm is worse than the simpler one.
</div> &gt; &gt; 
 &gt; &gt; I did some experimenting and it appears that at least for Boston, the
 &gt; &gt; &#34;simple&#34; algorithm aligns with other sources whereas the &#34;precise&#34; is
 &gt; &gt; off by 2-3 minutes.
 &gt; &gt; 
 &gt; &gt; Note for some reason, at least at this time of the year, the error is
 &gt; &gt; larger for sunrise than for sunset
 &gt; &gt; 
 &gt; &gt; Please let me know when you have uploaded the fixed code and I will
 &gt; &gt; test.
 &gt; &gt; Thanks!
 &gt; &gt; 
</div> &gt; The updated code is not yet uplooaded to CPAN. You can use my Github repo at
 &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jforget/DateTime-Event-Sunrise">https://github.com/jforget/DateTime-Event-Sunrise</a></span>
 &gt; It is still a work in progress, but the situation has improved.
 &gt; 
 &gt; By the way, I told you that the precise algorithm was already implemented
 &gt; in Astro::Sunrise. While working on DT::E::Sunrise, I think I have found a
 &gt; bug in Astro::Sunrise. I will fix it after I have released DT::E::Sunrise
 &gt; to CPAN.
 &gt; 
 &gt; Jean Forget
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;26&nbsp;15:51:56&nbsp;2020</span>
    <span class="description">J2N-FORGET [...] orange.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #132336] Inaccurate calculation of sunrise for Boston area &#40;perhaps others&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 26 Jul 2020 21:54:16 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-Event-Sunrise [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jean Forget &lt;J2N-FORGET [...] orange.fr&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le 19/07/2020 à 06:49, timezones@kosowsky.org via RT a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;         Queue: DateTime-Event-Sunrise
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=132336">https://rt.cpan.org/Ticket/Display.html?id=132336</a></span> &gt;
&gt; 
&gt; Hi Jean,
&gt; I noticed that you posted an updated version to CPANN.
&gt; Can I assume this is the latest fixed version?
&gt; 
&gt; Thanks for all the help!
&gt; Jeff
&gt; 
</div>
Yes this is the latest fixed version. I still need to comment
a few things, but this will take place in the &#34;doc&#34; subdirectory
of the Astro::Sunrise distribution. And I still need to test
what happens beyong the polar circles. At least, with the current
version, sunrises and sunsets are correct for Boston Newton Center
and the few other locations I have tested.

Sorry for the late answer, I was in vacations.

Thank you for your interest and your trust.

Jean Forget
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
