<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #101984 for Set-Intersection: Improve documentation; add descriptions for tests</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #101984 for Set-Intersection: Improve documentation; add descriptions for tests</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Set-Intersection/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Set-Intersection/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Set-Intersection/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Set-Intersection/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Set-Intersection">Set-Intersection CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">101984</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Set-Intersection/Active/">Set-Intersection</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jkeenan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-226472-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-226473-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;06&nbsp;20:13:48&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Improve documentation; add descriptions for tests</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">While using search.cpan.org to locate distributions concerning &#34;Intersection&#34;, I came across Set-Intersection &#40;and was flattered to see that you reference my List-Compare&#41;.

I&#39;m attaching two patches which make no changes in the source code but which &#40;a&#41; improve the English-language style of some of the documentation; and &#40;b&#41; provide descriptions for most of the individual tests in t/*.t.

If you&#39;re a github.com user, you could pick up from:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jkeenan/set-intersection">https://github.com/jkeenan/set-intersection</a></span>

I hope you find that useful.

Thank you very much.
Jim Keenan
&#40;CPAN ID: JKEENAN&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;06&nbsp;20:15:30&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Feb 06 20:13:48 2015, JKEENAN wrote:


[snip]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I&#39;m attaching two patches which make no changes in the source code but
</div>
Forgot the patches!
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Add-metacpan.org-as-search-link-in-README-and-POD.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 050bee0be6a795ab71d2840f5d4a69b15c242d9d Mon Sep 17 00:00:00 2001
From: James E Keenan &lt;jkeenan@cpan.org&gt;
Date: Wed, 4 Feb 2015 21:52:05 -0500
Subject: [PATCH 1/2] Add metacpan.org as search link in README and POD.

Increment version to 0.02_001 for development version.

Improve POD formatting and English style.

Capture the warning emitted when an array passed as an argument to
get_intersection&#40;&#41; contains an &#39;undef&#39;; test for that warning.

TODO: Add descriptions for tests.
---
 README                  | 106 ++++++++-------
 lib/Set/Intersection.pm | 352 ++++++++++++++++++++++++------------------------
 t/10-errors.t           |  32 +++--
 3 files changed, 251 insertions&#40;+&#41;, 239 deletions&#40;-&#41;

diff --git a/README b/README
index 1a4e06f..ba8b40f 100644
--- a/README
+++ b/README
@@ -1,52 +1,54 @@
-Set-Intersection
-
-The README is used to introduce the module and provide instructions on
-how to install the module, any machine dependencies it may have &#40;for
-example C compilers and installed libraries&#41; and any other information
-that should be provided before the module is installed.
-
-A README file is required for CPAN modules since CPAN extracts the README
-file from a module distribution so that people browsing the archive
-can use it to get an idea of the module&#39;s uses. It is usually a good idea
-to provide version information here so that people can decide whether
-fixes for the module are worth downloading.
-
-
-INSTALLATION
-
-To install this module, run the following commands:
-
-	perl Makefile.PL
-	make
-	make test
-	make install
-
-SUPPORT AND DOCUMENTATION
-
-After installing, you can find documentation for this module with the
-perldoc command.
-
-    perldoc Set::Intersection
-
-You can also look for information at:
-
-    RT, CPAN&#39;s request tracker
-        <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection</a></span>
-
-    AnnoCPAN, Annotated CPAN documentation
-        <span class="clickylink"><a target="new" rel="nofollow" href="http://annocpan.org/dist/Set-Intersection">http://annocpan.org/dist/Set-Intersection</a></span>
-
-    CPAN Ratings
-        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanratings.perl.org/d/Set-Intersection">http://cpanratings.perl.org/d/Set-Intersection</a></span>
-
-    Search CPAN
-        <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Set-Intersection/">http://search.cpan.org/dist/Set-Intersection/</a></span>
-
-
-COPYRIGHT AND LICENCE
-
-Copyright &#40;C&#41; 2009 turugina
-
-This program is free software; you can redistribute it and/or modify it
-under the same terms as Perl itself.
-
+Set-Intersection
+
+The README is used to introduce the module and provide instructions on
+how to install the module, any machine dependencies it may have &#40;for
+example C compilers and installed libraries&#41; and any other information
+that should be provided before the module is installed.
+
+A README file is required for CPAN modules since CPAN extracts the README
+file from a module distribution so that people browsing the archive
+can use it to get an idea of the module&#39;s uses. It is usually a good idea
+to provide version information here so that people can decide whether
+fixes for the module are worth downloading.
+
+
+INSTALLATION
+
+To install this module, run the following commands:
+
+	perl Makefile.PL
+	make
+	make test
+	make install
+
+SUPPORT AND DOCUMENTATION
+
+After installing, you can find documentation for this module with the
+perldoc command.
+
+    perldoc Set::Intersection
+
+You can also look for information at:
+
+    RT, CPAN&#39;s request tracker
+        <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection</a></span>
+
+    AnnoCPAN, Annotated CPAN documentation
+        <span class="clickylink"><a target="new" rel="nofollow" href="http://annocpan.org/dist/Set-Intersection">http://annocpan.org/dist/Set-Intersection</a></span>
+
+    CPAN Ratings
+        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanratings.perl.org/d/Set-Intersection">http://cpanratings.perl.org/d/Set-Intersection</a></span>
+
+    Search CPAN
+        <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Set-Intersection/">http://search.cpan.org/dist/Set-Intersection/</a></span>
+        <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Set::Intersection">https://metacpan.org/pod/Set::Intersection</a></span>
+
+
+COPYRIGHT AND LICENCE
+
+Copyright &#40;C&#41; 2009 turugina
+
+This program is free software; you can redistribute it and/or modify it
+under the same terms as Perl itself.
+
+
diff --git a/lib/Set/Intersection.pm b/lib/Set/Intersection.pm
index fda5964..1f14f9e 100644
--- a/lib/Set/Intersection.pm
+++ b/lib/Set/Intersection.pm
@@ -1,175 +1,177 @@
-package Set::Intersection;
-
-use warnings;
-use strict;
-
-=head1 NAME
-
-Set::Intersection - provides an API to get intersection &#40;of set theory&#41; of ARRAYs.
-
-=head1 VERSION
-
-Version 0.01
-
-=cut
-
-our $VERSION = &#39;0.02&#39;;
-
-
-=head1 SYNOPSIS
-
-  use Set::Intersection;
-  
-  my @arr1 = qw/3 1 4 1 5 9/;
-  my @arr2 = qw/1 7 3 2 0 5/;
-  my @intersection = get_intersection&#40;\@arr1, \@arr2&#41;;
-  # got &#40;1, 3, 5&#41; in @intersection
-
-=head1 EXPORT
-
-get_intersection
-
-=cut
-
-require Exporter;
-our @ISA = qw/Exporter/;
-
-our @EXPORT = qw/get_intersection/;
-
-=head1 FUNCTIONS
-
-=head2 get_intersection [\%options,] [\@ARRAY[, \@ARRAY[, ...]]]
-
-Returns intersection set &#40;as LIST&#41; of all ARRAYs.
-
-=over 1
-
-=item The result LIST is uniqized and unordered.
-
-=item If no ARRAYs passed, the result LIST is empty.
-
-=item If only one ARRAY passed, the result LIST is same as the passed. &#40;elements won&#39;t be uniqized nor order-changed&#41;
-
-=item If you have undef in any LIST, you&#39;ll be warned.
-
-=back
-
-=over 1
-
-=item %options
-
-=over 2
-
-=item -preordered =&gt; BOOLEAN
-
-=over 3
-
-=item To reduce calculation time, get_intersection sorts ARRAYs
-      by their length before calculating intersections.
-
-=item This option tells that order of ARRAYs are well done,
-      and calculation of intersection will be based on left most ARRAY.
-
-=back
-
-=back 
-
-=back
-
-=cut
-
-my %_default_opts = &#40;
-  -preordered =&gt; 0,
-&#41;;
-
-sub get_intersection
-{
-  my %opts;
-  if &#40; ref&#40;$_[0]&#41; =~ m{^HASH} &#41; {
-    %opts = &#40;%_default_opts, %{$_[0]}&#41;;
-    shift;
-  }
-
-  my @arrs = @_;
-  return &#40;&#41; if !@arrs;
-  return @{$arrs[0]} if @arrs == 1;
-
-  @arrs = sort { @$a &lt;=&gt; @$b } @arrs if !$opts{-preordered};
-
-  my $head = shift @arrs;
-
-  _intersection&#40;$head, @arrs&#41;;
-}
-
-sub _intersection
-{
-  my &#40;$head, @left&#41; = @_;
-
-  my %h = map { $_ =&gt; undef } @$head;
-  for my $l &#40; @left &#41; {
-    %h = map { $_ =&gt; undef } grep { exists $h{$_} } @$l;
-  }
-  keys %h;
-}
-
-=head1 SEE ALSO
-
-List::Compare, Set::Object
-
-=head1 AUTHOR
-
-turugina, C&lt;&lt; &lt;turugina at cpan.org&gt; &gt;&gt;
-
-=head1 BUGS
-
-Please report any bugs or feature requests to C&lt;bug-list-intersection at rt.cpan.org&gt;, or through
-the web interface at L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Set-Intersection">http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Set-Intersection</a></span>&gt;.  I will be notified, and then you&#39;ll
-automatically be notified of progress on your bug as I make changes.
-
-
-
-
-=head1 SUPPORT
-
-You can find documentation for this module with the perldoc command.
-
-    perldoc Set::Intersection
-
-
-You can also look for information at:
-
-=over 4
-
-=item * RT: CPAN&#39;s request tracker
-
-L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection</a></span>&gt;
-
-=item * AnnoCPAN: Annotated CPAN documentation
-
-L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://annocpan.org/dist/Set-Intersection">http://annocpan.org/dist/Set-Intersection</a></span>&gt;
-
-=item * CPAN Ratings
-
-L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://cpanratings.perl.org/d/Set-Intersection">http://cpanratings.perl.org/d/Set-Intersection</a></span>&gt;
-
-=item * Search CPAN
-
-L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Set-Intersection/">http://search.cpan.org/dist/Set-Intersection/</a></span>&gt;
-
-=back
-
-
-=head1 ACKNOWLEDGEMENTS
-
-
-=head1 COPYRIGHT &#38; LICENSE
-
-Copyright 2009 turugina, all rights reserved.
-
-This program is free software; you can redistribute it and/or modify it
-under the same terms as Perl itself.
-
-
-=cut
-
-1; # End of Set::Intersection
+package Set::Intersection;
+
+use warnings;
+use strict;
+
+=head1 NAME
+
+Set::Intersection - provides an API to get intersection &#40;of set theory&#41; of ARRAYs.
+
+=head1 VERSION
+
+Version 0.02_001
+
+=cut
+
+our $VERSION = &#39;0.02_001&#39;;
+
+
+=head1 SYNOPSIS
+
+  use Set::Intersection;
+
+  my @arr1 = qw/3 1 4 1 5 9/;
+  my @arr2 = qw/1 7 3 2 0 5/;
+  my @intersection = get_intersection&#40;\@arr1, \@arr2&#41;;
+  # got &#40;1, 3, 5&#41; in @intersection
+
+=head1 EXPORT
+
+get_intersection
+
+=cut
+
+require Exporter;
+our @ISA = qw/Exporter/;
+
+our @EXPORT = qw/get_intersection/;
+
+=head1 FUNCTIONS
+
+=head2 C&lt;get_intersection&#40;&#41;&gt;
+
+    get_intersection&#40;[\%options,] [\@ARRAY[, \@ARRAY[, ...]]]&#41;;
+
+Returns intersection set &#40;as LIST&#41; of all ARRAYs.
+
+=over 4
+
+=item *
+
+The result LIST is uniqued and unordered.
+
+=item *
+
+If no ARRAYs are passed, the result LIST is empty.
+
+=item *
+
+If only one ARRAY is passed, the result LIST is same as that passed. &#40;In this
+case, elements won&#39;t be uniqued nor will the order bechanged.&#41;
+
+=item *
+
+If you have C&lt;undef&gt; in any LIST, you&#39;ll be warned.
+
+=back
+
+=head3 C&lt;%options&gt;
+
+    -preordered =&gt; BOOLEAN
+
+To reduce calculation time, C&lt;get_intersection&#40;&#41;&gt; sorts ARRAYs
+by their length before calculating intersections.
+
+This option tells that order of ARRAYs are well done,
+and calculation of intersection will be based on left most ARRAY.
+
+=cut
+
+my %_default_opts = &#40;
+  -preordered =&gt; 0,
+&#41;;
+
+sub get_intersection
+{
+  my %opts;
+  if &#40; ref&#40;$_[0]&#41; =~ m{^HASH} &#41; {
+    %opts = &#40;%_default_opts, %{$_[0]}&#41;;
+    shift;
+  }
+
+  my @arrs = @_;
+  return &#40;&#41; if !@arrs;
+  return @{$arrs[0]} if @arrs == 1;
+
+  @arrs = sort { @$a &lt;=&gt; @$b } @arrs if !$opts{-preordered};
+
+  my $head = shift @arrs;
+
+  _intersection&#40;$head, @arrs&#41;;
+}
+
+sub _intersection
+{
+  my &#40;$head, @left&#41; = @_;
+
+  my %h = map { $_ =&gt; undef } @$head;
+  for my $l &#40; @left &#41; {
+    %h = map { $_ =&gt; undef } grep { exists $h{$_} } @$l;
+  }
+  keys %h;
+}
+
+=head1 SEE ALSO
+
+List::Compare, Set::Object
+
+=head1 AUTHOR
+
+turugina, C&lt;&lt; &lt;turugina at cpan.org&gt; &gt;&gt;
+
+=head1 BUGS
+
+Please report any bugs or feature requests to C&lt;bug-list-intersection at rt.cpan.org&gt;, or through
+the web interface at L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Set-Intersection">http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Set-Intersection</a></span>&gt;.  I will be notified, and then you&#39;ll
+automatically be notified of progress on your bug as I make changes.
+
+
+
+
+=head1 SUPPORT
+
+You can find documentation for this module with the perldoc command.
+
+    perldoc Set::Intersection
+
+You can also look for information at:
+
+=over 4
+
+=item * RT: CPAN&#39;s request tracker
+
+L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Set-Intersection</a></span>&gt;
+
+=item * AnnoCPAN: Annotated CPAN documentation
+
+L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://annocpan.org/dist/Set-Intersection">http://annocpan.org/dist/Set-Intersection</a></span>&gt;
+
+=item * CPAN Ratings
+
+L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://cpanratings.perl.org/d/Set-Intersection">http://cpanratings.perl.org/d/Set-Intersection</a></span>&gt;
+
+=item * Search CPAN
+
+L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Set-Intersection/">http://search.cpan.org/dist/Set-Intersection/</a></span>&gt;
+
+or
+
+L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Set::Intersection">https://metacpan.org/pod/Set::Intersection</a></span>&gt;
+
+=back
+
+
+=head1 ACKNOWLEDGEMENTS
+
+=head1 COPYRIGHT &#38; LICENSE
+
+Copyright 2009 turugina, all rights reserved.
+
+This program is free software; you can redistribute it and/or modify it
+under the same terms as Perl itself.
+
+
+=cut
+
+1; # End of Set::Intersection
+
diff --git a/t/10-errors.t b/t/10-errors.t
index 6db6660..7f6de67 100644
--- a/t/10-errors.t
+++ b/t/10-errors.t
@@ -1,12 +1,20 @@
-use strict;
-
-use Test::More tests =&gt; 1;
-
-use Set::Intersection;
-
-use Data::Dumper;
-
-# use of undef in key of hash is warning ??
-eval { get_intersection&#40;[undef],[undef,undef]&#41;; };
-ok !$@;
-
+use strict;
+
+use Test::More tests =&gt; 2;
+
+use Set::Intersection;
+
+use Data::Dumper;
+
+# use of undef in key of hash is warning ??
+my $warn = &#39;&#39;;
+local $SIG{__WARN__} = sub { $warn .= $_[0] };
+eval { get_intersection&#40;[undef],[undef,undef]&#41;; };
+#say STDERR &#34;&lt;$warn&gt;&#34;;
+like&#40;$warn,
+    qr/Use of uninitialized value in list assignment/s,
+    &#34;Got expected warning of &#39;undef&#39; in arrays provided as arguments&#34;
+&#41;;
+ok !$@;
+
+
-- 
1.9.1

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0002-Provide-descriptions-for-many-tests-lacking-them.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 240d04020052b68767bbcb0c8ae1c0dfdbf5954d Mon Sep 17 00:00:00 2001
From: James E Keenan &lt;jkeenan@cpan.org&gt;
Date: Fri, 6 Feb 2015 19:48:57 -0500
Subject: [PATCH 2/2] Provide descriptions for many tests lacking them.

Use Unix file format in test files.
---
 t/00-load.t         |  23 ++++++------
 t/01-intersection.t | 103 ++++++++++++++++++++++++++++------------------------
 t/02-options.t      |  33 ++++++++++-------
 t/10-errors.t       |   2 +-
 4 files changed, 87 insertions&#40;+&#41;, 74 deletions&#40;-&#41;
 mode change 100755 =&gt; 100644 t/00-load.t

diff --git a/t/00-load.t b/t/00-load.t
old mode 100755
new mode 100644
index b28fa6c..1c8bedf
--- a/t/00-load.t
+++ b/t/00-load.t
@@ -1,11 +1,12 @@
-#!perl -T
-
-use Test::More tests =&gt; 2;
-
-BEGIN {
-	use_ok&#40; &#39;Set::Intersection&#39; &#41;;
-}
-
-ok $Set::Intersection::VERSION;
-
-diag&#40; &#34;Testing Set::Intersection $Set::Intersection::VERSION, Perl $], $^X&#34; &#41;;
+#!perl -T
+
+use Test::More tests =&gt; 2;
+
+BEGIN {
+	use_ok&#40; &#39;Set::Intersection&#39; &#41;;
+}
+
+ok $Set::Intersection::VERSION;
+
+diag&#40; &#34;Testing Set::Intersection $Set::Intersection::VERSION, Perl $], $^X&#34; &#41;;
+
diff --git a/t/01-intersection.t b/t/01-intersection.t
index a0fcc9d..6370e38 100644
--- a/t/01-intersection.t
+++ b/t/01-intersection.t
@@ -1,48 +1,55 @@
-use strict;
-use Test::More tests =&gt; 18;
-
-use Set::Intersection;
-
-my @l1 = qw/3 1 4 1 5 9/;
-my @l2 = qw/1 7 3 2 0 5/;
-
-my @r = get_intersection&#40;\@l1, \@l2&#41;;
-is scalar&#40;@r&#41;, 3;
-is join&#40;&#39;,&#39;, sort @r&#41;, &#39;1,3,5&#39;;
-is join&#40;&#39; &#39;, @l1&#41;, &#39;3 1 4 1 5 9&#39;;
-is join&#40;&#39; &#39;, @l2&#41;, &#39;1 7 3 2 0 5&#39;;
-
-my @l3 = qw/2 4 3 6 2 0 6 7 9/;
-
-@r = get_intersection&#40;\@l1, \@l2, \@l3&#41;;
-is scalar&#40;@r&#41;, 1;
-is $r[0], 3;
-is join&#40;&#39; &#39;, @l1&#41;, &#39;3 1 4 1 5 9&#39;;
-is join&#40;&#39; &#39;, @l2&#41;, &#39;1 7 3 2 0 5&#39;;
-is join&#40;&#39; &#39;, @l3&#41;, &#39;2 4 3 6 2 0 6 7 9&#39;;
-
-my @l4 = qw/1 4 1 4 2/;
-
-@r = get_intersection&#40;\@l1, \@l2, \@l3, \@l4&#41;;
-ok !@r;
-
-@r = get_intersection&#40;[qw/1 3 5 7 9/], [qw/1 1 2 3 5 8 13/]&#41;;
-is scalar&#40;@r&#41;, 3;
-is join&#40;&#39;,&#39;, sort @r&#41;, &#39;1,3,5&#39;;
-
-@r = get_intersection&#40;[qw/there is more than one way to do it/], [qw/there is nothing to do/]&#41;;
-is scalar&#40;@r&#41;, 4;
-is join&#40;&#39;,&#39;, sort @r&#41;, &#39;do,is,there,to&#39;;
-
-@r = get_intersection&#40;[],[]&#41;;
-ok !@r;
-
-@r = get_intersection&#40;[],[1]&#41;;
-ok !@r;
-
-@r = get_intersection&#40;&#41;;
-ok !@r;
-
-@r = get_intersection&#40;[qw/1 2 3 4 5/]&#41;;
-is join&#40;&#39;,&#39;, @r&#41;, &#39;1,2,3,4,5&#39;;
-
+use strict;
+use Test::More tests =&gt; 18;
+
+use Set::Intersection;
+
+my @l1 = qw/3 1 4 1 5 9/;
+my @l2 = qw/1 7 3 2 0 5/;
+
+my @r = get_intersection&#40;\@l1, \@l2&#41;;
+is scalar&#40;@r&#41;, 3,
+    &#34;Got expected number of elements in intersection of two sets&#34;;
+is join&#40;&#39;,&#39;, sort @r&#41;, &#39;1,3,5&#39;;
+is join&#40;&#39; &#39;, @l1&#41;, &#39;3 1 4 1 5 9&#39;;
+is join&#40;&#39; &#39;, @l2&#41;, &#39;1 7 3 2 0 5&#39;;
+
+my @l3 = qw/2 4 3 6 2 0 6 7 9/;
+
+@r = get_intersection&#40;\@l1, \@l2, \@l3&#41;;
+is scalar&#40;@r&#41;, 1,
+    &#34;Got expected number of elements in intersection of three sets&#34;;
+is $r[0], 3;
+is join&#40;&#39; &#39;, @l1&#41;, &#39;3 1 4 1 5 9&#39;;
+is join&#40;&#39; &#39;, @l2&#41;, &#39;1 7 3 2 0 5&#39;;
+is join&#40;&#39; &#39;, @l3&#41;, &#39;2 4 3 6 2 0 6 7 9&#39;;
+
+my @l4 = qw/1 4 1 4 2/;
+
+@r = get_intersection&#40;\@l1, \@l2, \@l3, \@l4&#41;;
+ok !@r,
+    &#34;No elements in intersection of four sets&#34;;
+
+@r = get_intersection&#40;[qw/1 3 5 7 9/], [qw/1 1 2 3 5 8 13/]&#41;;
+is scalar&#40;@r&#41;, 3,
+    &#34;Got expected number of elements in intersection of three sets&#34;;
+is join&#40;&#39;,&#39;, sort @r&#41;, &#39;1,3,5&#39;;
+
+@r = get_intersection&#40;[qw/there is more than one way to do it/], [qw/there is nothing to do/]&#41;;
+is scalar&#40;@r&#41;, 4,
+    &#34;Got expected number of elements in intersection of four sets of strings&#34;;
+is join&#40;&#39;,&#39;, sort @r&#41;, &#39;do,is,there,to&#39;;
+
+@r = get_intersection&#40;[],[]&#41;;
+ok !@r, &#34;No elements in intersection of two empty arrayrefs&#34;;
+
+@r = get_intersection&#40;[],[1]&#41;;
+ok !@r, &#34;No elements in intersection of two arrayrefs where one is empty&#34;;
+
+@r = get_intersection&#40;&#41;;
+ok !@r, &#34;No elements in intersection when no arguments are provided&#34;;
+
+@r = get_intersection&#40;[qw/1 2 3 4 5/]&#41;;
+is join&#40;&#39;,&#39;, @r&#41;, &#39;1,2,3,4,5&#39;,
+    &#34;Intersection holds all elements when only one list is provided as argument&#34;;
+
+
diff --git a/t/02-options.t b/t/02-options.t
index c90573d..b20f90d 100644
--- a/t/02-options.t
+++ b/t/02-options.t
@@ -1,14 +1,19 @@
-use strict;
-
-use Test::More tests =&gt; 4;
-
-use Set::Intersection;
-
-my @r = get_intersection&#40;[1 .. 9], [map { $_ * 2 } 1 .. 3], [map { $_ * 3 } 1 .. 3]&#41;;
-is scalar&#40;@r&#41;, 1;
-is $r[0], 6;
-
-@r = get_intersection&#40;{-preordered=&gt;1}, [1 .. 9], [map { $_ * 2 } 1 .. 3], [map { $_ * 3 } 1 .. 3]&#41;;
-is scalar&#40;@r&#41;, 1;
-is $r[0], 6;
-
+use strict;
+
+use Test::More tests =&gt; 4;
+
+use Set::Intersection;
+
+my @r = get_intersection&#40;[1 .. 9], [map { $_ * 2 } 1 .. 3], [map { $_ * 3 } 1 .. 3]&#41;;
+is scalar&#40;@r&#41;, 1,
+    &#34;Got expected number of elements in intersection of three sets&#34;;
+is $r[0], 6,
+    &#34;Got expected element in intersection of three sets&#34;;
+
+@r = get_intersection&#40;{-preordered=&gt;1}, [1 .. 9], [map { $_ * 2 } 1 .. 3], [map { $_ * 3 } 1 .. 3]&#41;;
+is scalar&#40;@r&#41;, 1,
+    &#34;Use of -preordered option did not affect number of elements in intersection&#34;;
+is $r[0], 6,
+    &#34;Use of -preordered option did not affect content of intersection&#34;;
+
+
diff --git a/t/10-errors.t b/t/10-errors.t
index 7f6de67..7f399bf 100644
--- a/t/10-errors.t
+++ b/t/10-errors.t
@@ -15,6 +15,6 @@ like&#40;$warn,
     qr/Use of uninitialized value in list assignment/s,
     &#34;Got expected warning of &#39;undef&#39; in arrays provided as arguments&#34;
 &#41;;
-ok !$@;
+ok !$@, &#34;No error&#34;;
 
 
-- 
1.9.1

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;02&nbsp;00:58:37&nbsp;2015</span>
    <span class="description">TURUGINA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">JKEENAN,

Thank you for the patches. And sorry for my late reply.

I accepted your patches and released Set::Intesection 0.04.
&#40;I also released 0.03 without patch #2, by mistake :&#40;

Thank you very much.
turugina

On 2015-02-06T20:13:48-05:00, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; While using search.cpan.org to locate distributions concerning
&gt; &#34;Intersection&#34;, I came across Set-Intersection &#40;and was flattered to
&gt; see that you reference my List-Compare&#41;.
&gt; 
&gt; I&#39;m attaching two patches which make no changes in the source code but
&gt; which &#40;a&#41; improve the English-language style of some of the
&gt; documentation; and &#40;b&#41; provide descriptions for most of the individual
&gt; tests in t/*.t.
&gt; 
&gt; If you&#39;re a github.com user, you could pick up from:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jkeenan/set-intersection">https://github.com/jkeenan/set-intersection</a></span>
&gt; 
&gt; I hope you find that useful.
&gt; 
&gt; Thank you very much.
&gt; Jim Keenan
&gt; &#40;CPAN ID: JKEENAN&#41;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;02&nbsp;00:58:37&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;02&nbsp;00:58:38&nbsp;2015</span>
    <span class="description">TURUGINA [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
