<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #29073 for Games-Tournament-Swiss: Problems with C14 in FIDE.pm</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #29073 for Games-Tournament-Swiss: Problems with C14 in FIDE.pm</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Games-Tournament-Swiss">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Games-Tournament-Swiss">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Games-Tournament-Swiss">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Games-Tournament-Swiss">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Games-Tournament-Swiss">Games-Tournament-Swiss CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">29073</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Games-Tournament-Swiss">Games-Tournament-Swiss</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bartolin [...] gmx.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42558-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42559-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




output_from_pairstately<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/357242/161184/output_from_pairstately">
Sat Sep 01 02:19:16 2007 (7.1k) by bartolin [...] gmx.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=29073">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356899" href="/Public/Bug/Display.html?id=29073#txn-356899">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;14:13:21&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Aug 2007 20:10:14 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Games-Tournament-Swiss [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356899/160961/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160961">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 760b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m still trying to get a better understanding of your pairing
algorithm in FIDE.pm. But I think there is a problem with lines 1125
and 1126 in combination with line 1141.

In line 1125 and 1126 $args{index} and $args{brackets}, respectively,
get deleted by

  my $index = delete $args{index};
  my $groups = delete $args{brackets};

Since no new values are created, the %args returned from c14 in line
1126 are missing values for &#34;index&#34; and &#34;brackets&#34;. Therefore C4
doesn&#39;t seem to work properly when called next time.

In line 1158-1161 you are defining new values for $args{index} and
$args{brackets} -- but not an line 1126.

But returning the for $args{index} and $args{brackets} doesn&#39;t seem to
be the right thing as well.

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356946" href="/Public/Bug/Display.html?id=29073#txn-356946">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;16:06:57&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Aug 2007 22:05:31 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Bugs in Games-Tournament-Swiss via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356946/160995/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160995">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* On 2007-08-30 Bugs in Games-Tournament-Swiss via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I&#39;m still trying to get a better understanding of your pairing
&gt; algorithm in FIDE.pm. But I think there is a problem with lines 1125
&gt; and 1126 in combination with line 1141.
&gt; 
&gt; In line 1125 and 1126 $args{index} and $args{brackets}, respectively,
&gt; get deleted by
&gt; 
&gt;   my $index = delete $args{index};
&gt;   my $groups = delete $args{brackets};
&gt; 
&gt; Since no new values are created, the %args returned from c14 in line
&gt; 1126 are missing values for &#34;index&#34; and &#34;brackets&#34;. Therefore C4
&gt; doesn&#39;t seem to work properly when called next time.
</div>
Actually my problems occured with the following pairingtable:

                Round 3 Pairing Groups
-------------------------------------------------------------------------
Place  No  Opponents     Roles     Float Score
1-2
       1   7,2            BW            1.5
       2   8,1            WB            1.5
3-10
       3   9,11           BW            1
       4   10,12          WB            1
       5   11,9           BW            1
       6   12,10          WB            1
       9   3,5            WB            1
       10  4,6            BW            1
       11  5,3            WB            1
       12  6,4            BW            1
11-12
       7   1,8            WB            0.5
       8   2,7            BW            0.5

Trying to get pairings for the third round, pairstately failed with
the following output:

[...]
C10,re-pairing Player 2 in Bracket 2
C7, last transposition
C10,again       C11, x=p=2 already, no more x increases in Bracket 2.
C14,    Bracket 2, now p=1
Use of uninitialized value in array element at /usr/local/share/perl/5.8.8/Games/Tournament/Swiss/Procedure/FIDE.pm line 443.
Can&#39;t call method &#34;members&#34; on an undefined value at /usr/local/share/perl/5.8.8/Games/Tournament/Swiss/Procedure/FIDE.pm line 444.

As I understand, there is no legal pairing for players 7 and 8 in the
last bracket because they were already paired against each other. But
in that case according to C13 the last two brackets should be joined.
Why is C14 used at all? Wouldn&#39;t the pairing algorithm work like:

1. C1 / Bracket 1: Players 1 and 2 are moved down

2. C4,C5 / Bracket 2: Players 1 and 2 are paired agains two players
                      from S2

3. C8,C5,C6,C7 / &#40;remaining&#41; Bracket 2: The remaining six players are
                                        paired agains each other.

4. C13 / Bracket 3: No pairing possible -&gt; back to Step 3 &#40;Bracket 2&#41;

5. C13 / Bracket 2/3: Join brackets since there are no pairings for
                      Bracket 2 which allow a pairing for Bracket 3

6. C4,C5 / &#40;joined&#41; Bracket 2: Find pairings for joined bracket -&gt;
                               that&#39;s possible

But why is C14 needed?

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356967" href="/Public/Bug/Display.html?id=29073#txn-356967">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;21:32:46&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2007 01:28:17 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356967/161009/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161009">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 568b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, 30 Aug 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In line 1125 and 1126 $args{index} and $args{brackets}, respectively,
&gt; get deleted by
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   my $index = delete $args{index};
&gt;   my $groups = delete $args{brackets};
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Since no new values are created, the %args returned from c14 in line
&gt; 1126 are missing values for &#34;index&#34; and &#34;brackets&#34;. Therefore C4
&gt; doesn&#39;t seem to work properly when called next time.
</div>
Oops. You&#39;re right.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But returning the for $args{index} and $args{brackets} doesn&#39;t seem to
&gt; be the right thing as well.
</div>
I don&#39;t understand. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356968" href="/Public/Bug/Display.html?id=29073#txn-356968">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;21:32:49&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356971" href="/Public/Bug/Display.html?id=29073#txn-356971">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;21:57:15&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2007 01:54:24 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356971/161012/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161012">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, 30 Aug 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Actually my problems occured with the following pairingtable:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;                 Round 3 Pairing Groups
&gt; -------------------------------------------------------------------------
&gt; Place  No  Opponents     Roles     Float Score
&gt; 1-2
&gt;        1   7,2            BW            1.5
&gt;        2   8,1            WB            1.5
&gt; 3-10
&gt;        3   9,11           BW            1
&gt;        4   10,12          WB            1
&gt;        5   11,9           BW            1
&gt;        6   12,10          WB            1
&gt;        9   3,5            WB            1
&gt;        10  4,6            BW            1
&gt;        11  5,3            WB            1
&gt;        12  6,4            BW            1
&gt; 11-12
&gt;        7   1,8            WB            0.5
&gt;        8   2,7            BW            0.5
</div>
I should try to include that in the tests.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Trying to get pairings for the third round, pairstately failed with
&gt; the following output:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
&gt; C10,re-pairing Player 2 in Bracket 2
&gt; C7, last transposition
&gt; C10,again       C11, x=p=2 already, no more x increases in Bracket 2.
&gt; C14,    Bracket 2, now p=1
&gt; Use of uninitialized value in array element at /usr/local/share/perl/5.8.8/Games/Tournament/Swiss/Procedure/FIDE.pm line 443.
&gt; Can&#39;t call method &#34;members&#34; on an undefined value at /usr/local/share/perl/5.8.8/Games/Tournament/Swiss/Procedure/FIDE.pm line 444.
</div>
That would be the message that your analysis of the bug would
imply.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As I understand, there is no legal pairing for players 7 and 8 in the
&gt; last bracket because they were already paired against each other. But
&gt; in that case according to C13 the last two brackets should be joined.
&gt; Why is C14 used at all? Wouldn&#39;t the pairing algorithm work like:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1. C1 / Bracket 1: Players 1 and 2 are moved down
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2. C4,C5 / Bracket 2: Players 1 and 2 are paired agains two players
&gt;                       from S2
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 3. C8,C5,C6,C7 / &#40;remaining&#41; Bracket 2: The remaining six players are
&gt;                                         paired agains each other.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 4. C13 / Bracket 3: No pairing possible -&gt; back to Step 3 &#40;Bracket 2&#41;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 5. C13 / Bracket 2/3: Join brackets since there are no pairings for
&gt;                       Bracket 2 which allow a pairing for Bracket 3
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 6. C4,C5 / &#40;joined&#41; Bracket 2: Find pairings for joined bracket -&gt;
&gt;                                that&#39;s possible
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But why is C14 needed?
</div>
I&#39;m not an expert on the FIDE rules, but C13 talks about p
becoming zero in the penultimate bracket. The only way to
decrease p is through C14.

I&#39;m not clear about the sequencing of the rules. C13 seems to
include a number of different steps, depending on what happens
before C13.

What happens when you restore the round and groups before calling
C4 as you said should happen in the previous message?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356981" href="/Public/Bug/Display.html?id=29073#txn-356981">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;02:20:16&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2007 08:19:48 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356981/161022/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161022">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* On 2007-08-30 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open">&gt; &gt; In line 1125 and 1126 $args{index} and $args{brackets}, respectively,
&gt; &gt; get deleted by
</div>&gt; 
<div class="message-stanza open">&gt; &gt;   my $index = delete $args{index};
&gt; &gt;   my $groups = delete $args{brackets};
</div>&gt; 
<div class="message-stanza open">&gt; &gt; Since no new values are created, the %args returned from c14 in line
&gt; &gt; 1126 are missing values for &#34;index&#34; and &#34;brackets&#34;. Therefore C4
&gt; &gt; doesn&#39;t seem to work properly when called next time.
</div>&gt; 
&gt; Oops. You&#39;re right.
&gt; 
<div class="message-stanza open">&gt; &gt; But returning the for $args{index} and $args{brackets} doesn&#39;t seem to
&gt; &gt; be the right thing as well.
</div>&gt; 
&gt; I don&#39;t understand. 
</div>
Sorry. I meant &#34;But returning the old values for $args{index} and
$args{brackets} doesn&#39;t seem to be the right thing as well.&#34;

So, if I change line 1141 from

  if &#40;$pprime &gt; 0&#41; {return &#40; C4, %args &#41;;}

to 

  if &#40;$pprime &gt; 0&#41; {return C4, index =&gt; @{ [ $index + 1 ] }, brackets =&gt; $groups, %args; }

the algorithm is caught in a loop, whereas decreasing $args{index} by

  if &#40;$pprime &gt; 0&#41; {return C4, index =&gt; @{ [ $index ] }, brackets =&gt; $groups, %args; }
                                                    
for some reasons gives pairings, but wrong ones. Somehow one player
&#40;player 2&#41; seems to be dropped by &#34;C6others&#34;: &#40;output from
pairstately&#41;:

====
C7, last transposition
C8, exchange 5: last S1,S2 exchange
C10,re-pairing Player 2 in Bracket 2
C7, last transposition
C10,again       C11, x=p=2 already, no more x increases in Bracket 2.
C14,    Bracket 2, now p=1
C4, S1 &#38; S2: 1 2 &#38; 12 4 3 5 6 9 10 11
C5, ordered: 1 2 &#38; 3 4 5 6 9 10 11 12
C6, 1 tables paired. E4 3&#38;1  
C6others:       Remainder Group, Bracket 2: 4 5 6 9 10 11 12
====

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356983" href="/Public/Bug/Display.html?id=29073#txn-356983">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;02:44:00&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2007 08:44:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356983/161024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">* On 2007-08-30 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; As I understand, there is no legal pairing for players 7 and 8 in the
&gt; &gt; last bracket because they were already paired against each other. But
&gt; &gt; in that case according to C13 the last two brackets should be joined.
&gt; &gt; Why is C14 used at all? Wouldn&#39;t the pairing algorithm work like:
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 1. C1 / Bracket 1: Players 1 and 2 are moved down
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 2. C4,C5 / Bracket 2: Players 1 and 2 are paired agains two players
&gt; &gt;                       from S2
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 3. C8,C5,C6,C7 / &#40;remaining&#41; Bracket 2: The remaining six players are
&gt; &gt;                                         paired agains each other.
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 4. C13 / Bracket 3: No pairing possible -&gt; back to Step 3 &#40;Bracket 2&#41;
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 5. C13 / Bracket 2/3: Join brackets since there are no pairings for
&gt; &gt;                       Bracket 2 which allow a pairing for Bracket 3
</div>&gt; 
<div class="message-stanza open">&gt; &gt; 6. C4,C5 / &#40;joined&#41; Bracket 2: Find pairings for joined bracket -&gt;
&gt; &gt;                                that&#39;s possible
</div>&gt; 
<div class="message-stanza open">&gt; &gt; But why is C14 needed?
</div>&gt; 
&gt; I&#39;m not an expert on the FIDE rules, but C13 talks about p
&gt; becoming zero in the penultimate bracket. The only way to
&gt; decrease p is through C14.
&gt; 
&gt; I&#39;m not clear about the sequencing of the rules. C13 seems to
&gt; include a number of different steps, depending on what happens
&gt; before C13.
</div>
For sure, I&#39;m even less an expert. But somehow I think one should
arrive at the last part of the c13 function in FIDE.pm. 

If &#40;! $pprime &gt; 0&#41; the last two brackets should be joined &#40;lines 1043
to 1059&#41;. It seems to me, that the algoritm doesn&#39;t get there.

But of course that may be a problem with the bug in C14.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What happens when you restore the round and groups before calling
&gt; C4 as you said should happen in the previous message?
</div>
I hope that question was answered in my other mail?

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357242" href="/Public/Bug/Display.html?id=29073#txn-357242">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;01&nbsp;02:19:16&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Sep 2007 08:19:27 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/357242/161183/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161183">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

* On 2007-08-31 Christian Bartolomaeus &#40;bartolin@gmx.de&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
&gt; Sorry. I meant &#34;But returning the old values for $args{index} and
&gt; $args{brackets} doesn&#39;t seem to be the right thing as well.&#34;
&gt; 
&gt; So, if I change line 1141 from
&gt; 
&gt;   if &#40;$pprime &gt; 0&#41; {return &#40; C4, %args &#41;;}
&gt; 
&gt; to 
&gt; 
&gt;   if &#40;$pprime &gt; 0&#41; {return C4, index =&gt; @{ [ $index + 1 ] }, brackets =&gt; $groups, %args; }
&gt; 
&gt; the algorithm is caught in a loop, whereas decreasing $args{index} by
&gt; 
&gt;   if &#40;$pprime &gt; 0&#41; {return C4, index =&gt; @{ [ $index ] }, brackets =&gt; $groups, %args; }
&gt;                                                     
&gt; for some reasons gives pairings, but wrong ones. Somehow one player
&gt; &#40;player 2&#41; seems to be dropped by &#34;C6others&#34;: &#40;output from
&gt; pairstately&#41;:
</div>
may I add that the new version of FIDE.pm &#40;from 0.06&#41; works much
better? It seems to me that there is only one problem left: All
pairings look okay, but somehow the first two &#40;correct&#41; pairings are
&#34;forgotten&#34; while the other pairings are computed.

Pairingtable:
====
Round 3 Pairing Groups
----------------------------------------------
Place  No  Opponents     Roles     Float Score
1-2
       1   7,2            BW            1.5
       2   8,1            WB            1.5
3-10
       3   9,11           BW            1
       4   10,12          WB            1
       5   11,9           BW            1
       6   12,10          WB            1
       9   3,5            WB            1
       10  4,6            BW            1
       11  5,3            WB            1
       12  6,4            BW            1
11-12
       7   1,8            WB            0.5
       8   2,7            BW            0.5
====

Excerpt from pairstately -- you&#39;ll find the full output attached:
====
[...]
C6, 2 tables paired. E1 4&#38;1  E1 2&#38;10  
C6others:       Remainder Group, Bracket 2: 3 5 6 9 11 12
[...]
[after that, players 4,1,2,10 aren&#39;t considered any more]
[...]
C6, 2 tables paired. E1 6&#38;3  E1 9&#38;12  
C6others:       Remainder Group, Bracket 2: 5 11
C1,  B1a: NOK. 5 11 Bracket 2. Floating 5 Down,  11 Down,  [2] 11 =&gt; [3] 11 5 7 8
[...]
C6, 2 tables paired. E1 7&#38;5  E1 11&#38;8  
C6others:       no non-paired players
Pairing complete
====

The pairings in 3/round.yaml are:

6-3, 9-12, 7-5, 11-8

That seems to be correct, but the first two pairings 4-1 and 2-10 are
missing.

Just a note: I just replaced the old FIDE.pm with the new module from
version 0.06. Otherwise I used the old module files.

Best regards

Christian
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357242/161184/output_from_pairstately">Download output_from_pairstately</a><br />
<span class="downloadcontenttype">text/plain 7.1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357251" href="/Public/Bug/Display.html?id=29073#txn-357251">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;01&nbsp;04:06:18&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Sep 2007 08:03:46 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357251/161192/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161192">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 31 Aug 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; As I understand, there is no legal pairing for players 7 and 8 in the
&gt; &gt; &gt; last bracket because they were already paired against each other. But
&gt; &gt; &gt; in that case according to C13 the last two brackets should be joined.
&gt; &gt; &gt; Why is C14 used at all? Wouldn&#39;t the pairing algorithm work like:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 1. C1 / Bracket 1: Players 1 and 2 are moved down
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 2. C4,C5 / Bracket 2: Players 1 and 2 are paired agains two players
&gt; &gt; &gt;                       from S2
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 3. C8,C5,C6,C7 / &#40;remaining&#41; Bracket 2: The remaining six players are
&gt; &gt; &gt;                                         paired agains each other.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 4. C13 / Bracket 3: No pairing possible -&gt; back to Step 3 &#40;Bracket 2&#41;
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 5. C13 / Bracket 2/3: Join brackets since there are no pairings for
&gt; &gt; &gt;                       Bracket 2 which allow a pairing for Bracket 3
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; 6. C4,C5 / &#40;joined&#41; Bracket 2: Find pairings for joined bracket -&gt;
&gt; &gt; &gt;                                that&#39;s possible
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; But why is C14 needed?
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I&#39;m not an expert on the FIDE rules, but C13 talks about p
&gt; &gt; becoming zero in the penultimate bracket. The only way to
&gt; &gt; decrease p is through C14.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I&#39;m not clear about the sequencing of the rules. C13 seems to
&gt; &gt; include a number of different steps, depending on what happens
&gt; &gt; before C13.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For sure, I&#39;m even less an expert. But somehow I think one should
&gt; arrive at the last part of the c13 function in FIDE.pm. 
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If &#40;! $pprime &gt; 0&#41; the last two brackets should be joined &#40;lines 1043
&gt; to 1059&#41;. It seems to me, that the algoritm doesn&#39;t get there.
</div>
Before getting to the joining of the last 2 brackets, you have to
try and find a different pairing in Bracket 2, ie in between your
step 4. and step 5.

It looks like the FIDE.pm in 0.06 is now, at the moment, going
through C14, dropping p from 3 to 2, ie pairing only 2 tables in
Bracket 2, before downfloating the other 2 players to Bracket 3.

And these 2 downfloated players allow 2 matches in Bracket 3.
Thus we avoid the necessity of joining Bracket 2 and Bracket 3
together, to pair 7 and 8, the 2 incompatible players in Bracket
3.

That&#39;s just my interpretation of the sequencing. I would be
interested if other people disagree.

Is this a pairing of a real tournament, or a notional one?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357307" href="/Public/Bug/Display.html?id=29073#txn-357307">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;01&nbsp;06:16:30&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Sep 2007 10:15:40 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357307/161226/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161226">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, 01 Sep 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; may I add that the new version of FIDE.pm &#40;from 0.06&#41; works much
&gt; better? It seems to me that there is only one problem left: All
&gt; pairings look okay, but somehow the first two &#40;correct&#41; pairings are
&gt; &#34;forgotten&#34; while the other pairings are computed.
</div>
I noticed that before releasing 0.06, but I wanted to get a
version out with the new &#39;pair&#39; and &#39;pairtable2yaml&#39;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Pairingtable:
&gt; ====
&gt; Round 3 Pairing Groups
&gt; ----------------------------------------------
&gt; Place  No  Opponents     Roles     Float Score
&gt; 1-2
&gt;        1   7,2            BW            1.5
&gt;        2   8,1            WB            1.5
&gt; 3-10
&gt;        3   9,11           BW            1
&gt;        4   10,12          WB            1
&gt;        5   11,9           BW            1
&gt;        6   12,10          WB            1
&gt;        9   3,5            WB            1
&gt;        10  4,6            BW            1
&gt;        11  5,3            WB            1
&gt;        12  6,4            BW            1
&gt; 11-12
&gt;        7   1,8            WB            0.5
&gt;        8   2,7            BW            0.5
&gt; ====
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Just a note: I just replaced the old FIDE.pm with the new module from
&gt; version 0.06. Otherwise I used the old module files.
</div>
There are a few changes in Games/Tournament/Swiss.pm and
Card.pm and Contestant.pm. I guess they aren&#39;t major, or you
wouldn&#39;t be getting the same results as me.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Round 3:  1 2 &#40;1.5&#41;, 3 4 5 6 9 10 11 12 &#40;1&#41;, 7 8 &#40;0.5&#41;, 
</div>
First, Bracket 1 is floated down and paired with 2 players. The
remainder group is also paired, requiring 3 exchanges, but this
leaves Bracket 3 unpairable.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C6, 3 tables paired. E1 6&#38;5  E1 9&#38;10  E1 11&#38;12  
&gt; C6others:     no non-paired players
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,  Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; C7,          4 5 3 6 9 10 11 12
&gt; C6, 2 tables paired. E1 4&#38;1  E1 2&#38;5  
</div>
This time 1 and 2 are paired with 4 and 5 instead of 4 and 3,
leaving a different remainder group.

One thing I am unsure about is whether the remainder group should
be repaired, or the whole group. I think it&#39;s the whole group.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C6others:     Remainder Group, Bracket 2: 3 6 9 10 11 12
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=0
&gt; C3, p=3       Heterogeneous.
</div>
For some reason, the remainder group is being regarded as 
heterogeneous. This is a bug I think.

3 is being regarded as an upFloater, even though the pairing with
2 has been undone in C13.

The fix for this is:

@@ -1053,6 +1053,7 @@
     $group-&gt;exit&#40;$_&#41; for @floaters;
     $_-&gt;floating&#40;&#39;&#39;&#41;            for @floaters;
     $penultimate-&gt;reentry&#40;$_&#41;   for @floaters;
+    $_-&gt;floating&#40;&#39;&#39;&#41;            for &#40; $penultimate-&gt;upFloaters &#41;;
     delete $args{badpair};
     $groups-&gt;[$index] = $group;
     $groups-&gt;[$index-1] = $penultimate;

But that&#39;s just going to mean it takes a very long time in C8
trying out all the exchanges, before we start reducing pprime
through C14.

It may not even be the right fix. Trying it out here, it seems to
result in trying to repair 1 and 2 with other members of Bracket
2, again and again, rather than reducing pprime in the remainder
bracket.

I guess this is a result of C10 kicking in, trying to re-pair 1
and 2 to prevent players being downfloated from the remainder
group to Bracket 3. Whereas this is actually what we want: the
downfloating of a player to Bracket 3.

And somehow a player got lost and there is only one player in the
last group.

Perhaps if we get to C13 once, we are justified in avoiding
C10 to get back there.

That seems to be the language of C13: &#34;Try to find another
pairing in the penultimate score bracket which will allow a
pairing in the lowest score bracket.&#34;

Perhaps I will ask on <span class="clickylink"><a target="new" rel="nofollow" href="http://www.chesschat.org">http://www.chesschat.org</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C11, x=1, Undoing all Bracket 2 matches
&gt; C11, x=2, Undoing all Bracket 2 matches
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,  Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; C11, x=1, Undoing all Bracket 2 matches
&gt; C11, x=2, Undoing all Bracket 2 matches
&gt; C11, x=3, Undoing all Bracket 2 matches
&gt; C11, x=p=3 already, no more x increases in Bracket 2.
&gt; C14,  Bracket 2, now p=2
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,  Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,  Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,  Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; C1,  B1a: NOK. 5 11 Bracket 2. Floating 5 Down,  11 Down,  [2] 11 =&gt; [3] 11 5 7 8
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Next, Bracket 3: 11 5 7 8
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=0
&gt; C3, p=2       Heterogeneous.
&gt; C4, S1 &#38; S2: 11 5 &#38; 7 8
&gt; C5, ordered: 5 11 &#38; 7 8
&gt; C6, 2 tables paired. E1 7&#38;5  E1 11&#38;8  
&gt; C6others:     no non-paired players
&gt; Pairing complete
</div>
Perhaps that is the right pairing. :-&#41;

And, perhaps you were right about the joining of Brackets 2 and 3.

But I didn&#39;t see why the first 2 tables got lost. I guess it&#39;s
because of the repairing of the 2nd group.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357329" href="/Public/Bug/Display.html?id=29073#txn-357329">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;01&nbsp;10:33:35&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Sep 2007 16:28:53 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357329/161234/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161234">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

* On 2007-09-01 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; As I understand, there is no legal pairing for players 7 and 8 in the
&gt; &gt; &gt; &gt; last bracket because they were already paired against each other. But
&gt; &gt; &gt; &gt; in that case according to C13 the last two brackets should be joined.
&gt; &gt; &gt; &gt; Why is C14 used at all? Wouldn&#39;t the pairing algorithm work like:
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 1. C1 / Bracket 1: Players 1 and 2 are moved down
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 2. C4,C5 / Bracket 2: Players 1 and 2 are paired agains two players
&gt; &gt; &gt; &gt;                       from S2
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 3. C8,C5,C6,C7 / &#40;remaining&#41; Bracket 2: The remaining six players are
&gt; &gt; &gt; &gt;                                         paired agains each other.
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 4. C13 / Bracket 3: No pairing possible -&gt; back to Step 3 &#40;Bracket 2&#41;
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 5. C13 / Bracket 2/3: Join brackets since there are no pairings for
&gt; &gt; &gt; &gt;                       Bracket 2 which allow a pairing for Bracket 3
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; 6. C4,C5 / &#40;joined&#41; Bracket 2: Find pairings for joined bracket -&gt;
&gt; &gt; &gt; &gt;                                that&#39;s possible
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; But why is C14 needed?
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; I&#39;m not an expert on the FIDE rules, but C13 talks about p
&gt; &gt; &gt; becoming zero in the penultimate bracket. The only way to
&gt; &gt; &gt; decrease p is through C14.
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; I&#39;m not clear about the sequencing of the rules. C13 seems to
&gt; &gt; &gt; include a number of different steps, depending on what happens
&gt; &gt; &gt; before C13.
</div></div>&gt; 
<div class="message-stanza open">&gt; &gt; For sure, I&#39;m even less an expert. But somehow I think one should
&gt; &gt; arrive at the last part of the c13 function in FIDE.pm. 
</div>&gt; 
<div class="message-stanza open">&gt; &gt; If &#40;! $pprime &gt; 0&#41; the last two brackets should be joined &#40;lines 1043
&gt; &gt; to 1059&#41;. It seems to me, that the algoritm doesn&#39;t get there.
</div>&gt; 
&gt; Before getting to the joining of the last 2 brackets, you have to
&gt; try and find a different pairing in Bracket 2, ie in between your
&gt; step 4. and step 5.
&gt; 
&gt; It looks like the FIDE.pm in 0.06 is now, at the moment, going
&gt; through C14, dropping p from 3 to 2, ie pairing only 2 tables in
&gt; Bracket 2, before downfloating the other 2 players to Bracket 3.
</div>
If I&#39;m not mistaken, FIDE.pm doesn&#39;t downfloat those other 2 players
straight away &#40;as it IMHO should do, according to C6, since it is a
homogenous group&#41;, but tries to pair them first against each other.
Since that doesn&#39;t help for bracket 3 FIDE.pm repairs the first
mentioned 2 tables until the remaining two players can&#39;t be paired
against each other. Only then they are downfloated. But that means,
the first 2 tables of Bracket 2 are unnecessarily &#40;and maybe wrongly&#41;
repaired.

At least that&#39;s how I interprete the following sequence:

====
C14,    Bracket 2, now p=2
C4, S1 &#38; S2: 3 5 &#38; 6 12 11 9
C5, ordered: 3 5 &#38; 6 9 11 12
C6, B1a: table 2 NOK
C7,          6 11 9 12
C6, B1a: table 2 NOK
C7,          6 12 9 11
C6, 2 tables paired. E1 6&#38;3  E4 12&#38;5  
C6others:       Remainder Group, Bracket 2: 9 11
C1,  B1,2 test: ok, no unpairables
C2, x=1
C3, p=1 Homogeneous.
C4, S1 &#38; S2: 9 &#38; 11
C5, ordered: 9 &#38; 11
C6, 1 tables paired. E4 9&#38;11  
C6others:       no non-paired players
Next, Bracket 3: 7 8
C1,  B1a: NOK. 7 8 
C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
C7,          9 6 11 12
C6, B1a: table 1 NOK
C7,          11 6 9 12
C6, B1a: table 1 NOK
C7,          12 6 9 11
C6, 2 tables paired. E4 12&#38;3  E1 6&#38;5  
C6others:       Remainder Group, Bracket 2: 9 11
C1,  B1,2 test: ok, no unpairables
C2, x=1
C3, p=1 Homogeneous.
C4, S1 &#38; S2: 9 &#38; 11
C5, ordered: 9 &#38; 11
C6, 1 tables paired. E4 9&#38;11  
C6others:       no non-paired players
Next, Bracket 3: 7 8
C1,  B1a: NOK. 7 8 
C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
C7,          12 9 6 11
C6, B1a: table 2 NOK
C7,          12 11 6 9
C6, B1a: table 2 NOK
C7, last transposition
C9, Dropping B6 for Downfloats
C4, S1 &#38; S2: 12 6 &#38; 3 5 11 9
C5, ordered: 6 12 &#38; 3 5 9 11
C6, 2 tables paired. E1 6&#38;3  E4 5&#38;12  
C6others:       Remainder Group, Bracket 2: 9 11
C1,  B1,2 test: ok, no unpairables
C2, x=1
C3, p=1 Homogeneous.
C4, S1 &#38; S2: 9 &#38; 11
C5, ordered: 9 &#38; 11
C6, 1 tables paired. E4 9&#38;11  
C6others:       no non-paired players
Next, Bracket 3: 7 8
C1,  B1a: NOK. 7 8 
C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2.
C7,          3 9 5 11
C6, 2 tables paired. E1 6&#38;3  E1 9&#38;12  
C6others:       Remainder Group, Bracket 2: 5 11
C1,  B1a: NOK. 5 11 Bracket 2. Floating 5 Down,  11 Down,  [2] 11 =&gt;
[3] 11 5 7 
8

Next, Bracket 3: 11 5 7 8
C1,  B1,2 test: ok, no unpairables
C2, x=0
C3, p=2 Heterogeneous.
C4, S1 &#38; S2: 11 5 &#38; 7 8
C5, ordered: 5 11 &#38; 7 8
C6, 2 tables paired. E1 7&#38;5  E1 11&#38;8  
C6others:       no non-paired players
Pairing complete
====

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And these 2 downfloated players allow 2 matches in Bracket 3.
&gt; Thus we avoid the necessity of joining Bracket 2 and Bracket 3
&gt; together, to pair 7 and 8, the 2 incompatible players in Bracket
&gt; 3.
&gt; 
&gt; That&#39;s just my interpretation of the sequencing. I would be
&gt; interested if other people disagree.
</div>
After re-reading the FIDE Swiss Rules for a while, I tend to agree
with you, that it&#39;s not necessary to rejoin Bracket 2 and 3.

But I will comment on your other mail regarding the question whether
the whole group or the remainder group should be repaired. I think,
it should be the remainder group -- as happened in the example above
after C14. But more on this my next mail.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is this a pairing of a real tournament, or a notional one?
</div>
It&#39;s just a notional one. I invented it to test the pairing algorithm.

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-357338" href="/Public/Bug/Display.html?id=29073#txn-357338">#</a>      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;01&nbsp;10:56:06&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Sep 2007 16:54:57 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/357338/161239/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/161239">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

* On 2007-09-01 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open">&gt; &gt; Pairingtable:
&gt; &gt; ====
&gt; &gt; Round 3 Pairing Groups
&gt; &gt; ----------------------------------------------
&gt; &gt; Place  No  Opponents     Roles     Float Score
&gt; &gt; 1-2
&gt; &gt;        1   7,2            BW            1.5
&gt; &gt;        2   8,1            WB            1.5
&gt; &gt; 3-10
&gt; &gt;        3   9,11           BW            1
&gt; &gt;        4   10,12          WB            1
&gt; &gt;        5   11,9           BW            1
&gt; &gt;        6   12,10          WB            1
&gt; &gt;        9   3,5            WB            1
&gt; &gt;        10  4,6            BW            1
&gt; &gt;        11  5,3            WB            1
&gt; &gt;        12  6,4            BW            1
&gt; &gt; 11-12
&gt; &gt;        7   1,8            WB            0.5
&gt; &gt;        8   2,7            BW            0.5
&gt; &gt; ====
</div>&gt; [...]
<div class="message-stanza open">&gt; &gt; Round 3:  1 2 &#40;1.5&#41;, 3 4 5 6 9 10 11 12 &#40;1&#41;, 7 8 &#40;0.5&#41;, 
</div>&gt; 
&gt; First, Bracket 1 is floated down and paired with 2 players. The
&gt; remainder group is also paired, requiring 3 exchanges, but this
&gt; leaves Bracket 3 unpairable.
&gt; 
<div class="message-stanza open">&gt; &gt; C6, 3 tables paired. E1 6&#38;5  E1 9&#38;10  E1 11&#38;12  
&gt; &gt; C6others:   no non-paired players
&gt; &gt; Next, Bracket 3: 7 8
&gt; &gt; C1,  B1a: NOK. 7 8 
&gt; &gt; C13,        Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; &gt; C7,          4 5 3 6 9 10 11 12
&gt; &gt; C6, 2 tables paired. E1 4&#38;1  E1 2&#38;5  
</div>&gt; 
&gt; This time 1 and 2 are paired with 4 and 5 instead of 4 and 3,
&gt; leaving a different remainder group.
&gt; 
&gt; One thing I am unsure about is whether the remainder group should
&gt; be repaired, or the whole group. I think it&#39;s the whole group.
</div>
I think, only the remainder group should be repaired. Firstly,
intuitively it seems to me that the pairings of the downfloated
players from Bracket 1 &#40;players 1 and 2&#41; shouldn&#39;t be affected
&#40;changed&#41; by pairing problems for the next bracket -- at least if it&#39;s
not absolutely necessary. Speaking about a chess tournament, it would
be odd, if the decisive pairing for the leading players for the last
round would be influenced by some problems regarding place, let&#39;s say,
20.

Secondly, I would interpret A3 of the FIDE Swiss Rules in a way, that
a &#34;remainder score bracket&#34; is treated as a regular &#40;homogeneous&#41;
&#34;score bracket&#34;. &#40;Though it&#39;s a bit strange that e.g. C6 speaks about
a &#34;homogeneous remainder group&#34; and not a &#34;homogeneous remainder score
bracket&#34;. Maybe the wording of the FIDE rules aren&#39;t that good in that
respect?&#41;

So maybe, one should speak about the original &#40;heterogeneous&#41; score
bracket &#40;players 1,2 &#38; 3,4,5,6,9,10,11,12&#41; as &#34;Bracket 2&#34; and about
the remainder group &#40;players 5,6,9,10,11,12&#41; as &#34;Bracket 2a&#34; &#40;or even
Bracket 3&#41;?

Or am I totally off the track?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; C6others:   Remainder Group, Bracket 2: 3 6 9 10 11 12
&gt; &gt; C1,  B1,2 test: ok, no unpairables
&gt; &gt; C2, x=0
&gt; &gt; C3, p=3     Heterogeneous.
</div>&gt; 
&gt; For some reason, the remainder group is being regarded as 
&gt; heterogeneous. This is a bug I think.
&gt; 
&gt; 3 is being regarded as an upFloater, even though the pairing with
&gt; 2 has been undone in C13.
&gt; 
&gt; The fix for this is:
&gt; 
&gt; @@ -1053,6 +1053,7 @@
&gt;      $group-&gt;exit&#40;$_&#41; for @floaters;
&gt;      $_-&gt;floating&#40;&#39;&#39;&#41;            for @floaters;
&gt;      $penultimate-&gt;reentry&#40;$_&#41;   for @floaters;
&gt; +    $_-&gt;floating&#40;&#39;&#39;&#41;            for &#40; $penultimate-&gt;upFloaters &#41;;
&gt;      delete $args{badpair};
&gt;      $groups-&gt;[$index] = $group;
&gt;      $groups-&gt;[$index-1] = $penultimate;
&gt; 
&gt; But that&#39;s just going to mean it takes a very long time in C8
&gt; trying out all the exchanges, before we start reducing pprime
&gt; through C14.
&gt; 
&gt; It may not even be the right fix. Trying it out here, it seems to
&gt; result in trying to repair 1 and 2 with other members of Bracket
&gt; 2, again and again, rather than reducing pprime in the remainder
&gt; bracket.
&gt; 
&gt; I guess this is a result of C10 kicking in, trying to re-pair 1
&gt; and 2 to prevent players being downfloated from the remainder
&gt; group to Bracket 3. Whereas this is actually what we want: the
&gt; downfloating of a player to Bracket 3.
</div>
I didn&#39;t try to apply your fix. But: Wouldn&#39;t this problem went away
if one repairs only the homogeneous &#34;remainder score bracket&#34; &#40;with p
decreased by 1 due to C14&#41;. In that case C6 would apply and the
two remaining &#40;unpaired&#41; players were downfloated directly. C10
wouldn&#39;t relevant in that case, would it?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perhaps if we get to C13 once, we are justified in avoiding
&gt; C10 to get back there.
&gt; 
&gt; That seems to be the language of C13: &#34;Try to find another
&gt; pairing in the penultimate score bracket which will allow a
&gt; pairing in the lowest score bracket.&#34;
&gt; 
&gt; Perhaps I will ask on <span class="clickylink"><a target="new" rel="nofollow" href="http://www.chesschat.org">http://www.chesschat.org</a></span>
</div>
I&#39;ll follow any new discussion there.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I didn&#39;t see why the first 2 tables got lost. I guess it&#39;s
&gt; because of the repairing of the 2nd group.
</div>
At the moment I have no idea about that.

Best regards

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358531" href="/Public/Bug/Display.html?id=29073#txn-358531">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;11:02:29&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Sep 2007 15:01:48 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358531/162024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, 01 Sep 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; &gt; I&#39;m not clear about the sequencing of the rules. C13 seems to
&gt; &gt; &gt; &gt; include a number of different steps, depending on what happens
&gt; &gt; &gt; &gt; before C13.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; For sure, I&#39;m even less an expert. But somehow I think one should
&gt; &gt; &gt; arrive at the last part of the c13 function in FIDE.pm. 
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; If &#40;! $pprime &gt; 0&#41; the last two brackets should be joined &#40;lines 1043
&gt; &gt; &gt; to 1059&#41;. It seems to me, that the algoritm doesn&#39;t get there.
</div></div>
I think if $pprime == 0, then the last 2 brackets should be
joined, but if it != 0, then they don&#39;t have to be.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Before getting to the joining of the last 2 brackets, you have to
&gt; &gt; try and find a different pairing in Bracket 2, ie in between your
&gt; &gt; step 4. and step 5.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; It looks like the FIDE.pm in 0.06 is now, at the moment, going
&gt; &gt; through C14, dropping p from 3 to 2, ie pairing only 2 tables in
&gt; &gt; Bracket 2, before downfloating the other 2 players to Bracket 3.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If I&#39;m not mistaken, FIDE.pm doesn&#39;t downfloat those other 2 players
&gt; straight away &#40;as it IMHO should do, according to C6, since it is a
&gt; homogenous group&#41;, but tries to pair them first against each other.
&gt; Since that doesn&#39;t help for bracket 3 FIDE.pm repairs the first
&gt; mentioned 2 tables until the remaining two players can&#39;t be paired
&gt; against each other. Only then they are downfloated. But that means,
&gt; the first 2 tables of Bracket 2 are unnecessarily &#40;and maybe wrongly&#41;
&gt; repaired.
</div>
Yes, I think you are correct. I&#39;ve uploaded version 0.07 after
doing some work on C6, C13 and C14.

It seems to be downfloating them straight away, rather than
trying to pair them.

 C11, x=p=3 already, no more x increases in Bracket 2.
 C14,    Bracket 2, now p=2
 C4, S1 &#38; S2: 5 6 9 &#38; 12 11 10
 C5, ordered: 5 6 9 &#38;
              10 11 12
 C6, Bracket tables 1 2 3 paired. E4 10&#38;5  E4 6&#38;11
 C6others:   Floating remaining 9 12 Down. [2] 5 6 9 12 11 10 =&gt; [3] 12 9 7 8
 Next, Bracket 3: 12 9 7 8
 C1,  B1,2 test: ok, no unpairables
 C2, x=0
 C3, p=2 Homogeneous.
 C4, S1 &#38; S2: 9 12 &#38; 7 8
 C5, ordered: 9 12 &#38;
              7 8
 C6, B4: x=0, table 1 2 NOK
 C7,          8 7
 C6, Bracket tables 1 2 paired. E1 9&#38;8  E1 7&#38;12
 C6others:       no non-paired players
 Pairing complete

But it only gets to this point after re-pairing all 3 tables in
Bracket 2, without downfloating any players for quite a long time

But I want to follow the same rules looking for alternative
downfloaters in C13 that are followed elsewhere.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; At least that&#39;s how I interprete the following sequence:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ====
&gt; C14,    Bracket 2, now p=2
&gt; C4, S1 &#38; S2: 3 5 &#38; 6 12 11 9
&gt; C5, ordered: 3 5 &#38; 6 9 11 12
&gt; C6, B1a: table 2 NOK
&gt; C7,          6 11 9 12
&gt; C6, B1a: table 2 NOK
&gt; C7,          6 12 9 11
&gt; C6, 2 tables paired. E1 6&#38;3  E4 12&#38;5  
&gt; C6others:       Remainder Group, Bracket 2: 9 11
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=1
&gt; C3, p=1 Homogeneous.
&gt; C4, S1 &#38; S2: 9 &#38; 11
&gt; C5, ordered: 9 &#38; 11
&gt; C6, 1 tables paired. E4 9&#38;11  
&gt; C6others:       no non-paired players
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; C7,          9 6 11 12
&gt; C6, B1a: table 1 NOK
&gt; C7,          11 6 9 12
&gt; C6, B1a: table 1 NOK
&gt; C7,          12 6 9 11
&gt; C6, 2 tables paired. E4 12&#38;3  E1 6&#38;5  
&gt; C6others:       Remainder Group, Bracket 2: 9 11
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=1
&gt; C3, p=1 Homogeneous.
&gt; C4, S1 &#38; S2: 9 &#38; 11
&gt; C5, ordered: 9 &#38; 11
&gt; C6, 1 tables paired. E4 9&#38;11  
&gt; C6others:       no non-paired players
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2. 
&gt; C7,          12 9 6 11
&gt; C6, B1a: table 2 NOK
&gt; C7,          12 11 6 9
&gt; C6, B1a: table 2 NOK
&gt; C7, last transposition
&gt; C9, Dropping B6 for Downfloats
&gt; C4, S1 &#38; S2: 12 6 &#38; 3 5 11 9
&gt; C5, ordered: 6 12 &#38; 3 5 9 11
&gt; C6, 2 tables paired. E1 6&#38;3  E4 5&#38;12  
&gt; C6others:       Remainder Group, Bracket 2: 9 11
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=1
&gt; C3, p=1 Homogeneous.
&gt; C4, S1 &#38; S2: 9 &#38; 11
&gt; C5, ordered: 9 &#38; 11
&gt; C6, 1 tables paired. E4 9&#38;11  
&gt; C6others:       no non-paired players
&gt; Next, Bracket 3: 7 8
&gt; C1,  B1a: NOK. 7 8 
&gt; C13,    Undoing Bracket 2 matches. Re-pairing Bracket 2, p=2.
&gt; C7,          3 9 5 11
&gt; C6, 2 tables paired. E1 6&#38;3  E1 9&#38;12  
&gt; C6others:       Remainder Group, Bracket 2: 5 11
&gt; C1,  B1a: NOK. 5 11 Bracket 2. Floating 5 Down,  11 Down,  [2] 11 =&gt;
&gt; [3] 11 5 7 
&gt; 8
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Next, Bracket 3: 11 5 7 8
&gt; C1,  B1,2 test: ok, no unpairables
&gt; C2, x=0
&gt; C3, p=2 Heterogeneous.
&gt; C4, S1 &#38; S2: 11 5 &#38; 7 8
&gt; C5, ordered: 5 11 &#38; 7 8
&gt; C6, 2 tables paired. E1 7&#38;5  E1 11&#38;8  
&gt; C6others:       no non-paired players
&gt; Pairing complete
&gt; ====
</div>
Yes, I think if it is a homogeneous group it should downfloat
unpaired players rather than try to pair them.

This pairing with 0.06 is different than the pairing above with
0.07.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358600" href="/Public/Bug/Display.html?id=29073#txn-358600">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;17:24:17&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Sep 2007 23:23:52 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358600/162058/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162058">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

* On 2007-09-04 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; I&#39;m not clear about the sequencing of the rules. C13 seems to
&gt; &gt; &gt; &gt; &gt; include a number of different steps, depending on what happens
&gt; &gt; &gt; &gt; &gt; before C13.
</div></div>&gt; 
<div class="message-stanza open">&gt; &gt; &gt; &gt; For sure, I&#39;m even less an expert. But somehow I think one should
&gt; &gt; &gt; &gt; arrive at the last part of the c13 function in FIDE.pm. 
</div>&gt; 
<div class="message-stanza open">&gt; &gt; &gt; &gt; If &#40;! $pprime &gt; 0&#41; the last two brackets should be joined &#40;lines 1043
&gt; &gt; &gt; &gt; to 1059&#41;. It seems to me, that the algoritm doesn&#39;t get there.
</div>&gt; 
&gt; I think if $pprime == 0, then the last 2 brackets should be
&gt; joined, but if it != 0, then they don&#39;t have to be.
</div>
i agree. If I argued otherwise it wasn&#39;t thoughtful &#40;enough&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Before getting to the joining of the last 2 brackets, you have to
&gt; &gt; &gt; try and find a different pairing in Bracket 2, ie in between your
&gt; &gt; &gt; step 4. and step 5.
</div></div>&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; It looks like the FIDE.pm in 0.06 is now, at the moment, going
&gt; &gt; &gt; through C14, dropping p from 3 to 2, ie pairing only 2 tables in
&gt; &gt; &gt; Bracket 2, before downfloating the other 2 players to Bracket 3.
</div></div>&gt; 
<div class="message-stanza open">&gt; &gt; If I&#39;m not mistaken, FIDE.pm doesn&#39;t downfloat those other 2 players
&gt; &gt; straight away &#40;as it IMHO should do, according to C6, since it is a
&gt; &gt; homogenous group&#41;, but tries to pair them first against each other.
&gt; &gt; Since that doesn&#39;t help for bracket 3 FIDE.pm repairs the first
&gt; &gt; mentioned 2 tables until the remaining two players can&#39;t be paired
&gt; &gt; against each other. Only then they are downfloated. But that means,
&gt; &gt; the first 2 tables of Bracket 2 are unnecessarily &#40;and maybe wrongly&#41;
&gt; &gt; repaired.
</div>&gt; 
&gt; Yes, I think you are correct. I&#39;ve uploaded version 0.07 after
&gt; doing some work on C6, C13 and C14.
&gt; 
&gt; It seems to be downfloating them straight away, rather than
&gt; trying to pair them.
</div>
It seems to work as described &#40;and expected&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But it only gets to this point after re-pairing all 3 tables in
&gt; Bracket 2, without downfloating any players for quite a long time
&gt; 
&gt; But I want to follow the same rules looking for alternative
&gt; downfloaters in C13 that are followed elsewhere.
</div>
I think, that&#39;s a sensible approach.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, I think if it is a homogeneous group it should downfloat
&gt; unpaired players rather than try to pair them.
&gt; 
&gt; This pairing with 0.06 is different than the pairing above with
&gt; 0.07.
</div>
Again, it&#39;s working as advertised -- at least in this respect.

Unfortunately, still the first two pairings &#40;4&#38;1, 2&#38;3&#41; are
&#34;forgotten&#34;. Furthermore I got the following output to standard error
while running &#34;pair&#34; in subdirectory 3/ :

====
No result in round 1 for player 1, player_1 as White at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
No result in round 1 for player 2, player_2 as Black at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
[...]
No result in round 1 for player 12, player_12 as White at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
No result in round 2 for player 1, player_1 as Black at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
No result in round 2 for player 2, player_2 as White at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
[...]
No result in round 2 for player 11, player_11 as White at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
No result in round 2 for player 12, player_12 as Black at
/opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
====

But the original problem seems to be solved.

Thanks!

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358657" href="/Public/Bug/Display.html?id=29073#txn-358657">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;19:11:32&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Sep 2007 23:10:09 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358657/162084/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162084">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 04 Sep 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Again, it&#39;s working as advertised -- at least in this respect.
</div>
Okay, I&#39;m going to close this bug report.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately, still the first two pairings &#40;4&#38;1, 2&#38;3&#41; are
&gt; &#34;forgotten&#34;.
</div>
Can you open a bug report for that problem?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Furthermore I got the following output to standard error
&gt; while running &#34;pair&#34; in subdirectory 3/ :
</div>
This is a warning about the use of pairing tables. They don&#39;t
give the players&#39; individual results in each round. There is only
a total score.

I think it is important to make that clear to the user.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ====
&gt; No result in round 1 for player 1, player_1 as White at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; No result in round 1 for player 2, player_2 as Black at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; [...]
&gt; No result in round 1 for player 12, player_12 as White at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; No result in round 2 for player 1, player_1 as Black at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; No result in round 2 for player 2, player_2 as White at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; [...]
&gt; No result in round 2 for player 11, player_11 as White at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; No result in round 2 for player 12, player_12 as Black at
&gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; ====
</div>
If you want to discuss that, can you open a separate report?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358660" href="/Public/Bug/Display.html?id=29073#txn-358660">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;04&nbsp;19:26:03&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Sep 2007 23:20:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358660/162087/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162087">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 748b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 04 Sep 2007, Greg Matheson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Okay, I&#39;m going to close this bug report.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Unfortunately, still the first two pairings &#40;4&#38;1, 2&#38;3&#41; are
&gt; &gt; &#34;forgotten&#34;.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you open a bug report for that problem?
</div>
On second thoughts, this was a problem you reported earlier in
this discussion, so don&#39;t open a new report for this problem.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; ====
&gt; &gt; No result in round 1 for player 1, player_1 as White at
&gt; &gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; &gt; No result in round 1 for player 2, player_2 as Black at
&gt; &gt; /opt/perl_modules/Games-Tournament-Swiss-0.07/script_files/pair line 126
&gt; &gt; [...]
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you want to discuss that, can you open a separate report?
</div>
Open a separate report for this problem.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358695" href="/Public/Bug/Display.html?id=29073#txn-358695">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;03:06:57&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 07:03:18 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358695/162102/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162102">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 506b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 04 Sep 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately, still the first two pairings &#40;4&#38;1, 2&#38;3&#41; are
&gt; &#34;forgotten&#34;. 
</div>
I figured out why it&#39;s happening. C13 was unpairing all the games
in the second bracket but only repairing the players in the
remainder bracket.

I don&#39;t know what to do about it yet. The correct method may depend
on whether it is better to re-pair only the remainder bracket or
the whole bracket.

I posted about that at
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.chesschat.org/showthread.php?t=6856">http://www.chesschat.org/showthread.php?t=6856</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358707" href="/Public/Bug/Display.html?id=29073#txn-358707">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;03:31:14&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 09:31:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358707/162108/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162108">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On 2007-09-05, Greg Matheson via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open">&gt; &gt; Unfortunately, still the first two pairings &#40;4&#38;1, 2&#38;3&#41; are
&gt; &gt; &#34;forgotten&#34;. 
</div>&gt; 
&gt; I figured out why it&#39;s happening. C13 was unpairing all the games
&gt; in the second bracket but only repairing the players in the
&gt; remainder bracket.
</div>
I just tried to figure it out myself. I suspected C13 &#40;or C11&#41; to do
such a thing.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t know what to do about it yet. The correct method may depend
&gt; on whether it is better to re-pair only the remainder bracket or
&gt; the whole bracket.
</div>
Agreed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I posted about that at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.chesschat.org/showthread.php?t=6856">http://www.chesschat.org/showthread.php?t=6856</a></span>
</div>
I&#39;m curious whether Bill Gletsos &#40;or someone else&#41; has an answer to
this question.

Regarding the other problem:

On 2007-09-04, Greg Matheson via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
<div class="message-stanza open">&gt; &gt; Furthermore I got the following output to standard error
&gt; &gt; while running &#34;pair&#34; in subdirectory 3/ :
</div>&gt; 
&gt; This is a warning about the use of pairing tables. They don&#39;t
&gt; give the players&#39; individual results in each round. There is only
&gt; a total score.
&gt; 
&gt; I think it is important to make that clear to the user.
&gt; [...]
&gt; If you want to discuss that, can you open a separate report?
</div>
Actually, I don&#39;t think it&#39;s important at the moment, since your
explanation is quite clear. I&#39;m inclined not to open a yet another bug
report about this.

Thanks!

Christian
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358711" href="/Public/Bug/Display.html?id=29073#txn-358711">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;03:43:51&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 07:42:57 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Christian Bartolomaeus via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358711/162112/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162112">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 391b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, 05 Sep 2007, Christian Bartolomaeus via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just tried to figure it out myself. I suspected C13 &#40;or C11&#41; to do
&gt; such a thing.
</div>
Each individual match is just added to the end of all the
matches in the bracket, which is identified by $index, so 
    delete $matches-&gt;[ $index - 1 ];
unpairs all matches in the bracket, from the remainder group AND
the moved-down players.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358725" href="/Public/Bug/Display.html?id=29073#txn-358725">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;05:28:15&nbsp;2007</span>
    <span class="description">drbean [...] freeshell.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 09:21:29 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Matheson &lt;drbean [...] freeshell.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358725/162118/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162118">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As a temporary measure, which probably breaks for other
tournaments, just add the pairings for remainder groups
separately and pop the pairings of the last group off:

=== lib/Games/Tournament/Swiss/Procedure/FIDE.pm
==================================================================
--- lib/Games/Tournament/Swiss/Procedure/FIDE.pm        &#40;revision 1336&#41;
+++ lib/Games/Tournament/Swiss/Procedure/FIDE.pm        &#40;local&#41;
@@ -1,6 +1,6 @@
 package Games::Tournament::Swiss::Procedure::FIDE;

-# Last Edit: 2007 Sep 04, 09:31:41 PM
+# Last Edit: 2007 Sep 05, 04:32:09 PM
 # $Id$

 use warnings;
@@ -1113,14 +1113,13 @@
        return ERROR,
        msg =&gt; &#34;All joined into one bracket, but no pairings! Sorry&#34;, %args;
     }
-    # my $penultimate = $groups-&gt;[ $index - 1 ];
-    # $penultimate = $penultimate-&gt;{remainderof} if $penultimate-&gt;{remainderof};
     my $penultimate = $self-&gt;previousBracket;
+    # $penultimate = $penultimate-&gt;{remainderof} if $penultimate-&gt;{remainderof};
     $group = $group-&gt;{remainderof} if $group-&gt;{remainderof};
     my &#40; $last, $penult &#41; = &#40; $index + 1, $index &#41;;
-    # my $penultpPrime = $penultimate-&gt;pprime;
-    delete $matches-&gt;[ $index - 1 ];
-    delete $matches-&gt;[ $index ];
+    delete $matches-&gt;[ - 1 ];
+    # delete $matches-&gt;[ $index - 1 ];
+    # delete $matches-&gt;[ $index ];
     print &#34;Undoing Bracket $penult matches. &#34;;
     my @lastMemberIds = map { $_-&gt;id } @$members;
     my $residents     = $group-&gt;residents;
@@ -1432,7 +1431,7 @@
           &#41;;
     }
     print &#34;\n&#34;;
-    push @{ $allMatches-&gt;[$index] }, @bracketMatches;
+    push @$allMatches, \@bracketMatches;
     $self-&gt;previousBracket&#40;$group&#41;;
     return C6OTHERS, matches =&gt; $allMatches, %args;
 }
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358806" href="/Public/Bug/Display.html?id=29073#txn-358806">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;07:50:40&nbsp;2007</span>
    <span class="description">bartolin [...] gmx.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29073] AutoReply: Problems with C14 in FIDE.pm</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 13:45:41 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Greg Matheson via RT &lt;bug-Games-Tournament-Swiss [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Christian Bartolomaeus &lt;bartolin [...] gmx.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358806/162144/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162144">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 512b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

* On 2007-09-05 Greg Matheson via RT &#40;bug-Games-Tournament-Swiss@rt.cpan.org&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [...]
&gt; As a temporary measure, which probably breaks for other
&gt; tournaments, just add the pairings for remainder groups
&gt; separately and pop the pairings of the last group off:
&gt; 
&gt; [patch follows]
</div>
thanks, that seemed to work fine. But I hope there&#39;ll be an ultimate
solution when the question about the interpretation of C13 [1] is
answered.

Best regards,

Christian

[1] <span class="clickylink"><a target="new" rel="nofollow" href="http://chesschat.org/showthread.php?t=6856">http://chesschat.org/showthread.php?t=6856</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-361627" href="/Public/Bug/Display.html?id=29073#txn-361627">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;14&nbsp;06:28:11&nbsp;2007</span>
    <span class="description">DRBEAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/361627/163604/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/163604">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 132b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Stalled, waiting for a response to our discussion of &#34;&#39;penultimate bracket&#39; ambiguous&#34; at <span class="clickylink"><a target="new" rel="nofollow" href="http://chesschat.org/showthread.php?t=6856">http://chesschat.org/showthread.php?t=6856</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-361629" href="/Public/Bug/Display.html?id=29073#txn-361629">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;14&nbsp;06:28:15&nbsp;2007</span>
    <span class="description">DRBEAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.857296</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
