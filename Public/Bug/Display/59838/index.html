<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #59838 for Win32-GuiTest: Will not build in x64</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #59838 for Win32-GuiTest: Will not build in x64</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Win32-GuiTest">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Win32-GuiTest">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Win32-GuiTest">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Win32-GuiTest">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-GuiTest">Win32-GuiTest CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">59838</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Win32-GuiTest">Win32-GuiTest</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
alabamapaul [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35580-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.57    </td>
  </tr>
  <tr id="CF-35581-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Win32-GuiTest-1.57-x64.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/810802/420289/Win32-GuiTest-1.57-x64.patch">
Thu Jul 29 15:44:42 2010 (661b) by alabamapaul [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=59838">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-810802" href="/Public/Bug/Display.html?id=59838#txn-810802">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;29&nbsp;15:44:42&nbsp;2010</span>
    <span class="description">alabamapaul [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Will not build in x64</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/810802/420288/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420288">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">First and foremost, thanks for the hard work on a very helpful module!

We are wanting to use this module on the Vista and Windows 64 bit 
platform and encountered some problems...


Win32::GuiTest does not build under Strawberry perl 5.12.0.1 x64 on 
Vista or Windows 7 64-bit.

You can use the developer version of Win32::API &#40;v0.60_64&#41; to allow 
Win32::API to build, test, and install in the x64 environment.

The attached patch allows Win32::GuiTest to build, test, and install 
using Strwaberry perl v5.10.1.1 in Windows 7 &#40;32-bit&#41; and Strawberry 
perl v5.12.0.1 on Wista and Windows 7 &#40;64-bit&#41;.

If the SIZE_T definition is present, then this produces a conflicting 
declaration. Eliminating the define corrected the problem in x64, and 
did not create a problem in x86.

At lines 694 and 695, casting the parameters to LONG generates an error 
in x64 &#34;cast from &#39;void*&#39; to &#39;LONG&#39; loses precisions.
Changing these to UV instead of LONG works in both x64 and x86 builds.

If you need more details, or would like me to test an alternate patch, 
please let me know.

Thanks,
Paul
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Win32-GuiTest-1.57-x64.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/810802/420289/Win32-GuiTest-1.57-x64.patch">Download Win32-GuiTest-1.57-x64.patch</a><br />
<span class="downloadcontenttype">text/x-diff 661b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- GuiTest.xs
+++ patched/GuiTest.xs	2010-07-29 14:14:17.157312500 -0500
@@ -15,9 +15,6 @@
 
 #define WIN32_LEAN_AND_MEAN
 #define _WIN32_IE 0x0500
-#ifndef SIZE_T
-#	define SIZE_T DWORD
-#endif
 #include &lt;windows.h&gt;
 #include &lt;commctrl.h&gt;
 #include &#34;dibsect.h&#34;
@@ -691,8 +688,8 @@
         die&#40; &#34;VirtualAllocEx failed with error %d: %s&#34;,
                 dw, lpMsgBuf &#41;;
     }else{
-        XPUSHs&#40; sv_2mortal&#40; newSVuv&#40; &#40; LONG &#41;pBuffer &#41; &#41; &#41;;
-        XPUSHs&#40; sv_2mortal&#40; newSVuv&#40; &#40; LONG &#41;hProcess &#41; &#41; &#41;;
+        XPUSHs&#40; sv_2mortal&#40; newSVuv&#40; &#40; UV &#41;pBuffer &#41; &#41; &#41;;
+        XPUSHs&#40; sv_2mortal&#40; newSVuv&#40; &#40; UV &#41;hProcess &#41; &#41; &#41;;
     }
 
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-810805" href="/Public/Bug/Display.html?id=59838#txn-810805">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;29&nbsp;16:15:40&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/810805/420292/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420292">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 632b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If the SIZE_T definition is present, then this produces a conflicting 
&gt; declaration. Eliminating the define corrected the problem in x64, and 
&gt; did not create a problem in x86.
</div>
Yes, the definition of SIZE_T looks doubtful, but I rather wouldn&#39;t
remove it without seeing tests also on 5.10 and on cygwin. If you could
test there environments as well, I&#39;d be grateful. 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; At lines 694 and 695, casting the parameters to LONG generates an error 
&gt; in x64 &#34;cast from &#39;void*&#39; to &#39;LONG&#39; loses precisions.
&gt; Changing these to UV instead of LONG works in both x64 and x86 builds.
</div>
This one is applied.

Thanks for the great work!

/dk
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-810808" href="/Public/Bug/Display.html?id=59838#txn-810808">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;29&nbsp;16:15:41&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-810816" href="/Public/Bug/Display.html?id=59838#txn-810816">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;29&nbsp;16:44:21&nbsp;2010</span>
    <span class="description">alabamapaul [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> alabamapaul [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/810816/420298/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420298">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 576b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 29 16:15:40 2010, KARASIK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; If the SIZE_T definition is present, then this produces a conflicting 
&gt; &gt; declaration. Eliminating the define corrected the problem in x64, and 
&gt; &gt; did not create a problem in x86.
</div>&gt; 
&gt; Yes, the definition of SIZE_T looks doubtful, but I rather wouldn&#39;t
&gt; remove it without seeing tests also on 5.10 and on cygwin. If you could
&gt; test there environments as well, I&#39;d be grateful. 
&gt; 
</div>
I did test with Strawberry perl v5.10.1.1 on 32-bit, and removing SIZE_T 
worked. Unfortunately I do not have a cygwin environment available.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811045" href="/Public/Bug/Display.html?id=59838#txn-811045">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;08:10:52&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/811045/420415/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420415">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 359b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">perl5.10 with MSVC doesn&#39;t like SIZE_T undefined. However it likes that
if I move #define after #include statement. Can you try this and confirm
is this works in your setup? What I mean is this:

#define WIN32_LEAN_AND_MEAN
#define _WIN32_IE 0x0500
#include &lt;windows.h&gt;
#include &lt;commctrl.h&gt;
#include &#34;dibsect.h&#34;
#ifndef SIZE_T
#       define SIZE_T DWORD
#endif
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811189" href="/Public/Bug/Display.html?id=59838#txn-811189">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;09:44:08&nbsp;2010</span>
    <span class="description">alabamapaul [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> alabamapaul [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/811189/420473/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420473">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 990b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jul 30 08:10:52 2010, KARASIK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; perl5.10 with MSVC doesn&#39;t like SIZE_T undefined. However it likes 
</div>that
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; if I move #define after #include statement. Can you try this and 
</div>confirm
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; is this works in your setup? What I mean is this:
&gt; 
&gt; #define WIN32_LEAN_AND_MEAN
&gt; #define _WIN32_IE 0x0500
&gt; #include &lt;windows.h&gt;
&gt; #include &lt;commctrl.h&gt;
&gt; #include &#34;dibsect.h&#34;
&gt; #ifndef SIZE_T
&gt; #     define SIZE_T DWORD
&gt; #endif
&gt; 
&gt; 
</div>
This does not work on 64-bit Strawberry Perl v5.12.0.1.

Since this seems to be a difference between MSVC and GNUC, maybe we 
could leave it where it is, and and another conditional like so...

#ifndef SIZE_T
# ifndef __GNUC__
#  define SIZE_T DWORD
# endif
#endif


This works on both 32-bit Strawberry Perl 5.10.1.1 and 64-bit Strawberry Perl 5.12.0.1.

If this works in MSVC and you choose to use it as the solution, I highly 
recommend adding a comment block above it explaining the reason. This 
way, anyone looking at the code later will understand.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811266" href="/Public/Bug/Display.html?id=59838#txn-811266">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;13:08:11&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/811266/420510/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420510">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 389b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This makes sense, thanks! So, just to make clear, does the following
work for you? 

#define WIN32_LEAN_AND_MEAN
#define _WIN32_IE 0x0500
#ifndef SIZE_T
#   ifndef __GNUC__
#      define SIZE_T DWORD
#   endif
#endif
#include &lt;windows.h&gt;
#include &lt;commctrl.h&gt;
#include &#34;dibsect.h&#34;

I&#39;ve tested it only on perls I&#39;m having access now, 5.8/cygwin, 5.10/
MSVC, and 5.12/strawberry, seems ok. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811278" href="/Public/Bug/Display.html?id=59838#txn-811278">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;13:56:46&nbsp;2010</span>
    <span class="description">alabamapaul [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #59838] Will not build in x64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Jul 2010 12:56:36 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-GuiTest [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul &lt;alabamapaul [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/811278/420516/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420516">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 675b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, that works on Win7 32-bit Strawberry Perl v5.10.1.1 and Vista
64-bit Strawberry Perl v5.12.0.1

On Fri, Jul 30, 2010 at 12:08 PM, KARASIK via RT
&lt;bug-Win32-GuiTest@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59838">https://rt.cpan.org/Ticket/Display.html?id=59838</a></span> &gt;
&gt;
&gt; This makes sense, thanks! So, just to make clear, does the following
&gt; work for you?
&gt;
&gt; #define WIN32_LEAN_AND_MEAN
&gt; #define _WIN32_IE 0x0500
&gt; #ifndef SIZE_T
&gt; # Â  ifndef __GNUC__
&gt; # Â  Â  Â define SIZE_T DWORD
&gt; # Â  endif
&gt; #endif
&gt; #include &lt;windows.h&gt;
&gt; #include &lt;commctrl.h&gt;
&gt; #include &#34;dibsect.h&#34;
&gt;
&gt; I&#39;ve tested it only on perls I&#39;m having access now, 5.8/cygwin, 5.10/
&gt; MSVC, and 5.12/strawberry, seems ok.
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811280" href="/Public/Bug/Display.html?id=59838#txn-811280">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;14:11:05&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/811280/420518/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/420518">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 62b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Committed, thanks! The change will appear in the next version.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-811283" href="/Public/Bug/Display.html?id=59838#txn-811283">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;30&nbsp;14:11:07&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.528079</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
