<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42986 for PAR-Packer: PAR-based modules use system XS modules over included modules</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42986 for PAR-Packer: PAR-based modules use system XS modules over included modules</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42986</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
TJC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
tobyc [...] strategicdata.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;03&nbsp;00:35:06&nbsp;2009</span>
    <span class="description">TJC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> tobyc [...] strategicdata.com.au</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-based modules use system XS modules over included modules</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have created a PAR file which contains my script, and the included
modules include an XS module.
However if I try to run the script, the XS module fails to load with
DynaLoader, as the system-installed .so file has been loaded, rather
than the one included with the PAR file.

To give an example:
test.pl contains:
#!/usr/bin/perl
use strict;
use warnings;
use Template;
my $foo = Template-&gt;new&#40;{STASH =&gt; &#39;Template::Stash::XS&#39;}&#41;;

I create a par like so:
pp -p -o test.par test.pl

I verify that the contents of the PAR contain Template/Stash/XS.pm and
Template/Stash/XS.so, and that they are version 2.20.

Now I attempt to run the PAR on a machine with version 2.19 of the above
installed, and get:

$ parl test.par test.pl
Failed to initialise Template: failed to create context: failed to
create context: failed to load Template/Stash/XS.pm: Couldn&#39;t load
Template::Stash::XS 2.20:

Template::Stash::XS object version 2.19 does not match bootstrap
parameter 2.20 at /usr/lib/perl/5.10.0/DynaLoader.pm line 219.


I may be making a mistake here of course!


This is tested on:
Perl 5.10.0
PAR 0.984
PAR::Packer 0.982
AutoLoader 5.68
PAR::Dist 0.43
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;20&nbsp;05:44:04&nbsp;2009</span>
    <span class="description">wyp3rlx02 [...] sneakemail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> par [...] perl.org, jesse+par [...] bestpractical.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 20 Feb 2009 11:43:13 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Mueller &lt;wyp3rlx02 [...] sneakemail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Toby,

long mail ahead. Sorry.

Toby C via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Feb 03 00:35:06 2009: Request 42986 was acted upon.
&gt;        Queue: PAR
&gt;      Subject: PAR-based modules use system XS modules over included modules
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have created a PAR file which contains my script, and the included
&gt; modules include an XS module.
&gt; However if I try to run the script, the XS module fails to load with
&gt; DynaLoader, as the system-installed .so file has been loaded, rather
&gt; than the one included with the PAR file.
</div>
Very strange. I did essentially exactly as you say and I could not 
reproduce the problem.

What happens when you try to run the .par with &#34;par.pl test.par&#34;?

What&#39;s the architectures and perl and PAR::Packer versions that were 
used to create the parl&#39;s you&#39;re using to execute the test.par? I guess 
you can find out like this:

mkdir tmp
cd tmp
cp `which parl` .

# save extract_embedded.pl from this mail to the directory
perl extract_embedded.pl parl .

grep archname Config.pm
# --&gt; should print something like
# archname =&gt; &#39;i686-linux-thread-multi&#39;,

grep &#34;version =&gt;&#34; Config.pm
# version =&gt; &#39;5.10.0&#39;,

To find out the PAR &#40;not PAR::Packer unfortunately&#41; version, you can 
then do:
grep &#34;VERSION&#34; PAR.pm

With this information, you&#39;ll be able to verify or disprove the 
following guess of mine:

&#34;The architectures or perl versions of your target machine&#39;s pArl and 
your development machine&#39;s pErl aren&#39;t really compatible.&#34;

Let me explain with some more detail:
- When you use pp to generate .par or &#34;.exe&#34; files, it puts a small 
script into the archive as &#34;script/main.pl&#34;. That script is executed 
when you try to run a script from the archive via &#34;parl&#34; or &#34;par.pl&#34; and 
also for stand-alone executables.
- The contents of main.pl are different depending on context. 
Specifically, if generating a stand-alone executable or using the -B 
option to pp, then main.pl will include some code that clears out the 
@INC before running the script. After all what you&#39;re executing is 
supposed to be stand-alone.
- If you&#39;re using the -p option and not -B, i.e. creating a dependent 
.par file that expects a full perl installation, then it *naturally* 
doesn&#39;t clear @INC before running the user code.
- Your case is the second one.
- Since &#40;I think&#41; the perl installations &#40;and specifically the pArl on 
the target machine and the pErl on your dev machine that runs pp&#41; aren&#39;t 
entirely compatible, the XS.so in the .par will not be loaded. Instead, 
it will try to find a XS.so on the target system that&#39;s compatible to 
the target system&#39;s parl.
- Such an XS.so is found, but after loading it, it turns out to be an 
incompatible VERSION!

Let&#39;s suppose this is the case. I still wouldn&#39;t exactly call this a 
mistake on your part. It&#39;s simply a darned complicated situation. It&#39;s 
also one of the reasons why I don&#39;t like the &#34;parl FOO.par&#34; use case or 
PAR::Packer. But still, I don&#39;t think it&#39;s a downright PAR bug either. 
It&#39;s the behaviour you&#39;re implicitly asking for by not bundling the 
whole perl environment &#40;i.e. &#34;please use what&#39;s already there&#34;&#41;.

I hope this clears up confusion and doesn&#39;t add to it :&#41;

Best regards,
Steffen

P.S.: Food for thought and discussion: I just found out that adding -B 
to the &#34;pp -p -o foo.par foo.pl&#34; doesn&#39;t make &#34;main.pl&#34; clear @INC. I 
expected it would. We&#39;ll have to think about what the right behaviour is 
in that case. After all, it&#39;s bundling the core modules, so it should 
probably clear @INC before running, no?
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl 

# code stolen from PAR script/parl.pl

use File::Spec;
use File::Basename;
use File::Path;
use strict;
use warnings;

@ARGV == 2 || die &#34;usage: $0 executable directory_to_extract_into\n&#34;;
extract_embedded&#40;@ARGV&#41;;

sub extract_embedded
{
    my &#40;$exe, $xdir&#41; = @_;

    open my $fh, &#39;&lt;&#39;, $exe or die qq[failed to open &#34;$exe&#34;: $!];
    binmode $fh;

    my $buf;
    seek $fh, -8, 2;
    read $fh, $buf, 8;
    die qq[no PAR signature found in &#34;$exe&#34;] unless $buf eq &#34;\nPAR.pm\n&#34;;

    seek $fh, -12, 2;
    read $fh, $buf, 4;
    seek $fh, -12 - unpack&#40;&#34;N&#34;, $buf&#41;, 2;
    read $fh, $buf, 4;

    while &#40;$buf eq &#34;FILE&#34;&#41; 
    {
        read $fh, $buf, 4;
        read $fh, $buf, unpack&#40;&#34;N&#34;, $buf&#41;;

        my $fullname = $buf;
        print STDERR qq[FILE &#34;$fullname&#34;...];
        my $crc = &#40; $fullname =~ s|^&#40;[a-f\d]{8}&#41;/|| &#41; ? $1 : undef;
        my @path = split&#40;/\//, $fullname&#41;;

        read $fh, $buf, 4;
        read $fh, $buf, unpack&#40;&#34;N&#34;, $buf&#41;;

	my $file = File::Spec-&gt;catdir&#40;$xdir, @path&#41;;
	my $dir = dirname&#40;$file&#41;;
	mkpath&#40;$dir&#41; unless -d $dir;

	open my $out, &#39;&gt;&#39;, $file or die qq[failed to open &#34;$file&#34;: $!];
	binmode $out;
	print $out $buf;
	close $out;
	print STDERR qq[ extracted to $file\n];

        read $fh, $buf, 4;
    }

    close $fh;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;20&nbsp;05:44:05&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;26&nbsp;10:26:25&nbsp;2009</span>
    <span class="description">smueller [...] cpan.org -  Member ticket #48240 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;03:03:13&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, jumping back into this bug again after a long break.
The workaround I was using was simply to ensure the target system didn&#39;t 
install much at all into the system libraries, thus ensuring no 
conflicts, and then forgot about the issue.

I&#39;ve noticed the problem still seems to exist, even with the PAR being 
built on an identical system, so I&#39;m sure the shared objects should be 
compatible. In fact, the PAR and parl executables were built on one 
system, and installed on the other, seeming to indicate binary 
compatibility between the two.

The system-installed XS module&#39;s shared-library is loaded in preference 
to the one included in the PAR, thus causing DynaLoader to die.
&#40;in this case, it&#39;s Digest::SHA1 and Digest/SHA1.so&#41;

Is there anything else I can check in the meantime, that would be 
preventing the par-included SHA1.so to be loaded? I have verified it is 
included in the PAR.

thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;09:32:52&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 04 03:03:13 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry, jumping back into this bug again after a long break.
</div>
Have you re-checked with the latest and greatest version of
PAR::Packer?

If so, does the minimal &#34;hello world&#34; 

$ pp -o hello -e &#39;print &#34;hello world\n&#34;&#39;

demonstrate the problem?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;04&nbsp;18:12:00&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 04 09:32:52 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Feb 04 03:03:13 2010, TJC wrote:
<div class="message-stanza open">&gt; &gt; Sorry, jumping back into this bug again after a long break.
</div>&gt; 
&gt; Have you re-checked with the latest and greatest version of
&gt; PAR::Packer?
&gt; 
&gt; If so, does the minimal &#34;hello world&#34; 
&gt; 
&gt; $ pp -o hello -e &#39;print &#34;hello world\n&#34;&#39;
&gt; 
&gt; demonstrate the problem?
</div>
Sorry, it does not.

Small test case. Note that on the building system, File::Temp is at 0.22 
&#40;current&#41; whereas the target system, File::Temp is, erm, slightly older 
&#40;standard debian lenny&#41; and doesn&#39;t have the newdir method.

#!/usr/bin/perl
use strict;
use warnings;
use File::Temp;
my $dir = File::Temp-&gt;newdir;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;06&nbsp;08:35:17&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 04 18:12:00 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Small test case. Note that on the building system, File::Temp is at 0.22 
&gt; &#40;current&#41; whereas the target system, File::Temp is, erm, slightly older 
&gt; &#40;standard debian lenny&#41; and doesn&#39;t have the newdir method.
&gt; 
&gt; #!/usr/bin/perl
&gt; use strict;
&gt; use warnings;
&gt; use File::Temp;
&gt; my $dir = File::Temp-&gt;newdir;
</div>
Can&#39;t reproduce this here - strace&#39;ing the packed version of above
shows that the system File::Temp is NOT used.

Did you build PAR::Packer on the same system you&#39;re doing 
the packing? Or did you build it somewhere else &#40;or got it
from a distro&#41;?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;07&nbsp;12:07:09&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 06 08:35:17 2010, RSCHUPP wrote:
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Did you build PAR::Packer on the same system you&#39;re doing 
&gt; the packing? Or did you build it somewhere else &#40;or got it
&gt; from a distro&#41;?
</div>
While we&#39;re at it: if your.exe is the packed executable from
the example above, please run

$ strings -a your.exe 

and search for the string &#34;File/Temp.pm&#34; in the output. 
You should be looking at something like:

6b3c9548/File/Temp.pm
9#line 1 &#34;/usr/share/perl/5.10/File/Temp.pm&#34;
package File::Temp;
#line 138
# 5.6.0 gives us S_IWOTH, S_IWGRP, our and auto-vivifying filehandls
# People would like a version on 5.004 so give them what they want :-&#41;
use 5.004;
use strict;
use Carp;
use File::Spec 0.8;
use File::Path qw/ rmtree /;
...

That&#39;s actually a copy of File/Temp.pm - scroll down a bit and look for

$VERSION = ...

If that&#39;s the same version as on your target system &#40;or at least
older than that on your build system&#41; I have an idea what&#39;s
going on :&#41;

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;07&nbsp;21:27:54&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 06 08:35:17 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Feb 04 18:12:00 2010, TJC wrote:
<div class="message-stanza open">&gt; &gt; Small test case. Note that on the building system, File::Temp is at 
</div></div>0.22 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &#40;current&#41; whereas the target system, File::Temp is, erm, slightly 
</div></div>older 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &#40;standard debian lenny&#41; and doesn&#39;t have the newdir method.
&gt; &gt; 
&gt; &gt; #!/usr/bin/perl
&gt; &gt; use strict;
&gt; &gt; use warnings;
&gt; &gt; use File::Temp;
&gt; &gt; my $dir = File::Temp-&gt;newdir;
</div>&gt; 
&gt; Can&#39;t reproduce this here - strace&#39;ing the packed version of above
&gt; shows that the system File::Temp is NOT used.
</div>
I build the par file with:
pp -p -o testfile.par testfile.pl
&#40;where testfile.pl contains the above text only&#41;

If I extract the par with `unzip testfile.par` and then view the 
extracted file, I see it does contain File/Temp.pm, and it is the 
version from the source system, ie. 0.22.

If I copy testfile.par to the remote system, and then execute either 
`parl testfile.par` or `par -MPAR testfile.par` I receive the error:
tobyc@arya-tmp:~$ perl -MPAR filetest.par
Can&#39;t locate object method &#34;newdir&#34; via package &#34;File::Temp&#34; at 
script/filetest.pl line 5.
BEGIN failed--compilation aborted.

&#40;Note that the target system already has File::Temp 0.18 available in 
the system, but that version doesn&#39;t support the newdir&#40;&#41; method.&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Did you build PAR::Packer on the same system you&#39;re doing 
&gt; the packing? Or did you build it somewhere else &#40;or got it
&gt; from a distro&#41;?
</div> 

PAR::Packer was built on the source machine, and turned into a debian 
package, which was then installed on the target machine.

Thanks for your help so far,
Toby
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;07&nbsp;21:37:08&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">To demonstrate the other/related problem, involving XS modules, create 
sha.pl as:
#!/usr/bin/perl
use strict;
use warnings;
use Digest::SHA1;
my $digest = Digest::SHA1-&gt;new;


Create a PAR with:
pp -p -o sha.par sha.pl
&#40;Do this on a machine with version 2.12 of Digest::SHA1, eg. from CPAN&#41;

Then copy to new machine &#40;which contains 2.11 of Digest::SHA1, eg. from 
Debian repository&#41;, and run it:

tobyc@arya-tmp$ perl -MPAR sha.par
Digest::SHA1 object version 2.11 does not match bootstrap parameter 2.12 
at /usr/lib/perl/5.10/DynaLoader.pm line 219.
Compilation failed in require at script/shatest.pl line 4.
BEGIN failed--compilation aborted at script/shatest.pl line 4.
BEGIN failed--compilation aborted.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;08&nbsp;03:27:18&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 07 21:37:08 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; tobyc@arya-tmp$ perl -MPAR sha.par
</div>
Sorry, I misread your report until now - you&#39;re talking
about a .par file, not a packed executable.

I think what happens is a kind of chicken and egg problem:
 
- your .par contains different versions of File::Temp etc
  than installed on the target machine

- conceptually we would like &#34;perl -MPAR foo.par&#34;
  to behave like 
  - extract file.par into temporary directory /tmp/foo123
  - run &#34;perl -I/tmp/foo123 /tmp/foo123/foo.pl&#34;
    &#40;i.e. &#34;/tmp/foo123&#34; is at the start of @INC&#41;

- in order to get to the modules in the .par file, PAR.pm 
  needs some modules, e.g. File::Temp

- hence it already has loaded the target system&#39;s File::Temp
  before it even gets to consider the &#40;different&#41; copy included
  in the .par

All modules cited in your report are in this category
&#34;required by PAR.pm to extract stuff from a .par file&#34;.
&#40;Digest::SHA1 is a special case that&#39;s even weirder.&#41;

Sorry, I see no sane way to make this work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;08&nbsp;03:46:09&nbsp;2010</span>
    <span class="description">smueller [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 08 Feb 2010 09:45:10 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Mueller &lt;smueller [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Toby, hi Roderich,

RSCHUPP via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: PAR
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=42986">https://rt.cpan.org/Ticket/Display.html?id=42986</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think what happens is a kind of chicken and egg problem:
&gt;  
&gt; - your .par contains different versions of File::Temp etc
&gt;   than installed on the target machine
&gt; 
&gt; - conceptually we would like &#34;perl -MPAR foo.par&#34;
&gt;   to behave like 
&gt;   - extract file.par into temporary directory /tmp/foo123
&gt;   - run &#34;perl -I/tmp/foo123 /tmp/foo123/foo.pl&#34;
&gt;     &#40;i.e. &#34;/tmp/foo123&#34; is at the start of @INC&#41;
&gt; 
&gt; - in order to get to the modules in the .par file, PAR.pm 
&gt;   needs some modules, e.g. File::Temp
&gt; 
&gt; - hence it already has loaded the target system&#39;s File::Temp
&gt;   before it even gets to consider the &#40;different&#41; copy included
&gt;   in the .par
&gt; 
&gt; All modules cited in your report are in this category
&gt; &#34;required by PAR.pm to extract stuff from a .par file&#34;.
&gt; &#40;Digest::SHA1 is a special case that&#39;s even weirder.&#41;
&gt; 
&gt; Sorry, I see no sane way to make this work.
</div>
I agree. No sane way. But you may try to do something like this. I would 
probably not do it in production.

- Pack Class::Unload into your .par.
- Load the .par file &#40;using system File::Temp&#41;
- Load Class::Unload.
- Extract File/Temp.pm from the .par file into the appropriate location 
of the temporary storage location. Just have a look, the layout is 
basically a normal lib/ dir. PAR.pm has hooks for loading the contents 
of a file from any loaded .par file.
- Run Class::Unload-&gt;unload&#40;&#39;File::Temp&#39;&#41;
- require File::Temp

This may or may not work. It&#39;s certainly one of the uglier hacks I&#39;ve 
suggested in the past.

Best regards,
Steffen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;08&nbsp;17:12:49&nbsp;2010</span>
    <span class="description">ben [...] morrow.me.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 8 Feb 2010 22:11:47 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ben Morrow &lt;ben [...] morrow.me.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Quoth bug-PAR@rt.cpan.org:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Feb 07 21:37:08 2010, TJC wrote:
<div class="message-stanza open">&gt; &gt; tobyc@arya-tmp$ perl -MPAR sha.par
</div>&gt; 
&gt; Sorry, I misread your report until now - you&#39;re talking
&gt; about a .par file, not a packed executable.
&gt; 
&gt; I think what happens is a kind of chicken and egg problem:
&gt;  
&gt; - your .par contains different versions of File::Temp etc
&gt;   than installed on the target machine
&gt; 
&gt; - conceptually we would like &#34;perl -MPAR foo.par&#34;
&gt;   to behave like 
&gt;   - extract file.par into temporary directory /tmp/foo123
&gt;   - run &#34;perl -I/tmp/foo123 /tmp/foo123/foo.pl&#34;
&gt;     &#40;i.e. &#34;/tmp/foo123&#34; is at the start of @INC&#41;
&gt; 
&gt; - in order to get to the modules in the .par file, PAR.pm 
&gt;   needs some modules, e.g. File::Temp
&gt; 
&gt; - hence it already has loaded the target system&#39;s File::Temp
&gt;   before it even gets to consider the &#40;different&#41; copy included
&gt;   in the .par
&gt; 
&gt; All modules cited in your report are in this category
&gt; &#34;required by PAR.pm to extract stuff from a .par file&#34;.
&gt; &#40;Digest::SHA1 is a special case that&#39;s even weirder.&#41;
&gt; 
&gt; Sorry, I see no sane way to make this work.
</div>
How about doing the unpacking, and then re-execing perl with exactly
that command-line? A little slow, perhaps, but PAR&#39;s startup &#40;at least
when it has to do unpacking&#41; isn&#39;t exactly fast anyway.

Ben
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;10&nbsp;01:44:53&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Should this issue still occur with executable packed archives?

I ask because I am having a shot at that method instead, but still seem 
to be having the same problem.
If i look in the unpacked /tmp/par-username/cache-xxxx/ directory, I see 
that I have version 2.024 of the .pm and .so files, but when I attempt to 
run the executable, I am told that it can&#39;t as object version 2.008 does 
not match bootstrap parameter 2.024. &#40;The source system has 2.024, the 
target system has 2.008 installed&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;10&nbsp;04:59:03&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 10 01:44:53 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Should this issue still occur with executable packed archives?
&gt; I ask because I am having a shot at that method instead, but still seem 
&gt; to be having the same problem.
</div>
Basically it&#39;s the same problem, but at least you can do
something about it :&#41;

The packed executable has the same chicken-and-egg problem
as the .par archive. As a first approximation, a packed
executable is just a custom built perl interpreter with
a .par bolted on. In order to get at the stuff in the .par
you need a minimal set of Perl modules. A .par takes these
from the Perl environment where it is run &#40;and doesn&#39;t
care if different versions of these modules are included in
the .par&#41;. The packed executable takes these modules from its
own executable file &#40;NOT from the appended .par&#41;. You may find
them extracted below /tmp/par-username/cache-xxxx/, but you 
probably won&#39;t recognize them, because their file names have
been mangled &#40;some-checksum.pm&#41;. If you find, say, a File::Temp
in the cache area that actually is called File/Temp.pm then this
is the one extracted from the .par, but as in the .par case,
it&#39;s not the one that gets loaded. 

See one of my earlier comments how to find out about
the &#34;built-in&#34; modules in a packed executable.
Which version of a specific module is &#34;built-in&#34; depends
on the environment that was current when PAR::Packer was built.
&#40;That&#39;s why I asked where you got your PAR::Packer from.&#41;

If you rebuild PAR::Packer on your building system
it will pick up the current versions of these modules.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;10&nbsp;18:14:24&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 10 04:59:03 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you rebuild PAR::Packer on your building system
&gt; it will pick up the current versions of these modules.
</div>
I&#39;m fairly sure that PAR::Packer was built after those modules, since it 
&#40;and PAR&#41; were the modules that required these things to be updated from 
the default-installed versions. However I will rebuild it again and see.

ta,
Toby
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;10&nbsp;20:09:27&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 10 18:14:24 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Feb 10 04:59:03 2010, RSCHUPP wrote:
<div class="message-stanza open">&gt; &gt; If you rebuild PAR::Packer on your building system
&gt; &gt; it will pick up the current versions of these modules.
</div>&gt; 
&gt; I&#39;m fairly sure that PAR::Packer was built after those modules, since 
</div>it 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;and PAR&#41; were the modules that required these things to be updated 
</div>from 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; the default-installed versions. However I will rebuild it again and 
</div>see.

Hmm, nope, same problem after rebuilding PAR::Packer.

I think there might be a problem with the @INC order..
The old, system version of Compress::Raw::Zlib still exists, in 
/usr/lib/perl/5.10.0, and the new version is in 
/usr/local/lib/perl/5.10.0.
The latter version is higher in @INC and is the version picked up by 
modules.. However it seems like pp is picking up the older version for 
some reason?

.. Actually, I have deleted those copies, then rebuild PAR and 
PAR::Packer, then rebuild my test script &#40;pp -o blah blah.pl&#41; and I am 
*still* getting the error regarding versions on the target system.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;10&nbsp;20:21:10&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Running &#34;strings -a my_executeable&#34; and looking for Compress::Raw::Zlib 
in the output shows that 2.024 &#40;the newer version&#41; appears to be packed 
in. &#40;At least for the pm version.. How do I check for the .so that&#39;s 
packed?&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;11&nbsp;05:25:53&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 10 20:21:10 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Running &#34;strings -a my_executeable&#34; and looking for Compress::Raw::Zlib 
&gt; in the output shows that 2.024 &#40;the newer version&#41; appears to be packed 
&gt; in. &#40;At least for the pm version.. How do I check for the .so that&#39;s 
&gt; packed?&#41;
</div>
Run the attached script as

$ perl extract-embedded.pl EXECUTABLE DIR

it will extract all stuff &#40;modules and shared libs&#41; embedded
in EXECUTABLE into DIR &#40;using their original names&#41;. 
To check the version of .so I suggest to compare md5sums against
possible candidates.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think there might be a problem with the @INC order..
&gt; The old, system version of Compress::Raw::Zlib still exists, in
&gt; /usr/lib/perl/5.10.0, and the new version is in
&gt; /usr/local/lib/perl/5.10.0.
&gt; The latter version is higher in @INC and is the version picked
&gt; up by modules.. However it seems like pp is picking 
&gt; up the older version for some reason?
</div>
Unlikely. pp will use the order as shown by 

$ perl -e &#39;print &#34;@INC\n&#34;&#39;

or does /usr/local/lib/perl/5.10.0 get prepended because
you have PERL5LIB set in your environment?

Chers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;11&nbsp;21:07:10&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 11 05:25:53 2010, RSCHUPP wrote: 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Run the attached script as
&gt; 
&gt; $ perl extract-embedded.pl EXECUTABLE DIR
&gt; 
&gt; it will extract all stuff &#40;modules and shared libs&#41; embedded
&gt; in EXECUTABLE into DIR &#40;using their original names&#41;. 
&gt; To check the version of .so I suggest to compare md5sums against
&gt; possible candidates.
</div>
Checking the original executable:

$ ./blah 
Compress::Raw::Zlib object version 2.008 does not match bootstrap 
parameter 2.024 at /usr/local/lib/perl/5.10.0/Compress/Raw/Zlib.pm line 
97.
Compilation failed in require at /home/tobyc/perl/lib/Archive/Zip.pm 
line 12.
BEGIN failed--compilation aborted at /home/tobyc/perl/lib/Archive/Zip.pm 
line 12.
Compilation failed in require at -e line 358.

$ ./extract-embedded.pl blah extract/
...
$ cd extract

$ find .|grep Zlib
./IO/Compress/Zlib
./IO/Compress/Zlib/Extra.pm
./Compress/Zlib.pm
./Compress/Raw/Zlib.pm
./auto/Compress/Raw/Zlib
./auto/Compress/Raw/Zlib/autosplit.ix
./auto/Compress/Raw/Zlib/Zlib.so
./auto/Compress/Zlib
./auto/Compress/Zlib/autosplit.ix

$ grep VERSION ./Compress/Raw/Zlib.pm
$VERSION = &#39;2.024&#39;;

$ md5sum ./auto/Compress/Raw/Zlib/Zlib.so
04c2dc8c8fe0ac9606ef29aad5c959d4
# This matches the md5sum of version 2.024 on the build machine.


So it seems like the executable PAR file contains both .pm and .so of 
version 2.024, yet when executed is still mysteriously trying to load 
the .so from the target machine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;11&nbsp;21:28:56&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I note that b3cf5856 = Compress/Raw/Zlib.pm
and ce08cac2 = auto/Compress/Raw/Zlib/Zlib.so

I tried &#39;strace&#39;ing the executable, and noticed:

644: stat64&#40;&#34;/tmp/par-tobyc/cache-
038134f668a1529182c945464ecd15936dab8d95/ce08cac2.so&#34;, {st_mode=S_IFREG|0755, 
st_size=331208, ...}&#41; = 0
&#40;no corresponding open&#40;&#41; that I see&#41;

1018: stat64&#40;&#34;/tmp/par-tobyc/cache-
038134f668a1529182c945464ecd15936dab8d95/b3cf5856.pm&#34;, {st_mode=S_IFREG|0644, 
st_size=15076, ...}&#41; = 0

1019: open&#40;&#34;/tmp/par-tobyc/cache-
038134f668a1529182c945464ecd15936dab8d95/b3cf5856.pm&#34;, O_RDONLY|O_LARGEFILE&#41; = 7

1062: stat64&#40;&#34;CODE&#40;0x9795f00&#41;/auto/Compress/Raw/Zlib&#34;, 0x968f0c0&#41; = -1 ENOENT &#40;No 
such file or directory&#41;

1069: stat64&#40;&#34;/usr/lib/perl/5.10/auto/Compress/Raw/Zlib/Zlib.so&#34;, 
{st_mode=S_IFREG|0644, st_size=104100, ...}&#41; = 0

1070: stat64&#40;&#34;/usr/lib/perl/5.10/auto/Compress/Raw/Zlib/Zlib.bs&#34;, 0x968f0c0&#41; = -1 
ENOENT &#40;No such file or directory&#41;

1071: open&#40;&#34;/usr/lib/perl/5.10/auto/Compress/Raw/Zlib/Zlib.so&#34;, O_RDONLY&#41; = 7


I attach the full strace.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> strace.txt</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;12&nbsp;05:41:41&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 11 21:28:56 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I tried &#39;strace&#39;ing the executable, and noticed:
</div>
Yeah, the strace shows that .so&#39;s &#40;but not corresponding .pm&#39;s&#41;
are still searched using the built-in @INC.
This rings a bell, but I can&#39;t pin it yet.

This is Perl 5.10.0, right?
After using extract-embedded.pl on your executable
please post the extracted XSLoader.pm and PAR/Heavy.pm

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;13&nbsp;03:37:38&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Feb 12 05:41:41 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Feb 11 21:28:56 2010, TJC wrote:
<div class="message-stanza open">&gt; &gt; I tried &#39;strace&#39;ing the executable, and noticed:
</div>&gt; 
&gt; Yeah, the strace shows that .so&#39;s &#40;but not corresponding .pm&#39;s&#41;
&gt; are still searched using the built-in @INC.
&gt; This rings a bell, but I can&#39;t pin it yet.
&gt; 
&gt; This is Perl 5.10.0, right?
</div>
Correct.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After using extract-embedded.pl on your executable
&gt; please post the extracted XSLoader.pm and PAR/Heavy.pm
</div>
Attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> XSLoader.pm</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#line 1 &#34;/home/tobyc/perl/lib/i486-linux-gnu-thread-multi/XSLoader.pm&#34;
# Generated from XSLoader.pm.PL &#40;resolved %Config::Config value&#41;

package XSLoader;

$VERSION = &#34;0.10&#34;;

#use strict;

# enable debug/trace messages from DynaLoader perl code
# $dl_debug = $ENV{PERL_DL_DEBUG} || 0 unless defined $dl_debug;

  my $dl_dlext = &#39;so&#39;;

package DynaLoader;

# No prizes for guessing why we don&#39;t say &#39;bootstrap DynaLoader;&#39; here.
# NOTE: All dl_*.xs &#40;including dl_none.xs&#41; define a dl_error&#40;&#41; XSUB
boot_DynaLoader&#40;&#39;DynaLoader&#39;&#41; if defined&#40;&#38;boot_DynaLoader&#41; &#38;&#38;
                                !defined&#40;&#38;dl_error&#41;;
package XSLoader;

sub load {
    package DynaLoader;

    die q{XSLoader::load&#40;&#39;Your::Module&#39;, $Your::Module::VERSION&#41;} unless @_;

    my&#40;$module&#41; = $_[0];

    # work with static linking too
    my $boots = &#34;$module\::bootstrap&#34;;
    goto &#38;$boots if defined &#38;$boots;

    goto retry;

    my @modparts = split&#40;/::/,$module&#41;;
    my $modfname = $modparts[-1];

    my $modpname = join&#40;&#39;/&#39;,@modparts&#41;;
    my $modlibname = &#40;caller&#40;&#41;&#41;[1];
    my $c = @modparts;
    $modlibname =~ s,[\\/][^\\/]+$,, while $c--;	# Q&#38;D basename
    my $file = &#34;$modlibname/auto/$modpname/$modfname.$dl_dlext&#34;;

#   print STDERR &#34;XSLoader::load for $module &#40;$file&#41;\n&#34; if $dl_debug;

    my $bs = $file;
    $bs =~ s/&#40;\.\w+&#41;?&#40;;\d*&#41;?$/\.bs/; # look for .bs &#39;beside&#39; the library

    if &#40;-s $bs&#41; { # only read file if it&#39;s not empty
#       print STDERR &#34;BS: $bs &#40;$^O, $dlsrc&#41;\n&#34; if $dl_debug;
        eval { do $bs; };
        warn &#34;$bs: $@\n&#34; if $@;
    }

    goto retry if not -f $file or -s $bs;

    my $bootname = &#34;boot_$module&#34;;
    $bootname =~ s/\W/_/g;
    @DynaLoader::dl_require_symbols = &#40;$bootname&#41;;

    my $boot_symbol_ref;

    # Many dynamic extension loading problems will appear to come from
    # this section of code: XYZ failed at line 123 of DynaLoader.pm.
    # Often these errors are actually occurring in the initialisation
    # C code of the extension XS file. Perl reports the error as being
    # in this perl code simply because this was the last perl code
    # it executed.

    my $libref = dl_load_file&#40;$file, 0&#41; or do { 
        require Carp;
        Carp::croak&#40;&#34;Can&#39;t load &#39;$file&#39; for module $module: &#34; . dl_error&#40;&#41;&#41;;
    };
    push&#40;@DynaLoader::dl_librefs,$libref&#41;;  # record loaded object

    my @unresolved = dl_undef_symbols&#40;&#41;;
    if &#40;@unresolved&#41; {
        require Carp;
        Carp::carp&#40;&#34;Undefined symbols present after loading $file: @unresolved\n&#34;&#41;;
    }

    $boot_symbol_ref = dl_find_symbol&#40;$libref, $bootname&#41; or do {
        require Carp;
        Carp::croak&#40;&#34;Can&#39;t find &#39;$bootname&#39; symbol in $file\n&#34;&#41;;
    };

    push&#40;@DynaLoader::dl_modules, $module&#41;; # record loaded module

  boot:
    my $xs = dl_install_xsub&#40;$boots, $boot_symbol_ref, $file&#41;;

    # See comment block above
    push&#40;@DynaLoader::dl_shared_objects, $file&#41;; # record files loaded
    return &#38;$xs&#40;@_&#41;;

  retry:
    my $bootstrap_inherit = DynaLoader-&gt;can&#40;&#39;bootstrap_inherit&#39;&#41; || 
                            XSLoader-&gt;can&#40;&#39;bootstrap_inherit&#39;&#41;;
    goto &#38;$bootstrap_inherit;
}

# Versions of DynaLoader prior to 5.6.0 don&#39;t have this function.
sub bootstrap_inherit {
    package DynaLoader;

    my $module = $_[0];
    local *DynaLoader::isa = *{&#34;$module\::ISA&#34;};
    local @DynaLoader::isa = &#40;@DynaLoader::isa, &#39;DynaLoader&#39;&#41;;
    # Cannot goto due to delocalization.  Will report errors on a wrong line?
    require DynaLoader;
    DynaLoader::bootstrap&#40;@_&#41;;
}

1;


__END__

#line 359
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Heavy.pm</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#line 1 &#34;/home/tobyc/perl/lib/PAR/Heavy.pm&#34;
package PAR::Heavy;
$PAR::Heavy::VERSION = &#39;0.11&#39;;

#line 17

########################################################################
# Dynamic inclusion of XS modules

my &#40;$bootstrap, $dl_findfile&#41;;  # Caches for code references
my &#40;$dlext&#41;;                    # Cache for $Config{dlext}
my &#40;$cache_key&#41;;                # The current file to find
my $is_insensitive_fs = &#40;
    -s $0
        and &#40;-s lc&#40;$0&#41; || -1&#41; == &#40;-s uc&#40;$0&#41; || -1&#41;
        and &#40;-s lc&#40;$0&#41; || -1&#41; == -s $0
&#41;;

# Adds pre-hooks to Dynaloader&#39;s key methods
sub _init_dynaloader {
    return if $bootstrap;
    return unless eval { require DynaLoader; DynaLoader::dl_findfile&#40;&#41;; 1 };

    $bootstrap   = \&#38;DynaLoader::bootstrap;
    $dl_findfile = \&#38;DynaLoader::dl_findfile;

    local $^W;
    *{&#39;DynaLoader::dl_expandspec&#39;}  = sub { return };
    *{&#39;DynaLoader::bootstrap&#39;}      = \&#38;_bootstrap;
    *{&#39;DynaLoader::dl_findfile&#39;}    = \&#38;_dl_findfile;
}

# Return the cached location of .dll inside PAR first, if possible.
sub _dl_findfile {
    return $FullCache{$cache_key} if exists $FullCache{$cache_key};
    if &#40;$is_insensitive_fs&#41; {
        # We have a case-insensitive filesystem...
        my &#40;$key&#41; = grep { lc&#40;$_&#41; eq lc&#40;$cache_key&#41; } keys %FullCache;
        return $FullCache{$key} if defined $key;
    }
    return $dl_findfile-&gt;&#40;@_&#41;;
}

# Find and extract .dll from PAR files for a given dynamic module.
sub _bootstrap {
    my &#40;@args&#41; = @_;
    my &#40;$module&#41; = $args[0] or return;

    my @modparts = split&#40;/::/, $module&#41;;
    my $modfname = $modparts[-1];

    $modfname = &#38;DynaLoader::mod2fname&#40;\@modparts&#41;
        if defined &#38;DynaLoader::mod2fname;

    if &#40;&#40;$^O eq &#39;NetWare&#39;&#41; &#38;&#38; &#40;length&#40;$modfname&#41; &gt; 8&#41;&#41; {
        $modfname = substr&#40;$modfname, 0, 8&#41;;
    }

    # XXX: Multi-platform .dll support in PARs needs better than $Config.
    # FIXME: Config is always loaded by PAR.pm!
    $dlext ||= do {
        require Config;
        &#40;defined %Config::Config&#41; ? $Config::Config{dlext} : &#39;&#39;;
    };

    my $modpname = join&#40;&#40;&#40;$^O eq &#39;MacOS&#39;&#41; ? &#39;:&#39; : &#39;/&#39;&#41;, @modparts&#41;;
    my $file = $cache_key = &#34;auto/$modpname/$modfname.$dlext&#34;;

    if &#40;$FullCache{$file}&#41; {
        # TODO: understand
        local $DynaLoader::do_expand = 1;
        return $bootstrap-&gt;&#40;@args&#41;;
    }

    my $member;
    # First, try to find things in the peferentially loaded PARs:
    $member = PAR::_find_par_internals&#40;[@PAR::PAR_INC], undef, $file, 1&#41;
      if defined &#38;PAR::_find_par_internals;

    # If that failed to find the dll, let DynaLoader &#40;try or&#41; throw an error
    unless &#40;$member&#41; { 
        my $filename = eval { $bootstrap-&gt;&#40;@args&#41; };
        return $filename if not $@ and defined $filename;

        # Now try the fallback pars
        $member = PAR::_find_par_internals&#40;[@PAR::PAR_INC_LAST], undef, $file, 1&#41;
          if defined &#38;PAR::_find_par_internals;

        # If that fails, let dynaloader have another go JUST to throw an error
        # While this may seem wasteful, nothing really matters once we fail to
        # load shared libraries!
        unless &#40;$member&#41; { 
            return $bootstrap-&gt;&#40;@args&#41;;
        }
    }

    $FullCache{$file} = _dl_extract&#40;$member, $file&#41;;

    # Now extract all associated shared objs in the same auto/ dir
    # XXX: shouldn&#39;t this also set $FullCache{...} for those files?
    my $first = $member-&gt;fileName;
    my $path_pattern = $first;
    $path_pattern =~ s{[^/]*$}{};
    if &#40;$PAR::LastAccessedPAR&#41; {
        foreach my $member &#40; $PAR::LastAccessedPAR-&gt;members &#41; {
            next if $member-&gt;isDirectory;

            my $name = $member-&gt;fileName;
            next if $name eq $first;
            next unless $name =~ m{^/?\Q$path_pattern\E\/[^/]*\.\Q$dlext\E[^/]*$};
            $name =~ s{.*/}{};
            _dl_extract&#40;$member, $file, $name&#41;;
        }
    }

    local $DynaLoader::do_expand = 1;
    return $bootstrap-&gt;&#40;@args&#41;;
}

sub _dl_extract {
    my &#40;$member, $file, $name&#41; = @_;

    require File::Spec;
    require File::Temp;

    my &#40;$fh, $filename&#41;;

    # fix borked tempdir from earlier versions
    if &#40;$ENV{PAR_TEMP} and -e $ENV{PAR_TEMP} and !-d $ENV{PAR_TEMP}&#41; {
        unlink&#40;$ENV{PAR_TEMP}&#41;;
        mkdir&#40;$ENV{PAR_TEMP}, 0755&#41;;
    }

    if &#40;$ENV{PAR_CLEAN} and !$name&#41; {
        &#40;$fh, $filename&#41; = File::Temp::tempfile&#40;
            DIR         =&gt; &#40;$ENV{PAR_TEMP} || File::Spec-&gt;tmpdir&#41;,
            SUFFIX      =&gt; &#34;.$dlext&#34;,
            UNLINK      =&gt; &#40;$^O ne &#39;MSWin32&#39; and $^O !~ /hpux/&#41;,
        &#41;;
        &#40;$filename&#41; = $filename =~ /^&#40;[\x20-\xff]+&#41;$/;
    }
    else {
        $filename = File::Spec-&gt;catfile&#40;
            &#40;$ENV{PAR_TEMP} || File::Spec-&gt;tmpdir&#41;,
            &#40;$name || &#40;$member-&gt;crc32String . &#34;.$dlext&#34;&#41;&#41;
        &#41;;
        &#40;$filename&#41; = $filename =~ /^&#40;[\x20-\xff]+&#41;$/;

        open $fh, &#39;&gt;&#39;, $filename or die $!
            unless -r $filename and -e _
                and -s _ == $member-&gt;uncompressedSize;
    }

    if &#40;$fh&#41; {
        binmode&#40;$fh&#41;;
        $member-&gt;extractToFileHandle&#40;$fh&#41;;
        close $fh;
        chmod 0755, $filename;
    }

    return $filename;
}

1;

#line 205
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;12:44:51&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 13 03:37:38 2010, TJC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; This is Perl 5.10.0, right?
</div>&gt; 
&gt; Correct.
</div>
I finally remembered what&#39;s going on :&#40;

PAR::Heavy interposes the loading of shared libraries
by tricking DynaLoader into always calling DynaLoader::dl_expandspec
&#40;which PAR::Heavy has sneakily replaced by its own version&#41;.
DynaLoader usually first tries to locate the shared library
by explicity checking along @INC; only if this fails it
will call dl_expandspec.&#41;
Unfortunately this trick &#40;setting $DynaLoader::do_expand = 1&#41;
doesn&#39;t work in Perl 5.10.0 &#40;look into DynaLoader.pm, $do_expand
is defined, but nowhere used&#41;. It works in all versions before
and after. 

So this explains what you see: the .pm part of a XS based module
is correctly resolved from the packed executable, but the
corresponding shared library is resolved from the target system.
If the two happen to be of different versions, Perl aborts.

Looking at the versions of DynaLoader.pm in Perl 5.10.0 and
5.10.1 &#40;on Linux&#41; I think that you may savely replace the
former with the latter. If you do that remember to rebuild PAR::Packer 
afterwards so that packed executables will have the &#34;fixed&#34; 
DynaLoader.pm embedded.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;09&nbsp;01:38:21&nbsp;2010</span>
    <span class="description">TJC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-based modules use system XS modules over included modules &#40;on
 Perl 5.10.0&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 14 12:44:51 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Feb 13 03:37:38 2010, TJC wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; This is Perl 5.10.0, right?
</div>&gt; &gt; 
&gt; &gt; Correct.
</div>&gt; 
&gt; I finally remembered what&#39;s going on :&#40;
&gt; 
&gt; PAR::Heavy interposes the loading of shared libraries
&gt; by tricking DynaLoader into always calling DynaLoader::dl_expandspec
&gt; &#40;which PAR::Heavy has sneakily replaced by its own version&#41;.
&gt; DynaLoader usually first tries to locate the shared library
&gt; by explicity checking along @INC; only if this fails it
&gt; will call dl_expandspec.&#41;
&gt; Unfortunately this trick &#40;setting $DynaLoader::do_expand = 1&#41;
&gt; doesn&#39;t work in Perl 5.10.0 &#40;look into DynaLoader.pm, $do_expand
&gt; is defined, but nowhere used&#41;. It works in all versions before
&gt; and after. 
&gt; 
&gt; So this explains what you see: the .pm part of a XS based module
&gt; is correctly resolved from the packed executable, but the
&gt; corresponding shared library is resolved from the target system.
&gt; If the two happen to be of different versions, Perl aborts.
&gt; 
&gt; Looking at the versions of DynaLoader.pm in Perl 5.10.0 and
&gt; 5.10.1 &#40;on Linux&#41; I think that you may savely replace the
&gt; former with the latter. If you do that remember to rebuild PAR::Packer 
&gt; afterwards so that packed executables will have the &#34;fixed&#34; 
&gt; DynaLoader.pm embedded.
</div>

Thanks for your help on this.

Rather than backport Dynaloader to 5.10.0, I ended up making my own 
installation of 5.10.1 + modules; I was considering using it to build 
PARs but then decided to ship the entire tree with the application. It 
blows the size out quite a bit, but it&#39;s a lot simpler than trying to 
get Module::ScanDeps to locate everything.

Cheers,
Toby
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;09&nbsp;08:50:15&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 9 Mar 2010 13:49:17 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;07:33:53&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 10 Mar 2010 09:46:09 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;08:15:11&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 11 Mar 2010 12:14:10 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;12&nbsp;08:47:27&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 12 Mar 2010 13:46:30 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;13&nbsp;11:55:18&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 13 Mar 2010 16:54:20 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;14&nbsp;08:28:35&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 14 Mar 2010 12:27:36 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;16&nbsp;10:14:03&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 16 Mar 2010 14:12:43 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;17&nbsp;08:08:33&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 17 Mar 2010 12:07:53 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;18&nbsp;04:27:17&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 18 Mar 2010 08:26:17 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;18&nbsp;16:28:12&nbsp;2010</span>
    <span class="description">announcement [...] support.netzero.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: Re: Re: Re: Re: Re: Re: Re: Re: Re: [rt.cpan.org #42986] PAR-based modules use system XS modules over included modules &#40;on  Perl 5.10.0&#41;  --&gt; Ref #[1ML0X9862w03y4x]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> 18 Mar 2010 20:27:10 -0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> announcement [...] support.netzero.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello,

Thank you for contacting NetZero.

This is an automated reply and no further response will be sent.  Please do not reply to this email. 

If you are looking for help here are some useful links:

 * Online NetZero Help Center: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support">http://www.netzero.com/support</a></span>
 * Online Billing and Account Center: <span class="clickylink"><a target="new" rel="nofollow" href="https://account.netzero.net">https://account.netzero.net</a></span>
 * Reset/Retrieve your Password: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/resetpassword">http://my.netzero.com/s/resetpassword</a></span>
 * Lookup Access Numbers in your area: <span class="clickylink"><a target="new" rel="nofollow" href="http://my.netzero.com/s/numbers">http://my.netzero.com/s/numbers</a></span>
 * Order/Download NetZero Software: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.netzero.com/support/start/download-index.html">http://www.netzero.com/support/start/download-index.html</a></span>

Thank you for choosing NetZero.

Sincerely,

NetZero Member Services
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;03:04:13&nbsp;2012</span>
    <span class="description">RSCHUPP [...] cpan.org -  Queue changed from PAR to PAR-Packer</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;03:05:01&nbsp;2012</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Wrong queue; already solved 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;03:05:03&nbsp;2012</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
