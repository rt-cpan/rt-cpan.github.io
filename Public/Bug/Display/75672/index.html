<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75672 for Params-Util: Loading Params::Util on Cygwin perl breaks `` </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75672 for Params-Util: Loading Params::Util on Cygwin perl breaks `` </h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Params-Util">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Params-Util">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Params-Util">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Params-Util">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Params-Util">Params-Util CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75672</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Params-Util">Params-Util</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-24654-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
1.06</li>
<li>
0.35</li>
<li>
0.36</li>
<li>
0.37</li>
<li>
0.38</li>
<li>
1.00</li>
<li>
1.01</li>
<li>
1.03</li>
<li>
1.04</li>
<li>
1.05</li>
</ul>
    </td>
  </tr>
  <tr id="CF-24655-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.33    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Removing-cygwin-XS-workaround-in-Makefile.PL.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1369444/727060/0001-Removing-cygwin-XS-workaround-in-Makefile.PL.patch">
Wed May 28 16:26:23 2014 (846b) by paul [...] liekut.de
</a>
</font></li>
</ul>


cygwin_backquote_bug.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1369444/727059/cygwin_backquote_bug.pl">
Wed May 28 16:26:23 2014 (70b) by paul [...] liekut.de
</a>
</font></li>
</ul>


params_util_test_results.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1369444/727062/params_util_test_results.log">
Wed May 28 16:26:23 2014 (210b) by paul [...] liekut.de
</a>
</font></li>
</ul>


test_param_utils_versions.sh<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1369444/727061/test_param_utils_versions.sh">
Wed May 28 16:26:23 2014 (637b) by paul [...] liekut.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=75672">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048503" href="/Public/Bug/Display.html?id=75672#txn-1048503">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;11:41:37&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Loading Params::Util on Cygwin perl breaks ``</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048503/548027/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548027">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza">The presence of this bug is somewhat widespread , and affects anything using Dist::CheckConflicts , which includes Package::Stash, which is a dependency of Moose. <br>

<br>

<p>It makes any such packages stall during installation during Makefile.PL&nbsp;with a fork-death:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 [main] perl 4280 child_copy: loaded dll data write copy failed, 0x58004000..0x58004208, done 0, windows pid 6640, Win32 error 487<br>

5011718 [main] perl 4280 child_copy: loaded dll data write copy failed, 0x58004000..0x58004208, done 0, windows pid 6640, Win32 error 487</p>

<p>is repeatedly printed, and configure eventually fails as a result. <br>

<br>

Replicating the bug is quite simple:<br>

<br>

use strict;<br>

use warnings;<br>

<br>

require Params::Util;<br>

<br>

my $var = `echo 1`;</p>

<p>&nbsp;</p>

<p>This will exhibit the failure for me on both cygwin's 5.14.1, and a freshly brewed perl from blead. <br>

<br>

And simply removing the Params::Util require/use from code solves the problem. </p>

<p>(&nbsp;And if Params::Util is included *anywhere*&nbsp;in *any *&nbsp;code prior to ``, the `` seems to become broken as a result )<br>

<br>

<br>

&nbsp;</p>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048532" href="/Public/Bug/Display.html?id=75672#txn-1048532">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:27:09&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048532/548047/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548047">with headers</a>
<br />
<span class="downloadcontenttype">text/html 816b</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>Further inspection indicates this happens on every XS version of Params::Util, and by downgrading to Params::Util 0.33 I can get things to work again.</p>

<p>&nbsp;</p>

<p>But when you *do*&nbsp;downgrade, you have to make sure you clear out the old version of Params/Util.pm from @INC</p>

<p>&nbsp;</p>

<p>find /home/Kent/perl5/perlbrew/perls/blead-2012-03-11-03-19-13-13-00-B/lib/ | grep -i &quot;Params/Util.pm&quot;<br>

/home/Kent/perl5/perlbrew/perls/blead-2012-03-11-03-19-13-13-00-B/lib/site_perl/5.15.8/cygwin-thread-multi-64int/Params/Util.pm &lt;-- old 0.37 <br>

/home/Kent/perl5/perlbrew/perls/blead-2012-03-11-03-19-13-13-00-B/lib/site_perl/5.15.8/Params/Util.pm&nbsp; &lt;--- freshly installed 0.33 </p>

<p>And perl takes 0.37 over the 0.33 one due to ordering in @INC :/</p>

<p>&nbsp;</p>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048535" href="/Public/Bug/Display.html?id=75672#txn-1048535">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:27:10&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048536" href="/Public/Bug/Display.html?id=75672#txn-1048536">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Fixed in 0.33 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048537" href="/Public/Bug/Display.html?id=75672#txn-1048537">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 0.35 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048538" href="/Public/Bug/Display.html?id=75672#txn-1048538">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 0.36 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048539" href="/Public/Bug/Display.html?id=75672#txn-1048539">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 0.37 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048540" href="/Public/Bug/Display.html?id=75672#txn-1048540">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 0.38 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048541" href="/Public/Bug/Display.html?id=75672#txn-1048541">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 1.00 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048542" href="/Public/Bug/Display.html?id=75672#txn-1048542">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 1.01 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048543" href="/Public/Bug/Display.html?id=75672#txn-1048543">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 1.03 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048544" href="/Public/Bug/Display.html?id=75672#txn-1048544">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 1.04 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048545" href="/Public/Bug/Display.html?id=75672#txn-1048545">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;12:28:03&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Broken in 1.05 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048574" href="/Public/Bug/Display.html?id=75672#txn-1048574">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;13:06:06&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048574/548074/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548074">with headers</a>
<br />
<span class="downloadcontenttype">text/html 364b</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>I'm still having incredible difficulty tracking down exactly *why*&nbsp;this bug occurs.</p>

<p>I&nbsp;can't see anything obvious in the Xs that would change fork behaviour, but anyway,  for a temp solution, just rm site_perl/5.15.8/cygwin-thread-multi-64int/auto/Params/Util/Util.{dll,bs}</p>

<p>Then it falls back to pure-perl and works without a problem.</p>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048721" href="/Public/Bug/Display.html?id=75672#txn-1048721">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;19:41:52&nbsp;2012</span>
    <span class="description">adamk [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048721/548171/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548171">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 21b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Disabled XS on cygwin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048759" href="/Public/Bug/Display.html?id=75672#txn-1048759">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;22:56:49&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Loading Params::Util on Cygwin&#40;1.7.11&#41; perl breaks ``</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048759/548198/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548198">with headers</a>
<br />
<span class="downloadcontenttype">text/html 888b</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>Thanks for the quick bug-fix.</p>

<p><br>

After a *lot*&nbsp;of debugging, the real culprit was finally unmasked:&nbsp;</p>

<p><br>

<span class="clickylink"><a target="new" rel="nofollow" href="http://cygwin.com/ml/cygwin/2012-03/msg00161.html">http://cygwin.com/ml/cygwin/2012-03/msg00161.html</a></span></p>

<p>Dynamic Loading is completely broken on Cygwin 1.7.11, and Params::Utils was simply the first thing that came into my dependency tree that triggered that problem. <br>

&nbsp;</p>

<p>( Its weird, because its not nessecarily caused by dynamic loading, often it just works, for example, you could load Class::Load::XS&nbsp;and List::Utils , or Package::Stash::XS and List::Utils,&nbsp; that would be fine, but loading Class::Load::XS and Package::Stash::XS&nbsp;together caused an explosion )<br>

<br>

It should be safe to use XS&nbsp; again as long as &quot;uname -r &quot;&nbsp;doesn't =~ /^1.7.11\(0\.260/ <br>

<br>

Sorry for any hassle this added. Blame Cygwin. =)<br>

&nbsp;</p>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1049677" href="/Public/Bug/Display.html?id=75672#txn-1049677">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;03:11:02&nbsp;2012</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75672] Loading Params::Util on Cygwin&#40;1.7.11&#41; perl breaks ``</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Mar 2012 18:10:54 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Params-Util [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1049677/548763/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548763">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">If the entirety of Perl is fucked, I&#39;m not sure we should do anything
special at all.

Adam

On 11 March 2012 14:56, Kent Fredric via RT &lt;bug-Params-Util@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Params-Util
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75672">https://rt.cpan.org/Ticket/Display.html?id=75672</a></span> &gt;
&gt;
&gt; Thanks for the quick bug-fix.
&gt;
&gt;
&gt; After a *lot* of debugging, the real culprit was finally unmasked:
&gt;
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cygwin.com/ml/cygwin/2012-03/msg00161.html">http://cygwin.com/ml/cygwin/2012-03/msg00161.html</a></span>
&gt;
&gt; Dynamic Loading is completely broken on Cygwin 1.7.11, and Params::Utils was
&gt; simply the first thing that came into my dependency tree that triggered that
&gt; problem.
&gt;
&gt; &#40; Its weird, because its not nessecarily caused by dynamic loading, often it
&gt; just works, for example, you could load Class::Load::XS and List::Utils , or
&gt; Package::Stash::XS and List::Utils, that would be fine, but loading
&gt; Class::Load::XS and Package::Stash::XS together caused an explosion &#41;
&gt;
&gt; It should be safe to use XS again as long as &#34;uname -r &#34; doesn&#39;t =~
&gt; /^1.7.11\&#40;0\.260/
&gt;
&gt; Sorry for any hassle this added. Blame Cygwin. =&#41;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1281853" href="/Public/Bug/Display.html?id=75672#txn-1281853">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;31&nbsp;19:08:05&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1281853/679375/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/679375">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 258b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2012-03-13 00:11:02, adam@ali.as wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If the entirety of Perl is fucked, I&#39;m not sure we should do anything
&gt; special at all.
</div>
What can we do to unfuck things?  Is this a known issue to p5p?  &#40;I&#39;d report it, except I wouldn&#39;t know how to describe it.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1281871" href="/Public/Bug/Display.html?id=75672#txn-1281871">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;31&nbsp;20:58:04&nbsp;2013</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1281871/679387/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/679387">with headers</a>
<br />
<span class="downloadcontenttype">text/html 844b</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>
	This bug is really tending towards being archaelogy now.</p>

<p>
	It seems that at the time, a specific version of cygwin was broken, in ways that was later fixed on a later cygwin release, if memory serves correctly.</p>

<p>
	&nbsp;</p>

<p>
	Given that was getting on 18 months ago, and those versions of cygwin may be dead stale already, bringing XS back should be safe.</p>

<p>
	&nbsp;</p>

<p>
	You **may** just want to put a check in Makefile.PL that says &quot;Sorry, your cygwin is a version that is fucked with XS things, please get an unfucked cygwin to continue playing&quot;.</p>

<p>
	&nbsp;</p>

<p>
	But I&#39;m not really in a position to help further, because the install I was triggering this bug on is <em>LONG</em> dead, and I don&#39;t even believe its possible to coerce cygwin into installing things that old still.</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369444" href="/Public/Bug/Display.html?id=75672#txn-1369444">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;28&nbsp;16:26:23&nbsp;2014</span>
    <span class="description">paul [...] liekut.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] liekut.de</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369444/727058/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727058">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 951b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Given that was getting on 18 months ago, and those versions of cygwin
&gt; may be
&gt; dead stale already, bringing XS back should be safe.
</div>
It seems that XS is working again on cygwin.  Using cygwin setup version 2.850 &#40;32 bit&#41; I tested versions 0.35 through 1.07 &#40;skipping the _DEV releases&#41;[1] and each of them built without problem and ran the simple script mentioned by KENTNL at the beginning of the ticket.  The exact process is described in the attached script test_param_utils_versions.sh.  The script to reproduce the backquote bug is also attached, as well as the test output for each version of Param::Utils.

A fork of Params::Util version 1.07 exists at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/paultcochrane/Params-Util/tree/ptc_v1.07">https://github.com/paultcochrane/Params-Util/tree/ptc_v1.07</a></span>.  A patch removing the cygwin workaround for XS is also attached to this ticket.

Hope this helps!

Cheers,

Paul

[1] version 1.07 had to be tested by hand as the section ignoring cygwin had to be commented out in Makefile.PL.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> cygwin_backquote_bug.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369444/727059/cygwin_backquote_bug.pl">Download cygwin_backquote_bug.pl</a><br />
<span class="downloadcontenttype">text/x-perl 70b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use warnings;

require Params::Util;

my $var = `echo 1`;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Removing-cygwin-XS-workaround-in-Makefile.PL.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369444/727060/0001-Removing-cygwin-XS-workaround-in-Makefile.PL.patch">Download 0001-Removing-cygwin-XS-workaround-in-Makefile.PL.patch</a><br />
<span class="downloadcontenttype">text/x-diff 846b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">From ebd6d6519c82ca14761199c48f0927a9c7a9fee9 Mon Sep 17 00:00:00 2001
From: Paul Cochrane &lt;paul@liekut.de&gt;
Date: Wed, 28 May 2014 22:07:47 +0200
Subject: [PATCH 1/2] Removing cygwin XS workaround in Makefile.PL

The issue mentioned in RT#75672 seems to have resolved itself via
updates to cygwin.
---
 Makefile.PL |    5 -----
 1 files changed, 0 insertions&#40;+&#41;, 5 deletions&#40;-&#41;

diff --git a/Makefile.PL b/Makefile.PL
index 8731ae8..fc0ce04 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -14,11 +14,6 @@ foreach &#40; @ARGV &#41; {
 unless &#40; defined $make_xs &#41; {
 	$make_xs = can_xs&#40;&#41;;
 }
-if &#40; $^O eq &#39;cygwin&#39; and $make_xs == 1 and not /^-xs/ &#41; {
-	# Cygwin goes bonkers breaking `` if using Params::Util XS version
-	# for no apparent reason.
-	$make_xs = 0;
-}
 
 # Generate the non-XS tests if we are making the XS version
 my @tests = qw{
-- 
1.7.9

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test_param_utils_versions.sh</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369444/727061/test_param_utils_versions.sh">Download test_param_utils_versions.sh</a><br />
<span class="downloadcontenttype">application/octet-stream 637b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> params_util_test_results.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369444/727062/params_util_test_results.log">Download params_util_test_results.log</a><br />
<span class="downloadcontenttype">application/octet-stream 210b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369453" href="/Public/Bug/Display.html?id=75672#txn-1369453">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;28&nbsp;16:36:50&nbsp;2014</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369453/727070/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727070">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 229b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I currently work on a List::MoreUtils stable release. Once it&#39;s out, I care for that. It seems that it&#39;s reasonable to develop a test whether an XS module is working properly. I think about it and discuss it with some developers.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369653" href="/Public/Bug/Display.html?id=75672#txn-1369653">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;29&nbsp;09:53:22&nbsp;2014</span>
    <span class="description">paul [...] liekut.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] liekut.de</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369653/727198/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/727198">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 656b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 28 16:36:50 2014, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I currently work on a List::MoreUtils stable release. Once it&#39;s out, I
&gt; care for that. 
</div>
No problems.  Just wanted to share the results I obtained with the current cygwin.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It seems that it&#39;s reasonable to develop a test whether
&gt; an XS module is working properly.
</div>
I agree.  When I was working on this ticket I couldn&#39;t come up with a test case since the version of cygwin which throws the problem no longer exists and thus it&#39;s difficult to verify that a test actually exercises the problem.  Perhaps there&#39;s a more general issue that one can test with XS which is not restricted to cygwin?

Cheers,

Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1374618" href="/Public/Bug/Display.html?id=75672#txn-1374618">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;11&nbsp;17:06:28&nbsp;2014</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1913685" href="/Public/Bug/Display.html?id=75672#txn-1913685">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;01:40:28&nbsp;2020</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1913685/1024991/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1024991">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 70b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Next release contains new tooling. Let&#39;s see how it behaves on cygwin.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1913688" href="/Public/Bug/Display.html?id=75672#txn-1913688">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;01&nbsp;01:40:29&nbsp;2020</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.092211</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
