<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #51593 for Apache2-AuthCookieDBI: Protecting DOCUMENT_ROOT results in repeated showing of login form</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #51593 for Apache2-AuthCookieDBI: Protecting DOCUMENT_ROOT results in repeated showing of login form</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Apache2-AuthCookieDBI/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Apache2-AuthCookieDBI">Apache2-AuthCookieDBI CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">51593</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1.3 hours (80 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Apache2-AuthCookieDBI/Active/">Apache2-AuthCookieDBI</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">matisse [...] spamcop.net
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
patrick.bo [...] laposte.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-2338-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.05    </td>
  </tr>
  <tr id="CF-2339-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.13    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;04:14:49&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SSL and authCookieDBI</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, good morning

I use &#34;Apache2::AuthCookieDBI&#34; module &#40;version 2.05&#41; with OpenSuSE 11. 
This intranet server works well since many years.
The module controls access to subdirectory with success.

Now, due to some important information, I change Apache&#39;s 
configuration. The httpS server &#40;port 443&#41; is enable and port 80 is 
disabled.

It&#39;s continue to work if the module controls the access to 
a &#34;subdirectory&#34;.

But there is no access &#40;the login page is displayed again and again&#41; 
when the module controls the access to the &#34;DocumentRoot&#34;

Take a look on the attached files, it&#39;s work. But when I change the 
parameter &#34;Directory&#34; in authcookiedbi.conf to  &#34;/srv/www/htdocs&#34;, the 
access is impossible.

I do not know what to do, it can be a huge mistake on my part but I do 
not see it.

Thank you in advance for your help

Regards
Patrick
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> vhost-ssl.conf</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&lt;IfDefine SSL&gt;
&lt;IfDefine !NOSSL&gt;
## SSL Virtual Host Context
&lt;VirtualHost _default_:443&gt;
	#  General setup for the virtual host
	DocumentRoot &#34;/srv/www/htdocs&#34;
	ServerName 192.168.0.99
	#ServerAdmin webmaster@example.com
	ErrorLog /var/log/apache2/ssl_error_log
	TransferLog /var/log/apache2/ssl_access_log
	#   SSL Engine Switch:
	SSLEngine on
	#   SSL Cipher Suite:
	SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
	#   Server Certificate:
	SSLCertificateFile /etc/apache2/ssl.crt/myServer.crt
	#   Server Private Key:
	SSLCertificateKeyFile /etc/apache2/ssl.key/myServer.key
	#   SSL Engine Options:
	#SSLOptions +FakeBasicAuth +ExportCertData +CompatEnvVars +StrictRequire
	&lt;Files ~ &#34;\.&#40;cgi|pl|shtml|phtml|php3?&#41;$&#34;&gt;
	    SSLOptions +StdEnvVars
	&lt;/Files&gt;
	&lt;Directory &#34;/srv/www/cgi-bin&#34;&gt;
	    SSLOptions +StdEnvVars
	&lt;/Directory&gt;
	#   SSL Protocol Adjustments:
	SetEnvIf User-Agent &#34;.*MSIE.*&#34; \
		 nokeepalive ssl-unclean-shutdown \
		 downgrade-1.0 force-response-1.0
	#   Per-Server Logging:
	CustomLog /var/log/apache2/ssl_request_log ssl_combined
&lt;/VirtualHost&gt;                                  
&lt;/IfDefine&gt;
&lt;/IfDefine&gt;
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> authCookieDBI.conf</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">PerlOptions +GlobalRequest
# In httpd.conf or .htaccess
PerlModule Apache2::AuthCookieDBI
PerlSetVar WhatEverPath /
PerlSetVar WhatEverLoginScript /cgi-perl/login
# Optional, to share tickets between servers.
#PerlSetVar WhatEverDomain .domain.com
# These must be set
PerlSetVar WhatEverDBI_DSN DBI:mysql:authSrv:localhost
PerlSetVar WhatEverDBI_SecretKey &#34;489e5eaad8b3208f9ad792ef4afca73598ae666b0206a9c92ac77e73ce835c&#34;
# These are optional, the module sets sensible defaults.
PerlSetVar WhatEverDBI_User root
PerlSetVar WhatEverDBI_Password pateli
PerlSetVar WhatEverDBI_UsersTable users
PerlSetVar WhatEverDBI_UserField user
PerlSetVar WhatEverDBI_PasswordField password
PerlSetVar WhatEverDBI_CryptType none
PerlSetVar WhatEverDBI_GroupsTable groupes
PerlSetVar WhatEverDBI_GroupField groupe
PerlSetVar WhatEverDBI_GroupUserField user
#PerlSetVar WhatEverDBI_EncryptionType none
PerlSetVar WhatEverDBI_SessionLifetime 00-00-20-00
# Protected by AuthCookieDBI.
&lt;Directory &#34;/srv/www/htdocs/secured&#34;&gt;
	AuthType Apache2::AuthCookieDBI
	# set this to whatever, but the PerlSetVar&#39;s must match it.
	AuthName WhatEver
	PerlAuthenHandler Apache2::AuthCookieDBI-&gt;authenticate
	PerlAuthzHandler Apache2::AuthCookieDBI-&gt;authorize
	#Require valid-user invalidé avec fonction group demandé
	Require valid-user
	# AllowOverride controls what directives may be placed in .htaccess files.
	# It can be &#34;All&#34;, &#34;None&#34;, or any combination of the keywords:
	#   Options FileInfo AuthConfig Limit
	AllowOverride AuthConfig
	# Require group Administrator mis dans .htaccess
	Options +Indexes
&lt;/Directory&gt;
# Login location.
&lt;Files LOGIN&gt;
	AuthType Apache2::AuthCookieDBI
	AuthName WhatEver
	SetHandler perl-script
	PerlHandler Apache2::AuthCookieDBI-&gt;login
&lt;/Files&gt;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;12:40:58&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;12:52:56&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Some questions:

Where are you configuring cgi-perl as a script directory? I expected to
see a ScriptAlias directive somewhere.

Are you sure that the login script itself is not inside /srv/www/htdocs/ ?

In order for AuthCookieDBI to work the login page and handler must not
be password protected.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;12:52:57&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;16:33:33&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar. Nov. 17 12:52:56 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Some questions:
&gt; 
&gt; Where are you configuring cgi-perl as a script directory? I expected 
</div>to
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; see a ScriptAlias directive somewhere.
&gt; 
&gt; Are you sure that the login script itself is not 
</div>inside /srv/www/htdocs/ ?
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; In order for AuthCookieDBI to work the login page and handler must not
&gt; be password protected.
</div>


&#34;cgi-perl&#34; is configured in mod_perl.conf file in /etc/apache2.
The login script and login html page is in /srv/www/cgi-bin.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;23:20:52&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, more questions:

Can you attach the code that generates the login form?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;17&nbsp;23:24:25&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, I meant to ask for both the login code and the login HTML.
I want to see what fields are passed to /LOGIN when a user submits the
login form.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;11:34:39&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar. Nov. 17 23:24:25 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry, I meant to ask for both the login code and the login HTML.
&gt; I want to see what fields are passed to /LOGIN when a user submits the
&gt; login form.
</div>


The both file are saved in /srv/www/cgi-bin.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl
#modil PBo #!/usr/bin/perl -Tw
#
# $Id: login.pl,v 1.3 2003/10/10 22:33:31 jacob Exp $
#
# Display a login form with hidden fields corresponding to the page they
# wanted to see.

use strict;
use 5.004;
use Text::TagTemplate;
#use Apache;

use Apache2::RequestUtil&#40;&#41;;
#use Apache2::RequestRec&#40;&#41;;

my $t = new Text::TagTemplate;
# my $r = Apache-&gt;request&#40;&#41;;
my $r = Apache2::RequestUtil-&gt;request&#40;&#41;;

my $destination;
my $authcookiereason;
if &#40;$r-&gt;prev&#40;&#41;&#41; { # we are called as a subrequest.
	$destination = $r-&gt;prev&#40;&#41;-&gt;args&#40;&#41;
	             ? $r-&gt;prev&#40;&#41;-&gt;uri&#40;&#41;.&#39;?&#39;.$r-&gt;prev-&gt;args&#40;&#41;
	             : $r-&gt;prev&#40;&#41;-&gt;uri&#40;&#41;;
	$authcookiereason = $r-&gt;prev&#40;&#41;-&gt;subprocess_env&#40;&#39;AuthCookieReason&#39;&#41;;
} else {
       my %args = $r-&gt;args;
	$destination = $args{&#39;destination&#39;};
	$authcookiereason = $args{&#39;AuthCookieReason&#39;};
       # modif PBo $t-&gt;add_tag&#40; CREDENTIAL_0 =&gt; $r-&gt;prev-&gt;args&#40;&#39;credential_0&#39;&#41;&#41;;
}
$t-&gt;add_tag&#40;DESTINATION =&gt; $destination&#41;;

unless &#40;$authcookiereason eq &#39;bad_cookie&#39;&#41; {
	#modif PBo $t-&gt;template_file&#40;&#34;../html/login.html&#34;&#41;;
	$t-&gt;template_file&#40;&#34;/srv/www/cgi-bin/login.html&#34;&#41;;
} else {
	#modif PBo $t-&gt;template_file&#40;&#34;../html/login-failed.html&#34;&#41;;
	$t-&gt;template_file&#40;&#34;/srv/www/cgi-bin/login-failed.html&#34;&#41;;
}

#$r-&gt;send_http_header; #modif ne fonctionne pas sans &#34;use Apache2::compat &#40;&#41;;&#34;
$r-&gt;content_type&#40;&#39;text/plain&#39;&#41;; 
print $t-&gt;parse_file unless $r-&gt;header_only;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza">  
    
      
        
          &nbsp;
        
        
          &nbsp; &nbsp;Utilisateur :
          &nbsp; &nbsp;
        
        
          &nbsp; &nbsp;Password :
          &nbsp; &nbsp;
        
        
          
        
        
          &nbsp;
        
      
    
    




</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;12:13:12&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Nov. 18 11:34:39 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Mar. Nov. 17 23:24:25 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; Sorry, I meant to ask for both the login code and the login HTML.
&gt; &gt; I want to see what fields are passed to /LOGIN when a user submits 
</div></div>the
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; login form.
</div>&gt; 
&gt; 
&gt; 
&gt; The both file are saved in /srv/www/cgi-bin.
</div>

If you want I can send a zip file &#40;44kb only&#41; containing the files 
in /srv, /etc/ and /log. Until the problem is not solved, there is 
nothing on the server.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction dates Told even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;13:23:14&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Told changed from Tue Nov 17 23:24:26 2009 to Wed Nov 18 13:23:14 2009</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;13:55:31&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 18 12:13:12 2009, PatrickB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you want I can send a zip file &#40;44kb only&#41; containing the files 
&gt; in /srv, /etc/ and /log. 
</div>
That cannot hurt, so if you don&#39;t mind go ahead and do that.

I won&#39;t get a chance to look at this again until tonight &#40;I am in
California.&#41;

In the meantime you can try setting the AuthCookieDebug value to 2 or
higher and see if more useful information shows in the error log.

AuthCookieDebug 2
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;17:47:41&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Nov. 18 13:55:31 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Nov 18 12:13:12 2009, PatrickB wrote:
<div class="message-stanza open">&gt; &gt; If you want I can send a zip file &#40;44kb only&#41; containing the files 
&gt; &gt; in /srv, /etc/ and /log. 
</div>&gt; 
&gt; That cannot hurt, so if you don&#39;t mind go ahead and do that.
&gt; 
&gt; I won&#39;t get a chance to look at this again until tonight &#40;I am in
&gt; California.&#41;
&gt; 
&gt; In the meantime you can try setting the AuthCookieDebug value to 2 or
&gt; higher and see if more useful information shows in the error log.
&gt; 
&gt; AuthCookieDebug 2
</div>

With AuthCookieDebug = 3, error_log file contains after Apache 
restarting:
[Wed Nov 18 23:35:33 2009] [notice] caught SIGTERM, shutting down
[Wed Nov 18 23:35:39 2009] [notice] Apache/2.2.13 &#40;Linux/SUSE&#41; 
mod_ssl/2.2.13 OpenSSL/0.9.8k PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
configured -- resuming normal operations
[Wed Nov 18 23:36:21 2009] [error] auth_type Apache2::AuthCookieDBI
[Wed Nov 18 23:36:21 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7bc1f9c&#41; authtype=Apache2::AuthCookieDBI
[Wed Nov 18 23:36:21 2009] [error] auth_name WhatEver
[Wed Nov 18 23:36:21 2009] [error] ses_key_cookie 
[Wed Nov 18 23:36:21 2009] [error] uri /
[Wed Nov 18 23:36:30 2009] [error] auth_type Apache2::AuthCookieDBI
[Wed Nov 18 23:36:30 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7bc1f9c&#41; authtype=Apache2::AuthCookieDBI
[Wed Nov 18 23:36:30 2009] [error] auth_name WhatEver
[Wed Nov 18 23:36:30 2009] [error] ses_key_cookie 
[Wed Nov 18 23:36:30 2009] [error] uri /LOGIN
[Wed Nov 18 23:36:30 2009] [error] Converting POST -&gt; GET

Many fields are empty.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;18:03:31&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Nov. 18 17:47:41 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Mer. Nov. 18 13:55:31 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; On Wed Nov 18 12:13:12 2009, PatrickB wrote:
<div class="message-stanza open">&gt; &gt; &gt; If you want I can send a zip file &#40;44kb only&#41; containing the 
</div></div></div>files 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; in /srv, /etc/ and /log. 
</div>&gt; &gt; 
&gt; &gt; That cannot hurt, so if you don&#39;t mind go ahead and do that.
&gt; &gt; 
&gt; &gt; I won&#39;t get a chance to look at this again until tonight &#40;I am in
&gt; &gt; California.&#41;
&gt; &gt; 
&gt; &gt; In the meantime you can try setting the AuthCookieDebug value to 2 
</div></div>or
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; higher and see if more useful information shows in the error log.
&gt; &gt; 
&gt; &gt; AuthCookieDebug 2
</div>&gt; 
&gt; 
&gt; With AuthCookieDebug = 3, error_log file contains after Apache 
&gt; restarting:
&gt; [Wed Nov 18 23:35:33 2009] [notice] caught SIGTERM, shutting down
&gt; [Wed Nov 18 23:35:39 2009] [notice] Apache/2.2.13 &#40;Linux/SUSE&#41; 
&gt; mod_ssl/2.2.13 OpenSSL/0.9.8k PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
&gt; configured -- resuming normal operations
&gt; [Wed Nov 18 23:36:21 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Wed Nov 18 23:36:21 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7bc1f9c&#41; authtype=Apache2::AuthCookieDBI
&gt; [Wed Nov 18 23:36:21 2009] [error] auth_name WhatEver
&gt; [Wed Nov 18 23:36:21 2009] [error] ses_key_cookie 
&gt; [Wed Nov 18 23:36:21 2009] [error] uri /
&gt; [Wed Nov 18 23:36:30 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Wed Nov 18 23:36:30 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7bc1f9c&#41; authtype=Apache2::AuthCookieDBI
&gt; [Wed Nov 18 23:36:30 2009] [error] auth_name WhatEver
&gt; [Wed Nov 18 23:36:30 2009] [error] ses_key_cookie 
&gt; [Wed Nov 18 23:36:30 2009] [error] uri /LOGIN
&gt; [Wed Nov 18 23:36:30 2009] [error] Converting POST -&gt; GET
&gt; 
&gt; Many fields are empty.
</div>

If the module does not protect the &#34;DocumentRoot&#34; but the 
subdirectory &#34;secured&#34; &#40; change&lt;Directory &#34;/srv/www/htdocs/secured&#34;&gt; in 
my authCookieDBI.conf&#41;, it works the error_log file contains:
[Wed Nov 18 23:49:29 2009] [notice] caught SIGTERM, shutting down
[Wed Nov 18 23:49:42 2009] [notice] Apache/2.2.13 &#40;Linux/SUSE&#41; 
mod_ssl/2.2.13 OpenSSL/0.9.8k PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
configured -- resuming normal operations
[Wed Nov 18 23:50:13 2009] [error] auth_type Apache2::AuthCookieDBI
[Wed Nov 18 23:50:13 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb788aa4c&#41; authtype=Apache2::AuthCookieDBI
[Wed Nov 18 23:50:13 2009] [error] auth_name WhatEver
[Wed Nov 18 23:50:13 2009] [error] ses_key_cookie 
[Wed Nov 18 23:50:13 2009] [error] uri /secured
[Wed Nov 18 23:50:26 2009] [error] Converting POST -&gt; GET
[Wed Nov 18 23:50:26 2009] [error] credential_0 myNAME
[Wed Nov 18 23:50:26 2009] [error] credential_1 myPASS
[Wed Nov 18 23:50:26 2009] [error] ses_key myNAME:2009-11-18-23-50-
26:2009-11-18-23-51-26::17a45eed527e60df465211fb17af53c5
[Wed Nov 18 23:50:26 2009] [error] redirect to /secured
[Wed Nov 18 23:50:26 2009] [error] auth_type Apache2::AuthCookieDBI
[Wed Nov 18 23:50:26 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb788aa4c&#41; authtype=Apache2::AuthCookieDBI
[Wed Nov 18 23:50:26 2009] [error] auth_name WhatEver
[Wed Nov 18 23:50:26 2009] [error] ses_key_cookie myNAME:2009-11-18-23-
50-26:2009-11-18-23-51-26::17a45eed527e60df465211fb17af53c5
[Wed Nov 18 23:50:26 2009] [error] uri /secured
[Wed Nov 18 23:50:26 2009] [error] user authenticated as myNAME
[Wed Nov 18 23:50:26 2009] [error] authorize&#40;&#41; for /secured
[Wed Nov 18 23:50:26 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Wed Nov 18 23:50:26 2009] [error] requirement := valid-user, 
[Wed Nov 18 23:50:27 2009] [error] auth_type Apache2::AuthCookieDBI
[Wed Nov 18 23:50:27 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb788aa4c&#41; authtype=Apache2::AuthCookieDBI
[Wed Nov 18 23:50:27 2009] [error] auth_name WhatEver
[Wed Nov 18 23:50:27 2009] [error] ses_key_cookie myNAME:2009-11-18-23-
50-26:2009-11-18-23-51-26::17a45eed527e60df465211fb17af53c5
[Wed Nov 18 23:50:27 2009] [error] uri /secured/
[Wed Nov 18 23:50:27 2009] [error] user authenticated as myNAME
[Wed Nov 18 23:50:27 2009] [error] authorize&#40;&#41; for /secured/
[Wed Nov 18 23:50:27 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Wed Nov 18 23:50:27 2009] [error] requirement := valid-user, 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;13:54:12&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken">20 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That is certain strange.

I expected to see log statements &#40;in the failure situation&#41; from the
Apache2::AuthCookie::login&#40;&#41; method in the base class. Specifically from
this code &#40;line numbers are from AuthCookie.pm 3.12&#41;:

 172     # Get the credentials from the data posted by the client
 173     my @credentials;
 174     for &#40;my $i = 0; exists $args{&#34;credential_$i&#34;}; $i++&#41; {
 175         my $key = &#34;credential_$i&#34;;
 176         $r-&gt;server-&gt;log_error&#40;&#34;$key $args{$key}&#34;&#41; if $debug &gt;= 2;
 177         push @credentials, $args{$key};
 178     }

I do see those log messages when you protect a subdirectory, but not
when you protected document_root.

Right now I have no new ideas. This weekend I will try to duplicate the
problem on another server and see if that shows me something new.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;13:55:12&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Subject changed from &#39;SSL and authCookieDBI&#39; to &#39;Protecting DOCUMENT_ROOT results in repeated showing of login form&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;19&nbsp;15:30:35&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu. Nov. 19 13:54:12 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; That is certain strange.
&gt; 
&gt; I expected to see log statements &#40;in the failure situation&#41; from the
&gt; Apache2::AuthCookie::login&#40;&#41; method in the base class. Specifically 
</div>from
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; this code &#40;line numbers are from AuthCookie.pm 3.12&#41;:
&gt; 
&gt;  172     # Get the credentials from the data posted by the client
&gt;  173     my @credentials;
&gt;  174     for &#40;my $i = 0; exists $args{&#34;credential_$i&#34;}; $i++&#41; {
&gt;  175         my $key = &#34;credential_$i&#34;;
&gt;  176         $r-&gt;server-&gt;log_error&#40;&#34;$key $args{$key}&#34;&#41; if $debug &gt;= 2;
&gt;  177         push @credentials, $args{$key};
&gt;  178     }
&gt; 
&gt; I do see those log messages when you protect a subdirectory, but not
&gt; when you protected document_root.
&gt; 
&gt; Right now I have no new ideas. This weekend I will try to duplicate 
</div>the
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; problem on another server and see if that shows me something new.
</div>

Yes, it&#39;s strange. Thank you for your help. If I can send to you 
somethings, dont&#39; hesitate.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;20&nbsp;10:41:59&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu. Nov. 19 15:30:35 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Jeu. Nov. 19 13:54:12 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; That is certain strange.
&gt; &gt; 
&gt; &gt; I expected to see log statements &#40;in the failure situation&#41; from the
&gt; &gt; Apache2::AuthCookie::login&#40;&#41; method in the base class. Specifically 
</div>&gt; from
<div class="message-stanza open">&gt; &gt; this code &#40;line numbers are from AuthCookie.pm 3.12&#41;:
&gt; &gt; 
&gt; &gt;  172     # Get the credentials from the data posted by the client
&gt; &gt;  173     my @credentials;
&gt; &gt;  174     for &#40;my $i = 0; exists $args{&#34;credential_$i&#34;}; $i++&#41; {
&gt; &gt;  175         my $key = &#34;credential_$i&#34;;
&gt; &gt;  176         $r-&gt;server-&gt;log_error&#40;&#34;$key $args{$key}&#34;&#41; if $debug &gt;= 
</div></div>2;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;  177         push @credentials, $args{$key};
&gt; &gt;  178     }
&gt; &gt; 
&gt; &gt; I do see those log messages when you protect a subdirectory, but not
&gt; &gt; when you protected document_root.
&gt; &gt; 
&gt; &gt; Right now I have no new ideas. This weekend I will try to duplicate 
</div>&gt; the
<div class="message-stanza open">&gt; &gt; problem on another server and see if that shows me something new.
</div>&gt; 
&gt; 
&gt; Yes, it&#39;s strange. Thank you for your help. If I can send to you 
&gt; somethings, dont&#39; hesitate.
</div>


I have a good new. It works!

In my authCookieDBI.conf, I have moved the directives &lt;Files 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">LOGIN&gt;....&lt;/Files&gt; inside &lt;Directory &#34;/srv/www/htdocs&#34;&gt; ... 
</div>&lt;/Directory&gt;.
Now this conf is like this:
    #rajout PBo car erreur si absent
    PerlOptions +GlobalRequest

    PerlSetVar AuthCookieDebug 4

    # In httpd.conf or .htaccess
        
    PerlModule Apache2::AuthCookieDBI
    PerlSetVar WhatEverPath /
    #modif PBo PerlSetVar WhatEverLoginScript /login.pl
    PerlSetVar WhatEverLoginScript /cgi-perl/login.pl

    # Optional, to share tickets between servers.
    #invalider PBo PerlSetVar WhatEverDomain .domain.com
    
    # These must be set
    #modif PBo PerlSetVar WhatEverDBI_DSN &#34;DBI:mysql:database=test&#34;
    PerlSetVar WhatEverDBI_DSN DBI:mysql:authSrv:localhost
    PerlSetVar 
WhatEverDBI_SecretKey &#34;489e5eaadb3208f9ad8792ef4afca7359e666b0206a9c92ac
877e73ce835c&#34;

    # These are optional, the module sets sensible defaults.
    PerlSetVar WhatEverDBI_User root
    PerlSetVar WhatEverDBI_Password pateli
    PerlSetVar WhatEverDBI_UsersTable users
    PerlSetVar WhatEverDBI_UserField user
    PerlSetVar WhatEverDBI_PasswordField password
    PerlSetVar WhatEverDBI_CryptType none
    PerlSetVar WhatEverDBI_GroupsTable groupes
    PerlSetVar WhatEverDBI_GroupField groupe
    PerlSetVar WhatEverDBI_GroupUserField user
    PerlSetVar WhatEverDBI_EncryptionType none
    PerlSetVar WhatEverDBI_SessionLifetime 00-01-00-00

    # Protected by AuthCookieDBI.
    #modif PBo
    &lt;Directory &#34;/srv/www/htdocs&#34;&gt;
        AuthType Apache2::AuthCookieDBI

        # set this to whatever, but the PerlSetVar&#39;s must match it.
        # Mettre ce que vous voulez, mais le PerlSetVar doit 
correspondre.
        AuthName WhatEver
        PerlAuthenHandler Apache2::AuthCookieDBI-&gt;authenticate
        PerlAuthzHandler Apache2::AuthCookieDBI-&gt;authorize
        #Require valid-user invalidé avec fonction group demandé
        Require valid-user

        # AllowOverride controls what directives may be placed 
in .htaccess files.
        # It can be &#34;All&#34;, &#34;None&#34;, or any combination of the keywords:
        #   Options FileInfo AuthConfig Limit
        AllowOverride None
        # Require group Administrator mis dans .htaccess

        # Login location. en dehors de &#34;&lt;Directory xxx&gt;&#34; pour 
subdirectory
        &lt;Files LOGIN&gt;
            AuthType Apache2::AuthCookieDBI
            AuthName WhatEver
            SetHandler perl-script
            PerlHandler Apache2::AuthCookieDBI-&gt;login
            #rajout PBo
            Allow from all
            Satisfy any
        &lt;/Files&gt;
    &lt;/Directory&gt;

Please, It works but I would like to know if it&#39;s THE real solution.
If this bad modification correct the first one and it works finally.
Because to protect a subdirectory, those modification are not necessary.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;20&nbsp;11:28:58&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Ven. Nov. 20 10:41:59 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Jeu. Nov. 19 15:30:35 2009, PatrickB a écrit :
<div class="message-stanza open">&gt; &gt; Le Jeu. Nov. 19 13:54:12 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; &gt; That is certain strange.
&gt; &gt; &gt; 
&gt; &gt; &gt; I expected to see log statements &#40;in the failure situation&#41; from 
</div></div></div>the
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; Apache2::AuthCookie::login&#40;&#41; method in the base class. 
</div></div>Specifically 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; from
<div class="message-stanza open">&gt; &gt; &gt; this code &#40;line numbers are from AuthCookie.pm 3.12&#41;:
&gt; &gt; &gt; 
&gt; &gt; &gt;  172     # Get the credentials from the data posted by the client
&gt; &gt; &gt;  173     my @credentials;
&gt; &gt; &gt;  174     for &#40;my $i = 0; exists $args{&#34;credential_$i&#34;}; $i++&#41; {
&gt; &gt; &gt;  175         my $key = &#34;credential_$i&#34;;
&gt; &gt; &gt;  176         $r-&gt;server-&gt;log_error&#40;&#34;$key $args{$key}&#34;&#41; if $debug 
</div></div>&gt;= 
&gt; 2;
<div class="message-stanza open">&gt; &gt; &gt;  177         push @credentials, $args{$key};
&gt; &gt; &gt;  178     }
&gt; &gt; &gt; 
&gt; &gt; &gt; I do see those log messages when you protect a subdirectory, but 
</div></div>not
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; when you protected document_root.
&gt; &gt; &gt; 
&gt; &gt; &gt; Right now I have no new ideas. This weekend I will try to 
</div></div>duplicate 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; the
<div class="message-stanza open">&gt; &gt; &gt; problem on another server and see if that shows me something new.
</div>&gt; &gt; 
&gt; &gt; 
&gt; &gt; Yes, it&#39;s strange. Thank you for your help. If I can send to you 
&gt; &gt; somethings, dont&#39; hesitate.
</div>&gt; 
&gt; 
&gt; 
&gt; I have a good new. It works!
&gt; 
&gt; In my authCookieDBI.conf, I have moved the directives &lt;Files 
<div class="message-stanza open">&gt; LOGIN&gt;....&lt;/Files&gt; inside &lt;Directory &#34;/srv/www/htdocs&#34;&gt; ... 
</div>&gt; &lt;/Directory&gt;.
&gt; Now this conf is like this:
&gt;     #rajout PBo car erreur si absent
&gt;     PerlOptions +GlobalRequest
&gt; 
&gt;     PerlSetVar AuthCookieDebug 4
&gt; 
&gt;     # In httpd.conf or .htaccess
&gt;         
&gt;     PerlModule Apache2::AuthCookieDBI
&gt;     PerlSetVar WhatEverPath /
&gt;     #modif PBo PerlSetVar WhatEverLoginScript /login.pl
&gt;     PerlSetVar WhatEverLoginScript /cgi-perl/login.pl
&gt; 
&gt;     # Optional, to share tickets between servers.
&gt;     #invalider PBo PerlSetVar WhatEverDomain .domain.com
&gt;     
&gt;     # These must be set
&gt;     #modif PBo PerlSetVar WhatEverDBI_DSN &#34;DBI:mysql:database=test&#34;
&gt;     PerlSetVar WhatEverDBI_DSN DBI:mysql:authSrv:localhost
&gt;     PerlSetVar 
&gt; 
</div>WhatEverDBI_SecretKey &#34;489e5eaadb3208f9ad8792ef4afca7359e666b0206a9c92ac
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 877e73ce835c&#34;
&gt; 
&gt;     # These are optional, the module sets sensible defaults.
&gt;     PerlSetVar WhatEverDBI_User root
&gt;     PerlSetVar WhatEverDBI_Password pateli
&gt;     PerlSetVar WhatEverDBI_UsersTable users
&gt;     PerlSetVar WhatEverDBI_UserField user
&gt;     PerlSetVar WhatEverDBI_PasswordField password
&gt;     PerlSetVar WhatEverDBI_CryptType none
&gt;     PerlSetVar WhatEverDBI_GroupsTable groupes
&gt;     PerlSetVar WhatEverDBI_GroupField groupe
&gt;     PerlSetVar WhatEverDBI_GroupUserField user
&gt;     PerlSetVar WhatEverDBI_EncryptionType none
&gt;     PerlSetVar WhatEverDBI_SessionLifetime 00-01-00-00
&gt; 
&gt;     # Protected by AuthCookieDBI.
&gt;     #modif PBo
&gt;     &lt;Directory &#34;/srv/www/htdocs&#34;&gt;
&gt;         AuthType Apache2::AuthCookieDBI
&gt; 
&gt;         # set this to whatever, but the PerlSetVar&#39;s must match it.
&gt;         # Mettre ce que vous voulez, mais le PerlSetVar doit 
&gt; correspondre.
&gt;         AuthName WhatEver
&gt;         PerlAuthenHandler Apache2::AuthCookieDBI-&gt;authenticate
&gt;         PerlAuthzHandler Apache2::AuthCookieDBI-&gt;authorize
&gt;         #Require valid-user invalidé avec fonction group demandé
&gt;         Require valid-user
&gt; 
&gt;         # AllowOverride controls what directives may be placed 
&gt; in .htaccess files.
&gt;         # It can be &#34;All&#34;, &#34;None&#34;, or any combination of the keywords:
&gt;         #   Options FileInfo AuthConfig Limit
&gt;         AllowOverride None
&gt;         # Require group Administrator mis dans .htaccess
&gt; 
&gt;         # Login location. en dehors de &#34;&lt;Directory xxx&gt;&#34; pour 
&gt; subdirectory
&gt;         &lt;Files LOGIN&gt;
&gt;             AuthType Apache2::AuthCookieDBI
&gt;             AuthName WhatEver
&gt;             SetHandler perl-script
&gt;             PerlHandler Apache2::AuthCookieDBI-&gt;login
&gt;             #rajout PBo
&gt;             Allow from all
&gt;           Satisfy any
&gt;         &lt;/Files&gt;
&gt;     &lt;/Directory&gt;
&gt; 
&gt; Please, It works but I would like to know if it&#39;s THE real solution.
&gt; If this bad modification correct the first one and it works finally.
&gt; Because to protect a subdirectory, those modification are not 
</div>necessary.


Sorry, I forgot the error_log file with https connection:
[Fri Nov 20 17:23:20 2009] [notice] Apache/2.2.13 &#40;Linux/SUSE&#41; 
mod_ssl/2.2.13 OpenSSL/0.9.8k PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
configured -- resuming normal operations
[Fri Nov 20 17:23:56 2009] [error] auth_type Apache2::AuthCookieDBI
[Fri Nov 20 17:23:56 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
[Fri Nov 20 17:23:56 2009] [error] auth_name WhatEver
[Fri Nov 20 17:23:56 2009] [error] ses_key_cookie 
[Fri Nov 20 17:23:56 2009] [error] uri /
[Fri Nov 20 17:24:04 2009] [error] Converting POST -&gt; GET
[Fri Nov 20 17:24:04 2009] [error] credential_0 myNAME
[Fri Nov 20 17:24:04 2009] [error] credential_1 myPASS
[Fri Nov 20 17:24:04 2009] [error] ses_key myNAME:2009-11-20-17-24-
04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
[Fri Nov 20 17:24:04 2009] [error] redirect to /
[Fri Nov 20 17:24:04 2009] [error] auth_type Apache2::AuthCookieDBI
[Fri Nov 20 17:24:04 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:04 2009] [error] auth_name WhatEver
[Fri Nov 20 17:24:04 2009] [error] ses_key_cookie myNAME:2009-11-20-17-
24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
[Fri Nov 20 17:24:04 2009] [error] uri /
[Fri Nov 20 17:24:04 2009] [error] user authenticated as myNAME
[Fri Nov 20 17:24:04 2009] [error] authorize&#40;&#41; for /
[Fri Nov 20 17:24:04 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:04 2009] [error] requirement := valid-user, 
[Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
[Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-17-
24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
[Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
[Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
[Fri Nov 20 17:24:12 2009] [error] [client 192.168.0.96] PHP Warning:  
phpinfo&#40;&#41;: It is not safe to rely on the system&#39;s timezone settings. 
You are *required* to use the date.timezone setting or the 
date_default_timezone_set&#40;&#41; function. In case you used any of those 
methods and you are still getting this warning, you most likely 
misspelled the timezone identifier. We selected &#39;Europe/Berlin&#39; 
for &#39;CET/1.0/no DST&#39; instead in /srv/www/htdocs/infoPhp.php on line 2
[Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb79095c4&#41; authtype=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
[Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-17-
24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
[Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
[Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
[Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
[Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-17-
24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
[Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
[Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
[Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
type=Apache2::AuthCookieDBI
[Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;17:10:46&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Ven. Nov. 20 11:28:58 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Ven. Nov. 20 10:41:59 2009, PatrickB a écrit :
<div class="message-stanza open">&gt; &gt; Le Jeu. Nov. 19 15:30:35 2009, PatrickB a écrit :
<div class="message-stanza open">&gt; &gt; &gt; Le Jeu. Nov. 19 13:54:12 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; &gt; &gt; That is certain strange.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; I expected to see log statements &#40;in the failure situation&#41; 
</div></div></div></div>from 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; the
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; Apache2::AuthCookie::login&#40;&#41; method in the base class. 
</div></div>&gt; Specifically 
<div class="message-stanza open">&gt; &gt; &gt; from
<div class="message-stanza open">&gt; &gt; &gt; &gt; this code &#40;line numbers are from AuthCookie.pm 3.12&#41;:
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt;  172     # Get the credentials from the data posted by the 
</div></div></div>client
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; &gt;  173     my @credentials;
&gt; &gt; &gt; &gt;  174     for &#40;my $i = 0; exists $args{&#34;credential_$i&#34;}; $i++&#41; {
&gt; &gt; &gt; &gt;  175         my $key = &#34;credential_$i&#34;;
&gt; &gt; &gt; &gt;  176         $r-&gt;server-&gt;log_error&#40;&#34;$key $args{$key}&#34;&#41; if 
</div></div>$debug 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;= 
&gt; &gt; 2;
<div class="message-stanza open">&gt; &gt; &gt; &gt;  177         push @credentials, $args{$key};
&gt; &gt; &gt; &gt;  178     }
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; I do see those log messages when you protect a subdirectory, 
</div></div></div>but 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; not
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; when you protected document_root.
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Right now I have no new ideas. This weekend I will try to 
</div></div>&gt; duplicate 
<div class="message-stanza open">&gt; &gt; &gt; the
<div class="message-stanza open">&gt; &gt; &gt; &gt; problem on another server and see if that shows me something 
</div></div></div>new.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; Yes, it&#39;s strange. Thank you for your help. If I can send to you 
&gt; &gt; &gt; somethings, dont&#39; hesitate.
</div>&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; I have a good new. It works!
&gt; &gt; 
&gt; &gt; In my authCookieDBI.conf, I have moved the directives &lt;Files 
<div class="message-stanza open">&gt; &gt; LOGIN&gt;....&lt;/Files&gt; inside &lt;Directory &#34;/srv/www/htdocs&#34;&gt; ... 
</div>&gt; &gt; &lt;/Directory&gt;.
&gt; &gt; Now this conf is like this:
&gt; &gt;     #rajout PBo car erreur si absent
&gt; &gt;     PerlOptions +GlobalRequest
&gt; &gt; 
&gt; &gt;     PerlSetVar AuthCookieDebug 4
&gt; &gt; 
&gt; &gt;     # In httpd.conf or .htaccess
&gt; &gt;         
&gt; &gt;     PerlModule Apache2::AuthCookieDBI
&gt; &gt;     PerlSetVar WhatEverPath /
&gt; &gt;     #modif PBo PerlSetVar WhatEverLoginScript /login.pl
&gt; &gt;     PerlSetVar WhatEverLoginScript /cgi-perl/login.pl
&gt; &gt; 
&gt; &gt;     # Optional, to share tickets between servers.
&gt; &gt;     #invalider PBo PerlSetVar WhatEverDomain .domain.com
&gt; &gt;     
&gt; &gt;     # These must be set
&gt; &gt;     #modif PBo PerlSetVar WhatEverDBI_DSN &#34;DBI:mysql:database=test&#34;
&gt; &gt;     PerlSetVar WhatEverDBI_DSN DBI:mysql:authSrv:localhost
&gt; &gt;     PerlSetVar 
&gt; &gt; 
</div>&gt; 
</div>WhatEverDBI_SecretKey &#34;489e5eaadb3208f9ad8792ef4afca7359e666b0206a9c92ac
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 877e73ce835c&#34;
&gt; &gt; 
&gt; &gt;     # These are optional, the module sets sensible defaults.
&gt; &gt;     PerlSetVar WhatEverDBI_User root
&gt; &gt;     PerlSetVar WhatEverDBI_Password pateli
&gt; &gt;     PerlSetVar WhatEverDBI_UsersTable users
&gt; &gt;     PerlSetVar WhatEverDBI_UserField user
&gt; &gt;     PerlSetVar WhatEverDBI_PasswordField password
&gt; &gt;     PerlSetVar WhatEverDBI_CryptType none
&gt; &gt;     PerlSetVar WhatEverDBI_GroupsTable groupes
&gt; &gt;     PerlSetVar WhatEverDBI_GroupField groupe
&gt; &gt;     PerlSetVar WhatEverDBI_GroupUserField user
&gt; &gt;     PerlSetVar WhatEverDBI_EncryptionType none
&gt; &gt;     PerlSetVar WhatEverDBI_SessionLifetime 00-01-00-00
&gt; &gt; 
&gt; &gt;     # Protected by AuthCookieDBI.
&gt; &gt;     #modif PBo
&gt; &gt;     &lt;Directory &#34;/srv/www/htdocs&#34;&gt;
&gt; &gt;         AuthType Apache2::AuthCookieDBI
&gt; &gt; 
&gt; &gt;         # set this to whatever, but the PerlSetVar&#39;s must match it.
&gt; &gt;         # Mettre ce que vous voulez, mais le PerlSetVar doit 
&gt; &gt; correspondre.
&gt; &gt;         AuthName WhatEver
&gt; &gt;         PerlAuthenHandler Apache2::AuthCookieDBI-&gt;authenticate
&gt; &gt;         PerlAuthzHandler Apache2::AuthCookieDBI-&gt;authorize
&gt; &gt;         #Require valid-user invalidé avec fonction group demandé
&gt; &gt;         Require valid-user
&gt; &gt; 
&gt; &gt;         # AllowOverride controls what directives may be placed 
&gt; &gt; in .htaccess files.
&gt; &gt;         # It can be &#34;All&#34;, &#34;None&#34;, or any combination of the 
</div></div>keywords:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;         #   Options FileInfo AuthConfig Limit
&gt; &gt;         AllowOverride None
&gt; &gt;         # Require group Administrator mis dans .htaccess
&gt; &gt; 
&gt; &gt;         # Login location. en dehors de &#34;&lt;Directory xxx&gt;&#34; pour 
&gt; &gt; subdirectory
&gt; &gt;         &lt;Files LOGIN&gt;
&gt; &gt;             AuthType Apache2::AuthCookieDBI
&gt; &gt;             AuthName WhatEver
&gt; &gt;             SetHandler perl-script
&gt; &gt;             PerlHandler Apache2::AuthCookieDBI-&gt;login
&gt; &gt;             #rajout PBo
&gt; &gt;             Allow from all
&gt; &gt;                 Satisfy any
&gt; &gt;         &lt;/Files&gt;
&gt; &gt;     &lt;/Directory&gt;
&gt; &gt; 
&gt; &gt; Please, It works but I would like to know if it&#39;s THE real solution.
&gt; &gt; If this bad modification correct the first one and it works finally.
&gt; &gt; Because to protect a subdirectory, those modification are not 
</div>&gt; necessary.
&gt; 
&gt; 
&gt; Sorry, I forgot the error_log file with https connection:
&gt; [Fri Nov 20 17:23:20 2009] [notice] Apache/2.2.13 &#40;Linux/SUSE&#41; 
&gt; mod_ssl/2.2.13 OpenSSL/0.9.8k PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
&gt; configured -- resuming normal operations
&gt; [Fri Nov 20 17:23:56 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:23:56 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:23:56 2009] [error] auth_name WhatEver
&gt; [Fri Nov 20 17:23:56 2009] [error] ses_key_cookie 
&gt; [Fri Nov 20 17:23:56 2009] [error] uri /
&gt; [Fri Nov 20 17:24:04 2009] [error] Converting POST -&gt; GET
&gt; [Fri Nov 20 17:24:04 2009] [error] credential_0 myNAME
&gt; [Fri Nov 20 17:24:04 2009] [error] credential_1 myPASS
&gt; [Fri Nov 20 17:24:04 2009] [error] ses_key myNAME:2009-11-20-17-24-
&gt; 04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
&gt; [Fri Nov 20 17:24:04 2009] [error] redirect to /
&gt; [Fri Nov 20 17:24:04 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:04 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:04 2009] [error] auth_name WhatEver
&gt; [Fri Nov 20 17:24:04 2009] [error] ses_key_cookie myNAME:2009-11-20-
</div>17-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
&gt; [Fri Nov 20 17:24:04 2009] [error] uri /
&gt; [Fri Nov 20 17:24:04 2009] [error] user authenticated as myNAME
&gt; [Fri Nov 20 17:24:04 2009] [error] authorize&#40;&#41; for /
&gt; [Fri Nov 20 17:24:04 2009] [error] authorize user=myNAME 
&gt; type=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:04 2009] [error] requirement := valid-user, 
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
&gt; [Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-
</div>17-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
&gt; [Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
&gt; type=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
&gt; [Fri Nov 20 17:24:12 2009] [error] [client 192.168.0.96] PHP 
</div>Warning:  
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; phpinfo&#40;&#41;: It is not safe to rely on the system&#39;s timezone settings. 
&gt; You are *required* to use the date.timezone setting or the 
&gt; date_default_timezone_set&#40;&#41; function. In case you used any of those 
&gt; methods and you are still getting this warning, you most likely 
&gt; misspelled the timezone identifier. We selected &#39;Europe/Berlin&#39; 
&gt; for &#39;CET/1.0/no DST&#39; instead in /srv/www/htdocs/infoPhp.php on line 2
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb79095c4&#41; authtype=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
&gt; [Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-
</div>17-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
&gt; [Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
&gt; type=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_type Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] r=Apache2::RequestRec=SCALAR
&gt; &#40;0xb7905484&#41; authtype=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] auth_name WhatEver
&gt; [Fri Nov 20 17:24:12 2009] [error] ses_key_cookie myNAME:2009-11-20-
</div>17-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 24-04:2009-11-20-17-25-04::777ae50a1de5d224798344cee914d3ff
&gt; [Fri Nov 20 17:24:12 2009] [error] uri /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] user authenticated as myNAME
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize&#40;&#41; for /infoPhp.php
&gt; [Fri Nov 20 17:24:12 2009] [error] authorize user=myNAME 
&gt; type=Apache2::AuthCookieDBI
&gt; [Fri Nov 20 17:24:12 2009] [error] requirement := valid-user, 
&gt; 
</div>


Have you done some investigations and do you agree those conf files?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;18:56:50&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 24 17:10:46 2009, PatrickB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Have you done some investigations and do you agree those conf files?
</div>
I apologize - I have not yet set up another server.
This coming weekend is a holiday weekend for us so I hope to have more
time to do this.

-M
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;25&nbsp;13:54:00&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mar. Nov. 24 18:56:50 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Nov 24 17:10:46 2009, PatrickB wrote:
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; Have you done some investigations and do you agree those conf files?
</div>&gt; 
&gt; I apologize - I have not yet set up another server.
&gt; This coming weekend is a holiday weekend for us so I hope to have more
&gt; time to do this.
&gt; 
&gt; -M
</div>

No problem, no problem.
Are you living in North or South of California? Because in my calendar, 
the next week end is not a public holiday. Is it special to your region?
But anyway have a good weekend.

Patrick
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;25&nbsp;17:10:13&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 25 13:54:00 2009, PatrickB wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Are you living in North or South of California? Because in my calendar, 
&gt; the next week end is not a public holiday. Is it special to your region?
&gt; But anyway have a good weekend.
</div>
I&#39;m in San Francisco.  Tomorrow, Thursday is a national US holiday and
many institutions are closed for Thursday and Friday, making for a long
&#40;4-day&#41; weekend.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;26&nbsp;15:07:38&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Nov. 25 17:10:13 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Nov 25 13:54:00 2009, PatrickB wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Are you living in North or South of California? Because in my 
</div></div>calendar, 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; the next week end is not a public holiday. Is it special to your 
</div></div>region?
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; But anyway have a good weekend.
</div>&gt; 
&gt; I&#39;m in San Francisco.  Tomorrow, Thursday is a national US holiday and
&gt; many institutions are closed for Thursday and Friday, making for a 
</div>long
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;4-day&#41; weekend.
</div>

Nice, very nice a long week end.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;14:49:32&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have been able to reproduce the problem, and I think I might have
found a more simple fix for it, but I do not yet understand what is
really happening.

Here is the more simple fix:

It is OK to have the &lt;Files LOGIN&gt; section outside of the &lt;Directory
...&gt; section, but you add &#34;Satisfy any&#34; inside the &lt;Files LOGIN&gt;
section, like this:

&lt;Files LOGIN&gt;
    AuthType Apache2::AuthCookieDBI
    AuthName WhatEver
    SetHandler perl-script
    PerlHandler Apache2::AuthCookieDBI-&gt;login
    Satisfy any
&lt;/Files&gt;

With the &#34;Satisfy any&#34; the problem stops, but I don&#39;t understand why.
According to the documentation
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;">http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;</a></span> 
&#34;This directive is only useful if access to a particular area is being
restricted by both username/password and client host address.&#34;

But there must be something else going on.


Please try this solution and let me know if it also works for you.

At a minimum I can update the documentation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;29&nbsp;15:09:39&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Sam. Nov. 28 14:49:32 2009, MATISSE a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have been able to reproduce the problem, and I think I might have
&gt; found a more simple fix for it, but I do not yet understand what is
&gt; really happening.
&gt; 
&gt; Here is the more simple fix:
&gt; 
&gt; It is OK to have the &lt;Files LOGIN&gt; section outside of the &lt;Directory
&gt; ...&gt; section, but you add &#34;Satisfy any&#34; inside the &lt;Files LOGIN&gt;
&gt; section, like this:
&gt; 
&gt; &lt;Files LOGIN&gt;
&gt;     AuthType Apache2::AuthCookieDBI
&gt;     AuthName WhatEver
&gt;     SetHandler perl-script
&gt;     PerlHandler Apache2::AuthCookieDBI-&gt;login
&gt;     Satisfy any
&gt; &lt;/Files&gt;
&gt; 
&gt; With the &#34;Satisfy any&#34; the problem stops, but I don&#39;t understand why.
&gt; According to the documentation
&gt; &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;">http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;</a></span> 
&gt; &#34;This directive is only useful if access to a particular area is being
&gt; restricted by both username/password and client host address.&#34;
&gt; 
&gt; But there must be something else going on.
&gt; 
&gt; 
&gt; Please try this solution and let me know if it also works for you.
&gt; 
&gt; At a minimum I can update the documentation.
&gt; 
</div>
Okay, thank you.
I try and I inform you
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;01&nbsp;14:17:07&nbsp;2009</span>
    <span class="description">patrick.bo [...] laposte.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Dim. Nov. 29 15:09:39 2009, PatrickB a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Sam. Nov. 28 14:49:32 2009, MATISSE a écrit :
<div class="message-stanza open">&gt; &gt; I have been able to reproduce the problem, and I think I might have
&gt; &gt; found a more simple fix for it, but I do not yet understand what is
&gt; &gt; really happening.
&gt; &gt; 
&gt; &gt; Here is the more simple fix:
&gt; &gt; 
&gt; &gt; It is OK to have the &lt;Files LOGIN&gt; section outside of the &lt;Directory
&gt; &gt; ...&gt; section, but you add &#34;Satisfy any&#34; inside the &lt;Files LOGIN&gt;
&gt; &gt; section, like this:
&gt; &gt; 
&gt; &gt; &lt;Files LOGIN&gt;
&gt; &gt;     AuthType Apache2::AuthCookieDBI
&gt; &gt;     AuthName WhatEver
&gt; &gt;     SetHandler perl-script
&gt; &gt;     PerlHandler Apache2::AuthCookieDBI-&gt;login
&gt; &gt;     Satisfy any
&gt; &gt; &lt;/Files&gt;
&gt; &gt; 
&gt; &gt; With the &#34;Satisfy any&#34; the problem stops, but I don&#39;t understand 
</div></div>why.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; According to the documentation
&gt; &gt; &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;">http://httpd.apache.org/docs/2.2/mod/core.html#satisfy&#41;</a></span> 
&gt; &gt; &#34;This directive is only useful if access to a particular area is 
</div></div>being
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; restricted by both username/password and client host address.&#34;
&gt; &gt; 
&gt; &gt; But there must be something else going on.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Please try this solution and let me know if it also works for you.
&gt; &gt; 
&gt; &gt; At a minimum I can update the documentation.
&gt; &gt; 
</div>&gt; 
&gt; Okay, thank you.
&gt; I try and I inform you
&gt; 
</div>

It works...
Tell me what I can do.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;01&nbsp;14:33:51&nbsp;2009</span>
    <span class="description">matisse [...] spamcop.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Dec 01 14:17:07 2009, PatrickB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It works...
&gt; Tell me what I can do.
</div>
You could create some changes to the documentation that describe this -
that you must include

Satisfy any

in the &lt;Files LOGIN&gt; section if you want to protect the entire document
root.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:00:43&nbsp;2010</span>
    <span class="description">matisse [...] spamcop.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:00:43&nbsp;2010</span>
    <span class="description">matisse [...] spamcop.net -  Fixed in 2.13 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:00:43&nbsp;2010</span>
    <span class="description">matisse [...] spamcop.net -  Fixed in 2.05 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
