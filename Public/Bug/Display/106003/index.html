<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #106003 for Data-Domain: Dynamic error messages</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #106003 for Data-Domain: Dynamic error messages</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Data-Domain">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Data-Domain">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Data-Domain">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Data-Domain">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Data-Domain">Data-Domain CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">106003</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Data-Domain">Data-Domain</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
djerius [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42000-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42001-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=106003">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519154" href="/Public/Bug/Display.html?id=106003#txn-1519154">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;21&nbsp;16:09:38&nbsp;2015</span>
    <span class="description">djerius [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Dynamic error messages</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519154/810167/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810167">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 530b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m trying to create a new domain to validate paths, using Path::Tiny.  Path::Tiny throws exceptions upon some errors, and I&#39;d like to pass the text on to the caller.  There doesn&#39;t seem to be a way of doing that outside of something really nasty like this:

    sub _inspect {

        my &#40; $self, $path &#41; = @_;

        my $obj = eval {path&#40; $path &#41;;};

        if &#40; $@ &#41; {
            $self-&gt;{-messages}{INVALID} //= &#34;%s: $@&#34;;
            return $self-&gt;msg&#40; INVALID =&gt; $path &#41;;
        }

        return;
    }


Is there some cleaner way of doing this?

Thanks,

Diab
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519157" href="/Public/Bug/Display.html?id=106003#txn-1519157">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;21&nbsp;16:38:42&nbsp;2015</span>
    <span class="description">djerius [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519157/810170/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810170">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 990b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 21 16:09:38 2015, DJERIUS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m trying to create a new domain to validate paths, using Path::Tiny.
&gt; Path::Tiny throws exceptions upon some errors, and I&#39;d like to pass
&gt; the text on to the caller.  There doesn&#39;t seem to be a way of doing
&gt; that outside of something really nasty like this:
&gt; 
&gt; sub _inspect {
&gt; 
&gt; my &#40; $self, $path &#41; = @_;
&gt; 
&gt; my $obj = eval {path&#40; $path &#41;;};
&gt; 
&gt; if &#40; $@ &#41; {
&gt;     $self-&gt;{-messages}{INVALID} //= &#34;%s: $@&#34;;
&gt;     return $self-&gt;msg&#40; INVALID =&gt; $path &#41;;
&gt; }
&gt; 
&gt; return;
&gt; }
&gt; 
&gt; 
&gt; Is there some cleaner way of doing this?
&gt; 
&gt; Thanks,
&gt; 
&gt; Diab
</div>
Aha; I see that the msgs method accepts any number of arguments, so I could do this in the constructor:

  $self-&gt;{-message}{INVALID} = &#39;unable to parse &#34;%s&#34; as a path: %s&#39;;


and in the _inspect routine:


  return $self-&gt;msg&#40; INVALID =&gt; $path, $err &#41;;


It would be nice if something like String::Errf were used under the hood, so the order of arguments wouldn&#39;t matter.

Thanks,

Diab
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519159" href="/Public/Bug/Display.html?id=106003#txn-1519159">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;21&nbsp;16:45:50&nbsp;2015</span>
    <span class="description">laurent.dami [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #106003] Dynamic error messages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 21 Jul 2015 22:45:27 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-Domain [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Laurent Dami &lt;laurent.dami [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519159/810172/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810172">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le 21.07.2015 22:09, Diab Jerius via RT a Ã©crit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Jul 21 16:09:38 2015: Request 106003 was acted upon.
&gt; Transaction: Ticket created by DJERIUS
&gt;         Queue: Data-Domain
&gt;       Subject: Dynamic error messages
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: &#40;no value&#41;
&gt;         Owner: Nobody
&gt;    Requestors: djerius@cpan.org
&gt;        Status: new
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106003">https://rt.cpan.org/Ticket/Display.html?id=106003</a></span> &gt;
&gt;
&gt;
&gt; I&#39;m trying to create a new domain to validate paths, using Path::Tiny.  Path::Tiny throws exceptions upon some errors, and I&#39;d like to pass the text on to the caller.  There doesn&#39;t seem to be a way of doing that outside of something really nasty like this:
&gt;
&gt;      sub _inspect {
&gt;
&gt;       my &#40; $self, $path &#41; = @_;
&gt;
&gt;       my $obj = eval {path&#40; $path &#41;;};
&gt;
&gt;          if &#40; $@ &#41; {
&gt;           $self-&gt;{-messages}{INVALID} //= &#34;%s: $@&#34;;
&gt;           return $self-&gt;msg&#40; INVALID =&gt; $path &#41;;
&gt;       }
&gt;
&gt;       return;
&gt;      }
&gt;
&gt;
&gt; Is there some cleaner way of doing this?
&gt;
&gt; Thanks,
&gt;
&gt; Diab
&gt;
</div>Hi,

Your domain does not necessarily need to implement the -messages API.
So the simplest thing to do is just to return a string containing the error.

sub _inspect {
        my &#40; $self, $path &#41; = @_;

        my $obj = eval {path&#40; $path &#41;;};
        my $err = $@;
        return $err; # if undef, the inspection was
     }


Now if you want to implement the -messages API, be careful to fully 
understand how it works.
The idea is that domain signals typed errors, but the client of the 
domain decides about the error messages. So the domain implementation 
should not modify $self-&gt;{messages}, this breaks the contract.
The domain should just return $self-&gt;msg&#40;INVALID =&gt; ...&#41;, and the client 
of the domain should specify &#40;at domain creation time&#41; which string is 
associated to INVALID.

Regarding the order of arguments : look at the sprintf documentation, 
there is syntax to refer to arguments by position, bypassing the natural 
order.

Good luck, Laurent Dami
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519160" href="/Public/Bug/Display.html?id=106003#txn-1519160">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;21&nbsp;16:45:51&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519472" href="/Public/Bug/Display.html?id=106003#txn-1519472">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;22&nbsp;13:53:46&nbsp;2015</span>
    <span class="description">djerius [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519472/810358/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810358">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 21 16:45:50 2015, laurent.dami@free.fr wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le 21.07.2015 22:09, Diab Jerius via RT a Ã©crit :
<div class="message-stanza open">&gt; &gt; Tue Jul 21 16:09:38 2015: Request 106003 was acted upon.
&gt; &gt; Transaction: Ticket created by DJERIUS
&gt; &gt;         Queue: Data-Domain
&gt; &gt;       Subject: Dynamic error messages
&gt; &gt;     Broken in: &#40;no value&#41;
&gt; &gt;      Severity: &#40;no value&#41;
&gt; &gt;         Owner: Nobody
&gt; &gt;    Requestors: djerius@cpan.org
&gt; &gt;        Status: new
&gt; &gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106003">https://rt.cpan.org/Ticket/Display.html?id=106003</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I&#39;m trying to create a new domain to validate paths, using
&gt; &gt; Path::Tiny.  Path::Tiny throws exceptions upon some errors, and I&#39;d
&gt; &gt; like to pass the text on to the caller.  There doesn&#39;t seem to be a
&gt; &gt; way of doing that outside of something really nasty like this:
&gt; &gt;
</div></div>[...]

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt;
&gt; Your domain does not necessarily need to implement the -messages API.
&gt; So the simplest thing to do is just to return a string containing the
&gt; error.
&gt;
</div>
Thanks; I missed the forest for the trees there.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now if you want to implement the -messages API, be careful to fully
&gt; understand how it works.  The idea is that domain signals typed
&gt; errors, but the client of the domain decides about the error
&gt; messages. So the domain implementation should not modify
&gt; $self-&gt;{messages}, this breaks the contract.  The domain should just
&gt; return $self-&gt;msg&#40;INVALID =&gt; ...&#41;, and the client of the domain
&gt; should specify &#40;at domain creation time&#41; which string is associated
&gt; to INVALID.
</div>
The current design has a single domain &#40;Path&#41;, with options selecting
which tests to perform on the argument &#40;i.e. -is_dir, -is_file, etc.&#41;.
Returning a single INVALID tag won&#39;t provide specific enough information.

Would this be an acceptable approach?

    my %messages = &#40;
        NOT_IS_DIR      =&gt; &#39;%s is not a directory&#39;,
        NOT_IS_FILE     =&gt; &#39;%s is not a file&#39;,
        NOT_EXISTS      =&gt; &#39;%s does not exist&#39;,
        NOT_IS_ABSOLUTE =&gt; &#39;%s is not absolute&#39;,
        NOT_IS_RELATIVE =&gt; &#39;%s is not relative&#39;,
        NOT_IS_ROOTDIR  =&gt; &#39;%s is not a root directory&#39;
    &#41;;

    my @tests = qw/ exists is_file is_dir is_absolute is_relative is_rootdir /;

    sub new {

        my $class = shift;

        my $self = bless Data::Domain::_parse_args&#40; \@_, [ map { &#39;-&#39; . $_ } @tests ] &#41;, $class;

        $self-&gt;{-messages} //= \%messages;
        return $self;
    }


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Regarding the order of arguments : look at the sprintf documentation,
&gt; there is syntax to refer to arguments by position, bypassing the
&gt; natural
&gt; order.
</div>
Thanks.  That&#39;ll do it &#40;not quite as user-friendly as passing in a hash, though&#41;.


Thanks,

Diab
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519515" href="/Public/Bug/Display.html?id=106003#txn-1519515">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;22&nbsp;15:07:30&nbsp;2015</span>
    <span class="description">laurent.dami [...] free.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #106003] Dynamic error messages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 22 Jul 2015 21:07:13 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Data-Domain [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Laurent Dami &lt;laurent.dami [...] free.fr&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519515/810394/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810394">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 267b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le 22.07.2015 19:53, Diab Jerius via RT a Ã©crit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Would this be an acceptable approach?
</div>Yes, this makes sense because the call to the -&gt;new&#40;&#41; method can still 
override the -messages option, and in case there is none, the 
constructor points to default messages.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519607" href="/Public/Bug/Display.html?id=106003#txn-1519607">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;22&nbsp;16:53:38&nbsp;2015</span>
    <span class="description">djerius [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1519607/810454/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/810454">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 364b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jul 22 15:07:30 2015, laurent.dami@free.fr wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le 22.07.2015 19:53, Diab Jerius via RT a Ã©crit :
<div class="message-stanza open">&gt; &gt; Would this be an acceptable approach?
</div>&gt; Yes, this makes sense because the call to the -&gt;new&#40;&#41; method can still 
&gt; override the -messages option, and in case there is none, the 
&gt; constructor points to default messages.
&gt; 
</div>

Thanks for the feedback.  
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1519655" href="/Public/Bug/Display.html?id=106003#txn-1519655">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;00:53:01&nbsp;2015</span>
    <span class="description">DAMI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.439699</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
