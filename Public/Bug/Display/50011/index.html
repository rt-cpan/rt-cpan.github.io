<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50011 for PHP-Session: New serialize_handler  -- PHPurlencoded</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50011 for PHP-Session: New serialize_handler  -- PHPurlencoded</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PHP-Session">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PHP-Session">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PHP-Session">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PHP-Session">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PHP-Session">PHP-Session CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50011</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PHP-Session">PHP-Session</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
HATMAKER [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-25870-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25871-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




PHPurlencoded.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/668682/343511/PHPurlencoded.pm">
Fri Sep 25 05:18:20 2009 (8.1k) by HATMAKER [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=50011">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-668682" href="/Public/Bug/Display.html?id=50011#txn-668682">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;25&nbsp;05:18:20&nbsp;2009</span>
    <span class="description">HATMAKER [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> New serialize_handler  -- PHPurlencoded</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/668682/343508/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/343508">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 739b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

Hello, 

Would you be interested in extending the current perl module to include
PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
default and only option&#41;. 
If so, I have included the PHP::Session::PHPurlencoded perl module that
could be included in your distribution &#40;along with the single line that
would need to be added to the PHP::Session perl module itself&#41;.





*** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
--- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
***************
*** 7,12 ****
--- 7,13 ----
  use vars qw&#40;%SerialImpl&#41;;
  %SerialImpl = &#40;
      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
+     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
  &#41;;
  
  use Fcntl qw&#40;:flock&#41;;
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PHPurlencoded.pm</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/668682/343511/PHPurlencoded.pm">Download PHPurlencoded.pm</a><br />
<span class="downloadcontenttype">text/x-perl 8.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">package PHP::Session::Serializer::PHPurlencoded;

use strict;
use vars qw&#40;$VERSION&#41;;
$VERSION = 0.26;

sub _croak { require Carp; Carp::croak&#40;@_&#41; }

sub new {
    my $class = shift;
    bless {
	buffer =&gt; undef,
	data   =&gt; {},
	state  =&gt; undef,
	stack  =&gt; [],
	array  =&gt; [],		# array-ref of hash-ref
    }, $class;
}

# encoder starts here

sub encode {
    my&#40;$self, $data&#41; = @_;
    my $body;
    for my $key &#40;keys %$data&#41; {
	if &#40;defined $data-&gt;{$key}&#41; {
	    $body .= &#34;$key|&#34; . $self-&gt;do_encode&#40;$data-&gt;{$key}&#41;;
	} else {
	    $body .= &#34;!$key|&#34;;
    	}
    }
    $body =~ s/&#40;[^A-Za-z0-9]&#41;/sprintf&#40;&#34;%%%02X&#34;, ord&#40;$1&#41;&#41;/seg;
    return $body;
}

sub do_encode {
    my&#40;$self, $value&#41; = @_;
    if &#40;! defined $value&#41; {
	return $self-&gt;encode_null&#40;$value&#41;;
    }
    elsif &#40;! ref $value&#41; {
	if &#40;is_int&#40;$value&#41;&#41; {
	    return $self-&gt;encode_int&#40;$value&#41;;
	}
	elsif &#40;is_float&#40;$value&#41;&#41; {
	    return $self-&gt;encode_double&#40;$value&#41;;
	}
	else {
	    return $self-&gt;encode_string&#40;$value&#41;;
	}
    }
    elsif &#40;ref $value eq &#39;HASH&#39;&#41; {
	return $self-&gt;encode_array&#40;$value&#41;;
    }
    elsif &#40;ref $value eq &#39;ARRAY&#39;&#41; {
	return $self-&gt;encode_array&#40;$value&#41;;
    }
    elsif &#40;ref $value eq &#39;PHP::Session::Object&#39;&#41; {
	return $self-&gt;encode_object&#40;$value&#41;;
    }
    else {
	_croak&#40;&#34;Can&#39;t encode &#34;, ref&#40;$value&#41;&#41;;
    }
}

sub encode_null {
    my&#40;$self, $value&#41; = @_;
    return &#39;N;&#39;;
}

sub encode_int {
    my&#40;$self, $value&#41; = @_;
    return sprintf &#39;i:%d;&#39;, $value;
}

sub encode_double {
    my&#40;$self, $value&#41; = @_;
    return sprintf &#34;d:%s;&#34;, $value; # XXX hack
}

sub encode_string {
    my&#40;$self, $value&#41; = @_;
    return sprintf &#39;s:%d:&#34;%s&#34;;&#39;, length&#40;$value&#41;, $value;
}

sub encode_array {
    my&#40;$self, $value&#41; = @_;
    my %array = ref $value eq &#39;HASH&#39; ? %$value : map { $_ =&gt; $value-&gt;[$_] } 0..$#{$value};
    return sprintf &#39;a:%d:{%s}&#39;, scalar&#40;keys %array&#41;, join&#40;&#39;&#39;, map $self-&gt;do_encode&#40;$_&#41;, %array&#41;;
}

sub encode_object {
    my&#40;$self, $value&#41; = @_;
    my %impl = %$value;
    my $class = delete $impl{_class};
    return sprintf &#39;O:%d:&#34;%s&#34;:%d:{%s}&#39;, length&#40;$class&#41;, $class, scalar&#40;keys %impl&#41;,
	join&#40;&#39;&#39;, map $self-&gt;do_encode&#40;$_&#41;, %impl&#41;;
}

sub is_int {
    local $_ = shift;
    /^-?&#40;0|[1-9]\d{0,8}&#41;$/;
}

sub is_float {
    local $_ = shift;
    /^-?&#40;0|[1-9]\d{0,8}&#41;\.\d+$/;
}

# decoder starts here

sub decode {
    my&#40;$self, $data&#41; = @_;
    $data =~ s/\%&#40;[A-Fa-f0-9]{2}&#41;/pack&#40;&#39;C&#39;, hex&#40;$1&#41;&#41;/seg;
    $self-&gt;{buffer} = $data;
    $self-&gt;change_state&#40;&#39;VarName&#39;&#41;;
    while &#40;defined $self-&gt;{buffer} &#38;&#38; length $self-&gt;{buffer}&#41; {
	$self-&gt;{state}-&gt;parse&#40;$self&#41;;
    }
    return $self-&gt;{data};
}

sub change_state {
    my&#40;$self, $state&#41; = @_;
    $self-&gt;{state} = &#34;PHP::Session::Serializer::PHPurlencoded::State::$state&#34;; # optimization
#    $self-&gt;{state} = PHP::Session::Serializer::PHPurlencoded::State-&gt;new&#40;$state&#41;;

}

sub set {
    my&#40;$self, $key, $value&#41; = @_;
    $self-&gt;{data}-&gt;{$key} = $value;
}

sub push_stack {
    my&#40;$self, $stuff&#41; = @_;
    push @{$self-&gt;{stack}}, $stuff;
}

sub pop_stack {
    my $self = shift;
    pop @{$self-&gt;{stack}};
}

sub extract_stack {
    my&#40;$self, $num&#41; = @_;
    return $num ? splice&#40;@{$self-&gt;{stack}}, -$num&#41; : &#40;&#41;;
}

# array: [ [ $length, $consuming, $class ], [ $length, $consuming, $class ]  .. ]

sub start_array {
    my&#40;$self, $length, $class&#41; = @_;
    unshift @{$self-&gt;{array}}, [ $length, 0, $class ];
}

sub in_array {
    my $self = shift;
    return scalar @{$self-&gt;{array}};
}

sub consume_array {
    my $self = shift;
    $self-&gt;{array}-&gt;[0]-&gt;[1]++;
}

sub finished_array {
    my $self = shift;
    return $self-&gt;{array}-&gt;[0]-&gt;[0] * 2 == $self-&gt;{array}-&gt;[0]-&gt;[1];
}

sub elements_count {
    my $self = shift;
    return $self-&gt;{array}-&gt;[0]-&gt;[0];
}

sub process_value {
    my&#40;$self, $value, $empty_skip&#41; = @_;
    if &#40;$self-&gt;in_array&#40;&#41;&#41; {
	unless &#40;$empty_skip&#41; {
	    $self-&gt;push_stack&#40;$value&#41;;
	    $self-&gt;consume_array&#40;&#41;;
	}
	if &#40;$self-&gt;finished_array&#40;&#41;&#41; {
	    # just finished array
	    my $array  = shift @{$self-&gt;{array}}; # shift it
	    my @values = $self-&gt;extract_stack&#40;$array-&gt;[0] * 2&#41;;
	    my $class  = $array-&gt;[2];
	    if &#40;defined $class&#41; {
		# object
		my $real_value = bless {
		    _class =&gt; $class,
		    @values,
		}, &#39;PHP::Session::Object&#39;;
		$self-&gt;process_value&#40;$real_value&#41;;
	    } else {
		# array is hash
		$self-&gt;process_value&#40;{ @values }&#41;;
	    }
	    $self-&gt;change_state&#40;&#39;ArrayEnd&#39;&#41;;
	    $self-&gt;{state}-&gt;parse&#40;$self&#41;;
	} else {
	    # not yet finished
	    $self-&gt;change_state&#40;&#39;VarType&#39;&#41;;
	}
    }
    else {
	# not in array
	my $varname = $self-&gt;pop_stack;
	$self-&gt;set&#40;$varname =&gt; $value&#41;;
	$self-&gt;change_state&#40;&#39;VarName&#39;&#41;;
    }
}

sub weird {
    my $self = shift;
    _croak&#40;&#34;weird data: $self-&gt;{buffer}&#34;&#41;;
}

package PHP::Session::Serializer::PHPurlencoded::State::VarName;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    $decoder-&gt;{buffer} =~ s/^&#40;!?&#41;&#40;.*?&#41;\|// or $decoder-&gt;weird;
    if &#40;$1&#41; {
	$decoder-&gt;set&#40;$2 =&gt; undef&#41;;
    } else {
	$decoder-&gt;push_stack&#40;$2&#41;;
	$decoder-&gt;change_state&#40;&#39;VarType&#39;&#41;;
    }
}

package PHP::Session::Serializer::PHPurlencoded::State::VarType;

my @re = &#40;
    &#39;s:&#40;\d+&#41;:&#39;,			# string
    &#39;i:&#40;-?\d+&#41;;&#39;,		# integer
    &#39;d:&#40;-?\d+&#40;?:\.\d+&#41;?&#41;;&#39;,	# double
    &#39;a:&#40;\d+&#41;:&#39;,			# array
    &#39;O:&#40;\d+&#41;:&#39;,			# object
    &#39;&#40;N&#41;;&#39;,			# null
    &#39;b:&#40;[01]&#41;;&#39;,		# boolean
    &#39;[Rr]:&#40;\d+&#41;;&#39;,              # reference count? 
&#41;;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    my $re = join &#34;|&#34;, @re;
    $decoder-&gt;{buffer} =~ s/^&#40;?:$re&#41;// or $decoder-&gt;weird;
    if &#40;defined $1&#41; {		# string
	$decoder-&gt;push_stack&#40;$1&#41;;
	$decoder-&gt;change_state&#40;&#39;String&#39;&#41;;
    }
    elsif &#40;defined $2&#41; {	# integer
	$decoder-&gt;process_value&#40;$2&#41;;
    }
    elsif &#40;defined $3&#41; {	# double
	$decoder-&gt;process_value&#40;$3&#41;;
    }
    elsif &#40;defined $4&#41; {	# array
	$decoder-&gt;start_array&#40;$4&#41;;
	$decoder-&gt;change_state&#40;&#39;ArrayStart&#39;&#41;;
    }
    elsif &#40;defined $5&#41; {	# object
	$decoder-&gt;push_stack&#40;$5&#41;;
	$decoder-&gt;change_state&#40;&#39;ClassName&#39;&#41;;
    }
    elsif &#40;defined $6&#41; {	# null
	$decoder-&gt;process_value&#40;undef&#41;;
    }
    elsif &#40;defined $7&#41; {	# boolean
	$decoder-&gt;process_value&#40;$7&#41;;
    }
    elsif &#40;defined $8&#41; {        # reference
        $decoder-&gt;process_value&#40;$8&#41;;
    }
}

package PHP::Session::Serializer::PHPurlencoded::State::String;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    my $length = $decoder-&gt;pop_stack&#40;&#41;;

    # .{$length} has a limit on length
    # $decoder-&gt;{buffer} =~ s/^&#34;&#40;.{$length}&#41;&#34;;//s or $decoder-&gt;weird;
    my $value = substr&#40;$decoder-&gt;{buffer}, 0, $length + 3, &#34;&#34;&#41;;
    $value =~ s/^&#34;// and $value =~ s/&#34;;$// or $decoder-&gt;weird;
    $decoder-&gt;process_value&#40;$value&#41;;
}

package PHP::Session::Serializer::PHPurlencoded::State::ArrayStart;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    $decoder-&gt;{buffer} =~ s/^{// or $decoder-&gt;weird;
    if &#40;$decoder-&gt;elements_count&#41; {
	$decoder-&gt;change_state&#40;&#39;VarType&#39;&#41;;
    } else {
	$decoder-&gt;process_value&#40;undef, 1&#41;;
    }
}

package PHP::Session::Serializer::PHPurlencoded::State::ArrayEnd;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    $decoder-&gt;{buffer} =~ s/^}// or $decoder-&gt;weird;
    my $next_state = $decoder-&gt;in_array&#40;&#41; ? &#39;VarType&#39; : &#39;VarName&#39;;
    $decoder-&gt;change_state&#40;$next_state&#41;;
}

package PHP::Session::Serializer::PHPurlencoded::State::ClassName;

sub parse {
    my&#40;$self, $decoder&#41; = @_;
    my $length = $decoder-&gt;pop_stack&#40;&#41;;
#    $decoder-&gt;{buffer} =~ s/^&#34;&#40;.{$length}&#41;&#34;:&#40;\d+&#41;:// or $decoder-&gt;weird;
    my $value = substr&#40;$decoder-&gt;{buffer}, 0, $length + 3, &#34;&#34;&#41;;
    $value =~ s/^&#34;// and $value =~ s/&#34;:$// or $decoder-&gt;weird;
    $decoder-&gt;{buffer} =~ s/^&#40;\d+&#41;:// or $decoder-&gt;weird;
    $decoder-&gt;start_array&#40;$1, $value&#41;; # $length, $class
    $decoder-&gt;change_state&#40;&#39;ArrayStart&#39;&#41;;
}


1;
__END__

=head1 NAME

PHP::Session::Serializer::PHPurlencoded - serialize / deserialize PHP session data

=head1 SYNOPSIS

  use PHP::Session::Serializer::PHPurlencoded;

  $serializer = PHP::Session::Serializer::PHPurlencoded-&gt;new;

  $enc     = $serializer-&gt;encode&#40;\%data&#41;;
  $hashref = $serializer-&gt;decode&#40;$enc&#41;;

=head1 TODO

=over 4

=item *

Add option to restore PHP object as is.

=item *

Get back PHP array as Perl array?

=back

=head1 AUTHOR

Tatsuhiko Miyagawa E&lt;lt&gt;miyagawa@bulknews.netE&lt;gt&gt;

This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.

=head1 SEE ALSO

L&lt;PHP::Session&gt;

=cut

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-676986" href="/Public/Bug/Display.html?id=50011#txn-676986">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;05:11:09&nbsp;2009</span>
    <span class="description">miyagawa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Oct 2009 02:10:51 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PHP-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tatsuhiko Miyagawa &lt;miyagawa [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/676986/348286/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/348286">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">James, do you want to maintain this module on CPAN? I can give you a
co-maint bit if you want.

On Fri, Sep 25, 2009 at 2:18 AM, James Hatmaker via RT
&lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Sep 25 05:18:20 2009: Request 50011 was acted upon.
&gt; Transaction: Ticket created by HATMAKER
&gt;       Queue: PHP-Session
&gt;     Subject: New serialize_handler  -- PHPurlencoded
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: Wishlist
&gt;       Owner: Nobody
&gt;  Requestors: HATMAKER@cpan.org
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;
&gt;
&gt;
&gt;
&gt; Hello,
&gt;
&gt; Would you be interested in extending the current perl module to include
&gt; PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
&gt; default and only option&#41;.
&gt; If so, I have included the PHP::Session::PHPurlencoded perl module that
&gt; could be included in your distribution &#40;along with the single line that
&gt; would need to be added to the PHP::Session perl module itself&#41;.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; *** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
&gt; --- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
&gt; ***************
&gt; *** 7,12 ****
&gt; --- 7,13 ----
&gt;  use vars qw&#40;%SerialImpl&#41;;
&gt;  %SerialImpl = &#40;
&gt;      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
&gt; +     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
&gt;  &#41;;
&gt;
&gt;  use Fcntl qw&#40;:flock&#41;;
&gt;
</div>


-- 
Tatsuhiko Miyagawa
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-676987" href="/Public/Bug/Display.html?id=50011#txn-676987">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;05:11:13&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-677066" href="/Public/Bug/Display.html?id=50011#txn-677066">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;08:50:23&nbsp;2009</span>
    <span class="description">james [...] hatmakers.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> HATMAKER [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Oct 2009 06:50:04 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PHP-Session [...] rt.cpan.org, miyagawa [...] gmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Hatmaker &lt;james [...] hatmakers.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/677066/348336/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/348336">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Sure, that would be fine. 

Thanks,

James



miyagawa@gmail.com via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;
&gt; James, do you want to maintain this module on CPAN? I can give you a
&gt; co-maint bit if you want.
&gt;
&gt; On Fri, Sep 25, 2009 at 2:18 AM, James Hatmaker via RT
&gt; &lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
&gt;   
<div class="message-stanza open">&gt;&gt; Fri Sep 25 05:18:20 2009: Request 50011 was acted upon.
&gt;&gt; Transaction: Ticket created by HATMAKER
&gt;&gt;       Queue: PHP-Session
&gt;&gt;     Subject: New serialize_handler  -- PHPurlencoded
&gt;&gt;   Broken in: &#40;no value&#41;
&gt;&gt;    Severity: Wishlist
&gt;&gt;       Owner: Nobody
&gt;&gt;  Requestors: HATMAKER@cpan.org
&gt;&gt;      Status: new
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; Would you be interested in extending the current perl module to include
&gt;&gt; PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
&gt;&gt; default and only option&#41;.
&gt;&gt; If so, I have included the PHP::Session::PHPurlencoded perl module that
&gt;&gt; could be included in your distribution &#40;along with the single line that
&gt;&gt; would need to be added to the PHP::Session perl module itself&#41;.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; *** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
&gt;&gt; --- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
&gt;&gt; ***************
&gt;&gt; *** 7,12 ****
&gt;&gt; --- 7,13 ----
&gt;&gt;  use vars qw&#40;%SerialImpl&#41;;
&gt;&gt;  %SerialImpl = &#40;
&gt;&gt;      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
&gt;&gt; +     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
&gt;&gt;  &#41;;
&gt;&gt;
&gt;&gt;  use Fcntl qw&#40;:flock&#41;;
&gt;&gt;
&gt;&gt;     
</div>&gt;
&gt;
&gt;
&gt;   
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-677213" href="/Public/Bug/Display.html?id=50011#txn-677213">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;13:54:37&nbsp;2009</span>
    <span class="description">miyagawa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Oct 2009 10:54:22 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PHP-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tatsuhiko Miyagawa &lt;miyagawa [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/677213/348425/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/348425">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Done

On Thu, Oct 15, 2009 at 5:50 AM, James Hatmaker via RT
&lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: PHP-Session
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;
&gt;
&gt; Sure, that would be fine.
&gt;
&gt; Thanks,
&gt;
&gt; James
&gt;
&gt;
&gt;
&gt; miyagawa@gmail.com via RT wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;
&gt;&gt; James, do you want to maintain this module on CPAN? I can give you a
&gt;&gt; co-maint bit if you want.
&gt;&gt;
&gt;&gt; On Fri, Sep 25, 2009 at 2:18 AM, James Hatmaker via RT
&gt;&gt; &lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt; Fri Sep 25 05:18:20 2009: Request 50011 was acted upon.
&gt;&gt;&gt; Transaction: Ticket created by HATMAKER
&gt;&gt;&gt;       Queue: PHP-Session
&gt;&gt;&gt;     Subject: New serialize_handler  -- PHPurlencoded
&gt;&gt;&gt;   Broken in: &#40;no value&#41;
&gt;&gt;&gt;    Severity: Wishlist
&gt;&gt;&gt;       Owner: Nobody
&gt;&gt;&gt;  Requestors: HATMAKER@cpan.org
&gt;&gt;&gt;      Status: new
&gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Hello,
&gt;&gt;&gt;
&gt;&gt;&gt; Would you be interested in extending the current perl module to include
&gt;&gt;&gt; PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
&gt;&gt;&gt; default and only option&#41;.
&gt;&gt;&gt; If so, I have included the PHP::Session::PHPurlencoded perl module that
&gt;&gt;&gt; could be included in your distribution &#40;along with the single line that
&gt;&gt;&gt; would need to be added to the PHP::Session perl module itself&#41;.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; *** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
&gt;&gt;&gt; --- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
&gt;&gt;&gt; ***************
&gt;&gt;&gt; *** 7,12 ****
&gt;&gt;&gt; --- 7,13 ----
&gt;&gt;&gt;  use vars qw&#40;%SerialImpl&#41;;
&gt;&gt;&gt;  %SerialImpl = &#40;
&gt;&gt;&gt;      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
&gt;&gt;&gt; +     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
&gt;&gt;&gt;  &#41;;
&gt;&gt;&gt;
&gt;&gt;&gt;  use Fcntl qw&#40;:flock&#41;;
&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
&gt;
</div>


-- 
Tatsuhiko Miyagawa
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-677229" href="/Public/Bug/Display.html?id=50011#txn-677229">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;14:00:52&nbsp;2009</span>
    <span class="description">miyagawa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Oct 2009 11:00:36 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PHP-Session [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tatsuhiko Miyagawa &lt;miyagawa [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/677229/348435/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/348435">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">By the way the repository is at <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/miagawa/php-session">http://github.com/miagawa/php-session</a></span>

On Thu, Oct 15, 2009 at 10:54 AM, miyagawa@gmail.com via RT
&lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: PHP-Session
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=50011">http://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;
&gt; Done
&gt;
&gt; On Thu, Oct 15, 2009 at 5:50 AM, James Hatmaker via RT
&gt; &lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt;       Queue: PHP-Session
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Sure, that would be fine.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; James
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; miyagawa@gmail.com via RT wrote:
<div class="message-stanza open">&gt;&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; James, do you want to maintain this module on CPAN? I can give you a
&gt;&gt;&gt; co-maint bit if you want.
&gt;&gt;&gt;
&gt;&gt;&gt; On Fri, Sep 25, 2009 at 2:18 AM, James Hatmaker via RT
&gt;&gt;&gt; &lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
&gt;&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt;&gt; Fri Sep 25 05:18:20 2009: Request 50011 was acted upon.
&gt;&gt;&gt;&gt; Transaction: Ticket created by HATMAKER
&gt;&gt;&gt;&gt;       Queue: PHP-Session
&gt;&gt;&gt;&gt;     Subject: New serialize_handler  -- PHPurlencoded
&gt;&gt;&gt;&gt;   Broken in: &#40;no value&#41;
&gt;&gt;&gt;&gt;    Severity: Wishlist
&gt;&gt;&gt;&gt;       Owner: Nobody
&gt;&gt;&gt;&gt;  Requestors: HATMAKER@cpan.org
&gt;&gt;&gt;&gt;      Status: new
&gt;&gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hello,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Would you be interested in extending the current perl module to include
&gt;&gt;&gt;&gt; PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
&gt;&gt;&gt;&gt; default and only option&#41;.
&gt;&gt;&gt;&gt; If so, I have included the PHP::Session::PHPurlencoded perl module that
&gt;&gt;&gt;&gt; could be included in your distribution &#40;along with the single line that
&gt;&gt;&gt;&gt; would need to be added to the PHP::Session perl module itself&#41;.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; *** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
&gt;&gt;&gt;&gt; --- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
&gt;&gt;&gt;&gt; ***************
&gt;&gt;&gt;&gt; *** 7,12 ****
&gt;&gt;&gt;&gt; --- 7,13 ----
&gt;&gt;&gt;&gt;  use vars qw&#40;%SerialImpl&#41;;
&gt;&gt;&gt;&gt;  %SerialImpl = &#40;
&gt;&gt;&gt;&gt;      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
&gt;&gt;&gt;&gt; +     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
&gt;&gt;&gt;&gt;  &#41;;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;  use Fcntl qw&#40;:flock&#41;;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
</div>&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
&gt;
&gt; --
&gt; Tatsuhiko Miyagawa
&gt;
&gt;
</div>


-- 
Tatsuhiko Miyagawa
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-677344" href="/Public/Bug/Display.html?id=50011#txn-677344">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;15&nbsp;17:44:09&nbsp;2009</span>
    <span class="description">james [...] hatmakers.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Oct 2009 21:43:49 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;miyagawa [...] gmail.com via RT&#34; &lt;bug-PHP-Session [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> james [...] hatmakers.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/677344/348486/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/348486">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks. 
 



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">------Original Message------
From: miyagawa@gmail.com via RT
To: HATMAKER@cpan.org
Subject: Re: [rt.cpan.org #50011] New serialize_handler -- PHPurlencoded
Sent: Oct 15, 2009 11:54 AM

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=50011">http://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;

Done

On Thu, Oct 15, 2009 at 5:50 AM, James Hatmaker via RT
&lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;       Queue: PHP-Session
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;
&gt;
&gt; Sure, that would be fine.
&gt;
&gt; Thanks,
&gt;
&gt; James
&gt;
&gt;
&gt;
&gt; miyagawa@gmail.com via RT wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;
&gt;&gt; James, do you want to maintain this module on CPAN? I can give you a
&gt;&gt; co-maint bit if you want.
&gt;&gt;
&gt;&gt; On Fri, Sep 25, 2009 at 2:18 AM, James Hatmaker via RT
&gt;&gt; &lt;bug-PHP-Session@rt.cpan.org&gt; wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt; Fri Sep 25 05:18:20 2009: Request 50011 was acted upon.
&gt;&gt;&gt; Transaction: Ticket created by HATMAKER
&gt;&gt;&gt;       Queue: PHP-Session
&gt;&gt;&gt;     Subject: New serialize_handler  -- PHPurlencoded
&gt;&gt;&gt;   Broken in: &#40;no value&#41;
&gt;&gt;&gt;    Severity: Wishlist
&gt;&gt;&gt;       Owner: Nobody
&gt;&gt;&gt;  Requestors: HATMAKER@cpan.org
&gt;&gt;&gt;      Status: new
&gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=50011">https://rt.cpan.org/Ticket/Display.html?id=50011</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Hello,
&gt;&gt;&gt;
&gt;&gt;&gt; Would you be interested in extending the current perl module to include
&gt;&gt;&gt; PHPurlencoded as a new serialize_handler option?  &#40;currently PHP is the
&gt;&gt;&gt; default and only option&#41;.
&gt;&gt;&gt; If so, I have included the PHP::Session::PHPurlencoded perl module that
&gt;&gt;&gt; could be included in your distribution &#40;along with the single line that
&gt;&gt;&gt; would need to be added to the PHP::Session perl module itself&#41;.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; *** Session.pm.orig 2009-03-03 22:26:07.000000000 -0700
&gt;&gt;&gt; --- Session.pm.new 2009-03-03 23:07:38.000000000 -0700
&gt;&gt;&gt; ***************
&gt;&gt;&gt; *** 7,12 ****
&gt;&gt;&gt; --- 7,13 ----
&gt;&gt;&gt;  use vars qw&#40;%SerialImpl&#41;;
&gt;&gt;&gt;  %SerialImpl = &#40;
&gt;&gt;&gt;      php =&gt; &#39;PHP::Session::Serializer::PHP&#39;,
&gt;&gt;&gt; +     phpurlencoded =&gt; &#39;PHP::Session::Serializer::PHPurlencoded&#39;,
&gt;&gt;&gt;  &#41;;
&gt;&gt;&gt;
&gt;&gt;&gt;  use Fcntl qw&#40;:flock&#41;;
&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
&gt;
</div>


-- 
Tatsuhiko Miyagawa
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.517459</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
