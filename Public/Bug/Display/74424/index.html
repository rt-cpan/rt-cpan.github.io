<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #74424 for Term-ReadLine-Gnu: tests fail in obs SLE-10:SP3 running in screen</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #74424 for Term-ReadLine-Gnu: tests fail in obs SLE-10:SP3 running in screen</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Term-ReadLine-Gnu/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Term-ReadLine-Gnu/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Term-ReadLine-Gnu/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Term-ReadLine-Gnu/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Term-ReadLine-Gnu">Term-ReadLine-Gnu CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>When you report a bug, please provide the following information;

<pre>
- output of
	perl -V
	perl Makefile.PL verbose
	make test TEST_VERBOSE=1
	perl -Mblib t/00checkver.t
	echo $TERM
- terminal emulator which you are using
- compiler which is used to compile the GNU Readline Library (libreadline.a) if you can know.
</pre>

Read <a href="http://search.cpan.org/src/HAYASHI/Term-ReadLine-Gnu-1.23/INSTALL">INSTALL</a> in the distribution for more details.
</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">74424</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Term-ReadLine-Gnu/Active/">Term-ReadLine-Gnu</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">HAYASHI [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cpan698301 [...] mstier.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31188-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.20    </td>
  </tr>
  <tr id="CF-31189-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;07:25:25&nbsp;2012</span>
    <span class="description">https://www.google.com/accounts/o8/id?id=AItOawkyOHx--RP0sCuxSqimRLgFJ_YPC6QRWZk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tests fail in obs SLE-10:SP3 running in screen</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Tests fail in chroot created by OpenSUSE build system at
<span class="clickylink"><a target="new" rel="nofollow" href="https://build.opensuse.org">https://build.opensuse.org</a></span>. The chroot resembles a SLE 10 SP3
environment and the tests are run in SCREEN. Without screen, the tests
are ok.




+ strace -f -e trace=open -o trace.log screen -D -m /bin/bash -c
&#39;/opt/perl-5.14.2/bin/perl -Mblib t/readline.t &gt;log 2&gt;&#38;1 ; make test
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;log 2&gt;&#38;1&#39;
</div>+ cat log
1..104
ok 1    loading
ok 2    new
ok 3    ReadLine method
ok 4    Features method
ok 5    Attrib method
ok 6    readline_version
ok 7    rl_version
ok 8    
ok 9    
ok 10   
ok 11   
ok 12   
ok 13   num_chars_to_read
ok 14   pending_input
ok 15   dispatching
ok 16   
ok 17   
ok 18   already_prompted
ok 19   gnu_readline_p
ok 20   
ok 21   readline_name
ok 22   executing_keymap
ok 23   binding_keymap
ok 24   executing_macro
ok 25   readline_state
ok 26   explicit_arg
ok 27   numeric_arg
ok 28   editing_mode
ok 29   add_defun
ok 30   
ok 31   
ok 32   
ok 33   bind_key
ok 34   
ok 35   
ok 36   
ok 37   keymap binding
ok 38   macro binding
ok 39   function binding
ok 40   rl_read_init_file
ok 41   
ok 42   
ok 43   unbind_key
ok 44   add_funmap_entry
ok 45   invoking_keyseqs
ok 46   catch_signals
ok 47   catch_sigwinch
ok 48   set/get_screen_size
ok 49   
ok 50   
ok 51   
ok 52   
ok 53   
ok 54   
ok 55   
ok 56   
ok 57   
ok 58   
ok 59   
ok 60   
ok 61   
ok 62   
ok 63   
ok 64   
ok 65   
ok 66   
ok 67   
ok 68   
ok 69   
ok 70   
not ok 71       default key binding     Default key binding is changed?  Some of
following test will fail.
ok 72   self insert
not ok 73       cursor move      mnj kl
ok 74   custom commands
ok 75   undo
ok 76   macro
ok 77   ornaments
ok 78   operate_and_get_next 1
ok 79   operate_and_get_next 2
ok 80   operate_and_get_next 3
ok 81   operate_and_get_next 4
ok 82   history 1
ok 83   history 2
ok 84   history 3
ok 85   insert completion
ok 86   default completion
ok 87   username completion
ok 88   list completion
ok 89   filename completion
ok 90   null completion 1
ok 91   null completion 2
ok 92   list &#38; file completion
ok 93   ingore_some_completion
ok 94   filename_quoting_function
ok 95   filename_dequoting_function
ok 96   directory_completion_hook
ok 97   filename_list
ok 98   startup_hook
ok 99   pre_input_hook
ok 100  redisplay_function
ok 101
ok 102
ok 103
ok 104
PERL_DL_NONLAZY=1 /opt/perl-5.14.2/bin/perl &#34;-MExtUtils::Command::MM&#34;
&#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00checkver.t .. ok
t/callback.t .... ok
t/history.t ..... ok
t/readline.t .... 
Failed 2/104 subtests 

Test Summary Report
-------------------
t/readline.t  &#40;Wstat: 0 Tests: 104 Failed: 2&#41;
  Failed tests:  71, 73
Files=4, Tests=196,  0 wallclock secs &#40; 0.05 usr  0.00 sys +  0.14 cusr
 0.03 csys =  0.22 CPU&#41;
Result: FAIL
Failed 1/4 test programs. 2/196 subtests failed.
make: *** [test_dynamic] Error 255
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;16&nbsp;12:10:17&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Sorry for my late reply.  Now I have a Linux env where I can try your report.
But I could not reproduce your issue.  Do you still have this problem?

Thanks.


$ echo $TERM
xterm-256color
$ uname -a
Linux localhost.localdomain 3.11.10-100.fc18.x86_64 #1 SMP Mon Dec 2 20:28:38 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux
$ screen -v
Screen version 4.01.00devel &#40;GNU&#41; 2-May-06
$ strace -V
strace -- version 4.7
$ strace -f -e trace=open -o trace.log screen -D -m /bin/bash -c &#39;perl -Mblib t/readline.t &gt;log 2&gt;&#38;1&#39;
]$ cat log
1..140
# Testing Term::ReadLine::Gnu version 1.22
ok 1    loading
ok      Try `/usr/bin/perl -Mblib t/readline.t verbose&#39;, if you will.
ok 2    new
ok 3    ReadLine method
ok 4    Features method
ok 5    Attrib method
ok 6    readline_version
ok 7    rl_version
ok 8    
ok 9    
ok 10   
ok 11   
ok 12   
ok 13   num_chars_to_read
ok 14   pending_input
ok 15   dispatching
ok 16   
ok 17   
ok 18   display_prompt
ok 19   already_prompted
ok 20   gnu_readline_p
ok 21   
ok 22   readline_name
ok 23   prefer_envwin_size
ok 24   
ok 25   startup_hook
ok 26   
ok 27   
ok 28   
ok 29   
ok 30   
ok 31   
ok 32   
ok 33   
ok 34   executing_keymap
ok 35   binding_keymap
ok 36   executing_macro
ok 37   executing_key
ok 38   executing_keyseq
ok 39   key_sequence_length
ok 40   readline_state
ok 41   explicit_arg
ok 42   numeric_arg
ok 43   editing_mode
ok 44   add_defun
ok 45   
ok 46   
ok 47   
ok 48   bind_key
ok 49   
ok 50   
ok 51   
ok 52   keymap binding
ok 53   macro binding
ok 54   function binding
ok 55   rl_read_init_file
ok 56   
ok 57   
ok 58   unbind_key
ok 59   add_funmap_entry
ok 60   invoking_keyseqs
ok 61   catch_signals
ok 62   catch_sigwinch
ok 63   change_environment
ok 64   set/get_screen_size
ok 65   
ok 66   
ok 67   
ok 68   
ok 69   char_is_quoted_p
ok 70   
ok 71   
ok 72   
ok 73   
ok 74   
ok 75   
ok 76   
ok 77   
ok 78   
ok 79   
ok 80   
ok 81   
ok 82   special_prefixes
ok 83   
ok 84   
ok 85   
ok 86   
ok 87   
ok 88   
ok 89   
ok 90   
ok 91   
ok 92   
ok 93   
ok 94   
ok 95   completion_type
ok 96   
ok 97   
ok 98   accept-line is bound to \C-m
ok 99   forward-char is bound to \C-f
ok 100  backward-char is bound to \C-b
ok 101  forward-word is bound to \M-f
ok 102  backward-word is bound to \M-b
ok 103  end-of-line is bound to \C-e
ok 104  beginning-of-line is bound to \C-a
ok 105  backward-delete-char is bound to \C-h
ok 106  delete-char is bound to \C-d
ok 107  complete is bound to \C-i
ok 108  self insert
ok 109  cursor move
ok 110  custom commands
ok 111  undo
ok 112  macro
ok 113  ornaments
ok 114  operate_and_get_next 1
ok 115  operate_and_get_next 2
ok 116  operate_and_get_next 3
ok 117  operate_and_get_next 4
ok 118  history 1
ok 119  history 2
ok 120  history 3
ok 121  insert completion
ok 122  default completion
ok 123  username completion
ok 124  list completion
ok 125  filename completion
ok 126  null completion 1
ok 127  null completion 2
ok 128  list &#38; file completion
ok 129  ingore_some_completion
ok 130  filename_quoting_function
ok 131  filename_dequoting_function
ok 132  directory_completion_hook
ok 133  filename_list
ok 134  startup_hook
ok 135  pre_input_hook
ok 136  redisplay_function
ok 137
ok 138
ok 139
ok 140
$ 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;16&nbsp;12:10:17&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;16&nbsp;12:10:17&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;19&nbsp;19:05:28&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I suspend this ticket.
Please reopen this with information to reproduce the problem.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;19&nbsp;19:05:29&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;29&nbsp;06:44:34&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Set the status to &#39;rejected&#39;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please reopen this with information to reproduce the problem.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;29&nbsp;06:44:35&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;29&nbsp;06:44:35&nbsp;2014</span>
    <span class="description">HAYASHI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
