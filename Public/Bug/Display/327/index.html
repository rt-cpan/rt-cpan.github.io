<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #327 for ExtUtils-MakeMaker: Special dmake/Win95 logic in subdirs&#40;&#41; causing problems</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #327 for ExtUtils-MakeMaker: Special dmake/Win95 logic in subdirs&#40;&#41; causing problems</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">327</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-MakeMaker/Active/">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
edelrio [...] icm.csic.es

<br />
kahn [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;07&nbsp;13:15:03&nbsp;2002</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Strange subdir behavior in Windows platform</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
ExtUtils::MakeMaker 5.45 &#40;Revision: 1.222&#41;

Perl Version: 5.6.1 MSWin32 &#40;ActivePerl Build 631&#41;

In Windows platforms, the generated makefile &#40;perl Makefile.PL&#41; will contain an incorrect target when there are some subdirectories. Just do the following &#40;don&#39;t even touch a line of code!&#41;:

h2xs -A -X -n Anything
&#40;...&#41;
h2xs -A -X -n Anything::ThatOther
&#40;...&#41;
cd Anything
perl Makefile.PL
&#40;...&#41;
make
&#40;...&#41;
ERROR: &#40;the error message depends on the distribution and the make utitlity used&#41;.

If you inspect the generated Makefile you will find &#40;around line 380&#41; a strange target like this:

subdirs ::
@[
&lt;Tab&gt; cd ThatOther
&lt;Tab&gt; $&#40;MAKE&#41; all $&#40;PASSTHRU&#41;
&lt;Tab&gt; cd ..
]

As far as I know, this is not a valid Make sytax. The equivalent Makefile in a Linux box reads:

subdirs ::
&lt;Tab&gt; @cd ThatOther &#38;&#38; $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
</div></div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;28&nbsp;00:20:20&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;28&nbsp;00:20:20&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Special case dmake/Win95 logic in subdirs&#40;&#41; may be bogus</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Thu Mar  7 13:15:03 2002]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you inspect the generated Makefile you will find &#40;around line 380&#41;
&gt;    a strange target like this:
&gt; 
&gt; subdirs ::
&gt; @[
&gt; &lt;Tab&gt; cd ThatOther
&gt; &lt;Tab&gt; $&#40;MAKE&#41; all $&#40;PASSTHRU&#41;
&gt; &lt;Tab&gt; cd ..
&gt; ]
&gt; 
&gt; As far as I know, this is not a valid Make sytax. The equivalent
&gt;    Makefile in a Linux box reads:
&gt; 
&gt; subdirs ::
&gt; &lt;Tab&gt; @cd ThatOther &#38;&#38; $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
</div>
Hmmm.  There&#39;s special code in there for dmake on Win95 to generate exactly that.  It determines which style to use based on what&#39;s in $Config{make} &#40;ie. whatever make was used to build Perl&#41;.  Lemme guess, you&#39;re using nmake?

Try hand editing the Makefile so it has this:

subdirs ::
        cd ThatOther
        $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
        cd ..

that should work, but it might be noisy.  If so, try this:

subdirs ::
        @ cd ThatOther
        @ $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
        @ cd ..
</div></div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;28&nbsp;13:26:21&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;28&nbsp;13:27:21&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Subject changed from &#39;Strange subdir behavior in Windows platform&#39; to &#39;Special dmake/Win95 logic in subdirs&#40;&#41; causing problems&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;31&nbsp;16:31:09&nbsp;2002</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;31&nbsp;16:31:09&nbsp;2002</span>
    <span class="description">kahn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kahn [...] cpan.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think I&#39;ve found the patch for this problem. This patch avoids the @[]
syntax when $NMAKE is set, which nmake doesn&#39;t like. Also see next post,
which is a simplification of base class MM_Unix.

[MSCHWERN - Thu Mar 28 00:20:20 2002]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [guest - Thu Mar  7 13:15:03 2002]:
<div class="message-stanza open">&gt; &gt; If you inspect the generated Makefile you will find &#40;around line
</div>&gt;    380&#41;
<div class="message-stanza open">&gt; &gt;    a strange target like this:
&gt; &gt;
&gt; &gt; subdirs ::
&gt; &gt; @[
&gt; &gt; &lt;Tab&gt; cd ThatOther
&gt; &gt; &lt;Tab&gt; $&#40;MAKE&#41; all $&#40;PASSTHRU&#41;
&gt; &gt; &lt;Tab&gt; cd ..
&gt; &gt; ]
&gt; &gt;
&gt; &gt; As far as I know, this is not a valid Make sytax. The equivalent
&gt; &gt;    Makefile in a Linux box reads:
&gt; &gt;
&gt; &gt; subdirs ::
&gt; &gt; &lt;Tab&gt; @cd ThatOther &#38;&#38; $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
</div>&gt; 
&gt; Hmmm.  There&#39;s special code in there for dmake on Win95 to generate
&gt;    exactly that.  It determines which style to use based on what&#39;s in
&gt;    $Config{make} &#40;ie. whatever make was used to build Perl&#41;.  Lemme
&gt;    guess, you&#39;re using nmake?
&gt; 
&gt; Try hand editing the Makefile so it has this:
&gt; 
&gt; subdirs ::
&gt;       cd ThatOther
&gt;       $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
&gt;       cd ..
&gt; 
&gt; that should work, but it might be noisy.  If so, try this:
&gt; 
&gt; subdirs ::
&gt;       @ cd ThatOther
&gt;       @ $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
&gt;       @ cd ..
</div></div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">*** ExtUtils/MM_Win32.pm.backup	Sat Aug 31 01:40:56 2002
--- ExtUtils/MM_Win32.pm	Sat Aug 31 01:59:02 2002
***************
*** 79,84 ****
--- 79,117 ----
      }
  }	# end of command.com workarounds
  
+ sub subdir_x {
+   my $self = shift;
+   my $subdir = shift;
+   if &#40;Win32::IsWin95&#40;&#41;&#41; {
+     # Win-9x has nasty problem in command.com that can&#39;t cope with
+     # &#38;&#38;. Also, Dmake and Nmake disagree about how to make a
+     # commandseries silent:
+     if &#40;$NMAKE&#41; {
+       return &lt;&lt;EOT;
+ 
+ subdirs ::
+ 	\@cd $subdir
+ 	\@\$&#40;MAKE&#41; all \$&#40;PASTHRU&#41;
+ 	\@cd ..
+ EOT
+     }
+     elsif &#40;$DMAKE&#41; {
+       return &lt;&lt;EOT;
+ 
+ subdirs ::
+ @[
+ 	cd $subdir
+ 	\$&#40;MAKE&#41; all \$&#40;PASTHRU&#41;
+ 	cd ..
+ ]
+ EOT
+     }
+   }
+   # if not windows 95, or not nmake/dmake, fall back to base
+   # implementation, which uses NOECHO and &#34;&#38;&#38;&#34; operator
+   return $self-&gt;ExtUtils::MM_Unix::subdir_x&#40;$subdir, @_&#41;;
+ }
+ 
  sub dlsyms {
      my&#40;$self,%attribs&#41; = @_;
  
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;31&nbsp;16:34:05&nbsp;2002</span>
    <span class="description">kahn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kahn [...] cpan.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached to this entry is a not-strictly-necessary simplification of the
ExtUtils::MM_Unix module, removing the Windows-specific behavior that is
never reached once you add the patch to MM_Win32 in the previous comment.

--Jeremy

[KAHN - Sat Aug 31 16:31:09 2002]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think I&#39;ve found the patch for this problem. This patch avoids the @[]
&gt; syntax when $NMAKE is set, which nmake doesn&#39;t like. Also see next post,
&gt; which is a simplification of base class MM_Unix.
&gt; 
&gt; [MSCHWERN - Thu Mar 28 00:20:20 2002]:
&gt; 
<div class="message-stanza open">&gt; &gt; [guest - Thu Mar  7 13:15:03 2002]:
<div class="message-stanza open">&gt; &gt; &gt; If you inspect the generated Makefile you will find &#40;around line
</div>&gt; &gt;    380&#41;
<div class="message-stanza open">&gt; &gt; &gt;    a strange target like this:
&gt; &gt; &gt;
&gt; &gt; &gt; subdirs ::
&gt; &gt; &gt; @[
&gt; &gt; &gt; &lt;Tab&gt; cd ThatOther
&gt; &gt; &gt; &lt;Tab&gt; $&#40;MAKE&#41; all $&#40;PASSTHRU&#41;
&gt; &gt; &gt; &lt;Tab&gt; cd ..
&gt; &gt; &gt; ]
&gt; &gt; &gt;
&gt; &gt; &gt; As far as I know, this is not a valid Make sytax. The equivalent
&gt; &gt; &gt;    Makefile in a Linux box reads:
&gt; &gt; &gt;
&gt; &gt; &gt; subdirs ::
&gt; &gt; &gt; &lt;Tab&gt; @cd ThatOther &#38;&#38; $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
</div>&gt; &gt; 
&gt; &gt; Hmmm.  There&#39;s special code in there for dmake on Win95 to generate
&gt; &gt;    exactly that.  It determines which style to use based on what&#39;s in
&gt; &gt;    $Config{make} &#40;ie. whatever make was used to build Perl&#41;.  Lemme
&gt; &gt;    guess, you&#39;re using nmake?
&gt; &gt; 
&gt; &gt; Try hand editing the Makefile so it has this:
&gt; &gt; 
&gt; &gt; subdirs ::
&gt; &gt;     cd ThatOther
&gt; &gt;     $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
&gt; &gt;     cd ..
&gt; &gt; 
&gt; &gt; that should work, but it might be noisy.  If so, try this:
&gt; &gt; 
&gt; &gt; subdirs ::
&gt; &gt;     @ cd ThatOther
&gt; &gt;     @ $&#40;MAKE&#41; all $&#40;PASTHRU&#41;
&gt; &gt;     @ cd ..
</div>&gt; 
&gt; 
</div></div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">*** ExtUtils/MM_Unix.pm.backup	Sat Aug 31 01:31:06 2002
--- ExtUtils/MM_Unix.pm	Sat Aug 31 01:55:42 2002
***************
*** 3315,3339 ****
  sub subdir_x {
      my&#40;$self, $subdir&#41; = @_;
      my&#40;@m&#41;;
!     if &#40;$Is_Win32 &#38;&#38; Win32::IsWin95&#40;&#41;&#41; {
! 	# XXX: dmake-specific, like rest of Win95 port
! 	return &lt;&lt;EOT;
! subdirs ::
! @[
! 	cd $subdir
! 	\$&#40;MAKE&#41; all \$&#40;PASTHRU&#41;
! 	cd ..
! ]
! EOT
!     }
!     else {
! 	return &lt;&lt;EOT;
  
  subdirs ::
  	$self-&gt;{NOECHO}cd $subdir &#38;&#38; \$&#40;MAKE&#41; all \$&#40;PASTHRU&#41;
  
  EOT
-     }
  }
  
  =item subdirs &#40;o&#41;
--- 3315,3326 ----
  sub subdir_x {
      my&#40;$self, $subdir&#41; = @_;
      my&#40;@m&#41;;
!     return &lt;&lt;EOT;
  
  subdirs ::
  	$self-&gt;{NOECHO}cd $subdir &#38;&#38; \$&#40;MAKE&#41; all \$&#40;PASTHRU&#41;
  
  EOT
  }
  
  =item subdirs &#40;o&#41;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;01&nbsp;20:16:15&nbsp;2002</span>
    <span class="description">kahn [...] cpan.org -  Requestor KAHN added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;13&nbsp;20:00:22&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The basic dmake vs nmake syntax problem was fixed in another patch, but I applied your cleanup to move the Windows specific code out of MM_Unix.  There is now an MM_Win95 and I put the subdir_x override there.  I also made only dmake the special case.  ie. instead of:

    if&#40; $DMAKE &#41; {
        ...dmake code...
    }
    elsif&#40; $NMAKE &#41; {
        ...nmake code....
    }

which causes a problem if someone uses something other than nmake or dmake.  Since the nmake code is pretty normal make code, its just the default.  Instead of the choice being dmake or nmake its now dmake or not dmake.

Snapshot is available on makemaker.org.  It will be in 6.06.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;13&nbsp;20:00:23&nbsp;2002</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
