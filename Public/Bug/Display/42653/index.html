<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #42653 for JavaScript: crash </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #42653 for JavaScript: crash </h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=JavaScript">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=JavaScript">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=JavaScript">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=JavaScript">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/JavaScript">JavaScript CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">42653</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=JavaScript">JavaScript</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
daphone [...] legitimatesounding.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-17548-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.08    </td>
  </tr>
  <tr id="CF-17549-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=42653">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-557812" href="/Public/Bug/Display.html?id=42653#txn-557812">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;21&nbsp;23:46:04&nbsp;2009</span>
    <span class="description">daphone [...] legitimatesounding.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> crash</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/557812/281467/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/281467">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 470b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">on 130th instance of javascript:

Failed to create runtime at /usr/lib/perl5/JavaScript/Runtime.pm line 30.

ubuntu 8.10, installed via apt-get install libjavascript-perl

quick way to reproduce:

#!/usr/bin/perl

use Benchmark;
use JavaScript;


my $i = 1;
timethese&#40;150,
{
    &#39;failure&#39; =&gt; sub {
         print $i . &#34;\n&#34;;
         $i++;
         my $rt = JavaScript::Runtime-&gt;new&#40;&#41;;
         my $cx = $rt-&gt;create_context&#40;&#41;;
         $cx-&gt;eval&#40;&#34;var i = 0;&#34;&#41;;
    }
}&#41;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-557849" href="/Public/Bug/Display.html?id=42653#txn-557849">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;03:15:13&nbsp;2009</span>
    <span class="description">claes [...] versed.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42653] crash </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 22 Jan 2009 09:14:58 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-JavaScript [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Claes Jakobsson &lt;claes [...] versed.se&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/557849/281489/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/281489">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

what version of JavaScript.pm does ubuntu package and what version of  
SpiderMonkey does it link against?

your testscript works fine on OS X using SM 1.7 and JavaScript.pm 1.11

/claes


On 22 jan 2009, at 05.46, jerry via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Wed Jan 21 23:46:04 2009: Request 42653 was acted upon.
&gt; Transaction: Ticket created by jerrysievert
&gt;       Queue: JavaScript
&gt;     Subject: crash
&gt;   Broken in: 1.08
&gt;    Severity: Normal
&gt;       Owner: Nobody
&gt;  Requestors: daphone@legitimatesounding.com
&gt;      Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=42653">https://rt.cpan.org/Ticket/Display.html?id=42653</a></span> &gt;
&gt;
&gt;
&gt; on 130th instance of javascript:
&gt;
&gt; Failed to create runtime at /usr/lib/perl5/JavaScript/Runtime.pm  
&gt; line 30.
&gt;
&gt; ubuntu 8.10, installed via apt-get install libjavascript-perl
&gt;
&gt; quick way to reproduce:
&gt;
&gt; #!/usr/bin/perl
&gt;
&gt; use Benchmark;
&gt; use JavaScript;
&gt;
&gt;
&gt; my $i = 1;
&gt; timethese&#40;150,
&gt; {
&gt;    &#39;failure&#39; =&gt; sub {
&gt;         print $i . &#34;\n&#34;;
&gt;         $i++;
&gt;         my $rt = JavaScript::Runtime-&gt;new&#40;&#41;;
&gt;         my $cx = $rt-&gt;create_context&#40;&#41;;
&gt;         $cx-&gt;eval&#40;&#34;var i = 0;&#34;&#41;;
&gt;    }
&gt; }&#41;;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-557850" href="/Public/Bug/Display.html?id=42653#txn-557850">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;03:15:14&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-558026" href="/Public/Bug/Display.html?id=42653#txn-558026">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;22&nbsp;10:16:23&nbsp;2009</span>
    <span class="description">daphone [...] legitimatesounding.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> daphone [...] legitimatesounding.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/558026/281590/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/281590">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 651b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 22 03:15:13 2009, claes@versed.se wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; what version of JavaScript.pm does ubuntu package and what version of  
&gt; SpiderMonkey does it link against?
&gt; 
&gt; your testscript works fine on OS X using SM 1.7 and JavaScript.pm 1.11
&gt; 
</div>
also works fine on redhat with sm 1.7 and javascript.pm 1.11.

ubuntu ships with javascript.pm 1.08, and links against mozlla javascript 1.8.1.

see:

<span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/ubuntu/intrepid/+source/libjavascript-perl/1.08-1">https://launchpad.net/ubuntu/intrepid/+source/libjavascript-perl/1.08-1</a></span>

for their patches.

see also:

<span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/ubuntu/intrepid/i386/libmozjs0d/1.8.1.16+nobinonly-0ubuntu1">https://launchpad.net/ubuntu/intrepid/i386/libmozjs0d/1.8.1.16+nobinonly-0ubuntu1</a></span>

let me know if i should send this to ubuntu instead.

thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-558683" href="/Public/Bug/Display.html?id=42653#txn-558683">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;23&nbsp;09:46:30&nbsp;2009</span>
    <span class="description">daphone [...] legitimatesounding.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> daphone [...] legitimatesounding.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/558683/281950/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/281950">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 551b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 22 10:16:23 2009, jerrysievert wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jan 22 03:15:13 2009, claes@versed.se wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; what version of JavaScript.pm does ubuntu package and what version
</div>&gt; of
<div class="message-stanza open">&gt; &gt; SpiderMonkey does it link against?
&gt; &gt;
&gt; &gt; your testscript works fine on OS X using SM 1.7 and JavaScript.pm
</div>&gt; 1.11
<div class="message-stanza open">&gt; &gt;
</div>&gt; 
&gt; also works fine on redhat with sm 1.7 and javascript.pm 1.11.
&gt; 
&gt; ubuntu ships with javascript.pm 1.08, and links against mozlla
&gt; javascript 1.8.1.
</div>

followed up - also fails in javascript.pm 1.11 with mozilla javascript 1.8.1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-558932" href="/Public/Bug/Display.html?id=42653#txn-558932">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;23&nbsp;17:38:36&nbsp;2009</span>
    <span class="description">claes [...] versed.se -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #42653] crash  </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 Jan 2009 23:37:54 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-JavaScript [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Claes Jakobsson &lt;claes [...] versed.se&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/558932/282115/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/282115">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 23 jan 2009, at 15.46, jerry via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: JavaScript
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=42653">https://rt.cpan.org/Ticket/Display.html?id=42653</a></span> &gt;
&gt;
&gt; On Thu Jan 22 10:16:23 2009, jerrysievert wrote:
<div class="message-stanza open">&gt;&gt; On Thu Jan 22 03:15:13 2009, claes@versed.se wrote:
<div class="message-stanza open">&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; what version of JavaScript.pm does ubuntu package and what version
</div>&gt;&gt; of
<div class="message-stanza open">&gt;&gt;&gt; SpiderMonkey does it link against?
&gt;&gt;&gt;
&gt;&gt;&gt; your testscript works fine on OS X using SM 1.7 and JavaScript.pm
</div>&gt;&gt; 1.11
<div class="message-stanza open">&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt; also works fine on redhat with sm 1.7 and javascript.pm 1.11.
&gt;&gt;
&gt;&gt; ubuntu ships with javascript.pm 1.08, and links against mozlla
&gt;&gt; javascript 1.8.1.
</div>&gt;
&gt;
&gt; followed up - also fails in javascript.pm 1.11 with mozilla  
&gt; javascript 1.8.1.
</div>
Officially I only support the standalone spidermonkey releases from  
Mozilla which at the date 1.7 is the latest. 1.8.1 is something  
they&#39;ve got with FF probably. The dists Makefile.PL does contain some  
checks to see if SM has been installed by some package manager but  
this will go away in some future version as it causes me to much hassle.

Could you download, build and test against the official SM release  
from mozilla &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/js/">http://ftp.mozilla.org/pub/mozilla.org/js/</a></span> 
js-1.7.0.tar.gz&#41; ?

If it still fails using JavaScript.pm 1.11 and SM 1.7 I&#39;ll take a look  
at it otherwise I&#39;ll close this as not a bug and you should report it  
to ubuntu or debian instead.

Thanks,
Claes
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-560915" href="/Public/Bug/Display.html?id=42653#txn-560915">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;28&nbsp;19:22:49&nbsp;2009</span>
    <span class="description">daphone [...] legitimatesounding.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> daphone [...] legitimatesounding.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/560915/283225/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/283225">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 316b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jan 23 17:38:36 2009, claes@versed.se wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If it still fails using JavaScript.pm 1.11 and SM 1.7 I&#39;ll take a look  
&gt; at it otherwise I&#39;ll close this as not a bug and you should report it  
&gt; to ubuntu or debian instead.
</div>
works with 1.7.1 - go ahead and close and i will report to debian/ubuntu.

thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-577999" href="/Public/Bug/Display.html?id=42653#txn-577999">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;15&nbsp;11:57:56&nbsp;2009</span>
    <span class="description">CLAESJAC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/577999/292078/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/292078">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 81b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Caused because upstreams SpiderMonkey package provided by distro isn&#39;t supported.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-578001" href="/Public/Bug/Display.html?id=42653#txn-578001">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;15&nbsp;11:57:57&nbsp;2009</span>
    <span class="description">CLAESJAC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.420584</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
