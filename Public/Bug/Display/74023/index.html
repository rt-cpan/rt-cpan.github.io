<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #74023 for Apache2-AuthenNTLM: Apache2::AuthenNTLM 0.02 - BASIC password problem when using punctuation?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #74023 for Apache2-AuthenNTLM: Apache2::AuthenNTLM 0.02 - BASIC password problem when using punctuation?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthenNTLM/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthenNTLM/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Apache2-AuthenNTLM/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Apache2-AuthenNTLM/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Apache2-AuthenNTLM">Apache2-AuthenNTLM CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">74023</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Apache2-AuthenNTLM/Active/">Apache2-AuthenNTLM</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Kristen.Glynn [...] virginaustralia.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2340-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2341-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




image003.gif<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1022636/533358/image003.gif">
Sun Jan 15 23:21:10 2012 (4.9k) by Kristen.Glynn [...] virginaustralia.com
</a>
</font></li>
</ul>


image005.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1022636/533359/image005.png">
Sun Jan 15 23:21:10 2012 (168b) by Kristen.Glynn [...] virginaustralia.com
</a>
</font></li>
</ul>


image006.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1022636/533360/image006.png">
Sun Jan 15 23:21:10 2012 (182b) by Kristen.Glynn [...] virginaustralia.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;15&nbsp;23:21:10&nbsp;2012</span>
    <span class="description">Kristen.Glynn [...] virginaustralia.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;speeves [...] unt.edu&#34; &lt;speeves [...] unt.edu&gt;, &#34;modperl [...] perl.apache.org&#34; &lt;modperl [...] perl.apache.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Apache2::AuthenNTLM 0.02 - BASIC password problem when using punctuation?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 16 Jan 2012 04:19:49 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Apache2-AuthenNTLM [...] rt.cpan.org&#34; &lt;bug-Apache2-AuthenNTLM [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kris Glynn &lt;Kristen.Glynn [...] virginaustralia.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;ve noticed that when using password &#34;Blahblah_&#34; I can not authenticate against a webserver protected by Apache2::AuthenNTLM using BASIC auth - other passwords I have tried are &#34;Blahblah.&#34;  / &#34;Blahblah#&#34; - if I change the users password to &#34;password&#34; everything works fine.

Why is this happening? See below.

wget --auth-no-challenge -d --no-proxy --http-user=&#34;citrixtest1&#34; --http-password=&#34;Blahblah_&#34; <span class="clickylink"><a target="new" rel="nofollow" href="http://server/location_protected_by_AuthenNTLM/">http://server/location_protected_by_AuthenNTLM/</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">---request begin---
GET /location_protected_by_AuthenNTLM/ HTTP/1.0
User-Agent: Wget/1.11.4 Red Hat modified
Accept: */*
Authorization: Basic Y2l0cml4dGVzdDE6QmxhaGJsYWhf
Host: server
Connection: Keep-Alive

<div class="message-stanza open">---request end---
HTTP request sent, awaiting response...
---response begin---
HTTP/1.1 401 Authorization Required
Date: Mon, 16 Jan 2012 04:06:59 GMT
Server: Apache
WWW-Authenticate: Basic realm=&#34;TEST&#34;
Content-Length: 401
Keep-Alive: timeout=600, max=10000
Connection: Keep-Alive
Content-Type: text/html; charset=iso-8859-1

<div class="message-stanza open">---response end---
401 Authorization Required

If I log into my domain controller and change the password to &#34;password&#34; it works fine.

wget --auth-no-challenge -d --no-proxy --http-user=&#34;citrixtest1&#34; --http-password=&#34;password&#34; <span class="clickylink"><a target="new" rel="nofollow" href="http://server/location_protected_by_AuthenNTLM/">http://server/location_protected_by_AuthenNTLM/</a></span>

<div class="message-stanza open">---request begin---
GET /location_protected_by_AuthenNTLM/ HTTP/1.0
User-Agent: Wget/1.11.4 Red Hat modified
Accept: */*
Authorization: Basic Y2l0cml4dGVzdDI6cGFzc3dvcmQ=
Host: server
Connection: Keep-Alive

<div class="message-stanza open">---request end---
HTTP request sent, awaiting response...
---response begin---
HTTP/1.1 200 OK
Date: Mon, 16 Jan 2012 04:10:49 GMT
Server: Apache
Pragma: no-cache
Cache-Control: no-cache
Expires: Thu, 01 Jan 1970 00:00:00 GMT
Cache-control: no-store
Cache-control: max-age=0
Content-Length: 739
Keep-Alive: timeout=600, max=10000
Connection: Keep-Alive
Content-Type: text/html;charset=ISO-8859-1

<div class="message-stanza open">---response end---
200 OK

My apache config looks like so..

  &lt;Location &#34;/location_protected_by_AuthenNTLM&#34;&gt;
    # Enable the Authentication module
    PerlAuthenHandler Apache2::AuthenNTLM

    # Do NTLM and basic authentication
    AuthType ntlm,basic

    # The name that should be displayed in the Auth box, if NTLM fails
    AuthName TEST

    # Ask for a valid user.
    require valid-user

    # Format: domain pdc bdc
    # Domain : Your windows domain
    # pdc : Primary Domain Controller
    # bdc : Backup Domain controller

    # Note : Multiple domains can be specified.

    PerlAddVar ntdomain &#34;TEST iskdc01 iskdc02&#34;

    # What should be the default domain
    PerlSetVar defaultdomain TEST
    PerlSetVar fallbackdomain TEST

    # The user names are in the form &#34;OURDOMAIN\user_name&#34;. Let us split it.
    PerlSetVar splitdomainprefix 0

    # Set the debug variables
    PerlSetVar ntlmdebug 2
    PerlSetVar ntlmauthoritative on
    PerlSetVar ntlmsemtimeout 5
  &lt;/Location&gt;


[Description: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.virginblue.com.au/_images/internal/email/virginaustralia.gif">http://www.virginblue.com.au/_images/internal/email/virginaustralia.gif</a></span>]

Kris Glynn | Systems Engineer
PO Box 1034 Spring Hill QLD Australia 4004
P 07 3295 3987 | M 0434 602 997
E kristen.glynn@virginaustralia.com www.virginaustralia.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.virginaustralia.com/">http://www.virginaustralia.com/</a></span>&gt;
Virgin Australia group of airlines including Virgin Australia,
V Australia, Pacific Blue and Polynesian Blue

Please consider the environment before printing this email.

[Description: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.virginblue.com.au/_images/internal/email/spacer.gif">http://www.virginblue.com.au/_images/internal/email/spacer.gif</a></span>]








The content of this e-mail, including any attachments, is a confidential communication between Virgin Australia, Pacific Blue or a related entity &#40;or the sender if this email is a private communication&#41; and the intended addressee and is for the sole use of that intended addressee. If you are not the intended addressee, any use, interference with, disclosure or copying of this material is unauthorized and prohibited. If you have received this e-mail in error please contact the sender immediately and then delete the message and any attachment&#40;s&#41;. There is no warranty that this email is error, virus or defect free. This email is also subject to copyright. No part of it should be reproduced, adapted or communicated without the written consent of the copyright owner. If this is a private communication it does not represent the views of Virgin Australia, Pacific Blue or their related entities. Please be aware that the contents of any emails sent to or from Virgin Australia, Pacific Blue or their related entities may be periodically monitored and reviewed. Virgin Australia, Pacific Blue and their related entities respect your privacy. Our privacy policy can be accessed from our website: www.virginaustralia.com
</div></div></div></div></div></div></div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022636/533358/image003.gif">Download image003.gif</a><br />
<span class="downloadcontenttype">image/gif 4.9k</span>
</div>
<div class="messagebody">
<img alt="image003.gif" title="image003.gif" src="/Ticket/Attachment/1022636/533358/" /></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022636/533359/image005.png">Download image005.png</a><br />
<span class="downloadcontenttype">image/png 168b</span>
</div>
<div class="messagebody">
<img alt="image005.png" title="image005.png" src="/Ticket/Attachment/1022636/533359/" /></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1022636/533360/image006.png">Download image006.png</a><br />
<span class="downloadcontenttype">image/png 182b</span>
</div>
<div class="messagebody">
<img alt="image006.png" title="image006.png" src="/Ticket/Attachment/1022636/533360/" /></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
