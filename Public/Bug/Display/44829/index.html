<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #44829 for Math-Polynomial: verbose stringize with leading -1 coeff</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #44829 for Math-Polynomial: verbose stringize with leading -1 coeff</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Math-Polynomial">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Math-Polynomial">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Math-Polynomial">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Math-Polynomial">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-Polynomial">Math-Polynomial CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">44829</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Math-Polynomial">Math-Polynomial</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">hasch-cpan [...] cozap.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
user42 [...] zip.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-20850-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.04    </td>
  </tr>
  <tr id="CF-20851-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.001    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=44829">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-587802" href="/Public/Bug/Display.html?id=44829#txn-587802">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;06&nbsp;16:47:50&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> verbose stringize with leading -1 coeff</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 07 Apr 2009 06:45:58 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-Polynomial [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/587802/297464/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/297464">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 363b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">With Math::Polynomial 0.04 and the debian perl 5.10.0, a program

    use Math::Polynomial;
    Math::Polynomial-&gt;verbose&#40;1&#41;;
    $poly = Math::Polynomial-&gt;new&#40;-1,0&#41;;
    print $poly,&#34;\n&#34;;

prints

    -*$X

where I hoped it would be just

    -$X

without the &#34;*&#34; multiply &#40;or alternately &#34;-1*$X&#34;, but I suppose from the
code the intention is to omit +1 or -1&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-588530" href="/Public/Bug/Display.html?id=44829#txn-588530">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;08&nbsp;08:56:17&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-588560" href="/Public/Bug/Display.html?id=44829#txn-588560">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;08&nbsp;10:09:07&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/588560/297850/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/297850">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 245b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for your report.  Stringification issues like this one are
addressed in the upcoming release of Math::Polynomial.  The old code for
this has been replaced completely.  You&#39;ll get nicer results and more
control, too.  Stay tuned.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-588561" href="/Public/Bug/Display.html?id=44829#txn-588561">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;08&nbsp;10:09:08&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-589414" href="/Public/Bug/Display.html?id=44829#txn-589414">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;21:25:20&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #44829] verbose stringize with leading -1 coeff</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 Apr 2009 11:24:48 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-Polynomial [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/589414/298377/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/298377">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Martin Becker via RT&#34; &lt;bug-Math-Polynomial@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Stringification
</div>
One form I wanted was something to cut and paste as code with nesting
instead of powering, like

    &#40;&#40;&#40;$x + 1&#41;*$x + 2&#41;*$x&#41; + 3

for x^3+x^2+2x+3.

I got to the slightly nasty few lines below.  I know there&#39;s advanced
strategies for reducing operations in such an expression to eval though.
Something geared towards perl could be cute.  Maybe it would mean += and
*= if they save a couple of cycles by being &#34;in-place&#34;.

    do { my $result=$x; $result+=1; $result*=$x; ...; $result }






sub to_string_for_eval {
  my &#40;$poly&#41; = @_;
  my $i = $poly-&gt;degree;
  if &#40;$i &lt; 0&#41; {
    return &#39;0&#39;;
  }

  # build in @ret to avoid O&#40;N^2&#41; string copying from a &#34;.=&#34; append
  my @ret = &#40;undef&#41;;
  my $need_parens = 0;
  my $open_parens = 0;
  my $times = &#39;&#39;;
  my $xpow = 0;

  {
    my $coeff = $poly-&gt;coeff&#40;$i&#41;;
    if &#40;$coeff == 1 &#38;&#38; $i &gt; 0&#41; {
      # just &#34;$X&#34; to start
    } elsif &#40;$coeff == -1 &#38;&#38; $i &gt; 0&#41; {
      my $minus = $CONFIG{MINUS};
      $minus =~ tr/ //d; # no spaces on leading &#39;-$X&#39;
      push @ret, $minus;
    } else {
      push @ret, &#34;$coeff&#34;;  # stringize
      $times = $CONFIG{TIMES};
    }
  }

  for &#40;;;&#41; {
    $i--;
    my $coeff;
    if &#40;$i &gt;= 0&#41; {
      $xpow++;
      $coeff = $poly-&gt;coeff&#40;$i&#41;;
      if &#40;$coeff == 0&#41; {
        next;
      }
    }
    if &#40;$xpow != 0&#41; {
      if &#40;$need_parens&#41; {
        $open_parens++;
        push @ret, &#39;&#41;&#39;;
      }
      push @ret, &#34;$times$CONFIG{VARIABLE}&#34;;
      $times = $CONFIG{TIMES};
      if &#40;$xpow &gt; 1&#41; {
        push @ret, &#34;$CONFIG{POWER}$xpow&#34;;
      }
      $xpow = 0;
    }
    if &#40;$i &lt; 0&#41; {
      last;
    }

    push @ret, &#40;$coeff &gt; 0 ? $CONFIG{PLUS}.$coeff : $CONFIG{MINUS}.-$coeff&#41;;
    $need_parens = 1;
  }
  $ret[0] = &#39;&#40;&#39; x $open_parens;
  return join&#40;&#39;&#39;, @ret&#41;;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607895" href="/Public/Bug/Display.html?id=44829#txn-607895">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;04:18:20&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Stringification &#40;was: verbose stringize with leading -1 coeff&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/607895/308188/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/308188">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 09 21:25:20 2009, user42@zip.com.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Martin Becker via RT&#34; &lt;bug-Math-Polynomial@rt.cpan.org&gt; writes:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Stringification
</div>&gt; 
&gt; One form I wanted was something to cut and paste as code with nesting
&gt; instead of powering, like
&gt; 
&gt;     &#40;&#40;&#40;$x + 1&#41;*$x + 2&#41;*$x&#41; + 3
&gt; 
&gt; for x^3+x^2+2x+3.
&gt; 
&gt; I got to the slightly nasty few lines below.  I know there&#39;s advanced
&gt; strategies for reducing operations in such an expression to eval though.
&gt; Something geared towards perl could be cute.  Maybe it would mean += and
&gt; *= if they save a couple of cycles by being &#34;in-place&#34;.
&gt; [code sample omitted]
</div>
If I got you right you want polynomials formatted like executable
perl code &#40;that&#39;s easy with Math::Polynomial 1.001&#41; and an option
to arrange output like a Horner schema rather than a sum of powers.

The latter can be done but I am not sure whether such a feature is
important enough to include it in the main module, as I/O is usually
more concerned about readability than hypothetical execution
performance.  My idea was that Math::Polynomial would be used to
evaluate polynomials directly without a code generation step
in-between.

Anyway, I put a Horner expression generator in the examples
collection distributed with Math::Polynomial 1.001 for your
pleasure.  Thanks for the suggestion.

And here is an example of how to coerce a polynomial into
perl code that will evaluate to creating the same polynomial
anew:

 use Math::Polynomial 1.001;
 my $p = Math::Polynomial-&gt;new&#40;0, -2, 1&#41;;
 my $config = {
   with_variable =&gt; 0,
   ascending     =&gt; 1,
   plus          =&gt; q{, },
   prefix        =&gt; q{Math::Polynomial-&gt;new&#40;},
   suffix        =&gt; q{&#41;},
 };
 print $p-&gt;as_string&#40;$config&#41;, &#34;\n&#34;;

Yours,
-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607905" href="/Public/Bug/Display.html?id=44829#txn-607905">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;04:19:03&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607907" href="/Public/Bug/Display.html?id=44829#txn-607907">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;04:19:04&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Severity Normal added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607908" href="/Public/Bug/Display.html?id=44829#txn-607908">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;04:19:04&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Broken in 0.04 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607909" href="/Public/Bug/Display.html?id=44829#txn-607909">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;20&nbsp;04:19:04&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Fixed in 1.001 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-610954" href="/Public/Bug/Display.html?id=44829#txn-610954">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;27&nbsp;19:58:22&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #44829] Stringification</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 28 May 2009 09:57:33 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-Polynomial [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/610954/309903/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/309903">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Martin Becker via RT&#34; &lt;bug-Math-Polynomial@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Horner schema rather than a sum of powers.
</div>
Yes, and I&#39;d be open to other eval strategies too.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; feature ... in the main module
</div>
Maybe a sub-module could do some things with eval strategies, either to
run within the program, or to print the approach chosen as an expression
or program code.  I suppose for a start it might find the roots and see
if there&#39;s some squared or higher terms to take out.  Though that might
be a bit like hard work, or might only work properly at all if
coefficients are exact &#40;integers or BigRats or whatnot&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Math::Polynomial would be used to evaluate polynomials directly
</div>
I had a bit of code with a poly in a single function, and thought not to
depend on a math module at runtime when I could cut and paste reasonably
easily.

For interest the worst one is a kind of nested job, a poly with terms
which are polys themselves.

    sub laguerre_omitted {
      my &#40;$f, $k&#41; = @_;
      return
        $f ** &#40;$k-2&#41;
          * &#40;&#40;1/36*$k**2 + -1/36&#41;*$k
            + &#40;$f      # f^&#40;$k-1&#41;
              * &#40;&#40;1/4*$k + 1/4&#41;*$k
                + &#40;$f      # f^$k
                  * &#40;&#40;&#40;&#40;-1/12*$k + -1/6&#41;*$k + 3/4&#41;*$k + 5/6&#41;
        ...

I calculate the terms like &#34;&#40;1/36*$k**2 + -1/36&#41;*$k&#34; in a separate slow
program and it prints the slightly diabolical result to paste.  The
outer eval in $f is an explicit print, I was only looking at the terms
in $k for Math::Polynomial to do.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-610955" href="/Public/Bug/Display.html?id=44829#txn-610955">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;27&nbsp;19:58:23&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-611373" href="/Public/Bug/Display.html?id=44829#txn-611373">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;28&nbsp;22:00:54&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/611373/310157/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/310157">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 27 19:58:22 2009, user42@zip.com.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Martin Becker via RT&#34; &lt;bug-Math-Polynomial@rt.cpan.org&gt; writes:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Horner schema rather than a sum of powers.
</div>&gt; 
&gt; Yes, and I&#39;d be open to other eval strategies too.
&gt; 
<div class="message-stanza open">&gt; &gt; feature ... in the main module
</div>&gt; 
&gt; Maybe a sub-module could do some things with eval strategies, either to
&gt; run within the program, or to print the approach chosen as an expression
&gt; or program code.  I suppose for a start it might find the roots and see
&gt; if there&#39;s some squared or higher terms to take out.  Though that might
&gt; be a bit like hard work, or might only work properly at all if
&gt; coefficients are exact &#40;integers or BigRats or whatnot&#41;.
</div>
I see, but I think stuff like this should best be covered by a symbolic
math package or in any case something more generic than
Math::Polynomial.  You&#39;d use very similar algorithms for rational
functions, for example.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Math::Polynomial would be used to evaluate polynomials directly
</div>&gt; 
&gt; [code generation usage example]
</div>
Thanks for the background.  Now I can see where a different kind of
formatting would have come in handy for you.  But I stand by my decision
not to make this core functionality.  It will be in
Math::Polynomial::PrettyPrint when I get around to it.

I close this ticket again, as it was mainly about a bug which has been
fixed.

Cheers,
-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-611376" href="/Public/Bug/Display.html?id=44829#txn-611376">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;28&nbsp;22:00:57&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612343" href="/Public/Bug/Display.html?id=44829#txn-612343">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;30&nbsp;21:24:29&nbsp;2009</span>
    <span class="description">user42 [...] zip.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #44829] verbose stringize with leading -1 coeff</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 31 May 2009 11:24:03 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-Polynomial [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kevin Ryde &lt;user42 [...] zip.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/612343/310698/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/310698">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 535b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Martin Becker via RT&#34; &lt;bug-Math-Polynomial@rt.cpan.org&gt; writes:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; a different kind of formatting would have come in handy
</div>
Some horner form printing could go in a submodule like
Math::Polynomial::Horner.  A separate module would keep it out of normal
operations, but be more accessible than an example program.  It could
obey existing stringize options, plus perhaps some extras like emitting
perl code with &#34;*=&#34; etc if that looks like being a speedup, or clearer.
I might work up something like that, if you don&#39;t get to it first.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612344" href="/Public/Bug/Display.html?id=44829#txn-612344">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;30&nbsp;21:24:30&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612871" href="/Public/Bug/Display.html?id=44829#txn-612871">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;01&nbsp;08:15:47&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Reference by ticket #46575 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612872" href="/Public/Bug/Display.html?id=44829#txn-612872">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;01&nbsp;08:20:16&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/612872/311022/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/311022">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 424b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat May 30 21:24:29 2009, user42@zip.com.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Some horner form printing could go in a submodule like
&gt; Math::Polynomial::Horner.  A separate module would keep it out of normal
&gt; operations, but be more accessible than an example program.
</div>
This issue has now an own ticket:
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46575">https://rt.cpan.org/Ticket/Display.html?id=46575</a></span>

I&#39;ll close 44829 again as the -1 bug addressed in the original report is
resolved.

-Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612875" href="/Public/Bug/Display.html?id=44829#txn-612875">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;01&nbsp;08:20:18&nbsp;2009</span>
    <span class="description">hasch-cpan [...] cozap.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.674117</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
