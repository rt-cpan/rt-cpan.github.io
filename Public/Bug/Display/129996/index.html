<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #129996 for Test-Trap: fail Test-Trap-v0.3.4\t\15-tempfile-options.t  Error removing C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm line 762.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #129996 for Test-Trap: fail Test-Trap-v0.3.4\t\15-tempfile-options.t  Error removing C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm line 762.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Trap">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Trap">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Trap">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Trap">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Trap">Test-Trap CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">129996</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Trap">Test-Trap</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
b3608017 [...] urhen.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40950-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
v0.3.4    </td>
  </tr>
  <tr id="CF-40951-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=129996">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1854965" href="/Public/Bug/Display.html?id=129996#txn-1854965">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;06&nbsp;17:51:57&nbsp;2019</span>
    <span class="description">b3608017 [...] urhen.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fail Test-Trap-v0.3.4\t\15-tempfile-options.t  Error removing
 C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm
 line 762.</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1854965/996504/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/996504">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi
I discovered this after encountering

MarpaX-Languages-C-AST-0.48\t\syntax-error.t
$ perl -Mblib -T t/syntax-error.t
1..2
ok 1 - use MarpaX::Languages::C::AST;
Uncaught exception from user code:
        Rethrowing internal exception: Error in tempfile&#40;&#41; using template \XXXXXXXXXX: Could not create temp file \FlANM
A498Z: Permission denied at D:/citrusperl/site/lib/Test/Trap/Builder/TempFile.pm line 29.
         at t/syntax-error.t line 15.
        Test::Trap::Builder::trap&#40;&#39;Test::Trap::Builder=HASH&#40;0xc3bb7c&#41;&#39;, &#39;Test::Trap&#39;, &#39;GLOB&#40;0xbb0dd4&#41;&#39;, &#39;ARRAY&#40;0xc7410c&#41;
&#39;, &#39;CODE&#40;0x33f901c&#41;&#39;&#41; called at D:/citrusperl/site/lib/Test/Trap.pm line 38
        Test::Trap::__ANON__&#40;&#39;CODE&#40;0x33f901c&#41;&#39;&#41; called at t/syntax-error.t line 15
# Looks like you planned 2 tests but ran 1.
# Looks like your test exited with 255 just after 1.




The same error happens with both version of File::Temp

$ mversion Test::Trap File::Temp
0.3.4
0.2304

$ mversion Test::Trap File::Temp
0.3.4
0.2309


$ perl -T t/15-tempfile-options.t
1..30
ok 1 - TempFile &#39;basic&#39; strategy doesn&#39;t handle l stroke
ok 2 -  &#40;and warns&#41;
ok 3 - TempFile &#39;preserve&#39; strategy doesn&#39;t handle l stroke
ok 4 -  &#40;and warns&#41;
ok 5 - TempFile &#39;utf8&#39; strategy handles l stroke
ok 6 -  &#40;no warning&#41;
ok 7 - TempFile &#39;both&#39; strategy handles l stroke
ok 8 -  &#40;no warning&#41;
ok 9 - TempFile &#39;latin2&#39; strategy handles l stroke
ok 10 -         &#40;no warning&#41;
ok 11 - TempFile &#39;basic&#39; strategy doesn&#39;t handle pi
ok 12 -         &#40;and warns&#41;
ok 13 - TempFile &#39;preserve&#39; strategy handles pi
ok 14 -         &#40;no warning&#41;
ok 15 - TempFile &#39;utf8&#39; strategy handles pi
ok 16 -         &#40;no warning&#41;
ok 17 - TempFile &#39;both&#39; strategy handles pi
ok 18 -         &#40;no warning&#41;
ok 19 - TempFile &#39;latin2&#39; strategy doesn&#39;t handle pi; falls back to \x notation
ok 20 -         &#40;and warns&#41;
ok 21 - TempFile &#39;basic&#39; strategy doesn&#39;t handle per mille
ok 22 -         &#40;and warns&#41;
ok 23 - TempFile &#39;preserve&#39; strategy doesn&#39;t handle per mille; falls back to \x notation
ok 24 -         &#40;and warns&#41;
ok 25 - TempFile &#39;utf8&#39; strategy handles per mille
ok 26 -         &#40;no warning&#41;
ok 27 - TempFile &#39;both&#39; strategy doesn&#39;t handle per mille; falls back to \x notation
ok 28 -         &#40;and warns&#41;
ok 29 - TempFile &#39;latin2&#39; strategy doesn&#39;t handle per mille; falls back to \x notation
ok 30 -         &#40;and warns&#41;
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/gSqD0Ayd4D at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/5fbToMPS5e at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/DUYa0LOsZS at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/6IfAtLfn9d at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/iUGdsRfRif at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/zqr1Xcs6cF at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/gBVpxNGmo9 at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/iFwhB_2RWK at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/1VVK6HLWa0 at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/cVMA84d9Un at D:/citrusperl/site/lib/File/Temp.pm line 762.
Error removing C:/DOCUME~1/username/LOCALS~1/Temp/T9pfTbAEJv at D:/citrusperl/site/lib/File/Temp.pm line 762.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1855088" href="/Public/Bug/Display.html?id=129996#txn-1855088">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;07&nbsp;10:01:07&nbsp;2019</span>
    <span class="description">sidhekin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #129996] fail Test-Trap-v0.3.4\t\15-tempfile-options.t Error removing C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm line 762.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 7 Jul 2019 16:00:46 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Trap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> The Sidhekin &lt;sidhekin [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1855088/996565/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/996565">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Jul 6, 2019 at 11:52 PM noreply via RT &lt;bug-Test-Trap@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sat Jul 06 17:51:57 2019: Request 129996 was acted upon.
&gt; Transaction: Ticket created by b3608017@urhen.com
&gt;        Queue: Test-Trap
&gt;      Subject: fail Test-Trap-v0.3.4\t\15-tempfile-options.t  Error removing
&gt;  C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at
&gt; D:/citrusperl/site/lib/File/Temp.pm
&gt;  line 762.
&gt;    Broken in: v0.3.4
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: b3608017@urhen.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=129996">https://rt.cpan.org/Ticket/Display.html?id=129996</a></span> &gt;
&gt;
&gt;
&gt; Hi
&gt; I discovered this after encountering
&gt;
&gt; MarpaX-Languages-C-AST-0.48\t\syntax-error.t
&gt; $ perl -Mblib -T t/syntax-error.t
&gt; 1..2
&gt; ok 1 - use MarpaX::Languages::C::AST;
&gt; Uncaught exception from user code:
&gt;         Rethrowing internal exception: Error in tempfile&#40;&#41; using template
&gt; \XXXXXXXXXX: Could not create temp file \FlANM
&gt; A498Z: Permission denied at
&gt; D:/citrusperl/site/lib/Test/Trap/Builder/TempFile.pm line 29.
&gt;
</div>
  The Test::Trap modules don&#39;t set the template, or anything from which it
is built &#40;directory, prefix, suffix&#41;, so this seems to originate from your
installation or run-time configuration of File::Temp.

  Does File::Temp work if you call it directly, with the same user, drive,
and other environment?

perl -MFile::Temp=tempfile -e &#34;tempfile&#40;&#41;&#34;

  If this fails, the File::Temp installation or configuration is broken.
&#40;Perhaps the default temp dir is missing a drive letter?&#41;

  And if this works, I&#39;d guess something in your build or test process is
changing your user, drive, or other environment.

  &#40;Either way, while I&#39;m no expert on File::Temp, or even Windows, it seems
kinda suspicious that the template does not include a drive letter.  It
seems it would make File::Temp try to create the temp files on the current
drive, and the user might easily have permissions on the root directory of
some drive but not the others.  Or maybe that&#39;s just how Windows works?&#41;


$ perl -T t/15-tempfile-options.t
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1..30
&gt;
</div>[ snip ]

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Error removing C:/DOCUME~1/username/LOCALS~1/Temp/1VVK6HLWa0 at
&gt; D:/citrusperl/site/lib/File/Temp.pm line 762.
&gt; Error removing C:/DOCUME~1/username/LOCALS~1/Temp/cVMA84d9Un at
&gt; D:/citrusperl/site/lib/File/Temp.pm line 762.
&gt; Error removing C:/DOCUME~1/username/LOCALS~1/Temp/T9pfTbAEJv at
&gt; D:/citrusperl/site/lib/File/Temp.pm line 762.
&gt;
</div>
  I have seen these warnings before, but only in smoke reports.  I have not
been able to reproduce them.

  Yes, they claim to be errors, but they are caught by File::Temp and
reported as warnings.  Noise and clutter, but no harm done.

  They do not impact the functionality of Test::Trap; at most they may
cause it to fail to clean up after itself &#40;I don&#39;t know if it actually
does; I have not reproduced this&#41;.

  If I knew what to do to make File::Temp&#39;s cleanup work right, I would,
but I have no idea, and I doubt it is high priority to anyone – certainly
no one has volunteered to help track it down.

  And just to be clear, these warnings do not cause the failures to create
tempfiles while using Test::Trap.


Eirik
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1855088/996566/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/996566">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1855089" href="/Public/Bug/Display.html?id=129996#txn-1855089">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;07&nbsp;10:01:08&nbsp;2019</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1855092" href="/Public/Bug/Display.html?id=129996#txn-1855092">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;07&nbsp;11:10:15&nbsp;2019</span>
    <span class="description">sidhekin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #129996] fail Test-Trap-v0.3.4\t\15-tempfile-options.t Error removing C:/DOCUME~1/usr/LOCALS~1/Temp/775O0HKOLH at D:/citrusperl/site/lib/File/Temp.pm line 762.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 7 Jul 2019 17:09:55 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Test-Trap [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> The Sidhekin &lt;sidhekin [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1855092/996570/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/996570">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I could be more clear here:

        Rethrowing internal exception: Error in tempfile&#40;&#41; using template
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; \XXXXXXXXXX: Could not create temp file \FlANM
&gt; A498Z: Permission denied at
&gt; D:/citrusperl/site/lib/Test/Trap/Builder/TempFile.pm line 29.
&gt;          at t/syntax-error.t line 15.
&gt;
</div>[snip]

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Error removing C:/DOCUME~1/username/LOCALS~1/Temp/T9pfTbAEJv at
&gt; D:/citrusperl/site/lib/File/Temp.pm line 762.
&gt;
</div>
  In these two processes, File::Temp is looking at two different
directories.  It should be working in File::Spec-&gt;tmpdir, but something
&#40;environment?&#41; is causing it to have two different values in your two runs.

  File::Temp::Win32::tmpdir &#40;which I assume you&#39;re using&#41; is documented to
return &#34;a string representation of the first existing directory
from the following list&#34;:

    $ENV{TMPDIR}
    $ENV{TEMP}
    $ENV{TMP}
    SYS:/temp
    C:\system\temp
    C:/temp
    /tmp
    /

  Running MarpaX-Languages-C-AST-0.48\t\syntax-error.t, it seems to use
&#34;/&#34;; running Test-Trap&#39;s t/15-tempfile-options.t, it seems to use
&#34;C:/DOCUME~1/username/LOCALS~1/Temp/&#34;.

  The former fails &#40;file creation permission denied&#41;; the latter works
&#40;even if the cleanup seems to fail, and may leave leftovers in
&#34;C:/DOCUME~1/username/LOCALS~1/Temp/&#34;&#41;.


Eirik
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1855092/996571/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/996571">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.38005</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
