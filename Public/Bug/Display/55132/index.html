<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #55132 for Module-Install: &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #55132 for Module-Install: &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Module-Install">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Module-Install">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Module-Install">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Module-Install">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Install">Module-Install CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">55132</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Module-Install">Module-Install</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
marcoep [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-21632-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.94    </td>
  </tr>
  <tr id="CF-21633-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=55132">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-741321" href="/Public/Bug/Display.html?id=55132#txn-741321">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;02&nbsp;06:32:02&nbsp;2010</span>
    <span class="description">marcoep [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/741321/383194/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/383194">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 551b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

It looks like &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP:
  
  $ grep skip-foo MANIFEST

  $ grep skip-foo MANIFEST.SKIP
  skip-foo

  $ make skipcheck 2&gt;&#38;1 | grep skip-foo
  Skipping blib/lib/DMWeb/skip-foo
  Skipping skip-foo

  $ make install 2&gt;&#38;1 | grep skip-foo
  Installing /data/home/poleggim/tmp/perl/lib/perl5/DMWeb/skip-foo

Though &#39;skip-foo&#39; is correctly skipped when building a distribution package:

  $ make dist 2&gt;&#38;1 | grep skip-foo
  $ gtar ztvf DMWeb-3.1.901.tar.gz | grep  skip-foo

Am I missing something?

Best,

  Marco
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-742779" href="/Public/Bug/Display.html?id=55132#txn-742779">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;04&nbsp;18:39:54&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/742779/384005/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/384005">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 924b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi. Which version of 1&#41; Module::Install, 2&#41; ExtUtils::Manifest, 3&#41; 
ExtUtils::Install, 4&#41; OS do you use? And does your Makefile.PL have 
&#34;install_share&#40;&#41;&#34;? Please give us more detailed information like 
complete Makefile.PL/install log etc to know what&#39;s going on.

On 2010-3-02 Tue 06:32:02, marcoep@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi there,
&gt; 
&gt; It looks like &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP:
&gt;   
&gt;   $ grep skip-foo MANIFEST
&gt; 
&gt;   $ grep skip-foo MANIFEST.SKIP
&gt;   skip-foo
&gt; 
&gt;   $ make skipcheck 2&gt;&#38;1 | grep skip-foo
&gt;   Skipping blib/lib/DMWeb/skip-foo
&gt;   Skipping skip-foo
&gt; 
&gt;   $ make install 2&gt;&#38;1 | grep skip-foo
&gt;   Installing /data/home/poleggim/tmp/perl/lib/perl5/DMWeb/skip-foo
&gt; 
&gt; Though &#39;skip-foo&#39; is correctly skipped when building a distribution 
</div>package:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt;   $ make dist 2&gt;&#38;1 | grep skip-foo
&gt;   $ gtar ztvf DMWeb-3.1.901.tar.gz | grep  skip-foo
&gt; 
&gt; Am I missing something?
&gt; 
&gt; Best,
&gt; 
&gt;   Marco
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-742782" href="/Public/Bug/Display.html?id=55132#txn-742782">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;04&nbsp;18:39:55&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-742783" href="/Public/Bug/Display.html?id=55132#txn-742783">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;04&nbsp;18:39:56&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-742860" href="/Public/Bug/Display.html?id=55132#txn-742860">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;04&nbsp;23:58:55&nbsp;2010</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55132] &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Mar 2010 15:57:58 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Install [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/742860/384054/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/384054">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Is MANIFEST supposed to have any relationship with make install at all?

MANIFEST describes the list of files in the tarball, MANIFEST.SKIP
lists the patterns to exclude from manifest.

Both of these are dist-time features, not install time features.

I could be wrong though...

Adam K

On 2 March 2010 22:32, Marco Emilio Poleggi via RT
&lt;bug-Module-Install@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Mar 02 06:32:02 2010: Request 55132 was acted upon.
&gt; Transaction: Ticket created by marcoep@gmail.com
&gt; Â  Â  Â  Queue: Module-Install
&gt; Â  Â  Subject: &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP
&gt; Â  Broken in: 0.94
&gt; Â  Â Severity: Normal
&gt; Â  Â  Â  Owner: Nobody
&gt; Â Requestors: marcoep@gmail.com
&gt; Â  Â  Â Status: new
&gt; Â Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55132">https://rt.cpan.org/Ticket/Display.html?id=55132</a></span> &gt;
&gt;
&gt;
&gt; Hi there,
&gt;
&gt; It looks like &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP:
&gt;
&gt; Â $ grep skip-foo MANIFEST
&gt;
&gt; Â $ grep skip-foo MANIFEST.SKIP
&gt; Â skip-foo
&gt;
&gt; Â $ make skipcheck 2&gt;&#38;1 | grep skip-foo
&gt; Â Skipping blib/lib/DMWeb/skip-foo
&gt; Â Skipping skip-foo
&gt;
&gt; Â $ make install 2&gt;&#38;1 | grep skip-foo
&gt; Â Installing /data/home/poleggim/tmp/perl/lib/perl5/DMWeb/skip-foo
&gt;
&gt; Though &#39;skip-foo&#39; is correctly skipped when building a distribution package:
&gt;
&gt; Â $ make dist 2&gt;&#38;1 | grep skip-foo
&gt; Â $ gtar ztvf DMWeb-3.1.901.tar.gz | grep Â skip-foo
&gt;
&gt; Am I missing something?
&gt;
&gt; Best,
&gt;
&gt; Â Marco
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-742863" href="/Public/Bug/Display.html?id=55132#txn-742863">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;04&nbsp;23:58:56&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-745759" href="/Public/Bug/Display.html?id=55132#txn-745759">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;13:03:00&nbsp;2010</span>
    <span class="description">marcoep [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marcoep [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/745759/385647/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/385647">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi there,

More info:

  $ perl -V
  Summary of my perl5 &#40;revision 5 version 8 subversion 7&#41; configuration:
    Platform:
      osname=solaris, osvers=2.10, archname=sun4-solaris
      uname=&#39;sunos 5.10 s10_60 sun4u sparc sunw,ultra-5_10 &#39;

Relevant modules:

  ExtUtils::Install                        1.52
  ExtUtils::MakeMaker                      6.56
  ExtUtils::Manifest                       1.56
  Module::Install                          0.94

No install_share&#40;&#41; in Makefile.PL

Le Jeu 04 Mar 2010 23:58:55, adam@ali.as a Ã©critÂ :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is MANIFEST supposed to have any relationship with make install at
&gt; all?
</div>
Good question, I guess the ExtUtils::Install&#39;s and ExtUtils::Manifest&#39;s
guys should be able to answer this &#40;at least &#34;philosophically&#34;&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; MANIFEST describes the list of files in the tarball, MANIFEST.SKIP
&gt; lists the patterns to exclude from manifest.
&gt; 
&gt; Both of these are dist-time features, not install time features.
</div>
Right, but what does it happen exactly when one calls &#34;make install&#34;? It
looks like it picks up whatever it founds recursively... 

BTW, I found that using an INSTALL.SKIP file &#40;as per ExtUtils::Install&#41;
solves the issue. So, this ticket is probably invalid. Nonetheless a
mention of ExtUtils::Install in the documentation would be helpful.

Cheers,
  
  Marco


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I could be wrong though...
&gt; 
&gt; Adam K
&gt; 
&gt; On 2 March 2010 22:32, Marco Emilio Poleggi via RT
&gt; &lt;bug-Module-Install@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; Tue Mar 02 06:32:02 2010: Request 55132 was acted upon.
&gt; &gt; Transaction: Ticket created by marcoep@gmail.com
&gt; &gt; Â  Â  Â  Queue: Module-Install
&gt; &gt; Â  Â  Subject: &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP
&gt; &gt; Â  Broken in: 0.94
&gt; &gt; Â  Â Severity: Normal
&gt; &gt; Â  Â  Â  Owner: Nobody
&gt; &gt; Â Requestors: marcoep@gmail.com
&gt; &gt; Â  Â  Â Status: new
&gt; &gt; Â Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55132">https://rt.cpan.org/Ticket/Display.html?id=55132</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Hi there,
&gt; &gt;
&gt; &gt; It looks like &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP:
&gt; &gt;
&gt; &gt; Â $ grep skip-foo MANIFEST
&gt; &gt;
&gt; &gt; Â $ grep skip-foo MANIFEST.SKIP
&gt; &gt; Â skip-foo
&gt; &gt;
&gt; &gt; Â $ make skipcheck 2&gt;&#38;1 | grep skip-foo
&gt; &gt; Â Skipping blib/lib/DMWeb/skip-foo
&gt; &gt; Â Skipping skip-foo
&gt; &gt;
&gt; &gt; Â $ make install 2&gt;&#38;1 | grep skip-foo
&gt; &gt; Â Installing /data/home/poleggim/tmp/perl/lib/perl5/DMWeb/skip-foo
&gt; &gt;
&gt; &gt; Though &#39;skip-foo&#39; is correctly skipped when building a distribution
</div>&gt; package:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Â $ make dist 2&gt;&#38;1 | grep skip-foo
&gt; &gt; Â $ gtar ztvf DMWeb-3.1.901.tar.gz | grep Â skip-foo
&gt; &gt;
&gt; &gt; Am I missing something?
&gt; &gt;
&gt; &gt; Best,
&gt; &gt;
&gt; &gt; Â Marco
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-746007" href="/Public/Bug/Display.html?id=55132#txn-746007">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;20:46:55&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/746007/385758/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/385758">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Try &#34;make clean&#34; first to remove your &#40;probably stale&#41; blib directory, 
and then confirm your MANIFEST.SKIP has a &#34;skip-foo&#34; entry, and do 
&#34;perl Makefile.PL &#38;&#38; make&#34; again. If you still have &#34;blib/lib/DMWeb/
skip-foo&#34; &#40;which will be installed when you &#34;make install&#34;&#41;, then most 
probably it&#39;s a bug in ExtUtils::Manifest, so please forward this to 
its queue. If not, that&#39;s because your blib directory had an old skip-
foo file which probably you forgot to remove while testing. There may 
be other factors I don&#39;t take into account &#40;don&#39;t you use any functions 
to copy things into blib sub-directories, right?&#41;, but for now I close 
this ticket as &#34;not for us&#34;. If you still think this is our bug, please 
reopen this. Thanks.

On 2010-3-10 Wed 13:03:00, marcoep@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi there,
&gt; 
&gt; More info:
&gt; 
&gt;   $ perl -V
&gt;   Summary of my perl5 &#40;revision 5 version 8 subversion 7&#41; 
</div>configuration:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     Platform:
&gt;       osname=solaris, osvers=2.10, archname=sun4-solaris
&gt;       uname=&#39;sunos 5.10 s10_60 sun4u sparc sunw,ultra-5_10 &#39;
&gt; 
&gt; Relevant modules:
&gt; 
&gt;   ExtUtils::Install                        1.52
&gt;   ExtUtils::MakeMaker                      6.56
&gt;   ExtUtils::Manifest                       1.56
&gt;   Module::Install                          0.94
&gt; 
&gt; No install_share&#40;&#41; in Makefile.PL
&gt; 
&gt; Le Jeu 04 Mar 2010 23:58:55, adam@ali.as a Ã©critÂ :
<div class="message-stanza open">&gt; &gt; Is MANIFEST supposed to have any relationship with make install at
&gt; &gt; all?
</div>&gt; 
&gt; Good question, I guess the ExtUtils::Install&#39;s and 
</div>ExtUtils::Manifest&#39;s
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; guys should be able to answer this &#40;at least &#34;philosophically&#34;&#41;.
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; MANIFEST describes the list of files in the tarball, MANIFEST.SKIP
&gt; &gt; lists the patterns to exclude from manifest.
&gt; &gt; 
&gt; &gt; Both of these are dist-time features, not install time features.
</div>&gt; 
&gt; Right, but what does it happen exactly when one calls &#34;make install&#34;? 
</div>It
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; looks like it picks up whatever it founds recursively... 
&gt; 
&gt; BTW, I found that using an INSTALL.SKIP file &#40;as per 
</div>ExtUtils::Install&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; solves the issue. So, this ticket is probably invalid. Nonetheless a
&gt; mention of ExtUtils::Install in the documentation would be helpful.
&gt; 
&gt; Cheers,
&gt;   
&gt;   Marco
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; I could be wrong though...
&gt; &gt; 
&gt; &gt; Adam K
&gt; &gt; 
&gt; &gt; On 2 March 2010 22:32, Marco Emilio Poleggi via RT
&gt; &gt; &lt;bug-Module-Install@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &gt; Tue Mar 02 06:32:02 2010: Request 55132 was acted upon.
&gt; &gt; &gt; Transaction: Ticket created by marcoep@gmail.com
&gt; &gt; &gt; Â  Â  Â  Queue: Module-Install
&gt; &gt; &gt; Â  Â  Subject: &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP
&gt; &gt; &gt; Â  Broken in: 0.94
&gt; &gt; &gt; Â  Â Severity: Normal
&gt; &gt; &gt; Â  Â  Â  Owner: Nobody
&gt; &gt; &gt; Â Requestors: marcoep@gmail.com
&gt; &gt; &gt; Â  Â  Â Status: new
&gt; &gt; &gt; Â Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55132">https://rt.cpan.org/Ticket/Display.html?id=55132</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Hi there,
&gt; &gt; &gt;
&gt; &gt; &gt; It looks like &#34;make install&#34; doesn&#39;t honor MANIFEST.SKIP:
&gt; &gt; &gt;
&gt; &gt; &gt; Â $ grep skip-foo MANIFEST
&gt; &gt; &gt;
&gt; &gt; &gt; Â $ grep skip-foo MANIFEST.SKIP
&gt; &gt; &gt; Â skip-foo
&gt; &gt; &gt;
&gt; &gt; &gt; Â $ make skipcheck 2&gt;&#38;1 | grep skip-foo
&gt; &gt; &gt; Â Skipping blib/lib/DMWeb/skip-foo
&gt; &gt; &gt; Â Skipping skip-foo
&gt; &gt; &gt;
&gt; &gt; &gt; Â $ make install 2&gt;&#38;1 | grep skip-foo
&gt; &gt; &gt; Â Installing /data/home/poleggim/tmp/perl/lib/perl5/DMWeb/skip-foo
&gt; &gt; &gt;
&gt; &gt; &gt; Though &#39;skip-foo&#39; is correctly skipped when building a 
</div></div></div>distribution
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; package:
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; Â $ make dist 2&gt;&#38;1 | grep skip-foo
&gt; &gt; &gt; Â $ gtar ztvf DMWeb-3.1.901.tar.gz | grep Â skip-foo
&gt; &gt; &gt;
&gt; &gt; &gt; Am I missing something?
&gt; &gt; &gt;
&gt; &gt; &gt; Best,
&gt; &gt; &gt;
&gt; &gt; &gt; Â Marco
&gt; &gt; &gt;
</div></div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-746010" href="/Public/Bug/Display.html?id=55132#txn-746010">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;20:46:59&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-746183" href="/Public/Bug/Display.html?id=55132#txn-746183">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;05:35:50&nbsp;2010</span>
    <span class="description">marcoep [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marcoep [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/746183/385832/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/385832">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer 10 Mar 2010 20:46:55, ISHIGAKI a Ã©critÂ :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Try &#34;make clean&#34; first to remove your &#40;probably stale&#41; blib directory, 
&gt; and then confirm your MANIFEST.SKIP has a &#34;skip-foo&#34; entry, and do 
&gt; &#34;perl Makefile.PL &#38;&#38; make&#34; again. If you still have &#34;blib/lib/DMWeb/
&gt; skip-foo&#34; &#40;which will be installed when you &#34;make install&#34;&#41;, then most 
&gt; probably it&#39;s a bug in ExtUtils::Manifest, so please forward this to 
&gt; its queue. If not, that&#39;s because your blib directory had an old skip-
&gt; foo file which probably you forgot to remove while testing. There may 
&gt; be other factors I don&#39;t take into account &#40;don&#39;t you use any functions 
&gt; to copy things into blib sub-directories, right?&#41;, but for now I close 
&gt; this ticket as &#34;not for us&#34;. If you still think this is our bug, please 
&gt; reopen this. Thanks.
&gt; 
</div>
Hi, after every test I did, I always run a &#34;make realclean&#34;, so no risk
at all to stumble upon stale stuff. I know pretty well the nastiness of
forgetting the blib/ there ;-&#41;.

I now believe there&#39;s no bug indeed, just a lack of information about
the &#40;rather complicated&#41; build process. I just ended up over
INSTALL.SKIP after digging the whole chain of doc pages: its use make
indeed sense, &#39;cause, as Adam said, the manifest stuff relates to
distribution building.

A possible improvement for M::I &#40;or lower down the chain&#41;, might be
automatically handling of INSTALL.SKIP = MANIFEST.SKIP, though, beware
of putting a line like this in INSTALL.SKIP

  ^blib

&#39;cause nothing at all would be installed!? Conversely, that&#39;s perfectly
&#34;legal&#34; in MANIFEST.SKIP... Really puzzled.

Thanks anyway!

  Marco
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-746185" href="/Public/Bug/Display.html?id=55132#txn-746185">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;05:35:58&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-746186" href="/Public/Bug/Display.html?id=55132#txn-746186">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;05:44:44&nbsp;2010</span>
    <span class="description">marcoep [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marcoep [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/746186/385834/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/385834">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 171b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oops, sorry my reply automatically reopened the ticket and now the
interface doesn&#39;t allow me to change its status &#40;I&#39;m redirected to the
search page&#41;. Oh, RT goodness... 
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.507953</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
