<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #129791 for File-Slurp: unable to test on Windows &#40;can&#39;t create temp dir&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #129791 for File-Slurp: unable to test on Windows &#40;can&#39;t create temp dir&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=File-Slurp">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=File-Slurp">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=File-Slurp">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=File-Slurp">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/File-Slurp">File-Slurp CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">129791</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=File-Slurp">File-Slurp</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">cwhitener [...] gmail.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
PMPERRY [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-13126-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
9999.21    </td>
  </tr>
  <tr id="CF-13127-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=129791">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1851959" href="/Public/Bug/Display.html?id=129791#txn-1851959">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;09&nbsp;11:55:05&nbsp;2019</span>
    <span class="description">PMPERRY [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1851959/995114/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/995114">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 866b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">When trying to cpan &gt; upgrade File::Slurp 9999.27 on Windows 10, Strawberry Perl 5.26, I receive the following error:

t/tainted.t ................... can&#39;t write to &#39;\tempe8UUZ&#39;: Permission denied at t/tainted.t line 26.
# Looks like your test exited with 13 before it could output anything.
t/tainted.t ................... Dubious, test returned 13 &#40;wstat 3328, 0xd00&#41;
Failed 9/9 subtests

tainted&#39;s line 22 is

my $path = temp_file_path&#40;&#41;;

which is the $path used in line 26

open&#40;my $fh, &#34;&gt;&#34;, $path&#41; or die &#34;can&#39;t write to &#39;$path&#39;: $!&#34;;

In turn, temp_file_path appears to come from FileSlurpTest &#40;line 17&#41;

use FileSlurpTest qw&#40;temp_file_path trap_function trap_function_list_context&#41;;

but I can&#39;t find where FileSlurpTest is coming from. Anyway, a temporary path such as \tempe8UUZ\ is apparently unwritable on Windows. Perhaps it should be created under .\?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1851965" href="/Public/Bug/Display.html?id=129791#txn-1851965">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;09&nbsp;11:57:54&nbsp;2019</span>
    <span class="description">PMPERRY [...] cpan.org -  Subject changed from &#40;no value&#41; to &#39;unable to test on Windows &#40;can&#39;t create temp dir&#41;&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1853493" href="/Public/Bug/Display.html?id=129791#txn-1853493">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;24&nbsp;07:33:58&nbsp;2019</span>
    <span class="description">PMPERRY [...] cpan.org -  Broken in 9999.21 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863423" href="/Public/Bug/Display.html?id=129791#txn-1863423">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;22:08:43&nbsp;2019</span>
    <span class="description">SHIRHA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863423/1000656/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000656">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jun 09 11:55:05 2019, PMPERRY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When trying to cpan &gt; upgrade File::Slurp 9999.27 on Windows 10,
&gt; Strawberry Perl 5.26, I receive the following error:
&gt; 
&gt; t/tainted.t ................... can&#39;t write to &#39;\tempe8UUZ&#39;:
&gt; Permission denied at t/tainted.t line 26.
&gt; # Looks like your test exited with 13 before it could output anything.
&gt; t/tainted.t ................... Dubious, test returned 13 &#40;wstat 3328,
&gt; 0xd00&#41;
&gt; Failed 9/9 subtests
&gt; 
&gt; tainted&#39;s line 22 is
&gt; 
&gt; my $path = temp_file_path&#40;&#41;;
&gt; 
&gt; which is the $path used in line 26
&gt; 
&gt; open&#40;my $fh, &#34;&gt;&#34;, $path&#41; or die &#34;can&#39;t write to &#39;$path&#39;: $!&#34;;
&gt; 
&gt; In turn, temp_file_path appears to come from FileSlurpTest &#40;line 17&#41;
&gt; 
&gt; use FileSlurpTest qw&#40;temp_file_path trap_function
&gt; trap_function_list_context&#41;;
&gt; 
&gt; but I can&#39;t find where FileSlurpTest is coming from. Anyway, a
&gt; temporary path such as \tempe8UUZ\ is apparently unwritable on
&gt; Windows. Perhaps it should be created under .\?
</div>
I got the same thing and tried an adminstator cmd prompt and succeeded. Hope it doesn&#39;t cause me troubles later.
I also read this <span class="clickylink"><a target="new" rel="nofollow" href="https://windowsreport.com/fatal-error-temporary-directory/">https://windowsreport.com/fatal-error-temporary-directory/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863424" href="/Public/Bug/Display.html?id=129791#txn-1863424">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;22:08:44&nbsp;2019</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863427" href="/Public/Bug/Display.html?id=129791#txn-1863427">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;22:21:35&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863428" href="/Public/Bug/Display.html?id=129791#txn-1863428">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;22:29:18&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863428/1000659/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000659">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jun 09 11:55:05 2019, PMPERRY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When trying to cpan &gt; upgrade File::Slurp 9999.27 on Windows 10,
&gt; Strawberry Perl 5.26, I receive the following error:
&gt; 
&gt; t/tainted.t ................... can&#39;t write to &#39;\tempe8UUZ&#39;:
&gt; Permission denied at t/tainted.t line 26.
&gt; # Looks like your test exited with 13 before it could output anything.
&gt; t/tainted.t ................... Dubious, test returned 13 &#40;wstat 3328,
&gt; 0xd00&#41;
&gt; Failed 9/9 subtests
&gt; 
&gt; tainted&#39;s line 22 is
&gt; 
&gt; my $path = temp_file_path&#40;&#41;;
&gt; 
&gt; which is the $path used in line 26
&gt; 
&gt; open&#40;my $fh, &#34;&gt;&#34;, $path&#41; or die &#34;can&#39;t write to &#39;$path&#39;: $!&#34;;
&gt; 
&gt; In turn, temp_file_path appears to come from FileSlurpTest &#40;line 17&#41;
&gt; 
&gt; use FileSlurpTest qw&#40;temp_file_path trap_function
&gt; trap_function_list_context&#41;;
&gt; 
&gt; but I can&#39;t find where FileSlurpTest is coming from. Anyway, a
&gt; temporary path such as \tempe8UUZ\ is apparently unwritable on
&gt; Windows. Perhaps it should be created under .\?
</div>

Hi,

FileSlurpTest is bundled in the test directory: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/CAPOEIRAB/File-Slurp-9999.27/t/lib/FileSlurpTest.pm">https://metacpan.org/source/CAPOEIRAB/File-Slurp-9999.27/t/lib/FileSlurpTest.pm</a></span>  We make use of File::Temp to find your temporary directory and test using that directory. File::Temp uses File::Spec. File::Spec&#39;s tmpdir function is here <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/XSAWYERX/PathTools-3.75/lib/File/Spec/Win32.pm#L70">https://metacpan.org/source/XSAWYERX/PathTools-3.75/lib/File/Spec/Win32.pm#L70</a></span>

Thanks,
Chase
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863431" href="/Public/Bug/Display.html?id=129791#txn-1863431">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;11&nbsp;22:30:17&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863431/1000662/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000662">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 203b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Everyone,

Admin mode should not be necessary to run in either cmd or PowerShell. Can you let me know which Perl versions you&#39;re using, please? Strawberry Perl version would be helpful.

Thanks,
Chase
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863523" href="/Public/Bug/Display.html?id=129791#txn-1863523">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;12&nbsp;12:39:29&nbsp;2019</span>
    <span class="description">PMPERRY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863523/1000719/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000719">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As stated before, Strawberry Perl 5.26 on Windows 10, running in a DOS Command Window. I am running as a normal user &#40;sole user of this machine, so I don&#39;t know if I&#39;m automatically granted any special powers&#41;. Here is the complete upgrade attempt:

C:\Users\Phil&gt;cpan
Loading internal logger. Log::Log4perl recommended for better logging
Unable to get Terminal Size. The Win32 GetConsoleScreenBufferInfo call didn&#39;t work. The COLUMNS and LINES environment variables didn&#39;t work. at C:\Strawberry\perl\vendor\lib/Term/ReadLine/readline.pm line 410.

cpan shell -- CPAN exploration and modules installation &#40;v2.27&#41;
Enter &#39;h&#39; for help.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; upgrade File::Slurp
</div>Database was generated on Thu, 12 Sep 2019 14:57:40 GMT

Package namespace         installed    latest  in CPAN file
File::Slurp                 9999.19   9999.27  CAPOEIRAB/File-Slurp-9999.27.tar.gz
Running install for module &#39;File::Slurp&#39;
Checksum for C:\STRAWB~1\cpan\sources\authors\id\C\CA\CAPOEIRAB\File-Slurp-9999.27.tar.gz ok
Scanning cache C:\STRAWB~1\cpan\build for sizes
...........................................---------------------------------DONE
&lt; a bunch of old install stuff DEL from cpan\build\ &gt;
Configuring C/CA/CAPOEIRAB/File-Slurp-9999.27.tar.gz with Makefile.PL
Checking if your kit is complete...
Looks good
Generating a gmake-style Makefile
Writing Makefile for File::Slurp
Writing MYMETA.yml and MYMETA.json
  CAPOEIRAB/File-Slurp-9999.27.tar.gz
  C:\Strawberry\perl\bin\perl.exe Makefile.PL -- OK
Running make for C/CA/CAPOEIRAB/File-Slurp-9999.27.tar.gz
cp lib/File/Slurp.pm blib\lib\File\Slurp.pm
  CAPOEIRAB/File-Slurp-9999.27.tar.gz
  C:\STRAWB~1\c\bin\gmake.exe -- OK
Running make test for CAPOEIRAB/File-Slurp-9999.27.tar.gz
&#34;C:\Strawberry\perl\bin\perl.exe&#34; &#34;-MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/00-report-prereqs.t ......... #
# Versions for all modules listed in MYMETA.json &#40;including optional ones&#41;:
#
# === Configure Requires ===
#
#     Module              Want Have
#     ------------------- ---- ----
#     ExtUtils::MakeMaker  any 7.38
#
# === Build Requires ===
#
#     Module              Want Have
#     ------------------- ---- ----
#     ExtUtils::MakeMaker  any 7.38
#
# === Test Requires ===
#
#     Module         Want     Have
#     -------------- ---- --------
#     Carp            any     1.50
#     Exporter       5.57     5.73
#     Fcntl           any     1.13
#     File::Basename  any     2.85
#     File::Spec     3.01     3.75
#     File::Temp      any   0.2309
#     IO::Handle      any     1.39
#     POSIX           any     1.76
#     Scalar::Util   1.00     1.52
#     Socket          any    2.029
#     Symbol          any     1.08
#     Test::More      any 1.302168
#     overload        any     1.28
#     strict          any     1.11
#     warnings        any     1.37
#
# === Runtime Requires ===
#
#     Module         Want   Have
#     -------------- ---- ------
#     B               any   1.68
#     Carp            any   1.50
#     Errno           any   1.28
#     Exporter       5.57   5.73
#     Fcntl           any   1.13
#     File::Basename  any   2.85
#     File::Spec     3.01   3.75
#     File::Temp      any 0.2309
#     IO::Handle      any   1.39
#     POSIX           any   1.76
#     strict          any   1.11
#     warnings        any   1.37
#
t/00-report-prereqs.t ......... ok
t/01-error_edit_file.t ........ ok
t/01-error_edit_file_lines.t .. ok
t/01-error_prepend_file.t ..... ok
t/01-error_read_dir.t ......... ok
t/01-error_read_file.t ........ ok
t/01-error_write_file.t ....... ok
t/append_null.t ............... ok
t/binmode.t ................... ok
t/data_glob.t ................. ok
t/data_section.t .............. ok
t/edit_file.t ................. ok
t/error.t ..................... ok
t/file_object.t ............... ok
t/handle.t .................... ok
t/inode.t ..................... skipped: skip inode test on windows
t/large.t ..................... ok
t/newline.t ................... ok
t/no_clobber.t ................ ok
t/original.t .................. ok
t/paragraph.t ................. ok
t/perms.t ..................... ok
t/prepend_file.t .............. ok
t/pseudo.t .................... ok
t/read_dir.t .................. ok
t/slurp.t ..................... ok
t/stdin.t ..................... ok
t/stringify.t ................. ok
t/tainted.t ................... can&#39;t write to &#39;\tempvu7vm&#39;: Permission denied at t/tainted.t line 26.
# Looks like your test exited with 13 before it could output anything.
t/tainted.t ................... Dubious, test returned 13 &#40;wstat 3328, 0xd00&#41;
Failed 9/9 subtests
t/write_file_win32.t .......... ok

Test Summary Report
-------------------
t/tainted.t                 &#40;Wstat: 3328 Tests: 0 Failed: 0&#41;
  Non-zero exit status: 13
  Parse errors: Bad plan.  You planned 9 tests but ran 0.
Files=30, Tests=627,  9 wallclock secs &#40; 0.16 usr +  0.08 sys =  0.23 CPU&#41;
Result: FAIL
Failed 1/30 test programs. 0/627 subtests failed.
gmake: *** [Makefile:929: test_dynamic] Error 255
Lockfile removed.
  CAPOEIRAB/File-Slurp-9999.27.tar.gz
  C:\STRAWB~1\c\bin\gmake.exe test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports CAPOEIRAB/File-Slurp-9999.27.tar.gz
Stopping: &#39;install&#39; failed for &#39;File::Slurp&#39;.
Failed during this command:
 CAPOEIRAB/File-Slurp-9999.27.tar.gz          : make_test NO

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt;
</div>
I suspect that the problem is trying to create an absolute directory path, rather than something relative to the pwd. You might look at other packages and see what they do if they need to create a directory somewhere.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863529" href="/Public/Bug/Display.html?id=129791#txn-1863529">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;12&nbsp;13:21:48&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863529/1000726/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000726">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">After a bit of research, it&#39;s fixable by creating a directory called C:\temp. When running in Taint mode &#40;why we need to continue the farce of Taint mode is beyond me&#41; all of your environment variables are considered tainted and thus can&#39;t be used to determine your temporary directory of choice. If the default of C:\temp isn&#39;t there, it falls back even further to \ which is not a great choice on Windows, to be sure.

I broke my setup by removing C:\temp to make it behave the same as you&#39;re experiencing. Here&#39;s me fixing it in the command prompt:

C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin&gt; set
... REDACTED ...
HOMEDRIVE=C:
HOMEPATH=\Users\genio
LOCALAPPDATA=C:\Users\genio\AppData\Local
OS=Windows_NT
Path=C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\site\bin;C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin;C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\c\bin;C:\Users\genio\_psperl;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW
... REDACTED ...
TEMP=C:\Users\genio\AppData\Local\Temp
TMP=C:\Users\genio\AppData\Local\Temp
USERNAME=genio
USERPROFILE=C:\Users\genio

C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin&gt; perl -MFile::Spec -E &#34;say File::Spec-&gt;tmpdir&#34;
C:\Users\genio\AppData\Local\Temp

C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin&gt; perl -T -MFile::Spec -E &#34;say File::Spec-&gt;tmpdir&#34;
\

C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin&gt; mkdir C:\temp

C:\Users\genio\_psperl\_perls\perl64-5.26.3.1\perl\bin&gt; perl -T -MFile::Spec -E &#34;say File::Spec-&gt;tmpdir&#34;
C:\temp



So, in short:

mkdir C:\temp
cpan File::Slurp

Thanks,
Chase
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863539" href="/Public/Bug/Display.html?id=129791#txn-1863539">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;12&nbsp;18:03:56&nbsp;2019</span>
    <span class="description">PMPERRY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863539/1000738/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000738">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 958b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for taking some time to look over this report. Indeed, creating a C:\temp directory and then running &#34;cpan File::Slurp&#34; /did/ result in a successful update. I haven&#39;t tried running &#34;upgrade File::Slurp&#34; from within the cpan processor &#40;I presume that will have to wait for the next upgrade&#41;.

If keeping a \temp directory around is necessary for a successful upgrade, can a reminder to that end be added to the package? &#40;In case I forget by the time of your next upgrade&#41;. Looking over the Testers grid, I see a handful of test failures that seem to be the same &#40;but different from this one&#41;, plus one that may be a Perl level &#40;5.6&#41; that&#39;s just too far back to warrant supporting. Since none of these affect me, I&#39;ll leave it to your discretion as to whether you want to deal with them.

Depending on whether you want to make any change to the package, I&#39;ll leave this ticket open. Please go ahead and close it when you feel you&#39;re done with the issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863542" href="/Public/Bug/Display.html?id=129791#txn-1863542">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;12&nbsp;20:47:19&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1863542/1000740/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1000740">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 266b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve gone on a one-man mission to rid the world of Taint mode once and for all. To that end, 9999.28 has been released that now skips Taint mode tests. Thanks for bearing with me as we found the problem; it should no longer be an issue moving forward.

Thanks,
Chase
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1863545" href="/Public/Bug/Display.html?id=129791#txn-1863545">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;12&nbsp;20:47:20&nbsp;2019</span>
    <span class="description">cwhitener [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.448572</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
