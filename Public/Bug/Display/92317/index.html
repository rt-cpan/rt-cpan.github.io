<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #92317 for X86-Udis86: Tests fail during `use_ok` with compilation failure in require as X86::Udis86::constant not defined</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #92317 for X86-Udis86: Tests fail during `use_ok` with compilation failure in require as X86::Udis86::constant not defined</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/X86-Udis86/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/X86-Udis86/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/X86-Udis86/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/X86-Udis86/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/X86-Udis86">X86-Udis86 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">92317</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1 hour (60 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/X86-Udis86/Active/">X86-Udis86</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">bob [...] fourtheye.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-235704-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.7.2.2    </td>
  </tr>
  <tr id="CF-235705-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;20&nbsp;21:14:46&nbsp;2014</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Tests fail during `use_ok` with compilation failure in require as
 X86::Udis86::constant not defined</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza"><p>
	I noticed this module on the &quot;no reports list&quot;</p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="http://stats.cpantesters.org/noreports/linux.html">http://stats.cpantesters.org/noreports/linux.html</a></span></p>

<p>
	Investigation says it fails even though deps are satisfied, and does not report.</p>

<p>
	<br>

	<br>

	Configuring X86-Udis86-v1.7.2.2<br>

	Running Makefile.PL<br>

	-&gt; OK<br>

	Checking dependencies from MYMETA.json ...<br>

	Checking if you have ExtUtils::MakeMaker 0 ... Yes (6.86)<br>

	Building and testing X86-Udis86-v1.7.2.2<br>

	cp lib/X86/Udis86/Operand.pm blib/lib/X86/Udis86/Operand.pm<br>

	AutoSplitting blib/lib/X86/Udis86/Operand.pm (blib/lib/auto/X86/Udis86/Operand)<br>

	cp lib/X86/Udis86.pm blib/lib/X86/Udis86.pm<br>

	AutoSplitting blib/lib/X86/Udis86.pm (blib/lib/auto/X86/Udis86)<br>

	Running Mkbootstrap for X86::Udis86 ()<br>

	chmod 644 Udis86.bs<br>

	/home/kent/perl5/perlbrew/perls/perl-5.19.7/bin/perl5.19.7 /home/kent/perl5/perlbrew/perls/perl-5.19.7/lib/5.19.7/ExtUtils/xsubpp&nbsp; -typemap /home/kent/perl5/perlbrew/perls/perl-5.19.7/lib/5.19.7/ExtUtils/typemap -typemap typemap&nbsp; Udis86.xs &gt; Udis86.xsc &amp;&amp; mv Udis86.xsc Udis86.c<br>

	Please specify prototyping behavior for Udis86.xs (see perlxs manual)<br>

	cc -c&nbsp; -I. -DDEBUGGING -fno-strict-aliasing -pipe -fstack-protector -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g&nbsp;&nbsp; -DVERSION=\&quot;1.7.2.2\&quot; -DXS_VERSION=\&quot;1.7.2.2\&quot; -fPIC &quot;-I/home/kent/perl5/perlbrew/perls/perl-5.19.7/lib/5.19.7/x86_64-linux/CORE&quot;&nbsp;&nbsp; Udis86.c<br>

	rm -f blib/arch/auto/X86/Udis86/Udis86.so<br>

	LD_RUN_PATH=&quot;/usr/lib/../lib64&quot; cc&nbsp; -shared -O2 -g -fstack-protector Udis86.o&nbsp; -o blib/arch/auto/X86/Udis86/Udis86.so&nbsp;&nbsp; \<br>

	&nbsp;&nbsp; -ludis86&nbsp;&nbsp;&nbsp;&nbsp; \<br>

	ch/auto/X86/Udis86/Udis86.bs 644<br>

	Manifying blib/man3/X86::Udis86.3<br>

	Manifying blib/man3/X86::Udis86::Operand.3<br>

	Running Mkbootstrap for X86::Udis86 ()<br>

	chmod 644 Udis86.bs<br>

	PERL_DL_NONLAZY=1 /home/kent/perl5/perlbrew/perls/perl-5.19.7/bin/perl5.19.7 &quot;-MExtUtils::Command::MM&quot; &quot;-MTest::Harness&quot; &quot;-e&quot; &quot;undef *Test::Harness::Switches; test_harness(0, &#39;blib/lib&#39;, &#39;blib/arch&#39;)&quot; t/*.t<br>

	<br>

	#&nbsp;&nbsp; Failed test &#39;use X86::Udis86;&#39;<br>

	#&nbsp;&nbsp; at t/X86-Udis86.t line 10.<br>

	#&nbsp;&nbsp;&nbsp;&nbsp; Tried to use &#39;X86::Udis86&#39;.<br>

	#&nbsp;&nbsp;&nbsp;&nbsp; Error:&nbsp; Can&#39;t load &#39;/home/kent/.cpanm/work/1390270404.171547/X86-Udis86-1.7.2.2/blib/arch/auto/X86/Udis86/Udis86.so&#39; for module X86::Udis86: /home/kent/.cpanm/work/1390270404.171547/X86-Udis86-1.7.2.2/blib/arch/auto/X86/Udis86/Udis86.so: undefined symbol: ud_insn_opr at /home/kent/perl5/perlbrew/perls/perl-5.19.7/lib/5.19.7/x86_64-linux/DynaLoader.pm line 190.<br>

	#&nbsp; at t/X86-Udis86.t line 10.<br>

	# Compilation failed in require at t/X86-Udis86.t line 10.<br>

	# BEGIN failed--compilation aborted at t/X86-Udis86.t line 10.<br>

	&amp;X86::Udis86::constant not defined at t/X86-Udis86.t line 17.<br>

	# Looks like you planned 71 tests but ran 2.<br>

	# Looks like you failed 1 test of 2 run.<br>

	# Looks like your test exited with 255 just after 2.<br>

	t/X86-Udis86.t ..<br>

	Dubious, test returned 255 (wstat 65280, 0xff00)<br>

	Failed 70/71 subtests<br>

	<br>

	Test Summary Report<br>

	-------------------<br>

	t/X86-Udis86.t (Wstat: 65280 Tests: 2 Failed: 1)<br>

	&nbsp; Failed test:&nbsp; 1<br>

	&nbsp; Non-zero exit status: 255<br>

	&nbsp; Parse errors: Bad plan.&nbsp; You planned 71 tests but ran 2.<br>

	Files=1, Tests=2,&nbsp; 0 wallclock secs ( 0.02 usr&nbsp; 0.00 sys +&nbsp; 0.04 cusr&nbsp; 0.01 csys =&nbsp; 0.07 CPU)<br>

	Result: FAIL<br>

	&nbsp;</p>

<p>
	&nbsp;</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;20&nbsp;21:20:16&nbsp;2014</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Oh, I have udis86 1.7,&nbsp; thats probably relevant context.<br>

<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;16:12:43&nbsp;2014</span>
    <span class="description">bob [...] fourtheye.org -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 20 21:20:16 2014, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Oh, I have udis86 1.7, thats probably relevant context.
</div>
Fixed in version 1.7.2.3 - uploaded to CPAN tonight.

I tested the following use cases:

1. no udis installed - fails with error as expected
2. udis 1.7 installed, no local version of 1.7.2 - fails with error as expected.
3. udis 1.7 installed, local version of 1.7.2 &#40;invoked passing LIBS and INC&#41; - works with no error as expected.
4. udis 1.7.2 installed - works with no error as expected.

Please retest with the newly uploaded version and resolve ticket if satisfied.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;16:12:43&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;16:12:43&nbsp;2014</span>
    <span class="description">bob [...] fourtheye.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;16:12:43&nbsp;2014</span>
    <span class="description">bob [...] fourtheye.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;16:26:14&nbsp;2014</span>
    <span class="description">bob [...] fourtheye.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #92317] Tests fail during `use_ok` with compilation failure in require as X86::Udis86::constant not defined</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Jan 2014 22:26:02 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Kent Fredric via RT &lt;bug-X86-Udis86 [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Robert Wilkinson &lt;bob [...] fourtheye.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Jan 20, 2014 at 09:20:16PM -0500, Kent Fredric via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: X86-Udis86
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=92317">https://rt.cpan.org/Ticket/Display.html?id=92317</a></span> &gt;
&gt; 
&gt; Oh, I have udis86 1.7, thats probably relevant context.
</div>
Hi Kent

I have added a comment to the RT ticket and uploaded a new version
of the software. Please test it and resolve the ticket if you are
happy with the fix.

An older version of the software did work with 1.7 but the API
changed a lot; I dropped some of the functionality since I have not
used it for a long time. I think that what remains does function
correctly. 

Thank you for yout report.

Bob
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
