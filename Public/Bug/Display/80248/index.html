<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80248 for Win32-API: v0.72 crashes during tests on 32bit strawberry perl 5.16.1</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80248 for Win32-API: v0.72 crashes during tests on 32bit strawberry perl 5.16.1</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Win32-API">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Win32-API">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Win32-API">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Win32-API">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-API">Win32-API CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80248</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Win32-API">Win32-API</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">BULKDD [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kmx [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35436-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.72    </td>
  </tr>
  <tr id="CF-35437-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




build-log.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1131201/595205/build-log.txt">
Sat Oct 20 05:26:07 2012 (8.7k) by kmx [...] cpan.org
</a>
</font></li>
</ul>


crash-log.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1131201/595206/crash-log.txt">
Sat Oct 20 05:26:07 2012 (2.3k) by kmx [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=80248">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130111" href="/Public/Bug/Display.html?id=80248#txn-1130111">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;15:41:57&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> v0.72 crashes during tests on 32bit strawberry perl 5.16.1</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130111/594552/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594552">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza">The crash occurs during t\00_API.t:<br>

<br>

prove -bv t\00_API.t<br>

<br>

t\00_API.t ..<br>

1..48<br>

ok 1 - use Win32::API;<br>

ok 2 - use Win32::API::Test;<br>

ok 3 - use Win32;<br>

ok 4 - loaded<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"># API test dll found at (API_test.dll)<br>
</div>ok 5 - found API test dll<br>

ok 6 - GetCurrentProcessId() function found<br>

ok 7 - GetCurrentProcessId() result ok<br>

ok 8 - GetCurrentProcessId() result ok<br>

ok 9 - Import of GetCurrentProcessId() function from kernel32.dll<br>

ok 10 - GetCurrentProcessId() result ok<br>

ok 11 - Import of IsBadReadPtr function from kernel32.dll<br>

ok 12 - API test dll was freed<br>

ok 13 - highbit_unsigned() function defined<br>

ok 14 - return value for unsigned is signed on old API<br>

ok 15 - GetHandle operates correctly<br>

ok 16 - FreeHandle operates correctly<br>

ok 17 - sum_integers() function defined<br>

ok 18 - function call with integer arguments and return value<br>

ok 19 - sum_integers_ref() function defined<br>

ok 20 - sum_integers_ref() returns the expected value<br>

ok 21 - sum_integers_ref() correctly modifies its ref argument<br>

ok 22 - short as return type croak because they are structs on old API<br>

ok 23 - sum_shorts_ref() function defined<br>

ok 24 - shorts croak as struct objs on old API<br>

ok 25 - API_test.dll sum_doubles function defined<br>

ok 26 - function call with double arguments<br>

ok 27 - sum_doubles_ref() function defined<br>

ok 28 - sum_doubles_ref() call works<br>

ok 29 - sum_doubles_ref() sets ref correctly<br>

ok 30 - sum_floats() function defined<br>

ok 31 - sum_floats() result correct<br>

ok 32 - sum_floats_ref() function defined<br>

ok 33 - sum_floats_ref() returns the expected value (1)<br>

ok 34 - sum_floats_ref() call works<br>

ok 35 - find_char() function defined<br>

ok 36 - find_char() function call works<br>

ok 37 - sum_char_ref() returns the expected value<br>

ok 38 - sum_char_ref() correctly modifies its ref argument<br>

ok 39 - numeric truncation sum_char_ref() returns the expected value<br>

ok 40 - sum_char_ref() correctly modifies its ref argument<br>

ok 41 - wstr_cmp() returns the expected value<br>

ok 42 - buffer overflow protection worked<br>

ok 43 - idiot flag works<br>

ok 44 - cdecl c_sum_integers() function defined<br>

Dubious, test returned 5 (wstat 1280, 0x500)<br>

Failed 4/48 subtests<br>

<br>

I have not investigated the issue further.<br>

<br>

--<br>

kmx<br>

<br>

--<br>

kmx<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130115" href="/Public/Bug/Display.html?id=80248#txn-1130115">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;15:44:53&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130115/594556/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594556">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 21b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you post perl -V?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130118" href="/Public/Bug/Display.html?id=80248#txn-1130118">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;15:44:54&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130138" href="/Public/Bug/Display.html?id=80248#txn-1130138">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;16:16:14&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130138/594572/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594572">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4k</span>
</div>
<div class="messagebody">
<div class="message-stanza">y:\&gt;perl -V<br>

Summary of my perl5 (revision 5 version 16 subversion 1) configuration:<br>

<br>

&nbsp; Platform:<br>

&nbsp;&nbsp;&nbsp; osname=MSWin32, osvers=4.0, archname=MSWin32-x86-multi-thread<br>

&nbsp;&nbsp;&nbsp; uname='Win32 strawberry-perl 5.16.1.1 #1 Thu Aug&nbsp; 9 09:54:46 2012 i386'<br>

&nbsp;&nbsp;&nbsp; config_args='undef'<br>

&nbsp;&nbsp;&nbsp; hint=recommended, useposix=true, d_sigaction=undef<br>

&nbsp;&nbsp;&nbsp; useithreads=define, usemultiplicity=define<br>

&nbsp;&nbsp;&nbsp; useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef<br>

&nbsp;&nbsp;&nbsp; use64bitint=undef, use64bitall=undef, uselongdouble=undef<br>

&nbsp;&nbsp;&nbsp; usemymalloc=n, bincompat5005=undef<br>

&nbsp; Compiler:<br>

&nbsp;&nbsp;&nbsp; cc='gcc', ccflags =' -s -O2 -DWIN32&nbsp; -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields',<br>

&nbsp;&nbsp;&nbsp; optimize='-s -O2',<br>

&nbsp;&nbsp;&nbsp; cppflags='-DWIN32'<br>

&nbsp;&nbsp;&nbsp; ccversion='', gccversion='4.6.3', gccosandvers=''<br>

&nbsp;&nbsp;&nbsp; intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234<br>

&nbsp;&nbsp;&nbsp; d_longlong=undef, longlongsize=8, d_longdbl=define, longdblsize=12<br>

&nbsp;&nbsp;&nbsp; ivtype='long', ivsize=4, nvtype='double', nvsize=8, Off_t='long long', lseeksize=8<br>

&nbsp;&nbsp;&nbsp; alignbytes=8, prototype=define<br>

&nbsp; Linker and Libraries:<br>

&nbsp;&nbsp;&nbsp; ld='g++', ldflags ='-s -L&quot;Z:\strawberry32_5161\perl\lib\CORE&quot; -L&quot;Z:\strawberry32_5161\c\lib&quot;'<br>

&nbsp;&nbsp;&nbsp; libpth=Z:\strawberry32_5161\c\lib Z:\strawberry32_5161\c\i686-w64-mingw32\lib<br>

&nbsp;&nbsp;&nbsp; libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion<br>

&nbsp;-lodbc32 -lodbccp32 -lcomctl32<br>

&nbsp;&nbsp;&nbsp; perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lver<br>

sion -lodbc32 -lodbccp32 -lcomctl32<br>

&nbsp;&nbsp;&nbsp; libc=, so=dll, useshrplib=true, libperl=libperl516.a<br>

&nbsp;&nbsp;&nbsp; gnulibc_version=''<br>

&nbsp; Dynamic Linking:<br>

&nbsp;&nbsp;&nbsp; dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=' '<br>

&nbsp;&nbsp;&nbsp; cccdlflags=' ', lddlflags='-mdll -s -L&quot;Z:\strawberry32_5161\perl\lib\CORE&quot; -L&quot;Z:\strawberry32_5161\c\lib&quot;'<br>

<br>

<br>

Characteristics of this binary (from libperl):<br>

&nbsp; Compile-time options: HAS_TIMES HAVE_INTERP_INTERN MULTIPLICITY<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERLIO_LAYERS PERL_DONT_CREATE_GVSV<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERL_MALLOC_WRAP PERL_PRESERVE_IVUV PL_OP_SLAB_ALLOC<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USE_ITHREADS USE_LARGE_FILES USE_LOCALE<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USE_LOCALE_COLLATE USE_LOCALE_CTYPE<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF<br>

&nbsp; Built under MSWin32<br>

&nbsp; Compiled at Aug&nbsp; 9 2012 10:03:09<br>

&nbsp; @INC:<br>

&nbsp;&nbsp;&nbsp; Z:/strawberry32_5161/perl/site/lib<br>

&nbsp;&nbsp;&nbsp; Z:/strawberry32_5161/perl/vendor/lib<br>

&nbsp;&nbsp;&nbsp; Z:/strawberry32_5161/perl/lib<br>

&nbsp;&nbsp;&nbsp; .<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130706" href="/Public/Bug/Display.html?id=80248#txn-1130706">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;19&nbsp;01:54:53&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130706/594896/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594896">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 688b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 17 15:41:57 2012, KMX wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The crash occurs during t\00_API.t:
&gt; 
&gt; prove -bv t\00_API.t
&gt; 
&gt; t\00_API.t ..
&gt; 1..48
&gt; ok 1 - use Win32::API;
</div>............................................
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok 44 - cdecl c_sum_integers&#40;&#41; function defined
&gt; Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
&gt; Failed 4/48 subtests
&gt; 
&gt; I have not investigated the issue further.
&gt; 
&gt; --
&gt; kmx
&gt; 
&gt; --
&gt; kmx
</div>

New version posted at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/bulk88/perl5-win32-api">https://github.com/bulk88/perl5-win32-api</a></span> . I
didn&#39;t do anything specific for your crash. Please try it and report
back. It seems you crashed at the first cdecl function called, all the
previous ones were stdcall. On my 32 bit Strawberry Perl 5.12.3 all
tests passed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130912" href="/Public/Bug/Display.html?id=80248#txn-1130912">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;19&nbsp;13:20:24&nbsp;2012</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #80248] v0.72 crashes during tests on 32bit strawberry perl 5.16.1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Oct 2012 19:20:14 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-API [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130912/595025/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595025">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 60b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Unfortunately still the same failure on strawberry 5.16.1.1
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131038" href="/Public/Bug/Display.html?id=80248#txn-1131038">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;19&nbsp;17:51:35&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131170" href="/Public/Bug/Display.html?id=80248#txn-1131170">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;03:27:22&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131170/595182/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595182">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 216b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 19 13:20:24 2012, kmx@volny.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately still the same failure on strawberry 5.16.1.1
</div>
Just to confirm, from the S Perl x64 bug ticket, is 32 bit S Perl
working and passing all tests for you?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131175" href="/Public/Bug/Display.html?id=80248#txn-1131175">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;03:54:55&nbsp;2012</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80248] v0.72 crashes during tests on 32bit strawberry perl 5.16.1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 20 Oct 2012 09:54:37 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Win32-API [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> KMX &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131175/595187/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595187">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 60b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Unfortunately 32bit strawberry 5.16.1 still crashing

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131183" href="/Public/Bug/Display.html?id=80248#txn-1131183">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;04:08:52&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131183/595195/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595195">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 285b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 03:54:55 2012, kmx@volny.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately 32bit strawberry 5.16.1 still crashing
&gt; 
&gt; --
&gt; kmx
</div>
Can you post a full run of the test suite on your 32 bit Strawberry
Perl? This is the last failing platform for Win32::API since Cygwin and
x64 Strawberry were fixed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131201" href="/Public/Bug/Display.html?id=80248#txn-1131201">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;05:26:07&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131201/595204/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595204">with headers</a>
<br />
<span class="downloadcontenttype">text/html 19b</span>
</div>
<div class="messagebody">
<div class="message-stanza">logs attached<br>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> build-log.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131201/595205/build-log.txt">Download build-log.txt</a><br />
<span class="downloadcontenttype">text/plain 8.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">y:\_repos\perl5-win32-api-bulk88&gt;perl Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for Win32::API::Callback
Writing MYMETA.yml and MYMETA.json
Writing Makefile for Win32::API
Writing MYMETA.yml and MYMETA.json

y:\_repos\perl5-win32-api-bulk88&gt;dmake
cp Type.pm blib\lib\Win32/API/Type.pm
cp Callback.pm blib\lib\Win32/API/Callback.pm
cp Test.pm blib\lib\Win32/API/Test.pm
cp Struct.pm blib\lib\Win32/API/Struct.pm
cp API.pm blib\lib\Win32/API.pm
cp IATPatch.pod blib\lib\Win32/API/Callback/IATPatch.pod
Z:\strawberry32_5161\perl\bin\perl.exe Z:\strawberry32_5161\perl\lib\ExtUtils\xsubpp  -typemap Z:\strawberry32_5161\perl\lib\ExtUtils\typemap  Callback.xs &gt; Cal
lback.xsc &#38;&#38; Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e mv -- Callback.xsc Callback.c
gcc -c          -s -O2 -DWIN32 -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -s -O2     -DVERSION=\&#34;0.
73\&#34;    -DXS_VERSION=\&#34;0.73\&#34;  &#34;-IZ:\strawberry32_5161\perl\lib\CORE&#34;   Callback.c
Running Mkbootstrap for Win32::API::Callback &#40;&#41;
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 Callback.bs
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Mksymlists \
     -e &#34;Mksymlists&#40;&#39;NAME&#39;=&gt;\&#34;Win32::API::Callback\&#34;, &#39;DLBASE&#39; =&gt; &#39;Callback&#39;, &#39;DL_FUNCS&#39; =&gt; {  }, &#39;FUNCLIST&#39; =&gt; [], &#39;IMPORTS&#39; =&gt; {  }, &#39;DL_VARS&#39; =&gt; []&#41;;&#34;
dlltool --def Callback.def --output-exp dll.exp
g++ -o ..\blib\arch\auto\Win32\API\Callback\Callback.dll -Wl,--base-file -Wl,dll.base -mdll -s -L&#34;Z:\strawberry32_5161\perl\lib\CORE&#34; -L&#34;Z:\strawberry32_5161\c\
lib&#34; Callback.o   Z:\strawberry32_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -lol
eaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
dlltool --def Callback.def --base-file dll.base --output-exp dll.exp
g++ -o ..\blib\arch\auto\Win32\API\Callback\Callback.dll -mdll -s -L&#34;Z:\strawberry32_5161\perl\lib\CORE&#34; -L&#34;Z:\strawberry32_5161\c\lib&#34; Callback.o   Z:\strawber
ry32_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws
2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 755 ..\blib\arch\auto\Win32\API\Callback\Callback.dll
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e cp -- Callback.bs ..\blib\arch\auto\Win32\API\Callback\Callback.bs
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 ..\blib\arch\auto\Win32\API\Callback\Callback.bs
Z:\strawberry32_5161\perl\bin\perl.exe Z:\strawberry32_5161\perl\lib\ExtUtils\xsubpp  -nolinenumbers  -typemap Z:\strawberry32_5161\perl\lib\ExtUtils\typemap -t
ypemap typemap  API.xs &gt; API.xsc &#38;&#38; Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e mv -- API.xsc API.c
gcc -c          -s -O2 -DWIN32 -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -s -O2     -DVERSION=\&#34;0.
73\&#34;    -DXS_VERSION=\&#34;0.73\&#34;  &#34;-IZ:\strawberry32_5161\perl\lib\CORE&#34;   API.c
API.c: In function &#39;XS_Win32__API_UseMI64&#39;:
API.c:341:14: warning: assignment from incompatible pointer type [enabled by default]
Running Mkbootstrap for Win32::API &#40;&#41;
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 API.bs
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Mksymlists \
     -e &#34;Mksymlists&#40;&#39;NAME&#39;=&gt;\&#34;Win32::API\&#34;, &#39;DLBASE&#39; =&gt; &#39;API&#39;, &#39;DL_FUNCS&#39; =&gt; {  }, &#39;FUNCLIST&#39; =&gt; [], &#39;IMPORTS&#39; =&gt; {  }, &#39;DL_VARS&#39; =&gt; []&#41;;&#34;
dlltool --def API.def --output-exp dll.exp
g++ -o blib\arch\auto\Win32\API\API.dll -Wl,--base-file -Wl,dll.base -mdll -s -L&#34;Z:\strawberry32_5161\perl\lib\CORE&#34; -L&#34;Z:\strawberry32_5161\c\lib&#34; API.o   Z:\s
trawberry32_5161\perl\lib\CORE\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luu
id -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
dlltool --def API.def --base-file dll.base --output-exp dll.exp
g++ -o blib\arch\auto\Win32\API\API.dll -mdll -s -L&#34;Z:\strawberry32_5161\perl\lib\CORE&#34; -L&#34;Z:\strawberry32_5161\c\lib&#34; API.o   Z:\strawberry32_5161\perl\lib\COR
E\libperl516.a -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lv
ersion -lodbc32 -lodbccp32 -lcomctl32 dll.exp
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 755 blib\arch\auto\Win32\API\API.dll
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e cp -- API.bs blib\arch\auto\Win32\API\API.bs
Z:\strawberry32_5161\perl\bin\perl.exe -MExtUtils::Command -e chmod -- 644 blib\arch\auto\Win32\API\API.bs

y:\_repos\perl5-win32-api-bulk88&gt;dmake test
Z:\strawberry32_5161\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/00_API.t .......... 1/48 # API test dll found at &#40;API_test.dll&#41;
t/00_API.t .......... Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
Failed 4/48 subtests
t/01_Struct.t ....... 1/18 # $^E=
# leaked mem warning intentional
Win32::API::Struct::Unpack struct pointer member &#34;wlan&#34; was changed by C function, possible resource leak at t/01_Struct.t line 175.
Use of uninitialized value in subroutine entry at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 267.
Win32::API::Struct::Unpack struct pointer member &#34;pDot11Ssid&#34; was changed by C function, possible resource leak at t/01_Struct.t line 175.
Win32::API::Struct::Unpack struct pointer member &#34;wlan&#34; was changed by C function, possible resource leak at t/01_Struct.t line 184.
# unknown type is intentional
Win32::API::Struct::new: unknown type=&#34;LPEIGHT_CHAR_ARR&#34; at t/01_Struct.t line 235.
Win32::API::Struct::new: unknown type=&#34;LPEIGHT_CHAR_ARR&#34; at t/01_Struct.t line 253.
t/01_Struct.t ....... ok
t/02_GetProcess.t ... 1/3 # $result=3628
# $$=3628
t/02_GetProcess.t ... ok
t/03_undef.t ........ # Win32::API 0.73
# Import: Neplatnø popisovaÀ
t/03_undef.t ........ ok
t/04_rt_48006.t ..... 1/4

Uninit warnings are intentional

Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
Use of uninitialized value in pack at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Struct.pm line 317.
# Size is 296. Should be 296
t/04_rt_48006.t ..... ok
t/05_more_struct.t .. ok
t/06_rt_74578.t ..... 1/3 # @pack=&#40;LLLLLLLlLa260, ARRAY&#40;0x26719f4&#41;, ARRAY&#40;0x2671ab4&#41;, 296, ARRAY&#40;0x266c2b4&#41;&#41;
t/06_rt_74578.t ..... ok
t/benchmark.t ....... 1/7 # API test dll found at &#40;API_test.dll&#41;
# time was 0.226669681435386 secs, 0.00113333140720582 ms per Win32::API call
# time was 0.00138257941828741 secs, 0.00000691289709144 ms per C call
t/benchmark.t ....... ok
t/pod-coverage.t .... ok
t/pod.t ............. ok
t/v69.t ............. 1/36 # API test dll found at &#40;API_test.dll&#41;
Win32::API::parse_prototype: bad prototype &#39;HANDLE  GetProcessHeap&#40; void ** ptr &#41;&#39; at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API.pm line 541.
t/v69.t ............. ok
t/v70.t ............. 1/17 # API test dll found at &#40;API_test.dll&#41;
t/v70.t ............. ok
t/v71.t ............. 1/23 # API test dll found at &#40;API_test.dll&#41;
# under 8 byte warnings are intended
Win32::API::Call value for 64 bit integer is under 8 bytes long at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Type.pm line 281.
Win32::API::Call value for 64 bit integer is under 8 bytes long at Y:\_repos\perl5-win32-api-bulk88\blib\lib/Win32/API/Type.pm line 281.
t/v71.t ............. ok

Test Summary Report
-------------------
t/00_API.t        &#40;Wstat: 1280 Tests: 44 Failed: 0&#41;
  Non-zero exit status: 5
  Parse errors: Bad plan.  You planned 48 tests but ran 44.
Files=13, Tests=191,  6 wallclock secs &#40; 0.22 usr +  0.11 sys =  0.33 CPU&#41;
Result: FAIL
Failed 1/13 test programs. 0/191 subtests failed.
dmake:  Error code 255, while making &#39;test_dynamic&#39;

y:\_repos\perl5-win32-api-bulk88&gt;</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> crash-log.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131201/595206/crash-log.txt">Download crash-log.txt</a><br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
y:\_repos\perl5-win32-api-bulk88&gt;prove -bv t\00_API.t
t\00_API.t ..
1..48
ok 1 - use Win32::API;
ok 2 - use Win32::API::Test;
ok 3 - use Win32;
ok 4 - loaded
# API test dll found at &#40;API_test.dll&#41;
ok 5 - found API test dll
ok 6 - GetCurrentProcessId&#40;&#41; function found
ok 7 - GetCurrentProcessId&#40;&#41; result ok
ok 8 - GetCurrentProcessId&#40;&#41; result ok
ok 9 - Import of GetCurrentProcessId&#40;&#41; function from kernel32.dll
ok 10 - GetCurrentProcessId&#40;&#41; result ok
ok 11 - Import of IsBadReadPtr function from kernel32.dll
ok 12 - API test dll was freed
ok 13 - highbit_unsigned&#40;&#41; function defined
ok 14 - return value for unsigned is signed on old API
ok 15 - GetHandle operates correctly
ok 16 - FreeHandle operates correctly
ok 17 - sum_integers&#40;&#41; function defined
ok 18 - function call with integer arguments and return value
ok 19 - sum_integers_ref&#40;&#41; function defined
ok 20 - sum_integers_ref&#40;&#41; returns the expected value
ok 21 - sum_integers_ref&#40;&#41; correctly modifies its ref argument
ok 22 - short as return type croak because they are structs on old API
ok 23 - sum_shorts_ref&#40;&#41; function defined
ok 24 - shorts croak as struct objs on old API
ok 25 - API_test.dll sum_doubles function defined
ok 26 - function call with double arguments
ok 27 - sum_doubles_ref&#40;&#41; function defined
ok 28 - sum_doubles_ref&#40;&#41; call works
ok 29 - sum_doubles_ref&#40;&#41; sets ref correctly
ok 30 - sum_floats&#40;&#41; function defined
ok 31 - sum_floats&#40;&#41; result correct
ok 32 - sum_floats_ref&#40;&#41; function defined
ok 33 - sum_floats_ref&#40;&#41; returns the expected value &#40;1&#41;
ok 34 - sum_floats_ref&#40;&#41; call works
ok 35 - find_char&#40;&#41; function defined
ok 36 - find_char&#40;&#41; function call works
ok 37 - sum_char_ref&#40;&#41; returns the expected value
ok 38 - sum_char_ref&#40;&#41; correctly modifies its ref argument
ok 39 - numeric truncation sum_char_ref&#40;&#41; returns the expected value
ok 40 - sum_char_ref&#40;&#41; correctly modifies its ref argument
ok 41 - wstr_cmp&#40;&#41; returns the expected value
ok 42 - buffer overflow protection worked
ok 43 - idiot flag works
ok 44 - cdecl c_sum_integers&#40;&#41; function defined
Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
Failed 4/48 subtests

Test Summary Report
-------------------
t\00_API.t &#40;Wstat: 1280 Tests: 44 Failed: 0&#41;
  Non-zero exit status: 5
  Parse errors: Bad plan.  You planned 48 tests but ran 44.
Files=1, Tests=44,  2 wallclock secs &#40; 0.09 usr +  0.02 sys =  0.11 CPU&#41;
Result: FAIL

y:\_repos\perl5-win32-api-bulk88&gt;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131262" href="/Public/Bug/Display.html?id=80248#txn-1131262">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;13:12:42&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131262/595244/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595244">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 335b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 03:54:55 2012, kmx@volny.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Unfortunately 32bit strawberry 5.16.1 still crashing
&gt; 
&gt; --
&gt; kmx
</div>I decided to download 32 bit S perl 5.16.1 and so far, I think it is an
asm problem with the cdecl stack fixer/adder in call_i686.h. Variable
&#34;words_pushed&#34; was zero at the end of the Call_asm. I am still researching.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131275" href="/Public/Bug/Display.html?id=80248#txn-1131275">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;13:20:59&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131275/595252/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595252">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 793b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 13:12:42 2012, BULKDD wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Oct 20 03:54:55 2012, kmx@volny.cz wrote:
<div class="message-stanza open">&gt; &gt; Unfortunately 32bit strawberry 5.16.1 still crashing
&gt; &gt; 
&gt; &gt; --
&gt; &gt; kmx
</div>&gt; I decided to download 32 bit S perl 5.16.1 and so far, I think it is an
&gt; asm problem with the cdecl stack fixer/adder in call_i686.h. Variable
&gt; &#34;words_pushed&#34; was zero at the end of the Call_asm. I am still
</div>researching.

Bug identified, 32 bit Strawberry Perl 5.12 was using ebp parameter
addressing, 32 bit Strawberry Perl 5.16 is using esp parameter
addressing, since esp was moved around by &#34;push&#34;ing onto the stack, esp
addressing can not be used to fetch words_pushed to restore esp back to
its original position. keywords &#34;frame pointer omission&#34;. Not sure how
to fix this yet since my knowledge of GCC is poor.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131316" href="/Public/Bug/Display.html?id=80248#txn-1131316">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;15:45:16&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131316/595279/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595279">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1000b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 13:20:59 2012, BULKDD wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Oct 20 13:12:42 2012, BULKDD wrote:
<div class="message-stanza open">&gt; &gt; On Sat Oct 20 03:54:55 2012, kmx@volny.cz wrote:
<div class="message-stanza open">&gt; &gt; &gt; Unfortunately 32bit strawberry 5.16.1 still crashing
&gt; &gt; &gt; 
&gt; &gt; &gt; --
&gt; &gt; &gt; kmx
</div>&gt; &gt; I decided to download 32 bit S perl 5.16.1 and so far, I think it is an
&gt; &gt; asm problem with the cdecl stack fixer/adder in call_i686.h. Variable
&gt; &gt; &#34;words_pushed&#34; was zero at the end of the Call_asm. I am still
</div>&gt; researching.
&gt; 
&gt; Bug identified, 32 bit Strawberry Perl 5.12 was using ebp parameter
&gt; addressing, 32 bit Strawberry Perl 5.16 is using esp parameter
&gt; addressing, since esp was moved around by &#34;push&#34;ing onto the stack, esp
&gt; addressing can not be used to fetch words_pushed to restore esp back to
&gt; its original position. keywords &#34;frame pointer omission&#34;. Not sure how
&gt; to fix this yet since my knowledge of GCC is poor.
</div>
A fix was implemented, the fix only works on GCC 4.4 or newer, so S Perl
5.16 is covered. The fix is not publically posted yet.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131386" href="/Public/Bug/Display.html?id=80248#txn-1131386">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;20:19:37&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> kmx [...] volny.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1131386/595326/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/595326">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Oct 20 15:45:16 2012, BULKDD wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Oct 20 13:20:59 2012, BULKDD wrote:
<div class="message-stanza open">&gt; &gt; On Sat Oct 20 13:12:42 2012, BULKDD wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Sat Oct 20 03:54:55 2012, kmx@volny.cz wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; Unfortunately 32bit strawberry 5.16.1 still crashing
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; --
&gt; &gt; &gt; &gt; kmx
</div>&gt; &gt; &gt; I decided to download 32 bit S perl 5.16.1 and so far, I think it
</div></div></div>is an
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; asm problem with the cdecl stack fixer/adder in call_i686.h. Variable
&gt; &gt; &gt; &#34;words_pushed&#34; was zero at the end of the Call_asm. I am still
</div>&gt; &gt; researching.
&gt; &gt; 
&gt; &gt; Bug identified, 32 bit Strawberry Perl 5.12 was using ebp parameter
&gt; &gt; addressing, 32 bit Strawberry Perl 5.16 is using esp parameter
&gt; &gt; addressing, since esp was moved around by &#34;push&#34;ing onto the stack, esp
&gt; &gt; addressing can not be used to fetch words_pushed to restore esp back to
&gt; &gt; its original position. keywords &#34;frame pointer omission&#34;. Not sure how
&gt; &gt; to fix this yet since my knowledge of GCC is poor.
</div>&gt; 
&gt; A fix was implemented, the fix only works on GCC 4.4 or newer, so S Perl
&gt; 5.16 is covered. The fix is not publically posted yet.
&gt; 
</div>

The 32 bit Strawberry Perl 5.16 fixes are now available in Win32::API
0.73 on CPAN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1131391" href="/Public/Bug/Display.html?id=80248#txn-1131391">#</a>      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;20&nbsp;20:19:38&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.797083</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
