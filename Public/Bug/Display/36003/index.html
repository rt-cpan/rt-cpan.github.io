<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #36003 for DBD-ODBC:  select on date field gives &#34;Numeric value out of range&#34; with Timesten</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #36003 for DBD-ODBC:  select on date field gives &#34;Numeric value out of range&#34; with Timesten</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DBD-ODBC/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DBD-ODBC/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DBD-ODBC/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DBD-ODBC/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-ODBC">DBD-ODBC CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">36003</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DBD-ODBC/Active/">DBD-ODBC</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
libithashanmugam [...] yahoo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-10188-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.16    </td>
  </tr>
  <tr id="CF-10189-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;08:32:44&nbsp;2008</span>
    <span class="description">libithashanmugam [...] yahoo.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> select on date field gives &#34;Numeric value out of range&#34; with Timesten</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
I use TimesTen 7.0.3 on RHEL 4.1 64 bit. I have a perl program which
uses DBD::ODBC to access TimesTen.

I have a table which has varchar fields and a date field. When I do a
select on the date field, I get the following error

DBD::ODBC::st fetchrow_arrayref failed: [unixODBC][TimesTen][TimesTen
7.0.3.0.0 CLIENT]Numeric value out of range &#40;SQL-22003&#41;


The same program works well with 32 bit TimesTen client and perl
installation on the same box. The issue is only with 64 bit
installation. I did a DBI trace and noted only difference between the
two: field type recognition

32 bit prog &#40;working&#41;
col 1: TIMESTAMP &#40;93&#41; len= 16 disp= 21, prec= 20 scale=0
col 1: &#39;CHANGED_TIME&#39; sqltype=TIMESTAMP, ctype=SQL_C_CHAR, maxlen=21,
&#40;dp = 0, cp = 0&#41;

64 bit prog &#40;erroring out&#41;
now using col 1: type = unknown &#40;0&#41;, len = 16, display size = 16, prec =
20, scale = 0

Can someone help in solving the issue?

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;09:33:56&nbsp;2008</span>
    <span class="description">bohica [...] ntlworld.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> martin.evans [...] easysoft.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 19 08:32:44 2008, lisha wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; I use TimesTen 7.0.3 on RHEL 4.1 64 bit. I have a perl program which
&gt; uses DBD::ODBC to access TimesTen.
&gt; 
&gt; I have a table which has varchar fields and a date field. When I do a
&gt; select on the date field, I get the following error
&gt; 
&gt; DBD::ODBC::st fetchrow_arrayref failed: [unixODBC][TimesTen][TimesTen
&gt; 7.0.3.0.0 CLIENT]Numeric value out of range &#40;SQL-22003&#41;
&gt; 
&gt; 
&gt; The same program works well with 32 bit TimesTen client and perl
&gt; installation on the same box. The issue is only with 64 bit
&gt; installation. I did a DBI trace and noted only difference between the
&gt; two: field type recognition
&gt; 
&gt; 32 bit prog &#40;working&#41;
&gt; col 1: TIMESTAMP &#40;93&#41; len= 16 disp= 21, prec= 20 scale=0
&gt; col 1: &#39;CHANGED_TIME&#39; sqltype=TIMESTAMP, ctype=SQL_C_CHAR, maxlen=21,
&gt; &#40;dp = 0, cp = 0&#41;
&gt; 
&gt; 64 bit prog &#40;erroring out&#41;
&gt; now using col 1: type = unknown &#40;0&#41;, len = 16, display size = 16, prec =
&gt; 20, scale = 0
&gt; 
&gt; Can someone help in solving the issue?
&gt; 
&gt; Thanks
</div>
You need to verify:

o 64bit timesten driver was built with the same compile line as the
unixODBC driver you are using as there are various ways of building ODBC
for 64bit platforms.

o you have the latest unixODBC driver manager &#40;best advice for this is
on the unixodbc lists where I see you posted this problem first&#41;.

o that timesten is returning the right column types for your query in
64bit mode. You can do this with unixODBC&#39;s isql and &#34;help mytable&#34;.

There are lots of compatibility issues with 64bit platforms and ODBC
because Microsoft changed their mind in their ODBC headers when they
introduced a SQLLEN type. If you get isql running in 64bit mode and run
the help mytable command it will output what your driver thinks the
column types are and if you post that here and on the unixODBC list we
might be able to help further. However, at this point, reporting this as
a problem in DBD::ODBC is a little premature.

Martin
-- 
Martin J. Evans
Wetherby, UK
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;19&nbsp;09:33:57&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;03:20:17&nbsp;2008</span>
    <span class="description">libithashanmugam [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> libithashanmugam [...] yahoo.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 19 09:33:56 2008, MJEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon May 19 08:32:44 2008, lisha wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; I use TimesTen 7.0.3 on RHEL 4.1 64 bit. I have a perl program which
&gt; &gt; uses DBD::ODBC to access TimesTen.
&gt; &gt; 
&gt; &gt; I have a table which has varchar fields and a date field. When I do a
&gt; &gt; select on the date field, I get the following error
&gt; &gt; 
&gt; &gt; DBD::ODBC::st fetchrow_arrayref failed: [unixODBC][TimesTen][TimesTen
&gt; &gt; 7.0.3.0.0 CLIENT]Numeric value out of range &#40;SQL-22003&#41;
&gt; &gt; 
&gt; &gt; 
&gt; &gt; The same program works well with 32 bit TimesTen client and perl
&gt; &gt; installation on the same box. The issue is only with 64 bit
&gt; &gt; installation. I did a DBI trace and noted only difference between the
&gt; &gt; two: field type recognition
&gt; &gt; 
&gt; &gt; 32 bit prog &#40;working&#41;
&gt; &gt; col 1: TIMESTAMP &#40;93&#41; len= 16 disp= 21, prec= 20 scale=0
&gt; &gt; col 1: &#39;CHANGED_TIME&#39; sqltype=TIMESTAMP, ctype=SQL_C_CHAR, maxlen=21,
&gt; &gt; &#40;dp = 0, cp = 0&#41;
&gt; &gt; 
&gt; &gt; 64 bit prog &#40;erroring out&#41;
&gt; &gt; now using col 1: type = unknown &#40;0&#41;, len = 16, display size = 16, prec =
&gt; &gt; 20, scale = 0
&gt; &gt; 
&gt; &gt; Can someone help in solving the issue?
&gt; &gt; 
&gt; &gt; Thanks
</div>&gt; 
&gt; You need to verify:
&gt; 
&gt; o 64bit timesten driver was built with the same compile line as the
&gt; unixODBC driver you are using as there are various ways of building ODBC
&gt; for 64bit platforms.
&gt; 
&gt; o you have the latest unixODBC driver manager &#40;best advice for this is
&gt; on the unixodbc lists where I see you posted this problem first&#41;.
&gt; 
&gt; o that timesten is returning the right column types for your query in
&gt; 64bit mode. You can do this with unixODBC&#39;s isql and &#34;help mytable&#34;.
&gt; 
&gt; There are lots of compatibility issues with 64bit platforms and ODBC
&gt; because Microsoft changed their mind in their ODBC headers when they
&gt; introduced a SQLLEN type. If you get isql running in 64bit mode and run
&gt; the help mytable command it will output what your driver thinks the
&gt; column types are and if you post that here and on the unixODBC list we
&gt; might be able to help further. However, at this point, reporting this as
&gt; a problem in DBD::ODBC is a little premature.
&gt; 
&gt; Martin
</div>
Hi Martin,
I first contacted TimesTen team and they replied saying this could be an
issue with DBD::ODBC. They said DBD::ODBC might work fine on 32 bit but
 not updated to work fine on 64 bit. C data types have different size
between 32 and 64 bit which could lead to issues with handling date
field. So, I opened this bug.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;05:51:04&nbsp;2008</span>
    <span class="description">bohica [...] ntlworld.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> martin.evans [...] easysoft.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue May 20 03:20:17 2008, lisha wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon May 19 09:33:56 2008, MJEVANS wrote:
<div class="message-stanza open">&gt; &gt; On Mon May 19 08:32:44 2008, lisha wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi,
&gt; &gt; &gt; I use TimesTen 7.0.3 on RHEL 4.1 64 bit. I have a perl program which
&gt; &gt; &gt; uses DBD::ODBC to access TimesTen.
&gt; &gt; &gt; 
&gt; &gt; &gt; I have a table which has varchar fields and a date field. When I do a
&gt; &gt; &gt; select on the date field, I get the following error
&gt; &gt; &gt; 
&gt; &gt; &gt; DBD::ODBC::st fetchrow_arrayref failed: [unixODBC][TimesTen][TimesTen
&gt; &gt; &gt; 7.0.3.0.0 CLIENT]Numeric value out of range &#40;SQL-22003&#41;
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; The same program works well with 32 bit TimesTen client and perl
&gt; &gt; &gt; installation on the same box. The issue is only with 64 bit
&gt; &gt; &gt; installation. I did a DBI trace and noted only difference between the
&gt; &gt; &gt; two: field type recognition
&gt; &gt; &gt; 
&gt; &gt; &gt; 32 bit prog &#40;working&#41;
&gt; &gt; &gt; col 1: TIMESTAMP &#40;93&#41; len= 16 disp= 21, prec= 20 scale=0
&gt; &gt; &gt; col 1: &#39;CHANGED_TIME&#39; sqltype=TIMESTAMP, ctype=SQL_C_CHAR, maxlen=21,
&gt; &gt; &gt; &#40;dp = 0, cp = 0&#41;
&gt; &gt; &gt; 
&gt; &gt; &gt; 64 bit prog &#40;erroring out&#41;
&gt; &gt; &gt; now using col 1: type = unknown &#40;0&#41;, len = 16, display size = 16,
</div></div></div>prec =
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; 20, scale = 0
&gt; &gt; &gt; 
&gt; &gt; &gt; Can someone help in solving the issue?
&gt; &gt; &gt; 
&gt; &gt; &gt; Thanks
</div>&gt; &gt; 
&gt; &gt; You need to verify:
&gt; &gt; 
&gt; &gt; o 64bit timesten driver was built with the same compile line as the
&gt; &gt; unixODBC driver you are using as there are various ways of building ODBC
&gt; &gt; for 64bit platforms.
&gt; &gt; 
&gt; &gt; o you have the latest unixODBC driver manager &#40;best advice for this is
&gt; &gt; on the unixodbc lists where I see you posted this problem first&#41;.
&gt; &gt; 
&gt; &gt; o that timesten is returning the right column types for your query in
&gt; &gt; 64bit mode. You can do this with unixODBC&#39;s isql and &#34;help mytable&#34;.
&gt; &gt; 
&gt; &gt; There are lots of compatibility issues with 64bit platforms and ODBC
&gt; &gt; because Microsoft changed their mind in their ODBC headers when they
&gt; &gt; introduced a SQLLEN type. If you get isql running in 64bit mode and run
&gt; &gt; the help mytable command it will output what your driver thinks the
&gt; &gt; column types are and if you post that here and on the unixODBC list we
&gt; &gt; might be able to help further. However, at this point, reporting this as
&gt; &gt; a problem in DBD::ODBC is a little premature.
&gt; &gt; 
&gt; &gt; Martin
</div>&gt; 
&gt; Hi Martin,
&gt; I first contacted TimesTen team and they replied saying this could be
&gt; an issue with DBD::ODBC. They said DBD::ODBC might work fine on 32
&gt; bit but not updated to work fine on 64 bit.
</div>
Well I sincerely hope you are not paying good money for support from
TimesTen if this is all they said and did to help you.

DBD::ODBC is confirmed to work on 64 bit platforms from version 1.15. If
you or TimesTen had read the Changes file you can see that.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C data types have different size
&gt; between 32 and 64 bit which could lead to issues with handling date
&gt; field. So, I opened this bug.
</div>
But if you look at the output you sent it looks as though the column
type was not seen correctly. Run isql to you DSN and type in &#34;help
mytable&#34; where mytable is your table name with the column that is not
recognised. Post the output here and on unixODBC list and we can look at
it further.

Martin
-- 
Martin J. Evans
Wetherby, UK
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;20&nbsp;08:12:01&nbsp;2008</span>
    <span class="description">libithashanmugam [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> libithashanmugam [...] yahoo.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon May 19 09:33:56 2008, MJEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon May 19 08:32:44 2008, lisha wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; I use TimesTen 7.0.3 on RHEL 4.1 64 bit. I have a perl program which
&gt; &gt; uses DBD::ODBC to access TimesTen.
&gt; &gt; 
&gt; &gt; I have a table which has varchar fields and a date field. When I do a
&gt; &gt; select on the date field, I get the following error
&gt; &gt; 
&gt; &gt; DBD::ODBC::st fetchrow_arrayref failed: [unixODBC][TimesTen][TimesTen
&gt; &gt; 7.0.3.0.0 CLIENT]Numeric value out of range &#40;SQL-22003&#41;
&gt; &gt; 
&gt; &gt; 
&gt; &gt; The same program works well with 32 bit TimesTen client and perl
&gt; &gt; installation on the same box. The issue is only with 64 bit
&gt; &gt; installation. I did a DBI trace and noted only difference between the
&gt; &gt; two: field type recognition
&gt; &gt; 
&gt; &gt; 32 bit prog &#40;working&#41;
&gt; &gt; col 1: TIMESTAMP &#40;93&#41; len= 16 disp= 21, prec= 20 scale=0
&gt; &gt; col 1: &#39;CHANGED_TIME&#39; sqltype=TIMESTAMP, ctype=SQL_C_CHAR, maxlen=21,
&gt; &gt; &#40;dp = 0, cp = 0&#41;
&gt; &gt; 
&gt; &gt; 64 bit prog &#40;erroring out&#41;
&gt; &gt; now using col 1: type = unknown &#40;0&#41;, len = 16, display size = 16, prec =
&gt; &gt; 20, scale = 0
&gt; &gt; 
&gt; &gt; Can someone help in solving the issue?
&gt; &gt; 
&gt; &gt; Thanks
</div>&gt; 
&gt; You need to verify:
</div>
Hi Martin,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; o 64bit timesten driver was built with the same compile line as the
&gt; unixODBC driver you are using as there are various ways of building ODBC
&gt; for 64bit platforms.
</div>I checked this. They seem to be use same compile options.

 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; o you have the latest unixODBC driver manager &#40;best advice for this is
&gt; on the unixodbc lists where I see you posted this problem first&#41;.
&gt; 
</div>
I have checked both unixODBC 2.2.11 and 2.2.12. Both give same results.  

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; o that timesten is returning the right column types for your query in
&gt; 64bit mode. You can do this with unixODBC&#39;s isql and &#34;help mytable&#34;.
</div>
help mytable displays just the headers and nothing followed by the
message &#34;SQLRowCount returns -1&#34;. I don&#39;t get the table information.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; There are lots of compatibility issues with 64bit platforms and ODBC
&gt; because Microsoft changed their mind in their ODBC headers when they
&gt; introduced a SQLLEN type. If you get isql running in 64bit mode and run
&gt; the help mytable command it will output what your driver thinks the
&gt; column types are and if you post that here and on the unixODBC list we
&gt; might be able to help further. However, at this point, reporting this as
&gt; a problem in DBD::ODBC is a little premature.
&gt; 
</div>Sorry for reporting this issue as a problem with DBD::ODBC. I opened
this bug based on the reply I received from TimesTen team.

Thanks
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;21&nbsp;04:13:34&nbsp;2008</span>
    <span class="description">bohica [...] ntlworld.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">An upgrade to unixODBC 2.2.13pre solved the problem which was the size
of SQLLEN/SQLULEN.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;21&nbsp;04:14:14&nbsp;2008</span>
    <span class="description">bohica [...] ntlworld.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
