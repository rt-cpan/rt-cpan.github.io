<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #39663 for Perl-Dist-Strawberry: CPAN/Comfig.pm makepl_arg breaks some modules</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #39663 for Perl-Dist-Strawberry: CPAN/Comfig.pm makepl_arg breaks some modules</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Dist-Strawberry">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Dist-Strawberry">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Dist-Strawberry">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Dist-Strawberry">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Dist-Strawberry">Perl-Dist-Strawberry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">39663</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Dist-Strawberry">Perl-Dist-Strawberry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nobull67 [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-40214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.04    </td>
  </tr>
  <tr id="CF-40215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




RT-Strawberry-1.html<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/514111/256171/RT-Strawberry-1.html">
Mon Sep 29 08:30:09 2008 (2.5k) by SOMIAN [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=39663">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513624" href="/Public/Bug/Display.html?id=39663#txn-513624">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;28&nbsp;18:01:51&nbsp;2008</span>
    <span class="description">nobull67 [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CPAN/Comfig.pm makepl_arg breaks some modules</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513624/255868/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255868">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 937b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The file Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm contains
the setting:

makepl_arg =&gt; q[LIBS=-LC:\\strawberry\\c\\lib
INC=-IC:\\strawberry\\c\\include],

This is wrong because it causes the LIB setting in a module&#39;s
Makefile.PL to be overridden thus causing compilation errors.

There is no need to pass these setting. The Makefile invokes GCC as
simply &#34;gcc&#34; thus assuming that the environment &#40;at least PATH&#41; is
configured correctly to find the correct GCC installation. If you are
using the GCC.EXE that&#39;s found by traversing the PATH environment
variable then you should be using the &#40;standard&#41; headers and libraries
that are found by traversing the LIB and INCLUDE environment variables. 

The line in Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm should
contain the setting:

makepl_arg =&gt; q[],


Note this bug report is deliberately brief. For more discussion please
see <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perlmonks.org/?node_id=714150">http://www.perlmonks.org/?node_id=714150</a></span> 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513627" href="/Public/Bug/Display.html?id=39663#txn-513627">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;28&nbsp;18:02:30&nbsp;2008</span>
    <span class="description">nobull67 [...] gmail.com -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513656" href="/Public/Bug/Display.html?id=39663#txn-513656">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;28&nbsp;20:04:28&nbsp;2008</span>
    <span class="description">adamkennedybackup [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39663] CPAN/Comfig.pm makepl_arg breaks some modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Sep 2008 10:04:14 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adam Kennedy&#34; &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513656/255890/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/255890">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">A quick note, Strawberry Perl does not set the LIB and INCLUDE
environment variables, as these are only used by Microsoft compilers,
not by GCC.

I&#39;ll address this bug in more depth later today, I have a meeting right now.

Adam K

2008/9/29 Brian McCauley via RT &lt;bug-Perl-Dist-Strawberry@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sun Sep 28 18:01:51 2008: Request 39663 was acted upon.
&gt; Transaction: Ticket created by NOBULL
&gt;       Queue: Perl-Dist-Strawberry
&gt;     Subject: CPAN/Comfig.pm makepl_arg breaks some modules
&gt;   Broken in: 1.04
&gt;    Severity: &#40;no value&#41;
&gt;       Owner: Nobody
&gt;  Requestors: nobull67@gmail.com
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39663">http://rt.cpan.org/Ticket/Display.html?id=39663</a></span> &gt;
&gt;
&gt;
&gt; The file Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm contains
&gt; the setting:
&gt;
&gt; makepl_arg =&gt; q[LIBS=-LC:\\strawberry\\c\\lib
&gt; INC=-IC:\\strawberry\\c\\include],
&gt;
&gt; This is wrong because it causes the LIB setting in a module&#39;s
&gt; Makefile.PL to be overridden thus causing compilation errors.
&gt;
&gt; There is no need to pass these setting. The Makefile invokes GCC as
&gt; simply &#34;gcc&#34; thus assuming that the environment &#40;at least PATH&#41; is
&gt; configured correctly to find the correct GCC installation. If you are
&gt; using the GCC.EXE that&#39;s found by traversing the PATH environment
&gt; variable then you should be using the &#40;standard&#41; headers and libraries
&gt; that are found by traversing the LIB and INCLUDE environment variables.
&gt;
&gt; The line in Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm should
&gt; contain the setting:
&gt;
&gt; makepl_arg =&gt; q[],
&gt;
&gt;
&gt; Note this bug report is deliberately brief. For more discussion please
&gt; see <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perlmonks.org/?node_id=714150">http://www.perlmonks.org/?node_id=714150</a></span>
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513657" href="/Public/Bug/Display.html?id=39663#txn-513657">#</a>      
    </span>
    <span class="date">Sun&nbsp;Sep&nbsp;28&nbsp;20:04:30&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513854" href="/Public/Bug/Display.html?id=39663#txn-513854">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;29&nbsp;04:12:48&nbsp;2008</span>
    <span class="description">nobull67 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39663] CPAN/Comfig.pm makepl_arg breaks some modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Sep 2008 09:12:04 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Brian McCauley&#34; &lt;nobull67 [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513854/256003/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/256003">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 588b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">2008/9/29 Adam Kennedy via RT &lt;bug-Perl-Dist-Strawberry@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39663">http://rt.cpan.org/Ticket/Display.html?id=39663</a></span> &gt;
&gt;
&gt; A quick note, Strawberry Perl does not set the LIB and INCLUDE
&gt; environment variables, as these are only used by Microsoft compilers,
&gt; not by GCC.
</div>
Ah, this means the GCC installation in C:\strawberry\c must implicitly
default to &#34;-LC:\strawberry\c\lib
-IC:\strawberry\c\include&#34;.

Guess that makes sense.

Wonder where I got the idea that Strawberry set the environment
variables? Something certainly did but maybe it was a older version of
Strawberry.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513863" href="/Public/Bug/Display.html?id=39663#txn-513863">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;29&nbsp;04:32:39&nbsp;2008</span>
    <span class="description">nobull67 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39663] CPAN/Comfig.pm makepl_arg breaks some modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Sep 2008 09:32:06 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Brian McCauley&#34; &lt;nobull67 [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513863/256011/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/256011">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 560b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">2008/9/29 Brian McCauley &lt;nobull67@gmail.com&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Wonder where I got the idea that Strawberry set the environment
&gt; variables? Something certainly did but maybe it was a older version of
&gt; Strawberry.
</div>
I&#39;ve just run strawberry-perl-5.10.0.2.exe on a Win2003 box which
didn&#39;t already have Stawberry on it and did not have these variables
set in the registry.

The installation did alter the all user environment variable settings
for LIB and INCLUDE.

INCLUDE=;C:\strawberry\c\include;C:\strawberry\perl\lib\CORE
LIB=;C:\strawberry\c\lib;C:\strawberry\perl\bin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-513946" href="/Public/Bug/Display.html?id=39663#txn-513946">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;29&nbsp;04:58:56&nbsp;2008</span>
    <span class="description">adamkennedybackup [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39663] CPAN/Comfig.pm makepl_arg breaks some modules</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 29 Sep 2008 18:58:40 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adam Kennedy&#34; &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/513946/256069/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/256069">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Strawberry USED to set these environment variables, but that feature
was &#40;supposedly&#41; removed.

I&#39;ve got to start building 5.10.0.3 shortly, I&#39;ll try to make doubly
sure that any regression has been fixed.

Regardless, LIB and INCLUDE in the environment don&#39;t actually DO
anything, as they are a Visual C thing.

Adam K

2008/9/29 Brian McCauley via RT &lt;bug-Perl-Dist-Strawberry@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Perl-Dist-Strawberry
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39663">http://rt.cpan.org/Ticket/Display.html?id=39663</a></span> &gt;
&gt;
&gt; 2008/9/29 Brian McCauley &lt;nobull67@gmail.com&gt;:
&gt;
<div class="message-stanza open">&gt;&gt; Wonder where I got the idea that Strawberry set the environment
&gt;&gt; variables? Something certainly did but maybe it was a older version of
&gt;&gt; Strawberry.
</div>&gt;
&gt; I&#39;ve just run strawberry-perl-5.10.0.2.exe on a Win2003 box which
&gt; didn&#39;t already have Stawberry on it and did not have these variables
&gt; set in the registry.
&gt;
&gt; The installation did alter the all user environment variable settings
&gt; for LIB and INCLUDE.
&gt;
&gt; INCLUDE=;C:\strawberry\c\include;C:\strawberry\perl\lib\CORE
&gt; LIB=;C:\strawberry\c\lib;C:\strawberry\perl\bin
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-514108" href="/Public/Bug/Display.html?id=39663#txn-514108">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;29&nbsp;08:16:36&nbsp;2008</span>
    <span class="description">bohica [...] ntlworld.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/514108/256164/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/256164">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please also see <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=32811">http://rt.cpan.org/Ticket/Display.html?id=32811</a></span> and the
related issue in strawberry perl which is
<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org//Ticket/Display.html?id=32789">http://rt.cpan.org//Ticket/Display.html?id=32789</a></span> as I believe this is
the same issue.

DBD::ODBC &#40;as all DBD modules&#41; has to get the path to the DBI header
files and add them to INC in Makefile.PL. If you attempt to do this in
Makefile.PL when called via cpan shell in strawberry perl you find it
does not work. I believe it does not work because makepl_arg already
includes INC and INC on the command line to &#34;perl Makefile.PL&#34; overrides
setting &#40;or appending&#41; INC in ExtUtils::MakeMaker.

A comment in the perl monks thread NOBULL refers to includes a comment
saying it is the Makefile.PL&#39;s responsibility to deal with this fact and
append it&#39;s INC values to ARGV[INC] or perhaps delete ARGV[INC] so that
the INC passed to ExtUtils::MakeMaker works but a&#41; I cannot find this in
any documentation and b&#41; that is not possible in DBD::* modules without
breaking the dependency checking which makes cpan-testers not fail the
distribution if DBI does not exist. This is down to the fact that not
all CPANs know about configure_requires and build_requires in META.yml
yet so you are forced to check for DBI yourself before attempting to use
DBI::DBD::dbd_dbi_arch_dir&#40;&#41; to get the path and this must be done in
ExtUtils::MakeMaker&#39;s writeMakefile which is too late to change ARGCV.

Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-514111" href="/Public/Bug/Display.html?id=39663#txn-514111">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;29&nbsp;08:30:09&nbsp;2008</span>
    <span class="description">SOMIAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CPAN/Config.pm &#40;not &#34;Comfig.pm&#34;&#41; makepl_arg breaks some modules</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/514111/256168/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/256168">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 346b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Using makepl_args to try to pass some heedless &#34;default params&#34; to
MakeMaker this way seems broken and wrong to me.  I had more to say
about it at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perlmonks.org/index.pl?node_id=714335">http://www.perlmonks.org/index.pl?node_id=714335</a></span> &#40;failing
that, try
<span class="clickylink"><a target="new" rel="nofollow" href="http://intrepid.perlmonks.org/apropos.pmo/writeups/thread_714150/&#41;">http://intrepid.perlmonks.org/apropos.pmo/writeups/thread_714150/&#41;</a></span>.

  Soren Andersen
-- 
Also email somian08 ^AT^ gmail -DOT- com.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/514111/256171/RT-Strawberry-1.html">Download RT-Strawberry-1.html</a><br />
<span class="downloadcontenttype">text/html 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza">RT Issue: Strawberry 5.10


  <p>In Sep of 2008, on the 28th, NOBULL created a ticket that read:</p>
<blockquote>
<p>The file Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm contains the setting:</p>
<p>makepl_arg =&#62; q&#91;<span>LIBS</span>=<span>-L</span><span>C:\\strawberry\\c\\lib</span> <span>INC</span>=<span>-I</span><span>C:\\strawberry\\c\\include</span>&#93;,</p>
<p>This is wrong because it causes the <span>LIB</span> setting in a module&#8217;s Makefile.PL to be overridden thus causing compilation errors.</p>
<p>There is no need to pass these setting. The Makefile invokes <span>GCC</span> as simply &#8220;gcc&#8221; thus assuming that the environment (at least <span>PATH</span>) is configured correctly to find the correct <span>GCC</span> installation. If you are using the <span>GCC</span>.EXE that&#8217;s found by traversing the <span>PATH</span> environment variable then you should be using the (standard) headers and libraries that are found by traversing the <span>LIB</span> and <span>INCLUDE</span> environment variables.</p>
<p>The line in Perl-Dist-Strawberry-1.04/share/CPAN_Config_5100.pm should contain the setting:</p>
<p>makepl_arg =&#62; q&#91;&#93;,</p>
<p>Note this bug report is deliberately brief. For more discussion please see <a href="http://www.perlmonks.org/?node_id=714150">Strawberry <span>CPAN</span>.pm wrongly overrides <span>INC</span> in Makefile.PL</a></p>
</blockquote>


</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-662029" href="/Public/Bug/Display.html?id=39663#txn-662029">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;21:42:30&nbsp;2009</span>
    <span class="description">csjewell [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/662029/339662/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/339662">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 143b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Since these parameters were apparently moved to $Config{&#39;ldflags&#39;} and
$Config{&#39;lddlflags&#39;} well before 5.10.0.6, this bug has been resolved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-662032" href="/Public/Bug/Display.html?id=39663#txn-662032">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;09&nbsp;21:42:32&nbsp;2009</span>
    <span class="description">csjewell [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.655301</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
