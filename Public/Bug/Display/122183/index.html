<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #122183 for Email-Send-SMTP-Gmail: Can&#39;t connect to smtp?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #122183 for Email-Send-SMTP-Gmail: Can&#39;t connect to smtp?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Email-Send-SMTP-Gmail">Email-Send-SMTP-Gmail CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">122183</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Email-Send-SMTP-Gmail/Active/">Email-Send-SMTP-Gmail</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">PECO [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
lionel.u.l [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236026-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236027-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.21    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;02:23:37&nbsp;2017</span>
    <span class="description">lionel.u.l [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t connect to smtp?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 Jun 2017 03:23:28 -0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Lionel Uran Landaburu &lt;lionel.u.l [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!

I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app. Currently testing
it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t locate
object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to load
&#34;-1&#34;?&#41;&#34; error.
I&#39;ve read it is sort of a default error so I used debug and verbose.

*The code is fairly similar to the one in the documentation:*

    my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
        -smtp =&gt; &#39;smtp.gmail.com&#39;,
        -login =&gt; $smtp_user,
        -pass =&gt; $smtp_pass,
        -verbose =&gt; 1,
        -debug =&gt; 1
        &#41;;
    print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;

    $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
                -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;text/html&#39;&#41;;
    $mail-&gt;bye;


*The debug log and the error:*

Connecting to smtp.gmail.com using tls with LOGIN on port 25 and timeout of
60
Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP n35sm3006680qta.15 -
gsmtp
Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[190.18.121.32]
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
Authentication &#40;SMTP&#41; failed

Note that login information provided in $smtp_user and $smtp_pass is
correct. Also tried forcing all three ports for gmail. Didn&#39;t work either.

Any workaround this?
Thanks!

-- 
*Lic. Lionel Uran L.*
Laboratorio de Genómica y Bioinformática
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.iib.unsam.edu.ar/web/bioinformatica.php">http://www.iib.unsam.edu.ar/web/bioinformatica.php</a></span>&gt;
Instituto de Investigaciones Biotecnológicas
Universidad Nacional de San Martin



*Campus Miguelete &#40;25 de Mayo y Francia&#41;, General San Martín.Buenos Aires,
Argentina &#40;B1650HMP&#41; Tel. &#40;+54 11&#41;  4006 1500 - ext 2120 / 2107Fax &#40;+54 11&#41;
 4006 1559*
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;04:00:34&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

The problem is not related to the module itself, but to some incompatibilities between new versions of other modules.

Workarounds:

1&#41; I solved the issue, with a downgrade of Net::SMTPS to v0.04 &#40;instead of 0.06&#41;. It&#39;s attached.

Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
Net::SMTPS=GLOB&#40;0x1aa6eb0&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP g190sm1157682lfe.11 - gsmtp


2&#41; On another machine, I solved the issue just upgrading Net::SMTP to 3.05

Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::IP&#40;0.37&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;

Hope this helps

On Fri Jun 23 02:23:37 2017, lionel.u.l@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi!
&gt; 
&gt; I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app. Currently testing
&gt; it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t locate
&gt; object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to load
&gt; &#34;-1&#34;?&#41;&#34; error.
&gt; I&#39;ve read it is sort of a default error so I used debug and verbose.
&gt; 
&gt; *The code is fairly similar to the one in the documentation:*
&gt; 
&gt;     my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
&gt;         -smtp =&gt; &#39;smtp.gmail.com&#39;,
&gt;         -login =&gt; $smtp_user,
&gt;         -pass =&gt; $smtp_pass,
&gt;         -verbose =&gt; 1,
&gt;         -debug =&gt; 1
&gt;         &#41;;
&gt;     print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;
&gt; 
&gt;     $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
&gt;                 -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;text/html&#39;&#41;;
&gt;     $mail-&gt;bye;
&gt; 
&gt; 
&gt; *The debug log and the error:*
&gt; 
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 25 and timeout of
&gt; 60
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP n35sm3006680qta.15 -
&gt; gsmtp
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
&gt; [190.18.121.32]
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
&gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
&gt; Authentication &#40;SMTP&#41; failed
&gt; 
&gt; Note that login information provided in $smtp_user and $smtp_pass is
&gt; correct. Also tried forcing all three ports for gmail. Didn&#39;t work either.
&gt; 
&gt; Any workaround this?
&gt; Thanks!
&gt; 
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SMTPS.pm</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"># ====
#  SSL/STARTTLS extention for G.Barr&#39;s Net::SMTP.
#    plus, enable arbitrary SMTP auth mechanism selection.
#      IO::Socket::SSL &#40;also Net::SSLeay openssl&#41;,
#      Authen::SASL, MIME::Base64 should be installed.
#
package Net::SMTPS;

use vars qw &#40; $VERSION @ISA &#41;;

$VERSION = &#34;0.04&#34;;

use base qw &#40; Net::SMTP &#41;;
use Net::Cmd;  # import CMD_OK, CMD_MORE, ...
use Net::Config;

eval {
    require IO::Socket::INET6
	and unshift @ISA, &#39;IO::Socket::INET6&#39;;
} or do {
    require IO::Socket::INET
	and unshift @ISA, &#39;IO::Socket::INET&#39;;
};

use strict;

# Override to support SSL/TLS.
sub new {
  my $self = shift;
  my $type = ref&#40;$self&#41; || $self;
  my &#40;$host, %arg&#41;;
  if &#40;@_ % 2&#41; {
      $host = shift;
      %arg  = @_;
  }
  else {
      %arg  = @_;
      $host = delete $arg{Host};
  }
  my $ssl = delete $arg{doSSL};

  my $hosts = defined $host ? $host : $NetConfig{smtp_hosts};
  my $obj;

  # eliminate IO::Socket::SSL from @ISA for multiple call of new.
  @ISA = grep { !/IO::Socket::SSL/ } @ISA;

  my %_args = map { +&#34;$_&#34; =&gt; $arg{$_} } grep {! /^SSL/} keys %arg;

  my $h;
  $_args{PeerPort} = $_args{Port} || &#39;smtp&#40;25&#41;&#39;;
  $_args{Proto} = &#39;tcp&#39;;
  $_args{Timeout} = defined $_args{Timeout} ? $_args{Timeout} : 120;

  foreach $h &#40;@{ref&#40;$hosts&#41; ? $hosts : [$hosts]}&#41; {
      $_args{PeerAddr} = &#40;$host = $h&#41;;

      #if &#40;$_args{Debug}&#41; {
	#  foreach my $i &#40;keys %_args&#41; {
	#     print STDERR &#34;$type&gt;&gt;&gt; arg $i: $_args{$i}\n&#34;;
	#  }
      #}

      $obj = $type-&gt;SUPER::new&#40;
	  %_args
      &#41;
      and last;
  }

  return undef
    unless defined $obj;

  $obj-&gt;autoflush&#40;1&#41;;

  $obj-&gt;debug&#40;exists $arg{Debug} ? $arg{Debug} : undef&#41;;

# common in SSL
  my %ssl_args;
  if &#40;$ssl&#41; {
    eval {
      require IO::Socket::SSL;
    } or do {
      $obj-&gt;set_status&#40;500, [&#34;Need working IO::Socket::SSL&#34;]&#41;;
      $obj-&gt;close;
      return undef;
    };
    %ssl_args = map { +&#34;$_&#34; =&gt; $arg{$_} } grep {/^SSL/} keys %arg;
    $IO::Socket::SSL::DEBUG = &#40;exists $arg{Debug} ? $arg{Debug} : undef&#41;; 
  }

# OverSSL
  if &#40;defined&#40;$ssl&#41; &#38;&#38; $ssl =~ /ssl/i&#41; {
    $obj-&gt;ssl_start&#40;\%ssl_args&#41;
      or do {
	$obj-&gt;set_status&#40;500, [&#34;Cannot start SSL&#34;]&#41;;
	$obj-&gt;close;
	return undef;
      };
  }

  unless &#40;$obj-&gt;response&#40;&#41; == CMD_OK&#41; {
    $obj-&gt;close&#40;&#41;;
    return undef;
  }

  ${*$obj}{&#39;net_smtp_exact_addr&#39;} = $arg{ExactAddresses};
  ${*$obj}{&#39;net_smtp_host&#39;}       = $host;

  &#40;${*$obj}{&#39;net_smtp_banner&#39;}&#41; = $obj-&gt;message;
  &#40;${*$obj}{&#39;net_smtp_domain&#39;}&#41; = $obj-&gt;message =~ /\A\s*&#40;\S+&#41;/;

  unless &#40;$obj-&gt;hello&#40;$arg{Hello} || &#34;&#34;&#41;&#41; {
    $obj-&gt;close&#40;&#41;;
    return undef;
  }

# STARTTLS
  if &#40;defined&#40;$ssl&#41; &#38;&#38; $ssl =~ /starttls/i &#38;&#38; $obj-&gt;supports&#40;&#39;STARTTLS&#39;&#41; &#41; {
    &#40;&#40;$obj-&gt;command&#40;&#39;STARTTLS&#39;&#41;-&gt;response&#40;&#41; == CMD_OK&#41;
     and $obj-&gt;ssl_start&#40;\%ssl_args&#41;
     and $obj-&gt;hello&#40;$arg{Hello} || &#34;&#34;&#41;&#41;
       or do {
	 $obj-&gt;set_status&#40;500, [&#34;Cannot start SSL session&#34;]&#41;;
	 $obj-&gt;close&#40;&#41;;
	 return undef;
       };
  }

  $obj;
}

sub ssl_start {
    my &#40;$self, $args&#41; = @_;
    my $type = ref&#40;$self&#41;;

    &#40;unshift @ISA, &#39;IO::Socket::SSL&#39;
     and IO::Socket::SSL-&gt;start_SSL&#40;$self, %$args&#41;
     and $self-&gt;isa&#40;&#39;IO::Socket::SSL&#39;&#41;
     and bless $self, $type     # re-bless &#39;cause IO::Socket::SSL blesses himself.
    &#41; or return undef;
}

# Override to specify a certain auth mechanism.
sub auth {
  my &#40;$self, $username, $password, $mech&#41; = @_;

  eval {
    require MIME::Base64;
    require Authen::SASL;
  } or $self-&gt;set_status&#40;500, [&#34;Need MIME::Base64 and Authen::SASL todo auth&#34;]&#41;, return 0;

  my $mechanisms = $self-&gt;supports&#40;&#39;AUTH&#39;, 500, [&#34;Command unknown: &#39;AUTH&#39;&#34;]&#41;;
  if &#40;$mech&#41; {
    $mechanisms = $mech;
  }
  return unless $mechanisms;

  my $sasl;

  if &#40;ref&#40;$username&#41; and UNIVERSAL::isa&#40;$username, &#39;Authen::SASL&#39;&#41;&#41; {
    $sasl = $username;
    $sasl-&gt;mechanism&#40;$mechanisms&#41;;
  }
  else {
    die &#34;auth&#40;username, password&#41;&#34; if not length $username;
    $sasl = Authen::SASL-&gt;new&#40;
      mechanism =&gt; $mechanisms,
      callback  =&gt; {
        user     =&gt; $username,
        pass     =&gt; $password,
        authname =&gt; $username,
      }
    &#41;;
  }

  # We should probably allow the user to pass the host, but I don&#39;t
  # currently know and SASL mechanisms that are used by smtp that need it
  my $client = $sasl-&gt;client_new&#40;&#39;smtp&#39;, ${*$self}{&#39;net_smtp_host&#39;}, 0&#41;;
  my $str    = $client-&gt;client_start;

  # We dont support sasl mechanisms that encrypt the socket traffic.
  # todo that we would really need to change the ISA hierarchy
  # so we dont inherit from IO::Socket, but instead hold it in an attribute

  my @cmd = &#40;&#34;AUTH&#34;, $client-&gt;mechanism&#41;;
  my $code;

  push @cmd, MIME::Base64::encode_base64&#40;$str, &#39;&#39;&#41;
    if defined $str and length $str;

  while &#40;&#40;$code = $self-&gt;command&#40;@cmd&#41;-&gt;response&#40;&#41;&#41; == CMD_MORE&#41; {
    @cmd = &#40;
      MIME::Base64::encode_base64&#40;
        $client-&gt;client_step&#40;MIME::Base64::decode_base64&#40;&#40;$self-&gt;message&#41;[0]&#41;&#41;, &#39;&#39;
      &#41;
    &#41;;
  }

  $code == CMD_OK;
}

1;

__END__

=head1 NAME

Net::SMTPS - SSL/STARTTLS support for Net::SMTP

=head1 SYNOPSYS

    use Net::SMTPS;

    my $ssl = &#39;starttls&#39;;   # &#39;ssl&#39; / &#39;starttls&#39; / undef

    my $smtp = Net::SMTPS-&gt;new&#40;&#34;smtp.example.com&#34;, Port =&gt; 587, doSSL =&gt; $ssl&#41;;

=head1 DESCRIPTION

This module implements a wrapper for Net::SMTP, enabling over-SSL/STARTTLS support.
This module inherits all the methods from Net::SMTP. You may use all the friendly
options that came bundled with Net::SMTP.
You can control the SSL usage with the options of new&#40;&#41; constructor method.
&#39;doSSL&#39; option is the switch, and, If you would like to control detailed SSL settings,
you can set SSL_* options that are brought from IO::Socket::SSL. Please see the
document of IO::Socket::SSL about these options detail.

Just one method difference from the Net::SMTP, you may select SMTP AUTH mechanism
as the third option of auth&#40;&#41; method.

=head1 METHODS

Most of all methods of Net::SMTP are inherited as is, except auth&#40;&#41;.


=over 4

=item auth &#40; USERNAME, PASSWORD [, AUTHMETHOD]&#41;

Attempt SASL authentication through Authen::SASL module. AUTHMETHOD is your required
method of authentication, like &#39;CRAM-MD5&#39;, &#39;LOGIN&#39;, ... etc. the default is &#39;CRAM-MD5&#39;.

=back

=head1 SEE ALSO

L&lt;Net::SMTP&gt;,
L&lt;IO::Socket::SSL&gt;,
L&lt;Authen::SASL&gt;

=head1 AUTHOR

Tomo.M &lt;tomo at cpan.org&gt;

=head1 COPYRIGHT

Copyright &#40;c&#41; 2013 Tomo.M All rights reserved.
This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.

=cut
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;04:00:34&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;12:30:43&nbsp;2017</span>
    <span class="description">lionel.u.l [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122183] Can&#39;t connect to smtp?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 23 Jun 2017 13:30:01 -0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Lionel Uran Landaburu &lt;lionel.u.l [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi! Thanks for the quick response.

Could there be anything else going on? I tried first workaround and updated
Net::SMTP to 3.10 &#40;not quite 3.05, couldn&#39;t find it, for some reason&#41; and
it still doesn&#39;t work.

2017-06-23 5:00 GMT-03:00 Juan Jose San Martin via RT &lt;
bug-Email-Send-SMTP-Gmail@rt.cpan.org&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122183">https://rt.cpan.org/Ticket/Display.html?id=122183</a></span> &gt;
&gt;
&gt; Hello,
&gt;
&gt; The problem is not related to the module itself, but to some
&gt; incompatibilities between new versions of other modules.
&gt;
&gt; Workarounds:
&gt;
&gt; 1&#41; I solved the issue, with a downgrade of Net::SMTPS to v0.04 &#40;instead of
&gt; 0.06&#41;. It&#39;s attached.
&gt;
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; Net::SMTPS=GLOB&#40;0x1aa6eb0&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
&gt; g190sm1157682lfe.11 - gsmtp
&gt;
&gt;
&gt; 2&#41; On another machine, I solved the issue just upgrading Net::SMTP to 3.05
&gt;
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::IP&#40;0.37&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt;
&gt; Hope this helps
&gt;
&gt; On Fri Jun 23 02:23:37 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Hi!
&gt; &gt;
&gt; &gt; I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app. Currently testing
&gt; &gt; it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t locate
&gt; &gt; object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to load
&gt; &gt; &#34;-1&#34;?&#41;&#34; error.
&gt; &gt; I&#39;ve read it is sort of a default error so I used debug and verbose.
&gt; &gt;
&gt; &gt; *The code is fairly similar to the one in the documentation:*
&gt; &gt;
&gt; &gt;     my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
&gt; &gt;         -smtp =&gt; &#39;smtp.gmail.com&#39;,
&gt; &gt;         -login =&gt; $smtp_user,
&gt; &gt;         -pass =&gt; $smtp_pass,
&gt; &gt;         -verbose =&gt; 1,
&gt; &gt;         -debug =&gt; 1
&gt; &gt;         &#41;;
&gt; &gt;     print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;
&gt; &gt;
&gt; &gt;     $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
&gt; &gt;                 -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;
</div>&gt; text/html&#39;&#41;;
<div class="message-stanza open">&gt; &gt;     $mail-&gt;bye;
&gt; &gt;
&gt; &gt;
&gt; &gt; *The debug log and the error:*
&gt; &gt;
&gt; &gt; Connecting to smtp.gmail.com using tls with LOGIN on port 25 and
</div>&gt; timeout of
<div class="message-stanza open">&gt; &gt; 60
&gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
</div>&gt; n35sm3006680qta.15 -
<div class="message-stanza open">&gt; &gt; gsmtp
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
&gt; &gt; [190.18.121.32]
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
&gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
&gt; &gt; Authentication &#40;SMTP&#41; failed
&gt; &gt;
&gt; &gt; Note that login information provided in $smtp_user and $smtp_pass is
&gt; &gt; correct. Also tried forcing all three ports for gmail. Didn&#39;t work
</div>&gt; either.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Any workaround this?
&gt; &gt; Thanks!
&gt; &gt;
</div>&gt;
&gt;
&gt;
&gt;
</div>

-- 
*Lic. Lionel Uran L.*
Laboratorio de Genómica y Bioinformática
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.iib.unsam.edu.ar/web/bioinformatica.php">http://www.iib.unsam.edu.ar/web/bioinformatica.php</a></span>&gt;
Instituto de Investigaciones Biotecnológicas
Universidad Nacional de San Martin



*Campus Miguelete &#40;25 de Mayo y Francia&#41;, General San Martín.Buenos Aires,
Argentina &#40;B1650HMP&#41; Tel. &#40;+54 11&#41;  4006 1500 - ext 2120 / 2107Fax &#40;+54 11&#41;
 4006 1559*
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;16:22:40&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi!

I&#39;m taking a look and the issue is on Net:SMTPS &#40;v0.6&#41;
The author of it says that &#34;as of Version 3.10 of Net::SMTP&#40;libnet&#41; includes SSL/STARTTLS capabilities, so this wrapper module&#39;s significance disappareing.&#34;

Workaround 1: use SMTPS.pm &#40;v0.4&#41;

Solution:
I will work on a new release of Gmail.pm in order to avoid the usage of this wrapper.
Hope to have it up &#38; running very soon.

Hope this helps.




On Fri Jun 23 12:30:43 2017, lionel.u.l@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi! Thanks for the quick response.
&gt; 
&gt; Could there be anything else going on? I tried first workaround and updated
&gt; Net::SMTP to 3.10 &#40;not quite 3.05, couldn&#39;t find it, for some reason&#41; and
&gt; it still doesn&#39;t work.
&gt; 
&gt; 2017-06-23 5:00 GMT-03:00 Juan Jose San Martin via RT &lt;
&gt; bug-Email-Send-SMTP-Gmail@rt.cpan.org&gt;:
&gt; 
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122183">https://rt.cpan.org/Ticket/Display.html?id=122183</a></span> &gt;
&gt; &gt;
&gt; &gt; Hello,
&gt; &gt;
&gt; &gt; The problem is not related to the module itself, but to some
&gt; &gt; incompatibilities between new versions of other modules.
&gt; &gt;
&gt; &gt; Workarounds:
&gt; &gt;
&gt; &gt; 1&#41; I solved the issue, with a downgrade of Net::SMTPS to v0.04 &#40;instead of
&gt; &gt; 0.06&#41;. It&#39;s attached.
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; &gt; Net::SMTPS=GLOB&#40;0x1aa6eb0&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
&gt; &gt; g190sm1157682lfe.11 - gsmtp
&gt; &gt;
&gt; &gt;
&gt; &gt; 2&#41; On another machine, I solved the issue just upgrading Net::SMTP to 3.05
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::IP&#40;0.37&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt;
&gt; &gt; Hope this helps
&gt; &gt;
&gt; &gt; On Fri Jun 23 02:23:37 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi!
&gt; &gt; &gt;
&gt; &gt; &gt; I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app. Currently testing
&gt; &gt; &gt; it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t locate
&gt; &gt; &gt; object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to load
&gt; &gt; &gt; &#34;-1&#34;?&#41;&#34; error.
&gt; &gt; &gt; I&#39;ve read it is sort of a default error so I used debug and verbose.
&gt; &gt; &gt;
&gt; &gt; &gt; *The code is fairly similar to the one in the documentation:*
&gt; &gt; &gt;
&gt; &gt; &gt;     my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
&gt; &gt; &gt;         -smtp =&gt; &#39;smtp.gmail.com&#39;,
&gt; &gt; &gt;         -login =&gt; $smtp_user,
&gt; &gt; &gt;         -pass =&gt; $smtp_pass,
&gt; &gt; &gt;         -verbose =&gt; 1,
&gt; &gt; &gt;         -debug =&gt; 1
&gt; &gt; &gt;         &#41;;
&gt; &gt; &gt;     print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;
&gt; &gt; &gt;
&gt; &gt; &gt;     $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
&gt; &gt; &gt;                 -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;
</div>&gt; &gt; text/html&#39;&#41;;
<div class="message-stanza open">&gt; &gt; &gt;     $mail-&gt;bye;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; *The debug log and the error:*
&gt; &gt; &gt;
&gt; &gt; &gt; Connecting to smtp.gmail.com using tls with LOGIN on port 25 and
</div>&gt; &gt; timeout of
<div class="message-stanza open">&gt; &gt; &gt; 60
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
</div>&gt; &gt; n35sm3006680qta.15 -
<div class="message-stanza open">&gt; &gt; &gt; gsmtp
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
&gt; &gt; &gt; [190.18.121.32]
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
&gt; &gt; &gt; Authentication &#40;SMTP&#41; failed
&gt; &gt; &gt;
&gt; &gt; &gt; Note that login information provided in $smtp_user and $smtp_pass is
&gt; &gt; &gt; correct. Also tried forcing all three ports for gmail. Didn&#39;t work
</div>&gt; &gt; either.
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt; Any workaround this?
&gt; &gt; &gt; Thanks!
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;23&nbsp;16:22:51&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;new&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;07:56:36&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Done.

A new release of the module has been uploaded to CPAN.

Email::Send::SMTP::Gmail &#40;v1.20&#41; use directly Net::SMTP avoiding the issue with the wrapper Net::SMTPS.

Thanks
Peco

On Fri Jun 23 16:22:40 2017, PECO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi!
&gt; 
&gt; I&#39;m taking a look and the issue is on Net:SMTPS &#40;v0.6&#41;
&gt; The author of it says that &#34;as of Version 3.10 of Net::SMTP&#40;libnet&#41;
&gt; includes SSL/STARTTLS capabilities, so this wrapper module&#39;s
&gt; significance disappareing.&#34;
&gt; 
&gt; Workaround 1: use SMTPS.pm &#40;v0.4&#41;
&gt; 
&gt; Solution:
&gt; I will work on a new release of Gmail.pm in order to avoid the usage
&gt; of this wrapper.
&gt; Hope to have it up &#38; running very soon.
&gt; 
&gt; Hope this helps.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; On Fri Jun 23 12:30:43 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Hi! Thanks for the quick response.
&gt; &gt;
&gt; &gt; Could there be anything else going on? I tried first workaround and
&gt; &gt; updated
&gt; &gt; Net::SMTP to 3.10 &#40;not quite 3.05, couldn&#39;t find it, for some reason&#41;
&gt; &gt; and
&gt; &gt; it still doesn&#39;t work.
&gt; &gt;
&gt; &gt; 2017-06-23 5:00 GMT-03:00 Juan Jose San Martin via RT &lt;
&gt; &gt; bug-Email-Send-SMTP-Gmail@rt.cpan.org&gt;:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122183">https://rt.cpan.org/Ticket/Display.html?id=122183</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; Hello,
&gt; &gt; &gt;
&gt; &gt; &gt; The problem is not related to the module itself, but to some
&gt; &gt; &gt; incompatibilities between new versions of other modules.
&gt; &gt; &gt;
&gt; &gt; &gt; Workarounds:
&gt; &gt; &gt;
&gt; &gt; &gt; 1&#41; I solved the issue, with a downgrade of Net::SMTPS to v0.04
&gt; &gt; &gt; &#40;instead of
&gt; &gt; &gt; 0.06&#41;. It&#39;s attached.
&gt; &gt; &gt;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x1aa6eb0&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
&gt; &gt; &gt; g190sm1157682lfe.11 - gsmtp
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; 2&#41; On another machine, I solved the issue just upgrading Net::SMTP
&gt; &gt; &gt; to 3.05
&gt; &gt; &gt;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::IP&#40;0.37&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt; &gt;
&gt; &gt; &gt; Hope this helps
&gt; &gt; &gt;
&gt; &gt; &gt; On Fri Jun 23 02:23:37 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; Hi!
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app. Currently
&gt; &gt; &gt; &gt; testing
&gt; &gt; &gt; &gt; it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t
&gt; &gt; &gt; &gt; locate
&gt; &gt; &gt; &gt; object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to load
&gt; &gt; &gt; &gt; &#34;-1&#34;?&#41;&#34; error.
&gt; &gt; &gt; &gt; I&#39;ve read it is sort of a default error so I used debug and
&gt; &gt; &gt; &gt; verbose.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; *The code is fairly similar to the one in the documentation:*
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
&gt; &gt; &gt; &gt;     -smtp =&gt; &#39;smtp.gmail.com&#39;,
&gt; &gt; &gt; &gt;     -login =&gt; $smtp_user,
&gt; &gt; &gt; &gt;     -pass =&gt; $smtp_pass,
&gt; &gt; &gt; &gt;     -verbose =&gt; 1,
&gt; &gt; &gt; &gt;     -debug =&gt; 1
&gt; &gt; &gt; &gt;     &#41;;
&gt; &gt; &gt; &gt; print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
&gt; &gt; &gt; &gt;             -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;
</div>&gt; &gt; &gt; text/html&#39;&#41;;
<div class="message-stanza open">&gt; &gt; &gt; &gt; $mail-&gt;bye;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; *The debug log and the error:*
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Connecting to smtp.gmail.com using tls with LOGIN on port 25 and
</div>&gt; &gt; &gt; timeout of
<div class="message-stanza open">&gt; &gt; &gt; &gt; 60
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
</div>&gt; &gt; &gt; n35sm3006680qta.15 -
<div class="message-stanza open">&gt; &gt; &gt; &gt; gsmtp
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
&gt; &gt; &gt; &gt; [190.18.121.32]
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
&gt; &gt; &gt; &gt; Authentication &#40;SMTP&#41; failed
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Note that login information provided in $smtp_user and $smtp_pass
&gt; &gt; &gt; &gt; is
&gt; &gt; &gt; &gt; correct. Also tried forcing all three ports for gmail. Didn&#39;t
&gt; &gt; &gt; &gt; work
</div>&gt; &gt; &gt; either.
<div class="message-stanza open">&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Any workaround this?
&gt; &gt; &gt; &gt; Thanks!
&gt; &gt; &gt; &gt;
</div>&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
</div>&gt; &gt;
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;07:56:36&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;09:30:39&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closed!

On Mon Jun 26 07:56:36 2017, PECO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Done.
&gt; 
&gt; A new release of the module has been uploaded to CPAN.
&gt; 
&gt; Email::Send::SMTP::Gmail &#40;v1.20&#41; use directly Net::SMTP avoiding the
&gt; issue with the wrapper Net::SMTPS.
&gt; 
&gt; Thanks
&gt; Peco
&gt; 
&gt; On Fri Jun 23 16:22:40 2017, PECO wrote:
<div class="message-stanza open">&gt; &gt; Hi!
&gt; &gt;
&gt; &gt; I&#39;m taking a look and the issue is on Net:SMTPS &#40;v0.6&#41;
&gt; &gt; The author of it says that &#34;as of Version 3.10 of Net::SMTP&#40;libnet&#41;
&gt; &gt; includes SSL/STARTTLS capabilities, so this wrapper module&#39;s
&gt; &gt; significance disappareing.&#34;
&gt; &gt;
&gt; &gt; Workaround 1: use SMTPS.pm &#40;v0.4&#41;
&gt; &gt;
&gt; &gt; Solution:
&gt; &gt; I will work on a new release of Gmail.pm in order to avoid the usage
&gt; &gt; of this wrapper.
&gt; &gt; Hope to have it up &#38; running very soon.
&gt; &gt;
&gt; &gt; Hope this helps.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Fri Jun 23 12:30:43 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi! Thanks for the quick response.
&gt; &gt; &gt;
&gt; &gt; &gt; Could there be anything else going on? I tried first workaround and
&gt; &gt; &gt; updated
&gt; &gt; &gt; Net::SMTP to 3.10 &#40;not quite 3.05, couldn&#39;t find it, for some
&gt; &gt; &gt; reason&#41;
&gt; &gt; &gt; and
&gt; &gt; &gt; it still doesn&#39;t work.
&gt; &gt; &gt;
&gt; &gt; &gt; 2017-06-23 5:00 GMT-03:00 Juan Jose San Martin via RT &lt;
&gt; &gt; &gt; bug-Email-Send-SMTP-Gmail@rt.cpan.org&gt;:
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122183">https://rt.cpan.org/Ticket/Display.html?id=122183</a></span> &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hello,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; The problem is not related to the module itself, but to some
&gt; &gt; &gt; &gt; incompatibilities between new versions of other modules.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Workarounds:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; 1&#41; I solved the issue, with a downgrade of Net::SMTPS to v0.04
&gt; &gt; &gt; &gt; &#40;instead of
&gt; &gt; &gt; &gt; 0.06&#41;. It&#39;s attached.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x1aa6eb0&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
&gt; &gt; &gt; &gt; g190sm1157682lfe.11 - gsmtp
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; 2&#41; On another machine, I solved the issue just upgrading
&gt; &gt; &gt; &gt; Net::SMTP
&gt; &gt; &gt; &gt; to 3.05
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::IP&#40;0.37&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.05&#41;
&gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.05&#41;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Hope this helps
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On Fri Jun 23 02:23:37 2017, lionel.u.l@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; Hi!
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; I&#39;m using Email::Send::SMTP::Gmail for a Catalyst app.
&gt; &gt; &gt; &gt; &gt; Currently
&gt; &gt; &gt; &gt; &gt; testing
&gt; &gt; &gt; &gt; &gt; it, actually. I&#39;ve used the following code and got this  &#34;Can&#39;t
&gt; &gt; &gt; &gt; &gt; locate
&gt; &gt; &gt; &gt; &gt; object method &#34;send&#34; via package &#34;-1&#34; &#40;perhaps you forgot to
&gt; &gt; &gt; &gt; &gt; load
&gt; &gt; &gt; &gt; &gt; &#34;-1&#34;?&#41;&#34; error.
&gt; &gt; &gt; &gt; &gt; I&#39;ve read it is sort of a default error so I used debug and
&gt; &gt; &gt; &gt; &gt; verbose.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; *The code is fairly similar to the one in the documentation:*
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; my &#40;$mail,$error&#41; = Email::Send::SMTP::Gmail-&gt;new&#40;
&gt; &gt; &gt; &gt; &gt;     -smtp =&gt; &#39;smtp.gmail.com&#39;,
&gt; &gt; &gt; &gt; &gt;     -login =&gt; $smtp_user,
&gt; &gt; &gt; &gt; &gt;     -pass =&gt; $smtp_pass,
&gt; &gt; &gt; &gt; &gt;     -verbose =&gt; 1,
&gt; &gt; &gt; &gt; &gt;     -debug =&gt; 1
&gt; &gt; &gt; &gt; &gt;     &#41;;
&gt; &gt; &gt; &gt; &gt; print &#34;session error: $error&#34; unless &#40;$mail!=-1&#41;;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; $mail-&gt;send&#40;-to=&gt;&#39;lionel.u.l@gmail.com&#39;, -subject=&gt;&#39;Hello!&#39;,
&gt; &gt; &gt; &gt; &gt;             -body=&gt;&#39;Just testing it&lt;br&gt;Bye!&#39;,-contenttype=&gt;&#39;
</div>&gt; &gt; &gt; &gt; text/html&#39;&#41;;
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; $mail-&gt;bye;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; *The debug log and the error:*
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Connecting to smtp.gmail.com using tls with LOGIN on port 25
&gt; &gt; &gt; &gt; &gt; and
</div>&gt; &gt; &gt; &gt; timeout of
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; 60
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.06&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.71&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.36&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.34&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.33&#41;
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP
</div>&gt; &gt; &gt; &gt; n35sm3006680qta.15 -
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; gsmtp
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your
&gt; &gt; &gt; &gt; &gt; service,
&gt; &gt; &gt; &gt; &gt; [190.18.121.32]
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-SIZE 35882577
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-8BITMIME
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-STARTTLS
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-PIPELINING
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250-CHUNKING
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&lt;&lt;&lt; 250 SMTPUTF8
&gt; &gt; &gt; &gt; &gt; Net::SMTPS=GLOB&#40;0x6b49008&#41;&gt;&gt;&gt; my favorite: LOGIN
&gt; &gt; &gt; &gt; &gt; Authentication &#40;SMTP&#41; failed
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Note that login information provided in $smtp_user and
&gt; &gt; &gt; &gt; &gt; $smtp_pass
&gt; &gt; &gt; &gt; &gt; is
&gt; &gt; &gt; &gt; &gt; correct. Also tried forcing all three ports for gmail. Didn&#39;t
&gt; &gt; &gt; &gt; &gt; work
</div>&gt; &gt; &gt; &gt; either.
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Any workaround this?
&gt; &gt; &gt; &gt; &gt; Thanks!
&gt; &gt; &gt; &gt; &gt;
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
</div>&gt; &gt; &gt;
&gt; &gt; &gt;
</div></div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;09:30:50&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;09:30:50&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;26&nbsp;09:30:50&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Fixed in 1.21 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
