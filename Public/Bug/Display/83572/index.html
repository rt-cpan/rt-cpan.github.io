<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #83572 for IPC-Cmd: Re: makedepend issues with Perl 5.17.10 on z/OS 1.13</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #83572 for IPC-Cmd: Re: makedepend issues with Perl 5.17.10 on z/OS 1.13</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/IPC-Cmd/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/IPC-Cmd/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/IPC-Cmd/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/IPC-Cmd/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IPC-Cmd">IPC-Cmd CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">83572</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">deleted</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/IPC-Cmd/Active/">IPC-Cmd</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
johngood [...] us.ibm.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17338-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17339-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;23&nbsp;13:42:05&nbsp;2013</span>
    <span class="description">johngood [...] us.ibm.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: makedepend issues with Perl 5.17.10 on z/OS 1.13</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 23 Feb 2013 13:41:03 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Nicholas Clark &lt;nick [...] flirble.org&gt;, perl-mvs [...] perl.org, perl5-porters [...] perl.org, Peter Prymmer &lt;PPrymmer [...] factset.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Goodyear &lt;johngood [...] us.ibm.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Nicholas,  I digested your response and  makedepend &#40;minus a sed statement&#41;
over coffee.

Before I get into what I&#39;ve found, it would seem that most of these errors
emitted from makedepend can likely be ignored since its goal is just to
find dependencies.  However if there may be a &#40;small&#41; chance that a
dependency gets dropped, so if there are errors, it is wise to understand
their cause.

The source of confusion was that I was looking at the real source files
instead of the versions that makedepend strips before feeding to ccpstdin.

A nit:
    makedepend puts  &#39;#line 1 &#34;&lt;filename&gt;&#34;&#39;   at the top of each
   UU/&lt;filename&gt;.c.c file.   This causes the compiler errors to report a
   line above where the error is.
   At least for z/OS, if that was changed to &#39;#line 2 ...&#39; , it would
   prevent the compiler from reporting the wrong line


Next ...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Finding dependencies for pp_sys.o.
&gt;&gt; ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
</div></div>argument for parameter a.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
</div></div>argument for parameter a.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Finding dependencies for regexec.o.
&gt;&gt; ERROR CCN3287 regexec.c:35    The parameter list on the definition of
</div></div>macro LOAD_UTF8_CHARCLASS_DEBUG_TEST is not complete.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; ERROR CCN3287 regexec.c:75    The parameter list on the definition of
</div></div>macro REXEC_TRIE_READ_CHAR is not complete.

   For the errors above, I see that cppstdin is invoke with these
   arguments:
      $finc=&#39;&#39;, -I., $cppflags=&#39;&#39;, $cppminus=&#39;&#39;

   This being the case, is it simply that when  cppflags or cppminus are
   empty some macros aren&#39;t being defined?
   As you indicated, this could be happening on other platforms, but is
   getting hidden since stderr is handled differently.


Next...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Finding dependencies for perly.o.
&gt; ERROR CCN3202 perly.c:82    #endif can only appear at the end of a #if,
</div>#elif, #ifdef or #ifndef block.

   You called out the extra #endif that makedepends appends specifically
   for this file.  It is the cuprit

   Now we just have to understand why it was put there.  Either something
   in the code, or something in &#40;z/OS or the compiler&#41; has changed since
   then.



Next ...
There a a couple of different issues for the files that take conditional
declaration listed errors.  This statement from makedepend seems to be the
cause:
      108      $echo &#34;Finding dependencies for $filebase$_o.&#34;
      109      &#40; $echo &#34;#line 1 \&#34;$file\&#34;&#34;; \
      110        $sed -n &lt;$file \
      111      -e &#34;/^${filebase}_init&#40;/q&#34; \
      112      -e &#39;/^#line/d&#39; \
      113      -e &#39;/^#/{&#39; \
      114      -e &#39;s|/\*.*$||&#39; \
      115      -e &#39;s|\\$||&#39; \
      116      -e p \
      117      -e &#39;}&#39; &#41; &gt;UU/$file.c

   My sed and re foo is a bit weak to understand why it&#39;s omitting the
   conditional lines highlighted below, but it seems to be the case.



 I ran the perl.c and perl.c.c files through some #ifdef #endif balance
checking logic to understand what it is complaining about.   For perl.c
the sed expression that generates the .c.c file seems to have something
against an indented &#34;#endif&#34; statement at line 3441.  sed omits it, causing
the error below.   If I remove the indentation, then it is not omitted.
Oddly, sv.c has a similarly indented  #endif at 6610, but it does not cause
a problem.   Sigh.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Finding dependencies for perl.o.
&gt;&gt; WARNING CCN3296 ./patchlevel.h:132   #include file &#34;git_version.h&#34; not
</div></div>found.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; ERROR CCN3198 perl.c:536   #if, #else, #elif, #ifdef, #ifndef block must
</div></div>be ended with #endif.
   from perl.c:
      line 3419 iflevel inc to 1 #if !defined&#40;DGUX&#41;
      line 3422 iflevel inc to 2 #ifdef PERL_PATCHNUM
      line 3423 iflevel inc to 3 #  ifdef PERL_GIT_UNCOMMITTED_CHANGES
      line 3427 iflevel dec to 2 #  endif
      line 3441 iflevel dec to 1  #endif
      line 3463 iflevel dec to 0 #endif /* !DGUX */
      line 3464 iflevel inc to 1 #if defined&#40;LOCAL_PATCH_COUNT&#41;

   from perl.c.c
      line 328 iflevel inc to 1 #if !defined&#40;DGUX&#41;
      line 329 iflevel inc to 2 #ifdef PERL_PATCHNUM
      line 330 iflevel inc to 3 #  ifdef PERL_GIT_UNCOMMITTED_CHANGES
      line 332 iflevel dec to 2 #  endif
      line 334 iflevel dec to 1 #endif
      line 335 iflevel inc to 2 #if defined&#40;LOCAL_PATCH_COUNT&#41;






This error seemed to be complaining about define SIZE32 4, however looking
at pp_pack.c.c, you can see that the line continuation and 2nd part of the
conditional expression was &#40;apparently&#41; dropped by the sed statement that
generates the UU/&lt;filename&gt;.c.c files

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Finding dependencies for pp_pack.o.
&gt;&gt; ERROR CCN3294 pp_pack.c:116   Syntax error in expression on #if
</div></div>directive.

   from pp_pack.c
      362  # if defined&#40;my_htolen&#41; &#38;&#38; defined&#40;my_letohn&#41; &#38;&#38; \
      363      defined&#40;my_htoben&#41; &#38;&#38; defined&#40;my_betohn&#41;
      364  #  define DO_BO_UNPACK_N&#40;var, type&#41;

   from pp_pack.c.c
      116  # if defined&#40;my_htolen&#41; &#38;&#38; defined&#40;my_letohn&#41; &#38;&#38;
      117  #  define DO_BO_UNPACK_N&#40;var, type&#41;



Regards,

John Goodyear
IT Specialist: zBX Power Blades
ATS zEnterprise Focus Team
Gaithersburg,MD
johngood@us.ibm.com



From:   Nicholas Clark &lt;nick@ccl4.org&gt;
To:     John Goodyear/Gaithersburg/IBM@IBMUS, Peter Prymmer
            &lt;PPrymmer@factset.com&gt;,
Cc:     perl-mvs@perl.org, perl5-porters@perl.org
Date:   02/22/2013 03:37 PM
Subject:        Re: makedepend issues with Perl 5.17.10 on z/OS 1.13
Sent by:        Nicholas Clark &lt;nick@flirble.org&gt;



On Fri, Feb 22, 2013 at 02:31:05PM -0500, John Goodyear wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; sh ./makedepend MAKE=make
&gt; ...
&gt; ...
&gt; perl.c
&gt;    Finding dependencies for perl.o.
&gt;    WARNING CCN3296 ./patchlevel.h:132   #include file &#34;git_version.h&#34; not
&gt;    found.
&gt;    ERROR CCN3198 perl.c:535   #if, #else, #elif, #ifdef, #ifndef block
</div>must
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    be ended with #endif.
&gt;    FSUM3065 The COMPILE step ended with return code 12.
&gt;    FSUM3017 Could not compile .83952605.c. Correct the errors and try
&gt;    again.
&gt;
&gt;    Where does git_version.h  come from?   I don&#39;t have it.
</div>
It&#39;s generated later on by the build. The code in makedepend differs quite
markedly between os390 and everything else.

Everything else does this, capturing stderr too, then processes it

        $cppstdin $finc -I. $cppflags $cppminus &lt;UU/$file.c &gt;.cout 2&gt;.cerr
        $sed \

...

                     -e &#39;/^# *[0-9][0-9]* *[&#34;.\/]/!d&#39; \

           -e &#39;s|\.c\.c|.c|&#39; $uwinfix .cout .cerr| \
        $uniq | $sort | $uniq &gt;&gt; .deptmp


As best I can work out, that expression I left in deletes *every* line that
doesn&#39;t match something like # 999 &#34;file.h&#34;
so eats all the error messages.

The os390 code is this:

        $cppstdin $finc -I. $cppflags $cppminus &lt;UU/$file.c |
        $sed \

...

                     -e &#39;s|\.c\.c|.c|&#39; $uwinfix | \
        $uniq | $sort | $uniq &gt;&gt; .deptmp


ie stderr is still visible. I think that this is why you&#39;re seeing error
messages.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    Not sure why the compiler is issuing the coplaint about 535.   Is it
&gt;    possibly 535 of the preprocessor expanded version of perl.c ??
&gt;
&gt;          533      destruct_level = PL_perl_destruct_level;
&gt;          534  #if defined&#40;DEBUGGING&#41; || defined&#40;PERL_TRACK_MEMPOOL&#41;
&gt;          535      {
</div>
This complaint doesn&#39;t make sense to me There are plenty of other lines
with similar #if defined&#40;XXX&#41; || defined &#40;YYY&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ...
&gt; ...
&gt;
&gt; perly.c
&gt;    Same issue for perly.c.  complaint at line 82 does not make sense
&gt;
&gt;    ERROR CCN3202 perly.c:82    #endif can only appear at the end of a
</div>#if,
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    #elif, #ifdef or #ifndef block.
&gt;    FSUM3065 The COMPILE step ended with return code 12.
&gt;    FSUM3017 Could not compile .83952612.c. Correct the errors and try
&gt;    again.
</div>
I think that you&#39;re going to have to look at the output of pre-processor
to figure out why it&#39;s confused. There is a hack in makedepend.SH that
might be relevant. Using the git blame view:

<span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blame/HEAD:/makedepend.SH">http://perl5.git.perl.org/perl.git/blame/HEAD:/makedepend.SH</a></span>

I find this:

commit 4902b9ac34817bed7eedc3956f985e2d5ded090e
Author: Jarkko Hietaniemi &lt;jhi@iki.fi&gt;
Date:   Thu Jun 5 16:58:23 2003 +0000

    z/OS makedepend fix from Peter Prymmer;
    still needed as reported by Brian De Pradine.

    p4raw-id: //depot/perl@19692

diff --git a/makedepend.SH b/makedepend.SH
index c1d880d..688f656 100755
--- a/makedepend.SH
+++ b/makedepend.SH
@@ -141,6 +141,11 @@ for file in `$cat .clist`; do
                 -e &#39;s|\\$||&#39; \
                 -e p \
                 -e &#39;}&#39; &#41; &gt;UU/$file.c
+
+    if [ &#34;$osname&#34; = os390 -a &#34;$file&#34; = perly.c ]; then
+        $echo &#39;#endif&#39; &gt;&gt;UU/$file.c
+    fi
+
     if [ &#34;$osname&#34; = os390 ]; then
         $cppstdin $finc -I. $cppflags $cppminus &lt;UU/$file.c |
         $sed \


I don&#39;t know if Peter Prymmer remembers what that was about, and why it was
needed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Other makedepend output indicating problems
&gt;    ...
&gt;    ...
&gt;
&gt; Finding dependencies for pp_sys.o.
&gt; ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
&gt; argument for parameter a.
&gt; ERROR CCN3010 ./time64.c:478   Macro PeRl_CaTiFy invoked with a null
&gt; argument for parameter a.
</div>

That&#39;s very strange. The macro PeRl_CaTiFy is defined in config.h, probably
looking like this:

#define PeRl_CaTiFy&#40;a, b&#41;                a ## b

Line 478 of time64.c is this:

    if&#40; SHOULD_USE_SYSTEM_LOCALTIME&#40;*time&#41; &#41; {

and that&#39;s defined earlier like this:

#ifdef USE_SYSTEM_LOCALTIME
#    define SHOULD_USE_SYSTEM_LOCALTIME&#40;a&#41;  &#40;       \
    &#40;a&#41; &lt;= SYSTEM_LOCALTIME_MAX &#38;&#38;              \
    &#40;a&#41; &gt;= SYSTEM_LOCALTIME_MIN                 \
&#41;
#else
#    define SHOULD_USE_SYSTEM_LOCALTIME&#40;a&#41;      &#40;0&#41;
#endif


So how come it thinks that the two are even remotely connected?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Finding dependencies for globals.o.
&gt; WARNING CCN3296 ./perl.h:4331  #include file &#34;uudmap.h&#34; not found.
&gt; WARNING CCN3296 ./perl.h:4338  #include file &#34;bitcount.h&#34; not found.
&gt; WARNING CCN3296 ./perl.h:5203  #include file &#34;mg_data.h&#34; not found.
&gt; FSUM3065 The COMPILE step ended with return code 4.
</div>
These error messages will be ignored on platforms other than os390, due to
the differing sed shown above.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Finding dependencies for pp_pack.o.
&gt; ERROR CCN3294 pp_pack.c:115   Syntax error in expression on #if
</div>directive.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; FSUM3065 The COMPILE step ended with return code 12.
&gt; FSUM3017 Could not compile .67174450.c. Correct the errors and try again.
</div>
It&#39;s objecting to this?

#define SIZE32 4

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Does configure usually notice errors from makedepend and indicate
</div>something
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; needs to be fixed before running make, or is this normal
</div>
It doesn&#39;t hit problems on non EBCDIC systems. Some of the &#40;lack of&#41; error
messages are explained by the different code in makedepend. But the others
seem really strange.

Nicholas Clark
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>

<div class="messagebody">
<img alt="graycol.gif" title="graycol.gif" src="/Ticket/Attachment/1184659/624973/" /></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;26&nbsp;19:58:20&nbsp;2013</span>
    <span class="description">root [...] localhost -  Ticket deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
