<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #133228 for RT-Extension-ConditionalCustomFields: Custom Field Displaying Despite Condition When Grouped</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #133228 for RT-Extension-ConditionalCustomFields: Custom Field Displaying Despite Condition When Grouped</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/RT-Extension-ConditionalCustomFields/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/RT-Extension-ConditionalCustomFields/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/RT-Extension-ConditionalCustomFields/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/RT-Extension-ConditionalCustomFields/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/RT-Extension-ConditionalCustomFields">RT-Extension-ConditionalCustomFields CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">133228</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/RT-Extension-ConditionalCustomFields/Active/">RT-Extension-ConditionalCustomFields</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">GIBUS [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nick [...] myst.ky

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-267598-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-267599-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Screen Shot 2020-08-25 at 4.27.37 PM.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1909708/1022995/Screen%20Shot%202020-08-25%20at%204.27.37%20PM.png">
Tue Aug 25 17:40:45 2020 (14.6k) by nick [...] myst.ky
</a>
</font></li>
</ul>


Screen Shot 2020-08-25 at 4.27.41 PM.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1909708/1022994/Screen%20Shot%202020-08-25%20at%204.27.41%20PM.png">
Tue Aug 25 17:40:45 2020 (7.5k) by nick [...] myst.ky
</a>
</font></li>
</ul>


Screen Shot 2020-08-25 at 4.28.09 PM.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1909708/1022997/Screen%20Shot%202020-08-25%20at%204.28.09%20PM.png">
Tue Aug 25 17:40:46 2020 (19.5k) by nick [...] myst.ky
</a>
</font></li>
</ul>


Screen Shot 2020-08-25 at 4.28.13 PM.png<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1909708/1022996/Screen%20Shot%202020-08-25%20at%204.28.13%20PM.png">
Tue Aug 25 17:40:46 2020 (19.5k) by nick [...] myst.ky
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;25&nbsp;17:40:45&nbsp;2020</span>
    <span class="description">nick [...] myst.ky -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Custom Field Displaying Despite Condition When Grouped</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 Aug 2020 16:40:31 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Extension-ConditionalCustomFields [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nick Adams &lt;nick [...] myst.ky&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Good day, 

Thanks very much for this extension, it’s fantastic. 

I have an issue and I do not see it addressed anywhere online. 

CentOS Linux release 7.6.1810 &#40;Core&#41;
Perl v5.16.3. 
RT4.4.2. 

The extension was installed without issue and there are no other extensions currently configured. 

The conditional display and mandatory value works great if there is no grouping in the custom fields &#40;see screenshots&#41;, note that I am using full interface not SelfService.

 

However when I add custom grouping to my custom fields then the custom fields display always, although they still remain mandatory only if the condition is met. 



Here is the relevant config in RT_SiteConfig.pm: 

Set&#40;%CustomFieldGroupings,
    &#39;RT::Ticket&#39; =&gt; [
  &#39;Demo Fields&#39; =&gt; [&#39;Category&#39;, &#39;TV Install Details&#39;, &#39;TV Issue&#39;, &#39;Work Complete&#39;]
    ],
&#41;;
Plugin&#40;&#39;RT::Extension::ConditionalCustomFields&#39;&#41;;
Set&#40;$SelfServiceCustomFieldGroupings, 1&#41;;

I’m thinking I probably just missed something so I apologize if that’s the case, but any idea here? 

Thank you very much, 
Nick
</div></div>
<div class="messageattachments">

<div class="messagebody">
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1909708/1022994/Screen%20Shot%202020-08-25%20at%204.27.41%20PM.png">Download Screen Shot 2020-08-25 at 4.27.41 PM.png</a><br />
<span class="downloadcontenttype">image/png 7.5k</span>
</div>
<div class="messagebody">
<img alt="Screen Shot 2020-08-25 at 4.27.41 PM.png" title="Screen Shot 2020-08-25 at 4.27.41 PM.png" src="/Ticket/Attachment/1909708/1022994/" /></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1909708/1022995/Screen%20Shot%202020-08-25%20at%204.27.37%20PM.png">Download Screen Shot 2020-08-25 at 4.27.37 PM.png</a><br />
<span class="downloadcontenttype">image/png 14.6k</span>
</div>
<div class="messagebody">
<img alt="Screen Shot 2020-08-25 at 4.27.37 PM.png" title="Screen Shot 2020-08-25 at 4.27.37 PM.png" src="/Ticket/Attachment/1909708/1022995/" /></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1909708/1022996/Screen%20Shot%202020-08-25%20at%204.28.13%20PM.png">Download Screen Shot 2020-08-25 at 4.28.13 PM.png</a><br />
<span class="downloadcontenttype">image/png 19.5k</span>
</div>
<div class="messagebody">
<img alt="Screen Shot 2020-08-25 at 4.28.13 PM.png" title="Screen Shot 2020-08-25 at 4.28.13 PM.png" src="/Ticket/Attachment/1909708/1022996/" /></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1909708/1022997/Screen%20Shot%202020-08-25%20at%204.28.09%20PM.png">Download Screen Shot 2020-08-25 at 4.28.09 PM.png</a><br />
<span class="downloadcontenttype">image/png 19.5k</span>
</div>
<div class="messagebody">
<img alt="Screen Shot 2020-08-25 at 4.28.09 PM.png" title="Screen Shot 2020-08-25 at 4.28.09 PM.png" src="/Ticket/Attachment/1909708/1022997/" /></div>
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;28&nbsp;15:16:17&nbsp;2020</span>
    <span class="description">nick [...] myst.ky -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #133228] AutoReply: Custom Field Displaying Despite Condition When Grouped</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 Aug 2020 14:16:04 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Extension-ConditionalCustomFields [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Nick Adams &lt;nick [...] myst.ky&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I got this sorted.  Must have been a cache issue! Thanks!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Aug 25, 2020, at 4:40 PM, Bugs in RT-Extension-ConditionalCustomFields via RT &lt;bug-RT-Extension-ConditionalCustomFields@rt.cpan.org&gt; wrote:
&gt; 
&gt; 
&gt; Greetings,
&gt; 
&gt; This message has been automatically generated in response to the
&gt; creation of a trouble ticket regarding:
&gt;       &#34;Custom Field Displaying Despite Condition When Grouped&#34;, 
&gt; a summary of which appears below.
&gt; 
&gt; There is no need to reply to this message right now.  Your ticket has been
&gt; assigned an ID of [rt.cpan.org #133228].  Your ticket is accessible
&gt; on the web at:
&gt; 
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=133228">https://rt.cpan.org/Ticket/Display.html?id=133228</a></span>
&gt; 
&gt; Please include the string:
&gt; 
&gt;         [rt.cpan.org #133228]
&gt; 
&gt; in the subject line of all future correspondence about this issue. To do so, 
&gt; you may reply to this message.
&gt; 
&gt;                        Thank you,
&gt;                        bug-RT-Extension-ConditionalCustomFields@rt.cpan.org
&gt; 
&gt; -------------------------------------------------------------------------
&gt; Good day, 
&gt; 
&gt; Thanks very much for this extension, it’s fantastic. 
&gt; 
&gt; I have an issue and I do not see it addressed anywhere online. 
&gt; 
&gt; CentOS Linux release 7.6.1810 &#40;Core&#41;
&gt; Perl v5.16.3. 
&gt; RT4.4.2. 
&gt; 
&gt; The extension was installed without issue and there are no other extensions currently configured. 
&gt; 
&gt; The conditional display and mandatory value works great if there is no grouping in the custom fields &#40;see screenshots&#41;, note that I am using full interface not SelfService.
&gt; 
&gt; 
&gt; 
&gt; However when I add custom grouping to my custom fields then the custom fields display always, although they still remain mandatory only if the condition is met. 
&gt; 
&gt; 
&gt; 
&gt; Here is the relevant config in RT_SiteConfig.pm: 
&gt; 
&gt; Set&#40;%CustomFieldGroupings,
&gt;    &#39;RT::Ticket&#39; =&gt; [
&gt;  &#39;Demo Fields&#39; =&gt; [&#39;Category&#39;, &#39;TV Install Details&#39;, &#39;TV Issue&#39;, &#39;Work Complete&#39;]
&gt;    ],
&gt; &#41;;
&gt; Plugin&#40;&#39;RT::Extension::ConditionalCustomFields&#39;&#41;;
&gt; Set&#40;$SelfServiceCustomFieldGroupings, 1&#41;;
&gt; 
&gt; I’m thinking I probably just missed something so I apologize if that’s the case, but any idea here? 
&gt; 
&gt; Thank you very much, 
&gt; Nick
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;28&nbsp;16:03:07&nbsp;2020</span>
    <span class="description">GIBUS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Ven 28 Aoû 2020 21:16:17, nick@myst.ky a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I got this sorted.  Must have been a cache issue! Thanks!
</div>
That&#39;s great! I&#39;m actually in vacation, and just seen your issue but I was afraid that I couldn&#39;t have a look before a few days.

Issue close, thanks for using this plugin!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;28&nbsp;16:03:08&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;28&nbsp;16:03:08&nbsp;2020</span>
    <span class="description">GIBUS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;28&nbsp;16:03:09&nbsp;2020</span>
    <span class="description">GIBUS [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
