<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #127634 for Perl-Tidy: RFE ability to add blank line before/after var definition block</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #127634 for Perl-Tidy: RFE ability to add blank line before/after var definition block</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Tidy">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Tidy">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Tidy">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Tidy">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Tidy">Perl-Tidy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">127634</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Tidy">Perl-Tidy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
trichmond [...] proofpoint.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25260-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25261-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=127634">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1819311" href="/Public/Bug/Display.html?id=127634#txn-1819311">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;13&nbsp;11:28:21&nbsp;2018</span>
    <span class="description">trichmond [...] proofpoint.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RFE ability to add blank line before/after var definition block</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Nov 2018 16:28:10 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Tidy [...] rt.cpan.org&#34; &lt;bug-Perl-Tidy [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Todd Richmond &lt;trichmond [...] proofpoint.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1819311/978863/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/978863">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 689b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Most formatters for other languages I have used have the ability to add a blank line to separate variable definitions from logic. This is often mixed with the option to delete all other blank lines to make code as compact as possible but still leave a list of variables as a separate block. Some formatters have an option to add a blank line before a variable def block as well when it is placed in the middle of a function. I tried playing with every possible option and looked through the code, but didn’t see anything related to definition blocks. Without such an option, I can’t remove other unnecessary blank lines

my $b = 1;
local $i = 55;

if &#40;$b&#41;
   printf “$i\n”;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1819311/978864/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/978864">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.5k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820142" href="/Public/Bug/Display.html?id=127634#txn-1820142">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;15:18:33&nbsp;2018</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820142/979320/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979320">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 171b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This would require a very clear definition of &#34;definition block&#34; and control logic. These are often highly intermixed in perl coding.  I think the devil is in the details.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820143" href="/Public/Bug/Display.html?id=127634#txn-1820143">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;15:18:33&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820145" href="/Public/Bug/Display.html?id=127634#txn-1820145">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;15:31:23&nbsp;2018</span>
    <span class="description">trichmond [...] proofpoint.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #127634] RFE ability to add blank line before/after var definition block</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Nov 2018 20:31:06 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Tidy [...] rt.cpan.org&#34; &lt;bug-Perl-Tidy [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Todd Richmond &lt;trichmond [...] proofpoint.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820145/979322/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979322">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;d be perfectly happy with a simple option to only add a blank line after a block of initial my/local variables. An initial block is quite common and adding blanks down in functional code is less useful

Fancier code could allow blank lines before/after a block of X&#40;configurable&#41; my/local vars which would allow one line my variables to not have blanks added. My  goal is to be able to use the delete blank lines option without destroying the initial variable blocks so that our style roughly matches C++ and other languages within the same product &#40;for example we have a decent amount of XS code&#41;


sub x&#40;&#41; {
        my $b;
        local $s = &#34;string&#34;;

        $b = func&#40;$s&#41;;
}


﻿On 11/17/18, 12:18 PM, &#34;Steve Hancock via RT&#34; &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:

    &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=</a></span> &gt;
    
    This would require a very clear definition of &#34;definition block&#34; and control logic. These are often highly intermixed in perl coding.  I think the devil is in the details.
    

</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820147" href="/Public/Bug/Display.html?id=127634#txn-1820147">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;15:44:30&nbsp;2018</span>
    <span class="description">s7078hancock [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #127634] RFE ability to add blank line before/after var definition block</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Nov 2018 12:44:07 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Tidy [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Hancock &lt;s7078hancock [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820147/979325/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979325">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is probably do-able, but these things can get very tricky. For
example, there would have to be a minimum count on the number of lines.
Also, when perltidy is run interactively on a section of code from an
editor, it has no idea of where it is within an actual sub.

On Sat, Nov 17, 2018 at 12:31 PM Todd Richmond via RT &lt;
bug-Perl-Tidy@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Perl-Tidy
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=127634">https://rt.cpan.org/Ticket/Display.html?id=127634</a></span> &gt;
&gt;
&gt; I&#39;d be perfectly happy with a simple option to only add a blank line after
&gt; a block of initial my/local variables. An initial block is quite common and
&gt; adding blanks down in functional code is less useful
&gt;
&gt;
&gt;
&gt; Fancier code could allow blank lines before/after a block of
&gt; X&#40;configurable&#41; my/local vars which would allow one line my variables to
&gt; not have blanks added. My  goal is to be able to use the delete blank lines
&gt; option without destroying the initial variable blocks so that our style
&gt; roughly matches C++ and other languages within the same product &#40;for
&gt; example we have a decent amount of XS code&#41;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; sub x&#40;&#41; {
&gt;
&gt;         my $b;
&gt;
&gt;         local $s = &#34;string&#34;;
&gt;
&gt;
&gt;
&gt;         $b = func&#40;$s&#41;;
&gt;
&gt; }
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; ﻿On 11/17/18, 12:18 PM, &#34;Steve Hancock via RT&#34; &lt;bug-Perl-Tidy@rt.cpan.org&gt;
&gt; wrote:
&gt;
&gt;
&gt;
&gt;     &lt;URL:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=</a></span>
<div class="message-stanza open">&gt; &gt;
</div>&gt;
&gt;
&gt;
&gt;     This would require a very clear definition of &#34;definition block&#34; and
&gt; control logic. These are often highly intermixed in perl coding.  I think
&gt; the devil is in the details.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820147/979326/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979326">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820150" href="/Public/Bug/Display.html?id=127634#txn-1820150">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;15:52:47&nbsp;2018</span>
    <span class="description">trichmond [...] proofpoint.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #127634] RFE ability to add blank line before/after var definition block</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Nov 2018 20:52:29 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Tidy [...] rt.cpan.org&#34; &lt;bug-Perl-Tidy [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Todd Richmond &lt;trichmond [...] proofpoint.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820150/979329/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979329">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Interactive mode would make it challenging to know if there should be a preceding blank line, but other formatters will never have a prefix blank if the code block starts with my/local. There is usually a blank-after-vars option that works on all var blocks  and a separate blank-before-vars that only operates on subsequent blocks of &gt; X variables


﻿On 11/17/18, 12:44 PM, &#34;Steven Hancock via RT&#34; &lt;bug-Perl-Tidy@rt.cpan.org&gt; wrote:

    &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=DNQqJCKUUz6Twvoluyf0RR8SwSmm_t_OUaUwnSvIAqw&#38;s=h2m2yV0m2p15TxjQ9JfjYPxS-uKatWGGkPF5yZF_jjQ&#38;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=DNQqJCKUUz6Twvoluyf0RR8SwSmm_t_OUaUwnSvIAqw&#38;s=h2m2yV0m2p15TxjQ9JfjYPxS-uKatWGGkPF5yZF_jjQ&#38;e=</a></span> &gt;
    
    This is probably do-able, but these things can get very tricky. For
    example, there would have to be a minimum count on the number of lines.
    Also, when perltidy is run interactively on a section of code from an
    editor, it has no idea of where it is within an actual sub.
    
    On Sat, Nov 17, 2018 at 12:31 PM Todd Richmond via RT &lt;
    bug-Perl-Tidy@rt.cpan.org&gt; wrote:
    
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">    &gt;        Queue: Perl-Tidy
    &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=DNQqJCKUUz6Twvoluyf0RR8SwSmm_t_OUaUwnSvIAqw&#38;s=h2m2yV0m2p15TxjQ9JfjYPxS-uKatWGGkPF5yZF_jjQ&#38;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=DNQqJCKUUz6Twvoluyf0RR8SwSmm_t_OUaUwnSvIAqw&#38;s=h2m2yV0m2p15TxjQ9JfjYPxS-uKatWGGkPF5yZF_jjQ&#38;e=</a></span> &gt;
    &gt;
    &gt; I&#39;d be perfectly happy with a simple option to only add a blank line after
    &gt; a block of initial my/local variables. An initial block is quite common and
    &gt; adding blanks down in functional code is less useful
    &gt;
    &gt;
    &gt;
    &gt; Fancier code could allow blank lines before/after a block of
    &gt; X&#40;configurable&#41; my/local vars which would allow one line my variables to
    &gt; not have blanks added. My  goal is to be able to use the delete blank lines
    &gt; option without destroying the initial variable blocks so that our style
    &gt; roughly matches C++ and other languages within the same product &#40;for
    &gt; example we have a decent amount of XS code&#41;
    &gt;
    &gt;
    &gt;
    &gt;
    &gt;
    &gt; sub x&#40;&#41; {
    &gt;
    &gt;         my $b;
    &gt;
    &gt;         local $s = &#34;string&#34;;
    &gt;
    &gt;
    &gt;
    &gt;         $b = func&#40;$s&#41;;
    &gt;
    &gt; }
    &gt;
    &gt;
    &gt;
    &gt;
    &gt;
    &gt; On 11/17/18, 12:18 PM, &#34;Steve Hancock via RT&#34; &lt;bug-Perl-Tidy@rt.cpan.org&gt;
    &gt; wrote:
    &gt;
    &gt;
    &gt;
    &gt;     &lt;URL:
    &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__rt.cpan.org_Ticket_Display.html-3Fid-3D127634&#38;d=DwIDaQ&#38;c=Vxt5e0Osvvt2gflwSlsJ5DmPGcPvTRKLJyp031rXjhg&#38;r=HPS65xby-9P9SqEqfmk6niu-T7bLhV1_QCI7Ml7zCEs&#38;m=Xf03fM-PFh1nrXn6tuW1IxphprRR3kbfOOu5sPXxxvA&#38;s=KQEun3aHKKI_F5DNcE6YoeVuIoP-X3sBSv0cdO0R8Xk&#38;e=</a></span>
<div class="message-stanza open">    &gt; &gt;
</div>    &gt;
    &gt;
    &gt;
    &gt;     This would require a very clear definition of &#34;definition block&#34; and
    &gt; control logic. These are often highly intermixed in perl coding.  I think
    &gt; the devil is in the details.
    &gt;
    &gt;
    &gt;
    &gt;
    &gt;
    &gt;
</div>    
    

</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1820418" href="/Public/Bug/Display.html?id=127634#txn-1820418">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;18&nbsp;09:45:14&nbsp;2018</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1820418/979478/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/979478">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 398b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ll write an experimental version and see how it goes. 

If you want to do this quickly it would be quite easy to write a one-time filter program which calls Perl::Tidy and inserts blanks.  A starting point would be the file &#39;perl_line_type.pl&#39; in the examples/ directory of the distribution.  You would just look at lines of type &#39;CODE&#39; which are returned and output extra blanks as needed.
Steve
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1850956" href="/Public/Bug/Display.html?id=127634#txn-1850956">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;01&nbsp;10:12:31&nbsp;2019</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1850956/994639/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/994639">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 100b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">version 20190601 has a set of flags beginning with -kgb which can insert blank lines around keywords
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1850958" href="/Public/Bug/Display.html?id=127634#txn-1850958">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;01&nbsp;10:12:32&nbsp;2019</span>
    <span class="description">perltidy [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.569964</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
