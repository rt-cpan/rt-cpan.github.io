<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #61249 for Crypt-SSLeay: Over-rigid library use on Win32 prevents dynamic libraries</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #61249 for Crypt-SSLeay: Over-rigid library use on Win32 prevents dynamic libraries</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Crypt-SSLeay/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Crypt-SSLeay/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Crypt-SSLeay/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Crypt-SSLeay/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Crypt-SSLeay">Crypt-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">61249</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Crypt-SSLeay/Active/">Crypt-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">nanis [...] runu.moc.invalid
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
stuart [...] morungos.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-8676-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.58    </td>
  </tr>
  <tr id="CF-8677-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.64    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;10&nbsp;14:49:44&nbsp;2010</span>
    <span class="description">stuart [...] morungos.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Over-rigid library use on Win32 prevents dynamic libraries</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The &#40;complex&#41; Makefile.PL is wired to only use libssl32 and libeay32 as 
library names. However, the dynamic library versions of openssl are 
generated as libcrypto.dll.a and libssl.dll.a, at least using MinGW. This 
makes the Makefile.PL fail. Ideally, Win32 should allow this as an option, 
but less ideally, at least there should be some way of avoiding this 
override so that user-specified library and include paths are allowed. 

Normally I wouldn&#39;t mind, but I have about five other modules that also 
need openssl, so dynamic libraries are a sensible move. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;14&nbsp;08:19:21&nbsp;2010</span>
    <span class="description">nanis [...] runu.moc.invalid -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello:

Thank you for the report.

This has been on my mind. I have been trying to think of a better way to
organize Makefile.PL to solve this and a bunch of other related issues
resulting from the &#34;organic&#34; growth of Makefile.PL.

Expect a new development release in a couple of weeks which I hope you&#39;d
be willing to try out.

-- Sinan


On Fri Sep 10 14:49:44 2010, SNKWATT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The &#40;complex&#41; Makefile.PL is wired to only use libssl32 and libeay32 as 
&gt; library names. However, the dynamic library versions of openssl are 
&gt; generated as libcrypto.dll.a and libssl.dll.a, at least using MinGW. This 
&gt; makes the Makefile.PL fail. Ideally, Win32 should allow this as an
</div>option, 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; but less ideally, at least there should be some way of avoiding this 
&gt; override so that user-specified library and include paths are allowed. 
&gt; 
&gt; Normally I wouldn&#39;t mind, but I have about five other modules that also 
&gt; need openssl, so dynamic libraries are a sensible move. 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;14&nbsp;08:19:21&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;14&nbsp;08:32:52&nbsp;2010</span>
    <span class="description">nanis [...] runu.moc.invalid -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;14&nbsp;09:33:21&nbsp;2010</span>
    <span class="description">stuart [...] morungos.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #61249] Over-rigid library use on Win32 prevents dynamic libraries </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 14 Sep 2010 09:33:09 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Crypt-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Stuart Watt &lt;stuart [...] morungos.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No problem - and I look forward to it. Yours is by no means the only module. Part of me thinks there ought to be ExtUtils::Find::OpenSSL or something which can handle this for all the other OpenSSL modules. I probably reported it for this because you&#39;d clearly put most work into finding openssl on Win32. Nobody else seemed to have tried as hard.

All the best
Stuart
--
Stuart Watt
stuart@morungos.com



On 2010-09-14, at 8:19 AM, A. Sinan Unur via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=61249">https://rt.cpan.org/Ticket/Display.html?id=61249</a></span> &gt;
&gt; 
&gt; Hello:
&gt; 
&gt; Thank you for the report.
&gt; 
&gt; This has been on my mind. I have been trying to think of a better way to
&gt; organize Makefile.PL to solve this and a bunch of other related issues
&gt; resulting from the &#34;organic&#34; growth of Makefile.PL.
&gt; 
&gt; Expect a new development release in a couple of weeks which I hope you&#39;d
&gt; be willing to try out.
&gt; 
&gt; -- Sinan
&gt; 
&gt; 
&gt; On Fri Sep 10 14:49:44 2010, SNKWATT wrote:
<div class="message-stanza open">&gt;&gt; The &#40;complex&#41; Makefile.PL is wired to only use libssl32 and libeay32 as 
&gt;&gt; library names. However, the dynamic library versions of openssl are 
&gt;&gt; generated as libcrypto.dll.a and libssl.dll.a, at least using MinGW. This 
&gt;&gt; makes the Makefile.PL fail. Ideally, Win32 should allow this as an
</div>&gt; option, 
<div class="message-stanza open">&gt;&gt; but less ideally, at least there should be some way of avoiding this 
&gt;&gt; override so that user-specified library and include paths are allowed. 
&gt;&gt; 
&gt;&gt; Normally I wouldn&#39;t mind, but I have about five other modules that also 
&gt;&gt; need openssl, so dynamic libraries are a sensible move. 
</div>&gt; 
&gt; 
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;06&nbsp;07:44:50&nbsp;2012</span>
    <span class="description">nanis [...] runu.moc.invalid -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello:

With 0.64, I removed all the code that was trying to guess compiler and
linker options. If the headers and libraries are in non-standard places,
you&#39;ll need to set the appropriate environment variables to ensure that
they are found.

For example, if you are using ActiveState Perl and MinGW installed using
ppm, and you installed OpenSSL in `C:\opt\openssl-1.0.1c`, then you
would issue the following commands to build `Crypt::SSLeay`:

    C:\temp\Crypt-SSLeay&gt; set
LIBRARY_PATH=C:\opt\openssl-1.0.1c\lib;%LIBRARY_PATH%
    C:\temp\Crypt-SSLeay&gt; set CPATH=C:\opt\openssl-1.0.1c\include;%CPATH%
    C:\temp\Crypt-SSLeay&gt; perl Makefile.PL --live-tests
    C:\temp\Crypt-SSLeay&gt; dmake test

If you are using a Microsoft compiler &#40;keep in mind that `perl` and
OpenSSL need to have been built using the same compiler as well&#41;, you
would use:

    C:\temp\Crypt-SSLeay&gt; set LIB=C:\opt\openssl-1.0.1c\lib;%LIB%
    C:\temp\Crypt-SSLeay&gt; set
INCLUDE=C:\opt\openssl-1.0.1c\include;%INCLUDE%
    C:\temp\Crypt-SSLeay&gt; perl Makefile.PL --live-tests
    C:\temp\Crypt-SSLeay&gt; nmake test

I would appreciate it if you could try it out and provide any further
feedback you might have. Thank you for your help and patience,

-- Sinan



On Tue Sep 14 09:33:21 2010, SNKWATT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; No problem - and I look forward to it. Yours is by no means the only
&gt;    module. Part of me thinks there ought to be ExtUtils::Find::OpenSSL
&gt;    or something which can handle this for all the other OpenSSL
&gt;    modules. I probably reported it for this because you&#39;d clearly put
&gt;    most work into finding openssl on Win32. Nobody else seemed to have
&gt;    tried as hard.
&gt; 
&gt; All the best
&gt; Stuart
&gt; --
&gt; Stuart Watt
&gt; stuart@morungos.com
&gt; 
&gt; 
&gt; 
&gt; On 2010-09-14, at 8:19 AM, A. Sinan Unur via RT wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=61249">https://rt.cpan.org/Ticket/Display.html?id=61249</a></span> &gt;
&gt; &gt;
&gt; &gt; Hello:
&gt; &gt;
&gt; &gt; Thank you for the report.
&gt; &gt;
&gt; &gt; This has been on my mind. I have been trying to think of a better
</div>&gt;    way to
<div class="message-stanza open">&gt; &gt; organize Makefile.PL to solve this and a bunch of other related
</div>&gt;    issues
<div class="message-stanza open">&gt; &gt; resulting from the &#34;organic&#34; growth of Makefile.PL.
&gt; &gt;
&gt; &gt; Expect a new development release in a couple of weeks which I hope
</div>&gt;    you&#39;d
<div class="message-stanza open">&gt; &gt; be willing to try out.
&gt; &gt;
&gt; &gt; -- Sinan
&gt; &gt;
&gt; &gt;
&gt; &gt; On Fri Sep 10 14:49:44 2010, SNKWATT wrote:
<div class="message-stanza open">&gt; &gt;&gt; The &#40;complex&#41; Makefile.PL is wired to only use libssl32 and
</div></div>&gt;    libeay32 as
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; library names. However, the dynamic library versions of openssl are
&gt; &gt;&gt; generated as libcrypto.dll.a and libssl.dll.a, at least using
</div></div>&gt;    MinGW. This
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; makes the Makefile.PL fail. Ideally, Win32 should allow this as an
</div>&gt; &gt; option,
<div class="message-stanza open">&gt; &gt;&gt; but less ideally, at least there should be some way of avoiding
</div></div>&gt;    this
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; override so that user-specified library and include paths are
</div></div>&gt;    allowed.
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt;
&gt; &gt;&gt; Normally I wouldn&#39;t mind, but I have about five other modules that
</div></div>&gt;    also
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; need openssl, so dynamic libraries are a sensible move.
</div>&gt; &gt;
&gt; &gt;
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;06&nbsp;07:45:16&nbsp;2012</span>
    <span class="description">nanis [...] runu.moc.invalid -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;06&nbsp;07:45:16&nbsp;2012</span>
    <span class="description">nanis [...] runu.moc.invalid -  Fixed in 0.64 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
