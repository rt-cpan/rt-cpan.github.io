<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #39868 for RT-Client-REST: CustomFields change in RT 3.8</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #39868 for RT-Client-REST: CustomFields change in RT 3.8</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/RT-Client-REST/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/RT-Client-REST/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/RT-Client-REST">RT-Client-REST CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">39868</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/RT-Client-REST/Active/">RT-Client-REST</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">jpierce [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
tonylambiris [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-39236-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-39237-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;07&nbsp;15:13:06&nbsp;2008</span>
    <span class="description">tonylambiris [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CustomFields change in RT 3.8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 7 Oct 2008 14:12:20 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Client-REST [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tony Lambiris&#34; &lt;tonylambiris [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">With 3.8.0 and beyond, the CustomFields no longer match on &#34;cf-&#34;, but
instead use &#34;CF.{Field Name}&#34;. I have added a block of code to
Object.pm that should work with the old CF layout as well as the new
layout:

line 439 of Object.pm:
if &#40;$key =~ s/^cf&#40;\.|-&#41;//&#41; { # Handle custom fields.
    if &#40;$key =~ /\{&#40;.*&#41;\}/&#41; {
        $key =~ tr/}{//d;
    }

I&#39;m not an expert perl coder, but the change to the first line now
checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
the key name, it will delete them with the following line.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;07&nbsp;15:22:17&nbsp;2008</span>
    <span class="description">tonylambiris [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39868] AutoReply: CustomFields change in RT 3.8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 7 Oct 2008 14:21:38 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Client-REST [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tony Lambiris&#34; &lt;tonylambiris [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I forgot to mention, this all worked after copying over REST.pm from
RT to Forms.pm and making the appropriate modifications &#40;renaming
package to RT::Client::REST::Forms and deleting &#34;use RT&#34;&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;10&nbsp;23:20:18&nbsp;2008</span>
    <span class="description">DMITRI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not an expert perl coder, but the change to the first line now
&gt; checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
&gt; the key name, it will delete them with the following line.
</div>
Thanks for your patch!  It will make it into the next release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;10&nbsp;23:20:20&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;11&nbsp;00:19:49&nbsp;2008</span>
    <span class="description">tonylambiris [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39868] CustomFields change in RT 3.8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 Oct 2008 23:19:30 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Client-REST [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tony Lambiris&#34; &lt;tonylambiris [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">My pleasure, thanks for the great software.

2008/10/10 Dmitri Tikhonov via RT &lt;bug-RT-Client-REST@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39868">http://rt.cpan.org/Ticket/Display.html?id=39868</a></span> &gt;
&gt;
&gt; On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; I&#39;m not an expert perl coder, but the change to the first line now
&gt;&gt; checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
&gt;&gt; the key name, it will delete them with the following line.
</div>&gt;
&gt; Thanks for your patch!  It will make it into the next release.
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;20&nbsp;12:48:58&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; With 3.8.0 and beyond, the CustomFields no longer match on &#34;cf-&#34;, but
&gt; instead use &#34;CF.{Field Name}&#34;. I have added a block of code to
&gt; Object.pm that should work with the old CF layout as well as the new
&gt; layout:
&gt; 
&gt; line 439 of Object.pm:
&gt; if &#40;$key =~ s/^cf&#40;\.|-&#41;//&#41; { # Handle custom fields.
&gt;     if &#40;$key =~ /\{&#40;.*&#41;\}/&#41; {
&gt;         $key =~ tr/}{//d;
&gt;     }
</div>It would be better to do something like:

if&#40; $key =~ m/^cf[-.]{?&#40;\w+&#41;}?/i &#41;{
  $cf = $1;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;30&nbsp;14:26:19&nbsp;2008</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; With 3.8.0 and beyond, the CustomFields no longer match on &#34;cf-&#34;, but
&gt; instead use &#34;CF.{Field Name}&#34;. I have added a block of code to
&gt; Object.pm that should work with the old CF layout as well as the new
&gt; layout:
&gt; 
&gt; line 439 of Object.pm:
&gt; if &#40;$key =~ s/^cf&#40;\.|-&#41;//&#41; { # Handle custom fields.
&gt;     if &#40;$key =~ /\{&#40;.*&#41;\}/&#41; {
&gt;         $key =~ tr/}{//d;
&gt;     }
&gt; 
&gt; I&#39;m not an expert perl coder, but the change to the first line now
&gt; checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
&gt; the key name, it will delete them with the following line.
&gt; 
&gt; Thanks.
</div>
What is this for exactly? Searching via the REST client on CFs?
I ask because I&#39;ve not implemented any patch like this, and not
encountered any relevant errors in 3.8.1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;30&nbsp;14:38:01&nbsp;2008</span>
    <span class="description">tonylambiris [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #39868] CustomFields change in RT 3.8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Oct 2008 13:37:46 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-RT-Client-REST [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Tony Lambiris&#34; &lt;tonylambiris [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi... basically there was a bug in how RT matched on the # symbol...
we had a CustomField that had a # at the end of it &#40;ie:
CF.Ticket-auth#&#41; which RT was incorrectly matching on when using the
REST interface. I believe they implemented the fix but not sure if
that will appear in 3.8.2. Either way, in order to get the REST module
working again &#40;and to make it backwards compatible&#41; I provided the
snippet in this bug ticket.

Hope that clears enough of it up for you.

2008/10/30 Jerrad Pierce via RT &lt;bug-RT-Client-REST@rt.cpan.org&gt;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39868">http://rt.cpan.org/Ticket/Display.html?id=39868</a></span> &gt;
&gt;
&gt; On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; With 3.8.0 and beyond, the CustomFields no longer match on &#34;cf-&#34;, but
&gt;&gt; instead use &#34;CF.{Field Name}&#34;. I have added a block of code to
&gt;&gt; Object.pm that should work with the old CF layout as well as the new
&gt;&gt; layout:
&gt;&gt;
&gt;&gt; line 439 of Object.pm:
&gt;&gt; if &#40;$key =~ s/^cf&#40;\.|-&#41;//&#41; { # Handle custom fields.
&gt;&gt;     if &#40;$key =~ /\{&#40;.*&#41;\}/&#41; {
&gt;&gt;         $key =~ tr/}{//d;
&gt;&gt;     }
&gt;&gt;
&gt;&gt; I&#39;m not an expert perl coder, but the change to the first line now
&gt;&gt; checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
&gt;&gt; the key name, it will delete them with the following line.
&gt;&gt;
&gt;&gt; Thanks.
</div>&gt;
&gt; What is this for exactly? Searching via the REST client on CFs?
&gt; I ask because I&#39;ve not implemented any patch like this, and not
&gt; encountered any relevant errors in 3.8.1.
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;04&nbsp;11:55:02&nbsp;2009</span>
    <span class="description">saxjazman9 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> saxjazman9 [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Oct 30 14:38:01 2008, tonylambiris@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi... basically there was a bug in how RT matched on the # symbol...
&gt; we had a CustomField that had a # at the end of it &#40;ie:
&gt; CF.Ticket-auth#&#41; which RT was incorrectly matching on when using the
&gt; REST interface. I believe they implemented the fix but not sure if
&gt; that will appear in 3.8.2. Either way, in order to get the REST module
&gt; working again &#40;and to make it backwards compatible&#41; I provided the
&gt; snippet in this bug ticket.
&gt; 
&gt; Hope that clears enough of it up for you.
&gt; 
&gt; 2008/10/30 Jerrad Pierce via RT &lt;bug-RT-Client-REST@rt.cpan.org&gt;:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=39868">http://rt.cpan.org/Ticket/Display.html?id=39868</a></span> &gt;
&gt; &gt;
&gt; &gt; On Tue Oct 07 15:13:06 2008, tonylambiris@gmail.com wrote:
<div class="message-stanza open">&gt; &gt;&gt; With 3.8.0 and beyond, the CustomFields no longer match on &#34;cf-&#34;, but
&gt; &gt;&gt; instead use &#34;CF.{Field Name}&#34;. I have added a block of code to
&gt; &gt;&gt; Object.pm that should work with the old CF layout as well as the new
&gt; &gt;&gt; layout:
&gt; &gt;&gt;
&gt; &gt;&gt; line 439 of Object.pm:
&gt; &gt;&gt; if &#40;$key =~ s/^cf&#40;\.|-&#41;//&#41; { # Handle custom fields.
&gt; &gt;&gt;     if &#40;$key =~ /\{&#40;.*&#41;\}/&#41; {
&gt; &gt;&gt;         $key =~ tr/}{//d;
&gt; &gt;&gt;     }
&gt; &gt;&gt;
&gt; &gt;&gt; I&#39;m not an expert perl coder, but the change to the first line now
&gt; &gt;&gt; checks both &#34;cf-&#34; as well as &#34;cf.&#34;, then if there are brackets around
&gt; &gt;&gt; the key name, it will delete them with the following line.
&gt; &gt;&gt;
&gt; &gt;&gt; Thanks.
</div>&gt; &gt;
&gt; &gt; What is this for exactly? Searching via the REST client on CFs?
&gt; &gt; I ask because I&#39;ve not implemented any patch like this, and not
&gt; &gt; encountered any relevant errors in 3.8.1.
&gt; &gt;
</div></div>
Has this been fixed yet? I just tried the proposed work-around for 3.8.2
and it seems to work. You do need the new REST.pm from 3.8.2 included as
Forms.pm.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;08:45:53&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Reference by ticket #42391 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;09&nbsp;21:51:50&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Necessary changes were more extensive than just your patch.
Feel free to test pre-.40 from:

<span class="clickylink"><a target="new" rel="nofollow" href="http://code.google.com/p/rt-client-rest/source/checkout">http://code.google.com/p/rt-client-rest/source/checkout</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;10&nbsp;13:48:17&nbsp;2009</span>
    <span class="description">jpierce [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;14:13:17&nbsp;2010</span>
    <span class="description">jlmartinez [...] capside.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

We&#39;ve released a new version of RT::Client::REST to CPAN wich should
have the issue you reported fixed. Please come back to us if you feel
this issue is not solved correctly.

You can find the new version at
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~jlmartin/RT-Client-REST-0.4/">http://search.cpan.org/~jlmartin/RT-Client-REST-0.4/</a></span>

Thanks,

Jose Luis Martinez
RT::Client::REST Co-MAINT
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;10&nbsp;14:13:18&nbsp;2010</span>
    <span class="description">jlmartinez [...] capside.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
