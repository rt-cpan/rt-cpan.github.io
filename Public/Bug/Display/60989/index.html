<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #60989 for Dist-Zilla-Plugin-ReportVersions: ReportVersions fails when modules have conflicting symbols</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #60989 for Dist-Zilla-Plugin-ReportVersions: ReportVersions fails when modules have conflicting symbols</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Dist-Zilla-Plugin-ReportVersions">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Dist-Zilla-Plugin-ReportVersions">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Dist-Zilla-Plugin-ReportVersions">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Dist-Zilla-Plugin-ReportVersions">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Dist-Zilla-Plugin-ReportVersions">Dist-Zilla-Plugin-ReportVersions CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">60989</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Dist-Zilla-Plugin-ReportVersions">Dist-Zilla-Plugin-ReportVersions</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RCAPUTO [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-232056-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.101700    </td>
  </tr>
  <tr id="CF-232057-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=60989">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-825919" href="/Public/Bug/Display.html?id=60989#txn-825919">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;02&nbsp;12:46:02&nbsp;2010</span>
    <span class="description">RCAPUTO [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ReportVersions fails when modules have conflicting symbols</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/825919/427858/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/427858">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Marked as critical because the plugin cannot be used at all when two or
more modules conflict.

The ReportVersions plugin seems to be importing symbols from all modules
into one package.  Mayhem ensues when two or more modules export
conflicting symbols.

t/000-report-versions.t .... 2/? #     Moose version is 1.12

#   Failed test &#39;use MooseX::Role::Parameterized;&#39;
#   at t/000-report-versions.t line 440.
#     Tried to use &#39;MooseX::Role::Parameterized&#39;.
#     Error:  You already have a &#38;meta function, but it does not return
a Moose::Meta::Role at
/sw/lib/perl5/site_perl/5.10.0/darwin-thread-multi-2level/Moose/Role.pm
line 125
#       Moose::Role::init_meta&#40;&#39;Moose::Role&#39;, &#39;metaclass&#39;,
&#39;MooseX::Role::Parameterized::Meta::Role::Parameterizable&#39;, &#39;for_class&#39;,
&#39;main&#39;&#41; called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 49
#       MooseX::Role::Parameterized::init_meta&#40;&#39;MooseX::Role::Parameterized&#39;,
&#39;for_class&#39;, &#39;main&#39;, &#39;metaclass&#39;, undef&#41; called at
/sw/lib/perl5/site_perl/5.10.0/darwin-thread-multi-2level/Moose/Exporter.pm
line 355
#       Moose::Exporter::__ANON__&#40;&#39;MooseX::Role::Parameterized&#39;&#41; called at
&#40;eval 212&#41; line 2
#       main::BEGIN&#40;&#41; called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 2
#       eval {...} called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 2
#       eval &#39;package main;
# use MooseX::Role::Parameterized @{$args[0]};
# 1;
# 
# ;&#39; called at /sw/lib/perl5-core/5.10.0/Test/More.pm line 858
#       Test::More::_eval&#40;&#39;package main;\x{a}use MooseX::Role::Parameterized
@{$args[0]};\x{a}1;\x{a}&#39;, &#39;ARRAY&#40;0x826220&#41;&#39;&#41; called at
/sw/lib/perl5-core/5.10.0/Test/More.pm line 833
#       Test::More::use_ok&#40;&#39;MooseX::Role::Parameterized&#39;&#41; called at
t/000-report-versions.t line 440
#       main::BEGIN&#40;&#41; called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 2
#       eval {...} called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 2
# BEGIN failed--compilation aborted at &#40;eval 212&#41; line 2.
Bailout called.  Further testing stopped:  can&#39;t load
MooseX::Role::Parameterized
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
FAILED--Further testing stopped: can&#39;t load MooseX::Role::Parameterized
make: *** [test_dynamic] Error 255
error running make test

.............

The above fails in exactly the same way as using conflicting modules:

% perl -wle &#39;use Moose; use MooseX::Role::Parameterized&#39;

You already have a &#38;meta function, but it does not return a
Moose::Meta::Role at
/sw/lib/perl5/site_perl/5.10.0/darwin-thread-multi-2level/Moose/Role.pm
line 125
        Moose::Role::init_meta&#40;&#39;Moose::Role&#39;, &#39;metaclass&#39;,
&#39;MooseX::Role::Parameterized::Meta::Role::Parameterizable&#39;, &#39;for_class&#39;,
&#39;main&#39;&#41; called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 49
        MooseX::Role::Parameterized::init_meta&#40;&#39;MooseX::Role::Parameterized&#39;,
&#39;for_class&#39;, &#39;main&#39;, &#39;metaclass&#39;, undef&#41; called at
/sw/lib/perl5/site_perl/5.10.0/darwin-thread-multi-2level/Moose/Exporter.pm
line 355
        Moose::Exporter::__ANON__&#40;&#39;MooseX::Role::Parameterized&#39;&#41; called at -e
line 1
        main::BEGIN&#40;&#41; called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 1
        eval {...} called at
/sw/lib/perl5/site_perl/5.10.0/MooseX/Role/Parameterized.pm line 1
BEGIN failed--compilation aborted at -e line 1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-826329" href="/Public/Bug/Display.html?id=60989#txn-826329">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;03&nbsp;06:24:31&nbsp;2010</span>
    <span class="description">marcel [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/826329/428095/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/428095">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 328b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for reporting this!

perl -MTest::More -e&#39;use_ok Moose;use_ok MooseX::Role::Parameterized;done_testing&#39;

produces the error, but

perl -MTest::More -e&#39;require_ok Moose;require_ok MooseX::Role::Parameterized;done_testing&#39;

does not.

So I&#39;ve changed the &#34;use_ok&#40;&#41;&#34; in [ReportVersions] to &#34;require_ok&#40;&#41;&#34; and re-released it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-826331" href="/Public/Bug/Display.html?id=60989#txn-826331">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;03&nbsp;06:24:31&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-826332" href="/Public/Bug/Display.html?id=60989#txn-826332">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;03&nbsp;06:24:32&nbsp;2010</span>
    <span class="description">marcel [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.23467</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
