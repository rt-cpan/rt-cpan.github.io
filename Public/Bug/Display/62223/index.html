<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #62223 for XML-LibXML: HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #62223 for XML-LibXML: HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=XML-LibXML">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=XML-LibXML">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=XML-LibXML">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=XML-LibXML">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-LibXML">XML-LibXML CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">62223</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=XML-LibXML">XML-LibXML</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
step.aleksey [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-37350-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.70    </td>
  </tr>
  <tr id="CF-37351-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




xmlparser-test.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1077273/566856/xmlparser-test.pl">
Sat May 12 15:04:44 2012 (437b) by tim [...] tim-landscheidt.de
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=62223">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-844239" href="/Public/Bug/Display.html?id=62223#txn-844239">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;18&nbsp;03:14:57&nbsp;2010</span>
    <span class="description">step.aleksey [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/844239/437111/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/437111">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 9.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello.
I used XML-LIBXML for parsing HTML documents. In version 1.69 everything
was ok, but when I started to use 1.70, I took a warnings. But data,
what I wanted to get is right.
Example test.pl:
use strict;
use warnings;
use XXX::Sender;
use XXX::Parser;

my $url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://video.mail.ru/mail/kadaj.ff/16/18.html&#39;">http://video.mail.ru/mail/kadaj.ff/16/18.html&#39;</a></span>;
my $sender = XXX::Sender-&gt;new&#40;&#41;;
my $page_content = $sender-&gt;get&#40;$url&#41;;
return unless $page_content;

my $parser = XXX::Parser-&gt;new&#40;&#41;;
$parser-&gt;parse_html&#40;$page_content&#41;;
my $favicon_uri = $parser-&gt;get_favicon_src&#40;&#41;;
if&#40;$favicon_uri&#41;{
        print &#34;Favicon_uri:&#34;.$favicon_uri.&#34;\n&#34;;
}

Need modules:
package XXX::Sender;
use strict;
use LWP::UserAgent;
use HTTP::Request;
use base qw&#40; Class::Accessor::Fast &#41;;
__PACKAGE__-&gt;mk_ro_accessors&#40; qw&#40; parser root &#41; &#41;;
sub new{
    my $class = shift;
    $class = ref $class || $class;
    my $self = bless {}, $class;
    $self = $self-&gt;init;
    return $self;
}

sub init{
    my $self = shift;
    $self-&gt;{ua} = LWP::UserAgent-&gt;new&#40;&#41;;
    $self-&gt;{ua}-&gt;timeout&#40;40&#41;;
    return $self;
}
                    
sub get{
    my $self = shift;
    my $uri = shift;
    my $req = HTTP::Request-&gt;new&#40;GET =&gt;$uri&#41;;
    my $res = $self-&gt;{ua}-&gt;request&#40;$req&#41;;
    if&#40;$res-&gt;is_success&#41;{
                return $res-&gt;content;
        }
    return undef;
}
1;

package XXX::Parser;
use strict;
use XML::LibXML;

local $XML::LibXML::skipXMLDeclaration = 1;
local $XML::LibXML::skipDTD = 1;
use base qw&#40; Class::Accessor::Fast &#41;;
__PACKAGE__-&gt;mk_ro_accessors&#40; qw&#40; parser root &#41; &#41;;

sub new{
    my $class = shift;
    $class = ref $class || $class;
    my $self = bless {}, $class;
    $self = $self-&gt;_init;
    return $self;
}

sub _init{
    my $self = shift;
        my $parser = XML::LibXML-&gt;new&#40;&#41;;    
    $parser-&gt;expand_entities&#40;0&#41;;
    $parser-&gt;validation&#40;0&#41;;
    $parser-&gt;no_network&#40;1&#41;;
    $parser-&gt;recover_silently&#40;1&#41;; 
    $self-&gt;{parser} = $parser;
        return $self;
}

sub parse_html{
        my $self = shift;
        my $html = shift;
    my $dom = $self-&gt;parser-&gt;parse_html_string&#40;$html&#41;;
    $self-&gt;{root} = $dom-&gt;documentElement&#40;&#41;;
    return $self-&gt;{root};
}

sub get_favicon_src{
        my $self = shift;
        foreach my $node  &#40;@{$self-&gt;root-&gt;findnodes&#40;&#39;//link[@rel=&#34;shortcut
icon&#34;]&#39;&#41;}&#41;{
                return $node-&gt;getAttribute&#40;&#34;href&#34;&#41;;
        }
        return undef;
}
1;


And result what I took after starting:
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
 rel=&#34;video_src&#34;
href=&#34;http://img.mail.ru/r/video2/player_v2.swf?orig=2&#38;movieSrc
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
tp://img.mail.ru/r/video2/player_v2.swf?orig=2&#38;movieSrc=mail/kadaj.ff/16/18&#38;host
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
player_v2.swf?orig=2&#38;movieSrc=mail/kadaj.ff/16/18&#38;host=video.mail.ru&#38;contentHost
                                                                       
        ^
validity error : ID cln6259 already defined
                &lt;a class=&#34;lw lw-mail&#34; href=&#34;http://mail.ru&#34;
name=&#34;cln6259&#34;&gt;&lt;i&gt;&lt;/i&gt;&lt;/a&gt;
                                                                          ^
validity error : ID cln6259 already defined
                &lt;a class=&#34;lw lw-video&#34; href=&#34;http://video.mail.ru&#34;
name=&#34;cln6259&#34;&gt;&lt;i&gt;&lt;/i&gt;&lt;/a&gt;
                                                                       
         ^
validity error : ID cln4880 already defined
A&#34;&gt;&lt;a href=&#34;https://money.mail.ru/&#34; name=&#34;cln4880&#34; class=&#34;shAaa&#34;
target=&#34;_blank&#34;
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
                &lt;a
href=&#34;http://www.mail.ru/agent?message&#38;to=kadaj.ff@mail.ru&#34; title=&#34;Щелк
                                                            ^
HTML parser error : Element script embeds close tag
                        &#39;&lt;i class=&#34;mf_spIco&#34; onclick=&#34;return
Captcha.hide&#40;&#41;;&#34;&gt;&lt;/i&gt;&#39; +
                                                                       
      ^
HTML parser error : Element script embeds close tag
                                &#39;&lt;/form&gt;&#39; +
                                 ^
HTML parser error : Element script embeds close tag
                        &#39;&lt;/div&gt;&#39; +
                         ^ 
HTML parser error : Element script embeds close tag
                &#39;&lt;/div&gt;&#39;;  
                 ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
                                                                       
                &lt;param name=&#34;flashvars&#34;
value=&#34;orig=2&#38;movieSrc=mail/kadaj.ff/16/18&#34; /
                                                                       
                                                              ^
HTML parser error : Element script embeds close tag
de&#34;&#41;.value = fotoNothing; gebi&#40;&#34;lj-code&#34;&#41;.value = &#34;&lt;lj-embed&gt;&#34; +
fotoNothing + &#39;
                                                                       
        ^
validity error : ID goleft_listId already defined
                                                &lt;div
id=&#34;goleft_listId&#34;&gt;&lt;a href=&#34;#&#34; class=&#34;u&#34;&gt;&lt;img height=&#34;22&#34; width=&#34;100%
                                                                       ^
validity error : ID goright_listId already defined
                                                &lt;div
id=&#34;goright_listId&#34;&gt;&lt;a href=&#34;#&#34; class=&#34;d&#34;&gt;&lt;img height=&#34;22&#34; width=&#34;100
                                                                        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://rs.mail.ru/d275994.gif?rnd=203403146&#38;ts=1287384542">http://rs.mail.ru/d275994.gif?rnd=203403146&#38;ts=1287384542</a></span>&#34;
width=&#34;1&#34; h
                                                        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
&lt;img src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://rs.mail.ru/d288730.gif?rnd=157728719&#38;ts=1287384542">http://rs.mail.ru/d288730.gif?rnd=157728719&#38;ts=1287384542</a></span>&#34;
width=&#34;1&#34; h
                                                        ^
HTML parser error : Element script embeds close tag
ww.macromedia.com/shockwave/download/index.cgiP1_Prod_Version=ShockwaveFlash&#34;
/&gt;
                                                                       
        ^
HTML parser error : Element script embeds close tag
edia.com/shockwave/download/index.cgiP1_Prod_Version=ShockwaveFlash&#34;
/&gt;&lt;/object&gt;
                                                                       
        ^
HTML parser error : Element script embeds close tag
rs.mail.ru/b11675457.jpg&#34; width=&#34;200&#34; height=&#34;300&#34; border=&#34;0&#34; alt=&#34;&#34;
title=&#34;&#34; /&gt;
                                                                       
        ^
HTML parser error : Element script embeds close tag
ail.ru/b11675457.jpg&#34; width=&#34;200&#34; height=&#34;300&#34; border=&#34;0&#34; alt=&#34;&#34;
title=&#34;&#34; /&gt;&lt;/a&gt;
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
&#34;rb_banner&#34;&gt;&lt;a name=&#34;clb288730&#34;
href=&#34;http://1link.mail.ru/c.php?site_id=49118&#38;p
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&lt;a name=&#34;clb288730&#34;
</div>href=&#34;http://1link.mail.ru/c.php?site_id=49118&#38;p=231&#38;sub_id
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
сайте&lt;/a&gt; &lt;a type=&#34;mrim-status-9&#34; href=&#34;http://www.mail.ru/agent?message&#38;to
                                                                           ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
сайте&lt;/a&gt; &lt;a type=&#34;mrim-status-9&#34; href=&#34;http://www.mail.ru/agent?message&#38;to
                                                                           ^
HTML parser error : Tag wbr invalid
y.mail.ru/mail/kolpakova-d/&#34; class=&#34;booster-sc&#34;&gt;Дарья Колпаков&lt;wbr
                                                                   ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
сайте&lt;/a&gt; &lt;a type=&#34;mrim-status-9&#34; href=&#34;http://www.mail.ru/agent?message&#38;to
                                                                           ^
HTML parser error : Tag wbr invalid
.mail.ru/mail/green_apple-/&#34; class=&#34;booster-sc&#34;&gt;Мария Сергеевн&lt;wbr
                                                                   ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
сайте&lt;/a&gt; &lt;a type=&#34;mrim-status-9&#34; href=&#34;http://www.mail.ru/agent?message&#38;to
                                                                           ^
HTML parser error : Tag wbr invalid
 href=&#34;http://my.mail.ru/mail/roni-74/&#34; class=&#34;booster-sc&#34;&gt;Вероника&lt;wbr
                                                                        ^
HTML parser error : Tag wbr invalid
/mail/roni-74/&#34; class=&#34;booster-sc&#34;&gt;Вероника&lt;wbr /&gt; Свиридов&lt;wbr
                                                                ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
&lt;!-- start slot 1879 --&gt;&lt;img
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://rs.mail.ru/d225277.gif?rnd=174129342&#38;ts">http://rs.mail.ru/d225277.gif?rnd=174129342&#38;ts</a></span>
                                                                       
        ^
HTML parser error : htmlParseEntityRef: expecting &#39;;&#39;
&lt;!-- Start slot 3 --&gt;&lt;img
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://rs.mail.ru/d292152.gif?rnd=991533156&#38;ts=12">http://rs.mail.ru/d292152.gif?rnd=991533156&#38;ts=12</a></span>
                                                                       
     ^
HTML parser error : Element script embeds close tag
&#40;&#39;&lt;sc&#39;+&#39;ript type=&#34;text/javascript&#34;
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://an.yandex.ru/system/context.js">http://an.yandex.ru/system/context.js</a></span>&#34;&gt;
                                                                       
        ^
HTML parser error : Element script embeds close tag
+&#39;ript type=&#34;text/javascript&#34;
src=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://autocontext.begun.ru/autocontext2.js">http://autocontext.begun.ru/autocontext2.js</a></span>&#34;&gt;
                                                                       
        ^
And then I took right answer:
Favicon_uri:<span class="clickylink"><a target="new" rel="nofollow" href="http://video.mail.ru/favicon.ico">http://video.mail.ru/favicon.ico</a></span>

Is it a bug in a library? Or do I do something wrong?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-957999" href="/Public/Bug/Display.html?id=62223#txn-957999">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;16:34:23&nbsp;2011</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/957999/498452/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/498452">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 855b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Aleksey,

thanks for your report and sorry it took us so long to get to you. Can
you demonstrate the problem using a self contained Test::More script
&#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://metacpan.org/module/Test::Tutorial">http://metacpan.org/module/Test::Tutorial</a></span> &#41; with a local file &#40;or
prefarably one contained within the test&#41;? We cannot really afford to
test the output of live web services, because doing that will:

1. Be subject to the returned content changing.

2. will overload the web-service, and may not fall under their terms-of-use.

3. Will make us depend on LWP::UserAgent.

4. will be prone to networking problems.

Regards,

-- Shlomi Fish

On Mon Oct 18 03:14:57 2010, step.aleksey@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello.
&gt; I used XML-LIBXML for parsing HTML documents. In version 1.69
&gt; everything
&gt; was ok, but when I started to use 1.70, I took a warnings. But data,
&gt; what I wanted to get is right.
</div>
[SNIPPED]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-958002" href="/Public/Bug/Display.html?id=62223#txn-958002">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;20&nbsp;16:34:24&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077273" href="/Public/Bug/Display.html?id=62223#txn-1077273">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;12&nbsp;15:04:44&nbsp;2012</span>
    <span class="description">tim [...] tim-landscheidt.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tim [...] tim-landscheidt.de</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077273/566855/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/566855">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 55b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached is a test case that fails for me with 1.74 and
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> xmlparser-test.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077273/566856/xmlparser-test.pl">Download xmlparser-test.pl</a><br />
<span class="downloadcontenttype">text/x-perl 437b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl -w

use strict;
use warnings;

use Test::More tests =&gt; 2;
use Test::Output;
use XML::LibXML;

my $XMLParser = new XML::LibXML &#40;recover =&gt; 2, suppress_errors =&gt; 1, suppress_warnings =&gt; 1&#41; or die &#40;$!&#41;;
ok &#40;defined &#40;$XMLParser&#41;, &#39;Parser created&#39;&#41;;
stderr_is &#40;sub { $XMLParser-&gt;parse_html_string &#40;&#39;&lt;html&gt;&lt;body&gt;&lt;a href=&#34;http://host/script?a=1&#38;b=2&#34;&gt;&lt;/body&gt;&lt;/html&gt;&#39;&#41; },
           &#39;&#39;, &#39;Incorrect HTML parsed without warnings&#39;&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077276" href="/Public/Bug/Display.html?id=62223#txn-1077276">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;12&nbsp;15:06:22&nbsp;2012</span>
    <span class="description">tim [...] tim-landscheidt.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tim [...] tim-landscheidt.de</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077276/566859/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/566859">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 44b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;libxml2-2.7.8-6.fc16.i686&#34; got cut off :-&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077290" href="/Public/Bug/Display.html?id=62223#txn-1077290">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;12&nbsp;16:22:57&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077290/566868/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/566868">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Tim,

On Sat May 12 15:04:44 2012, tim@tim-landscheidt.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Attached is a test case that fails for me with 1.74 and 
&gt; &#34;libxml2-2.7.8-6.fc16.i686
</div>
here is the result of running this on Mageia Linux 2 :

&lt;SHELL&gt;

shlomif@lap:~$ rpm -q lib64xml2-devel
lib64xml2-devel-2.7.8-14.20120229.1.mga2
shlomif@lap:~$ perl -MXML::LibXML\ 9999
XML::LibXML version 9999 required--this is only version 1.95 at
/usr/lib/perl5/vendor_perl/5.14.2/x86_64-linux-thread-multi/XML/LibXML.pm line
52.
BEGIN failed--compilation aborted.
shlomif@lap:~$ prove xmlparser-test.pl 
xmlparser-test.pl .. ok   
All tests successful.
Files=1, Tests=2,  1 wallclock secs &#40; 0.03 usr  0.00 sys +  0.08 cusr 
0.01 csys =  0.12 CPU&#41;
Result: PASS
shlomif@lap:~$ perl xml
xmlparser-test.pl   xmlparser-test.pl~  
shlomif@lap:~$ perl xmlparser-test.pl
1..2
ok 1 - Parser created
ok 2 - Incorrect HTML parsed without warnings

&lt;/SHELL&gt;

I see that libxml2’s version is identical &#40;modulo some different vendor
patches&#41;, but XML::LibXML&#39;s version is incredibly out of date: there&#39;s
already 1.97 and XML-LibXML-1.74 was released 11 months ago according to
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/release/SHLOMIF/XML-LibXML-1.74/">https://metacpan.org/release/SHLOMIF/XML-LibXML-1.74/</a></span> .

Can you test it with XML-LibXML-1.97? You can do &#34;perl Makefile.PL;
make; make test&#34; and then run your script using &#34;perl -Mblib&#34;.

Regards,

-- Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077341" href="/Public/Bug/Display.html?id=62223#txn-1077341">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;12&nbsp;20:50:00&nbsp;2012</span>
    <span class="description">tim [...] tim-landscheidt.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tim [...] tim-landscheidt.de</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077341/566887/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/566887">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 68b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">After an update to Fedora Rawhide&#39;s perl-XML-LibXML-1.97-1.fc18.i686
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077535" href="/Public/Bug/Display.html?id=62223#txn-1077535">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;13&nbsp;12:03:03&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077535/567011/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567011">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 208b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Tim,

On Sat May 12 20:50:00 2012, tim@tim-landscheidt.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After an update to Fedora Rawhide&#39;s perl-XML-LibXML-1.97-1.fc18.i686
</div>
it seems your message got cut down again.

Regards,

-- Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077547" href="/Public/Bug/Display.html?id=62223#txn-1077547">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;13&nbsp;13:04:09&nbsp;2012</span>
    <span class="description">tim [...] tim-landscheidt.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tim [...] tim-landscheidt.de</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077547/567023/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567023">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 72b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; After an update to Fedora Rawhide&#39;s perl-XML-LibXML-1.97-1.fc18.i686
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077550" href="/Public/Bug/Display.html?id=62223#txn-1077550">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;13&nbsp;13:07:03&nbsp;2012</span>
    <span class="description">tim [...] tim-landscheidt.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tim [...] tim-landscheidt.de</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077550/567026/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567026">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 268b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Okay, adding some newlines apparently didn&#39;t work, so let&#39;s
try with another browser: After an update to Fedora Rawhide&#39;s
perl-XML-LibXML-1.97-1.fc18.i686 with no update of libxml2,
the test case succeeds.  So I&#39;d propose to close this bug
as &#34;fixed in 1.97&#34;.  Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077553" href="/Public/Bug/Display.html?id=62223#txn-1077553">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;13&nbsp;13:30:10&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1077553/567029/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/567029">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 619b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 13 13:07:03 2012, tim@tim-landscheidt.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Okay, adding some newlines apparently didn&#39;t work, so let&#39;s
&gt; try with another browser: After an update to Fedora Rawhide&#39;s
&gt; perl-XML-LibXML-1.97-1.fc18.i686 with no update of libxml2,
&gt; the test case succeeds.  So I&#39;d propose to close this bug
&gt; as &#34;fixed in 1.97&#34;.  Thanks!
</div>
Thanks!

I resolved this bug. Aleksey: if you&#39;re interested in providing a better
test case, which still fails in XML-LibXML-1.97, please comment on this
bug &#40;and thus re-opening it&#41;. Otherwise, the bug will remain resolved
due to lack of responsiveness.

Regards,

-- Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1077556" href="/Public/Bug/Display.html?id=62223#txn-1077556">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;13&nbsp;13:30:13&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.561562</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
