<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #25367 for Text-Password-Pronounceable: [PATCH] minor patch fixing T::P::P-&gt;generate&#40;$len&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #25367 for Text-Password-Pronounceable: [PATCH] minor patch fixing T::P::P-&gt;generate&#40;$len&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Text-Password-Pronounceable/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Text-Password-Pronounceable/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Text-Password-Pronounceable/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Text-Password-Pronounceable/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Text-Password-Pronounceable">Text-Password-Pronounceable CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">25367</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Text-Password-Pronounceable/Active/">Text-Password-Pronounceable</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
a.r.ferreira [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41474-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41475-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;17:21:50&nbsp;2007</span>
    <span class="description">a.r.ferreira [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PATCH] minor patch fixing T::P::P-&gt;generate&#40;$len&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 10 Mar 2007 19:21:34 -0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> clkao [...] clkao.org, bugs-Text-Password-Pronounceable [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Adriano Ferreira&#34; &lt;a.r.ferreira [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The patch I provided at <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Public/Bug/Display.html?id=23981">http://rt.cpan.org/Public/Bug/Display.html?id=23981</a></span>
made &#34;new&#40;$len&#41;&#34; and &#34;$pp-&gt;generate&#40;$len&#41;&#34; work, but
not &#34;Text::Password::Pronounceable-&gt;generate&#40;$len&#41;&#34;.

This patch fixes that, besides tweaking the docs for a more
precise description of the method signatures.

It add a few more tests to check for the behavior of generate
as a class method.


########

As a side note, the following tests actually pass,
but should they be documented? Are they desirable behavior?

    {
    my $pp = Text::Password::Pronounceable-&gt;new&#40;1, 10&#41;;

    my $str = $pp-&gt;generate&#40;undef, 5&#41;; # $min = undef, so use $min = 1
    ok&#40;length&#40;$str&#41; &lt;= 5 &#38;&#38; length&#40;$str&#41; &gt;= 1&#41;;

    $str = $pp-&gt;generate&#40;0, 5&#41;; # $min = 0, so use $min = 1
    ok&#40;length&#40;$str&#41; &lt;= 5 &#38;&#38; length&#40;$str&#41; &gt;= 1&#41;;

    $str = $pp-&gt;generate&#40;&#34;&#34;, 5&#41;; # $min = &#34;&#34;, so use $min = 1
    ok&#40;length&#40;$str&#41; &lt;= 5 &#38;&#38; length&#40;$str&#41; &gt;= 1&#41;;

    }

Maybe replacing this test and warning in the sub generate

    Carp::carp &#34;min and max length must be defined&#34; if !$min || !$max;

by

    Carp::carp &#34;min and max length must be defined&#34; if $min&gt;0 || $max&gt;0;

so that arguments are forced to be numbers is more sensible,
discontinuing with the behavior exhibited above.
But obviously it depends on the compatibility issues of the
code.

Kind regards,
Adriano Ferreira.
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;02&nbsp;11:15:56&nbsp;2010</span>
    <span class="description">http://ambs.myopenid.com/ -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Was preparing to complain about the same thing, but the bug is open for three years now.&lt;br /&gt;
&lt;br /&gt;
Getting complains when using just the smaller size:&lt;br /&gt;
min and max length must be defined at ...&lt;br /&gt;
Use of uninitialized value $max in subtraction &#40;-&#41; at /usr/share/perl5/site_perl/5.10.0/Text/Password/Pronounceable.pm line 160.&lt;br /&gt;
&lt;br /&gt;
Why is $max optional in new, but not on generate?&lt;br /&gt;
&lt;br /&gt;
Cheers&lt;br /&gt;
&lt;br /&gt;
On Sat Mar 10 17:21:50 2007, a.r.ferreira@gmail.com wrote: &lt;br /&gt;
&#38;gt; The patch I provided at <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Public/Bug/Display.html?id=23981">http://rt.cpan.org/Public/Bug/Display.html?id=23981</a></span> &lt;br /&gt;
&#38;gt; made &#38;quot;new&#40;$len&#41;&#38;quot; and &#38;quot;$pp-&#38;gt;generate&#40;$len&#41;&#38;quot; work, but &lt;br /&gt;
&#38;gt; not &#38;quot;Text::Password::Pronounceable-&#38;gt;generate&#40;$len&#41;&#38;quot;. &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; This patch fixes that, besides tweaking the docs for a more &lt;br /&gt;
&#38;gt; precise description of the method signatures. &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; It add a few more tests to check for the behavior of generate &lt;br /&gt;
&#38;gt; as a class method. &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; ######## &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; As a side note, the following tests actually pass, &lt;br /&gt;
&#38;gt; but should they be documented? Are they desirable behavior? &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     { &lt;br /&gt;
&#38;gt;     my $pp = Text::Password::Pronounceable-&#38;gt;new&#40;1, 10&#41;; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     my $str = $pp-&#38;gt;generate&#40;undef, 5&#41;; # $min = undef, so use $min = 1 &lt;br /&gt;
&#38;gt;     ok&#40;length&#40;$str&#41; &#38;lt;= 5 &#38;amp;&#38;amp; length&#40;$str&#41; &#38;gt;= 1&#41;; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     $str = $pp-&#38;gt;generate&#40;0, 5&#41;; # $min = 0, so use $min = 1 &lt;br /&gt;
&#38;gt;     ok&#40;length&#40;$str&#41; &#38;lt;= 5 &#38;amp;&#38;amp; length&#40;$str&#41; &#38;gt;= 1&#41;; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     $str = $pp-&#38;gt;generate&#40;&#38;quot;&#38;quot;, 5&#41;; # $min = &#38;quot;&#38;quot;, so use $min = 1 &lt;br /&gt;
&#38;gt;     ok&#40;length&#40;$str&#41; &#38;lt;= 5 &#38;amp;&#38;amp; length&#40;$str&#41; &#38;gt;= 1&#41;; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     } &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; Maybe replacing this test and warning in the sub generate &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     Carp::carp &#38;quot;min and max length must be defined&#38;quot; if !$min || !$max; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; by &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt;     Carp::carp &#38;quot;min and max length must be defined&#38;quot; if $min&#38;gt;0 || $max&#38;gt;0; &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; so that arguments are forced to be numbers is more sensible, &lt;br /&gt;
&#38;gt; discontinuing with the behavior exhibited above. &lt;br /&gt;
&#38;gt; But obviously it depends on the compatibility issues of the &lt;br /&gt;
&#38;gt; code. &lt;br /&gt;
&#38;gt;  &lt;br /&gt;
&#38;gt; Kind regards, &lt;br /&gt;
&#38;gt; Adriano Ferreira. &lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;02&nbsp;11:15:59&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
