<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #34693 for Math-TrulyRandom: Hangs Forever</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #34693 for Math-TrulyRandom: Hangs Forever</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Math-TrulyRandom">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Math-TrulyRandom">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Math-TrulyRandom">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Math-TrulyRandom">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-TrulyRandom">Math-TrulyRandom CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">34693</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Math-TrulyRandom">Math-TrulyRandom</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
imacat [...] mail.imacat.idv.tw

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-21022-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.0    </td>
  </tr>
  <tr id="CF-21023-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




TrulyRandom.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1169323/616549/TrulyRandom.pm">
Sun Jan 13 03:35:27 2013 (4.7k) by DANAJ [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=34693">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444048" href="/Public/Bug/Display.html?id=34693#txn-444048">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;01:59:34&nbsp;2008</span>
    <span class="description">imacat [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Hangs Forever</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/444048/217780/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/217780">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Gary Howland,

    Hi.  This is imacat from Taiwan.  I found that your
Math-TrulyRandom-1.0 hangs forever with my Perl 5.8.8 and Perl 5.10.0 on
my Linux 2.6.  It hangs at &#34;make test&#34;, but the CPU usage is 100%.  I
tried to investigate further, but do not see anything special.  It just
hangs when calling the first truly_random_value&#40;&#41;.  Besides that, I have
no clue.

    I attached the sample terminal log below.  Please tell me if you
have any question, or if I could be of any help.  Thank you.

imacat@rinse tmp/Math-TrulyRandom-1.0 % perl -v

This is perl, v5.8.8 built for x86_64-linux-thread-multi-ld

Copyright 1987-2006, Larry Wall

Perl may be copied only under the terms of either the Artistic License
or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.

imacat@rinse tmp/Math-TrulyRandom-1.0 % perl Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for Math::TrulyRandom
imacat@rinse tmp/Math-TrulyRandom-1.0 % make
cp TrulyRandom.pod blib/lib/Math/TrulyRandom.pod
cp TrulyRandom.pm blib/lib/Math/TrulyRandom.pm
Please specify prototyping behavior for TrulyRandom.xs &#40;see perlxs manual&#41;
maRunning Mkbootstrap for Math::TrulyRandom &#40;&#41;
Manifying blib/man3/Math::TrulyRandom.3
imacat@rinse tmp/Math-TrulyRandom-1.0 % make test
1
make: *** [test_dynamic] Interrupt

imacat@rinse tmp/Math-TrulyRandom-1.0 %
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444079" href="/Public/Bug/Display.html?id=34693#txn-444079">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;05:02:36&nbsp;2008</span>
    <span class="description">nospam-abuse [...] bloodgate.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34693] Hangs Forever</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 5 Apr 2008 10:40:55 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-TrulyRandom [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tels &lt;nospam-abuse [...] bloodgate.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/444079/217798/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/217798">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

On Saturday 05 April 2008 07:59:39 Yi Ma Mao via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sat Apr 05 01:59:34 2008: Request 34693 was acted upon.
&gt; Transaction: Ticket created by IMACAT
&gt;        Queue: Math-TrulyRandom
&gt;      Subject: Hangs Forever
&gt;    Broken in: 1.0
&gt;     Severity: Critical
&gt;        Owner: Nobody
&gt;   Requestors: imacat@mail.imacat.idv.tw
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34693">http://rt.cpan.org/Ticket/Display.html?id=34693</a></span> &gt;
&gt;
&gt;
&gt; Dear Gary Howland,
</div>
I am Tels, and I inherited a few modules from Gary Howland, who sadly 
passed away in 2003.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     Hi.  This is imacat from Taiwan.  I found that your
&gt; Math-TrulyRandom-1.0 hangs forever with my Perl 5.8.8 and Perl 5.10.0
&gt; on my Linux 2.6.  It hangs at &#34;make test&#34;, but the CPU usage is 100%.
&gt;  I tried to investigate further, but do not see anything special.  It
&gt; just hangs when calling the first truly_random_value&#40;&#41;.  Besides
&gt; that, I have no clue.
&gt;
&gt;     I attached the sample terminal log below.  Please tell me if you
&gt; have any question, or if I could be of any help.  Thank you.
</div>
Thank you for the report! However, nobody has maintained this module 
sind 1996, so I think the code might be just broken :&#40;

It might be that it hangs on your system because it is 64bit. Just tried 
it here with Perl v5.8.8 and it hangs, too, using one code to 100%.

I cannot promise I have time to look into it, tho. Sorry.

All the best,

Tels

-- 
 Signed on Sat Apr  5 10:40:50 2008 with key 0x93B84C15.
 View my photo gallery: <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/photos">http://bloodgate.com/photos</a></span>
 PGP key on <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/tels.asc">http://bloodgate.com/tels.asc</a></span> or per email.

 &#34;Q: What do you get when you cross an insomniac, an agnostic, and a
 dyslexic?
 A: Someone who stays up all night wondering if there is a
 Dog.&#34;

  -- Groucho Marx
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/444079/217799/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">application/pgp-signature 481b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444080" href="/Public/Bug/Display.html?id=34693#txn-444080">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;05:03:23&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444083" href="/Public/Bug/Display.html?id=34693#txn-444083">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;05:12:29&nbsp;2008</span>
    <span class="description">nospam-abuse [...] bloodgate.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34693] Hangs Forever</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 5 Apr 2008 11:08:14 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-TrulyRandom [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tels &lt;nospam-abuse [...] bloodgate.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/444083/217803/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/217803">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Saturday 05 April 2008 11:03:25 nospam-abuse@bloodgate.com via RT 
wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;     I attached the sample terminal log below.  Please tell me if
&gt; &gt; you have any question, or if I could be of any help.  Thank you.
</div>&gt;
&gt; Thank you for the report! However, nobody has maintained this module
&gt; sind 1996, so I think the code might be just broken :&#40;
&gt;
&gt; It might be that it hangs on your system because it is 64bit. Just
&gt; tried it here with Perl v5.8.8 and it hangs, too, using one code to
&gt; 100%.
</div>
Sorry, I meant &#34;one core&#34;. Having a look at the code, well, it is 
outright scary, and I am not even convinced it would actually generate 
really random numbers. I am inclined to just delete that module and 
replace it with something that can read &#34;/dev/random&#34; 
or &#34;/dev/urandom&#34;.

But I am not sure I have the permissions to delete that module from 
CPAN.

All the best,

Tels

-- 
 Signed on Sat Apr  5 11:06:51 2008 with key 0x93B84C15.
 View my photo gallery: <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/photos">http://bloodgate.com/photos</a></span>
 PGP key on <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/tels.asc">http://bloodgate.com/tels.asc</a></span> or per email.

 &#34;The UAC is making safer worlds through superior firepower.&#34;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/444083/217804/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">application/pgp-signature 481b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444152" href="/Public/Bug/Display.html?id=34693#txn-444152">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;10:46:08&nbsp;2008</span>
    <span class="description">imacat [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/444152/217838/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/217838">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2008-04-05 05:12:29 Sat, nospam-abuse@bloodgate.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Saturday 05 April 2008 11:03:25 nospam-abuse@bloodgate.com via RT 
&gt; wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt;     I attached the sample terminal log below.  Please tell me if
&gt; &gt; &gt; you have any question, or if I could be of any help.  Thank you.
</div>&gt; &gt; Thank you for the report! However, nobody has maintained this module
&gt; &gt; sind 1996, so I think the code might be just broken :&#40;
&gt; &gt; It might be that it hangs on your system because it is 64bit. Just
&gt; &gt; tried it here with Perl v5.8.8 and it hangs, too, using one code to
&gt; &gt; 100%.
</div>&gt; Sorry, I meant &#34;one core&#34;. Having a look at the code, well, it is 
&gt; outright scary, and I am not even convinced it would actually generate 
&gt; really random numbers. I am inclined to just delete that module and 
&gt; replace it with something that can read &#34;/dev/random&#34; 
&gt; or &#34;/dev/urandom&#34;.
</div>
    I see.  It makes sense that /dev/random or /dev/urandom are not
working poorly at 1996.  But I believe /dev/random and /dev/urandom are
really good now, at least on modern Linux, and the Perl built-in rand&#40;&#41;
is reading it nicely.  I remember the time when rand&#40;&#41; returns random
numbers according to a fixed random number table, and that the script
gets a same random number each time it runs.  If that is the only reason
to have Math::TrulyRandom, I suppose it is not needed anymore, and you
do not really need to write a new version.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I am not sure I have the permissions to delete that module from 
&gt; CPAN.
</div>
    As long as you still have your password &#40;I suppose your user name is
&#34;gary&#34;, you can delete them at:

<span class="clickylink"><a target="new" rel="nofollow" href="https://pause.perl.org/pause/authenquery?ACTION=delete_files">https://pause.perl.org/pause/authenquery?ACTION=delete_files</a></span>

    Deletion of outdated distributions is encouraged by CPAN.  This
saves the burden of the worm-hearted mirror administrators.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-444167" href="/Public/Bug/Display.html?id=34693#txn-444167">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;05&nbsp;11:11:34&nbsp;2008</span>
    <span class="description">nospam-abuse [...] bloodgate.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #34693] Hangs Forever</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 5 Apr 2008 17:10:37 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Math-TrulyRandom [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tels &lt;nospam-abuse [...] bloodgate.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/444167/217851/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/217851">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Moin,

On Saturday 05 April 2008 16:46:14 Yi Ma Mao via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Math-TrulyRandom
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=34693">http://rt.cpan.org/Ticket/Display.html?id=34693</a></span> &gt;
&gt;
&gt; On 2008-04-05 05:12:29 Sat, nospam-abuse@bloodgate.com wrote:
<div class="message-stanza open">&gt; &gt; On Saturday 05 April 2008 11:03:25 nospam-abuse@bloodgate.com via
&gt; &gt; RT
&gt; &gt;
&gt; &gt; wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt;     I attached the sample terminal log below.  Please tell me
&gt; &gt; &gt; &gt; if you have any question, or if I could be of any help.  Thank
&gt; &gt; &gt; &gt; you.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Thank you for the report! However, nobody has maintained this
&gt; &gt; &gt; module sind 1996, so I think the code might be just broken :&#40;
&gt; &gt; &gt; It might be that it hangs on your system because it is 64bit.
&gt; &gt; &gt; Just tried it here with Perl v5.8.8 and it hangs, too, using one
&gt; &gt; &gt; code to 100%.
</div>&gt; &gt;
&gt; &gt; Sorry, I meant &#34;one core&#34;. Having a look at the code, well, it is
&gt; &gt; outright scary, and I am not even convinced it would actually
&gt; &gt; generate really random numbers. I am inclined to just delete that
&gt; &gt; module and replace it with something that can read &#34;/dev/random&#34;
&gt; &gt; or &#34;/dev/urandom&#34;.
</div>&gt;
&gt;     I see.  It makes sense that /dev/random or /dev/urandom are not
&gt; working poorly at 1996.  But I believe /dev/random and /dev/urandom
&gt; are really good now, at least on modern Linux, and the Perl built-in
&gt; rand&#40;&#41; is reading it nicely.  I remember the time when rand&#40;&#41; returns
&gt; random numbers according to a fixed random number table, and that the
&gt; script gets a same random number each time it runs.  If that is the
&gt; only reason to have Math::TrulyRandom, I suppose it is not needed
&gt; anymore, and you do not really need to write a new version.
</div>
Yeah, looking at the code, it would probably not be secure e.g. 
MathTrulyRandom would produce numbers that are much worse that what you 
get from /dev/random nowadays.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; But I am not sure I have the permissions to delete that module from
&gt; &gt; CPAN.
</div>&gt;
&gt;     As long as you still have your password &#40;I suppose your user name
&gt; is &#34;gary&#34;, you can delete them at:
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://pause.perl.org/pause/authenquery?ACTION=delete_files">https://pause.perl.org/pause/authenquery?ACTION=delete_files</a></span>
&gt;
&gt;     Deletion of outdated distributions is encouraged by CPAN.  This
&gt; saves the burden of the worm-hearted mirror administrators.
</div>
The problem is, I am _NOT_ gary :&#41; My CPAN ID is tels, and I do not have 
access to his CPAN directory. And since Gary is dead, he neither has 
access ;&#41;

All the best,

Tels

-- 
 Signed on Sat Apr  5 17:08:45 2008 with key 0x93B84C15.
 Get one of my photo posters: <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/posters">http://bloodgate.com/posters</a></span>
 PGP key on <span class="clickylink"><a target="new" rel="nofollow" href="http://bloodgate.com/tels.asc">http://bloodgate.com/tels.asc</a></span> or per email.

 &#34;To get something done, a committee should consist of no more than
 three persons, two of them absent.&#34;

  -- Unknown
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/444167/217852/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">application/pgp-signature 481b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1169323" href="/Public/Bug/Display.html?id=34693#txn-1169323">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;13&nbsp;03:35:27&nbsp;2013</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1169323/616548/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/616548">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I assume we could get the PAUSE admins to fix the access issues if it
was warranted.  Given the current situation where the one and only
function hangs on most UNIX systems, I&#39;d think it is.  I do know that
I&#39;m posting on an RT that has been idle for 5 years...

I&#39;m attaching a Pure Perl version of the module, 2/3rds of which is
documentation.  It &#40;should&#41; implement the same functionality as the C
code, and reduces the module to a single .pm file.  It works on most
UNIX systems and on Cygwin, but not on Win32 &#40;no ualarm&#41;.

&#40;1&#41; This implements the same version 1 of TrueRand that the original
has.  This version is obsolete, and version 2.1 &#40;the newest I&#39;ve seen&#41;
indicates that the raw output should not be used as it doesn&#39;t contain
enough entropy.  It also changes the mixing to a hash &#40;SHA-1 I believe&#41;
and adds a second hash of two raw results to generate an output value.

&#40;2&#41; The underlying concept isn&#39;t so bad on most systems, but /dev/random
is so much better in basically every area that it almost never makes
sense to use it if /dev/random or /dev/urandom is available.

&#40;3&#41; I wrote another module &#40;Crypt::Random::TESHA2&#41; that does similar
&#34;userspace voodoo entropy&#34; calculations.  It works on Win32 as well as
other platforms and is much faster.  It uses SHA-256 and SHA-512 and
feeds the raw output to a simple entropy pool.  It shares most of the
same underlying flaws when compared to /dev/random however.

&#40;4&#41; There are plenty of modules that make it easy to get randomness,
including Bytes::Random::Secure, Math::Random::Secure, Crypt::Random,
Crypt::URandom, Math::Random::Source, and Crypt::Random::Seed to name a
few.  These are what most people should be pointed to, and let those
modules use this one as a source if they want.


All that said, I think deleting the module and all the references to it
in CORE documentation &#40;srand&#41; and sending notes to the module authors
that reference it is reasonable.  Especially as the module name itself
is misleading &#40;it made sense in 1996&#41;.

Another possibility is getting a name change to something like
Crypt::Random::TrueRand &#40;or Math::Random::TrueRand&#41;, especially with an
update to the latest version of that algorithm.

Lastly, if we don&#39;t like any of those options, patching it would be nice
for either &#40;1&#41; the Pure Perl version 1 I&#39;ve attached, &#40;2&#41; a Pure Perl
version 2.1 using Digest::SHA and sha1, or &#40;3&#41; replace the C code with
the latest TrueRand version 2.1 code.  I can any of these if we want.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TrulyRandom.pm</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1169323/616549/TrulyRandom.pm">Download TrulyRandom.pm</a><br />
<span class="downloadcontenttype">text/x-perl 4.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use warnings;
use Time::HiRes qw/ualarm/;
our $VERSION = &#39;2.00&#39;;

use Exporter qw&#40;import&#41;;
our @EXPORT_OK = qw&#40; truly_random_value random_byte &#41;;
our %EXPORT_TAGS = &#40;all =&gt; [ @EXPORT_OK ]&#41;;
# export everything by default
our @EXPORT = qw&#40; truly_random_value &#41;;


my $count  = 0;
my $ocount = 0;
my $buffer = 0;

sub _roulette {
  eval {
    local $SIG{ALRM} = sub { die &#34;alarm\n&#34; };
    # DJ: Same constant and incrementing integer as in the original C code.
    ualarm&#40;16665&#41;;
    $count++ while 1;
    alarm 0;
  };
  die &#34;alarm failed\n&#34; unless $@;
  die unless $@ eq &#34;alarm\n&#34;;
  # Same mixing function as used in the original C code.
  # Modern systems would use a cryptographic hash for this.
  $count = $count ^ &#40;$count &gt;&gt; 3&#41; ^ &#40;$count &gt;&gt; 6&#41; ^ $ocount;
  $count &#38;= 0x7;
  $ocount = $count;
  $buffer = &#40;$buffer &lt;&lt; 3&#41; ^ $count;
  return &#40;$buffer &#38; 0xFFFFFFFF&#41;;
}

sub truly_random_value {
  $count = 0;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
}

sub random_byte {
  $count = 0;
  _roulette&#40;&#41;;
  _roulette&#40;&#41;;
  chr&#40;_roulette&#40;&#41; &#38; 0xFF&#41;;
}

1;

=head1 NAME

TrulyRandom - Generate non-pseudo random numbers in pure Perl

=head1 SYNOPSIS

    use Math::TrulyRandom;
    
    $random = truly_random_value&#40;&#41;;

=head1 DESCRIPTION

The B&lt;TrulyRandom&gt; module provides an ability to generate non-pseudo random
32-bit numbers from within Perl programs.  The source of the randomness
is from interrupt timing discrepancies.


=head1 EXAMPLE

    $random = truly_random_value&#40;&#41;;

=head1 BUGS

This code uses only CORE Perl code, but needs Time::HiRes::ualarm which is
not supported on Win32.

The name is a bit misleading, as this technique generates decent entropy only
on select platforms.  My understanding is that one of the primary authors,
Matt Blaze, now believes this to be an obsolete method, and O/S sources such
as /dev/random are the proper solution.

This implementation is based on version 1 of TrueRand, which had numerous
issues and was superseded by TrueRand 2.1.  The expected entropy for each
32-bit value of this code is approximately 8-16 bits, and the mixing method
leaves much to be desired.  The newer version uses cryptographic hashes for
mixing, as well as mixing the result of multiple raw calls to create one
result.  The documentation specifically warns to not use the raw call &#40;hence
this earlier version does exactly what the author now indicates not to do&#41;.

More sophisticated systems like L&lt;HAVEGE|<span class="clickylink"><a target="new" rel="nofollow" href="http://www.issihosts.com/haveged/">http://www.issihosts.com/haveged/</a></span>&gt;
and L&lt;EGD|<span class="clickylink"><a target="new" rel="nofollow" href="http://egd.sourceforge.net/">http://egd.sourceforge.net/</a></span>&gt; generate randomness with more sources
and run much faster.  These are meant to feed entropy pools, which are in
turn managed and doled out via /dev/random.  This module is userspace
&#34;I&lt;voodoo entropy&gt;&#34; and really shouldn&#39;t be used.

The random numbers take a long time &#40;in computer terms&#41; to generate,
so are only really useful for seeding pseudo random sequence generators.


=head1 SEE ALSO

=head2 L&lt;Crypt::Random::TESHA2&gt; is another module that generates non-pseudo
random data from timer/scheduler variations.  It works on more platforms and
runs much faster while using less CPU.  It uses SHA-256 and SHA-512 for mixing,
as well as pushing all generated randomness through an entropy pool.

=head2 L&lt;Crypt::Random::Seed&gt; is a simple module that finds the best strong
random source available and uses it to return random data.

=head2 L&lt;Math::Random::Source&gt; is a very flexible and oft-used module that
finds available entropy sources and presents a unified interface for getting
random data from them.

=head2 L&lt;Crypt::URandom&gt; is a simple module that gets the best non-blocking
random source available and uses it to return random data.

=head2 L&lt;Bytes::Random::Secure&gt; is a straightforward module that &#40;1&#41; finds
a good source of strong randomness, and &#40;2&#41; uses it to seed
L&lt;Math::Random::ISAAC&gt; &#40;a cryptographically secure pseudo-random number
generator&#41;.  This is a very good combination for most purposes.  It provides
a nice API.

=head2 L&lt;Math::Random::Secure&gt; is similar to L&lt;Bytes::Random::Secure&gt;, but
offers a different set of features.

=head2 L&lt;Crypt::Random&gt; offers an interface to random values in arbitrary
bigint ranges, using the best source of randomness it finds -- typically
/dev/random.  It uses the L&lt;Math::Pari&gt; module which creates portability
issues, and its use of /dev/random for all activities means it blocks
on many operations, making it unsuitable for embedded systems unless they
have an entropy daemon running.


=head1 COPYRIGHT

This implementation derives from the truly random number generator function
developed by Matt Blaze and Don Mitchell, and is copyright of AT&#38;T.

Other parts of this perl extension are copyright of Systemics Ltd
&#40;L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.systemics.com/">http://www.systemics.com/</a></span>&gt;&#41;.

The rewrite in pure Perl is Copyright &#40;c&#41; 2013, Dana Jacobsen.
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.375223</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
