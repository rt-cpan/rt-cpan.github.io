<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #85174 for SQL-Statement: Complex Literals</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #85174 for SQL-Statement: Complex Literals</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=SQL-Statement">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=SQL-Statement">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=SQL-Statement">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=SQL-Statement">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/SQL-Statement">SQL-Statement CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">85174</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=SQL-Statement">SQL-Statement</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
randolph [...] deepcloud.com.au

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-29588-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-29589-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=85174">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210213" href="/Public/Bug/Display.html?id=85174#txn-1210213">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;01:22:03&nbsp;2013</span>
    <span class="description">randolph [...] deepcloud.com.au -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Complex Literals</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 May 2013 15:21:41 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-SQL-Statement [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Randolph Pullen &lt;randolph [...] deepcloud.com.au&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210213/638988/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638988">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 451b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It appears that Parser.pm is not handling complex literals &#40;eg: date/time
and timestamp literals&#41;.

Specifically:
Select * from  lineitem
where l_shipdate &lt;= date &#39;1998-12-01&#39; - interval &#39;90&#39; day &#40;3&#41;

This is processed Parser.pm as
Â³Error: String ÂŒ?0?Â¹ not allowed in numeric expression.

This is confirmed in SQL::Statement1.33 Â­ and I can see no references in the
change log to the problem.

This is medium to high importance.

Thanks,
Randolph
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210213/638989/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638989">with headers</a>
<br />
<span class="downloadcontenttype">text/html 804b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210217" href="/Public/Bug/Display.html?id=85174#txn-1210217">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;01:37:44&nbsp;2013</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210217/638993/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638993">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 656b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 10 01:22:03 2013, randolph wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It appears that Parser.pm is not handling complex literals &#40;eg: date/time
&gt; and timestamp literals&#41;.
&gt; 
&gt; Specifically:
&gt; Select * from  lineitem
&gt; where l_shipdate &lt;= date &#39;1998-12-01&#39; - interval &#39;90&#39; day &#40;3&#41;
&gt; 
&gt; This is processed Parser.pm as
&gt; Â³Error: String ÂŒ?0?Â¹ not allowed in numeric expression.
&gt; 
&gt; This is confirmed in SQL::Statement1.33 Â­ and I can see no references in the
&gt; change log to the problem.
</div>
Well - I cannot remember patches regarding that.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is medium to high importance.
</div>
Why? This is a feature request which is automatically &#34;wishlist&#34;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks,
&gt; Randolph
</div>
Cheers,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210218" href="/Public/Bug/Display.html?id=85174#txn-1210218">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;01:37:45&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210221" href="/Public/Bug/Display.html?id=85174#txn-1210221">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;02:06:26&nbsp;2013</span>
    <span class="description">randolph [...] deepcloud.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #85174] Complex Literals</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 May 2013 15:56:42 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-SQL-Statement [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Randolph Pullen &lt;randolph [...] deepcloud.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210221/638996/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/638996">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Jens, thanks for your prompt response.

The example query snippet comes from the TPC-H query #1.
This missing feature of SQL 99, prohibits running the TPC-H benchmark.
I am only using SQL::Statement as a meta code compiler, so the benchmark
should be quite fast.

I would be quite happy to share the results if we get it working.

Am I to understand that this work is currently regarded as wishlist for v
2.x ?

On 10/05/13 3:37 PM, &#34;Jens Rehsack via RT&#34; &lt;bug-SQL-Statement@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85174">https://rt.cpan.org/Ticket/Display.html?id=85174</a></span> &gt;
&gt; 
&gt; On Fri May 10 01:22:03 2013, randolph wrote:
<div class="message-stanza open">&gt;&gt; It appears that Parser.pm is not handling complex literals &#40;eg: date/time
&gt;&gt; and timestamp literals&#41;.
&gt;&gt; 
&gt;&gt; Specifically:
&gt;&gt; Select * from  lineitem
&gt;&gt; where l_shipdate &lt;= date &#39;1998-12-01&#39; - interval &#39;90&#39; day &#40;3&#41;
&gt;&gt; 
&gt;&gt; This is processed Parser.pm as
&gt;&gt; Â³Error: String ï¿½?0?Â¹ not allowed in numeric expression.
&gt;&gt; 
&gt;&gt; This is confirmed in SQL::Statement1.33 Â­ and I can see no references in the
&gt;&gt; change log to the problem.
</div>&gt; 
&gt; Well - I cannot remember patches regarding that.
&gt; 
<div class="message-stanza open">&gt;&gt; This is medium to high importance.
</div>&gt; 
&gt; Why? This is a feature request which is automatically &#34;wishlist&#34;.
&gt; 
<div class="message-stanza open">&gt;&gt; Thanks,
&gt;&gt; Randolph
</div>&gt; 
&gt; Cheers,
&gt; Jens
</div>

Randolph Pullen
Architect &#38; Co-Founder
DeepCloud
E: randolph@deepcloud.com.au
P: +61 42089 5221

www.DeepCloud.co
 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210227" href="/Public/Bug/Display.html?id=85174#txn-1210227">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;02:30:51&nbsp;2013</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210227/639002/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/639002">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 462b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is volunteer software - read: if something is business relevant, bring business to provide patches &#40;there is more than one way to do it ^^&#41;.

What does it mean? I want to create an SQL::Statement 2.0 - but to be true, I see this for Perl6 instead of Perl5. And I don&#39;t see v2 this year &#40;I&#39;m neither sure if I see it next year&#41;.

For sure it would be great if SQL::Statement could run the TPC-H benchmark - but I fear this will not happen soon.

Cheers,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210230" href="/Public/Bug/Display.html?id=85174#txn-1210230">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;02:38:30&nbsp;2013</span>
    <span class="description">randolph [...] deepcloud.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #85174] Complex Literals</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 May 2013 16:38:09 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-SQL-Statement [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Randolph Pullen &lt;randolph [...] deepcloud.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210230/639005/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/639005">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 902b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I might have a look at it myself then.

My quick inspection suggested that the subs:
LITERAL,LITERAL_LIST and ROW_VALUE are implicated....
Any tips?

On 10/05/13 4:30 PM, &#34;Jens Rehsack via RT&#34; &lt;bug-SQL-Statement@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85174">https://rt.cpan.org/Ticket/Display.html?id=85174</a></span> &gt;
&gt; 
&gt; This is volunteer software - read: if something is business relevant, bring
&gt; business to provide patches &#40;there is more than one way to do it ^^&#41;.
&gt; 
&gt; What does it mean? I want to create an SQL::Statement 2.0 - but to be true, I
&gt; see this for Perl6 instead of Perl5. And I don&#39;t see v2 this year &#40;I&#39;m neither
&gt; sure if I see it next year&#41;.
&gt; 
&gt; For sure it would be great if SQL::Statement could run the TPC-H benchmark -
&gt; but I fear this will not happen soon.
&gt; 
&gt; Cheers,
&gt; Jens
</div>

Randolph Pullen
Architect &#38; Co-Founder
DeepCloud
E: randolph@deepcloud.com.au
P: +61 42089 5221

www.DeepCloud.co
 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1210237" href="/Public/Bug/Display.html?id=85174#txn-1210237">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;02:42:41&nbsp;2013</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1210237/639011/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/639011">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 10 02:38:30 2013, randolph wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I might have a look at it myself then.
</div>
Good idea. Please ensure to have a test ready ...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My quick inspection suggested that the subs:
&gt; LITERAL,LITERAL_LIST and ROW_VALUE are implicated....
&gt; Any tips?
</div>
SQL::Parser has a lot of internal side effects.
Be very careful - but good luck.

Best tip: join irc://irc.perl.org/#dbi

Cheers

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 10/05/13 4:30 PM, &#34;Jens Rehsack via RT&#34; &lt;bug-SQL-
&gt; Statement@rt.cpan.org&gt;
&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=85174">https://rt.cpan.org/Ticket/Display.html?id=85174</a></span> &gt;
&gt; &gt;
&gt; &gt; This is volunteer software - read: if something is business
</div>&gt; relevant, bring
<div class="message-stanza open">&gt; &gt; business to provide patches &#40;there is more than one way to do it
</div>&gt; ^^&#41;.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; What does it mean? I want to create an SQL::Statement 2.0 - but to
</div>&gt; be true, I
<div class="message-stanza open">&gt; &gt; see this for Perl6 instead of Perl5. And I don&#39;t see v2 this year
</div>&gt; &#40;I&#39;m neither
<div class="message-stanza open">&gt; &gt; sure if I see it next year&#41;.
&gt; &gt;
&gt; &gt; For sure it would be great if SQL::Statement could run the TPC-H
</div>&gt; benchmark -
<div class="message-stanza open">&gt; &gt; but I fear this will not happen soon.
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt; Jens
</div>&gt; 
&gt; 
&gt; Randolph Pullen
&gt; Architect &#38; Co-Founder
&gt; DeepCloud
&gt; E: randolph@deepcloud.com.au
&gt; P: +61 42089 5221
&gt; 
&gt; www.DeepCloud.co
&gt; 
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1231874" href="/Public/Bug/Display.html?id=85174#txn-1231874">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;01:06:16&nbsp;2013</span>
    <span class="description">randolph [...] deepcloud.com.au - Ticket #86693:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug #85174 for SQL-Statement: Complex Literals</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 04 Jul 2013 15:05:53 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-SQL-Statement [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Randolph Pullen &lt;randolph [...] deepcloud.com.au&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1231874/650937/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/650937">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">A simple solution for this bug is to implement a strict reporting switch in
the parser instantiation method
ie:
 $self-&gt;{strict} =1;

This can be overridden by users  wanting less stringent checking of columns
like date and interval.
All other  users will see no difference.

The minor changes required are only in subs new , ROW_VALUE and IDENTIFIER
as shown below.
ie:
   if &#40;&#40;$self-&gt;{opts}-&gt;{reserved_words}-&gt;{$id}&#41; and &#40;$self-&gt;{strict}&gt;0&#41;&#41;

#############################
# PUBLIC METHODS
#############################

sub new
{
    my $class = shift;
    my $dialect = shift || &#39;ANSI&#39;;
    $dialect = &#39;ANSI&#39; if &#40; uc $dialect eq &#39;ANSI&#39; &#41;;
    $dialect = &#39;AnyData&#39; if &#40; &#40; uc $dialect eq &#39;ANYDATA&#39; &#41; or &#40; uc $dialect
eq &#39;CSV&#39; &#41; &#41;;
    $dialect = &#39;AnyData&#39; if &#40; $dialect eq &#39;SQL::Eval&#39; &#41;;

    my $flags = shift || {};
    $flags-&gt;{dialect} = $dialect;
    $flags-&gt;{PrintError} = 1 unless &#40; defined&#40; $flags-&gt;{PrintError} &#41; &#41;;

    my $self = bless&#40; $flags, $class &#41;;
    $self-&gt;dialect&#40; $self-&gt;{dialect} &#41;;
    $self-&gt;set_feature_flags&#40; $self-&gt;{select}, $self-&gt;{create} &#41;;

    $self-&gt;LOAD&#40;&#39;LOAD SQL::Statement::Functions&#39;&#41;;
    $self-&gt;{strict} =1;

    return $self;
}






###################################################################
# ROW_VALUE ::= &lt;literal&gt; | &lt;column_name&gt;
###################################################################
sub ROW_VALUE
{
    my &#40; $self, $str &#41; = @_;

...

    my @newvalues;
        foreach my $val &#40;@vals&#41;
        {
            my $newval = $self-&gt;ROW_VALUE&#40;$val&#41;;
            if &#40;&#40; $newval &#38;&#38; $newval-&gt;{type} !~
m/number|column|placeholder|function/ &#41; and &#40;$self-&gt;{strict}&gt;0&#41;&#41;
            {
                return $self-&gt;do_err&#40;qq[String &#39;$val&#39; not allowed in Numeric
expression!]&#41;;

            }
            push&#40; @newvalues, $newval &#41;;
        }

        return {
                 type    =&gt; &#39;function&#39;,
                 name    =&gt; &#39;numeric_exp&#39;,
                 str     =&gt; $str,
                 value   =&gt; \@newvalues,
                 fullorg =&gt; $orgstr,
               };
    }



###################################################################
# IDENTIFIER ::= &lt;alphabetic_char&gt; { &lt;alphanumeric_char&gt; | _ }...
#
# and must not be a reserved word or over 128 chars in length
###################################################################
sub IDENTIFIER
{
    my &#40; $self, $id &#41; = @_;
    if &#40; $id =~ m/^\?QI&#40;.+&#41;\?$/ &#41;
    {
        return 1;
    }
    if &#40; $id =~ m/^&#40;.+&#41;\.&#40;[^\.]+&#41;$/ &#41;
    {
        my $schema = $1;    # ignored
        $id = $2;
    }
    return 1 if $id =~ m/^&#34;.+?&#34;$/s;    # QUOTED IDENTIFIER
    my $err = &#34;Bad table or column name: &#39;$id&#39; &#34;;    # BAD CHARS
    if &#40; $id =~ /\W/ &#41;
    {
        $err .= &#34;has chars not alphanumeric or underscore!&#34;;
        return $self-&gt;do_err&#40;$err&#41;;
    }
    # CSV requires optional start with _
    my $badStartRx = uc&#40; $self-&gt;{dialect} &#41; eq &#39;ANYDATA&#39; ? qr/^\d/ :
qr/^[_\d]/;
    if &#40; $id =~ $badStartRx &#41;
    {                                                # BAD START
        $err .= &#34;starts with non-alphabetic character!&#34;;
        return $self-&gt;do_err&#40;$err&#41;;
    }
    if &#40; length $id &gt; 128 &#41;
    {                                                # BAD LENGTH
        $err .= &#34;contains more than 128 characters!&#34;;
        return $self-&gt;do_err&#40;$err&#41;;
    }
    $id = uc $id;
    if &#40;&#40;$self-&gt;{opts}-&gt;{reserved_words}-&gt;{$id}&#41; and &#40;$self-&gt;{strict}&gt;0&#41;&#41;
    {                                                # BAD RESERVED WORDS
        $err .= &#34;is a SQL reserved word!&#34;;
        return $self-&gt;do_err&#40;$err&#41;;
    }
    return 1;
}
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1231874/650938/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/650938">with headers</a>
<br />
<span class="downloadcontenttype">text/html 7.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1231878" href="/Public/Bug/Display.html?id=85174#txn-1231878">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;01:18:51&nbsp;2013</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #86693:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1231878/650942/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/650942">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 287b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Randolph,

I&#39;m a bit busy at the moment.

If you want to act me quick, please provide:
1&#41; a test case demonstrating the problem
2&#41; a unified diff showing your proposed solution

You can go to <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-dbi">https://github.com/perl5-dbi</a></span> and pick the SQL-Statement repository from there.

Cheers,
Jens
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1231879" href="/Public/Bug/Display.html?id=85174#txn-1231879">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;04&nbsp;01:18:52&nbsp;2013</span>
    <span class="description">The RT System itself - Ticket #86693:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440750" href="/Public/Bug/Display.html?id=85174#txn-1440750">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;04:32:24&nbsp;2014</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #86693:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1440750/765913/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765913">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 72b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Are you still interested to get it in? Then please send patch with test.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440753" href="/Public/Bug/Display.html?id=85174#txn-1440753">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;04:32:25&nbsp;2014</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #86693:  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440754" href="/Public/Bug/Display.html?id=85174#txn-1440754">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;04:34:09&nbsp;2014</span>
    <span class="description">REHSACK [...] cpan.org - Ticket #86693:  Merged into ticket #85174</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440755" href="/Public/Bug/Display.html?id=85174#txn-1440755">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;04:34:09&nbsp;2014</span>
    <span class="description">REHSACK [...] cpan.org -  Merged into ticket #85174</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1440818" href="/Public/Bug/Display.html?id=85174#txn-1440818">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;06:51:06&nbsp;2014</span>
    <span class="description">randolph [...] deepcloud.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #86693] Bug #85174 for SQL-Statement: Complex Literals</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 10 Dec 2014 22:50:44 +1100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-SQL-Statement [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Randolph Pullen &lt;randolph [...] deepcloud.com.au&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1440818/765982/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765982">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 647b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have a modified version of 1.33 that fixes this by ignoring the generated
error.

If you want I could forward this tiny change for incorporation in later
releases otherwise I will just distribute my modified code as is.

I am not currently in a position to make delta&#39;s or test scripts.

Regards,
Randolph


On 10/12/14 8:32 PM, &#34;Jens Rehsack via RT&#34; &lt;bug-SQL-Statement@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=86693">https://rt.cpan.org/Ticket/Display.html?id=86693</a></span> &gt;
&gt; 
&gt; Are you still interested to get it in? Then please send patch with test.
</div>

Randolph Pullen
Architect &#38; Founder
DeepCloud
E: randolph@deepcloud.com.au
P: +61 42089 5221

www.DeepCloud.co
 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1500240" href="/Public/Bug/Display.html?id=85174#txn-1500240">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;03:45:04&nbsp;2015</span>
    <span class="description">REHSACK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.706133</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
