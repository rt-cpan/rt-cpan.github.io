<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #82925 for Ask: Better i18n</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #82925 for Ask: Better i18n</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Ask/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Ask/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Ask/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Ask/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Ask">Ask CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">82925</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Ask/Active/">Ask</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">perl [...] toby.ink
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
daxim [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-247086-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.006    </td>
  </tr>
  <tr id="CF-247087-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




yesno<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1189011/627216/yesno">
Fri Mar 08 09:03:51 2013 (83.2k) by daxim [...] cpan.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/1188651/627029/yesno">
Thu Mar 07 04:30:16 2013 (65.9k) by daxim [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;24&nbsp;02:56:05&nbsp;2013</span>
    <span class="description">daxim [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> hardcoded answer patterns</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Instead of hardcoding your own &#34;no/cancel&#34; strings which only work for 
English, use the I18N::Langinfo core module.

$ for l in de_AT.UTF-8 he_IL.UTF-8 ja_JP.UTF-8 ru_RU.UTF-8 
zh_TW.UTF-8 ; do LANG=$l perl -MI18N::Langinfo=langinfo,YESEXPR,NOEXPR -
MData::Dumper -E&#39;say Dumper [map { langinfo $_ } YESEXPR, NOEXPR]&#39; ; 
done
$VAR1 = [
          &#39;^[jJyY].*&#39;,
          &#39;^[nN].*&#39;
        ];

$VAR1 = [
          &#39;^[Yyכ].*&#39;,
          &#39;^[Nnל].*&#39;
        ];

$VAR1 = [
          &#39;^&#40;[yYｙＹ]|はい|ハイ&#41;&#39;,
          &#39;^&#40;[nNｎＮ]|いいえ|イイエ&#41;&#39;
        ];

$VAR1 = [
          &#39;^[ДдYy].*&#39;,
          &#39;^[НнNn].*&#39;
        ];

$VAR1 = [
          &#39;^[yY是]&#39;,
          &#39;^[nN不否]&#39;
        ];
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;24&nbsp;10:21:00&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-01-24T07:56:05Z, DAXIM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Instead of hardcoding your own &#34;no/cancel&#34; strings which only work
&gt; for English, use the I18N::Langinfo core module.
</div>
I agree in principle, but have some concerns.

However, if the question is framed in English, it might be surprising 
to be expected to answer in another language, even if that language is 
your preferred language.

In something like German, that might not be a problem; answers 
beginning with &#34;J&#34; or &#34;Y&#34; can be interpreted as affirmative answers, 
and &#34;N&#34; as negative.

But with Polish, the word &#34;no&#34; is actually an answer in the 
affirmative!!

Something certainly needs to be done to improve Ask&#39;s i18n, but I&#39;m not 
sure this is the solution.

It is actually possible in current versions, but not documented to pass 
options to &#34;question&#34; to match answers:

my $response = question&#40;
  text   =&gt; &#34;Haben sie ein Schloss?&#34;,
  ok     =&gt; qr{^Ja\b}i,
  cancel =&gt; qr{^&#40;Nein\b|Kein\sSchloss&#41;}i,
&#41;;

The &#34;ok&#34;/&#34;cancel&#34; options can be regular expressions, arrayrefs, 
coderefs, or anything else that can appear on the right hand side of a 
smart match.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;24&nbsp;10:21:01&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;24&nbsp;10:21:11&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;25&nbsp;08:54:56&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perhaps...

my $response = question&#40;
  text   =&gt; &#34;Haben sie ein Schloss?&#34;,
  lang   =&gt; &#34;de&#34;,
&#41;;

For the OO-interface you could supply &#34;lang&#34; as an argument to the 
constructor to prevent having to repeat it every time you ask a question.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;05&nbsp;18:56:37&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve just released Lingua::Boolean::Tiny which will soon become an Ask 
dependency to solve this issue.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;06&nbsp;05:57:02&nbsp;2013</span>
    <span class="description">daxim [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But with Polish, the word &#34;no&#34; is actually an answer in the
&gt; affirmative!!
</div>
Everyone who has ever used a computer interface knows that &#34;t&#34; for tak 
and &#34;n&#34; for nie take precedence.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Lingua::Boolean::Tiny […] to solve this issue.
</div>I don&#39;t think so. If you don&#39;t like the restriction of locales, then 
why didn&#39;t you just dump and reuse the langinfo data? I&#39;m curious where 
you got the L::B::T translations from as the quality is awfully poor 
compared with I18N::Langinfo. I found the following problems within the 
first 10 minutes:

1. It treats an invalid input &#40;typoes!&#41; always as &#34;no&#34;, precluding any 
validation.
2. It does not accept &#34;j&#34;, only &#34;ja&#34;, but typically that sort of 
interface only needs the first letter/character, and also prompts that 
way.
3. It requires interpunction &#40;&#34;。&#34;&#41; for Chinese, but it&#39;s unheard of to 
reject answers that do not include interpunction, such as &#34;是&#34;.
4. It does not register &#34;否&#34;, but that&#39;s the standard answer which is 
used everywhere.
5. It accepts &#34;shi&#34;, but not &#34;dui&#34;.
6. There are only 12 languages, but

    locale -a|perl -lne&#39;next if /^C|POSIX/; s/_.*//; print&#39;|uniq -c|wc -
l

counts 164 languages, and of the 449 total locales 442 work with Perl&#39;s 
langinfo interface out of the box.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;06&nbsp;16:17:01&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-03-06T10:57:02Z, DAXIM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t think so. If you don&#39;t like the restriction of locales, then 
&gt; why didn&#39;t you just dump and reuse the langinfo data? 
</div>
I would if I could find it.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m curious where 
&gt; you got the L::B::T translations from as the quality is awfully poor 
&gt; compared with I18N::Langinfo.
</div>
Wiktionary mostly.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I found the following problems within the 
&gt; first 10 minutes:
&gt; 
&gt; 1. It treats an invalid input &#40;typoes!&#41; always as &#34;no&#34;, precluding 
</div>any 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; validation.
</div>
&#34;No&#34; returns 0. Invalid inputs return undef. This is documented.

If you need to distinguish between these cases, just use Perl&#39;s 
&#34;defined&#34; function. However, interpreting unknown input as &#34;no&#34; is 
fairly standard procedure. Compare with &#34;rm -i&#34;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2. It does not accept &#34;j&#34;, only &#34;ja&#34;, but typically that sort of 
&gt; interface only needs the first letter/character, and also prompts 
&gt; that way.
</div>
OK, I shall change that.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 3. It requires interpunction &#40;&#34;。&#34;&#41; for Chinese, but it&#39;s unheard of to 
&gt; reject answers that do not include interpunction, such as &#34;是&#34;.
&gt; 4. It does not register &#34;否&#34;, but that&#39;s the standard answer which is 
&gt; used everywhere.
&gt; 5. It accepts &#34;shi&#34;, but not &#34;dui&#34;.
</div>
I don&#39;t speak most of the languages supported by Lingua::Boolean::Tiny, 
so there&#39;s a bit of guesswork in there. Happy to make these changes.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 6. There are only 12 languages, but
&gt; 
&gt;     locale -a|perl -lne&#39;next if /^C|POSIX/; s/_.*//; print&#39;|uniq -c|
</div>wc -
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; l
&gt; 
&gt; counts 164 languages, and of the 449 total locales 442 work with 
&gt; Perl&#39;s langinfo interface out of the box.
</div>
On my system that lists two languages &#40;English and Chinese&#41;.

I did experiment with I18N::Langinfo as suggested, however I had 
difficulty selecting a locale at run-time, and found that for a locale 
to work properly, extra files needed to be installed, which I couldn&#39;t 
rely on.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;07&nbsp;04:30:16&nbsp;2013</span>
    <span class="description">daxim [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I would if I could find it.
</div>
    truncate -s 0 yesno ; for l in `locale -a` ; do
        LANG=$l perl -MI18N::Langinfo=langinfo,YESEXPR,NOEXPR,CODESET -
MData::Dumper -MEncode=decode,encode -E&#39;
            say &#34;✁&#34;x20;
            say $ENV{LANG};
            say for map { encode &#34;UTF-8&#34;, decode langinfo&#40;CODESET&#41;, 
langinfo $_ } YESEXPR, NOEXPR;
            say &#34;✃&#34;x20;
        &#39; &gt;&gt; yesno 2&gt;&#38;1 ;
    done

Output is attached.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Wiktionary mostly.
</div>
Mine proper computing dictionaries instead:
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.microsoft.com/Language/en-US/Terminology.aspx">http://www.microsoft.com/Language/en-US/Terminology.aspx</a></span>&gt;
&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://i18n.kde.org/dictionary/search-translations.php">http://i18n.kde.org/dictionary/search-translations.php</a></span>&gt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On my system that lists two languages
</div>You need to repair your locales then in order to redump them yourself. 
The attached list should be good for some time, though.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> yesno</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1188651/627029/yesno">Download yesno</a><br />
<span class="downloadcontenttype">application/octet-stream 65.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;08&nbsp;01:51:36&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-03-07T09:30:16Z, DAXIM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Output is attached.
</div>
Thanks, this will be helpful.

Could you please also add YESSTR and NOSTR, as these would be useful for 
displaying questions like:

   print &#34;$question [$yesstr/$nostr]\n&#34;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;08&nbsp;09:03:50&nbsp;2013</span>
    <span class="description">daxim [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ rpm -qi glibc-locale | ack Version
Version     : 2.16



truncate -s 0 yesno ;
for l in $&#40;locale -a&#41; ; do LANG=$l perl \
    -MI18N::Langinfo=langinfo,CODESET,YESEXPR,NOEXPR,YESSTR,NOSTR \
    -MEncode=encode,decode,resolve_alias -MIPC::Run3=run3 -Mutf8 -E&#39;
        sub _decode {
            my &#40;$encoding, $val&#41; = @_;
            if &#40;resolve_alias&#40;$encoding&#41;&#41; {
                return decode $encoding, $val;
            } else {
                my $out;
                run3 [qw&#40;iconv -f&#41;, $encoding, qw&#40;-t UTF-8 -&#41;], \$val, 
\$out;
                return decode &#34;UTF-8&#34;, $out;
            }
        }
        my @val = map {
            _decode&#40;langinfo&#40;CODESET&#41;, langinfo&#40;$_&#41;&#41;
        } YESEXPR, NOEXPR, YESSTR, NOSTR;
        say encode &#34;UTF-8&#34;, sprintf &lt;&lt;&#34;&#34;, $ENV{LANG}, @val;
✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁✁
LANG=%s
YESEXPR=%s
NOEXPR=%s
YESSTR=%s
NOSTR=%s
✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃✃

        &#39; &gt;&gt; yesno 2&gt;&#38;1 ;
done




Alternatively, clone git://sourceware.org/git/glibc.git and parse 
localedata/locales/* to extract the LC_MESSAGES blocks. I&#39;m going to 
file a bug with glibc bugzilla to bring attention to the spotty 
coverage.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> yesno</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1189011/627216/yesno">Download yesno</a><br />
<span class="downloadcontenttype">application/octet-stream 83.2k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;08&nbsp;17:37:45&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, I&#39;ve translated all that to Perl

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/tobyink/p5-lingua-boolean-tiny/commit/">https://github.com/tobyink/p5-lingua-boolean-tiny/commit/</a></span>
fb1e0ac4aa52285a709700e5e5dc1c1c04d80c1d

&#40;Beware: that takes frickin ages to load in my browser!&#41;

This should appear in Lingua::Boolean::Tiny 0.002 in the next few days.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;18&nbsp;11:27:11&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Better i18n</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ask-0.007 uses Lingua::Boolean::Tiny to interpret answers.

However, there&#39;s still a long way to go i18n-wise. There are tonnes of hard-coded English strings.

So I&#39;ll keep this bug open as a general place for tracking i18n.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;18&nbsp;11:35:29&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Subject changed from &#39;hardcoded answer patterns&#39; to &#39;Better i18n&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;20&nbsp;17:53:39&nbsp;2013</span>
    <span class="description">perl [...] toby.ink -  Reference by http://questhub.io/realm/perl/quest/5134635b8e0a96440f00002c added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
