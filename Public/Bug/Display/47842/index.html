<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #47842 for List-MoreUtils: List::MoreUtils-0.23 fails 2128 tests</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #47842 for List-MoreUtils: List::MoreUtils-0.23 fails 2128 tests</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=List-MoreUtils">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=List-MoreUtils">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=List-MoreUtils">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=List-MoreUtils">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/List-MoreUtils">List-MoreUtils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">47842</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=List-MoreUtils">List-MoreUtils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
david [...] davidfavor.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19166-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-19167-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




MoreUtils.stackfix.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/633014/322466/MoreUtils.stackfix.diff">
Tue Jul 14 21:11:50 2009 (6.7k) by chip [...] pobox.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=47842">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-632342" href="/Public/Bug/Display.html?id=47842#txn-632342">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;13&nbsp;15:24:04&nbsp;2009</span>
    <span class="description">david [...] davidfavor.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 13 Jul 2009 14:23:39 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-MoreUtils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Favor &lt;david [...] davidfavor.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/632342/322041/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322041">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
t/List-MoreUtils.t .. Failed 2128/2173 subtests

Test Summary Report
-------------------
t/List-MoreUtils.t &#40;Wstat: 11 Tests: 45 Failed: 0&#41;
   Non-zero wait status: 11
   Parse errors: Bad plan.  You planned 2173 tests but ran 45.
Files=1, Tests=45,  0 wallclock secs &#40; 0.04 usr  0.00 sys +  0.12 cusr  0.01 csys =  0.17 CPU&#41;
Result: FAIL
Failed 1/1 test programs. 0/45 subtests failed.
net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;1, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
t/List-MoreUtils.t ..
1..2173
# Running under perl version 5.010000 for linux
# Current time local: Mon Jul 13 14:20:20 2009
# Current time GMT:   Mon Jul 13 19:20:20 2009
# Using Test.pm version 1.25_02
ok 1
ok 2
ok 3
ok 4
ok 5
ok 6
ok 7
ok 8
ok 9
ok 10
ok 11
ok 12
ok 13
ok 14
ok 15
ok 16
ok 17
ok 18
ok 19
ok 20
ok 21
ok 22
ok 23
ok 24
ok 25
ok 26
ok 27
ok 28
ok 29
ok 30
ok 31
ok 32
ok 33
ok 34
ok 35
ok 36
ok 37
ok 38
ok 39
ok 40
ok 41
ok 42
ok 43
ok 44
ok 45
Failed 2128/2173 subtests

Test Summary Report
-------------------
t/List-MoreUtils.t &#40;Wstat: 11 Tests: 45 Failed: 0&#41;
   Non-zero wait status: 11
   Parse errors: Bad plan.  You planned 2173 tests but ran 45.
Files=1, Tests=45,  1 wallclock secs &#40; 0.04 usr  0.01 sys +  0.12 cusr  0.01 csys =  0.18 CPU&#41;
Result: FAIL
Failed 1/1 test programs. 0/45 subtests failed.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_______

net2#perl -V
Summary of my perl5 &#40;revision 5 version 10 subversion 0&#41; configuration:
   Commit id: e6a79cbbfdae09502004811a43d5005c482e3b25
   Platform:
     osname=linux, osvers=2.6.27.21-170.2.56.fc10.i686, archname=i686-linux-thread-multi
     uname=&#39;linux net2.coolsurf.com 2.6.27.21-170.2.56.fc10.i686 #1 smp mon mar 23 23:37:54 edt 2009 
i686 i686 i386 gnulinux &#39;
     config_args=&#39;-Dprefix=/runtime/perl-5.10.0-1572 -ders -Dusedevel -Dcf_by=David Favor 
-Dcf_email=david@davidfavor.com -Dperladmin=david@davidfavor.com -Dcc=gcc -Doptimize=-O2 -pipe -Wall 
-Wp,-D_FORTIFY_SOURCE=2 -fexceptions --param=ssp-buffer-size=4 -m32 -fstack-protector -mtune=generic 
  -Dloclibpth=/usr/local/lib -Dlocincpth=/usr/local/include -Duseshrplib -Dusethreads -Uuseithreads 
-Duselargefiles -Dd_dosuid -Dd_semctl_semun 
-Dotherlibdirs=/runtime/pmlib:/common/pmlib:/usr/local/pmlib -Ui_db -Ui_ndbm -Di_gdbm -Di_shadow 
-Di_syslog -Dman3ext=3pm -Duseperlio -Dinstallusrbinperl=n -Ubincompat5005 -Uversiononly 
-Dpager=/usr/bin/less -Dd_gethostent_r_proto -Ud_endhostent_r_proto -Ud_sethostent_r_proto 
-Ud_endprotoent_r_proto -Ud_setprotoent_r_proto -Ud_endservent_r_proto -Ud_setservent_r_proto&#39;
     hint=recommended, useposix=true, d_sigaction=define
     useithreads=define, usemultiplicity=define
     useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
     use64bitint=undef, use64bitall=undef, uselongdouble=undef
     usemymalloc=n, bincompat5005=undef
   Compiler:
     cc=&#39;gcc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector 
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
     optimize=&#39;-O2 -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions --param=ssp-buffer-size=4 -m32 
-fstack-protector -mtune=generic &#39;,
     cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector 
-I/usr/local/include&#39;
     ccversion=&#39;&#39;, gccversion=&#39;4.3.2 20081105 &#40;Red Hat 4.3.2-7&#41;&#39;, gccosandvers=&#39;&#39;
     intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
     d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
     ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
     alignbytes=4, prototype=define
   Linker and Libraries:
     ld=&#39;gcc&#39;, ldflags =&#39; -fstack-protector -L/usr/local/lib&#39;
     libpth=/usr/local/lib /lib /usr/lib
     libs=-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lpthread -lc
     perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
     libc=/lib/libc-2.9.so, so=so, useshrplib=true, libperl=libperl.so
     gnulibc_version=&#39;2.9&#39;
   Dynamic Linking:
     dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E 
-Wl,-rpath,/runtime/perl-5.10.0-1572/lib/5.10.0/i686-linux-thread-multi/CORE&#39;
     cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions 
--param=ssp-buffer-size=4 -m32 -fstack-protector -mtune=generic  -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
   Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                         PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP PERL_USE_DEVEL
                         USE_ITHREADS USE_LARGE_FILES USE_PERLIO
                         USE_REENTRANT_API
   Built under linux
   Compiled at Jul 13 2009 11:30:17
   @INC:
     /runtime/perl-5.10.0-1572/lib/5.10.0/i686-linux-thread-multi
     /runtime/perl-5.10.0-1572/lib/5.10.0
     /runtime/perl-5.10.0-1572/lib/site_perl/5.10.0/i686-linux-thread-multi
     /runtime/perl-5.10.0-1572/lib/site_perl/5.10.0
     /runtime/pmlib
     /common/pmlib
     /usr/local/pmlib
     .


-- 
Love feeling your best ever, all day, every day?
Click <span class="clickylink"><a target="new" rel="nofollow" href="http://RadicalHealth.com/join">http://RadicalHealth.com/join</a></span> for the easy way.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-632788" href="/Public/Bug/Display.html?id=47842#txn-632788">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;14&nbsp;10:50:41&nbsp;2009</span>
    <span class="description">Marek.Rouchal [...] gmx.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/632788/322328/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322328">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Very similar here - the t/List-MoreUtils.t bombs out with a segmentation
fault after &#34;ok 45&#34;. This was observed on Solaris 10 Sparc and x86, and
RedHat Enterprise Linux 3.0 with perl-5.8.8 - details see below.

-Marek


Summary of my perl5 &#40;revision 5 version 8 subversion 8&#41; configuration:
  Platform:
    osname=linux, osvers=2.4.21-50.elsmp, archname=i686-linux
    uname=&#39;linux kiew079 2.4.21-50.elsmp #1 smp tue may 8 17:18:29 edt
2007 i686 i686 i386 gnulinux &#39;
    config_args=&#39;-Dprefix=/opt/perl_5.8.8 -Dmydomain=.muc.infineon.com
-Dcf_email=perl@muc.infineon.com -Uinstallusrbinperl
-Dperlpath=/opt/perl_5.8.8/bin/perl
-Dinstallman1dir=/opt/perl_5.8.8/man/man1
-Dman1dir=/opt/perl_5.8.8/man/man1
-Dinstallman3dir=/opt/perl_5.8.8/man/man3
-Dman3dir=/opt/perl_5.8.8/man/man3 -Dperladmin=perl@muc.infineon.com
-Dprivlib=/opt/perl_5.8.8/lib -Darchlib=/opt/perl_5.8.8/lib
-Dsitelib=/opt/perl_5.8.8/lib -Dsitearch=/opt/perl_5.8.8/lib
-Dscriptdir=/opt/perl_5.8.8/bin -Dsitescript=/opt/perl_5.8.8/bin
-Ubincompat5005 -Dlibperl=libperlifx.so -Dcc=gcc
-Dldflags=-Wl,-rpath,/opt/perl_5.8.8/ext/lib -Dbin=/opt/perl_5.8.8/bin
-Dbinexp=/opt/perl_5.8.8/bin -Dsitebin=/opt/perl_5.8.8/bin
-Dlocincpth=/opt/perl_5.8.8/ext/include
-Dloclibpth=/opt/perl_5.8.8/ext/lib -Dglibpth=/usr/lib /lib -Duseshrplib
-Uusethreads -Dpager=/usr/bin/less -Dsed=/bin/sed -Doptimize=-O2
-march=pentium4 -Dlddlflags=-shared -Wl,-rpath,/opt/perl_5.8.8/ext/lib -de&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=undef use5005threads=undef useithreads=undef
usemultiplicity=undef
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39;-m32 -fno-strict-aliasing -pipe
-Wdeclaration-after-statement -I/opt/perl_5.8.8/ext/include
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm&#39;,
    optimize=&#39;-O2 -march=pentium4&#39;,
    cppflags=&#39;-fno-strict-aliasing -pipe -Wdeclaration-after-statement
-I/opt/perl_5.8.8/ext/include -I/usr/include/gdbm&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39;-m32 -Wl,-rpath,/opt/perl_5.8.8/ext/lib
-L/opt/perl_5.8.8/ext/lib&#39;
    libpth=/opt/perl_5.8.8/ext/lib /usr/lib /lib
    libs=-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lc
    libc=/lib/libc-2.3.2.so, so=so, useshrplib=true, libperl=libperlifx.so
    gnulibc_version=&#39;2.3.2&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E
-Wl,-rpath,/opt/perl_5.8.8/lib/CORE&#39;
    cccdlflags=&#39;-fpic&#39;, lddlflags=&#39;-m32 -shared
-Wl,-rpath,/opt/perl_5.8.8/ext/lib -L/opt/perl_5.8.8/ext/lib&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: PERL_MALLOC_WRAP USE_LARGE_FILES USE_PERLIO
  Built under linux
  Compiled at Jul  4 2007 09:11:08
  @INC:
    /opt/perl_5.8.8/lib
    .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-632789" href="/Public/Bug/Display.html?id=47842#txn-632789">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;14&nbsp;10:50:43&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-632792" href="/Public/Bug/Display.html?id=47842#txn-632792">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;14&nbsp;10:59:15&nbsp;2009</span>
    <span class="description">nwc10+please+use+perlbug+for+perl+queries [...] colon.colondot.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> robin.houston [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/632792/322331/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322331">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I find that a minimal test case is
perl -Mblib -MList::MoreUtils=apply -lwe &#39;my @list  = &#40;0 .. 4&#41;; my
@list1 = apply { $_++ } @list; print foreach @list1&#39;

I can fix it like this:

--- MoreUtils.xs.orig   2009-07-12 22:40:57.000000000 +0100
+++ MoreUtils.xs        2009-07-14 15:44:08.000000000 +0100
@@ -628,15 +628,14 @@
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
     SAVESPTR&#40;GvSV&#40;PL_defgv&#41;&#41;;
            
     for&#40;i = 1 ; i &lt; items ; ++i&#41; {
        GvSV&#40;PL_defgv&#41; = newSVsv&#40;args[i]&#41;;
        MULTICALL;
-        args = &#38;PL_stack_base[ax];
        args[i-1] = GvSV&#40;PL_defgv&#41;;
     }
     POP_MULTICALL;
 
     done:
     XSRETURN&#40;items-1&#41;;
 }


What seems to be going wrong is that PL_stack_base is being changed by
the code invoked inside PUSH_MULTICALL&#40;cv&#41;. That it could change isn&#39;t
completely surprising. What is more surprising is that this is the first
bug it seems to have triggered. Hence I assume that that line,
re-assigning to args, is wrong. &#40;Cc to Robin in case he can shed some
light on this&#41;

apply seems to be the only XS code that has this construction in.

Also, shouldn&#39;t the newSVsv&#40;...&#41; be made into a mortal? Right now, to
me, it looks like a non-mortal is being pushed onto the stack, meaning
that each iteration round that loop will be creating a scalar that
leaks. &#40;Well, until global destruction&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-632817" href="/Public/Bug/Display.html?id=47842#txn-632817">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;14&nbsp;12:01:37&nbsp;2009</span>
    <span class="description">vparseval [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47842] List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 14 Jul 2009 12:01:05 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-MoreUtils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tassilo von Parseval &lt;vparseval [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/632817/322343/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322343">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Jul 14, 2009 at 10:59 AM, Nicholas Clark via
RT&lt;bug-List-MoreUtils@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: List-MoreUtils
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt;
&gt; I find that a minimal test case is
&gt; perl -Mblib -MList::MoreUtils=apply -lwe &#39;my @list  = &#40;0 .. 4&#41;; my
&gt; @list1 = apply { $_++ } @list; print foreach @list1&#39;
&gt;
&gt; I can fix it like this:
&gt;
&gt; --- MoreUtils.xs.orig   2009-07-12 22:40:57.000000000 +0100
&gt; +++ MoreUtils.xs        2009-07-14 15:44:08.000000000 +0100
&gt; @@ -628,15 +628,14 @@
&gt;     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
&gt;     PUSH_MULTICALL&#40;cv&#41;;
&gt;     SAVESPTR&#40;GvSV&#40;PL_defgv&#41;&#41;;
&gt;
&gt;     for&#40;i = 1 ; i &lt; items ; ++i&#41; {
&gt;        GvSV&#40;PL_defgv&#41; = newSVsv&#40;args[i]&#41;;
&gt;        MULTICALL;
&gt; -        args = &#38;PL_stack_base[ax];
&gt;        args[i-1] = GvSV&#40;PL_defgv&#41;;
&gt;     }
&gt;     POP_MULTICALL;
&gt;
&gt;     done:
&gt;     XSRETURN&#40;items-1&#41;;
&gt;  }
</div>
Unfortunately the line that you removed happens to be the fix for
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=38630">https://rt.cpan.org/Ticket/Display.html?id=38630</a></span> as submitted by the
requestor. :-&#41; I may have to go back to the drawing board here.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What seems to be going wrong is that PL_stack_base is being changed by
&gt; the code invoked inside PUSH_MULTICALL&#40;cv&#41;. That it could change isn&#39;t
&gt; completely surprising. What is more surprising is that this is the first
&gt; bug it seems to have triggered. Hence I assume that that line,
&gt; re-assigning to args, is wrong. &#40;Cc to Robin in case he can shed some
&gt; light on this&#41;
&gt;
&gt; apply seems to be the only XS code that has this construction in.
&gt;
&gt; Also, shouldn&#39;t the newSVsv&#40;...&#41; be made into a mortal? Right now, to
&gt; me, it looks like a non-mortal is being pushed onto the stack, meaning
&gt; that each iteration round that loop will be creating a scalar that
&gt; leaks. &#40;Well, until global destruction&#41;
</div>
Hard to say. I will have to look at the memory consumption more
closely by running it under valgrind. At this point, I don&#39;t recall
apply being leaky. Then again, I don&#39;t recall it segfaulting on the
test-suite either. ;-&#41;

Cheers,
Tassilo
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-633014" href="/Public/Bug/Display.html?id=47842#txn-633014">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;14&nbsp;21:11:50&nbsp;2009</span>
    <span class="description">chip [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PATCH] List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> chip [...] pobox.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/633014/322463/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322463">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 544b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 13 15:24:04 2009, david@davidfavor.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-
&gt; MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
&gt; t/List-MoreUtils.t .. Failed 2128/2173 subtests
</div>
The attached patch fixes this for me.  It involves making a copy of the
argument portion of the stack.  There may be a way to grab it from the
CX stack intead, but that might be slower in the long term.

There is also a remaining memory leak in the code, but it seems unrelated.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/633014/322466/MoreUtils.stackfix.diff">Download MoreUtils.stackfix.diff</a><br />
<span class="downloadcontenttype">text/x-diff 6.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- MoreUtils.xs.orig	2009-07-12 14:40:57.000000000 -0700
+++ MoreUtils.xs	2009-07-14 17:31:31.000000000 -0700
@@ -156,4 +156,14 @@
 #define FUNC_NAME GvNAME&#40;GvEGV&#40;ST&#40;items&#41;&#41;&#41;
 
+#define COPY_ARGS \
+    Newx&#40;args, items+1, SV*&#41;;		\
+    Copy&#40;&#38;ST&#40;0&#41;, args, items+1, SV*&#41;;	\
+    SAVEFREEPV&#40;args&#41;;
+
+#define CLAWBACK_ARGS \
+    EXTEND&#40;SP, items+1&#41;;		\
+    Copy&#40;args, &#38;ST&#40;0&#41;, items+1, SV*&#41;;
+
+
 inline static int 
 in_pad &#40;const char *name, SV *code&#41; {
@@ -201,5 +211,5 @@
 	for &#40;i = 0; i &lt; items; i++&#41; {							\
             if &#40;!SvROK&#40;ST&#40;i&#41;&#41;&#41;                                                          \
-                croak&#40;&#34;Arguments to %s must be references&#34;, FUNC_NAME&#41;;              \
+                croak&#40;&#34;Arguments to %s must be references&#34;, FUNC_NAME&#41;;			\
 	    args-&gt;avs[i] = &#40;AV*&#41;SvRV&#40;ST&#40;i&#41;&#41;;						\
 	    SvREFCNT_inc&#40;args-&gt;avs[i]&#41;;							\
@@ -258,5 +268,5 @@
     HV *stash;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -264,4 +274,5 @@
 	XSRETURN_UNDEF;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -291,5 +302,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -297,4 +308,5 @@
 	XSRETURN_UNDEF;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -325,5 +337,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -331,4 +343,5 @@
 	XSRETURN_YES;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -358,5 +371,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -364,4 +377,5 @@
 	XSRETURN_UNDEF;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -392,5 +406,5 @@
     I32 gimme = G_SCALAR;
     I32 count = 0;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -398,4 +412,5 @@
 	goto done;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -428,5 +443,5 @@
     I32 gimme = G_SCALAR;
     I32 count = 0;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -434,4 +449,5 @@
 	goto done;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -463,5 +479,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -469,4 +485,5 @@
     
     if &#40;items &gt; 1&#41; {
+	COPY_ARGS;
 	cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
 	PUSH_MULTICALL&#40;cv&#41;;
@@ -498,5 +515,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -504,4 +521,5 @@
     
     if &#40;items &gt; 1&#41; {
+	COPY_ARGS;
 	cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
 	PUSH_MULTICALL&#40;cv&#41;;
@@ -620,5 +638,5 @@
     I32 gimme = G_SCALAR;
     CV *cv;
-    SV **args = &#38;PL_stack_base[ax];	
+    SV **args;
     I32 count = 0;
     
@@ -626,4 +644,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -633,8 +652,8 @@
 	GvSV&#40;PL_defgv&#41; = newSVsv&#40;args[i]&#41;;
 	MULTICALL;
-        args = &#38;PL_stack_base[ax];
 	args[i-1] = GvSV&#40;PL_defgv&#41;;
     }
     POP_MULTICALL;
+    CLAWBACK_ARGS;
 
     done:
@@ -654,9 +673,10 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
 
     if &#40;items &lt;= 1&#41;
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -674,5 +694,5 @@
 
     for &#40;j = i + 1; j &lt; items; ++j&#41;
-	args[j-i-1] = args[j];
+	ST&#40;j-i-1&#41; = args[j];
 
     XSRETURN&#40;items-i-1&#41;;
@@ -691,9 +711,10 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
 
     if &#40;items &lt;= 1&#41;
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -711,5 +732,5 @@
 
     for &#40;j = i; j &lt; items; j++&#41;
-	args[j-i] = args[j];
+	ST&#40;j-i&#41; = args[j];
 
     XSRETURN&#40;items-i&#41;;
@@ -727,5 +748,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
     
@@ -733,4 +754,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -747,4 +769,5 @@
 
     POP_MULTICALL;
+    CLAWBACK_ARGS;
 
     XSRETURN&#40;i-1&#41;;
@@ -762,5 +785,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -768,4 +791,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -783,4 +807,5 @@
 
     POP_MULTICALL;
+    CLAWBACK_ARGS;
 
     XSRETURN&#40;i-1&#41;;
@@ -798,5 +823,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -804,4 +829,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -820,5 +846,5 @@
 
     for &#40;i = 0; i &lt; j; ++i&#41;
-        sv_2mortal&#40;args[i]&#41;;
+        ST&#40;i&#41; = sv_2mortal&#40;args[i]&#41;;
     
     XSRETURN&#40;j&#41;;
@@ -836,5 +862,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];	
+    SV **args;
     CV *cv;
 
@@ -842,4 +868,5 @@
     
     if &#40;items &gt; 1&#41; {
+	COPY_ARGS;
 	cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
 	PUSH_MULTICALL&#40;cv&#41;;
@@ -872,5 +899,5 @@
     GV *gv;
     I32 gimme = G_SCALAR;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -878,4 +905,5 @@
     
     if &#40;items &gt; 1&#41; {
+	COPY_ARGS;
 	cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
 	PUSH_MULTICALL&#40;cv&#41;;
@@ -1324,5 +1352,5 @@
     I32 gimme = G_SCALAR;
     I32 count = 0;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
     
@@ -1333,4 +1361,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -1394,5 +1423,5 @@
     I32 gimme = G_SCALAR;
     I32 count = 0;
-    SV **args = &#38;PL_stack_base[ax];
+    SV **args;
     CV *cv;
 
@@ -1402,4 +1431,5 @@
 	XSRETURN_EMPTY;
 
+    COPY_ARGS;
     cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
     PUSH_MULTICALL&#40;cv&#41;;
@@ -1450,5 +1480,5 @@
     HV *stash;
     GV *gv;
-    SV **args = &#38;PL_stack_base[ax+1];
+    SV **args;
     CV *cv;
     I32 gimme = GIMME; /* perl-5.5.4 bus-errors out later when using GIMME 
@@ -1460,4 +1490,5 @@
     if &#40;items &gt; 1&#41; {
 
+	COPY_ARGS;
 	cv = sv_2cv&#40;code, &#38;stash, &#38;gv, 0&#41;;
 	PUSH_MULTICALL&#40;cv&#41;;
@@ -1472,5 +1503,5 @@
                 break;
 
-            GvSV&#40;PL_defgv&#41; = args[k];
+            GvSV&#40;PL_defgv&#41; = &#40;args+1&#41;[k];
             MULTICALL;
             val = SvIV&#40;*PL_stack_sp&#41;;
@@ -1480,5 +1511,5 @@
                 if &#40;gimme == G_SCALAR&#41;
                     XSRETURN_YES;
-                SvREFCNT_inc&#40;RETVAL = args[k]&#41;;
+                SvREFCNT_inc&#40;RETVAL = &#40;args+1&#41;[k]&#41;;
                 goto yes;
             }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-634560" href="/Public/Bug/Display.html?id=47842#txn-634560">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;18&nbsp;08:02:55&nbsp;2009</span>
    <span class="description">vparseval [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47842] [PATCH] List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 18 Jul 2009 08:02:32 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Chip Salzenberg via RT &lt;bug-List-MoreUtils [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tassilo von Parseval &lt;vparseval [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/634560/323387/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/323387">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Jul 14, 2009 at 09:11:56PM -0400, Chip Salzenberg via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: List-MoreUtils
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt; 
&gt; On Mon Jul 13 15:24:04 2009, david@davidfavor.com wrote:
<div class="message-stanza open">&gt; &gt; net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-
&gt; &gt; MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
&gt; &gt; t/List-MoreUtils.t .. Failed 2128/2173 subtests
</div>&gt; 
&gt; The attached patch fixes this for me.  It involves making a copy of the
&gt; argument portion of the stack.  There may be a way to grab it from the
&gt; CX stack intead, but that might be slower in the long term.
</div>
I&#39;d rather avoid making a copy of the whole stack, even when it&#39;s just a
shallow one. It&#39;s obvious that this construct:

    SV **args = &#38;PL_stack_base[ax];
    ...
    for &#40;...&#41; {
        args[i-1] = some_assignment;
    }

will fall all over itself once perl grows the stack and the address of
PL_stack_base changes. Therefore, I think I can simply replace above
code with:

    for &#40;...&#41; {
        PL_stack_base[ax+i-1] = some_assignement;
    }

Thus, I&#39;d be using the authoritative stack pointer directly and thus I
should be immune to any goofy reallocking going on.

Does anybody see any flaws in this? With this, all my tests pass.

Cheers,
Tassilo
-- 
$_=q#&#34;,}]&#41;!JAPH!qq&#40;tsuJ[{@&#34;tnirp}3..0}_$;//::niam/s~=&#41;]3[&#41;&#41;_$-3&#40;rellac&#40;=_$&#40;{
pam{rekcahbus}&#41;&#40;rekcah{lrePbus}&#41;&#40;lreP{rehtonabus}&#41;!JAPH!qq&#40;rehtona{tsuJbus#;
$_=reverse,s+&#40;?&lt;=sub&#41;.+q#q!&#39;&#34;qq.\t$&#38;.&#34;&#39;!#+sexisexiixesixeseg;y~\n~~dddd;eval 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-640296" href="/Public/Bug/Display.html?id=47842#txn-640296">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;27&nbsp;08:20:30&nbsp;2009</span>
    <span class="description">Marek.Rouchal [...] gmx.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/640296/327132/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327132">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sa. 18. Jul. 2009, 08:02:55, vparseval@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue, Jul 14, 2009 at 09:11:56PM -0400, Chip Salzenberg via RT wrote:
<div class="message-stanza open">&gt; &gt;        Queue: List-MoreUtils
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt; &gt; 
&gt; &gt; On Mon Jul 13 15:24:04 2009, david@davidfavor.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-
&gt; &gt; &gt; MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &gt; &gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
&gt; &gt; &gt; t/List-MoreUtils.t .. Failed 2128/2173 subtests
</div>&gt; &gt; 
&gt; &gt; The attached patch fixes this for me.  It involves making a copy of the
&gt; &gt; argument portion of the stack.  There may be a way to grab it from the
&gt; &gt; CX stack intead, but that might be slower in the long term.
</div>&gt; 
&gt; I&#39;d rather avoid making a copy of the whole stack, even when it&#39;s just a
&gt; shallow one. It&#39;s obvious that this construct:
&gt; 
&gt;     SV **args = &#38;PL_stack_base[ax];
&gt;     ...
&gt;     for &#40;...&#41; {
&gt;         args[i-1] = some_assignment;
&gt;     }
&gt; 
&gt; will fall all over itself once perl grows the stack and the address of
&gt; PL_stack_base changes. Therefore, I think I can simply replace above
&gt; code with:
&gt; 
&gt;     for &#40;...&#41; {
&gt;         PL_stack_base[ax+i-1] = some_assignement;
&gt;     }
&gt; 
&gt; Thus, I&#39;d be using the authoritative stack pointer directly and thus I
&gt; should be immune to any goofy reallocking going on.
&gt; 
&gt; Does anybody see any flaws in this? With this, all my tests pass.
&gt; 
&gt; Cheers,
&gt; Tassilo
</div>

I don&#39;t know if the last comment made it into L:MU but with perl-5.8.8
here the new version 0.24 still fails:

$ perl -Mblib t/List-MoreUtils.t 
1..2173
# Running under perl version 5.008008 for linux
# Current time local: Mon Jul 27 14:18:52 2009
# Current time GMT:   Mon Jul 27 12:18:52 2009
# Using Test.pm version 1.25
Segmentation fault

HTH,
Marek
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-640367" href="/Public/Bug/Display.html?id=47842#txn-640367">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;27&nbsp;09:18:26&nbsp;2009</span>
    <span class="description">david [...] davidfavor.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47842] List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 27 Jul 2009 08:18:08 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-MoreUtils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Favor &lt;david [...] davidfavor.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/640367/327179/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327179">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Marek Rouchal via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt; 
&gt; On Sa. 18. Jul. 2009, 08:02:55, vparseval@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; On Tue, Jul 14, 2009 at 09:11:56PM -0400, Chip Salzenberg via RT wrote:
<div class="message-stanza open">&gt;&gt;&gt;        Queue: List-MoreUtils
&gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon Jul 13 15:24:04 2009, david@davidfavor.com wrote:
<div class="message-stanza open">&gt;&gt;&gt;&gt; net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-
&gt;&gt;&gt;&gt; MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt;&gt;&gt;&gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
&gt;&gt;&gt;&gt; t/List-MoreUtils.t .. Failed 2128/2173 subtests
</div>&gt;&gt;&gt; The attached patch fixes this for me.  It involves making a copy of the
&gt;&gt;&gt; argument portion of the stack.  There may be a way to grab it from the
&gt;&gt;&gt; CX stack intead, but that might be slower in the long term.
</div>&gt;&gt; I&#39;d rather avoid making a copy of the whole stack, even when it&#39;s just a
&gt;&gt; shallow one. It&#39;s obvious that this construct:
&gt;&gt;
&gt;&gt;     SV **args = &#38;PL_stack_base[ax];
&gt;&gt;     ...
&gt;&gt;     for &#40;...&#41; {
&gt;&gt;         args[i-1] = some_assignment;
&gt;&gt;     }
&gt;&gt;
&gt;&gt; will fall all over itself once perl grows the stack and the address of
&gt;&gt; PL_stack_base changes. Therefore, I think I can simply replace above
&gt;&gt; code with:
&gt;&gt;
&gt;&gt;     for &#40;...&#41; {
&gt;&gt;         PL_stack_base[ax+i-1] = some_assignement;
&gt;&gt;     }
&gt;&gt;
&gt;&gt; Thus, I&#39;d be using the authoritative stack pointer directly and thus I
&gt;&gt; should be immune to any goofy reallocking going on.
&gt;&gt;
&gt;&gt; Does anybody see any flaws in this? With this, all my tests pass.
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt; Tassilo
</div>&gt; 
&gt; 
&gt; I don&#39;t know if the last comment made it into L:MU but with perl-5.8.8
&gt; here the new version 0.24 still fails:
&gt; 
&gt; $ perl -Mblib t/List-MoreUtils.t 
&gt; 1..2173
&gt; # Running under perl version 5.008008 for linux
&gt; # Current time local: Mon Jul 27 14:18:52 2009
&gt; # Current time GMT:   Mon Jul 27 12:18:52 2009
&gt; # Using Test.pm version 1.25
&gt; Segmentation fault
&gt; 
&gt; HTH,
&gt; Marek
</div>
I just opened a bug for List::Moreutils-0.24 on latest perl maint.

There seems to be some mismatch between operators for numeric and
alphanumeric tests in the case I opened.

-- 
Love feeling your best ever, all day, every day?
Click <span class="clickylink"><a target="new" rel="nofollow" href="http://RadicalHealth.com/join">http://RadicalHealth.com/join</a></span> for the easy way.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641159" href="/Public/Bug/Display.html?id=47842#txn-641159">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;28&nbsp;16:16:59&nbsp;2009</span>
    <span class="description">vparseval [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47842] List::MoreUtils-0.23 fails 2128 tests</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Jul 2009 16:16:01 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Marek Rouchal via RT &lt;bug-List-MoreUtils [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tassilo von Parseval &lt;vparseval [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/641159/327662/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327662">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon, Jul 27, 2009 at 08:20:31AM -0400, Marek Rouchal via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: List-MoreUtils
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt; 
&gt; On Sa. 18. Jul. 2009, 08:02:55, vparseval@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; On Tue, Jul 14, 2009 at 09:11:56PM -0400, Chip Salzenberg via RT wrote:
<div class="message-stanza open">&gt; &gt; &gt;        Queue: List-MoreUtils
&gt; &gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47842">https://rt.cpan.org/Ticket/Display.html?id=47842</a></span> &gt;
&gt; &gt; &gt; 
&gt; &gt; &gt; On Mon Jul 13 15:24:04 2009, david@davidfavor.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; net2#PERL_DL_NONLAZY=1 /runtime/perl-5.10.0-1572/bin/perl &#34;-
&gt; &gt; &gt; &gt; MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &gt; &gt; &gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/List-MoreUtils.t
&gt; &gt; &gt; &gt; t/List-MoreUtils.t .. Failed 2128/2173 subtests
</div>&gt; &gt; &gt; 
&gt; &gt; &gt; The attached patch fixes this for me.  It involves making a copy of the
&gt; &gt; &gt; argument portion of the stack.  There may be a way to grab it from the
&gt; &gt; &gt; CX stack intead, but that might be slower in the long term.
</div>&gt; &gt; 
&gt; &gt; I&#39;d rather avoid making a copy of the whole stack, even when it&#39;s just a
&gt; &gt; shallow one. It&#39;s obvious that this construct:
&gt; &gt; 
&gt; &gt;     SV **args = &#38;PL_stack_base[ax];
&gt; &gt;     ...
&gt; &gt;     for &#40;...&#41; {
&gt; &gt;         args[i-1] = some_assignment;
&gt; &gt;     }
&gt; &gt; 
&gt; &gt; will fall all over itself once perl grows the stack and the address of
&gt; &gt; PL_stack_base changes. Therefore, I think I can simply replace above
&gt; &gt; code with:
&gt; &gt; 
&gt; &gt;     for &#40;...&#41; {
&gt; &gt;         PL_stack_base[ax+i-1] = some_assignement;
&gt; &gt;     }
&gt; &gt; 
&gt; &gt; Thus, I&#39;d be using the authoritative stack pointer directly and thus I
&gt; &gt; should be immune to any goofy reallocking going on.
&gt; &gt; 
&gt; &gt; Does anybody see any flaws in this? With this, all my tests pass.
</div>&gt; 
&gt; I don&#39;t know if the last comment made it into L:MU but with perl-5.8.8
&gt; here the new version 0.24 still fails:
</div>
It made it and it is the culprit for those failures on 5.8.8. I guess
that did answer my question quite convincingly. ;-&#41;

Cheers,
Tassilo
-- 
$_=q#&#34;,}]&#41;!JAPH!qq&#40;tsuJ[{@&#34;tnirp}3..0}_$;//::niam/s~=&#41;]3[&#41;&#41;_$-3&#40;rellac&#40;=_$&#40;{
pam{rekcahbus}&#41;&#40;rekcah{lrePbus}&#41;&#40;lreP{rehtonabus}&#41;!JAPH!qq&#40;rehtona{tsuJbus#;
$_=reverse,s+&#40;?&lt;=sub&#41;.+q#q!&#39;&#34;qq.\t$&#38;.&#34;&#39;!#+sexisexiixesixeseg;y~\n~~dddd;eval 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-660452" href="/Public/Bug/Display.html?id=47842#txn-660452">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;07&nbsp;10:41:42&nbsp;2009</span>
    <span class="description">Marek.Rouchal [...] gmx.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/660452/338732/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/338732">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 169b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">See the other RT ticket - I can confirm that 0.25_2 works OK here with
perl-5.8.8 on Solaris and Linux. But there is another RT regarding a
memory leak...

HTH,
Marek
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-864434" href="/Public/Bug/Display.html?id=47842#txn-864434">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;20:58:17&nbsp;2010</span>
    <span class="description">adamk [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/864434/447580/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/447580">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 118b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing this ticket, as the test suite now passes 100% and the
individual issues discussed all have their own tickets.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-864437" href="/Public/Bug/Display.html?id=47842#txn-864437">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;20:58:18&nbsp;2010</span>
    <span class="description">adamk [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.62422</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
