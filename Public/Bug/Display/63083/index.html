<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #63083 for PAR-Packer: pp: Undefined subroutine &#38;DynaLoader::bootstrap called in pp-compiled bianry</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #63083 for PAR-Packer: pp: Undefined subroutine &#38;DynaLoader::bootstrap called in pp-compiled bianry</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">63083</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cstef [...] parallel.ru

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.007    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




63083.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/858232/444192/63083.tar.gz">
Sun Nov 21 09:13:01 2010 (4.9k) by RSCHUPP [...] cpan.org
</a>
</font></li>
</ul>


a.strace.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/856453/443254/a.strace.gz">
Wed Nov 17 09:26:36 2010 (2.8k) by cstef [...] parallel.ru
</a>
</font></li>
</ul>


find-libperl.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/857185/443645/find-libperl.pl">
Fri Nov 19 02:44:18 2010 (2.5k) by RSCHUPP [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;08:13:18&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> pp: Undefined subroutine &#38;DynaLoader::bootstrap called in
 pp-compiled bianry</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I compile simple file

#!/usr/bin/perl
use IO &#40;&#41;;

with pp -o a.exe a.pl

On the same machine it works OK.

Then I transfer it to another machine and get:
$ ./a.exe
Undefined subroutine &#38;DynaLoader::bootstrap called at
/usr/lib/perl5/x86_64-linux/XSLoader.pm line 105.
Compilation failed in require at
/usr/lib/perl5/x86_64-linux/IO/Handle.pm line 263.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/Handle.pm line 263.
Compilation failed in require at
/usr/lib/perl5/x86_64-linux/IO/Seekable.pm line 101.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/Seekable.pm line 101.
Compilation failed in require at /usr/lib/perl5/x86_64-linux/IO/File.pm
line 133.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/File.pm line 133.
Compilation failed in require at -e line 351.

Some details about machines:
Compile machine:

$ pp --version
PAR Packager, version 1.007 &#40;PAR version 1.002&#41;

$ perl -v

This is perl, v5.8.8 built for x86_64-linux-thread-multi

$ uname -a
Linux t60-2.parallel.ru 2.6.18-skif-rhel-alt13.M41.3 #1 SMP Tue Feb 2
12:09:59 MSK 2010 x86_64 GNU/Linux

Target machine &#40;with binary not working&#41;:

$ perl -v

This is perl, v5.8.9 built for x86_64-linux-thread-multi

$ uname -a
Linux access.lomonosov.parallel.ru 2.6.27-tmc-srv-tmc76 #1 SMP Fri Aug
27 20:32:25 UTC 2010 x86_64 GNU/Linux


How can I make binary using IO that can be transferred to another machine?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;08:56:17&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-11-17 08:13:18, Coctic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Then I transfer it to another machine and get:
&gt; $ ./a.exe
&gt; Undefined subroutine &#38;DynaLoader::bootstrap called at
&gt; /usr/lib/perl5/x86_64-linux/XSLoader.pm line 105.
</div>
That&#39;s not supposed to happen :&#40;

A couple of questions:

- did you build PAR::Packer yourself?
- if yes
  - did you build it on the machine where you do the packing?
  - did you run &#34;make test&#34; and all tests succeeded?

Can you run the following on the machine where the packed
executable fails:

  strace -o a.strace -f -v -e trace=file,process ./a.exe

gzip the resulting a.strace and attach it to the ticket.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;08:56:18&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;09:26:36&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 17 08:56:17 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - did you build PAR::Packer yourself?
&gt; - if yes
&gt;   - did you build it on the machine where you do the packing?
&gt;   - did you run &#34;make test&#34; and all tests succeeded?
</div>I ran cpan shell, then used &#39;install pp&#39; command. As I remeber, it did
the tests and did not complain about it.
I can try re-make the tests if it&#39;s needed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; gzip the resulting a.strace and attach it to the ticket.
</div>Done it.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> a.strace.gz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/856453/443254/a.strace.gz">Download a.strace.gz</a><br />
<span class="downloadcontenttype">application/binary 2.8k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;10:30:16&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - did you build PAR::Packer yourself?
&gt; - if yes
&gt;   - did you build it on the machine where you do the packing?
</div>Forgot to say: yes, it was done on the same machine that did the packing.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   - did you run &#34;make test&#34; and all tests succeeded?
</div>I rebuilt pp, cpan skipped 1 test, all others succeeded. The bug did not
go away.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;17&nbsp;12:28:26&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for info and strace.

strace shows that a.exe pulled in /usr/lib64/libperl.so.5.8,
i.e the shared perl library from the system where it ran
&#40;instead of the copy that is packed in the executable&#41;.
Since this is from another version of Perl it might explain the
problem. But it isn&#39;t supposed to do that...
 
strace also shows that you ran a.exe with LD_LIBRARY_PATH set
in the environment. Can you rerun a.exe without it and see 
if the problem goes away? 

Another thing to try: first remove PAR&#39;s cache area
which according to strace was

/home/users/cstef/tmp/par-cstef

&#40;you have TMPDIR=$HOME/tmp, right?&#41;

then run a.exe and look for a file also called a.exe in the
cache area, should be something like

/home/users/cstef/tmp/par-cstef/cache-LONGSHA1DIGEST/a.exe

and post the output of 

  readelf -d /home/users/cstef/tmp/par-cstef/cache-LONGSHA1DIGEST/a.exe

In the same directory there should also be a file matching libperl*so*
-what is its name?

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;18&nbsp;01:51:24&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 17 12:28:26 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; strace also shows that you ran a.exe with LD_LIBRARY_PATH set
&gt; in the environment. Can you rerun a.exe without it and see 
&gt; if the problem goes away? 
</div>No, it doesn&#39;t:

$ export LD_LIBRARY_PATH=&#34;&#34;
cstef@access:~&gt;&gt;
$ ./a.exe
Undefined subroutine &#38;DynaLoader::bootstrap called at
/usr/lib/perl5/x86_64-linux/XSLoader.pm line 105.
Compilation failed in require at
/usr/lib/perl5/x86_64-linux/IO/Handle.pm line 263.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/Handle.pm line 263.
Compilation failed in require at
/usr/lib/perl5/x86_64-linux/IO/Seekable.pm line 101.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/Seekable.pm line 101.
Compilation failed in require at /usr/lib/perl5/x86_64-linux/IO/File.pm
line 133.
BEGIN failed--compilation aborted at
/usr/lib/perl5/x86_64-linux/IO/File.pm line 133.
Compilation failed in require at -e line 351.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another thing to try: first remove PAR&#39;s cache area
&gt; which according to strace was
&gt; 
&gt; /home/users/cstef/tmp/par-cstef
&gt; 
&gt; &#40;you have TMPDIR=$HOME/tmp, right?&#41;
</div>Right.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; then run a.exe and look for a file also called a.exe in the
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   readelf -d /home/users/cstef/tmp/par-cstef/cache-LONGSHA1DIGEST/a.exe
</div>
$ readelf -d
/home/users/cstef/tmp/par-cstef/cache-91983bfecf21472d244f6bf26116bc20ee4433d3/a.exe

Dynamic section at offset 0xc028 contains 22 entries:
  Tag        Type                         Name/Value
 0x0000000000000001 &#40;NEEDED&#41;             Shared library: [libperl.so.5.8]
 0x0000000000000001 &#40;NEEDED&#41;             Shared library: [libpthread.so.0]
 0x0000000000000001 &#40;NEEDED&#41;             Shared library: [libc.so.6]
 0x000000000000000c &#40;INIT&#41;               0x401dd0
 0x000000000000000d &#40;FINI&#41;               0x405b38
 0x000000006ffffef5 &#40;GNU_HASH&#41;           0x400240
 0x0000000000000005 &#40;STRTAB&#41;             0x400ea8
 0x0000000000000006 &#40;SYMTAB&#41;             0x4003e0
 0x000000000000000a &#40;STRSZ&#41;              1501 &#40;bytes&#41;
 0x000000000000000b &#40;SYMENT&#41;             24 &#40;bytes&#41;
 0x0000000000000015 &#40;DEBUG&#41;              0x0
 0x0000000000000003 &#40;PLTGOT&#41;             0x60c1e0
 0x0000000000000002 &#40;PLTRELSZ&#41;           1896 &#40;bytes&#41;
 0x0000000000000014 &#40;PLTREL&#41;             RELA
 0x0000000000000017 &#40;JMPREL&#41;             0x401668
 0x0000000000000007 &#40;RELA&#41;               0x401620
 0x0000000000000008 &#40;RELASZ&#41;             72 &#40;bytes&#41;
 0x0000000000000009 &#40;RELAENT&#41;            24 &#40;bytes&#41;
 0x000000006ffffffe &#40;VERNEED&#41;            0x401570
 0x000000006fffffff &#40;VERNEEDNUM&#41;         3
 0x000000006ffffff0 &#40;VERSYM&#41;             0x401486
 0x0000000000000000 &#40;NULL&#41;               0x0

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In the same directory there should also be a file matching libperl*so*
&gt; -what is its name?
</div>$ ls
/home/users/cstef/tmp/par-cstef/cache-91983bfecf21472d244f6bf26116bc20ee4433d3/libperl*
/home/users/cstef/tmp/par-cstef/cache-91983bfecf21472d244f6bf26116bc20ee4433d3/libperl.so.5.8.8
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;18&nbsp;02:05:40&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 17 12:28:26 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; strace also shows that you ran a.exe with LD_LIBRARY_PATH set
&gt; in the environment. Can you rerun a.exe without it and see 
&gt; if the problem goes away? 
</div>Simply setting LD_LIBRARY_PATH to &#34;&#34; does not solve the problem, but using
LD_PRELOAD=&#34;/home/users/cstef/tmp/par-cstef/cache-91983bfecf21472d244f6bf26116bc20ee4433d3/libperl.so.5.8.8&#34;
./a.exe

does - a.exe now works &#40;and my binary, which I was trying to run
initially, works too, a.exe was only proof-of-concept&#41;.

So workaround is found, thank you for help. Well, if it will be fixed in
pp distribution, it would be very nice. It some more information is
needed, I am ready.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;18&nbsp;04:38:06&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-11-18 01:51:24, Coctic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; $ readelf -d
&gt;
</div>/home/users/cstef/tmp/par-cstef/cache-91983bfecf21472d244f6bf26116bc20ee4433d3/a.exe
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ...
&gt;  0x0000000000000001 &#40;NEEDED&#41; Shared library: [libperl.so.5.8]
&gt; ...
&gt; $ ls /home/users/cstef/tmp/par-cstef/cache-
&gt; 91983bfecf21472d244f6bf26116bc20ee4433d3/libperl*
&gt; /home/users/cstef/tmp/par-cstef/cache-
&gt; 91983bfecf21472d244f6bf26116bc20ee4433d3/libperl.so.5.8.8
</div>
That explains it:

- the a.exe in the cache directory &#40;which is different from the
  a.exe you actually invoked&#41; is actually a special purpose
  Perl interpreter &#40;it&#39;s actually the same file for any 
  packed executable&#41;
- since your perl &#40;on the machine where you built PAR::Packer&#41; is
  linked against a shared libperl, the special interpreter is also
  linked against this libperl
- in this case we also pack said shared libperl into the executable;
  if the packed executable is run, the packed libperl is extracted
  into the cache area

The problem is the name of the libperl file in the cache:
when linking, ld burned &#34;libperl.so.5.8&#34; into a.exe, so that&#39;s
the name the shared library loader is looking for when trying
to execute a.exe &#40;the one in the cache area&#41;. It is run with 
the cache area prepended to LD_LIBRARY_PATH, so that&#39;s where
the loader is looking first. But the file there is called
&#34;libperl.so.5.8.8&#34;, hence it won&#39;t get considered. Next on the
loader&#39;s search path is the built-in /usr/lib where a file
called libperl.so.5.8 is actually found - but it&#39;s from perl 5.8.9
&#40;and there exist apparently slight incompatibilities between
5.8.8 and 5.8.9 on the C level&#41;. 

So we&#39;ve to find out what caused the discrepancy libperl.so.5.8
vs libperl.so.5.8.8 &#40;and perhaps improve PAR::Packer&#39;s build process
to avoid that&#41;. Can you please post the output of 

  perl -V

&#40;on the machine where you built PAR::Packer&#41;?
IIRC I&#39;ve seen similar before - are you running CentOS?

Note: Your workaround confirms that the problem is indeed caused by
the &#34;wrong&#34; libperl.so, but it won&#39;t work in general as the
cache area is specific to the user and also specific to
the packed executable &#40;the long checksum in the cache area name
is approximately the SHA1 of the executable itself&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;18&nbsp;04:46:20&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 18 04:38:06 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So we&#39;ve to find out what caused the discrepancy libperl.so.5.8
&gt; vs libperl.so.5.8.8 &#40;and perhaps improve PAR::Packer&#39;s build process
&gt; to avoid that&#41;. Can you please post the output of
&gt; 
&gt;   perl -V
</div>[coctic@t60-2 ~]$ perl -V
Summary of my perl5 &#40;revision 5 version 8 subversion 8 patch 33449&#41;
configuration:
  Platform:
    osname=linux, osvers=2.6.18-ovz-smp-alt24,
archname=x86_64-linux-thread-multi
    uname=&#39;linux apiary.rio.altlinux.org 2.6.18-ovz-smp-alt24 #1 smp tue
may 6 19:11:08 msd 2008 x86_64 gnulinux &#39;
    config_args=&#39;-de -rs -Darchname=x86_64-linux -Dd_dosuid -Ud_csh
-Dlibswanted=dl m c crypt db ndbm gdbm -Duseshrplib
-Dlibperl=libperl.so.5.8 -Dcc=gcc -Doptimize=-pipe -Wall -O2
-D_GNU_SOURCE -Dcccdlflags=-fPIC -DPIC -Dccdlflags=-rdynamic -Wl,-O1
-Dlddlflags=-shared -Wl,-O1 -Dldflags=-Wl,-O1 -Dprefix=/usr
-Dprivlib=/usr/lib/perl5 -Darchlib=/usr/lib/perl5/x86_64-linux
-Dvendorprefix=/usr -Dvendorlib=/usr/lib/perl5/vendor_perl
-Dvendorarch=/usr/lib/perl5/vendor_perl/x86_64-linux
-Dman1dir=/usr/share/man/man1 -Dman3dir=/usr/share/man/man3
-Dvendorman1dir=/usr/share/man/man1 -Dvendorman3dir=/usr/share/man/man3
-Dsiteprefix=/usr/local -Dsitelib=/usr/local/lib/perl5/site_perl/5.8.8
-Dsitearch=/usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux
-Dsiteman1dir=/usr/local/man/man1 -Dsite_man3dir=/usr/local/man/man3
-Dman1ext=1 -Dman3ext=3pm -Dcf_by=ALT Linux Team -Dcf_email=Alexey
Tourbin &lt;at@altlinux.ru&gt; -Dmyhostname=localhost
-Dperladmin=root@localhost -Dmyuname=Linux 2.6.18-ovz-smp-alt24 x86_64
-Dnewmyuname=Linux 2.6.18-ovz-smp-alt24 x86_64
-Dinc_version_list=5.8.7/x86_64-linux 5.8.6/x86_64-linux
5.8.5/x86_64-linux 5.8.4/x86_64-linux 5.8.3/x86_64-linux
5.8.2/x86_64-linux 5.8.1/x86_64-linux 5.8.0/x86_64-linux 5.8.7 5.8.6
5.8.5 5.8.4 5.8.3 5.8.2 5.8.1 5.8.0 5.6.1 5.6.0 -Dpager=/usr/bin/less
-isR -Di_shadow -Di_syslog -Dusethreads -Duseithreads -Duselargefiles
-Di_db -Di_gdbm -Di_ndbm -Di_sdbm -Ui_odbm&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define
usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=define use64bitall=define uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
-fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm&#39;,
    optimize=&#39;-pipe -Wall -O2 -D_GNU_SOURCE&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
-fno-strict-aliasing -pipe -I/usr/local/include -I/usr/include/gdbm&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2 20070626 &#40;ALT Linux, build
4.1.2-alt2&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39;-Wl,-O1 -L/usr/local/lib64 -L/usr/local/lib&#39;
    libpth=/usr/local/lib64 /usr/local/lib /lib64 /usr/lib64 /lib /usr/lib
    libs=-ldl -lm -lpthread -lc -lcrypt -ldb -lgdbm
    perllibs=-ldl -lm -lpthread -lc -lcrypt
    libc=/lib64/libc-2.5.1.so, so=so, useshrplib=true,
libperl=libperl.so.5.8
    gnulibc_version=&#39;2.5.1&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-rdynamic
-Wl,-O1&#39;
    cccdlflags=&#39;-fPIC -DPIC&#39;, lddlflags=&#39;-shared -Wl,-O1
-L/usr/local/lib64 -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
                        THREADS_HAVE_PIDS USE_64_BIT_ALL USE_64_BIT_INT
                        USE_ITHREADS USE_LARGE_FILES USE_PERLIO
                        USE_REENTRANT_API
  Locally applied patches:
        MAINT33449
        ALT Linux patches
  Built under linux
  Compiled at Sep  7 2008 16:38:34
  %ENV:
   
PERL5LIB=&#34;/home/coctic/perl/lib/perl5/site_perl/:/home/coctic/perl/lib/perl5/site_perl/5.8.8/:/home/coctic/modules/lib/perl5/:/home/coctic/modules/lib/perl5/x86_64-linux-thread-multi/&#34;
  @INC:
    /home/coctic/perl/lib/perl5/site_perl//5.8.8
    /home/coctic/perl/lib/perl5/site_perl/
    /home/coctic/perl/lib/perl5/site_perl/5.8.8/
    /home/coctic/modules/lib/perl5//x86_64-linux-thread-multi
    /home/coctic/modules/lib/perl5/
    /home/coctic/modules/lib/perl5/x86_64-linux-thread-multi/
    /etc/perl5
    /usr/lib/perl5/x86_64-linux
    /usr/lib/perl5
    /usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux
    /usr/local/lib/perl5/site_perl/5.8.8
    /usr/local/lib/perl5/site_perl
    /usr/lib/perl5/vendor_perl/x86_64-linux
    /usr/lib/perl5/vendor_perl
    /usr/lib/perl5/vendor_perl
    .

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;on the machine where you built PAR::Packer&#41;?
&gt; IIRC I&#39;ve seen similar before - are you running CentOS?
</div>It is not CentOS, it is AltLinux, special version for high performance
clusters. I am not sure if it has connections with CentOS.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Note: Your workaround confirms that the problem is indeed caused by
&gt; the &#34;wrong&#34; libperl.so, but it won&#39;t work in general as the
&gt; cache area is specific to the user and also specific to
&gt; the packed executable &#40;the long checksum in the cache area name
&gt; is approximately the SHA1 of the executable itself&#41;.
</div>I understand it, and I would definitely prefer the bug to be fixed
somehow, and I am ready to do my best for it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;02:44:18&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-11-18 04:46:20, Coctic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; somehow, and I am ready to do my best for it.
</div>
All right! Please run the attached script
&#40;on the machine where you built PAR::Packer&#41;
and post its output. It&#39;s actually the code
from myldr/Makefile.PL to find the shared libperl
with some modifications.

Cheers, Roderich
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> find-libperl.pl</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl -w
# Copyright 2002-2009 by Audrey Tang.
# Copyright &#40;c&#41; 2002 Mattia Barbon.
# This package is free software; you can redistribute it and/or
# modify it under the same terms as Perl itself.

use strict;
use warnings;
use Config;
use File::Spec;
use ExtUtils::Embed;
use DynaLoader;
use File::Basename;

xsinit&#40;undef&#41;;

# used for searching libperls.
sub find_file {
    my $file = shift;

    my @paths = &#40;
	    $Config{bin},
    	File::Spec-&gt;catdir&#40;$Config{&#39;archlibexp&#39;}, &#39;CORE&#39;&#41;,
	    split&#40;/\Q$Config{path_sep}\E/, $ENV{$Config{ldlibpthname}} || &#39;&#39;&#41;,
    	split&#40;/ /, $Config{libpth}&#41;,
    &#41;;

    my $libperl;
    if &#40;$libperl = DynaLoader::dl_findfile&#40;&#34;-lperl&#34;&#41;&#41; {
        if &#40;-l $libperl&#41; {
            my $realpath = readlink&#40;$libperl&#41;;
            if &#40;!File::Spec-&gt;file_name_is_absolute&#40;$realpath&#41;&#41; {
                $realpath = File::Spec-&gt;rel2abs&#40;
                    File::Spec-&gt;catfile&#40;
                        dirname&#40;$libperl&#41; =&gt; $realpath
                    &#41;
                &#41;;
            }
            $libperl = $realpath;
        }
        return $libperl if -e $libperl;
    }

    foreach my $path &#40;@paths&#41; {
	    $libperl = File::Spec-&gt;catfile&#40;$path, $file&#41;;
    	return $libperl if -e $libperl;
        
    	# for MinGW
	    $libperl = File::Spec-&gt;catfile&#40;$path, $1&#41; if $file =~ /^lib&#40;.+&#41;/;
    	return $libperl if -e $libperl;
        
       	# for Cygwin
    	$libperl = File::Spec-&gt;catfile&#40;$path, $file.$Config{_a}&#41;;
    	return $libperl if -e $libperl;
    }
}

my $pldflags = ldopts&#40;&#41;;

my $dynperl = $Config{useshrplib} &#38;&#38; &#40;$Config{useshrplib} ne &#39;false&#39;&#41;;
$dynperl = 1 if $pldflags =~ /\B-lperl\b/; # Gentoo lies to us!

my $libperl;
if &#40;$dynperl&#41; {
    my $file = $Config{libperl};
    my $so = $Config{so} || &#39;so&#39;;
    $file = &#34;libperl.$so&#34; if $file eq &#39;libper&#39;; # workaround Red Hat bug

    $file =~ s/\.&#40;?!\d&#41;[^.]*$/.$Config{so}/;
    $file =~ s/^lib// if $^O eq &#34;MSWin32&#34;;

    $libperl = find_file&#40;$file&#41;;
    if &#40;not -e $libperl&#41; {
        $file =~ s/\.&#40;?!\d&#41;[^.]*$/.a/;
        $libperl = find_file&#40;$file&#41;;
    }
}
else
{
    print &#34;no libperl DSO in use\n&#34;;
    exit 0;
}

if &#40;-e $libperl&#41;
{
    print &#34;libperl is \&#34;$libperl\&#34;\n&#34;;
    
    my $name = basename&#40;$libperl&#41;;
    if &#40;$^O =~ /linux/&#41;
    {
        my &#40;$soname&#41; = qx&#40;objdump -ax $libperl&#41; =~ /^\s*SONAME\s+&#40;\S+&#41;/m;
        if &#40;$? == 0 &#38;&#38; defined $soname&#41;
        {
            print &#34;soname is \&#34;$soname\&#34;\n&#34;;
            $name = $soname;
        }
    }
    print &#34;link name is \&#34;$name\&#34;\n&#34;;
}
else
{
    print &#34;libperl appears to be \&#34;$libperl\&#34;, but it doesn&#39;t exist\n&#34;;
}

# local variables:
# mode: cperl
# end:
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;19&nbsp;02:53:30&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Nov 19 02:44:18 2010, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; All right! Please run the attached script
&gt; &#40;on the machine where you built PAR::Packer&#41;
&gt; and post its output. It&#39;s actually the code
</div>
[coctic@t60-2 tmp]$ ./find-libperl.pl
libperl is &#34;/usr/lib64/libperl.so.5.8.8&#34;
soname is &#34;libperl.so.5.8&#34;
link name is &#34;libperl.so.5.8&#34;
[coctic@t60-2 tmp]$
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;21&nbsp;09:13:01&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-11-19 02:53:30, Coctic wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [coctic@t60-2 tmp]$ ./find-libperl.pl
&gt; libperl is &#34;/usr/lib64/libperl.so.5.8.8&#34;
&gt; soname is &#34;libperl.so.5.8&#34;
&gt; link name is &#34;libperl.so.5.8&#34;
</div>
That shows the problem &#40;basename of libperl is different
from the &#34;link name&#34;&#41; and also how to fix it &#40;at least
on Linux using the GNU binutils toolchain&#41;. Can you please:

- drop myldr/{Makefile.PL,file2c.pl} from the attached tarball
  into a clean PAR::Packer source
- perl Makefile.PL ; make ; make test ; make install
- re-pack your test script and try it out

Cheers, Roderich
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 63083.tar.gz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/858232/444192/63083.tar.gz">Download 63083.tar.gz</a><br />
<span class="downloadcontenttype">application/x-gzip 4.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;21&nbsp;10:42:02&nbsp;2010</span>
    <span class="description">cstef [...] parallel.ru -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> cstef [...] parallel.ru</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, test binary works after transfer to another machine as well as my
other binaries, thank a lot.

May I hope that the fix will be in the next release of PAR::Packer?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;21&nbsp;12:14:23&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;21&nbsp;12:14:43&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-11-21 10:42:02, Coctic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, test binary works after transfer to another machine as well as my
&gt; other binaries, thank a lot.
</div>
Thanks for testing, I&#39;ve just committed the fix.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; May I hope that the fix will be in the next release of PAR::Packer?
</div>
I just uploaded PAR::Packer 1.008 to PAUSE &#40;contains this
and other assorted fixes&#41;.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;21&nbsp;12:14:44&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
