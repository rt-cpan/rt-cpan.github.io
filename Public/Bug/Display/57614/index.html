<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57614 for DBD-DB2: INNER and OUTER $sth and finish is terminating all stat</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57614 for DBD-DB2: INNER and OUTER $sth and finish is terminating all stat</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBD-DB2">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBD-DB2">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBD-DB2">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBD-DB2">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-DB2">DBD-DB2 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57614</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBD-DB2">DBD-DB2</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
gsorense [...] us.ibm.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10084-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10085-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=57614">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-778852" href="/Public/Bug/Display.html?id=57614#txn-778852">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;18&nbsp;18:26:41&nbsp;2010</span>
    <span class="description">gsorense [...] us.ibm.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Lalethia Bethea &lt;lalethia [...] us.ibm.com&gt;, Julius Raneses &lt;jraneses [...] us.ibm.com&gt;, Thomas Wizda &lt;twizda [...] us.ibm.com&gt;, Ray Barrera &lt;pnkfloyd [...] us.ibm.com&gt;, Nishu Priya &lt;nishu.priya [...] in.ibm.com&gt;, Judith Kidd &lt;judykidd [...] us.ibm.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> INNER and OUTER $sth and finish is terminating all stat</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 18 May 2010 17:26:04 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> opendev [...] us.ibm.com, bug-DBD-DB2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Greg Sorensen &lt;gsorense [...] us.ibm.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/778852/403394/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/403394">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 9.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m involved with moving our application from AIX to zLinuz and we have 
encountered a problem where the finish&#40;&#41; routine either indirect or 
directly seems to terminate
all statement handles in the program.  We need help understanding if this 
is a bug that can be fixed or maybe how to correct this behavior.  Our 
original system on AIX
did not see this problem.

web@godzilla:/perl_modules&gt; db2level
DB21085I  Instance &#34;bcimp&#34; uses &#34;64&#34; bits and DB2 code release &#34;SQL09055&#34; 
with
level identifier &#34;06060107&#34;.
Informational tokens are &#34;DB2 v9.5.0.5&#34;, &#34;s091123&#34;, &#34;MI00318&#34;, and Fix 
Pack
&#34;5&#34;.
Product is installed at &#34;/opt/ibm/db2/V9.5&#34;.

DBD::DB2 is $VERSION = &#39;1.78&#39;;
$DBI::VERSION = &#34;1.609&#34;;

Perl is version 5.12

Summary of my perl5 &#40;revision 5 version 12 subversion 0&#41; configuration:

  Platform:
    osname=linux, osvers=2.6.16.60-0.42.9-default, archname=s390x-linux
    uname=&#39;linux godzilla 2.6.16.60-0.42.9-default #1 smp thu jan 28 
23:39:37 utc 2010 s390x s390x s390x gnulinux &#39;
    config_args=&#39;&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39;-fno-strict-aliasing -pipe -fstack-protector 
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-fno-strict-aliasing -pipe -fstack-protector 
-I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2 20070115 &#40;SUSE Linux&#41;&#39;, 
gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=87654321
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, 
lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39; -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib /lib64 /usr/lib64 /usr/local/lib64
    libs=-lnsl -lndbm -lgdbm -ldl -lm -lcrypt -lutil -lc -lgdbm_compat
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lc
    libc=/lib/libc-2.4.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;2.4&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/usr/local/lib 
-fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: PERL_DONT_CREATE_GVSV PERL_MALLOC_WRAP 
USE_64_BIT_ALL
                        USE_64_BIT_INT USE_LARGE_FILES USE_PERLIO
                        USE_PERL_ATOF

Here is an example:
We have an &#34;OUTER&#34; loop and &#34;INNER&#34;.


  $stmt=&#34;select c.custno,c.cname,c.dac,n.notes,n.hot_issues from 
$schema.v4_cust c,  $schema.v4_cust_notes n where c.group = &#39;$group&#39; and 
c.group=n.group and c.custno=n.custno and c.custno=&#39;$custno&#39; order by 
c.cname&#34; if &#40; $custno &#41;;

  print &#34;$stmt&lt;br&gt;&#34;;
  $sth=$dbh-&gt;prepare&#40;$stmt&#41;;
  $sth-&gt;execute&#40;&#41;;
  while&#40; @ary = $sth-&gt;fetchrow&#40;&#41; &#41; {

        $stmt_sub=&#34;select t.tsm_name,c.type,t.ph_tl,t.email from 
$schema.v4_tsm_cfg t, $schema.v4_cust_tsm c where c.custno=&#39;$ary[0]&#39; and 
c.group=&#39;$group&#39; and t.retain_id=c.retain_id and c.type in &#40;&#39;p&#39;,&#39;s&#39;&#41; and 
c.group=t.group&#34;;
        $sth_sub=$dbh-&gt;prepare&#40;$stmt_sub&#41;;
        $sth_sub-&gt;execute&#40;&#41;;
        while&#40;@sub_ary = $sth_sub-&gt;fetchrow&#40;&#41; &#41; {
               $pri=&#34;$sub_ary[0] $sub_ary[2] $sub_ary[3]&#34; if &#40; $sub_ary[1] 
=~ /^p/ &#41;;
               $sec=&#34;$sub_ary[0] $sub_ary[2] $sub_ary[3]&#34; if &#40; $sub_ary[1] 
=~ /^s/ &#41;;
        }
        $sth_sub-&gt;finish&#40;&#41;;

  }
  $sth-&gt;finish&#40;&#41;;

----------------------------------------------------

With tracing diagnostics we have the following output showing pre-mature 
CLEAR and DISCONNECT.

       select c.custno,c.cname,c.dac,n.notes,n.hot_issues from 
bcimp.v4_cust c,  bcimp.v4_cust_notes n where c.group=&#39;RSBC&#39; and 
c.group=n.group and c.custno=n.custno order by c.cname
fbh 0: &#39;CUSTNO&#39; , type 1,  7, dsize 7, p0 s-2140108372
   out: ftype 1, indp 0, bufl 29, rlen 29
fbh 1: &#39;CNAME&#39; , type 1,  30, dsize 30, p0 s-2140108292
   out: ftype 1, indp 0, bufl 121, rlen 121
fbh 2: &#39;DAC&#39; NULLable, type 1,  5, dsize 5, p0 s-2140108212
   out: ftype 1, indp 0, bufl 21, rlen 21
fbh 3: &#39;NOTES&#39; NULLable, type -99,  0, dsize 524288, p0 s-2140108128
   out: ftype 0, indp 0, bufl 0, rlen 0
fbh 4: &#39;HOT_ISSUES&#39; NULLable, type -99,  0, dsize 524288, p0 s-2140108048
   out: ftype 0, indp 0, bufl 0, rlen 0
    &lt;- prepare= &#40; DBI::st=HASH&#40;0x802307f0&#41; &#41; [1 items] at ./custlist.cgi 
line 384 via  at ./custlist.cgi line 140
    -&gt; execute for DBD::DB2::st &#40;DBI::st=HASH&#40;0x802307f0&#41;~0x80230760&#41;
    &lt;- execute= &#40; -1 &#41; [1 items] at ./custlist.cgi line 385 via  at 
./custlist.cgi line 140
    -&gt; fetchrow for DBD::DB2::st &#40;DBI::st=HASH&#40;0x802307f0&#41;~0x80230760&#41;
    dbih_setup_fbav alloc for 5 fields
    dbih_setup_fbav now 5 fields
    dbd_st_fetch 5 fields
        0: rc=0 &#39;DATA&#39;
        1: rc=0 &#39;DATA DATA&#39;
        2: rc=0 &#39;&#39;
        3: rc=0 &#39;DATA DATA&#39;
        4: rc=0 &#39;&#39;
    &lt;- fetchrow= &#40; &#39;DATA&#39; &#39;DATA DATA&#39; &#39;&#39; &#39;DATA DATA&#39; &#39;&#39; &#41; [5 items] row1 
at ./custlist.cgi line 386 via  at ./custlist.cgi line 140
    -&gt; prepare for DBD::DB2::db &#40;DBI::db=HASH&#40;0x80230448&#41;~0x80230370 
&#39;select t.tsm_name,c.type,t.ph_tl,t.email from bcimp.v4_tsm_cfg t, 
bcimp.v4_cust_tsm c where c.custno=&#39;DATA&#39; and c.group=&#39;RSBC&#39; and 
t.retain_id=c.retain_id and c.type in &#40;&#39;p&#39;,&#39;s&#39;&#41; and c.group=t.group&#39;&#41;
    New &#39;DBI::st&#39; &#40;for DBD::DB2::st, parent=DBI::db=HASH&#40;0x80230370&#41;, 
id=undef&#41;
    dbih_setup_handle&#40;DBI::st=HASH&#40;0x80706558&#41;=&gt;DBI::st=HASH&#40;0x807064e0&#41;, 
DBD::DB2::st, 80706828, Null!&#41;
    dbih_make_com&#40;DBI::db=HASH&#40;0x80230370&#41;, 80702dd0, DBD::DB2::st, 272, 
0&#41; thr#0
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, Err, 
DBI::db=HASH&#40;0x80230370&#41;&#41; SCALAR&#40;0x803fb240&#41; &#40;already defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, State, 
DBI::db=HASH&#40;0x80230370&#41;&#41; SCALAR&#40;0x803fb300&#41; &#40;already defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, Errstr, 
DBI::db=HASH&#40;0x80230370&#41;&#41; SCALAR&#40;0x803fb2a0&#41; &#40;already defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, TraceLevel, 
DBI::db=HASH&#40;0x80230370&#41;&#41; 15 &#40;already defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, FetchHashKeyName, 
DBI::db=HASH&#40;0x80230370&#41;&#41; &#39;NAME&#39; &#40;already defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, HandleSetErr, 
DBI::db=HASH&#40;0x80230370&#41;&#41; undef &#40;not defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, HandleError, 
DBI::db=HASH&#40;0x80230370&#41;&#41; undef &#40;not defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, ReadOnly, 
DBI::db=HASH&#40;0x80230370&#41;&#41; undef &#40;not defined&#41;
    dbih_setup_attrib&#40;DBI::st=HASH&#40;0x807064e0&#41;, Profile, 
DBI::db=HASH&#40;0x80230370&#41;&#41; undef &#40;not defined&#41;
    dbd_st_prepare&#39;d sql f65538
        select t.tsm_name,c.type,t.ph_tl,t.email from bcimp.v4_tsm_cfg t, 
bcimp.v4_cust_tsm c where c.custno=&#39;DATA&#39; and c.group=&#39;RSBC&#39; and 
t.retain_id=c.retain_id and c.type in &#40;&#39;p&#39;,&#39;s&#39;&#41; and c.group=t.group
fbh 0: &#39;TSM_NAME&#39; NULLable, type 1,  50, dsize 50, p0 s-2140104692
   out: ftype 1, indp 0, bufl 201, rlen 201
fbh 1: &#39;TYPE&#39; NULLable, type 1,  1, dsize 1, p0 s-2140104612
   out: ftype 1, indp 0, bufl 5, rlen 5
fbh 2: &#39;PH_TL&#39; NULLable, type 1,  20, dsize 20, p0 s-2140104532
   out: ftype 1, indp 0, bufl 81, rlen 81
fbh 3: &#39;EMAIL&#39; NULLable, type 1,  40, dsize 40, p0 s-2140104452
   out: ftype 1, indp 0, bufl 161, rlen 161
    &lt;- prepare= &#40; DBI::st=HASH&#40;0x80706558&#41; &#41; [1 items] at ./custlist.cgi 
line 421 via  at ./custlist.cgi line 140
    -&gt; execute for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80706558&#41;~0x807064e0&#41;
    &lt;- execute= &#40; -1 &#41; [1 items] at ./custlist.cgi line 422 via  at 
./custlist.cgi line 140
    -&gt; fetchrow for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80706558&#41;~0x807064e0&#41;
    dbih_setup_fbav alloc for 4 fields
    dbih_setup_fbav now 4 fields
    dbd_st_fetch 4 fields
        0: rc=0 &#39;DATA&#39;
        1: rc=0 &#39;p&#39;
        2: rc=0 &#39;DATA DATA&#39;
        3: rc=0 &#39;DATA DATA&#39;
    &lt;- fetchrow= &#40; &#39;DATA&#39; &#39;p&#39; &#39;DATA DATA&#39; &#39;DATA DATA&#39; &#41; [4 items] row1 at 
./custlist.cgi line 423 via  at ./custlist.cgi line 140
    -&gt; fetchrow for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80706558&#41;~0x807064e0&#41;
    dbd_st_fetch 4 fields
        0: rc=0 &#39;DATA&#39;
        1: rc=0 &#39;s&#39;
        2: rc=0 &#39;DATA DATA&#39;
        3: rc=0 &#39;DATA DATA&#39;
    &lt;- fetchrow= &#40; &#39;DATA&#39; &#39;s&#39; &#39;DATA DATA&#39; &#39;DATA DATA&#39; &#41; [4 items] row2 at 
./custlist.cgi line 425 via  at ./custlist.cgi line 140
    -&gt; fetchrow for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80706558&#41;~0x807064e0&#41;
    !! info: &#39;&#39; &#39;[IBM][CLI Driver][DB2/LINUXZ64] SQL0100W  No row was 
found for FETCH, UPDATE or DELETE; or the result of a query is an empty 
table.  SQLSTATE=02000
&#39; &#40;err#0&#41;
    &lt;- fetchrow= &#40; &#41; [0 items] row2 at ./custlist.cgi line 425 via  at 
./custlist.cgi line 140
    !! info: &#39;&#39; CLEARED by call to finish method
    -&gt; finish for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80706558&#41;~0x807064e0&#41;
    &lt;- finish= &#40; 1 &#41; [1 items] at ./custlist.cgi line 427 via  at 
./custlist.cgi line 140
    -&gt; fetchrow for DBD::DB2::st &#40;DBI::st=HASH&#40;0x802307f0&#41;~0x80230760&#41;
    dbd_st_fetch 5 fields
        0: rc=0 &#39;DATA DATA&#39;
        1: rc=0 &#39;DATA DATA&#39;
        2: rc=0 &#39;DATA DATA&#39;
    !! info: &#39;&#39; &#39;SQL_NO_DATA returned from Diagnostic Information. There 
might be no diagnostic records for this handle. Please see Infocentre for 
more details!!&#39; &#40;err#0&#41;
    &lt;- fetchrow= &#40; &#41; [0 items] row2 at ./custlist.cgi line 447 via  at 
./custlist.cgi line 140
    !! info: &#39;&#39; CLEARED by call to finish method
   -&gt; finish for DBD::DB2::st &#40;DBI::st=HASH&#40;0x802307f0&#41;~0x80230760&#41;
    &lt;- finish= &#40; 1 &#41; [1 items] at ./custlist.cgi line 450 via  at 
./custlist.cgi line 140
    -&gt; disconnect for DBD::DB2::db &#40;DBI::db=HASH&#40;0x80230448&#41;~0x80230370&#41;
    &lt;- disconnect= &#40; 1 &#41; [1 items] at ./custlist.cgi line 560 via  at 
./custlist.cgi line 143
!   -&gt; DESTROY for DBD::DB2::st &#40;DBI::st=HASH&#40;0x807064e0&#41;~INNER&#41;
!   &lt;- DESTROY= &#40; undef &#41; [1 items] during global destruction
!   -&gt; DESTROY for DBD::DB2::st &#40;DBI::st=HASH&#40;0x80230760&#41;~INNER&#41;
!   &lt;- DESTROY= &#40; undef &#41; [1 items] during global destruction
!   -&gt; DESTROY for DBD::DB2::db &#40;DBI::db=HASH&#40;0x80230370&#41;~INNER&#41;
!   &lt;- DESTROY= &#40; undef &#41; [1 items] during global destruction
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/778852/403395/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/403395">with headers</a>
<br />
<span class="downloadcontenttype">text/html 18.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-791241" href="/Public/Bug/Display.html?id=57614#txn-791241">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;15&nbsp;11:49:36&nbsp;2010</span>
    <span class="description">opendev [...] us.ibm.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/791241/410030/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/410030">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 223b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Explicitly turning OFF and ON autocommit &#40;for transaction&#41; in the perl
script will solve the issue. 

Closing the defect.
-- 
Thanks
Praveen
IBM OpenSource Application Development Team
India Software Labs, Bangalore &#40;India&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-791243" href="/Public/Bug/Display.html?id=57614#txn-791243">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;15&nbsp;11:49:37&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-822079" href="/Public/Bug/Display.html?id=57614#txn-822079">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;25&nbsp;02:09:27&nbsp;2010</span>
    <span class="description">opendev [...] us.ibm.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/822079/425948/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/425948">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 131b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Marking the defect resolved.

-- 
Thanks
Praveen
IBM OpenSource Application Development Team
India Software Labs, Bangalore &#40;India&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-822081" href="/Public/Bug/Display.html?id=57614#txn-822081">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;25&nbsp;02:09:28&nbsp;2010</span>
    <span class="description">opendev [...] us.ibm.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.194231</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
