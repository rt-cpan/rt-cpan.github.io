<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #14388 for HTTP-Recorder: Can&#39;t locate object method &#34;query_param...</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #14388 for HTTP-Recorder: Can&#39;t locate object method &#34;query_param...</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=HTTP-Recorder">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=HTTP-Recorder">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=HTTP-Recorder">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=HTTP-Recorder">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTTP-Recorder">HTTP-Recorder CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">14388</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=HTTP-Recorder">HTTP-Recorder</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
httprecorder.20.cd [...] spamgourmet.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-16394-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.05    </td>
  </tr>
  <tr id="CF-16395-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




HTTP-Recorder.pm.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/612287/310668/HTTP-Recorder.pm.patch">
Sat May 30 17:13:41 2009 (419b) by sscaffidi [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=14388">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-141059" href="/Public/Bug/Display.html?id=14388#txn-141059">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;31&nbsp;20:49:07&nbsp;2005</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t locate object method &#34;query_param...</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/141059/39564/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/39564">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Module:
HTTP::Recorder

Version:
perl -MHTTP::Recorder -e &#39;use HTTP::Recorder; print HTTP::Recorder-&gt;VERSION, &#34;\n&#34;;&#39;
0.05

OS Environment:
uname -a
Linux bitspot 2.6.9-11.ELsmp #1 SMP Wed Jun 8 17:54:20 CDT 2005 i686 i686 i386 GNU/Linux

Perl Version:
perl -v

This is perl, v5.8.5 built for i386-linux-thread-multi...

Script &#40;essentially the same as the synopsis, but with two more use lines and with a port specified&#41;:

################# snip ###################
#!/usr/bin/perl

use HTTP::Proxy;
use HTTP::Recorder;
use URI::QueryParam;
use HTTP::Request::Params;

my $proxy = HTTP::Proxy-&gt;new&#40; port =&gt; 3128 &#41;;

# create a new HTTP::Recorder object
my $agent = new HTTP::Recorder;

# set the log file &#40;optional&#41;
$agent-&gt;file&#40;&#34;/tmp/myfile&#34;&#41;;

# set HTTP::Recorder as the agent for the proxy
$proxy-&gt;agent&#40; $agent &#41;;

# start the proxy
$proxy-&gt;start&#40;&#41;;

1;
################# snip ###################

Error message:
Can&#39;t locate object method &#34;query_param&#34; via package &#34;rec-action=submitform&#38;rec-formname=login&#38;rec-formnumber=1&#38;rec-form1-hidden-action=1&#38;action=authenticate&#38;rec-form1-hidden-javascriptEnabled=1&#38;javascriptEnabled=1&#38;rec-form1-text-loginId=1&#38;loginId=someuserid&#38;rec-form1-password-password=1&#38;password=somepassword&#34; &#40;perhaps you forgot to load &#34;rec-action=submitform&#38;rec-formname=login&#38;rec-formnumber=1&#38;rec-form1-hidden-action=1&#38;action=authenticate&#38;rec-form1-hidden-javascriptEnabled=1&#38;javascriptEnabled=1&#38;rec-form1-text-loginId=1&#38;loginId=someuserid&#38;rec-form1-password-password=1&#38;password=somepassword&#34;?&#41; at /usr/lib/perl5/site_perl/5.8.5/HTTP/Recorder.pm line 347.

Comment:
I see that multiple users have been experiencing this problem, and nobody is offering any useful help:

<span class="clickylink"><a target="new" rel="nofollow" href="http://aspn.activestate.com/ASPN/Mail/Message/perl-macosx/2789778">http://aspn.activestate.com/ASPN/Mail/Message/perl-macosx/2789778</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.bestpractical.com/pipermail/http-recorder/2005-August/000058.html">http://lists.bestpractical.com/pipermail/http-recorder/2005-August/000058.html</a></span>

Note that while for the first case, Gisle Aas offered a suggestion, that suggestion did not fix the problem. Neither of the above two posters is me. I am trying something very, very simple, a login to a two-field form page, through Firefox which is pointing to the proxy. It is writing to the log file, but the submit is not going through in the browser, so the browser stays at the login page without logging in, and the script prints out the error message pasted above. Please visit your email lists and relevant web sites and tell people how to fix this! Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-141060" href="/Public/Bug/Display.html?id=14388#txn-141060">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;01&nbsp;03:01:52&nbsp;2005</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kerberus [...] accidia.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/141060/39571/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/39571">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 468b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Wed Aug 31 20:49:07 2005]:

The problem seems to appear when $self-&gt;unmodify is called passing it a
plain string and not the expected URI::QueryParam object.

This appear on line 314:

312     # undo what we&#39;ve done
313     $request-&gt;uri&#40;$self-&gt;unmodify&#40;$request-&gt;uri&#41;&#41;;
314     $request-&gt;content&#40;$self-&gt;unmodify&#40;$request-&gt;content&#41;&#41;;
315

It seems that commenting that line prevent HTTP::Recorder to crash but
I&#39;m aware of others implications of this change.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-141061" href="/Public/Bug/Display.html?id=14388#txn-141061">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;01&nbsp;15:18:36&nbsp;2005</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/141061/39626/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/39626">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 551b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Thu Sep  1 03:01:52 2005]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The problem seems to appear when $self-&gt;unmodify is called passing it a
&gt; plain string and not the expected URI::QueryParam object.
</div>
Thanks. So is there a way to change the plain string into a
URI::QueryParam object before that call?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ...
&gt; It seems that commenting that line prevent HTTP::Recorder to crash but
&gt; I&#39;m aware of others implications of this change.
</div>
If you are aware of other implications, would it be possible for you to
please mention what those implications are? Thanks very much in advance.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-155347" href="/Public/Bug/Display.html?id=14388#txn-155347">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;13&nbsp;07:39:37&nbsp;2006</span>
    <span class="description">sven-bitcard [...] sven.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/155347/47539/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/47539">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 182b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The version checked into the trunk on the SVN works. Grab the tar from
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.bitmistress.org/websvn/dl.php?repname=HTTP%3A%3ARecorder&#38;path=%2Ftrunk%2Flib%2FHTTP%2F&#38;rev=0&#38;isdir=1">http://www.bitmistress.org/websvn/dl.php?repname=HTTP%3A%3ARecorder&#38;path=%2Ftrunk%2Flib%2FHTTP%2F&#38;rev=0&#38;isdir=1</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-155348" href="/Public/Bug/Display.html?id=14388#txn-155348">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;13&nbsp;07:39:38&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-177132" href="/Public/Bug/Display.html?id=14388#txn-177132">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;15&nbsp;12:47:01&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t locate object method</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/177132/60820/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/60820">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 368b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The trunk build does not return error for me but it does not record 
interaction with websites.

I am using FreeBSD 4 with perl 5.6.


On Fri Jan 13 07:39:37 2006, neuhaus wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The version checked into the trunk on the SVN works. Grab the tar from
&gt;
</div><span class="clickylink"><a target="new" rel="nofollow" href="http://www.bitmistress.org/websvn/dl.php?repname=HTTP%3A%3ARecorder&#38;path=%2Ftrunk%2Flib%2FHTTP%2F&#38;rev=0&#38;isdir=1">http://www.bitmistress.org/websvn/dl.php?repname=HTTP%3A%3ARecorder&#38;path=%2Ftrunk%2Flib%2FHTTP%2F&#38;rev=0&#38;isdir=1</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-384769" href="/Public/Bug/Display.html?id=14388#txn-384769">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;17&nbsp;16:26:31&nbsp;2007</span>
    <span class="description">bwagner [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/384769/176544/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/176544">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This solution worked for me:

<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.fsck.com/pipermail/http-recorder/2007-October/000083.html">http://lists.fsck.com/pipermail/http-recorder/2007-October/000083.html</a></span>

I&#39;m quoting it here for your convenience:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; A google search returned several complaints about the error &#34;Can&#39;t  
&gt; locate object method &#34;query_param&#34;&#34;.  Thanks to a tip from Praveen  
&gt; Hombaiah &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.bestpractical.com/pipermail/http-recorder/2006-">http://lists.bestpractical.com/pipermail/http-recorder/2006-</a></span> 
&gt; February/000077.html&#41;, I diffed the subroutine causing my complaints  
&gt; from HTTP-Recorder version 0.05 with the one in HTTP-Recorder version  
&gt; 0.03_03  &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/src/LEIRA/&#41;">http://search.cpan.org/src/LEIRA/&#41;</a></span>.
&gt; 
&gt; If you edit your version of /lib/HTTP/Recorder.pm and comment out the  
&gt; &#34;for ... $content-&gt;query_param&#34; section and paste in Leira&#39;s original  
&gt; content, then your proxy script should work.
&gt; 
&gt; 
&gt; sub unmodify {
&gt;      my $self = shift;
&gt;      my $content = shift;
&gt; 
&gt;      return $content unless $content;
&gt; 
&gt;      # get rid of the arguments we added
&gt;      my $prefix = $self-&gt;{prefix};
&gt; 
&gt;      #HIDE THIS
&gt;      #for my $key &#40;$content-&gt;query_param&#41; {
&gt;      #if &#40;$key =~ /^$prefix-/&#41; {
&gt;      #    $content-&gt;query_param_delete&#40;$key&#41;;
&gt;      #}
&gt;      #}
&gt; 
&gt;      #ADD THIS
&gt;      $content =~ s/$prefix-&#40;.*?&#41;\?&#40;.*?&#41;&#38;//g;
&gt;      $content =~ s/$prefix-&#40;.*?&#41;&#38;//g;
&gt;      $content =~ s/$prefix-&#40;.*?&#41;$//g;
&gt;      $content =~ s/&#38;$//g;
&gt;      $content =~ s/\?$//g;
&gt; 
&gt;      return $content;
&gt; }
&gt; 
</div>
Bernhard
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-612287" href="/Public/Bug/Display.html?id=14388#txn-612287">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;30&nbsp;17:13:41&nbsp;2009</span>
    <span class="description">sscaffidi [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Can&#39;t locate object method &#34;query_param... | Patch attached</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/612287/310665/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/310665">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 460b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here&#39;s a patch that fixes this issue for the most recent version on CPAN
&#40; 0.05 &#41;

It applies cleanly and solves the problem without bypassing the
functionality of the code that throws the error &#40;it recasts the string
as a URI::http object before query_params&#40;&#41; is called on it&#41;

Initially I emailed the author directly, because RT was down, but this
way anybody else who encounters this bug can just apply this patch to
the unpacked tarball before building.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/612287/310668/HTTP-Recorder.pm.patch">Download HTTP-Recorder.pm.patch</a><br />
<span class="downloadcontenttype">text/x-diff 419b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- lib/HTTP/Recorder.pm.orig	2009-05-30 11:41:38.083094107 -0400
+++ lib/HTTP/Recorder.pm	2009-05-30 11:58:24.862173149 -0400
@@ -344,6 +344,9 @@
     # get rid of the arguments we added
     my $prefix = $self-&gt;{prefix};
 
+    # bug fix for rt 14388 &#40;sscaffidi&#41;
+    $content = URI-&gt;new&#40; $content &#41;;
+
     for my $key &#40;$content-&gt;query_param&#41; {
 	if &#40;$key =~ /^$prefix-/&#41; {
 	    $content-&gt;query_param_delete&#40;$key&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232431" href="/Public/Bug/Display.html?id=14388#txn-1232431">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;02:46:33&nbsp;2013</span>
    <span class="description">shmuelfomberg [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1232431/651281/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/651281">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 45b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bug was fix, thanks for the patch.

- Shmuel.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1232434" href="/Public/Bug/Display.html?id=14388#txn-1232434">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;05&nbsp;02:46:33&nbsp;2013</span>
    <span class="description">shmuelfomberg [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.577061</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
