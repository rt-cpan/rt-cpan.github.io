<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #31102 for Apache2-Pod: Apache2-Pod-HTML bug</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #31102 for Apache2-Pod: Apache2-Pod-HTML bug</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Apache2-Pod/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Apache2-Pod/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Apache2-Pod/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Apache2-Pod/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Apache2-Pod">Apache2-Pod CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">31102</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time estimated">
    <td class="label">Estimated:</td>
    <td class="value">6 hours (360 min)

</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">40 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">1/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Apache2-Pod/Active/">Apache2-Pod</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">MARKLE [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Philip.Cole [...] sophos.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-42068-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.24    </td>
  </tr>
  <tr id="CF-42069-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.25    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;07:09:16&nbsp;2007</span>
    <span class="description">Philip.Cole [...] sophos.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Apache2-Pod-HTML bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Nov 2007 12:07:52 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Apache2-Pod [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Philip.Cole [...] sophos.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

I&#39;ve been involved in migrating our webservers from Apache 1.3 to Apache 
2.2 on RedHat Enterprise Linux 5 and I&#39;ve come up against a bug in 
Apache2::Pod::HTML which I believe you wrote and maintain.

On 2 lines in that file, you include the line $r-&gt;send_http_header which 
no longer exists with an Apache2::RequestRec object.  Apache2 doesn&#39;t 
require the line and I found that the module works fine with the lines 
commented out.  I have included the output from diff -u below.


--- Apache2/Pod/HTML-fixed.pm            2007-11-30 11:57:56.000000000 
+0000
+++ Apache2/Pod/HTML.pm          2007-01-05 01:46:05.000000000 +0000
@@ -117,7 +117,7 @@
 
                 if &#40; $r-&gt;path_info eq &#39;/auto.css&#39; &#41; {
                                 $r-&gt;content_type&#40; &#39;text/css&#39; &#41;;
-                                #$r-&gt;send_http_header;
+                                $r-&gt;send_http_header;
                                 $r-&gt;print&#40; _css&#40;&#41; &#41;;
                                 return Apache2::Const::OK;
                 }
@@ -170,7 +170,7 @@
                                 };
                 }
                 $r-&gt;content_type&#40;&#39;text/html&#39;&#41;;
-                #$r-&gt;send_http_header;
+                $r-&gt;send_http_header;
                 $r-&gt;print&#40; $body &#41;;
 
                 return Apache2::Const::OK;


Regards

Phil

-- 
Philip Cole
Perl Programmer, Global Web Group, Sophos

Tel: 01235 559933
Web: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sophos.com">http://www.sophos.com</a></span>
Sophos - security and control


Sophos Plc, The Pentagon, Abingdon Science Park, Abingdon,
OX14 3YP, United Kingdom.

Company Reg No 2096520. VAT Reg No GB 348 3873 20.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:00:16&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> theronl [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the info and patch.  I will put out a new revision with the
bug fix as soon as I can.  Look for it over the next week or so.

-Theron

On Fri Nov 30 07:09:16 2007, Philip.Cole@sophos.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; I&#39;ve been involved in migrating our webservers from Apache 1.3 to Apache 
&gt; 2.2 on RedHat Enterprise Linux 5 and I&#39;ve come up against a bug in 
&gt; Apache2::Pod::HTML which I believe you wrote and maintain.
&gt; 
&gt; On 2 lines in that file, you include the line $r-&gt;send_http_header which 
&gt; no longer exists with an Apache2::RequestRec object.  Apache2 doesn&#39;t 
&gt; require the line and I found that the module works fine with the lines 
&gt; commented out.  I have included the output from diff -u below.
&gt; 
&gt; 
&gt; --- Apache2/Pod/HTML-fixed.pm            2007-11-30 11:57:56.000000000 
&gt; +0000
&gt; +++ Apache2/Pod/HTML.pm          2007-01-05 01:46:05.000000000 +0000
&gt; @@ -117,7 +117,7 @@
&gt;  
&gt;                  if &#40; $r-&gt;path_info eq &#39;/auto.css&#39; &#41; {
&gt;                                  $r-&gt;content_type&#40; &#39;text/css&#39; &#41;;
&gt; -                                #$r-&gt;send_http_header;
&gt; +                                $r-&gt;send_http_header;
&gt;                                  $r-&gt;print&#40; _css&#40;&#41; &#41;;
&gt;                                  return Apache2::Const::OK;
&gt;                  }
&gt; @@ -170,7 +170,7 @@
&gt;                                  };
&gt;                  }
&gt;                  $r-&gt;content_type&#40;&#39;text/html&#39;&#41;;
&gt; -                #$r-&gt;send_http_header;
&gt; +                $r-&gt;send_http_header;
&gt;                  $r-&gt;print&#40; $body &#41;;
&gt;  
&gt;                  return Apache2::Const::OK;
&gt; 
&gt; 
&gt; Regards
&gt; 
&gt; Phil
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:00:27&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other AddReminder even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:02:43&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Reminder &#39;Apache2 bug fix&#39; added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:03:38&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Priority changed from &#40;no value&#41; to &#39;1&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:03:39&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  TimeEstimated changed from &#40;no value&#41; to &#39;360&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:03:39&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Severity Critical added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:03:40&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Broken in 0.24 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;30&nbsp;17:03:56&nbsp;2007</span>
    <span class="description">theronl [...] gmail.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other ResolveReminder even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;12&nbsp;21:39:12&nbsp;2007</span>
    <span class="description">zakame [...] cpan.org -  Reminder &#39;Apache2 bug fix&#39; completed</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;12&nbsp;21:42:00&nbsp;2007</span>
    <span class="description">zakame [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Err why did I get a reminder to this bug?  I do not remember adding one
to my own...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;13&nbsp;04:16:52&nbsp;2007</span>
    <span class="description">Philip.Cole [...] sophos.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #31102] Apache2-Pod-HTML bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Dec 2007 09:16:28 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Apache2-Pod [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Philip.Cole [...] sophos.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No idea.  I didn&#39;t set/change anything either.

Phil





&#34;Zak B. Elep via RT&#34; &lt;bug-Apache2-Pod@rt.cpan.org&gt; 
13/12/2007 02:42
Please respond to
bug-Apache2-Pod@rt.cpan.org


To
Philip.Cole@sophos.com
cc

Subject
[rt.cpan.org #31102] Apache2-Pod-HTML bug







&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=31102">http://rt.cpan.org/Ticket/Display.html?id=31102</a></span> &gt;

Err why did I get a reminder to this bug?  I do not remember adding one
to my own...




-- 
Philip Cole
Perl Programmer, Global Web Group, Sophos

Tel: 01235 559933
Web: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sophos.com">http://www.sophos.com</a></span>
Sophos - security and control


Sophos Plc, The Pentagon, Abingdon Science Park, Abingdon,
OX14 3YP, United Kingdom.

Company Reg No 2096520. VAT Reg No GB 348 3873 20.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other ResolveReminder odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;26&nbsp;23:07:29&nbsp;2007</span>
    <span class="description">root [...] localhost -  Reminder &#39;Apache2 bug fix&#39; completed</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;27&nbsp;18:43:12&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi - this was not fixed and has been stalled for more than a year.

I think the author was using Apache::compat, which apparently is no
longer part of any distribution of mod_perl2.  &#40;I&#39;ve asked in the
modperl mailing list about that.&#41;

And, the submitted diff -u patch was backwards, adding the line that
should have been removed.  

Here is the correct patch, for both Apache2::Pod::HTML and
Apache2::Pod::Text, attached.

It should be a simple fix to update for CPAN.  Do you need beer?

Mark
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: lib/Apache2/Pod/HTML.pm
===================================================================
--- HTML.pm.orig	2009-01-27 15:35:24.000000000 -0800
+++ HTML.pm	2009-01-27 15:35:36.000000000 -0800
@@ -117,7 +117,6 @@
 
 	if &#40; $r-&gt;path_info eq &#39;/auto.css&#39; &#41; {
 		$r-&gt;content_type&#40; &#39;text/css&#39; &#41;;
-		$r-&gt;send_http_header;
 		$r-&gt;print&#40; _css&#40;&#41; &#41;;
 		return Apache2::Const::OK;
 	}
@@ -170,7 +169,6 @@
 		};
 	}
 	$r-&gt;content_type&#40;&#39;text/html&#39;&#41;;
-	$r-&gt;send_http_header;
 	$r-&gt;print&#40; $body &#41;;
 	
 	return Apache2::Const::OK;
Index: lib/Apache2/Pod/Text.pm
===================================================================
--- Text.pm.orig	2009-01-27 15:35:18.000000000 -0800
+++ Text.pm	2009-01-27 15:35:45.000000000 -0800
@@ -60,7 +60,6 @@
 		$parser-&gt;parse_string_document&#40; $document &#41;;
 	}
 	$r-&gt;content_type&#40;&#39;text/plain&#39;&#41;;
-	$r-&gt;send_http_header;
 	$r-&gt;print&#40; $str &#41;;
 	
 	return Apache2::Const::OK;

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;28&nbsp;08:13:36&nbsp;2009</span>
    <span class="description">Philip.Cole [...] sophos.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #31102] Apache2-Pod-HTML bug </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 28 Jan 2009 09:15:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Apache2-Pod [...] rt.cpan.org&#34; &lt;bug-Apache2-Pod [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Philip Cole &lt;philip.cole [...] sophos.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks for not forgetting this - I&#39;d rather put it to the back of my mind...

Sorry the patch was backwards - didn&#39;t notice that at the time.

No beer required :&#41;

Phil


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: MARKLE via RT [mailto:bug-Apache2-Pod@rt.cpan.org]
Sent: 27 January 2009 23:43
To: Philip Cole
Subject: [rt.cpan.org #31102] Apache2-Pod-HTML bug

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=31102">https://rt.cpan.org/Ticket/Display.html?id=31102</a></span> &gt;

Hi - this was not fixed and has been stalled for more than a year.

I think the author was using Apache::compat, which apparently is no longer part of any distribution of mod_perl2.  &#40;I&#39;ve asked in the modperl mailing list about that.&#41;

And, the submitted diff -u patch was backwards, adding the line that should have been removed.

Here is the correct patch, for both Apache2::Pod::HTML and Apache2::Pod::Text, attached.

It should be a simple fix to update for CPAN.  Do you need beer?

Mark

Sophos Plc, The Pentagon, Abingdon Science Park, Abingdon, OX14 3YP, United Kingdom.
Company Reg No 2096520. VAT Reg No GB 348 3873 20.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;29&nbsp;20:17:42&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 28 08:13:36 2009, Philip.Cole@sophos.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; Thanks for not forgetting this - I&#39;d rather put it to the back
&gt; of my mind...
&gt; 
&gt; Sorry the patch was backwards - didn&#39;t notice that at
&gt; the time.
&gt; 
&gt; No beer required :&#41;
</div>
I was referring to Theron Lewis, who seems to have abandoned this
package.  I will try to take it over.

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;18&nbsp;14:41:58&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Fixed in 0.25 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Steal even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;18&nbsp;14:42:33&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Stolen from KYPREOS</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;18&nbsp;14:43:23&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.25, I am now co-maintainer of the package.  I don&#39;t know how
much work I&#39;ll do on it, but at least it works without apache2 compat now.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;18&nbsp;14:43:25&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
