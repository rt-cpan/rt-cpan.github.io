<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18819 for Net-DNS: EBCDIC vs ISO coded character sets</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18819 for Net-DNS: EBCDIC vs ISO coded character sets</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-DNS/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18819</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-DNS/Active/">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">OLAF [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
michael.klaeschen [...] provinzial.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




DNS.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/188946/67993/DNS.pm">
Sat Apr 22 01:48:17 2006 (28.9k) by Guest
</a>
</font></li>
</ul>


getmx.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/188946/67996/getmx.pl">
Sat Apr 22 01:48:17 2006 (543b) by Guest
</a>
</font></li>
</ul>


PGP.sig<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/188673/67860/PGP.sig">
Fri Apr 21 12:14:34 2006 (227b) by olaf [...] dacht.net
</a>
</font></li>
</ul>


signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/188680/67868/signature.asc">
Fri Apr 21 13:28:19 2006 (252b) by olaf [...] dacht.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;11:45:59&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> EBCDIC vs ISO coded character sets</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

querying MX records from an EBCDIC system against ISO/Unicode based 
DNS does not work as expected. The name of the questioned domain is 
transferred in EBCDIC coded characters. This can be checked e.g. with 
the ethereal program. I think, the DNS server interprets these EBCDIC 
coded characters through an ISO code page. Result we see is that DNS 
delivers no MX records because there are none for the questioned 
domain &#40;NOERR result code&#41;.

Changing the method presentation2wire of DNS.pm so that a character 
set conversion from EBCDIC coded characters to ISO is done prior to 
sending the question to the DNS delivers the expected behaviour. The 
DNS server answers with the expected MX records. 
However, a similar problem is seen viceversa, the answer from the DNS 
server needs to be retranslated from ISO coded characters into EBCDIC 
for further processing. I also changed the method wire2presentation 
accordingly. But am not quite sure, that it is called to derive 
entries for the MX records.

I think there is a similar problem for querying other DNS resources 
like looking up host name addresses.

Sincerely yours
Michael Kläschen

- Perl Version is 5.8.7,
- Version of Net::DNS is 0.57
- Operating System Type and Version is z/OS V1R7
- Version of nameserver is unknown, probably some Microsoft Windows DNS
- exact text of error message or description of problem : please see 
above
- the shortest possible program that exhibits the problem : examples 
of the Net::DNS manual page
- the specific queries you&#39;re making, if the data is available to 
Internet nameservers : no internet DNS
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;12:14:34&nbsp;2006</span>
    <span class="description">olaf [...] dacht.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #18819] EBCDIC vs ISO coded character sets </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Apr 2006 18:13:27 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Olaf M. Kolkman&#34; &lt;olaf [...] dacht.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Apr 21, 2006, at 5:46 PM, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; querying MX records from an EBCDIC system against ISO/Unicode based
&gt; DNS does not work as expected.
</div>
Net::DNS is not IDN aware.

You will have to do nameprep yourself before sending the query  
&#40;RFC3490 and RFC3491&#41;. In other words you will have to take your  
unicode string and convert it to xn--blafoo and then hand it to  
Net::DNS.

See e.g. <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~cfaerber/Net-IDN-Encode-0.02/Encode.pm">http://search.cpan.org/~cfaerber/Net-IDN-Encode-0.02/Encode.pm</a></span>


--Olaf

------------------------------------------------------
Ik dacht net... heel even maar.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/188673/67860/PGP.sig">Download PGP.sig</a><br />
<span class="downloadcontenttype">application/pgp-signature 227b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;12:14:36&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;13:07:53&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> michael.klaeschen [...] provinzial.de</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fr. 21. Apr. 2006, 12:14:34, olaf@dacht.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; On Apr 21, 2006, at 5:46 PM, Guest via RT wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; querying MX records from an EBCDIC system against ISO/Unicode based
&gt; &gt; DNS does not work as expected.
</div>&gt; 
&gt; Net::DNS is not IDN aware.
&gt; 
&gt; You will have to do nameprep yourself before sending the query  
&gt; &#40;RFC3490 and RFC3491&#41;. In other words you will have to take your  
&gt; unicode string and convert it to xn--blafoo and then hand it to  
&gt; Net::DNS.
&gt; 
&gt; See e.g. <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~cfaerber/Net-IDN-Encode-">http://search.cpan.org/~cfaerber/Net-IDN-Encode-</a></span>
</div>0.02/Encode.pm
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 
&gt; --Olaf
&gt; 
&gt; ------------------------------------------------------
&gt; Ik dacht net... heel even maar.
&gt; 
&gt; 
&gt; 
</div>Hello Olaf,

thank you for the answer. I am not much familiar with these RFCs. But 
the questioned domain names are correct by means of just 
using &#34;default&#34; characters like a to z. The domain for which MX 
records are queried in this example is &#34;provinzial.de&#34;. So, I do not 
think that IDN is a matter in this case.

The Net::DNS perl module forms a UDP packet to question the DNS 
server. Within this packet, the domain name is coded as &#34;provinzialde&#34; 
as expected. 
My problem is, that the characters &#34;provinzialde&#34; are coded in EBCDIC 
because the perl program runs in an EBCDIC based system. The 
characters &#34;provinzialde&#34; are not translated into ISO character set 
&#40;like ISO8859-1 which I think is a superset of the ASCII coded 
character set&#41; before forming or sending the UDP packet.

The DNS server obviously expects the questioned domain name coded in 
ISO or unicode character set &#40;I am not sure which of it&#41;. Since the 
meaning of codes differs in EBCDIC and ISO &#40;e.g. the charcter &#39;p&#39; is 
coded as 0x97 in EBCDIC IBM-1047 but 0x97 in ISO 8859-1 shows &#34;ø&#34;&#41;, 
the DNS server cannot deliver the corect answer.

I cannot translate the questioned domain name &#34;provinzial.de&#34; before 
calling the mx method because then, the dot-sign is also changed from 
EBCDIC to ISO and therefore not accessible for Net:DNS methods forming 
the UPD packet any more.

Sincerely yours
Michael
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;13:28:18&nbsp;2006</span>
    <span class="description">olaf [...] dacht.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #18819] EBCDIC vs ISO coded character sets</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 21 Apr 2006 19:26:50 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Olaf M. Kolkman&#34; &lt;olaf [...] dacht.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;
&gt; The DNS server obviously expects the questioned domain name coded in 
&gt; ISO or unicode character set &#40;I am not sure which of it&#41;. Since the 
&gt; meaning of codes differs in EBCDIC and ISO &#40;e.g. the charcter &#39;p&#39; is 
&gt; coded as 0x97 in EBCDIC IBM-1047 but 0x97 in ISO 8859-1 shows &#34;ø&#34;&#41;, 
&gt; the DNS server cannot deliver the corect answer.
&gt;
&gt; I cannot translate the questioned domain name &#34;provinzial.de&#34; before 
&gt; calling the mx method because then, the dot-sign is also changed from 
&gt; EBCDIC to ISO and therefore not accessible for Net:DNS methods forming 
&gt; the UPD packet any more.
&gt;   
</div>

Aha... I misread the problem.

This is not trival and not directly part of my area of expertise.
Besides, I do not have access to systems that speak EBCDIC. Could you
send me the patches you made so I can start of with trying to understand
what you did to tackle this?

I am afraid that I may not be able to solve this in a reasonable time.

--Olaf
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/188680/67868/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 252b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;22&nbsp;01:48:16&nbsp;2006</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> michael.klaeschen [...] provinzial.de</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fr. 21. Apr. 2006, 13:28:18, olaf@dacht.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Guest via RT wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt;
&gt; &gt; The DNS server obviously expects the questioned domain name coded 
</div></div>in 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; ISO or unicode character set &#40;I am not sure which of it&#41;. Since 
</div></div>the 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; meaning of codes differs in EBCDIC and ISO &#40;e.g. the charcter &#39;p&#39; 
</div></div>is 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; coded as 0x97 in EBCDIC IBM-1047 but 0x97 in ISO 8859-1 
</div></div>shows &#34;ø&#34;&#41;, 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; the DNS server cannot deliver the corect answer.
&gt; &gt;
&gt; &gt; I cannot translate the questioned domain name &#34;provinzial.de&#34; 
</div></div>before 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; calling the mx method because then, the dot-sign is also changed 
</div></div>from 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; EBCDIC to ISO and therefore not accessible for Net:DNS methods 
</div></div>forming 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; the UPD packet any more.
&gt; &gt;   
</div>&gt; 
&gt; 
&gt; Aha... I misread the problem.
&gt; 
&gt; This is not trival and not directly part of my area of expertise.
&gt; Besides, I do not have access to systems that speak EBCDIC. Could you
&gt; send me the patches you made so I can start of with trying to 
</div>understand
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; what you did to tackle this?
&gt; 
&gt; I am afraid that I may not be able to solve this in a reasonable 
</div>time.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; --Olaf
&gt; 
&gt; 
&gt; 
</div>Hello Olaf,

the only perl program I changed is DNS.pm. The file was stored by the 
make install procedure in &#34;$PERL5LIB/site_perl/5.8.7/os390-thread-
multi/Net/DNS.pm&#34; . I marked my changes by adding comments in the 
form &#34;#MKL&#34;. They should only appear within methods presentation2wire 
and wire2presentation.
The sample getmx.pl program may give an impression on what I try to 
do. This MX testcase in particular works. But I did not succeed e.g. 
querying IP-addresses.

Thank you, best regards
Michael
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">use Net::DNS;

  my $res = Net::DNS::Resolver-&gt;new&#40;
        nameservers =&gt; [qw&#40;172.17.144.144 172.17.170.175 172.19.231.103&#41;],
        #nameservers =&gt; [qw&#40;10.11.114.247&#41;],

        recurse     =&gt; 0,
        debug       =&gt; 0,
  &#41;;

  $name = &#34;provinzial.de&#34;;
  @mx = mx&#40;$res, $name&#41;;
  if &#40;@mx&#41; {
      foreach $rr &#40;@mx&#41; {
          print $rr-&gt;preference, &#34; &#34;,  Net::DNS::wire2presentation&#40;$rr-&gt;exchange&#41;, &#34;\n&#34;;
      }
  }
  else {
      print &#34;can&#39;t find MX records for $name: &#34;, $res-&gt;errorstring, &#34;\n&#34;;
  }

exit 0;

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;25&nbsp;08:34:06&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Severity Wishlist added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;25&nbsp;08:34:18&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;25&nbsp;08:34:50&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;25&nbsp;08:35:03&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;25&nbsp;09:00:54&nbsp;2007</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;27&nbsp;11:52:14&nbsp;2012</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Unicode support:  was EBCDIC vs ISO coded character sets</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
I guess nobody cares about EBCDIC any more.
Perl&#39;s internal character encoding and Unicode support has also changed.
Unfortunately, Net::DNS also has to work on Perl 5.6.1 which uses the
native character encoding &#40;ASCII/EBCDIC&#41; and does not know what to do
with the spare bits. 

All these unpleasant details have now been locked away inside the
Domain.pm and Text.pm packages and RR.pm and its derived types are
implemented in terms of these primitive objects.

Please read Perl&#39;s Unicode tutorial and other documentation.
If you get messages warning about &#34;wide characters&#34;, this indicates a
lack of understanding on your part, and/or bugs in your program. It is
very unlikely to be a bug in Net::DNS which rigidly segregates binary
and character data.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Oct&nbsp;27&nbsp;11:52:15&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;11:13:08&nbsp;2012</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
