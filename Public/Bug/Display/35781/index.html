<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #35781 for XML-LibXSLT: Stack Smash on Mandriva Cooker with perl-5.10.0-13mdv2008.1</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #35781 for XML-LibXSLT: Stack Smash on Mandriva Cooker with perl-5.10.0-13mdv2008.1</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=XML-LibXSLT">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=XML-LibXSLT">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=XML-LibXSLT">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=XML-LibXSLT">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-LibXSLT">XML-LibXSLT CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">35781</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=XML-LibXSLT">XML-LibXSLT</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SHLOMIF [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-37372-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.66    </td>
  </tr>
  <tr id="CF-37373-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=35781">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-460001" href="/Public/Bug/Display.html?id=35781#txn-460001">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;11&nbsp;15:54:51&nbsp;2008</span>
    <span class="description">SHLOMIF [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Stack Smash on Mandriva Cooker with perl-5.10.0-13mdv2008.1</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/460001/226257/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/226257">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The link <span class="clickylink"><a target="new" rel="nofollow" href="http://xrl.us/bke4t">http://xrl.us/bke4t</a></span> points to an svn directory which contains 
a Module-Build-based module which uses XML-LibXSLT. On Mandriva Cooker 
I&#39;m getting the following problem:

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
shlomi:$module$ perl t/to-xhtml.t
1..1
*** stack smashing detected ***: perl terminated
======= Backtrace: =========
/lib/i686/libc.so.6&#40;__fortify_fail+0x48&#41;[0xb7d66658]
/lib/i686/libc.so.6&#40;__fortify_fail+0x0&#41;[0xb7d66610]
/usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/LibXML.so[0xb78b5504]
/usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/LibXML.so[0xb78ac79b]
======= Memory map: ========
08048000-08049000 r-xp 00000000 08:21 67278791   /usr/bin/perl5.10.0
08049000-0804a000 rw-p 00000000 08:21 67278791   /usr/bin/perl5.10.0
08c2c000-08e7f000 rw-p 08c2c000 00:00 0          [heap]
b7781000-b77ed000 r-xp 00000000 08:21 
84116114   /usr/lib/libgcrypt.so.11.4.3
b77ed000-b77ef000 rw-p 0006c000 08:21 
84116114   /usr/lib/libgcrypt.so.11.4.3
b77ef000-b7825000 r-xp 00000000 08:21 
83902299   /usr/lib/libxslt.so.1.1.23
b7825000-b7826000 rw-p 00036000 08:21 
83902299   /usr/lib/libxslt.so.1.1.23
b7857000-b78c5000 r-xp 00000000 08:21 
219357664  /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/LibXML.so
b78c5000-b78c6000 rw-p 0006d000 08:21 
219357664  /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/LibXML.so
b78c6000-b79f7000 r-xp 00000000 08:21 
83925346   /usr/lib/libxml2.so.2.6.32
b79f7000-b79fc000 rw-p 00130000 08:21 
83925346   /usr/lib/libxml2.so.2.6.32
b79fc000-b79fd000 rw-p b79fc000 00:00 0
b79ff000-b7a0a000 r-xp 00000000 08:21 
50331902   /lib/libgcc_s-4.2.3.so.1
b7a0a000-b7a0b000 rw-p 0000a000 08:21 
50331902   /lib/libgcc_s-4.2.3.so.1
b7a0b000-b7a1c000 r-xp 00000000 08:21 
83894295   /usr/lib/libexslt.so.0.8.13
b7a1c000-b7a1d000 rw-p 00011000 08:21 
83894295   /usr/lib/libexslt.so.0.8.13
b7a1d000-b7a2d000 r-xp 00000000 08:21 
789791     /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXSLT/LibXSLT.so
b7a2d000-b7a2e000 rw-p 0000f000 08:21 
789791     /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXSLT/LibXSLT.so
b7a2e000-b7a31000 r-xp 00000000 08:21 
235052047  /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/Common/Common.so
b7a31000-b7a32000 rw-p 00002000 08:21 
235052047  /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi/auto/XML/LibXML/Common/Common.so
b7a32000-b7a71000 r--p 00000000 08:21 
234881165  /usr/share/locale/UTF-8/LC_CTYPE
b7a71000-b7b55000 r--p 00000000 08:21 
235074083  /usr/share/locale/UTF-8/LC_COLLATE
b7b55000-b7c7e000 r--p 00000000 08:21 
117464249  /usr/share/locale/locale-archive
b7c7e000-b7c7f000 rw-p b7c7e000 00:00 0
b7c7f000-b7dbd000 r-xp 00000000 08:21 151350386  /lib/i686/libc-2.7.so
b7dbd000-b7dbf000 r--p 0013e000 08:21 151350386  /lib/i686/libc-2.7.so
b7dbf000-b7dc0000 rw-p 00140000 08:21 151350386  /lib/i686/libc-2.7.so
b7dc0000-b7dc3000 rw-p b7dc0000 00:00 0
b7dc3000-b7dd6000 r-xp 00000000 08:21 
151353196  /lib/i686/libpthread-2.7.so
b7dd6000-b7dd7000 r--p 00012000 08:21 
151353196  /lib/i686/libpthread-2.7.so
b7dd7000-b7dd8000 rw-p 00013000 08:21 
151353196  /lib/i686/libpthread-2.7.so
b7dd8000-b7dda000 rw-p b7dd8000 00:00 0
b7dda000-b7ddc000 r-xp 00000000 08:21 51325540   /lib/libutil-2.7.so
b7ddc000-b7ddd000 r--p 00001000 08:21 51325540   /lib/libutil-2.7.so
b7ddd000-b7dde000 rw-p 00002000 08:21 51325540   /lib/libutil-2.7.so
b7dde000-b7ddf000 rw-p b7dde000 00:00 0
b7ddf000-b7ded000 r-xp 00000000 08:21 50535517   /lib/libcrypt-2.7.so
b7ded000-b7dee000 r--p 0000d000 08:21 50535517   /lib/libcrypt-2.7.so
b7dee000-b7df0000 rw-p 0000e000 08:21 50535517   /lib/libcrypt-2.7.so
b7df0000-b7e28000 rw-p b7df0000 00:00 0
b7e28000-b7e4b000 r-xp 00000000 08:21 151350415  /lib/i686/libm-2.7.so
b7e4b000-b7e4c000 r--p 00023000 08:21 151350415  /lib/i686/libm-2.7.so
b7e4c000-b7e4d000 rw-p 00024000 08:21 151350415  /lib/i686/libm-2.7.so
b7e4d000-b7e4f000 r-xp 00000000 08:21 51323472   /lib/libdl-2.7.so
b7e4f000-b7e50000 r--p 00001000 08:21 51323472   /lib/libdl-2.7.so
b7e50000-b7e51000 rw-p 00002000 08:21 51323472   /lib/libdl-2.7.so
b7e51000-b7e64000 r-xp 00000000 08:21 51323477   /lib/libnsl-2.7.so
b7e64000-b7e65000 r--p 00012000 08:21 51323477   /lib/libnsl-2.7.so
b7e65000-b7e66000 rw-p 00013000 08:21 51323477   /lib/libnsl-2.7.so
b7e66000-b7e68000 rw-p b7e66000 00:00 0
b7e6b000-b7e70000 r-xp 00000000 08:21 
84156550   /usr/lib/libgdbm.so.3.0.0
b7e70000-b7e71000 rw-p 00004000 08:21 
84156550   /usr/lib/libgdbm.so.3.0.0
b7e71000-b7e74000 r-xp 00000000 08:21 
83949026   /usr/lib/libgpg-error.so.0.4.0
b7e74000-b7e75000 rw-p 00002000 08:21 
83949026   /usr/lib/libgpg-error.so.0.4.0
b7e75000-b7e79000 r-xp 00000000 08:21 
68740689   /usr/lib/perl5/5.10.0/i386-linux-thread-multi/auto/IO/IO.so
b7e79000-b7e7a000 rw-p 00003000 08:21 
68740689   /usr/lib/perl5/5.10.0/i386-linux-thread-multi/auto/IO/IO.so
b7e7a000-b7e8c000 r-xp 00000000 08:21 50412569   /lib/libz.so.1.2.3
b7e8c000-b7e8d000 rw-p 00012000 08:21 50412569   /lib/libz.so.1.2.3
b7e8d000-b7e8e000 r--p 00000000 08:21 
136409979  /usr/share/locale/en_US.UTF-8/LC_MONETARY
b7e8e000-b7e8f000 r--p 00000000 08:21 
150995096  /usr/share/locale/en_US.UTF-8/LC_MESSAGES/SYS_LC_MESSAGES
b7e8f000-b7e90000 r--p 00000000 08:21 
134299716  /usr/share/locale/en_US.UTF-8/LC_PAPER
b7e90000-b7e91000 r--p 00000000 08:21 
136409982  /usr/share/locale/en_US.UTF-8/LC_ADDRESS
b7e91000-b7e98000 r--s 00000000 08:21 
184772860  /usr/lib/gconv/gconv-modules.cache
b7e98000-b7e99000 r--p 00000000 08:21 
136409978  /usr/share/locale/en_US.UTF-8/LC_TELEPHONE
b7e99000-b7fec000 r-xp 00000000 08:21 117519642  /usrAborted
shlomi:$module$      
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
versions:

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
shlomi:$module$ rpm -q perl-XML-LibXSLT
perl-XML-LibXSLT-1.66-1mdv2008.1
shlomi:$module$ rpm -q perl
perl-5.10.0-13mdv2008.1
shlomi:$module$ rpm -q perl-XML-LibXML
perl-XML-LibXML-1.66-1mdv2008.1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
Regards,

       Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-484221" href="/Public/Bug/Display.html?id=35781#txn-484221">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;08&nbsp;14:10:02&nbsp;2008</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/484221/239301/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/239301">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 327b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Is there any progress on this bug? It seems to occur with a vanilla 
perl-5.10.0 too. And it stalls the release of this module 
<span class="clickylink"><a target="new" rel="nofollow" href="https://svn.berlios.de/svnroot/repos/web-cpan/XML-Grammar-Fortune/">https://svn.berlios.de/svnroot/repos/web-cpan/XML-Grammar-Fortune/</a></span> and 
heavily complicates my home-site&#39;s build process.

Whatever happens, Perl should not segfault.

Regards,

        Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-484223" href="/Public/Bug/Display.html?id=35781#txn-484223">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;08&nbsp;14:10:04&nbsp;2008</span>
    <span class="description">SHLOMIF [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-484298" href="/Public/Bug/Display.html?id=35781#txn-484298">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;08&nbsp;16:49:07&nbsp;2008</span>
    <span class="description">pajas [...] matfyz.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/484298/239330/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/239330">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 7.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Shlomi,

I cannot provide any support for rpm packages, that&#39;s problem for the 
distributors. Did you try compiling CPAN versions of 
XML-LibXML/XSLT-1.66?  If you say you tried vanilla perl-5.10, did you 
recompile the XML-LibX* packages? Can you run valgrind on your test:

   valgrind perl -Mblib t/to-xhtml.t

and post the output?

You should also post the output of perl -V, and indicate the versions 
of libxml2 and libxslt used &#40;and maybe also try vanilla ones from 
xmlsoft.org&#41;.

I tried your test with CPAN 1.66-versions on openSUSE 11 &#40;also 
perl-5.10&#41;, and got no segfault at all; also, no error was reported by 
valgrind. This does not prove anything, since many things may be 
different between my and your configuration, but it&#39;s up to you to do 
some more testing. I&#39;ll try a vanilla perl-5.10, since so far I used 
vendor&#39;s, which says

  Compile-time options: DEBUGGING MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
                        PERL_TRACK_MEMPOOL PERL_USE_SAFE_PUTENV
                        USE_64_BIT_ALL USE_64_BIT_INT USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_REENTRANT_API

Instead of a segfault, I got a usual failure, probably because your 
test is not correct.

t/to-xhtml........NOK 1/1
#   Failed test &#39;Testing for Good XSLTing 
of &#39;irc-conversation-4-several-convos&#39;&#39;
#   at t/to-xhtml.t line 52.
Wide character in print at /usr/lib/perl5/5.10.0/Test/Builder.pm line 
1275.
#          got: &#39;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
# &lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 
1.1//EN&#34; &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd</a></span>&#34;&gt;
# &lt;html&gt;
# &lt;head&gt;
# &lt;title&gt;Fortunes&lt;/title&gt;
# &lt;/head&gt;
# &lt;body&gt;
# &lt;div class=&#34;fortune&#34;&gt;
# &lt;h3 id=&#34;Im-not-an-asshole&#34;&gt;I&#39;m not an Asshole…&lt;/h3&gt;
# &lt;table class=&#34;irc-conversation&#34;&gt;
# &lt;tbody&gt;
# &lt;tr class=&#34;joins&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;←mofino&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;has joined #perlcafe&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;mofino&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;I&#39;m not an asshole. I just play one
#                     on T.V.&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;leaves&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;→mofino&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;has left #perlcafe&lt;/td&gt;
# &lt;/tr&gt;
# &lt;/tbody&gt;
# &lt;/table&gt;
# &lt;/div&gt;
# &lt;div class=&#34;fortune&#34;&gt;
# &lt;h3 id=&#34;the-only-language&#34;&gt;&#34;The Only Language&#34;&lt;/h3&gt;
# &lt;table class=&#34;irc-conversation&#34;&gt;
# &lt;tbody&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;This reminds me of a fun
#                         discussion I had with my co-worker.&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;He had a Firefox window open with an
#                         ActiveState page and I read &#34;Perl, PHP, 
Python,
#                         Tcl, XSLT&#34;.&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;So he said: &#34;Heresy! C is the only
#                         language.&#34;&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;So I thought for a moment and
#                         said &#34;Intercal is the only language.&#34;&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;nanonyme&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;lol&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;And then &#34;Real men write in Intercal.&#34;&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;&#34;COME FROM&#34; anyone?&lt;/td&gt;
# &lt;/tr&gt;
# &lt;/tbody&gt;
# &lt;/table&gt;
# &lt;/div&gt;
# &lt;div class=&#34;fortune&#34;&gt;
# &lt;h3 id=&#34;let-me-wikipedia-it&#34;&gt;&#40;Human&#41; Language Fun on Freenode&#39;s 
#perl&lt;/h3&gt;
# &lt;table class=&#34;irc-conversation&#34;&gt;
# &lt;tbody&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;Let me wikipedia it.&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;f00li5h&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;so now wikipedia is a verb?&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;f00li5h: it&#39;s gonna enter the OED.&lt;/td&gt;
# &lt;/tr&gt;
# &lt;tr class=&#34;saying&#34;&gt;
# &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
# &lt;td class=&#34;text&#34;&gt;f00li5h: in English every verb can
#                         be nounified and every noun can be 
verbed&lt;/td&gt;
# &lt;/tr&gt;
# &lt;/tbody&gt;
# &lt;/table&gt;
# &lt;/div&gt;
# &lt;/body&gt;
# &lt;/html&gt;
# &#39;
#     expected: &#39;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
# &lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 
1.1//EN&#34; &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd</a></span>&#34;&gt;
# &lt;html&gt;
#   &lt;head&gt;
#     &lt;title&gt;Fortunes&lt;/title&gt;
#   &lt;/head&gt;
#   &lt;body&gt;
#     &lt;div class=&#34;fortune&#34;&gt;
#       &lt;h3 id=&#34;Im-not-an-asshole&#34;&gt;I&#39;m not an Asshole…&lt;/h3&gt;
#       &lt;table class=&#34;irc-conversation&#34;&gt;
#         &lt;tbody&gt;
#           &lt;tr class=&#34;joins&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;←mofino&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;has joined #perlcafe&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;mofino&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;I&#39;m not an asshole. I just play one
#                     on T.V.&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;leaves&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;→mofino&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;has left #perlcafe&lt;/td&gt;
#           &lt;/tr&gt;
#         &lt;/tbody&gt;
#       &lt;/table&gt;
#     &lt;/div&gt;
#     &lt;div class=&#34;fortune&#34;&gt;
#       &lt;h3 id=&#34;the-only-language&#34;&gt;&#34;The Only Language&#34;&lt;/h3&gt;
#       &lt;table class=&#34;irc-conversation&#34;&gt;
#         &lt;tbody&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;This reminds me of a fun
#                         discussion I had with my co-worker.&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;He had a Firefox window open with an
#                         ActiveState page and I read &#34;Perl, PHP, 
Python,
#                         Tcl, XSLT&#34;.&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;So he said: &#34;Heresy! C is the only
#                         language.&#34;&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;So I thought for a moment and
#                         said &#34;Intercal is the only language.&#34;&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;nanonyme&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;lol&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;And then &#34;Real men write in 
Intercal.&#34;&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;&#34;COME FROM&#34; anyone?&lt;/td&gt;
#           &lt;/tr&gt;
#         &lt;/tbody&gt;
#       &lt;/table&gt;
#     &lt;/div&gt;
#     &lt;div class=&#34;fortune&#34;&gt;
#       &lt;h3 id=&#34;let-me-wikipedia-it&#34;&gt;&#40;Human&#41; Language Fun on Freenode&#39;s 
#perl&lt;/h3&gt;
#       &lt;table class=&#34;irc-conversation&#34;&gt;
#         &lt;tbody&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;Let me wikipedia it.&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;f00li5h&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;so now wikipedia is a verb?&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;f00li5h: it&#39;s gonna enter the OED.&lt;/td&gt;
#           &lt;/tr&gt;
#           &lt;tr class=&#34;saying&#34;&gt;
#             &lt;td class=&#34;who&#34;&gt;rindolf&lt;/td&gt;
#             &lt;td class=&#34;text&#34;&gt;f00li5h: in English every verb can
#                         be nounified and every noun can be 
verbed&lt;/td&gt;
#           &lt;/tr&gt;
#         &lt;/tbody&gt;
#       &lt;/table&gt;
#     &lt;/div&gt;
#   &lt;/body&gt;
# &lt;/html&gt;
# &#39;
# Looks like you failed 1 test of 1.
t/to-xhtml........dubious
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-484439" href="/Public/Bug/Display.html?id=35781#txn-484439">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;09&nbsp;04:00:02&nbsp;2008</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/484439/239402/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/239402">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 11.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi PAJAS!

Thanks for the quick and informative response.

On Tue Jul 08 16:49:07 2008, PAJAS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Shlomi,
&gt; 
&gt; I cannot provide any support for rpm packages, that&#39;s problem for 
</div>the 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; distributors. Did you try compiling CPAN versions of 
&gt; XML-LibXML/XSLT-1.66?  If you say you tried vanilla perl-5.10, did 
</div>you 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; recompile the XML-LibX* packages? 
</div>
OK! Vanilla perl-5.10.0 &#40;installed under a different prefix&#41; with a 
self-compiled version of XML-LibXSLT works perfectly fine.

I guess it&#39;s a problem with Mandriva somewhere.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you run valgrind on your test:
&gt; 
&gt;    valgrind perl -Mblib t/to-xhtml.t
&gt; 
&gt; and post the output?
&gt; 
</div>
Here you go:

{{{{{{{{{{{{{{{{
==8324== Memcheck, a memory error detector.
==8324== Copyright &#40;C&#41; 2002-2007, and GNU GPL&#39;d, by Julian Seward et 
al.
==8324== Using LibVEX rev 1854, a library for dynamic binary 
translation.
==8324== Copyright &#40;C&#41; 2004-2007, and GNU GPL&#39;d, by OpenWorks LLP.
==8324== Using valgrind-3.3.1, a dynamic binary instrumentation 
framework.
==8324== Copyright &#40;C&#41; 2000-2007, and GNU GPL&#39;d, by Julian Seward et 
al.
==8324== For more details, rerun with: -v
==8324== 
==8324== My PID = 8324, parent PID = 17559.  Prog and args are:
==8324==    perl
==8324==    -Mblib
==8324==    t/to-xhtml.t
==8324== 
==8324== Conditional jump or move depends on uninitialised value&#40;s&#41;
==8324==    at 0x4099150: Perl_re_compile 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4099B3D: Perl_pregcomp 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407ADD9: Perl_pmruntime 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x406DDE0: Perl_yyparse 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40FDE4C: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4100562: Perl_pp_require 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C5980: Perl_runops_standard 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C2E61: Perl_call_sv 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C3304: Perl_call_list 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4070541: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407F9E1: Perl_newATTRSUB 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407E820: Perl_utilize 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324== 
==8324== Conditional jump or move depends on uninitialised value&#40;s&#41;
==8324==    at 0x4099150: Perl_re_compile 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4099B3D: Perl_pregcomp 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x410A071: Perl_pp_regcomp 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C5980: Perl_runops_standard 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C2E61: Perl_call_sv 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C3304: Perl_call_list 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4070541: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407F9E1: Perl_newATTRSUB 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407E820: Perl_utilize 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x406F1A1: Perl_yyparse 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40FDE4C: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4100562: Perl_pp_require 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324== 
==8324== Conditional jump or move depends on uninitialised value&#40;s&#41;
==8324==    at 0x4099150: Perl_re_compile 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4099B3D: Perl_pregcomp 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407ADD9: Perl_pmruntime 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407B316: Perl_ck_split 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x407B639: Perl_convert 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x406ED84: Perl_yyparse 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40FDE4C: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4100562: Perl_pp_require 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C5980: Perl_runops_standard 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C2E61: Perl_call_sv 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x40C3304: Perl_call_list 
&#40;in /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324==    by 0x4070541: 
&#40;within /usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE/libperl.so&#41;
==8324== 
==8324== ERROR SUMMARY: 19 errors from 3 contexts &#40;suppressed: 51 from 
1&#41;
==8324== malloc/free: in use at exit: 2,722,855 bytes in 59,936 
blocks.
==8324== malloc/free: 98,002 allocs, 38,066 frees, 4,852,294 bytes 
allocated.
==8324== For counts of detected errors, rerun with: -v
==8324== searching for pointers to 59,936 not-freed blocks.
==8324== checked 3,014,624 bytes.
==8324== 
==8324== LEAK SUMMARY:
==8324==    definitely lost: 5,746 bytes in 98 blocks.
==8324==      possibly lost: 0 bytes in 0 blocks.
==8324==    still reachable: 2,717,109 bytes in 59,838 blocks.
==8324==         suppressed: 0 bytes in 0 blocks.
==8324== Rerun with --leak-check=full to see details of leaked memory.
}}}}}}}}}}}}}}

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You should also post the output of perl -V, 
</div>
{{{{{{{{{{{{{{{{
Summary of my perl5 &#40;revision 5 version 10 subversion 0&#41; 
configuration:
  Platform:
    osname=linux, osvers=2.6.22.18-server-1mdv, 
archname=i386-linux-thread-multi
    uname=&#39;linux n3.mandriva.com 2.6.22.18-server-1mdv #1 smp mon feb 
11 16:46:24 est 2008 i686 intel&#40;r&#41; xeon&#40;tm&#41; cpu 2.80ghz gnulinux &#39;
    config_args=&#39;-des -Dinc_version_list=5.8.8 5.8.7 5.8.6 5.8.5 5.8.4 
5.8.3 5.8.2 5.8.1 5.8.0 5.6.1 
5.6.0 -Darchname=i386-linux -Dcc=gcc -Doptimize=-O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -fomit-frame-pointer -march=i586 -mtune=generic -fasynchronous-unwind-tables -DDEBUGGING=-g -Dprefix=/usr -Dvendorprefix=/usr -Dsiteprefix=/usr -Dsitebin=/usr/local/bin -Dsiteman1dir=/usr/local/share/man/man1 -Dsiteman3dir=/usr/local/share/man/man3 -Dman3ext=3pm -Dcf_by=Mandriva -Dmyhostname=localhost -Dperladmin=root@localhost -Dcf_email=root@localhost -Dd_dosuid -Ud_csh -Duseshrplib -Duseithreads -Di_db -Di_ndbm -Di_gdbm&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, 
usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags 
=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm&#39;,
    
optimize=&#39;-O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -fomit-frame-pointer -march=i586 -mtune=generic -fasynchronous-unwind-tables&#39;,
    
cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -I/usr/local/include -I/usr/include/gdbm&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.3.1&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, 
longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, 
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;gcc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lpthread -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=/lib/libc-2.8.so, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;2.8&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, 
ccdlflags=&#39;-Wl,-E -Wl,-rpath,/usr/lib/perl5/5.10.0/i386-linux-thread-multi/CORE&#39;
    cccdlflags=&#39;-fPIC&#39;, 
lddlflags=&#39;-shared -O2 -g -pipe -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -fomit-frame-pointer -march=i586 -mtune=generic -fasynchronous-unwind-tables -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP 
USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_REENTRANT_API
  Locally applied patches:
        Mandriva Linux patches
  Built under linux
  Compiled at Jun 11 2008 10:44:04
  %ENV:
    
PERL5LIB=&#34;/home/shlomi/apps/perl/modules/lib/perl5/site_perl/5.10.0:/home/shlomi/apps/perl/modules/lib/perl5/site_perl/5.8.8:/home/shlomi/apps/perl/modules/lib/perl5/5.10.0:/home/shlomi/apps/perl/modules/lib/perl5/5.8.8&#34;
  @INC:
    /home/shlomi/apps/perl/modules/lib/perl5/site_perl/5.10.0/i386-linux-thread-multi
    /home/shlomi/apps/perl/modules/lib/perl5/site_perl/5.10.0
    /home/shlomi/apps/perl/modules/lib/perl5/site_perl/5.8.8
    /home/shlomi/apps/perl/modules/lib/perl5/5.10.0/i386-linux-thread-multi
    /home/shlomi/apps/perl/modules/lib/perl5/5.10.0
    /home/shlomi/apps/perl/modules/lib/perl5/5.8.8
    /usr/lib/perl5/site_perl/5.10.0/i386-linux-thread-multi
    /usr/lib/perl5/site_perl/5.10.0
    /usr/lib/perl5/vendor_perl/5.10.0/i386-linux-thread-multi
    /usr/lib/perl5/vendor_perl/5.10.0
    /usr/lib/perl5/5.10.0/i386-linux-thread-multi
    /usr/lib/perl5/5.10.0
    /usr/lib/perl5/site_perl/5.8.8
    /usr/lib/perl5/site_perl
    /usr/lib/perl5/vendor_perl/5.8.8
    /usr/lib/perl5/vendor_perl/5.8.7
    /usr/lib/perl5/vendor_perl/5.8.6
    /usr/lib/perl5/vendor_perl/5.8.4
    /usr/lib/perl5/vendor_perl
    .
}}}}}}}}}}}}}}}}

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; and indicate the versions 
&gt; of libxml2 and libxslt used &#40;and maybe also try vanilla ones from 
&gt; xmlsoft.org&#41;.
</div>
It seems the problem is in the perl stuff, because vanilla works fine.

Thanks, anyway!

I&#39;ll try to see where the problem lies in MDV Cooker.

Regards,

       Shlomi Fish
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I tried your test with CPAN 1.66-versions on openSUSE 11 &#40;also 
&gt; perl-5.10&#41;, and got no segfault at all; also, no error was reported 
</div>by 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; valgrind. This does not prove anything, since many things may be 
&gt; different between my and your configuration, but it&#39;s up to you to 
</div>do 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; some more testing. I&#39;ll try a vanilla perl-5.10, since so far I used 
&gt; vendor&#39;s, which says
&gt; 
&gt;   Compile-time options: DEBUGGING MULTIPLICITY PERL_DONT_CREATE_GVSV
&gt;                         PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
&gt;                         PERL_TRACK_MEMPOOL PERL_USE_SAFE_PUTENV
&gt;                         USE_64_BIT_ALL USE_64_BIT_INT USE_ITHREADS
&gt;                         USE_LARGE_FILES USE_PERLIO USE_REENTRANT_API
&gt; 
&gt; Instead of a segfault, I got a usual failure, probably because your 
&gt; test is not correct.
</div>
Yes, it was fixed in the trunk since then.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-528801" href="/Public/Bug/Display.html?id=35781#txn-528801">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;04&nbsp;08:54:54&nbsp;2008</span>
    <span class="description">pajas [...] matfyz.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/528801/264710/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/264710">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 66b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">since this was Mandriva only problem, I&#39;m closing the bug for now.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-528804" href="/Public/Bug/Display.html?id=35781#txn-528804">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;04&nbsp;08:54:56&nbsp;2008</span>
    <span class="description">pajas [...] matfyz.cz -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.456714</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
