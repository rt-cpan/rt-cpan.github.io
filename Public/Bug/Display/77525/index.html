<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77525 for Win32-API: new release - version 0.69</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77525 for Win32-API: new release - version 0.69</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Win32-API/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Win32-API/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Win32-API/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Win32-API/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Win32-API">Win32-API CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77525</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">1 hour (60 min)

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Win32-API/Active/">Win32-API</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">cosimo [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bulk88 [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-35436-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35437-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




API_test.dll<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1088644/572296/API_test.dll">
Sat Jun 09 10:53:40 2012 (196k) by bulk88&#40;1&#41; [...] hotmail.com
</a>
</font></li>
</ul>


API_test64.dll<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1088644/572295/API_test64.dll">
Sat Jun 09 10:53:40 2012 (216k) by bulk88&#40;1&#41; [...] hotmail.com
</a>
</font></li>
</ul>


patch069.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1084837/570112/patch069.diff">
Tue May 29 14:12:22 2012 (103k) by bulk88&#40;1&#41; [...] hotmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;29&nbsp;14:12:22&nbsp;2012</span>
    <span class="description">bulk88&#40;1&#41; [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> new release - version 0.69</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is my upgrade to Win32::API. It includes the fixed by me original
Callback.xs right before I tossed the original Callback.xs since my
rewrite of Callback.xs is taking much longer than I thought so I put
back the original fixed Callback.xs so it would not crash on -Od. I
tested 0.69 on ActivePerl 5.10 32 bit, homebrew VC 5.12 32 bits,
Strawberry Perl 5.12 32 bit, ActivePerl 5.14 64 bits, Strawberry Perl
5.14 64 bits. The 32 bit VC compiler was VS 2003. The 64 bit VC compiler
was VS 2008. Strawberry Perls were whatever GCC they came with.

The only problem with this patch is it doesn&#39;t include binary blob
api_test.dlls. The existing ones in 0.68 wont work. There is a comment
in the source that api_test dll should be compiled at the same time as
Win32::API by the module user. I disagree, I think it should be
distributed compiled, since the point of Win32::API is to use already
compiled, source not available, DLLs. If a module user&#39;s compiler or his
perl&#39;s Config.pm has different compiler flags than &#34;normal&#34; people or
normal DLLs use, he can create a very broken Win32::API that passes all
its tests since api_test got the exact same flags. I&#39;m thinking of flags
as default calling convention, TCHARs, bitfields, default
alignment/packing on MSVC. Mingw/GCC has 1000s of compiler flags that
can break Win32::API &#40;turn all floats and doubles to SSE 128 bit FP
nums, pass by pointer int 64s, a secret this pointer for return int64s
instead of EAX EDX combo for example&#41;. A known good DLL is needed. I
have the api_test dlls that I compiled myself. I compiled then with
debugging on, so security cookie and runtime checks are on. I think
those 2 features of VC are very useful for api_test, since they caught
my own mistakes a couple times. I didn&#39;t change the VS-specific
project/solution files for api_test on purpose so I don&#39;t accidentally
upgrade them to VS 2008 format locking out older VSes so the patch
doesn&#39;t touch those files. Do you want to compile api_test yourself or
should I attach my 2 dlls and you&#39;ll include them in 0.69?

My total rewrite of ::Callback will be another release and a higher
version number, 0.70 I guess.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch069.diff</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;07:06:20&nbsp;2012</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, please do attach the DLLs if possible.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;07:06:23&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;07:20:25&nbsp;2012</span>
    <span class="description">cosimo [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">60 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> libwin32 [...] perl.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have read most of your patch.

It&#39;s somewhat difficult to digest all the changes together.
I think it would have been easier to get a series of commits, maybe in a 
forked git repository &#40;hint :&#41;

I&#39;m impressed by the amount of work you did. I&#39;d like someone else to 
have a look at this patch, but my feedback is:

* Not sure the Win32::API/Win32::API::More namespace split is the best 
solution. I&#39;d suggest reaching out to Win32::API users to estimate how 
much work it would be to change &#34;Ss&#34; for short ints.
* Please avoid the WIN32_API_SORRY_I_WAS_AN_IDIOT variable, and rename it 
to something that explains the purpose of it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Give odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;07:20:27&nbsp;2012</span>
    <span class="description">cosimo [...] cpan.org -  Given to COSIMO</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;10:38:01&nbsp;2012</span>
    <span class="description">bulk88&#40;1&#41; [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88&#40;1&#41; [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jun 09 07:20:25 2012, COSIMO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have read most of your patch.
&gt; 
&gt; It&#39;s somewhat difficult to digest all the changes together.
&gt; I think it would have been easier to get a series of commits, maybe in a 
&gt; forked git repository &#40;hint :&#41;
&gt; 
&gt; I&#39;m impressed by the amount of work you did. I&#39;d like someone else to 
&gt; have a look at this patch, but my feedback is:
&gt; 
&gt; * Not sure the Win32::API/Win32::API::More namespace split is the best 
&gt; solution. I&#39;d suggest reaching out to Win32::API users to estimate how 
&gt; much work it would be to change &#34;Ss&#34; for short ints.
</div>I did. <span class="clickylink"><a target="new" rel="nofollow" href="http://perlmonks.org/?node_id=970481">http://perlmonks.org/?node_id=970481</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://perlmonks.org/?node_id=970206">http://perlmonks.org/?node_id=970206</a></span> ::API is more than 10 years old,
::More is required. If I get rid of ::More, all existing scripts that
use Win32::API with a pointer to a number will break, and all existing
scripts that used an unsigned prototype or unsigned type letter will
start to get unsigned numbers rather than signed, so == comparisons will
all fail, also all existing scripts that use S for structure will have
to be changed. If you are willing take responsibility, I can move
::API::More&#39;s features/behavior to ::API and remove ::API::More.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; * Please avoid the WIN32_API_SORRY_I_WAS_AN_IDIOT variable, and rename it 
&gt; to something that explains the purpose of it.
</div>I couldn&#39;t think of a aggressive enough name that explains that never to
use this option so someone suggested that. There are 3 things that can
be done about that flag.

1. Leave the flag documented, and can you think of a better name that
truly discourages anyone from using the option? I predict this option
will be very popular for alot of people with Win32::API code. Even
0.68&#39;s own test suite had 1 or 2 buffer overflows in its code that were
caught.

2. Totally de-document the flag so someone would have to look through
the source to find that it exists, and if they complain &gt;0.68 broke all
their scripts, they can be told about the flag.

3. This is a security fix. Remove the flag outright. There is no excuse
for corrupted memory. Go use 0.68 from CPAN if you want buffer overflows
that badly.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;10:53:40&nbsp;2012</span>
    <span class="description">bulk88&#40;1&#41; [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88&#40;1&#41; [...] hotmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jun 09 07:06:20 2012, COSIMO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi, please do attach the DLLs if possible.
</div>These 2 DLLs were built with &#34;runtime checks&#34; and debugging C lib and
-O1. Runtime checks has a nice stack pointer vaildator that catches
stdcall stack unwind or cdecl vs stdcall errors. x64 was made with
Studio 2008, the 32 bit was made with Studio 2003. These dlls are from
the 0.70 version of api-test &#40;quads and lots of parameters funcs were
added&#41;, but will work with 0.69 ::API.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> API_test64.dll</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1088644/572295/API_test64.dll">Download API_test64.dll</a><br />
<span class="downloadcontenttype">application/octet-stream 216k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> API_test.dll</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1088644/572296/API_test.dll">Download API_test.dll</a><br />
<span class="downloadcontenttype">application/octet-stream 196k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;10:53:49&nbsp;2012</span>
    <span class="description">bulk88&#40;1&#41; [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88&#40;1&#41; [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Jun 09 07:06:20 2012, COSIMO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi, please do attach the DLLs if possible.
</div>These 2 DLLs were built with &#34;runtime checks&#34; and debugging C lib and
-Od. Runtime checks has a nice stack pointer vaildator that catches
stdcall stack unwind or cdecl vs stdcall errors. x64 was made with
Studio 2008, the 32 bit was made with Studio 2003. These dlls are from
the 0.70 version of api-test &#40;quads and lots of parameters funcs were
added&#41;, but will work with 0.69 ::API.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;09&nbsp;11:28:11&nbsp;2012</span>
    <span class="description">bulk88&#40;1&#41; [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88&#40;1&#41; [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Also, you want to look in 0.70,
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=77728">https://rt.cpan.org/Public/Bug/Display.html?id=77728</a></span> I added a bunch of
things to the TODO file for future authors to consider that I
didn&#39;t/couldn&#39;t do. Most notably, I never added automatic UTF16 handling
which I thought of doing but ran into time and design problems. Rather
than &#34;automatic&#34; UTF16 handling, I decided some kind of generic perl sub
callback API for parameter un/packing would be better as described in
the TODO. The &#34;friendly name&#34; for raw function pointers is there so in
the future a un/pack callback will be passed that name. Also I gave
Win32::API::Type::Un/Pack the ::API object as the 1st parameter so
Math::Int64 flag can be checked today, and also that very advanced
un/packing designs can be implemented in the future, including per obj
or per caller package type callbacks.

Design problems were, what does &#34;automatic&#34; mean? whats the input CP?
System ANSI? Perl UTF8 &#40;check SV flag&#41;? a special $? some variable from
a perl pragma ? precomposed?  and on output always convert to system
ANSI CP? or always convert to UTF8 flaged SV, or use lpUsedDefaultChar
to control whether output SV is UTF8 or legacy CP, or put utf8 in the SV
without ever turning on the UTF8 SV flag? What about &#34;shorts&#34;, do they
stay numeric &#40;0x41 not &#34;A&#34; not &#34;\x41&#34;&#41;, or do they become string like
&#40;&#34;A&#34; not 65&#41; like the CHAR/char type? So thats why no automatic wide
handling was added.

The only &#34;wide&#34; feature I put in was that the buffer overflow sentinal
is wide compatible and will wide null terminate all string. I did use
Encode and there is a test and a api-test func to make sure binary
gibberish scalars with UTF16 in them correctly wind up in a C func
taking a Wide string and the C func validates the wide string. So yes,
today, with some work on your own, ::API has no limitations that prevent
you from using wide string apis.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;19&nbsp;00:48:41&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">A 0.69 was never released on CPAN, a 0.71 and a 0.70_02 were released on
CPAN. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;19&nbsp;00:48:42&nbsp;2012</span>
    <span class="description">BULKDD [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
