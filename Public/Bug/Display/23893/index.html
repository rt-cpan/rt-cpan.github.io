<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #23893 for Proc-Fork: Proc::Fork Parent never says good bye</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #23893 for Proc-Fork: Proc::Fork Parent never says good bye</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Proc-Fork">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Proc-Fork">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Proc-Fork">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Proc-Fork">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://github.com/ap/Proc-Fork/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Proc-Fork">Proc-Fork CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">23893</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Proc-Fork">Proc-Fork</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">ARISTOTLE [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
m.nooning [...] comcast.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27168-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27169-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=23893">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-275394" href="/Public/Bug/Display.html?id=23893#txn-275394">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;11&nbsp;20:16:12&nbsp;2006</span>
    <span class="description">m.nooning [...] comcast.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Proc::Fork Parent never says good bye</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 11 Dec 2006 20:15:25 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Fork [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Malcolm Nooning &lt;m.nooning [...] comcast.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/275394/122965/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/122965">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1003b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

The 23 lines of code pasted further below will demonstrate the problem.

I am on Windows XP Home Edition, perl 5.8.8, Proc::Fork 0.11 installed 
with the Active State ppm.

The code below hangs at the waitpid in the parent.  I need to Control-C 
to get out of it.   It also looks like there is a double fork going on, 
resulting in two parents and two children.

Thanks

-----------paste command line results
C:\aaa&gt;test_proc_fork.pl
Parent says hello
Child is sleeping
Child is awake
Parent says hello
Child is sleeping
Child is awake
-----------End paste command line results


----------paste code
 use Proc::Fork;

 parent {
     my $child = shift;
     print &#34;Parent says hello\n&#34;;
     waitpid &#40;$child,0&#41;;
     print &#34;Parent says good bye\n&#34;;

 }
 child {
     print &#34;Child is sleeping\n&#34;;
     sleep&#40;1&#41;;
     print &#34;Child is awake\n&#34;;
     exit;
 }
 retry {
  die &#34;proc fork failed and I will not retry\n&#34;;
 }
 error {
     die &#34;That&#39;s all folks\n&#34;;
 };
 exit;

----------End paste code
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-276432" href="/Public/Bug/Display.html?id=23893#txn-276432">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;15&nbsp;19:52:00&nbsp;2006</span>
    <span class="description">ARISTOTLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ARISTOTLE [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/276432/123577/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/123577">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 186b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Proc::Fork 0.11 is long obsolete; please try version 0.3.

Since 0.3 seems to crash Strawberry Perl 5.8.8, I would appreciate
if you could test it on ActivePerl to see if it works there.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-276433" href="/Public/Bug/Display.html?id=23893#txn-276433">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;15&nbsp;19:52:04&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-276449" href="/Public/Bug/Display.html?id=23893#txn-276449">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;15&nbsp;21:40:54&nbsp;2006</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #23893] Proc::Fork Parent never says good bye</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Dec 2006 21:40:34 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Fork [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Malcolm Nooning &lt;m.nooning [...] comcast.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/276449/123586/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/123586">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I tried 0.3 on Activestate 5.8.8.  It does not work.

During the &#34;nmake test&#34;, the Perl Command Line Interpreter crashes, and 
so I click on the button that wants me to tell Microsoft about the problem.
I tried it three times.  Same thing.  The crash window pops up with this 
paste showing:
--------------paste
C:\aaa\Proc\Proc-Fork-0.3&gt;nmake test

Microsoft &#40;R&#41; Program Maintenance Utility Version 7.00.9466
Copyright &#40;C&#41; Microsoft Corporation.  All rights reserved.

        C:\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t\00.mo
ck.t t\01.real.t t\pod-coverage.t t\pod.t
t\00.mock.........ok
t\01.real.........ok 1/3
-------------end paste

After I click the pop up crash window to make it go away, the command 
prompt window looks like this:

-------------------paste
C:\aaa\Proc\Proc-Fork-0.3&gt;nmake test

Microsoft &#40;R&#41; Program Maintenance Utility Version 7.00.9466
Copyright &#40;C&#41; Microsoft Corporation.  All rights reserved.

        C:\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t\00.mo
ck.t t\01.real.t t\pod-coverage.t t\pod.t
t\00.mock.........ok
t\01.real.........dubious
        Test returned status 5 &#40;wstat 1280, 0x500&#41;
DIED. FAILED tests 2-3
        Failed 2/3 tests, 33.33% okay
t\pod-coverage....skipped
        all skipped: Set the POD_TESTS environment variable to run these 
tests
t\pod.............skipped
        all skipped: Set the POD_TESTS environment variable to run these 
tests
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t\01.real.t    5  1280     3    4  2-3
2 tests skipped.
Failed 1/4 test scripts. 2/17 subtests failed.
Files=4, Tests=17, 22 wallclock secs &#40; 0.00 cusr +  0.00 csys =  0.00 CPU&#41;
Failed 1/4 test programs. 2/17 subtests failed.
NMAKE : fatal error U1077: &#39;C:\perl\bin\perl.exe&#39; : return code &#39;0xff&#39;
Stop.
----------------end paste

I saved one of the files that gets sent to Microsoft.  I am not pasting 
it here because it is 12K bytes.  It is an XML file.  I&#39;ll post it if 
you want me to.

If it helps, the windows fork itself does work.  Here is some code that 
does a pretty good test of parent/child stuff, with an unnecessary 
subroutine call by the child just to flex things a touch.

------------paste fork test
#!/usr/bin/perl -w
# file: test_windows_fork_02.pl
# 1. Have the children take longer than the parent will allow.
# 2. Have the children finish within the parent&#39;s allotted time limit.

sub sleeper {
 my &#40;$sleep_time&#41; = @_;
 sleep&#40;$sleep_time&#41;;
}


my $done = 0;
my $count = 0;

while &#40;!&#40;$done&#41;&#41; {
 $count++;
 print &#34;105: count $count\n&#34;;

 #...........................................
 if &#40;my $pid = fork&#40;&#41;&#41; { # Parent
   print &#34;115: count $count\n&#34;;
   select&#40;undef, undef, undef, 1.00&#41;;

   kill 9, $pid;
   $done = 1 if &#40;$count == 3&#41;;
   print &#34;115: count $count\n&#34;;

 }
 elsif&#40;defined $pid&#41; { # Child
   print &#34;205\n&#34;;
   sleeper&#40;40&#41;;
   exit;
 } else {
   # Failed to fork
   print &#34;Failed to fork:$!:\n&#34;;
   exit;
 }
 #...........................................
 print &#34;510\n&#34;;

}
print &#34;610\n&#34;;

#...........................................
if &#40;my $pid = fork&#40;&#41;&#41; { # Parent
 print &#34;705: \n&#34;;
 select&#40;undef, undef, undef, 4.00&#41;;
 kill 9, $pid;

}
elsif&#40;defined $pid&#41; { # Child
 print &#34;805\n&#34;;
 sleeper&#40;2&#41;;
 print &#34;810\n&#34;;
 exit;
} else {
 # Failed to fork
 print &#34;820: Failed to fork:$!:\n&#34;;
 exit;
}
#...........................................
print &#34;910\n&#34;;

------------end paste fork test




Aristotle Pagaltzis via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=23893">http://rt.cpan.org/Ticket/Display.html?id=23893</a></span> &gt;
&gt;
&gt; Proc::Fork 0.11 is long obsolete; please try version 0.3.
&gt;
&gt; Since 0.3 seems to crash Strawberry Perl 5.8.8, I would appreciate
&gt; if you could test it on ActivePerl to see if it works there.
&gt;
&gt;   
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-276548" href="/Public/Bug/Display.html?id=23893#txn-276548">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;16&nbsp;10:41:56&nbsp;2006</span>
    <span class="description">ARISTOTLE [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-277273" href="/Public/Bug/Display.html?id=23893#txn-277273">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;11:52:09&nbsp;2006</span>
    <span class="description">ARISTOTLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/277273/124031/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/124031">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 584b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmm. I am told that fork&#40;&#41; is pretty problematic on Win32, even though
it works some of the time.

I have a Windows machine at my disposal now and will try to track the
problem down, but I’m reluctant to promise anything. We’ll see how it
goes. Sorry that I don’t have better news.

Anyway, since I am not going to fix the original bug you reported in
0.11, I am closing this ticket as Rejected. I have created a new ticket
for the 0.3 Win32 crash we’re discussing; it’s #24001
&#40;&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org//Ticket/Display.html?id=24001">http://rt.cpan.org//Ticket/Display.html?id=24001</a></span>&gt;&#41;. Feel free to add
yourself to the Cc there.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-277276" href="/Public/Bug/Display.html?id=23893#txn-277276">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;11:52:17&nbsp;2006</span>
    <span class="description">ARISTOTLE [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-277284" href="/Public/Bug/Display.html?id=23893#txn-277284">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;12:08:18&nbsp;2006</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #23893] Proc::Fork Parent never says good bye</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Dec 2006 12:08:03 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Fork [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Malcolm Nooning &lt;m.nooning [...] comcast.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/277284/124037/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/124037">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;Hmm. I am told that fork&#40;&#41; is pretty problematic on Win32
</div>It has always been problematic ... until now. I have tried it 
periodically ever since it was first announced and I just stayed away 
from it because it never worked reliably. However, it does seem to work 
reliably now, with perl 5.8.8, on Windows XP SP2. The test I wrote loops 
three times, creating and killing forked processes &#40;I hate to use the 
word children here&#41;, and has the children do a short subroutine call to 
see if there are any stack/unstack parameter problems. Not an exhaustive 
test by any stretch of the imagination, but, well, it does seem to work 
pretty reliably.

Yes, please do end the original ticket. If it starts happening on 
someone else&#39;s computer, it can be reopened then. We can only do but so 
much in the limited time we have. We don&#39;t want to be chasing ghosts.

Thanks


Aristotle Pagaltzis via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=23893">http://rt.cpan.org/Ticket/Display.html?id=23893</a></span> &gt;
&gt;
&gt; Hmm. I am told that fork&#40;&#41; is pretty problematic on Win32, even though
&gt; it works some of the time.
&gt;
&gt; I have a Windows machine at my disposal now and will try to track the
&gt; problem down, but Iâ€™m reluctant to promise anything. Weâ€™ll see how it
&gt; goes. Sorry that I donâ€™t have better news.
&gt;
&gt; Anyway, since I am not going to fix the original bug you reported in
&gt; 0.11, I am closing this ticket as Rejected. I have created a new ticket
&gt; for the 0.3 Win32 crash weâ€™re discussing; itâ€™s #24001
&gt; &#40;&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org//Ticket/Display.html?id=24001">http://rt.cpan.org//Ticket/Display.html?id=24001</a></span>&gt;&#41;. Feel free to add
&gt; yourself to the Cc there.
&gt;
&gt;   
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-277285" href="/Public/Bug/Display.html?id=23893#txn-277285">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;19&nbsp;12:08:19&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-277621" href="/Public/Bug/Display.html?id=23893#txn-277621">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;20&nbsp;17:05:07&nbsp;2006</span>
    <span class="description">ARISTOTLE [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.362654</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
