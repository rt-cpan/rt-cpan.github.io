<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75319 for PathTools: Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75319 for PathTools: Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PathTools">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PathTools">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PathTools">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PathTools">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PathTools">PathTools CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75319</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PathTools">PathTools</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
shmuel+bitcard.org [...] patriot.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-24906-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24907-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




testrel2abs.cmd<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1042633/544585/testrel2abs.cmd">
Sun Feb 26 10:55:07 2012 (1k) by shmuel+bitcard.org [...] patriot.net
</a>
</font></li>
</ul>


testrel2abs.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1042633/544584/testrel2abs.pl">
Sun Feb 26 10:55:07 2012 (1.1k) by shmuel+bitcard.org [...] patriot.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=75319">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1042633" href="/Public/Bug/Display.html?id=75319#txn-1042633">#</a>      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;26&nbsp;10:55:07&nbsp;2012</span>
    <span class="description">shmuel+bitcard.org [...] patriot.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Cwd-&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042633/544583/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/544583">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2.

[g:\bin]perl -v

This is perl, v5.10.0 built for os2

Q:\programs\perl\lib\5.10.0\os2\Cwd.pm has $VERSION = &#39;3.2501&#39;;
Q:\programs\perl\lib\5.10.0\File\Spec.pm has $VERSION = &#39;3.2501&#39;.

Running under eComStation 2.0 GA &#40;rebranded OS/2 4.52&#41;.

Cwd-&gt;abs_path&#40;&#41; is appending &#39;/Cwd&#39; to file names.

File::Spec-&gt;rel2abs&#40;&#41;is using the current drive instead of the drive
specified in the call when the parameter specifies a drive but not a
root directory; it is converting the double \ before a Universal Naming
Convention &#40;UNC&#41; specification into a single / instead of a double /.

To reproduce the problem, adjust the drive letters and directories in
testrel2abs.cmd as needed and adjust the path in the perl invocation to
point to wherever you have stored testrel2abs.pl.


[g:\bin]testrel2abs
F:
CD \ecs
G:
CD \BIN
Should output Cwd-&gt;abs_path&#40;F:testpl.cmd&#41;              = F:/ecs/testpl.cmd
              Cwd-&gt;abs_path&#40;G:testpl.cmd&#41;              = G:/bin/testpl.cmd
              Cwd-&gt;abs_path&#40;testpl.cmd&#41;                = G:/bin/testpl.cmd
              Cwd-&gt;abs_path&#40;\testpl.cmd&#41;               = G:/testpl.cmd
              Cwd-&gt;abs_path&#40;\\server\testpl.cmd&#41;       =
//server/bin/testpl.cmd

              File::Spec-&gt;rel2abs&#40;F:testpl.cmd&#41;        = F:/ecs/testpl.cmd
              File::Spec-&gt;rel2abs&#40;G:testpl.cmd&#41;        = G:/bin/testpl.cmd
              File::Spec-&gt;rel2abs&#40;testpl.cmd&#41;          = G:/bin/testpl.cmd
              File::Spec-&gt;rel2abs&#40;\testpl.cmd&#41;         = G:/testpl.cmd
              File::Spec-&gt;rel2abs&#40;\\server\testpl.cmd&#41; =
//server/bin/testpl.cmd

PERL h:\utility\testrel2abs.pl

Cwd-&gt;abs_path&#40;F:testpl.cmd&#41;        = F:/ecs/testpl.cmd/Cwd
Cwd-&gt;abs_path&#40;G:testpl.cmd&#41;        = G:/BIN/testpl.cmd/Cwd
Cwd-&gt;abs_path&#40;H:testpl.cmd&#41;        = H:/testpl.cmd/Cwd
Cwd-&gt;abs_path&#40;testpl.cmd&#41;          = G:/BIN/testpl.cmd/Cwd
Cwd-&gt;abs_path&#40;\testpl.cmd&#41;         = G:/testpl.cmd/Cwd
Cwd-&gt;abs_path&#40;\\server\testpl.cmd&#41; = G:/server/testpl.cmd/Cwd

File::Spec-&gt;rel2abs&#40;F:testpl.cmd&#41;         = G:/BIN/testpl.cmd
File::Spec-&gt;rel2abs&#40;G:testpl.cmd&#41;         = G:/BIN/testpl.cmd
File::Spec-&gt;rel2abs&#40;H:testpl.cmd&#41;         = G:/BIN/testpl.cmd
File::Spec-&gt;rel2abs&#40;testpl.cmd&#41;           = G:/BIN/testpl.cmd
File::Spec-&gt;rel2abs&#40;\testpl.cmd&#41;          = /testpl.cmd
File::Spec-&gt;rel2abs&#40;\\server\testpl.cmd&#41;  = /server/testpl.cmd


Note: while EMX has a _getcwd1 routine for returning the current
directory of a specified drive, I recommend that you use the native API
instead, as _getcwd1 does not check the buffer size. The relevant native
OS/2 routines are documented as

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">--- Start of fair use quote from manual ---

Gets the current default drive for the requesting process.


#define INCL_DOSFILEMGR
#include &lt;os2.h&gt;

PULONG    pdisknum;  /*  Address of the number of the default drive. */
PULONG    plogical;  /*  Address of the bit map where the system returns
the mapping of the logical drives. */
APIRET    ulrc;      /*  Return Code. */

ulrc = DosQueryCurrentDisk&#40;pdisknum, plogical&#41;;

pdisknum &#40;PULONG&#41; - output
Address of the number of the default drive.

The value 1 means drive A, 2 means drive B, 3 means drive C, and so on.
The maximum possible value is 26, which corresponds to drive Z.

plogical &#40;PULONG&#41; - output
Address of the bit map where the system returns the mapping of the
logical drives.

This bit map is stored in the low-order portion of the 32-bit area.

Logical drives A to Z have one-to-one mapping with bit positions 0 to 25
of the map; for example, bit 0 represents drive A, bit 1 represents
drive B, and so on. The settings of these bits indicate which drives
exist, as follows:

0The logical drive does not exist.
1The logical drive exists.

ulrc &#40;APIRET&#41; - returns
Return Code.

DosQueryCurrentDisk returns the following value:

0 NO_ERROR

For a full list of error codes, see Errors.

Gets the full path of the current directory for the requesting process
on the specified drive.


#define INCL_DOSFILEMGR
#include &lt;os2.h&gt;

ULONG     disknum;  /*  The drive number. */
PBYTE     pBuf;     /*  Address of the full path of the current
directory. */
PULONG    pcbBuf;   /*  Address of the length, in bytes, of the pBuf
buffer. */
APIRET    ulrc;     /*  Return Code. */

ulrc = DosQueryCurrentDir&#40;disknum, pBuf, pcbBuf&#41;;

disknum &#40;ULONG&#41; - input
The drive number.

The value 0 means the current drive, 1 means drive A, 2 means drive B, 3
means drive C, and so on. The maximum possible value is 26, which
corresponds to drive Z.

pBuf &#40;PBYTE&#41; - output
Address of the full path of the current directory.

pcbBuf &#40;PULONG&#41; - in/out
Address of the length, in bytes, of the pBuf buffer.


Input This field contains the length, in bytes, of the directory path
buffer.

Output If an error is returned because the buffer is too small, this
field contains the required length, in bytes, of the buffer.

ulrc &#40;APIRET&#41; - returns
Return Code.

DosQueryCurrentDir returns one of the following values:

0 NO_ERROR
15 ERROR_INVALID_DRIVE
26 ERROR_NOT_DOS_DISK
108 ERROR_DRIVE_LOCKED
111 ERROR_BUFFER_OVERFLOW

For a full list of error codes, see Errors.

<div class="message-stanza open">--------- end of quote --------
</div></div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> testrel2abs.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042633/544584/testrel2abs.pl">Download testrel2abs.pl</a><br />
<span class="downloadcontenttype">text/x-perl 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#! perl
use Cwd &#39;abs_path&#39;;
use File::Spec;
print &#34;\nCwd-&gt;abs_path&#40;F:testpl.cmd&#41;        = &#34;, Cwd-&gt;abs_path&#40;&#39;F:testpl.cmd&#39;&#41;;
print &#34;\nCwd-&gt;abs_path&#40;G:testpl.cmd&#41;        = &#34;, Cwd-&gt;abs_path&#40;&#39;G:testpl.cmd&#39;&#41;;
print &#34;\nCwd-&gt;abs_path&#40;H:testpl.cmd&#41;        = &#34;, Cwd-&gt;abs_path&#40;&#39;H:testpl.cmd&#39;&#41;;
print &#34;\nCwd-&gt;abs_path&#40;testpl.cmd&#41;          = &#34;, Cwd-&gt;abs_path&#40;&#39;testpl.cmd&#39;&#41;;
print &#34;\nCwd-&gt;abs_path&#40;\\testpl.cmd&#41;         = &#34;, Cwd-&gt;abs_path&#40;&#39;\testpl.cmd&#39;&#41;;
print &#34;\nCwd-&gt;abs_path&#40;\\\\server\\testpl.cmd&#41; = &#34;, Cwd-&gt;abs_path&#40;&#39;\\server\testpl.cmd&#39;&#41;;
print &#34;\n&#34;;

print &#34;\nFile::Spec-&gt;rel2abs&#40;F:testpl.cmd&#41;         = &#34;, File::Spec-&gt;rel2abs&#40;&#39;F:testpl.cmd&#39;&#41;;
print &#34;\nFile::Spec-&gt;rel2abs&#40;G:testpl.cmd&#41;         = &#34;, File::Spec-&gt;rel2abs&#40;&#39;G:testpl.cmd&#39;&#41;;
print &#34;\nFile::Spec-&gt;rel2abs&#40;H:testpl.cmd&#41;         = &#34;, File::Spec-&gt;rel2abs&#40;&#39;H:testpl.cmd&#39;&#41;;
print &#34;\nFile::Spec-&gt;rel2abs&#40;testpl.cmd&#41;           = &#34;, File::Spec-&gt;rel2abs&#40;&#39;testpl.cmd&#39;&#41;;
print &#34;\nFile::Spec-&gt;rel2abs&#40;\\testpl.cmd&#41;          = &#34;, File::Spec-&gt;rel2abs&#40;&#39;\testpl.cmd&#39;&#41;;
print &#34;\nFile::Spec-&gt;rel2abs&#40;\\\\server\\testpl.cmd&#41;  = &#34;, File::Spec-&gt;rel2abs&#40;&#39;\\server\testpl.cmd&#39;&#41;;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> testrel2abs.cmd</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1042633/544585/testrel2abs.cmd">Download testrel2abs.cmd</a><br />
<span class="downloadcontenttype">application/octet-stream 1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1045234" href="/Public/Bug/Display.html?id=75319#txn-1045234">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;02&nbsp;09:28:28&nbsp;2012</span>
    <span class="description">root [...] localhost -  Subject changed from &#39;Cwd-&gt;&#39; to &#39;Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2.&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1045235" href="/Public/Bug/Display.html?id=75319#txn-1045235">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;02&nbsp;09:28:31&nbsp;2012</span>
    <span class="description">root [...] localhost -  Subject changed from &#39;Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2.&#39; to &#39;Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1047100" href="/Public/Bug/Display.html?id=75319#txn-1047100">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;17:14:31&nbsp;2012</span>
    <span class="description">shmuel+bitcard.org [...] patriot.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> shmuel+bitcard.org [...] patriot.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1047100/547199/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/547199">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 696b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 26 10:55:07 2012, shmuel wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Cwd-&gt;abs_path and File::Spec-&gt;rel2abs produce incorrect results in OS/2.
</div>
The logic for in File::Spec::Win32 is applicable to OS/2, although the
API is different. Also, in OS/2 the expression `CMD /c CD $drive:` will
return the current directory for drive $drive.

I&#39;m not sure whether it is best to copy code from File::Spec::Win32 into
File::Spec::OS2, subclass it or to make explicit calls to the win32
versions of various routines. I&#39;m also not sure whether performance will
be adequate using the CD hack above or whether the XS code is really
needed. I can attempt to put a fix together if someone can provide style
guidance and help with the XS.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1054860" href="/Public/Bug/Display.html?id=75319#txn-1054860">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;26&nbsp;11:27:25&nbsp;2012</span>
    <span class="description">root [...] localhost -  Queue changed from Cwd to PathTools</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.3115</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
