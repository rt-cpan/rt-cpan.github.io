<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28347 for File-Tail-App: The whole logfile is reread when restarting the App</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28347 for File-Tail-App: The whole logfile is reread when restarting the App</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=File-Tail-App">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=File-Tail-App">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=File-Tail-App">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=File-Tail-App">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/File-Tail-App">File-Tail-App CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28347</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=File-Tail-App">File-Tail-App</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
wim [...] livens.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-13192-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
v0.0.3    </td>
  </tr>
  <tr id="CF-13193-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=28347">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-345899" href="/Public/Bug/Display.html?id=28347#txn-345899">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;17&nbsp;09:49:26&nbsp;2007</span>
    <span class="description">wim [...] livens.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> The whole logfile is reread when restarting the App</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/345899/155054/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/155054">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The whole logfile is reread when restarting the App.  The position in
the lastrun file is always zero.  

Using roughly the example from the doc and a simple 3 line input file
&#40;see below&#41;.  When I run the app, it correctly returns 3 lines.  When I
^C the app and restart it, it again returns the same 3 lines.  Looking
in the lastrun file, the first number is 0.

I tested this on three different linux and one BSD platform.  All three
linuxes &#40;Debian 3.1, Debian 4.0 and RHEL4.0&#41; have the problem.  On the
FreeBSD box it worked fine.  The details below are from the test on
Debian 4.0.

Please point me out in case I am just doing something silly...

~$ sudo cpan install &#34;File::Tail::App&#34;

~$ cat &gt;test_tail.pl
#!/usr/bin/perl

use strict;
use warnings;

#use Unix::PID &#39;/var/run/xlogr.pid&#39;;
use File::Tail::App qw&#40;tail_app&#41;;

tail_app&#40;{
    &#39;new&#39;          =&gt; [&#39;x.log&#39;],
    &#39;line_handler&#39; =&gt; \&#38;_wag_tail,
    &#39;lastrun_file&#39; =&gt; &#39;x.lastrun&#39;,
}&#41;;

sub _wag_tail {
    my&#40;$line&#41; = @_;
    print $line;
}
~$ cat &gt;x.log
1
2
3
~$ perl test_tail.pl 
1
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/share/perl/5.8.8/File/Tail/App.pm line 163.
2
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/share/perl/5.8.8/File/Tail/App.pm line 163.
3
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/share/perl/5.8.8/File/Tail/App.pm line 163.

^C
~$ perl test_tail.pl 
1
2
3
^C
~$ cat x.lastrun  
0-246999--6
~$ uname -a
Linux obelix 2.6.18-4-686 #1 SMP Wed May 9 23:03:12 UTC 2007 i686 GNU/Linux

File::Tail 0.98
File::Tail::App 0.0.3

~$ perl -V
Summary of my perl5 &#40;revision 5 version 8 subversion 8&#41; configuration:
  Platform:
    osname=linux, osvers=2.6.18.3, archname=i486-linux-gnu-thread-multi
    uname=&#39;linux saens 2.6.18.3 #1 smp sat nov 25 13:39:52 est 2006 i686
gnulinux &#39;
    config_args=&#39;-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN
-Dcccdlflags=-fPIC -Darchname=i486-linux-gnu -Dprefix=/usr
-Dprivlib=/usr/share/perl/5.8 -Darchlib=/usr/lib/perl/5.8
-Dvendorprefix=/usr -Dvendorlib=/usr/share/perl5
-Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local
-Dsitelib=/usr/local/share/perl/5.8.8
-Dsitearch=/usr/local/lib/perl/5.8.8 -Dman1dir=/usr/share/man/man1
-Dman3dir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1
-Dsiteman3dir=/usr/local/man/man3 -Dman1ext=1 -Dman3ext=3perl
-Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Uusesfio -Uusenm
-Duseshrplib -Dlibperl=libperl.so.5.8.8 -Dd_dosuid -des&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define
usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
-DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN
-fno-strict-aliasing -pipe -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2 20061115 &#40;prerelease&#41; &#40;Debian
4.1.1-20&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib /usr/lib
    libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt
    perllibs=-ldl -lm -lpthread -lc -lcrypt
    libc=/lib/libc-2.3.6.so, so=so, useshrplib=true,
libperl=libperl.so.5.8.8
    gnulibc_version=&#39;2.3.6&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: MULTIPLICITY PERL_IMPLICIT_CONTEXT
                        PERL_MALLOC_WRAP THREADS_HAVE_PIDS USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_REENTRANT_API
  Built under linux
  Compiled at Dec  6 2006 23:05:53
  @INC:
    /etc/perl
    /usr/local/lib/perl/5.8.8
    /usr/local/share/perl/5.8.8
    /usr/lib/perl5
    /usr/share/perl5
    /usr/lib/perl/5.8
    /usr/share/perl/5.8
    /usr/local/lib/site_perl
    /usr/local/lib/perl/5.8.4
    /usr/local/share/perl/5.8.4
    .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-347323" href="/Public/Bug/Display.html?id=28347#txn-347323">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;22&nbsp;13:00:08&nbsp;2007</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> DMUEY [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/347323/155866/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/155866">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 45b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry for the delay, I&#39;ll take a look ASAP :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-347324" href="/Public/Bug/Display.html?id=28347#txn-347324">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;22&nbsp;13:00:11&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-347326" href="/Public/Bug/Display.html?id=28347#txn-347326">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;22&nbsp;13:12:52&nbsp;2007</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/347326/155868/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/155868">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 335b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Try adjusting via args in &#39;new&#39;  key as per new&#40;&#41; in `perldoc File::Tail`.

IIRC, The way it is you&#39;re telling it to start at the beginning when the program is restarted.

Then you can append to the file and the app will continue to tail the new lines.

Also may want to use the latest File::Tail since the one in the example is old.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-347328" href="/Public/Bug/Display.html?id=28347#txn-347328">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;22&nbsp;13:12:53&nbsp;2007</span>
    <span class="description">dmuey [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358906" href="/Public/Bug/Display.html?id=28347#txn-358906">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;14:05:16&nbsp;2007</span>
    <span class="description">wim [...] livens.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28347] The whole logfile is reread when restarting the App</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 5 Sep 2007 19:55:56 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-Tail-App [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Wim Livens&#34; &lt;wim [...] livens.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/358906/162197/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/162197">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 345b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello again,

I temporary gave up on the idea of using File::Tail&#40;::App&#41;, but just
tried to pick it up again.

Unfortunatly your hints didn&#39;t bring me any further.

However, when I replace the tell&#40;&#41; when calling _set_lastrun_data&#40;&#41; by
sysseek&#40;$tail-&gt;{&#39;handle&#39;}, 0, 1&#41; it seems to work fine.  But to be
honest I&#39;m not sure what I&#39;m doing.

Wim.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-358907" href="/Public/Bug/Display.html?id=28347#txn-358907">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;05&nbsp;14:05:29&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-442406" href="/Public/Bug/Display.html?id=28347#txn-442406">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;01&nbsp;11:07:58&nbsp;2008</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/442406/216884/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/216884">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 135b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 05 14:05:16 2007, WILIV wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello again,
</div>
Could you send me example code that reproduces what you&#39;re seeing?

thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-446175" href="/Public/Bug/Display.html?id=28347#txn-446175">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;10&nbsp;06:52:37&nbsp;2008</span>
    <span class="description">info [...] it.alldaypa.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28347] The whole logfile is reread when restarting the App</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 10 Apr 2008 11:49:29 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-Tail-App [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Paul Williams &lt;info [...] it.alldaypa.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/446175/218974/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/218974">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 366b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The perldoc document explains the problem;

<span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/functions/tell.html">http://perldoc.perl.org/functions/tell.html</a></span>

File::Tail uses the sys* operations which ignore the buffering so tell 
doesn&#39;t return the current position.  As pointed out by Wim, replacing 
the occurrences of tell should resolve this issue.

    tell&#40;$tail-&gt;{&#39;handle&#39;}&#41;

    sysseek&#40;$tail-&gt;{&#39;handle&#39;},0,1&#41;


Thanks,
-Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-752882" href="/Public/Bug/Display.html?id=28347#txn-752882">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;24&nbsp;15:49:37&nbsp;2010</span>
    <span class="description">paulgraydon [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paulgraydon [...] hotmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/752882/389282/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/389282">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 767b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 10 06:52:37 2008, info@it.alldaypa.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The perldoc document explains the problem;
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/functions/tell.html">http://perldoc.perl.org/functions/tell.html</a></span>
&gt; 
&gt; File::Tail uses the sys* operations which ignore the buffering so tell 
&gt; doesn&#39;t return the current position.  As pointed out by Wim, replacing 
&gt; the occurrences of tell should resolve this issue.
&gt; 
&gt;     tell&#40;$tail-&gt;{&#39;handle&#39;}&#41;
&gt; 
&gt;     sysseek&#40;$tail-&gt;{&#39;handle&#39;},0,1&#41;
&gt; 
&gt; 
&gt; Thanks,
&gt; -Paul
&gt; 
</div>
For what it&#39;s worth, it&#39;s still not working.  I&#39;m also getting this nice 
error:

Use of uninitialized value $md5_chk in concatenation &#40;.&#41; or string at 
/usr/local/share/perl/5.10.0/File/Tail/App.pm line 163.

If it&#39;s the first time the script has been run and the lastrun file 
doesn&#39;t exist, or is empty.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-753329" href="/Public/Bug/Display.html?id=28347#txn-753329">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;25&nbsp;08:10:50&nbsp;2010</span>
    <span class="description">webmaster [...] simplemood.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28347] The whole logfile is reread when restarting the App </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 25 Mar 2010 07:10:41 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-Tail-App [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dan Muey &lt;webmaster [...] simplemood.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/753329/389508/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/389508">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1011b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">thanks, I&#39;ll try moving this up on the TODO list

On Mar 24, 2010, at 2:49 PM, Paul Graydon via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: File-Tail-App
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=28347">https://rt.cpan.org/Ticket/Display.html?id=28347</a></span> &gt;
&gt;
&gt; On Thu Apr 10 06:52:37 2008, info@it.alldaypa.com wrote:
<div class="message-stanza open">&gt;&gt; The perldoc document explains the problem;
&gt;&gt;
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/functions/tell.html">http://perldoc.perl.org/functions/tell.html</a></span>
&gt;&gt;
&gt;&gt; File::Tail uses the sys* operations which ignore the buffering so  
&gt;&gt; tell
&gt;&gt; doesn&#39;t return the current position.  As pointed out by Wim,  
&gt;&gt; replacing
&gt;&gt; the occurrences of tell should resolve this issue.
&gt;&gt;
&gt;&gt;    tell&#40;$tail-&gt;{&#39;handle&#39;}&#41;
&gt;&gt;
&gt;&gt;    sysseek&#40;$tail-&gt;{&#39;handle&#39;},0,1&#41;
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; -Paul
&gt;&gt;
</div>&gt;
&gt; For what it&#39;s worth, it&#39;s still not working.  I&#39;m also getting this  
&gt; nice
&gt; error:
&gt;
&gt; Use of uninitialized value $md5_chk in concatenation &#40;.&#41; or string at
&gt; /usr/local/share/perl/5.10.0/File/Tail/App.pm line 163.
&gt;
&gt; If it&#39;s the first time the script has been run and the lastrun file
&gt; doesn&#39;t exist, or is empty.
&gt;
&gt;
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1035913" href="/Public/Bug/Display.html?id=28347#txn-1035913">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:52:23&nbsp;2012</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1035913/540787/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/540787">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 118b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The problem in the subject and the uninitialized value wanring are addressed in v0.4 just 
uploaded to CPAN.

Thanks!!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1035921" href="/Public/Bug/Display.html?id=28347#txn-1035921">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;18:52:35&nbsp;2012</span>
    <span class="description">dmuey [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.55066</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
