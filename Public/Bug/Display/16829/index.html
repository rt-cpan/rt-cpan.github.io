<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #16829 for Catalyst-Plugin-StackTrace: Broken test &#40;too specific regexp&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #16829 for Catalyst-Plugin-StackTrace: Broken test &#40;too specific regexp&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Catalyst-Plugin-StackTrace/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Catalyst-Plugin-StackTrace/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Catalyst-Plugin-StackTrace/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Catalyst-Plugin-StackTrace/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Catalyst-Plugin-StackTrace">Catalyst-Plugin-StackTrace CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">16829</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Catalyst-Plugin-StackTrace/Active/">Catalyst-Plugin-StackTrace</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
johanl [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-5288-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.01    </td>
  </tr>
  <tr id="CF-5289-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;31&nbsp;10:02:20&nbsp;2005</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Broken test &#40;too specific regexp&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Excellent work!

But the tests don&#39;t pass. Don&#39;t know exactly what was expected, but this is the result of the breaking 04trace.t running on &#34;This is perl, v5.8.6 built for MSWin32-x86-multi-thread&#34;. Perhaps the error output differs between Perl versions or something?


C:\.cpan\build\Catalyst-Plugin-StackTrace-0.01&gt;prove -v -I lib t\04trace.t
t\04trace....1..7
ok 1 - request ok
ok 2 - response ok
ok 3 - request ok

not ok 4 - error ok
#     Failed test &#40;t\04trace.t at line 24&#41;
#                   &#39;&lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Transitional//EN&#34;
#     &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a></span>&#34;&gt;
# &lt;html xmlns=&#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a></span>&#34; xml:lang=&#34;en&#34; lang=&#34;en&#34;&gt;
# &lt;head&gt;
#     &lt;meta http-equiv=&#34;Content-Language&#34; content=&#34;en&#34; /&gt;
#     &lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34; /&gt;
#     &lt;title&gt;TestApp on Catalyst 5.61&lt;/title&gt;
#     &lt;script type=&#34;text/javascript&#34;&gt;
#         &lt;!--
#         function toggleDump &#40;dumpElement&#41; {
#             var e = document.getElementById&#40; dumpElement &#41;;
#             if &#40;e.style.display == &#34;none&#34;&#41; {
#                 e.style.display = &#34;&#34;;
#             }
#             else {
#                 e.style.display = &#34;none&#34;;
#             }
#         }
#         --&gt;
#     &lt;/script&gt;
#     &lt;style type=&#34;text/css&#34;&gt;
#         body {
#             font-family: &#34;Bitstream Vera Sans&#34;, &#34;Trebuchet MS&#34;, Verdana,
#                          Tahoma, Arial, helvetica, sans-serif;
#             color: #ddd;
#             background-color: #eee;
#             margin: 0px;
#             padding: 0px;
#         }
#         :link, :link:hover, :visited, :visited:hover {
#             color: #ddd;
#         }
#         div.box {
#             position: relative;
#             background-color: #ccc;
#             border: 1px solid #aaa;
#             padding: 4px;
#             margin: 10px;
#             -moz-border-radius: 10px;
#         }
#         div.error {
#             background-color: #977;
#             border: 1px solid #755;
#             padding: 8px;
#             margin: 4px;
#             margin-bottom: 10px;
#             -moz-border-radius: 10px;
#         }
#         div.infos {
#             background-color: #797;
#             border: 1px solid #575;
#             padding: 8px;
#             margin: 4px;
#             margin-bottom: 10px;
#             -moz-border-radius: 10px;
#         }
#         div.name {
#             background-color: #779;
#             border: 1px solid #557;
#             padding: 8px;
#             margin: 4px;
#             -moz-border-radius: 10px;
#         }
#         code.error {
#             display: block;
#             margin: 1em 0;
#             overflow: auto;
#         }
#         div.name h1, div.error p {
#             margin: 0;
#         }
#         h2 {
#             margin-top: 0;
#             margin-bottom: 10px;
#             font-size: medium;
#             font-weight: bold;
#             text-decoration: underline;
#         }
#         h1 {
#             font-size: medium;
#             font-weight: normal;
#         }
#     &lt;/style&gt;
# &lt;/head&gt;
# &lt;body&gt;
#     &lt;div class=&#34;box&#34;&gt;
#         &lt;div class=&#34;error&#34;&gt;&lt;pre&gt;&lt;p&gt;&lt;code class=&#34;error&#34;&gt;Caught exception &#38;quot;Undefined subroutine &#38;amp;TestApp::Controller::Foo::three called at C:/.cp
/TestApp/Controller/Foo.pm line 22.&#38;quot;&lt;/code&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/div&gt;
#
#             &lt;style type=&#34;text/css&#34;&gt;
#                 div.trace {
#                     background-color: #5f7e7e;
#                 }
#                 th, td {
#                     padding-right: 1.5em;
#                     text-align: left;
#                 }
#             &lt;/style&gt;
#             &lt;div class=&#34;trace error&#34;&gt;
#             &lt;h2&gt;&lt;a href=&#34;#&#34; onclick=&#34;toggleDump&#40;&#39;stacktrace&#39;&#41;; return false&#34;&gt;Stack Trace&lt;/a&gt;&lt;/h2&gt;
#                 &lt;div id=&#34;stacktrace&#34;&gt;
#                     &lt;table&gt;
#                        &lt;tr&gt;
#                            &lt;th&gt;Package&lt;/th&gt;
#                            &lt;th&gt;Line   &lt;/th&gt;
#                            &lt;th&gt;File   &lt;/th&gt;
#                        &lt;/tr&gt;
#
#                        &lt;tr&gt;
#                            &lt;td&gt;TestApp::Controller::Foo&lt;/td&gt;
#                            &lt;td&gt;22&lt;/td&gt;
#                            &lt;td&gt;C:/.cpan/build/Catalyst-Plugin-StackTrace-0.01/t/lib/TestApp/Controller/Foo.pm&lt;/td&gt;
#                        &lt;/tr&gt;
#                        &lt;tr&gt;
#                            &lt;td colspan=&#34;3&#34;&gt;&lt;pre&gt;&lt;p&gt;&lt;code class=&#34;error&#34;&gt;   19: sub crash : Local {
#    20:     my &#40; $self, $c &#41; = @_;
#    21:
# &lt;b&gt;   22:     three&#40;&#41;;
# &lt;/b&gt;   23: }
#    24:
#    25: 1;
# &lt;/code&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;
#                        &lt;/tr&gt;
#
#                        &lt;tr&gt;
#                            &lt;td&gt;TestApp::Controller::Foo&lt;/td&gt;
#                            &lt;td&gt;16&lt;/td&gt;
#                            &lt;td&gt;C:/.cpan/build/Catalyst-Plugin-StackTrace-0.01/t/lib/TestApp/Controller/Foo.pm&lt;/td&gt;
#                        &lt;/tr&gt;
#                        &lt;tr&gt;
#                            &lt;td colspan=&#34;3&#34;&gt;&lt;pre&gt;&lt;p&gt;&lt;code class=&#34;error&#34;&gt;   13: sub not_ok : Local {
#    14:     my &#40; $self, $c &#41; = @_;
#    15:
# &lt;b&gt;   16:     $c-&#38;gt;forward&#40; &#39;crash&#39; &#41;;
# &lt;/b&gt;   17: }
#    18:
#    19: sub crash : Local {
# &lt;/code&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;
#                        &lt;/tr&gt;
#
#                     &lt;/table&gt;
#                 &lt;/div&gt;
#             &lt;/div&gt;
#         &lt;div class=&#34;infos&#34;&gt;&lt;h2&gt;&lt;a href=&#34;#&#34; onclick=&#34;toggleDump&#40;&#39;dump_0&#39;&#41;; return false&#34;&gt;Request&lt;/a&gt;&lt;/h2&gt;
# &lt;div id=&#34;dump_0&#34;&gt;
#     &lt;pre&gt;bless&#40; {
#                  &#39;protocol&#39; =&#38;gt; &#39;HTTP/1.1&#39;,
#                  &#39;headers&#39; =&#38;gt; bless&#40; {
#                                        &#39;https&#39; =&#38;gt; &#39;OFF&#39;,
#                                        &#39;host&#39; =&#38;gt; &#39;localhost:80&#39;
#                                      }, &#39;HTTP::Headers&#39; &#41;,
#                  &#39;snippets&#39; =&#38;gt; [],
#                  &#39;body_parameters&#39; =&#38;gt; {},
#                  &#39;secure&#39; =&#38;gt; 0,
#                  &#39;hostname&#39; =&#38;gt; &#39;localhost&#39;,
#                  &#39;uploads&#39; =&#38;gt; {},
#                  &#39;user&#39; =&#38;gt; undef,
#                  &#39;method&#39; =&#38;gt; &#39;GET&#39;,
#                  &#39;address&#39; =&#38;gt; &#39;127.0.0.1&#39;,
#                  &#39;base&#39; =&#38;gt; bless&#40; do{\&#40;my $o = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://localhost/&#39;&#41;">http://localhost/&#39;&#41;</a></span>}, &#39;URI::http&#39; &#41;,
#                  &#39;cookies&#39; =&#38;gt; {},
#                  &#39;match&#39; =&#38;gt; &#39;foo/not_ok&#39;,
#                  &#39;path&#39; =&#38;gt; &#39;foo/not_ok&#39;,
#                  &#39;uri&#39; =&#38;gt; bless&#40; do{\&#40;my $o = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://localhost/foo/not_ok&#39;&#41;">http://localhost/foo/not_ok&#39;&#41;</a></span>}, &#39;URI::http&#39; &#41;,
#                  &#39;query_parameters&#39; =&#38;gt; {},
#                  &#39;parameters&#39; =&#38;gt; {},
#                  &#39;action&#39; =&#38;gt; &#39;foo/not_ok&#39;,
#                  &#39;arguments&#39; =&#38;gt; []
#                }, &#39;Catalyst::Request&#39; &#41;
# &lt;/pre&gt;
# &lt;/div&gt;
#
# &lt;h2&gt;&lt;a href=&#34;#&#34; onclick=&#34;toggleDump&#40;&#39;dump_1&#39;&#41;; return false&#34;&gt;Response&lt;/a&gt;&lt;/h2&gt;
# &lt;div id=&#34;dump_1&#34;&gt;
#     &lt;pre&gt;bless&#40; {
#                  &#39;body&#39; =&#38;gt; &#39;&#39;,
#                  &#39;cookies&#39; =&#38;gt; {},
#                  &#39;headers&#39; =&#38;gt; bless&#40; {
#                                        &#39;content-type&#39; =&#38;gt; &#39;text/html; charset=utf-8&#39;,
#                                        &#39;x-catalyst&#39; =&#38;gt; &#39;5.61&#39;
#                                      }, &#39;HTTP::Headers&#39; &#41;,
#                  &#39;status&#39; =&#38;gt; 200
#                }, &#39;Catalyst::Response&#39; &#41;
# &lt;/pre&gt;
# &lt;/div&gt;
#
# &lt;h2&gt;&lt;a href=&#34;#&#34; onclick=&#34;toggleDump&#40;&#39;dump_2&#39;&#41;; return false&#34;&gt;Stash&lt;/a&gt;&lt;/h2&gt;
# &lt;div id=&#34;dump_2&#34;&gt;
#     &lt;pre&gt;{}
# &lt;/pre&gt;
# &lt;/div&gt;
# &lt;/div&gt;
#         &lt;div class=&#34;name&#34;&gt;&lt;h1&gt;TestApp on Catalyst 5.61&lt;/h1&gt;&lt;/div&gt;
#     &lt;/div&gt;
# &lt;/body&gt;
# &lt;/html&gt;
# &#39;
#     doesn&#39;t match &#39;&#40;?-xism:Caught exception in TestApp::Controller::Foo&#41;&#39;
ok 5 - trace ok
ok 6 - line number ok
# Looks like you failed 1 test of 7.
ok 7 - context ok
dubious
        Test returned status 1 &#40;wstat 256, 0x100&#41;
DIED. FAILED test 4
        Failed 1/7 tests, 85.71% okay
Failed Test Stat Wstat Total Fail  Failed  List of Failed
-------------------------------------------------------------------------------
t\04trace.t    1   256     7    1  14.29%  4
Failed 1/1 test scripts, 0.00% okay. 1/7 subtests failed, 85.71% okay.


As you can see, the &#34;Caught exception&#34; doesn&#39;t look exactly like the regexp when I run it.


/J
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;31&nbsp;10:11:28&nbsp;2005</span>
    <span class="description">AGRUNDMA [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, guess you can&#39;t assume what an error message will be on
different Perl versions!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;20&nbsp;16:41:43&nbsp;2006</span>
    <span class="description">AGRUNDMA [...] cpan.org -  Status changed from &#39;new&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
