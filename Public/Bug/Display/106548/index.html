<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #106548 for Archive-Zip: consistent failures on travis</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #106548 for Archive-Zip: consistent failures on travis</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Archive-Zip/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Archive-Zip/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Archive-Zip/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Archive-Zip/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Archive-Zip">Archive-Zip CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">106548</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Archive-Zip/Active/">Archive-Zip</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-2540-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.57    </td>
  </tr>
  <tr id="CF-2541-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;19&nbsp;19:46:46&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> consistent failures on travis</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m not sure if you are aware of this, but this distribution does not install on travis, which affects all downstream tests:

example <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/74656354/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/74656354/log.txt</a></span>

--&gt; Working on Archive::Zip
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/P/PH/PHRED/Archive-Zip-1.49.tar.gz">http://www.cpan.org/authors/id/P/PH/PHRED/Archive-Zip-1.49.tar.gz</a></span>
-&gt; OK
Unpacking Archive-Zip-1.49.tar.gz
Entering Archive-Zip-1.49
Checking configure dependencies from META.json
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;7.04&#41;
Configuring Archive-Zip-1.49
Running Makefile.PL
Checking if your kit is complete...
Looks good
Generating a Unix-style Makefile
Writing Makefile for Archive::Zip
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have File::Copy 0 ... Yes &#40;2.18&#41;
Checking if you have IO::Seekable 0 ... Yes &#40;1.10&#41;
Checking if you have IO::File 0 ... Yes &#40;1.14&#41;
Checking if you have File::Spec 0.80 ... Yes &#40;3.47&#41;
Checking if you have IO::Handle 0 ... Yes &#40;1.28&#41;
Checking if you have Compress::Raw::Zlib 2.017 ... Yes &#40;2.024&#41;
Checking if you have Test::More 0.88 ... Yes &#40;1.001014&#41;
Checking if you have File::Find 0 ... Yes &#40;1.15&#41;
Checking if you have File::Temp 0 ... Yes &#40;0.22&#41;
Checking if you have File::Path 0 ... Yes &#40;2.08_01&#41;
Checking if you have File::Basename 0 ... Yes &#40;2.78&#41;
Checking if you have Time::Local 0 ... Yes &#40;1.1901_01&#41;
Building and testing Archive-Zip-1.49
cp lib/Archive/Zip/MockFileHandle.pm blib/lib/Archive/Zip/MockFileHandle.pm
cp lib/Archive/Zip/MemberRead.pm blib/lib/Archive/Zip/MemberRead.pm
cp lib/Archive/Zip/FileMember.pm blib/lib/Archive/Zip/FileMember.pm
cp lib/Archive/Zip/BufferedFileHandle.pm blib/lib/Archive/Zip/BufferedFileHandle.pm
cp lib/Archive/Zip/StringMember.pm blib/lib/Archive/Zip/StringMember.pm
cp lib/Archive/Zip/Tree.pm blib/lib/Archive/Zip/Tree.pm
cp lib/Archive/Zip/FAQ.pod blib/lib/Archive/Zip/FAQ.pod
cp lib/Archive/Zip/Member.pm blib/lib/Archive/Zip/Member.pm
cp lib/Archive/Zip.pm blib/lib/Archive/Zip.pm
cp lib/Archive/Zip/Archive.pm blib/lib/Archive/Zip/Archive.pm
cp lib/Archive/Zip/ZipFileMember.pm blib/lib/Archive/Zip/ZipFileMember.pm
cp lib/Archive/Zip/NewFileMember.pm blib/lib/Archive/Zip/NewFileMember.pm
cp lib/Archive/Zip/DirectoryMember.pm blib/lib/Archive/Zip/DirectoryMember.pm
cp script/crc32 blib/script/crc32
&#34;/home/travis/perl5/perlbrew/perls/5.12/bin/perl&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/crc32
Manifying 4 pod documents
PERL_DL_NONLAZY=1 &#34;/home/travis/perl5/perlbrew/perls/5.12/bin/perl&#34; &#34;-MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_compile.t ................ ok
t/02_main.t ................... ok
t/03_ex.t ..................... ok
t/04_readmember.t ............. ok
t/05_tree.t ................... ok
t/06_update.t ................. ok
t/07_filenames_of_0.t ......... ok
t/08_readmember_record_sep.t .. ok
t/09_output_record_sep.t ...... ok
t/10_chmod.t .................. ok
t/11_explorer.t ............... ok
t/12_bug_47223.t .............. skipped: Only required on Win32.
t/13_bug_46303.t .............. ok
t/14_leading_separator.t ...... ok
t/15_decrypt.t ................ ok
t/16_decrypt.t ................ ok
t/17_101092.t ................. ok
t/18_bug_92205.t .............. ok
t/19_bug_101240.t ............. ok
t/20_bug_github11.t ........... ok
t/21_zip64.t .................. ok

#   Failed test &#39;output zip isn&#39;t corrupted&#39;
#   at t/22_deflated_dir.t line 24.
#          got: &#39;512&#39;
#     expected: &#39;0&#39;
# Looks like you failed 1 test of 4.
t/22_deflated_dir.t ........... 
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/4 subtests 

Test Summary Report
-------------------
t/22_deflated_dir.t         &#40;Wstat: 256 Tests: 4 Failed: 1&#41;
  Failed test:  4
  Non-zero exit status: 1
Files=22, Tests=291,  4 wallclock secs &#40; 0.10 usr  0.04 sys +  2.88 cusr  0.49 csys =  3.51 CPU&#41;
Result: FAIL
Failed 1/22 test programs. 1/291 subtests failed.
make: *** [test_dynamic] Error 1
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;18&nbsp;21:50:15&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-08-19 16:46:46, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not sure if you are aware of this, but this distribution does not
&gt; install on travis, which affects all downstream tests:
</div>
The problem still exists, with the same test failure, in version 1.53.

Here is a recent build log:  <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/86105341/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/86105341/log.txt</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;19&nbsp;16:45:03&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-10-18 18:50:15, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2015-08-19 16:46:46, ETHER wrote:
<div class="message-stanza open">&gt; &gt; I&#39;m not sure if you are aware of this, but this distribution does not
&gt; &gt; install on travis, which affects all downstream tests:
</div>&gt; 
&gt; The problem still exists, with the same test failure, in version 1.53.
&gt; 
&gt; Here is a recent build log:  <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-">https://s3.amazonaws.com/archive.travis-</a></span>
&gt; ci.org/jobs/86105341/log.txt
</div>

Here is another recent build log: <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt</a></span>

Could this be the same issue as described in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106089">https://rt.cpan.org/Ticket/Display.html?id=106089</a></span> ?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;19&nbsp;16:50:36&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Reference to ticket #106089 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;17&nbsp;01:25:42&nbsp;2016</span>
    <span class="description">ozcoder [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ozcoder [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 19 16:45:03 2016, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2015-10-18 18:50:15, ETHER wrote:
<div class="message-stanza open">&gt; &gt; On 2015-08-19 16:46:46, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; I&#39;m not sure if you are aware of this, but this distribution does
&gt; &gt; &gt; not
&gt; &gt; &gt; install on travis, which affects all downstream tests:
</div>&gt; &gt;
&gt; &gt; The problem still exists, with the same test failure, in version
&gt; &gt; 1.53.
&gt; &gt;
&gt; &gt; Here is a recent build log:  <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-">https://s3.amazonaws.com/archive.travis-</a></span>
&gt; &gt; ci.org/jobs/86105341/log.txt
</div>&gt; 
&gt; 
&gt; Here is another recent build log:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt</a></span>
&gt; 
&gt; Could this be the same issue as described in
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106089">https://rt.cpan.org/Ticket/Display.html?id=106089</a></span> ?
</div>
Ok, I have finally worked out what is going on. It&#39;s actually a bug in that particular version of unzip. There was security bug <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was sort of fixed in this version, but not quite right. It doesn&#39;t allow 0 length field, but the check was wrong. A later version has it fixed correctly.

See my non-container Travis run <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/ozcoder/perl-Archive-Zip/builds/109792014">https://travis-ci.org/ozcoder/perl-Archive-Zip/builds/109792014</a></span>

Gordon
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;17&nbsp;01:25:42&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;18&nbsp;18:25:04&nbsp;2016</span>
    <span class="description">dean [...] fragfest.com.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">perhaps just skip the test if that version is present?

On Wed Feb 17 01:25:42 2016, ozcoder@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue Jan 19 16:45:03 2016, ETHER wrote:
<div class="message-stanza open">&gt; &gt; On 2015-10-18 18:50:15, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; On 2015-08-19 16:46:46, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; I&#39;m not sure if you are aware of this, but this distribution does
&gt; &gt; &gt; &gt; not
&gt; &gt; &gt; &gt; install on travis, which affects all downstream tests:
</div>&gt; &gt; &gt;
&gt; &gt; &gt; The problem still exists, with the same test failure, in version
&gt; &gt; &gt; 1.53.
&gt; &gt; &gt;
&gt; &gt; &gt; Here is a recent build log:
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-">https://s3.amazonaws.com/archive.travis-</a></span>
&gt; &gt; &gt; ci.org/jobs/86105341/log.txt
</div>&gt; &gt;
&gt; &gt;
&gt; &gt; Here is another recent build log:
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/103125841/log.txt</a></span>
&gt; &gt;
&gt; &gt; Could this be the same issue as described in
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106089">https://rt.cpan.org/Ticket/Display.html?id=106089</a></span> ?
</div>&gt; 
&gt; Ok, I have finally worked out what is going on. It&#39;s actually a bug in
&gt; that particular version of unzip. There was security bug
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was
&gt; sort of fixed in this version, but not quite right. It doesn&#39;t allow 0
&gt; length field, but the check was wrong. A later version has it fixed
&gt; correctly.
&gt; 
&gt; See my non-container Travis run <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/ozcoder/perl-">https://travis-ci.org/ozcoder/perl-</a></span>
&gt; Archive-Zip/builds/109792014
&gt; 
&gt; Gordon
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;01&nbsp;13:52:14&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Ok, I have finally worked out what is going on. It&#39;s actually a bug in
&gt; &gt; that particular version of unzip. There was security bug
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was
&gt; &gt; sort of fixed in this version, but not quite right. It doesn&#39;t allow 0
&gt; &gt; length field, but the check was wrong. A later version has it fixed
&gt; &gt; correctly.
</div></div>
On 2016-03-18 15:25:04, djzort wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; perhaps just skip the test if that version is present?
</div>
Yes please!!! This would enable the module to install properly on travis, which will unblock *many* broken tests at the moment.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;01&nbsp;14:06:55&nbsp;2016</span>
    <span class="description">fred [...] redhotpenguin.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #106548] consistent failures on travis</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 01 Apr 2016 18:06:27 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Zip [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Fred Moyer &lt;fred [...] redhotpenguin.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">1.57 is off to cpan with these changes

On Fri, Apr 1, 2016, 10:52 AM Karen Etheridge via RT &lt;
bug-Archive-Zip@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Archive-Zip
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106548">https://rt.cpan.org/Ticket/Display.html?id=106548</a></span> &gt;
&gt;
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Ok, I have finally worked out what is going on. It&#39;s actually a bug in
&gt; &gt; &gt; that particular version of unzip. There was security bug
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was
&gt; &gt; &gt; sort of fixed in this version, but not quite right. It doesn&#39;t allow 0
&gt; &gt; &gt; length field, but the check was wrong. A later version has it fixed
&gt; &gt; &gt; correctly.
</div></div>&gt;
&gt; On 2016-03-18 15:25:04, djzort wrote:
<div class="message-stanza open">&gt; &gt; perhaps just skip the test if that version is present?
</div>&gt;
&gt; Yes please!!! This would enable the module to install properly on travis,
&gt; which will unblock *many* broken tests at the moment.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;01&nbsp;15:47:52&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-01 11:06:55, fred@redhotpenguin.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1.57 is off to cpan with these changes
</div>
Appreciated!

Alas, however, tests still fail...  <span class="clickylink"><a target="new" rel="nofollow" href="https://s3.amazonaws.com/archive.travis-ci.org/jobs/119989523/log.txt">https://s3.amazonaws.com/archive.travis-ci.org/jobs/119989523/log.txt</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;07:59:44&nbsp;2016</span>
    <span class="description">REHSACK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, even with recent release, Travis tests still fail - see <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291">https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;11:37:12&nbsp;2016</span>
    <span class="description">exodist7 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Apr 04 04:59:44 2016, REHSACK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, even with recent release, Travis tests still fail - see
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291">https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291</a></span>
</div>

I will add that this last release actually seems to have made it worse. Before the last release my testing always worked. The last release has changed that breaking my testing with the same error mentioned in this ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;04&nbsp;11:41:17&nbsp;2016</span>
    <span class="description">fred [...] redhotpenguin.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #106548] consistent failures on travis</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 04 Apr 2016 15:40:17 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Zip [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Fred Moyer &lt;fred [...] redhotpenguin.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thoughts on reverting this change and releasing the previous version? I
know very little about Travis, so I can&#39;t speak to what might resolve this.

On Mon, Apr 4, 2016, 8:37 AM Chad Granum via RT &lt;bug-Archive-Zip@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Archive-Zip
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106548">https://rt.cpan.org/Ticket/Display.html?id=106548</a></span> &gt;
&gt;
&gt; On Mon Apr 04 04:59:44 2016, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; Yes, even with recent release, Travis tests still fail - see
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291">https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291</a></span>
</div>&gt;
&gt;
&gt; I will add that this last release actually seems to have made it worse.
&gt; Before the last release my testing always worked. The last release has
&gt; changed that breaking my testing with the same error mentioned in this
&gt; ticket.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;05&nbsp;15:41:31&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-04 11:41:17, fred@redhotpenguin.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thoughts on reverting this change and releasing the previous version?
&gt; I
&gt; know very little about Travis, so I can&#39;t speak to what might resolve
&gt; this.
</div>
I don&#39;t think that travis does something special, probably the same failure may be seen on the same OS travis is using &#40;Ubuntu something?&#41;.

BTW, the same failure happens also on other systems, most notably freebsd and netbsd:
<span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Archive-Zip+1.57">http://matrix.cpantesters.org/?dist=Archive-Zip+1.57</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; On Mon, Apr 4, 2016, 8:37 AM Chad Granum via RT &lt;bug-Archive-
&gt; Zip@rt.cpan.org&gt;
&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; Queue: Archive-Zip
&gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106548">https://rt.cpan.org/Ticket/Display.html?id=106548</a></span> &gt;
&gt; &gt;
&gt; &gt; On Mon Apr 04 04:59:44 2016, REHSACK wrote:
<div class="message-stanza open">&gt; &gt; &gt; Yes, even with recent release, Travis tests still fail - see
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291">https://travis-ci.org/perl5-utils/MIME-Base32/jobs/120585903#L291</a></span>
</div>&gt; &gt;
&gt; &gt;
&gt; &gt; I will add that this last release actually seems to have made it
&gt; &gt; worse.
&gt; &gt; Before the last release my testing always worked. The last release
&gt; &gt; has
&gt; &gt; changed that breaking my testing with the same error mentioned in
&gt; &gt; this
&gt; &gt; ticket.
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;04&nbsp;08:37:02&nbsp;2016</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 1.57 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;06&nbsp;14:47:17&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> ozcoder [...] gmail.com, fred [...] redhotpenguin.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-03-18 15:25:04, djzort wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; perhaps just skip the test if that version is present?
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; Ok, I have finally worked out what is going on. It&#39;s actually a bug in
&gt; &gt; that particular version of unzip. There was security bug
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was
&gt; &gt; sort of fixed in this version, but not quite right. It doesn&#39;t allow 0
&gt; &gt; length field, but the check was wrong. A later version has it fixed
&gt; &gt; correctly.
&gt; &gt; 
&gt; &gt; See my non-container Travis run <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/ozcoder/perl-">https://travis-ci.org/ozcoder/perl-</a></span>
&gt; &gt; Archive-Zip/builds/109792014
</div>
Can this be tested in a -TRIAL release?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;18&nbsp;16:35:39&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-06-06 11:47:17, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2016-03-18 15:25:04, djzort wrote:
<div class="message-stanza open">&gt; &gt; perhaps just skip the test if that version is present?
</div>&gt; 
<div class="message-stanza open">&gt; &gt; &gt; Ok, I have finally worked out what is going on. It&#39;s actually a bug in
&gt; &gt; &gt; that particular version of unzip. There was security bug
&gt; &gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139">https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-8139</a></span> that was
&gt; &gt; &gt; sort of fixed in this version, but not quite right. It doesn&#39;t allow 0
&gt; &gt; &gt; length field, but the check was wrong. A later version has it fixed
&gt; &gt; &gt; correctly.
&gt; &gt; &gt; 
&gt; &gt; &gt; See my non-container Travis run <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/ozcoder/perl-">https://travis-ci.org/ozcoder/perl-</a></span>
&gt; &gt; &gt; Archive-Zip/builds/109792014
</div>&gt; 
&gt; Can this be tested in a -TRIAL release?
</div>
ping! would it be possible to bypass tests if a buggy zip install is detected?
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
