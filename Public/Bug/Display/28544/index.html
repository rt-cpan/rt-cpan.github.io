<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28544 for WWW-Myspace: Help with band show form automation.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28544 for WWW-Myspace: Help with band show form automation.</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=WWW-Myspace">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=WWW-Myspace">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=WWW-Myspace">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=WWW-Myspace">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/WWW-Myspace">WWW-Myspace CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28544</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=WWW-Myspace">WWW-Myspace</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ethandbrown [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38014-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38015-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=28544">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-349060" href="/Public/Bug/Display.html?id=28544#txn-349060">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;29&nbsp;19:52:31&nbsp;2007</span>
    <span class="description">ethandbrown [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Help with band show form automation.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 29 Jul 2007 16:52:08 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-WWW-Myspace [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ethan Brown&#34; &lt;ethandbrown [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/349060/156760/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/156760">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear WWW-Myspace maintainers--

First, thank you for your efforts which provide this very useful
module.

I am trying to mechanize the Myspace Band site &#34;Add A Show&#34; form using
your module.  I felt that I was making progress, but am getting an
error submitting the form &#40;via submit_form&#41; for the value of the
&#34;State&#34; form element.

I reviewed the form page source and saw that the &#34;State&#34; option value for
&#34;California&#34; is &#34;California|5&#34;, however I am getting the error

Illegal value &#39;California|5&#39; for field &#39;State&#39; at
/usr/local/share/perl/5.8.7/HTML/Form.pm line 512

when running my test program &#40;see attached&#41;.

Any help is appreciated in moving forward with this, including RTFM if
I missed something in the manual.

Thanks,

--Ethan

===========================================================================
#!/usr/bin/perl
##
## Test script for interacting with Myspace.  There is currently no function
## in the WWW::Myspace module for adding a show for a band account, but
## there is a very handy method submit_form&#40;&#41; for submitting an arbitrary
## Myspace form &#40;by URL&#41;. Try using that.
##
## Note: The Myspace account must be a band account for this to have any hope of
## working.
##

use warnings;
use strict;

use Data::Dumper;
use WWW::Myspace;

my $account = &#39;ethandbrown@gmail.com&#39;;  #Your account name &#40;email&#41; goes here.
my $password = &#39;not_telling&#39;;           #Your password goes here.

my $myspace = WWW::Myspace-&gt;new &#40;account_name =&gt; $account,
                                 password =&gt; $password,
                                 human =&gt; 1&#41;;

unless &#40; $myspace-&gt;logged_in &#41; { die &#34;Login failed: &#34; . $myspace-&gt;error }

## Set up new band show form elements

my $form_url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://editprofile.myspace.com/index.cfm?fuseaction=bandprofile.shows&#39;">http://editprofile.myspace.com/index.cfm?fuseaction=bandprofile.shows&#39;</a></span>;

my $form_fields = {&#39;sMonth&#39;     =&gt; &#39;September&#39;,
                   &#39;sDay&#39;       =&gt; &#39;6&#39;,
                   &#39;sYear&#39;      =&gt; &#39;2007&#39;,
                   &#39;sHour&#39;      =&gt; &#39;20&#39;,
                   &#39;sMin&#39;       =&gt; &#39;15&#39;,
                   &#39;Venue_Name&#39; =&gt; &#39;Rockin Cafe&#39;,
                   &#39;Address&#39;    =&gt; &#39;123 Main St.&#39;,
                   &#39;State&#39;      =&gt; &#39;California|5&#39;,
                   &#39;Country&#39;    =&gt; &#39;US&#39;,
                   &#39;City&#39;       =&gt; &#39;Ramona&#39;,
                   &#39;Zip_Code&#39;   =&gt; &#39;92065&#39;,
                   &#39;Description&#39;=&gt; &#39;A total rave party!&#39;};

my $button = &#34;formSubmit&#34;;

my $submitted =
    $myspace-&gt;submit_form&#40; {
                     page =&gt; $form_url,
                     follow =&gt; 1,
                     form_name =&gt; &#39;theForm&#39;,
                     fields_ref =&gt; $form_fields,
                     button =&gt; $button
                     } &#41;;

unless &#40; $submitted &#41;
{
    die &#34;Initial form submission failed.&#34;;
}

## Submit the confirmation form:
$submitted = $myspace-&gt;submit_form&#40;{ follow =&gt; 1,
                                     form_no =&gt; 1
                                     }&#41;;

unless &#40; $submitted &#41;
{
    die &#34;Form confirmation failed.&#34;;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356303" href="/Public/Bug/Display.html?id=28544#txn-356303">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;28&nbsp;06:19:24&nbsp;2007</span>
    <span class="description">grantg [...] spamarrest.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28544] Help with band show form automation. </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Aug 2007 03:18:30 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-WWW-Myspace [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Grant Grueninger &lt;grantg [...] spamarrest.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356303/160627/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160627">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Ethan,

It looks like myspace is creating the State values in the form using  
Javascript, so as far as WWW::Mechanize is concerned, &#34;California|5&#34;  
isn&#39;t an option for that form.  So we&#39;d either have to manually add  
the form value, or create a new form and post it.  Welcome to hacking  
myspace&#39;s monkey code...

Grant

On Jul 29, 2007, at 4:52 PM, Ethan Brown via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Sun Jul 29 19:52:31 2007: Request 28544 was acted upon.
&gt; Transaction: Ticket created by ethandbrown@gmail.com
&gt;        Queue: WWW-Myspace
&gt;      Subject: Help with band show form automation.
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: ethandbrown@gmail.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;
&gt;
&gt; Dear WWW-Myspace maintainers--
&gt;
&gt; First, thank you for your efforts which provide this very useful
&gt; module.
&gt;
&gt; I am trying to mechanize the Myspace Band site &#34;Add A Show&#34; form using
&gt; your module.  I felt that I was making progress, but am getting an
&gt; error submitting the form &#40;via submit_form&#41; for the value of the
&gt; &#34;State&#34; form element.
&gt;
&gt; I reviewed the form page source and saw that the &#34;State&#34; option  
&gt; value for
&gt; &#34;California&#34; is &#34;California|5&#34;, however I am getting the error
&gt;
&gt; Illegal value &#39;California|5&#39; for field &#39;State&#39; at
&gt; /usr/local/share/perl/5.8.7/HTML/Form.pm line 512
&gt;
&gt; when running my test program &#40;see attached&#41;.
&gt;
&gt; Any help is appreciated in moving forward with this, including RTFM if
&gt; I missed something in the manual.
&gt;
&gt; Thanks,
&gt;
&gt; --Ethan
&gt;
&gt; ====================================================================== 
&gt; =====
&gt; #!/usr/bin/perl
&gt; ##
&gt; ## Test script for interacting with Myspace.  There is currently no  
&gt; function
&gt; ## in the WWW::Myspace module for adding a show for a band account,  
&gt; but
&gt; ## there is a very handy method submit_form&#40;&#41; for submitting an  
&gt; arbitrary
&gt; ## Myspace form &#40;by URL&#41;. Try using that.
&gt; ##
&gt; ## Note: The Myspace account must be a band account for this to  
&gt; have any hope of
&gt; ## working.
&gt; ##
&gt;
&gt; use warnings;
&gt; use strict;
&gt;
&gt; use Data::Dumper;
&gt; use WWW::Myspace;
&gt;
&gt; my $account = &#39;ethandbrown@gmail.com&#39;;  #Your account name &#40;email&#41;  
&gt; goes here.
&gt; my $password = &#39;not_telling&#39;;         #Your password goes here.
&gt;
&gt; my $myspace = WWW::Myspace-&gt;new &#40;account_name =&gt; $account,
&gt;                                password =&gt; $password,
&gt;                                human =&gt; 1&#41;;
&gt;
&gt; unless &#40; $myspace-&gt;logged_in &#41; { die &#34;Login failed: &#34; . $myspace- 
<div class="message-stanza open">&gt; &gt;error }
</div>&gt;
&gt; ## Set up new band show form elements
&gt;
&gt; my $form_url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://editprofile.myspace.com/index.cfm">http://editprofile.myspace.com/index.cfm</a></span>? 
&gt; fuseaction=bandprofile.shows&#39;;
&gt;
&gt; my $form_fields = {&#39;sMonth&#39;   =&gt; &#39;September&#39;,
&gt;                  &#39;sDay&#39;       =&gt; &#39;6&#39;,
&gt;                  &#39;sYear&#39;      =&gt; &#39;2007&#39;,
&gt;                  &#39;sHour&#39;      =&gt; &#39;20&#39;,
&gt;                  &#39;sMin&#39;       =&gt; &#39;15&#39;,
&gt;                  &#39;Venue_Name&#39; =&gt; &#39;Rockin Cafe&#39;,
&gt;                  &#39;Address&#39;    =&gt; &#39;123 Main St.&#39;,
&gt;                  &#39;State&#39;      =&gt; &#39;California|5&#39;,
&gt;                  &#39;Country&#39;    =&gt; &#39;US&#39;,
&gt;                  &#39;City&#39;       =&gt; &#39;Ramona&#39;,
&gt;                  &#39;Zip_Code&#39;   =&gt; &#39;92065&#39;,
&gt;                  &#39;Description&#39;=&gt; &#39;A total rave party!&#39;};
&gt;
&gt; my $button = &#34;formSubmit&#34;;
&gt;
&gt; my $submitted =
&gt;     $myspace-&gt;submit_form&#40; {
&gt;                      page =&gt; $form_url,
&gt;                      follow =&gt; 1,
&gt;                      form_name =&gt; &#39;theForm&#39;,
&gt;                      fields_ref =&gt; $form_fields,
&gt;                    button =&gt; $button
&gt;                    } &#41;;
&gt;
&gt; unless &#40; $submitted &#41;
&gt; {
&gt;     die &#34;Initial form submission failed.&#34;;
&gt; }
&gt;
&gt; ## Submit the confirmation form:
&gt; $submitted = $myspace-&gt;submit_form&#40;{ follow =&gt; 1,
&gt;                                    form_no =&gt; 1
&gt;                                    }&#41;;
&gt;
&gt; unless &#40; $submitted &#41;
&gt; {
&gt;     die &#34;Form confirmation failed.&#34;;
&gt; }
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356304" href="/Public/Bug/Display.html?id=28544#txn-356304">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;28&nbsp;06:19:29&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356358" href="/Public/Bug/Display.html?id=28544#txn-356358">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;28&nbsp;10:39:32&nbsp;2007</span>
    <span class="description">ethandbrown [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28544] Help with band show form automation.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Aug 2007 07:38:30 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-WWW-Myspace [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ethan Brown&#34; &lt;ethandbrown [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356358/160666/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160666">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Grant.  I&#39;m happy to have a shot at that.  Where can I RTFM
about that?  I suppose WWW::Mechanize is a good place to start?  I
have a webapp, WheresTheGig.com that&#39;s about 30,000 lines of Perl,
with over 1,000 users.  I&#39;m able to interoperate with other calendar
sites like Google Calendar, but many of my users would like to be able
to export their gigs on to their MySpace band sites.

Thanks for your help,

--Ethan

On 8/28/07, grantg@spamarrest.com via RT &lt;bug-WWW-Myspace@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;
&gt; Hi Ethan,
&gt;
&gt; It looks like myspace is creating the State values in the form using
&gt; Javascript, so as far as WWW::Mechanize is concerned, &#34;California|5&#34;
&gt; isn&#39;t an option for that form.  So we&#39;d either have to manually add
&gt; the form value, or create a new form and post it.  Welcome to hacking
&gt; myspace&#39;s monkey code...
&gt;
&gt; Grant
&gt;
&gt; On Jul 29, 2007, at 4:52 PM, Ethan Brown via RT wrote:
&gt;
<div class="message-stanza open">&gt; &gt;
&gt; &gt; Sun Jul 29 19:52:31 2007: Request 28544 was acted upon.
&gt; &gt; Transaction: Ticket created by ethandbrown@gmail.com
&gt; &gt;        Queue: WWW-Myspace
&gt; &gt;      Subject: Help with band show form automation.
&gt; &gt;    Broken in: &#40;no value&#41;
&gt; &gt;     Severity: &#40;no value&#41;
&gt; &gt;        Owner: Nobody
&gt; &gt;   Requestors: ethandbrown@gmail.com
&gt; &gt;       Status: new
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Dear WWW-Myspace maintainers--
&gt; &gt;
&gt; &gt; First, thank you for your efforts which provide this very useful
&gt; &gt; module.
&gt; &gt;
&gt; &gt; I am trying to mechanize the Myspace Band site &#34;Add A Show&#34; form using
&gt; &gt; your module.  I felt that I was making progress, but am getting an
&gt; &gt; error submitting the form &#40;via submit_form&#41; for the value of the
&gt; &gt; &#34;State&#34; form element.
&gt; &gt;
&gt; &gt; I reviewed the form page source and saw that the &#34;State&#34; option
&gt; &gt; value for
&gt; &gt; &#34;California&#34; is &#34;California|5&#34;, however I am getting the error
&gt; &gt;
&gt; &gt; Illegal value &#39;California|5&#39; for field &#39;State&#39; at
&gt; &gt; /usr/local/share/perl/5.8.7/HTML/Form.pm line 512
&gt; &gt;
&gt; &gt; when running my test program &#40;see attached&#41;.
&gt; &gt;
&gt; &gt; Any help is appreciated in moving forward with this, including RTFM if
&gt; &gt; I missed something in the manual.
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt;
&gt; &gt; --Ethan
&gt; &gt;
&gt; &gt; ======================================================================
&gt; &gt; =====
&gt; &gt; #!/usr/bin/perl
&gt; &gt; ##
&gt; &gt; ## Test script for interacting with Myspace.  There is currently no
&gt; &gt; function
&gt; &gt; ## in the WWW::Myspace module for adding a show for a band account,
&gt; &gt; but
&gt; &gt; ## there is a very handy method submit_form&#40;&#41; for submitting an
&gt; &gt; arbitrary
&gt; &gt; ## Myspace form &#40;by URL&#41;. Try using that.
&gt; &gt; ##
&gt; &gt; ## Note: The Myspace account must be a band account for this to
&gt; &gt; have any hope of
&gt; &gt; ## working.
&gt; &gt; ##
&gt; &gt;
&gt; &gt; use warnings;
&gt; &gt; use strict;
&gt; &gt;
&gt; &gt; use Data::Dumper;
&gt; &gt; use WWW::Myspace;
&gt; &gt;
&gt; &gt; my $account = &#39;ethandbrown@gmail.com&#39;;  #Your account name &#40;email&#41;
&gt; &gt; goes here.
&gt; &gt; my $password = &#39;not_telling&#39;;         #Your password goes here.
&gt; &gt;
&gt; &gt; my $myspace = WWW::Myspace-&gt;new &#40;account_name =&gt; $account,
&gt; &gt;                                password =&gt; $password,
&gt; &gt;                                human =&gt; 1&#41;;
&gt; &gt;
&gt; &gt; unless &#40; $myspace-&gt;logged_in &#41; { die &#34;Login failed: &#34; . $myspace-
<div class="message-stanza open">&gt; &gt; &gt;error }
</div>&gt; &gt;
&gt; &gt; ## Set up new band show form elements
&gt; &gt;
&gt; &gt; my $form_url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://editprofile.myspace.com/index.cfm">http://editprofile.myspace.com/index.cfm</a></span>?
&gt; &gt; fuseaction=bandprofile.shows&#39;;
&gt; &gt;
&gt; &gt; my $form_fields = {&#39;sMonth&#39;   =&gt; &#39;September&#39;,
&gt; &gt;                  &#39;sDay&#39;       =&gt; &#39;6&#39;,
&gt; &gt;                  &#39;sYear&#39;      =&gt; &#39;2007&#39;,
&gt; &gt;                  &#39;sHour&#39;      =&gt; &#39;20&#39;,
&gt; &gt;                  &#39;sMin&#39;       =&gt; &#39;15&#39;,
&gt; &gt;                  &#39;Venue_Name&#39; =&gt; &#39;Rockin Cafe&#39;,
&gt; &gt;                  &#39;Address&#39;    =&gt; &#39;123 Main St.&#39;,
&gt; &gt;                  &#39;State&#39;      =&gt; &#39;California|5&#39;,
&gt; &gt;                  &#39;Country&#39;    =&gt; &#39;US&#39;,
&gt; &gt;                  &#39;City&#39;       =&gt; &#39;Ramona&#39;,
&gt; &gt;                  &#39;Zip_Code&#39;   =&gt; &#39;92065&#39;,
&gt; &gt;                  &#39;Description&#39;=&gt; &#39;A total rave party!&#39;};
&gt; &gt;
&gt; &gt; my $button = &#34;formSubmit&#34;;
&gt; &gt;
&gt; &gt; my $submitted =
&gt; &gt;     $myspace-&gt;submit_form&#40; {
&gt; &gt;                      page =&gt; $form_url,
&gt; &gt;                      follow =&gt; 1,
&gt; &gt;                      form_name =&gt; &#39;theForm&#39;,
&gt; &gt;                      fields_ref =&gt; $form_fields,
&gt; &gt;                    button =&gt; $button
&gt; &gt;                    } &#41;;
&gt; &gt;
&gt; &gt; unless &#40; $submitted &#41;
&gt; &gt; {
&gt; &gt;     die &#34;Initial form submission failed.&#34;;
&gt; &gt; }
&gt; &gt;
&gt; &gt; ## Submit the confirmation form:
&gt; &gt; $submitted = $myspace-&gt;submit_form&#40;{ follow =&gt; 1,
&gt; &gt;                                    form_no =&gt; 1
&gt; &gt;                                    }&#41;;
&gt; &gt;
&gt; &gt; unless &#40; $submitted &#41;
&gt; &gt; {
&gt; &gt;     die &#34;Form confirmation failed.&#34;;
&gt; &gt; }
&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356379" href="/Public/Bug/Display.html?id=28544#txn-356379">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;28&nbsp;13:37:42&nbsp;2007</span>
    <span class="description">grantg [...] spamarrest.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28544] Help with band show form automation.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Aug 2007 10:35:38 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-WWW-Myspace [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Grant Grueninger &lt;grantg [...] spamarrest.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356379/160680/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160680">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 5.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hm, interesting project.  I&#39;d start with WWW::Mechanize.  If you feel  
adventurous and are semi-familiar with writing OO perl modules,  
consider making this gig posting routine a method of WWW::Myspace.   
&#40;To quote TFM under submit_form: &#34;Please use the format below if you  
use this method &#40;which you shouldn&#39;t need unless you&#39;re writing more  
methods&#41;&#34; :&#41;.

Read CONTRIBUTING and SUBMITTING A PATCH sections of &#39;perldoc  
WWW::Myspace&#39;, and if you&#39;re doing enough editing I can give you svn  
write access to the module.

Grant

On Aug 28, 2007, at 7:39 AM, Ethan Brown via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt;        Queue: WWW-Myspace
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;
&gt; Thanks Grant.  I&#39;m happy to have a shot at that.  Where can I RTFM
&gt; about that?  I suppose WWW::Mechanize is a good place to start?  I
&gt; have a webapp, WheresTheGig.com that&#39;s about 30,000 lines of Perl,
&gt; with over 1,000 users.  I&#39;m able to interoperate with other calendar
&gt; sites like Google Calendar, but many of my users would like to be able
&gt; to export their gigs on to their MySpace band sites.
&gt;
&gt; Thanks for your help,
&gt;
&gt; --Ethan
&gt;
&gt; On 8/28/07, grantg@spamarrest.com via RT &lt;bug-WWW- 
&gt; Myspace@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt;
&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;&gt;
&gt;&gt; Hi Ethan,
&gt;&gt;
&gt;&gt; It looks like myspace is creating the State values in the form using
&gt;&gt; Javascript, so as far as WWW::Mechanize is concerned, &#34;California|5&#34;
&gt;&gt; isn&#39;t an option for that form.  So we&#39;d either have to manually add
&gt;&gt; the form value, or create a new form and post it.  Welcome to hacking
&gt;&gt; myspace&#39;s monkey code...
&gt;&gt;
&gt;&gt; Grant
&gt;&gt;
&gt;&gt; On Jul 29, 2007, at 4:52 PM, Ethan Brown via RT wrote:
&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt;
&gt;&gt;&gt; Sun Jul 29 19:52:31 2007: Request 28544 was acted upon.
&gt;&gt;&gt; Transaction: Ticket created by ethandbrown@gmail.com
&gt;&gt;&gt;        Queue: WWW-Myspace
&gt;&gt;&gt;      Subject: Help with band show form automation.
&gt;&gt;&gt;    Broken in: &#40;no value&#41;
&gt;&gt;&gt;     Severity: &#40;no value&#41;
&gt;&gt;&gt;        Owner: Nobody
&gt;&gt;&gt;   Requestors: ethandbrown@gmail.com
&gt;&gt;&gt;       Status: new
&gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Dear WWW-Myspace maintainers--
&gt;&gt;&gt;
&gt;&gt;&gt; First, thank you for your efforts which provide this very useful
&gt;&gt;&gt; module.
&gt;&gt;&gt;
&gt;&gt;&gt; I am trying to mechanize the Myspace Band site &#34;Add A Show&#34; form  
&gt;&gt;&gt; using
&gt;&gt;&gt; your module.  I felt that I was making progress, but am getting an
&gt;&gt;&gt; error submitting the form &#40;via submit_form&#41; for the value of the
&gt;&gt;&gt; &#34;State&#34; form element.
&gt;&gt;&gt;
&gt;&gt;&gt; I reviewed the form page source and saw that the &#34;State&#34; option
&gt;&gt;&gt; value for
&gt;&gt;&gt; &#34;California&#34; is &#34;California|5&#34;, however I am getting the error
&gt;&gt;&gt;
&gt;&gt;&gt; Illegal value &#39;California|5&#39; for field &#39;State&#39; at
&gt;&gt;&gt; /usr/local/share/perl/5.8.7/HTML/Form.pm line 512
&gt;&gt;&gt;
&gt;&gt;&gt; when running my test program &#40;see attached&#41;.
&gt;&gt;&gt;
&gt;&gt;&gt; Any help is appreciated in moving forward with this, including  
&gt;&gt;&gt; RTFM if
&gt;&gt;&gt; I missed something in the manual.
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;
&gt;&gt;&gt; --Ethan
&gt;&gt;&gt;
&gt;&gt;&gt; ==================================================================== 
&gt;&gt;&gt; ==
&gt;&gt;&gt; =====
&gt;&gt;&gt; #!/usr/bin/perl
&gt;&gt;&gt; ##
&gt;&gt;&gt; ## Test script for interacting with Myspace.  There is currently no
&gt;&gt;&gt; function
&gt;&gt;&gt; ## in the WWW::Myspace module for adding a show for a band account,
&gt;&gt;&gt; but
&gt;&gt;&gt; ## there is a very handy method submit_form&#40;&#41; for submitting an
&gt;&gt;&gt; arbitrary
&gt;&gt;&gt; ## Myspace form &#40;by URL&#41;. Try using that.
&gt;&gt;&gt; ##
&gt;&gt;&gt; ## Note: The Myspace account must be a band account for this to
&gt;&gt;&gt; have any hope of
&gt;&gt;&gt; ## working.
&gt;&gt;&gt; ##
&gt;&gt;&gt;
&gt;&gt;&gt; use warnings;
&gt;&gt;&gt; use strict;
&gt;&gt;&gt;
&gt;&gt;&gt; use Data::Dumper;
&gt;&gt;&gt; use WWW::Myspace;
&gt;&gt;&gt;
&gt;&gt;&gt; my $account = &#39;ethandbrown@gmail.com&#39;;  #Your account name &#40;email&#41;
&gt;&gt;&gt; goes here.
&gt;&gt;&gt; my $password = &#39;not_telling&#39;;         #Your password goes here.
&gt;&gt;&gt;
&gt;&gt;&gt; my $myspace = WWW::Myspace-&gt;new &#40;account_name =&gt; $account,
&gt;&gt;&gt;                                password =&gt; $password,
&gt;&gt;&gt;                                human =&gt; 1&#41;;
&gt;&gt;&gt;
&gt;&gt;&gt; unless &#40; $myspace-&gt;logged_in &#41; { die &#34;Login failed: &#34; . $myspace-
<div class="message-stanza open">&gt;&gt;&gt;&gt; error }
</div>&gt;&gt;&gt;
&gt;&gt;&gt; ## Set up new band show form elements
&gt;&gt;&gt;
&gt;&gt;&gt; my $form_url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://editprofile.myspace.com/index.cfm">http://editprofile.myspace.com/index.cfm</a></span>?
&gt;&gt;&gt; fuseaction=bandprofile.shows&#39;;
&gt;&gt;&gt;
&gt;&gt;&gt; my $form_fields = {&#39;sMonth&#39;   =&gt; &#39;September&#39;,
&gt;&gt;&gt;                  &#39;sDay&#39;       =&gt; &#39;6&#39;,
&gt;&gt;&gt;                  &#39;sYear&#39;      =&gt; &#39;2007&#39;,
&gt;&gt;&gt;                  &#39;sHour&#39;      =&gt; &#39;20&#39;,
&gt;&gt;&gt;                  &#39;sMin&#39;       =&gt; &#39;15&#39;,
&gt;&gt;&gt;                  &#39;Venue_Name&#39; =&gt; &#39;Rockin Cafe&#39;,
&gt;&gt;&gt;                  &#39;Address&#39;    =&gt; &#39;123 Main St.&#39;,
&gt;&gt;&gt;                  &#39;State&#39;      =&gt; &#39;California|5&#39;,
&gt;&gt;&gt;                  &#39;Country&#39;    =&gt; &#39;US&#39;,
&gt;&gt;&gt;                  &#39;City&#39;       =&gt; &#39;Ramona&#39;,
&gt;&gt;&gt;                  &#39;Zip_Code&#39;   =&gt; &#39;92065&#39;,
&gt;&gt;&gt;                  &#39;Description&#39;=&gt; &#39;A total rave party!&#39;};
&gt;&gt;&gt;
&gt;&gt;&gt; my $button = &#34;formSubmit&#34;;
&gt;&gt;&gt;
&gt;&gt;&gt; my $submitted =
&gt;&gt;&gt;     $myspace-&gt;submit_form&#40; {
&gt;&gt;&gt;                      page =&gt; $form_url,
&gt;&gt;&gt;                      follow =&gt; 1,
&gt;&gt;&gt;                      form_name =&gt; &#39;theForm&#39;,
&gt;&gt;&gt;                      fields_ref =&gt; $form_fields,
&gt;&gt;&gt;                    button =&gt; $button
&gt;&gt;&gt;                    } &#41;;
&gt;&gt;&gt;
&gt;&gt;&gt; unless &#40; $submitted &#41;
&gt;&gt;&gt; {
&gt;&gt;&gt;     die &#34;Initial form submission failed.&#34;;
&gt;&gt;&gt; }
&gt;&gt;&gt;
&gt;&gt;&gt; ## Submit the confirmation form:
&gt;&gt;&gt; $submitted = $myspace-&gt;submit_form&#40;{ follow =&gt; 1,
&gt;&gt;&gt;                                    form_no =&gt; 1
&gt;&gt;&gt;                                    }&#41;;
&gt;&gt;&gt;
&gt;&gt;&gt; unless &#40; $submitted &#41;
&gt;&gt;&gt; {
&gt;&gt;&gt;     die &#34;Form confirmation failed.&#34;;
&gt;&gt;&gt; }
&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt;
&gt;&gt;
</div>&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-356382" href="/Public/Bug/Display.html?id=28544#txn-356382">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;28&nbsp;13:53:26&nbsp;2007</span>
    <span class="description">ethandbrown [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28544] Help with band show form automation.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Aug 2007 10:52:57 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-WWW-Myspace [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Ethan Brown&#34; &lt;ethandbrown [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/356382/160683/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/160683">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Grant.  If you&#39;re interested, my site is WheresTheGig.com.
I&#39;ve implemented a fair amount of interoperation infrastructure,
including XML data export, RSS feeds, ICal exports, CSV exports, and
Google Calendar interoperation via their API &#40;through Simon Winslow&#39;s
Net::Google::Calendar module&#41;.  I&#39;m pretty annoyed at how difficult it
is to work with MySpace.  I sent their tech support a question about
interoperation, but  they don&#39;t seem that interested.

&#40;I like writing in Perl very much, and working on WheresTheGig keeps
me sane.  I&#39;m forced to write most apps in PHP for my day job :-/&#41;

I&#39;ll start looking into WWW::Mechanize and will try not to annoy you
with dumb questions :-&#41;

Thanks much,

--Ethan

On 8/28/07, grantg@spamarrest.com via RT &lt;bug-WWW-Myspace@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt;
&gt; Hm, interesting project.  I&#39;d start with WWW::Mechanize.  If you feel
&gt; adventurous and are semi-familiar with writing OO perl modules,
&gt; consider making this gig posting routine a method of WWW::Myspace.
&gt; &#40;To quote TFM under submit_form: &#34;Please use the format below if you
&gt; use this method &#40;which you shouldn&#39;t need unless you&#39;re writing more
&gt; methods&#41;&#34; :&#41;.
&gt;
&gt; Read CONTRIBUTING and SUBMITTING A PATCH sections of &#39;perldoc
&gt; WWW::Myspace&#39;, and if you&#39;re doing enough editing I can give you svn
&gt; write access to the module.
&gt;
&gt; Grant
&gt;
&gt; On Aug 28, 2007, at 7:39 AM, Ethan Brown via RT wrote:
&gt;
<div class="message-stanza open">&gt; &gt;
&gt; &gt;        Queue: WWW-Myspace
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt; &gt;
&gt; &gt; Thanks Grant.  I&#39;m happy to have a shot at that.  Where can I RTFM
&gt; &gt; about that?  I suppose WWW::Mechanize is a good place to start?  I
&gt; &gt; have a webapp, WheresTheGig.com that&#39;s about 30,000 lines of Perl,
&gt; &gt; with over 1,000 users.  I&#39;m able to interoperate with other calendar
&gt; &gt; sites like Google Calendar, but many of my users would like to be able
&gt; &gt; to export their gigs on to their MySpace band sites.
&gt; &gt;
&gt; &gt; Thanks for your help,
&gt; &gt;
&gt; &gt; --Ethan
&gt; &gt;
&gt; &gt; On 8/28/07, grantg@spamarrest.com via RT &lt;bug-WWW-
&gt; &gt; Myspace@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt;&gt;
&gt; &gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Hi Ethan,
&gt; &gt;&gt;
&gt; &gt;&gt; It looks like myspace is creating the State values in the form using
&gt; &gt;&gt; Javascript, so as far as WWW::Mechanize is concerned, &#34;California|5&#34;
&gt; &gt;&gt; isn&#39;t an option for that form.  So we&#39;d either have to manually add
&gt; &gt;&gt; the form value, or create a new form and post it.  Welcome to hacking
&gt; &gt;&gt; myspace&#39;s monkey code...
&gt; &gt;&gt;
&gt; &gt;&gt; Grant
&gt; &gt;&gt;
&gt; &gt;&gt; On Jul 29, 2007, at 4:52 PM, Ethan Brown via RT wrote:
&gt; &gt;&gt;
<div class="message-stanza open">&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Sun Jul 29 19:52:31 2007: Request 28544 was acted upon.
&gt; &gt;&gt;&gt; Transaction: Ticket created by ethandbrown@gmail.com
&gt; &gt;&gt;&gt;        Queue: WWW-Myspace
&gt; &gt;&gt;&gt;      Subject: Help with band show form automation.
&gt; &gt;&gt;&gt;    Broken in: &#40;no value&#41;
&gt; &gt;&gt;&gt;     Severity: &#40;no value&#41;
&gt; &gt;&gt;&gt;        Owner: Nobody
&gt; &gt;&gt;&gt;   Requestors: ethandbrown@gmail.com
&gt; &gt;&gt;&gt;       Status: new
&gt; &gt;&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28544">http://rt.cpan.org/Ticket/Display.html?id=28544</a></span> &gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Dear WWW-Myspace maintainers--
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; First, thank you for your efforts which provide this very useful
&gt; &gt;&gt;&gt; module.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I am trying to mechanize the Myspace Band site &#34;Add A Show&#34; form
&gt; &gt;&gt;&gt; using
&gt; &gt;&gt;&gt; your module.  I felt that I was making progress, but am getting an
&gt; &gt;&gt;&gt; error submitting the form &#40;via submit_form&#41; for the value of the
&gt; &gt;&gt;&gt; &#34;State&#34; form element.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I reviewed the form page source and saw that the &#34;State&#34; option
&gt; &gt;&gt;&gt; value for
&gt; &gt;&gt;&gt; &#34;California&#34; is &#34;California|5&#34;, however I am getting the error
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Illegal value &#39;California|5&#39; for field &#39;State&#39; at
&gt; &gt;&gt;&gt; /usr/local/share/perl/5.8.7/HTML/Form.pm line 512
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; when running my test program &#40;see attached&#41;.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Any help is appreciated in moving forward with this, including
&gt; &gt;&gt;&gt; RTFM if
&gt; &gt;&gt;&gt; I missed something in the manual.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Thanks,
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; --Ethan
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; ====================================================================
&gt; &gt;&gt;&gt; ==
&gt; &gt;&gt;&gt; =====
&gt; &gt;&gt;&gt; #!/usr/bin/perl
&gt; &gt;&gt;&gt; ##
&gt; &gt;&gt;&gt; ## Test script for interacting with Myspace.  There is currently no
&gt; &gt;&gt;&gt; function
&gt; &gt;&gt;&gt; ## in the WWW::Myspace module for adding a show for a band account,
&gt; &gt;&gt;&gt; but
&gt; &gt;&gt;&gt; ## there is a very handy method submit_form&#40;&#41; for submitting an
&gt; &gt;&gt;&gt; arbitrary
&gt; &gt;&gt;&gt; ## Myspace form &#40;by URL&#41;. Try using that.
&gt; &gt;&gt;&gt; ##
&gt; &gt;&gt;&gt; ## Note: The Myspace account must be a band account for this to
&gt; &gt;&gt;&gt; have any hope of
&gt; &gt;&gt;&gt; ## working.
&gt; &gt;&gt;&gt; ##
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; use warnings;
&gt; &gt;&gt;&gt; use strict;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; use Data::Dumper;
&gt; &gt;&gt;&gt; use WWW::Myspace;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $account = &#39;ethandbrown@gmail.com&#39;;  #Your account name &#40;email&#41;
&gt; &gt;&gt;&gt; goes here.
&gt; &gt;&gt;&gt; my $password = &#39;not_telling&#39;;         #Your password goes here.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $myspace = WWW::Myspace-&gt;new &#40;account_name =&gt; $account,
&gt; &gt;&gt;&gt;                                password =&gt; $password,
&gt; &gt;&gt;&gt;                                human =&gt; 1&#41;;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; unless &#40; $myspace-&gt;logged_in &#41; { die &#34;Login failed: &#34; . $myspace-
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt; error }
</div>&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; ## Set up new band show form elements
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $form_url = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://editprofile.myspace.com/index.cfm">http://editprofile.myspace.com/index.cfm</a></span>?
&gt; &gt;&gt;&gt; fuseaction=bandprofile.shows&#39;;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $form_fields = {&#39;sMonth&#39;   =&gt; &#39;September&#39;,
&gt; &gt;&gt;&gt;                  &#39;sDay&#39;       =&gt; &#39;6&#39;,
&gt; &gt;&gt;&gt;                  &#39;sYear&#39;      =&gt; &#39;2007&#39;,
&gt; &gt;&gt;&gt;                  &#39;sHour&#39;      =&gt; &#39;20&#39;,
&gt; &gt;&gt;&gt;                  &#39;sMin&#39;       =&gt; &#39;15&#39;,
&gt; &gt;&gt;&gt;                  &#39;Venue_Name&#39; =&gt; &#39;Rockin Cafe&#39;,
&gt; &gt;&gt;&gt;                  &#39;Address&#39;    =&gt; &#39;123 Main St.&#39;,
&gt; &gt;&gt;&gt;                  &#39;State&#39;      =&gt; &#39;California|5&#39;,
&gt; &gt;&gt;&gt;                  &#39;Country&#39;    =&gt; &#39;US&#39;,
&gt; &gt;&gt;&gt;                  &#39;City&#39;       =&gt; &#39;Ramona&#39;,
&gt; &gt;&gt;&gt;                  &#39;Zip_Code&#39;   =&gt; &#39;92065&#39;,
&gt; &gt;&gt;&gt;                  &#39;Description&#39;=&gt; &#39;A total rave party!&#39;};
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $button = &#34;formSubmit&#34;;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; my $submitted =
&gt; &gt;&gt;&gt;     $myspace-&gt;submit_form&#40; {
&gt; &gt;&gt;&gt;                      page =&gt; $form_url,
&gt; &gt;&gt;&gt;                      follow =&gt; 1,
&gt; &gt;&gt;&gt;                      form_name =&gt; &#39;theForm&#39;,
&gt; &gt;&gt;&gt;                      fields_ref =&gt; $form_fields,
&gt; &gt;&gt;&gt;                    button =&gt; $button
&gt; &gt;&gt;&gt;                    } &#41;;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; unless &#40; $submitted &#41;
&gt; &gt;&gt;&gt; {
&gt; &gt;&gt;&gt;     die &#34;Initial form submission failed.&#34;;
&gt; &gt;&gt;&gt; }
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; ## Submit the confirmation form:
&gt; &gt;&gt;&gt; $submitted = $myspace-&gt;submit_form&#40;{ follow =&gt; 1,
&gt; &gt;&gt;&gt;                                    form_no =&gt; 1
&gt; &gt;&gt;&gt;                                    }&#41;;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; unless &#40; $submitted &#41;
&gt; &gt;&gt;&gt; {
&gt; &gt;&gt;&gt;     die &#34;Form confirmation failed.&#34;;
&gt; &gt;&gt;&gt; }
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
</div>&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
</div>&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-384391" href="/Public/Bug/Display.html?id=28544#txn-384391">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;16&nbsp;17:43:37&nbsp;2007</span>
    <span class="description">GRANTG [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/384391/176330/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/176330">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 19b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing old ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-384394" href="/Public/Bug/Display.html?id=28544#txn-384394">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;16&nbsp;17:43:40&nbsp;2007</span>
    <span class="description">GRANTG [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.483341</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
