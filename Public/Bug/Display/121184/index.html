<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #121184 for Math-Prime-Util: t/81-bignum.t may hang &#40;0.62&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #121184 for Math-Prime-Util: t/81-bignum.t may hang &#40;0.62&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Math-Prime-Util">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Math-Prime-Util">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Math-Prime-Util">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Math-Prime-Util">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Math-Prime-Util">Math-Prime-Util CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p><p>The latest version is in <a href="https://github.com/danaj/Math-Prime-Util">https://github.com/danaj/Math-Prime-Util</a></p>

<pre>    git clone --origin upstream git://github.com/danaj/Math-Prime-Util.git Math-Prime-Util
</pre>

<p>Comments, issues, and patches are welcome at either RT or github, or send me email.</p></p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">121184</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Math-Prime-Util">Math-Prime-Util</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">DANAJ [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-244060-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-244061-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.64    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=121184">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719454" href="/Public/Bug/Display.html?id=121184#txn-1719454">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;08:59:11&nbsp;2017</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/81-bignum.t may hang &#40;0.62&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719454/924290/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924290">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 353b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On some of my smokers 81-bignum.t hangs in a busy loop, eventually killed by exhausting the CPU limit configured here &#40;3600s&#41;.

Log looks like this:

...
# BigInt 0.46/1.999811, lib: GMP.  MPU::GMP 0.44
t/81-bignum.t ................ 
Failed 8/133 subtests 
...

I checked if there are some patterns regardning BigInt or GMP versions, but did find any.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719522" href="/Public/Bug/Display.html?id=121184#txn-1719522">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;13:24:50&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719522/924327/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924327">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Apr 16 08:59:11 2017, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On some of my smokers 81-bignum.t hangs in a busy loop, eventually
&gt; killed by exhausting the CPU limit configured here &#40;3600s&#41;.
&gt; 
&gt; Log looks like this:
&gt; 
&gt; ...
&gt; # BigInt 0.46/1.999811, lib: GMP.  MPU::GMP 0.44
&gt;  t/81-bignum.t ................
&gt;  Failed 8/133 subtests
&gt; ...
&gt; 
&gt; I checked if there are some patterns regardning BigInt or GMP
&gt; versions, but did find any.
</div>
Thank you very much for the report.  I was dismayed to see all the failures this morning as I&#39;d tested on over 10 machines and 20 versions of Perl before releasing.

More detail at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/danaj/Math-Prime-Util/issues/22">https://github.com/danaj/Math-Prime-Util/issues/22</a></span>

I cannot reproduce on any machine, and don&#39;t understand why we&#39;re not trapping on the negative input like it does on every platform and version of Perl I have.  Sadly this then triggers a signed/unsigned mismatch with the GMP code and it tries to do 2^64 Miller-Rabin tests &#40;it also could use the same shortcut that exists in the XS and PP code&#41;.

I&#39;ll try to fix asap.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719523" href="/Public/Bug/Display.html?id=121184#txn-1719523">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;13:24:51&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719534" href="/Public/Bug/Display.html?id=121184#txn-1719534">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;14:07:15&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719534/924335/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924335">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 133b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">A new version of the GMP backend just got pushed which ought to fix this.  I will be working on a workaround for this module as well.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719536" href="/Public/Bug/Display.html?id=121184#txn-1719536">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;14:07:26&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719591" href="/Public/Bug/Display.html?id=121184#txn-1719591">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;16&nbsp;21:20:36&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719591/924376/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924376">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 542b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">New versions of both this module and the GMP back end have been released, but I&#39;m still seeing a raft of test failures.  Unfortunately I have no idea *what* is failing, and I cannot get any version of Perl or platform I have access to to fail.  I got a AWS FreeBSD machine and it runs just fine.  As does NetBSD, AIX, Windows, Cygwin, and more.

Is the error behaviour still a hang in this test, or has it moved to something else?  Any chance you could see which test is the last successful run?  This is driving me completely crazy.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719660" href="/Public/Bug/Display.html?id=121184#txn-1719660">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;04:34:28&nbsp;2017</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719660/924407/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924407">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-04-16 21:20:36, DANAJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; New versions of both this module and the GMP back end have been
&gt; released, but I&#39;m still seeing a raft of test failures.  Unfortunately
&gt; I have no idea *what* is failing, and I cannot get any version of Perl
&gt; or platform I have access to to fail.  I got a AWS FreeBSD machine and
&gt; it runs just fine.  As does NetBSD, AIX, Windows, Cygwin, and more.
</div>
On my systems it looks like this:
* passes on all Debian systems &#40;wheezy, jessie, stretch&#41;
* passes on the Ubuntu 16.04 smoker
* passes on Mac OS X
* fails with some perl versions on FreeBSD 9 + 10
* fails with all installed perl versions &#40;5.24.0 .. 5.25.11&#41; on CentOS7

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Is the error behaviour still a hang in this test, or has it moved to
&gt; something else?  Any chance you could see which test is the last
&gt; successful run?  This is driving me completely crazy.
</div>
Currently it does not hang anymore, but fails like this:

...
ok 127 - MRR&#40;n,0&#41; = 1
ok 128 - MRR&#40;61,17&#41; = 1
ok 129 - MRR&#40;62,17&#41; = 0
Usage: Math::Prime::Util::GMP::miller_rabin_random&#40;strn, nbases, seedstr= 0&#41; at t/81-bignum.t line 381.
# Looks like your test exited with 2 just after 129.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719662" href="/Public/Bug/Display.html?id=121184#txn-1719662">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;04:58:08&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719662/924409/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924409">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 854b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Apr 17 04:34:28 2017, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; On my systems it looks like this:
&gt; * passes on all Debian systems &#40;wheezy, jessie, stretch&#41;
&gt; * passes on the Ubuntu 16.04 smoker
&gt; * passes on Mac OS X
&gt; * fails with some perl versions on FreeBSD 9 + 10
&gt; * fails with all installed perl versions &#40;5.24.0 .. 5.25.11&#41; on
&gt; CentOS7
</div>
Thanks.  I&#39;ve run it on FreeBSD 9 and CentOS 7, so it&#39;s not just the O/S.  I&#39;m going to try again on CentOS with 5.25.11.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok 129 - MRR&#40;62,17&#41; = 0
&gt; Usage: Math::Prime::Util::GMP::miller_rabin_random&#40;strn, nbases,
&gt; seedstr= 0&#41; at t/81-bignum.t line 381.
&gt; # Looks like your test exited with 2 just after 129.
</div>
I&#39;m guessing that on those systems &#39;use bigint&#39; is making objects of a different type, making the XS code punt to GMP.  At which point it finds another API mismatch.  Good and bad...

New versions coming soon.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719899" href="/Public/Bug/Display.html?id=121184#txn-1719899">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;12:25:18&nbsp;2017</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719899/924542/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924542">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-04-17 04:58:08, DANAJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Apr 17 04:34:28 2017, SREZIC wrote:
<div class="message-stanza open">&gt; &gt;
&gt; &gt; On my systems it looks like this:
&gt; &gt; * passes on all Debian systems &#40;wheezy, jessie, stretch&#41;
&gt; &gt; * passes on the Ubuntu 16.04 smoker
&gt; &gt; * passes on Mac OS X
&gt; &gt; * fails with some perl versions on FreeBSD 9 + 10
&gt; &gt; * fails with all installed perl versions &#40;5.24.0 .. 5.25.11&#41; on
&gt; &gt; CentOS7
</div>&gt; 
&gt; Thanks.  I&#39;ve run it on FreeBSD 9 and CentOS 7, so it&#39;s not just the
&gt; O/S.  I&#39;m going to try again on CentOS with 5.25.11.
&gt; 
<div class="message-stanza open">&gt; &gt; ok 129 - MRR&#40;62,17&#41; = 0
&gt; &gt; Usage: Math::Prime::Util::GMP::miller_rabin_random&#40;strn, nbases,
&gt; &gt; seedstr= 0&#41; at t/81-bignum.t line 381.
&gt; &gt; # Looks like your test exited with 2 just after 129.
</div>&gt; 
&gt; I&#39;m guessing that on those systems &#39;use bigint&#39; is making objects of a
&gt; different type, making the XS code punt to GMP.  At which point it
&gt; finds another API mismatch.  Good and bad...
&gt; 
&gt; New versions coming soon.
</div>
0.64 looks good. The 81-bignum.t test does not fail anymore.

&#40;There&#39;s another issue with t/26-pillai.t and debugging perls @ freebsd 9, but this one seems unrelated&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719901" href="/Public/Bug/Display.html?id=121184#txn-1719901">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;12:25:19&nbsp;2017</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719902" href="/Public/Bug/Display.html?id=121184#txn-1719902">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;12:25:19&nbsp;2017</span>
    <span class="description">SREZIC [...] cpan.org -  Fixed in 0.64 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1719910" href="/Public/Bug/Display.html?id=121184#txn-1719910">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;17&nbsp;12:38:43&nbsp;2017</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1719910/924547/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/924547">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 857b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Apr 17 12:25:18 2017, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; 0.64 looks good. The 81-bignum.t test does not fail anymore.
&gt; 
&gt; &#40;There&#39;s another issue with t/26-pillai.t and debugging perls @
&gt; freebsd 9, but this one seems unrelated&#41;
</div>
Thanks.  It looks like the previous issue was caused by installing Math-BigInt-Lite, which changes the way the core &#39;bigint&#39; module behaves ever after.  I&#39;m not sure if that&#39;s a good thing for test boxes to have or not.

I&#39;ll try building a debugging Perl on a FreeBSD 9 system later to see if I can find anything.  I noticed in testing with forced XS failure that the pillai tests were taking a very long time, mainly because using Perl for those computations is just gawdawful slow.  But both the test and the Perl code think we have XS running so they try, thinking it will be fast.

I also see Nigel&#39;s 5.8 boxes are failing as well.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.47329</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
