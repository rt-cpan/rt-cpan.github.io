<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #100750 for Authen-Simple: Perl interpreter crash when installing Auth-Simple-0.5 in t/09password.t &#40;strawberry perl/win32&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #100750 for Authen-Simple: Perl interpreter crash when installing Auth-Simple-0.5 in t/09password.t &#40;strawberry perl/win32&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Authen-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Authen-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Authen-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Authen-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Authen-Simple">Authen-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">100750</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Authen-Simple">Authen-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">chansen [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
MRHORNER [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3262-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-3263-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=100750">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439623" href="/Public/Bug/Display.html?id=100750#txn-1439623">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;14:39:16&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perl interpreter crash when installing Auth-Simple-0.5 in
 t/09password.t &#40;strawberry perl/win32&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1439623/765266/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765266">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello there,
I am experiencing perl interpreter crash dialogs when trying to update/install Authen::Simple::Passwd which has Auth-Simple as a dependency;  It seems to be crashing during the t/09password.t test.

For further information about the perl version/output please take a look at the automated reports: 
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/9f729629-6fc6-1014-aa23-111fa794d5e7">http://www.cpantesters.org/cpan/report/9f729629-6fc6-1014-aa23-111fa794d5e7</a></span>

the code for the failing test can be found here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/chansen/p5-authen-simple/blob/master/t/09password.t">https://github.com/chansen/p5-authen-simple/blob/master/t/09password.t</a></span>


I&#39;m using cpan-outdated -p | cpanm to install, here is what I see on my console:
--&gt; Working on Authen::Simple::Passwd                                                      
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/C/CH/CHANSEN/Authen-Simple-Passwd-0.6.tar.gz">http://www.cpan.org/authors/id/C/CH/CHANSEN/Authen-Simple-Passwd-0.6.tar.gz</a></span> ... OK
Configuring Authen-Simple-Passwd-0.6 ... OK                                                
==&gt; Found dependencies: Authen::Simple                                                     
--&gt; Working on Authen::Simple                                                              
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/C/CH/CHANSEN/Authen-Simple-0.5.tar.gz">http://www.cpan.org/authors/id/C/CH/CHANSEN/Authen-Simple-0.5.tar.gz</a></span> ... OK       
Configuring Authen-Simple-0.5 ... OK                                                       
Building and testing Authen-Simple-0.5 ...                                                 


here is the stack trace from procexplorer:
ntdll.dll!ZwWaitForMultipleObjects+0xa
KERNELBASE.dll!WaitForMultipleObjectsEx+0xed
KERNEL32.DLL!WaitForMultipleObjects+0xf
KERNEL32.DLL!WerpLaunchAeDebug+0x2373
KERNEL32.DLL!WerpLaunchAeDebug+0x1d97
KERNELBASE.dll!UnhandledExceptionFilter+0x1c7
ntdll.dll!memset+0xbbf7
ntdll.dll!_C_specific_handler+0x87
ntdll.dll!_chkstk+0x9d
ntdll.dll!RtlRaiseException+0xedb
ntdll.dll!KiUserExceptionDispatcher+0x2e
perl518.dll!Perl_get_context+0x84
perl518.dll!Perl_my_failure_exit+0xc76b
perl518.dll!Perl_runops_standard+0x16
perl518.dll!perl_run+0x379
perl518.dll!RunPerl+0x168
perl.exe+0x13d7
perl.exe+0x14f8
KERNEL32.DLL!BaseThreadInitThunk+0xd
ntdll.dll!RtlUserThreadStart+0x1d

I&#39;m not sure which of the 15 examples is causing the error and not sure how to best resolve the issue without a bit more output from the test.
ultimately Authen::Simple::Password-&gt;check is the source of the crash, but nothing sticks out to me when reviewing the code.  Let me know if you have any thoughts or suggestions, I would love to get this working on win32.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/chansen/p5-authen-simple/blob/master/lib/Authen/Simple/Password.pm">https://github.com/chansen/p5-authen-simple/blob/master/lib/Authen/Simple/Password.pm</a></span>

nice work on a great module.
--dave
<span class="clickylink"><a target="new" rel="nofollow" href="http://dave.thehorners.com/tech-talk/random-tech/522-great-lodge-of-the-royal-order-of-yaks-yak-shaving">http://dave.thehorners.com/tech-talk/random-tech/522-great-lodge-of-the-royal-order-of-yaks-yak-shaving</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439633" href="/Public/Bug/Display.html?id=100750#txn-1439633">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;14:49:44&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1439633/765272/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765272">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 790b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Dec 06 14:39:16 2014, MRHORNER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ultimately Authen::Simple::Password-&gt;check is the source of the crash,
&gt; but nothing sticks out to me when reviewing the code.
</div>
I can&#39;t say Authen::Simple:Password-&gt;check is the only source for the error, it could also be caused by one of the dependencies. Digest::MD5 and Digest::SHA could also be causing the issue during initialization of @tests.  I realized that the report did not include version numbers for these modules; So here they are.

D:\&gt;cpanm Digest::MD5                   
Digest::MD5 is up to date. &#40;2.53&#41;       
                                        
D:\&gt;cpanm Digest::SHA                   
Digest::SHA is up to date. &#40;5.93&#41;       

Thanks again,
--dave
<span class="clickylink"><a target="new" rel="nofollow" href="http://dave.thehorners.com/tech-talk/programming/94-perl-programming">http://dave.thehorners.com/tech-talk/programming/94-perl-programming</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439635" href="/Public/Bug/Display.html?id=100750#txn-1439635">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:08:20&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1439635/765274/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765274">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">So it seems the two binary test lines cause the issue:
commenting out the two binary tests provide a running test.
if I include either of the binary lines, I get a crashed perl interpreter.
    #[ &#39;sha&#39;,       Digest::SHA::sha1&#40;&#39;sha&#39;&#41;,                 &#39;SHA-1 Binary&#39; ],
    #[ &#39;md5&#39;,       Digest::MD5::md5&#40;&#39;md5&#39;&#41;,                  &#39;MD5 Binary&#39;   ],
----
#!perl                                                                         
                                                                               
use strict;                                                                    
use warnings;                                                                  
                                                                               
use feature qw&#40;say&#41;;                                                           
use Authen::Simple::Password qw[];                                             
use Digest::MD5              qw[];                                             
use Digest::SHA              qw[];                                             
                                                                               
use Test::More tests =&gt; 16;                                                    
                                                                               
use Config;                                                                    
use constant HAVE_CRYPT =&gt; $Config{d_crypt};                                   
                                                                               
    #[ &#39;sha&#39;,       Digest::SHA::sha1&#40;&#39;sha&#39;&#41;,                 &#39;SHA-1 Binary&#39; ],
    #[ &#39;md5&#39;,       Digest::MD5::md5&#40;&#39;md5&#39;&#41;,                  &#39;MD5 Binary&#39;   ],
my @tests = &#40;                                                                  
    [ &#39;plain&#39;,     &#39;plain&#39;,                                  &#39;plain&#39;        ], 
    [ &#39;crypt&#39;,     &#39;lk9Mh5KHGjAaM&#39;,                          &#39;crypt&#39;        ], 
    [ &#39;md5&#39;,       &#39;$1$NRe32ijZ$THIS7aDH.e093oDOGD10M/&#39;,     &#39;$1$&#39;          ], 
    [ &#39;apr1&#39;,      &#39;$apr1$0yFRBeLR$an6fzRWvbu9jUAo/iHz4Z/&#39;,  &#39;$apr1$&#39;       ], 
    [ &#39;cleartext&#39;, &#39;{CLEARTEXT}cleartext&#39;,                   &#39;{CLEARTEXT}&#39;  ], 
    [ &#39;crypt&#39;,     &#39;{CRYPT}lk9Mh5KHGjAaM&#39;,                   &#39;{CRYPT}&#39;      ], 
    [ &#39;md5&#39;,       &#39;{MD5}G8KbNvYjuoKq9nJP07FnGA==&#39;,          &#39;{MD5}&#39;        ], 
    [ &#39;smd5&#39;,      &#39;{SMD5}eVWRi45+VqS2Xw4bJPN+SrGfpVg=&#39;,     &#39;{SMD5}&#39;       ], 
    [ &#39;sha&#39;,       &#39;{SHA}2PRZAyDhNDqRW2OUFwZQqPNdaSY=&#39;,      &#39;{SHA}&#39;        ], 
    [ &#39;ssha&#39;,      &#39;{SSHA}G0v26K+jqUnI1YFtqFxlgcIZBIp/cO9f&#39;, &#39;{SSHA}&#39;       ], 
    [ &#39;md5&#39;,       Digest::MD5::md5_base64&#40;&#39;md5&#39;&#41;,           &#39;MD5 Base64&#39;   ], 
    [ &#39;md5&#39;,       Digest::MD5::md5_hex&#40;&#39;md5&#39;&#41;,              &#39;MD5 Hex&#39;      ], 
    [ &#39;sha&#39;,       Digest::SHA::sha1_base64&#40;&#39;sha&#39;&#41;,          &#39;SHA-1 Base64&#39; ], 
    [ &#39;sha&#39;,       Digest::SHA::sha1_hex&#40;&#39;sha&#39;&#41;,             &#39;SHA-1 Hex&#39;    ], 
&#41;;                                                                             
                                                                               
                                                                               
foreach my $t &#40; @tests &#41; {                                                     
        say $t-&gt;[0], &#39; &#39;, $t-&gt;[1] , &#39;,&#39;, $t-&gt;[2];                              
        Authen::Simple::Password-&gt;check&#40; $t-&gt;[0], $t-&gt;[1] &#41;;                   
    }                                                                          

the output with the two binary test lines commented out:
D:\&gt;perl testauth.pl                                   
1..16                                                  
plain plain,plain                                      
crypt lk9Mh5KHGjAaM,crypt                              
md5 $1$NRe32ijZ$THIS7aDH.e093oDOGD10M/,$1$             
apr1 $apr1$0yFRBeLR$an6fzRWvbu9jUAo/iHz4Z/,$apr1$      
cleartext {CLEARTEXT}cleartext,{CLEARTEXT}             
crypt {CRYPT}lk9Mh5KHGjAaM,{CRYPT}                     
md5 {MD5}G8KbNvYjuoKq9nJP07FnGA==,{MD5}                
smd5 {SMD5}eVWRi45+VqS2Xw4bJPN+SrGfpVg=,{SMD5}         
sha {SHA}2PRZAyDhNDqRW2OUFwZQqPNdaSY=,{SHA}            
ssha {SSHA}G0v26K+jqUnI1YFtqFxlgcIZBIp/cO9f,{SSHA}     
md5 G8KbNvYjuoKq9nJP07FnGA,MD5 Base64                  
md5 1bc29b36f623ba82aaf6724fd3b16718,MD5 Hex           
sha 2PRZAyDhNDqRW2OUFwZQqPNdaSY,SHA-1 Base64           
sha d8f4590320e1343a915b6394170650a8f35d6926,SHA-1 Hex 
# No tests run!                                        

a step closer...,
 --dave
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439637" href="/Public/Bug/Display.html?id=100750#txn-1439637">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:08:21&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439638" href="/Public/Bug/Display.html?id=100750#txn-1439638">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:08:21&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Fixed in 0.5 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439658" href="/Public/Bug/Display.html?id=100750#txn-1439658">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:35:57&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1439658/765281/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/765281">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I pruned all but the binary tests and ran a debugger on it.  It seems that crypt&#40;&#41; does not like binary data.

the offending line: return 1 if crypt&#40; $password, $encrypted &#41; eq $encrypted;

$password=sha                                                                                                                                    
$encrypted=â•ªâŒ Yâ™¥ ÃŸ4:Ã¦[cÃ¶â†¨â™ PÂ¿â‰¤]i&#38;

I&#39;m not sure on the best solution.

It might be enough to place the crypt test as the last test instead of the second test after plain text.  This would give the MD5||SHA modules a chance to succeed and return before trying the crypt&#40;&#41;.  Not sure if we can test to ensure $encrypted is !binary string, since it might be a platform bug and binary string should work in this instance... I&#39;m not sure.

documentation doesn&#39;t make it clear to me that binary isn&#39;t allowed in the $digest.
<span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/functions/crypt.html">http://perldoc.perl.org/functions/crypt.html</a></span>


----output from perl -d------
1..16                                                                                                                                  
main::&#40;testauth.pl:30&#41;: my @tests = &#40;                                                                                                  
main::&#40;testauth.pl:31&#41;:     [ &#39;sha&#39;,       Digest::SHA::sha1&#40;&#39;sha&#39;&#41;,                 &#39;SHA-1 Binary&#39; ],                                 
main::&#40;testauth.pl:32&#41;:     [ &#39;md5&#39;,       Digest::MD5::md5&#40;&#39;md5&#39;&#41;,                  &#39;MD5 Binary&#39;   ],                                 
main::&#40;testauth.pl:33&#41;: &#41;;                                                                                                             
                                                                                                                                       
SetConsoleMode failed, LastError=|6| at C:/strawberry/perl/site/lib/Term/ReadKey.pm line 334.                                          
 at C:/strawberry/perl/vendor/lib/Term/ReadLine/readline.pm line 1581.                                                                 
        readline::readline&#40;&#34;  DB&lt;1&gt; &#34;&#41; called at C:/strawberry/perl/vendor/lib/Term/ReadLine/Perl.pm line 11                           
        Term::ReadLine::Perl::readline&#40;Term::ReadLine::Perl=ARRAY&#40;0x269c608&#41;, &#34;  DB&lt;1&gt; &#34;&#41; called at C:/strawberry/perl/lib/perl5db.pl l
ine 7281                                                                                                                               
        DB::readline&#40;&#34;  DB&lt;1&gt; &#34;&#41; called at C:/strawberry/perl/lib/perl5db.pl line 1831                                                 
        DB::_DB__read_next_cmd&#40;undef&#41; called at C:/strawberry/perl/lib/perl5db.pl line 2741                                            
        DB::DB called at testauth.pl line 30                                                                                           
  DB&lt;1&gt; s                                                                                                                              
main::&#40;testauth.pl:36&#41;: foreach my $t &#40; @tests &#41; {                                                                                     
                                                                                                                                       
  DB&lt;1&gt; s                                                                                                                              
main::&#40;testauth.pl:37&#41;:         say $t-&gt;[0], &#39; &#39;, $t-&gt;[1] , &#39;,&#39;, $t-&gt;[2];                                                              
                                                                                                                                       
  DB&lt;1&gt; s                                                                                                                              
sha â•ªâŒ Yâ™¥ ÃŸ4:Ã¦[cÃ¶â†¨â™ PÂ¿â‰¤]i&#38;,SHA-1 Binary                                                                                                  
main::&#40;testauth.pl:38&#41;:         Authen::Simple::Password-&gt;check&#40; $t-&gt;[0], $t-&gt;[1] &#41;;                                                   
                                                                                                                                       
  DB&lt;1&gt; s                                                                                                                              
Authen::Simple::Password::check&#40;C:/strawberry/perl/site/lib/Authen/Simple/Password.pm:12&#41;:                                             
12:         my &#40; $class, $password, $encrypted &#41; = @_;                                                                                 
                                                                                                                                       
  DB&lt;1&gt; s                                                                                                                              
Authen::Simple::Password::check&#40;C:/strawberry/perl/site/lib/Authen/Simple/Password.pm:15&#41;:                                             
15:         return 1 if $password eq $encrypted;                                                                                       
                                                                                                                                       
  DB&lt;1&gt; s                                                                                                                              
Authen::Simple::Password::check&#40;C:/strawberry/perl/site/lib/Authen/Simple/Password.pm:25&#41;:                                             
25:         return 1 if crypt&#40; $password, $encrypted &#41; eq $encrypted;                                                                  
                                                                                                                                       
  DB&lt;1&gt; p $password                                                                                                                    
sha                                                                                                                                    
                                                                                                                                       
  DB&lt;2&gt; p $encrypted                                                                                                                   
â•ªâŒ Yâ™¥ ÃŸ4:Ã¦[cÃ¶â†¨â™ PÂ¿â‰¤]i&#38;                                                                                                                   
                                                                                                                                       
  DB&lt;3&gt; s                                                                                                                              
Authen::Simple::Password::check&#40;C:/strawberry/perl/lib/Carp.pm:137&#41;: &lt;--- Carp SEGV.                                                                  
137:        local&#40;$!, $^E&#41;;                                                                                                            
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439660" href="/Public/Bug/Display.html?id=100750#txn-1439660">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:35:58&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Given to CHANSEN</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1439662" href="/Public/Bug/Display.html?id=100750#txn-1439662">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;06&nbsp;15:35:58&nbsp;2014</span>
    <span class="description">MRHORNER [...] cpan.org -  Fixed in 0.5 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1630948" href="/Public/Bug/Display.html?id=100750#txn-1630948">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;26&nbsp;16:13:06&nbsp;2016</span>
    <span class="description">MRHORNER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1630948/873894/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/873894">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 671b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Since these two tests still cause the test and ultimately the installation of this module to fail on windows.
I propose that we simply remove these tests from t/09password.t;

Removing them from the @tests array and then conditionally adding them back in if we are not on a windows platform should work.


if&#40;$^O ne &#39;MSWin32&#39;&#41; {
    push @tests, [ &#39;sha&#39;,       Digest::SHA::sha1&#40;&#39;sha&#39;&#41;,                 &#39;SHA-1 Binary&#39; ];
    push @tests, [ &#39;md5&#39;,       Digest::MD5::md5&#40;&#39;md5&#39;&#41;,                  &#39;MD5 Binary&#39;   ];
}

This will resolve this ticket as well as <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=92158">https://rt.cpan.org/Ticket/Display.html?id=92158</a></span>
Which is reporting the same error as this ticket.

Thanks.
--dave
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.433202</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
