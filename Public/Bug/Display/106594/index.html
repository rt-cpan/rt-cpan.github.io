<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #106594 for GD: test failures with 5.22.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #106594 for GD: test failures with 5.22.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/GD/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/GD/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/GD/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/GD/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GD">GD CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">106594</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/GD/Active/">GD</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RURBAN [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
JHI [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14260-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14261-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;21&nbsp;11:33:12&nbsp;2015</span>
    <span class="description">JHI [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test failures with 5.22.0</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">...
Configuring L/LD/LDS/GD-2.56.tar.gz with Build.PL
Configuring for libgd version 2.0.34.
Checking for stray libgd header files...none found.

Included Features:          GD_XPM GD_JPEG GD_FONTCONFIG GD_FREETYPE GD_PNG GD_G
IF GD_GIFANIM GD_OPENPOLYGON GD_UNCLOSEDPOLY GD_ANIMGIF GD_FTCIRCLE VERSION_33
GD library used from:       /usr
Created MYMETA.yml and MYMETA.json
Creating new &#39;Build&#39; script for &#39;GD&#39; version &#39;2.56&#39;
  LDS/GD-2.56.tar.gz
  /usr/local/perl-forge/v/5.22.0/bin/perl Build.PL -- OK
Running Build for L/LD/LDS/GD-2.56.tar.gz
Building GD
...
  ./Build -- OK
Running Build test
# Testing using gd2 support.

#   Failed test &#39;image comparison test 7&#39;
#   at t/GD.t line 249.
# Looks like you failed 1 test of 11.
t/GD.t ........ 
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/11 subtests 
t/Polyline.t .. ok

Test Summary Report
-------------------
t/GD.t      &#40;Wstat: 256 Tests: 11 Failed: 1&#41;
  Failed test:  9
  Non-zero exit status: 1
Files=2, Tests=12,  1 wallclock secs &#40; 0.04 usr  0.00 sys +  0.24 cusr  0.03 csys =  0.31 CPU&#41;
Result: FAIL
Failed 1/2 test programs. 1/12 subtests failed.
  LDS/GD-2.56.tar.gz
  ./Build test -- NOT OK
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;01:50:18&nbsp;2015</span>
    <span class="description">TODDR [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It looks like compare is coming back as a 7 though I&#39;m not clear what 7 corresponds to.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;01:50:18&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;01:54:06&nbsp;2015</span>
    <span class="description">TODDR [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 12 01:50:18 2015, TODDR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; It looks like compare is coming back as a 7 though I&#39;m not clear what
&gt; 7 corresponds to.
</div>

It looks like 7 would correspond to these on my system

#define GD_CMP_IMAGE            1       /* Actual image IS different */
#define GD_CMP_NUM_COLORS       2       /* Number of Colours in pallette differ */
#define GD_CMP_COLOR            4       /* Image colours differ */
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;12&nbsp;01:58:21&nbsp;2015</span>
    <span class="description">TODDR [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">One final note. I tried to build this on CentOS 5 through CentOS 7 &#40;both architectures&#41; The tests passed on C7 only so it appears GD changed enough that these tests are not reliable between old/new versions of libgd?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;13&nbsp;12:52:17&nbsp;2015</span>
    <span class="description">jhi [...] iki.fi -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;JHI [...] cpan.org&#34; &lt;JHI [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #106594] test failures with 5.22.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 13 Nov 2015 12:52:07 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-GD [...] rt.cpan.org&#34; &lt;bug-GD [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jarkko Hietaniemi &lt;jhi [...] iki.fi&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have no deeper knowledge of GD, or CentOS, or how CentOS configures GD.

On Thursday, November 12, 2015, Todd Rinaldo via RT &lt;bug-GD@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=106594">https://rt.cpan.org/Ticket/Display.html?id=106594</a></span> &gt;
&gt;
&gt; One final note. I tried to build this on CentOS 5 through CentOS 7 &#40;both
&gt; architectures&#41; The tests passed on C7 only so it appears GD changed enough
&gt; that these tests are not reliable between old/new versions of libgd?
&gt;
</div>

-- 
There is this special biologist word we use for &#39;stable&#39;. It is &#39;dead&#39;. --
Jack Cohen
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;14&nbsp;08:50:06&nbsp;2015</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Pá 21.srp.2015 11:33:12, JHI napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Running Build test
&gt; # Testing using gd2 support.
&gt; 
&gt; #   Failed test &#39;image comparison test 7&#39;
&gt; #   at t/GD.t line 249.
&gt; # Looks like you failed 1 test of 11.
&gt;  t/GD.t ........
&gt; Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt;  Failed 1/11 subtests
&gt; t/Polyline.t .. ok
&gt; 
</div>CPAN RT#105407 looks like the same failure.

I started to receive this failure in Fedora distribution after upgrading freetype library from 2.6.1 to 2.6.2 version. Maybe the common problem to all these failures is different font rendering by the freetype library.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;14&nbsp;09:04:45&nbsp;2015</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Pá 21.srp.2015 11:33:12, JHI napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; # Failed test &#39;image comparison test 7&#39;
&gt; # at t/GD.t line 249.
&gt; # Looks like you failed 1 test of 11.
&gt; t/GD.t ........
&gt; Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
&gt; Failed 1/11 subtests
&gt; t/Polyline.t .. ok
&gt; 
</div>And CPAN RT#100294 is another duplicate.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;14&nbsp;09:43:35&nbsp;2015</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Po 14.pro.2015 08:50:06, ppisar napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Maybe the common problem to all these failures is different font rendering by
&gt; the freetype library.
</div>
When I regenerated the sample data with new freetype library using the --write positional argument and compared the t/test_data/images/t7/7-0{0,1}.png images with Imagemagick &#40;compare 7-00.png 7-01.png -compose src diff.png&#41; it indeed identified 6 different pixels in the image.

Provided the freetype library is heavily patched by software distributors &#40;for aesthetic or legal reasons&#41;, the test7 employing font rendering is not portable.

Either we should generate the sample image on the build host using GD native tools or remove the test7 completely.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;01&nbsp;13:30:31&nbsp;2017</span>
    <span class="description">niall.durham [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Dec 14 08:43:35 2015, ppisar wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dne Po 14.pro.2015 08:50:06, ppisar napsal&#40;a&#41;:
<div class="message-stanza open">&gt; &gt; Maybe the common problem to all these failures is different font
&gt; &gt; rendering by
&gt; &gt; the freetype library.
</div>&gt; 
&gt; When I regenerated the sample data with new freetype library using the
&gt; --write positional argument and compared the t/test_data/images/t7/7-
&gt; 0{0,1}.png images with Imagemagick &#40;compare 7-00.png 7-01.png -compose
&gt; src diff.png&#41; it indeed identified 6 different pixels in the image.
&gt; 
&gt; Provided the freetype library is heavily patched by software
&gt; distributors &#40;for aesthetic or legal reasons&#41;, the test7 employing
&gt; font rendering is not portable.
&gt; 
&gt; Either we should generate the sample image on the build host using GD
&gt; native tools or remove the test7 completely.
</div>

I encountered the same problem w/ image test #7 &#40;in GD.t&#41; when attempting to build GD-2.56 via Perlbrew for Perl 5.22.3.

Using ppisar&#39;s image comparison method, there were 9 different pixels noted by Imagemagick:

githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ ack -iv &#39;#ffffffcc&#39; diff.txt
# ImageMagick pixel enumeration: 400,250,255,srgba
61,71: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
58,73: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
96,104: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
93,111: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
110,112: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
107,119: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
132,146: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
288,209: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
285,216: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;

See attached text files for detailed information about Perl version, building GD and environment &#40;perlbrew, uname&#41;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> gd-build-test.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">githyanki:~/.cpanm/latest-build/GD-2.56$ perl ./Build
Building GD
githyanki:~/.cpanm/latest-build/GD-2.56$ perl ./Build.PL 
gdlib-config: warning: this script is deprecated; please use the pkg-config file instead.
Configuring for libgd version 2.2.4.
Checking for stray libgd header files...none found.

Included Features:          GD_GIF GD_GIFANIM GD_OPENPOLYGON GD_ZLIB GD_PNG GD_FREETYPE GD_FONTCONFIG GD_JPEG GD_XPM GD_TIFF GD_WEBP
GD library used from:       /usr
Created MYMETA.yml and MYMETA.json
Creating new &#39;Build&#39; script for &#39;GD&#39; version &#39;2.56&#39;
githyanki:~/.cpanm/latest-build/GD-2.56$ less README
githyanki:~/.cpanm/latest-build/GD-2.56$ ./Build 
Building GD
githyanki:~/.cpanm/latest-build/GD-2.56$ ./Build test
t/GD.t ........ 1/11 # Testing using gd2 support.

#   Failed test &#39;image comparison test 7&#39;
#   at t/GD.t line 249.
t/GD.t ........ 10/11 # Looks like you failed 1 test of 11.
t/GD.t ........ Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/11 subtests 
t/Polyline.t .. ok   

Test Summary Report
-------------------
t/GD.t      &#40;Wstat: 256 Tests: 11 Failed: 1&#41;
  Failed test:  9
  Non-zero exit status: 1
Files=2, Tests=12,  1 wallclock secs &#40; 0.02 usr  0.00 sys +  0.08 cusr  0.01 csys =  0.11 CPU&#41;
Result: FAIL
Failed 1/2 test programs. 1/12 subtests failed.
githyanki:~/.cpanm/latest-build/GD-2.56$ ./Build test --verbose
t/GD.t ........ 
1..11
ok 1 - use GD;
ok 2 - use GD::Simple;
# Testing using gd2 support.
ok 3 - image comparison test 1
ok 4 - image comparison test 2
ok 5 - image comparison test 3
ok 6 - image comparison test 4
ok 7 - image comparison test 5
ok 8 - image comparison test 6
not ok 9 - image comparison test 7

#   Failed test &#39;image comparison test 7&#39;
#   at t/GD.t line 249.
ok 10 - round trip gd
ok 11 - round trip gd2
# Looks like you failed 1 test of 11.
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/11 subtests 
t/Polyline.t .. 
1..1
# Running under perl version 5.022003 for linux
# Current time local: Wed Feb  1 12:04:05 2017
# Current time GMT:   Wed Feb  1 18:04:05 2017
# Using Test.pm version 1.26_01
ok 1
ok

Test Summary Report
-------------------
t/GD.t      &#40;Wstat: 256 Tests: 11 Failed: 1&#41;
  Failed test:  9
  Non-zero exit status: 1
Files=2, Tests=12,  0 wallclock secs &#40; 0.02 usr  0.00 sys +  0.09 cusr  0.01 csys =  0.12 CPU&#41;
Result: FAIL
Failed 1/2 test programs. 1/12 subtests failed.
githyanki:~/.cpanm/latest-build/GD-2.56$  rpm -qa | ack -i &#39;\bgd\b&#39;
gd-2.2.4-1.fc25.x86_64
gd-devel-2.2.4-1.fc25.x86_64
githyanki:~/.cpanm/latest-build/GD-2.56$ uname -ar
Linux githyanki 4.9.5-200.fc25.x86_64 #1 SMP Fri Jan 20 12:24:16 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
githyanki:~/.cpanm/latest-build/GD-2.56$ perlbrew info
Current perl:
  Name: perl-5.22.3
  Path: /home/username/perl5/perlbrew/perls/perl-5.22.3/bin/perl
  Config: -de -Dprefix=/home/username/perl5/perlbrew/perls/perl-5.22.3 -Aeval:scriptdir=/home/username/perl5/perlbrew/perls/perl-5.22.3/bin
  Compiled at: Jan 19 2017 10:09:32

perlbrew:
  version: 0.78
  ENV:
    PERLBREW_ROOT: /home/username/perl5/perlbrew
    PERLBREW_HOME: 
    PERLBREW_PATH: /home/username/perl5/perlbrew/bin:/home/username/perl5/perlbrew/perls/perl-5.22.3/bin
    PERLBREW_MANPATH: /home/username/perl5/perlbrew/perls/perl-5.22.3/man
githyanki:~/.cpanm/latest-build/GD-2.56$ perl -I . t/GD.t --write
1..11
ok 1 - use GD;
ok 2 - use GD::Simple;
Writing regression files... at t/GD.t line 28.
# Testing using gd2 support.
ok 3 - image comparison test 1
ok 4 - image comparison test 2
ok 5 - image comparison test 3
ok 6 - image comparison test 4
ok 7 - image comparison test 5
ok 8 - image comparison test 6
ok 9 - image comparison test 7
ok 10 - round trip gd
ok 11 - round trip gd2
githyanki:~/.cpanm/latest-build/GD-2.56$ cd t/test_data/images/t7/
githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ ls
7-00.gd   7-00.gif   7-00.png  7-01.gd2  7-01.jpeg  7-02.gd   7-02.gif   7-02.png  diff.txt
7-00.gd2  7-00.jpeg  7-01.gd   7-01.gif  7-01.png   7-02.gd2  7-02.jpeg  diff.png
githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ compare 7-00.png 7-01.png -compose src diff.png
githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ convert diff.png  diff.txt
githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ ack -iv &#39;#ffffffcc&#39; diff.txt
# ImageMagick pixel enumeration: 400,250,255,srgba
61,71: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
58,73: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
96,104: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
93,111: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
110,112: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
107,119: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
132,146: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
288,209: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
285,216: &#40;61937,0,7710,52428&#41;  #F1001ECC  srgba&#40;241,0,30,0.8&#41;
githyanki:~/.cpanm/latest-build/GD-2.56/t/test_data/images/t7$ 

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perlbrew-perl-v.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Summary of my perl5 &#40;revision 5 version 22 subversion 3&#41; configuration:
   
  Platform:
    osname=linux, osvers=4.9.3-200.fc25.x86_64, archname=x86_64-linux
    uname=&#39;linux githyanki.localdomain 4.9.3-200.fc25.x86_64 #1 smp fri jan 13 01:01:13 utc 2017 x86_64 x86_64 x86_64 gnulinux &#39;
    config_args=&#39;-de -Dprefix=/home/username/perl5/perlbrew/perls/perl-5.22.3 -Aeval:scriptdir=/home/username/perl5/perlbrew/perls/perl-5.22.3/bin&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;6.3.1 20161221 &#40;Red Hat 6.3.1-1&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678, doublekind=3
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16, longdblkind=3
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -fstack-protector-strong -L/usr/local/lib&#39;
    libpth=/usr/local/lib /usr/lib /lib/../lib64 /usr/lib/../lib64 /lib /lib64 /usr/lib64 /usr/local/lib64
    libs=-lpthread -lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc -lgdbm_compat
    perllibs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    libc=libc-2.24.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;2.24&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/usr/local/lib -fstack-protector-strong&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: HAS_TIMES PERLIO_LAYERS PERL_DONT_CREATE_GVSV
                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD PERL_MALLOC_WRAP
                        PERL_NEW_COPY_ON_WRITE PERL_PRESERVE_IVUV
                        USE_64_BIT_ALL USE_64_BIT_INT USE_LARGE_FILES
                        USE_LOCALE USE_LOCALE_COLLATE USE_LOCALE_CTYPE
                        USE_LOCALE_NUMERIC USE_LOCALE_TIME USE_PERLIO
                        USE_PERL_ATOF
  Locally applied patches:
	Devel::PatchPerl 1.46
  Built under linux
  Compiled at Jan 19 2017 10:09:32
  %ENV:
    PERL5LIB=&#34;&#34;
    PERLBREW_LIB=&#34;&#34;
    PERLBREW_MANPATH=&#34;/home/username/perl5/perlbrew/perls/perl-5.22.3/man&#34;
    PERLBREW_PATH=&#34;/home/username/perl5/perlbrew/bin:/home/username/perl5/perlbrew/perls/perl-5.22.3/bin&#34;
    PERLBREW_PERL=&#34;perl-5.22.3&#34;
    PERLBREW_ROOT=&#34;/home/username/perl5/perlbrew&#34;
    PERLBREW_SKIP_INIT=&#34;1&#34;
    PERLBREW_VERSION=&#34;0.78&#34;
    PERL_LOCAL_LIB_ROOT=&#34;&#34;
  @INC:
    /home/username/perl5/perlbrew/perls/perl-5.22.3/lib/site_perl/5.22.3/x86_64-linux
    /home/username/perl5/perlbrew/perls/perl-5.22.3/lib/site_perl/5.22.3
    /home/username/perl5/perlbrew/perls/perl-5.22.3/lib/5.22.3/x86_64-linux
    /home/username/perl5/perlbrew/perls/perl-5.22.3/lib/5.22.3
    .

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;19&nbsp;10:51:37&nbsp;2017</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed with RURBAN/GD-2.56_01.tar.gz
-- 
Reini Urban
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;20&nbsp;04:02:50&nbsp;2017</span>
    <span class="description">RURBAN [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;03:34:10&nbsp;2017</span>
    <span class="description">RURBAN [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed with 2.57
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;21&nbsp;03:34:16&nbsp;2017</span>
    <span class="description">RURBAN [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
