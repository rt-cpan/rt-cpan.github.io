<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #127516 for namespace-clean: installing namespace::autoclean on a fresh perl install fails due to missing Test deps</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #127516 for namespace-clean: installing namespace::autoclean on a fresh perl install fails due to missing Test deps</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=namespace-clean">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=namespace-clean">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=namespace-clean">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=namespace-clean">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/namespace-clean">namespace-clean CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">127516</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=namespace-clean">namespace-clean</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
me [...] eboxr.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42514-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-42515-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=127516">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1817353" href="/Public/Bug/Display.html?id=127516#txn-1817353">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;18:22:07&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> installing namespace::autoclean on a fresh perl install fails due
 to missing Test deps</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1817353/977784/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/977784">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Devel::NYTProf should be listed as a Test::Recommends and the test using it should skip if not there...
otherwise this is breaking for example the installation of Moose on a fresh perl 5.26.2 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; make test
</div>PERL_DL_NONLAZY=1 &#34;/usr/local/perl/perls/perl-5.26.2/bin/perl&#34; &#34;-MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-basic.t ................ ok
t/01-function-wipeout.t ..... ok
t/02-inheritance.t .......... ok
t/03-unimport.t ............. ok
t/04-except.t ............... ok
t/05-explicit-cleanee.t ..... ok
t/05-syntax-error.t ......... ok
t/06-other-types.t .......... ok
t/07-debugger.t ............. Can&#39;t locate Devel/NYTProf.pm in @INC &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC contains: /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/ /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2 /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t line 1.
BEGIN failed--compilation aborted at t/07-debugger.t line 1.
# Looks like your test exited with 2 before it could output anything.
t/07-debugger.t ............. Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 4/4 subtests
t/07-pseudo-debugger.t ...... ok
t/08-const-sub.t ............ ok
t/09-fiddle-hinthash.t ...... ok
t/10-pure-perl.t ............ 10/15 Can&#39;t locate Devel/NYTProf.pm in @INC &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC contains: /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/.dotfiles/perl-must-have/lib /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/ /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2 /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 . /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2 /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t line 1.
BEGIN failed--compilation aborted at t/07-debugger.t line 1.
# Looks like your test exited with 2 before it could output anything.

#   Failed test &#39;Exit 512 from: /usr/local/perl/perls/perl-5.26.2/bin/perl t/07-debugger.t&#39;
#   at t/10-pure-perl.t line 71.
# Looks like you failed 1 test of 15.
t/10-pure-perl.t ............ Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/15 subtests
t/11-multiclean-in-scope.t .. ok

Test Summary Report
-------------------
t/07-debugger.t           &#40;Wstat: 512 Tests: 0 Failed: 0&#41;
  Non-zero exit status: 2
  Parse errors: Bad plan.  You planned 4 tests but ran 0.
t/10-pure-perl.t          &#40;Wstat: 256 Tests: 15 Failed: 1&#41;
  Failed test:  11
  Non-zero exit status: 1
Files=14, Tests=2110,  2 wallclock secs &#40; 0.17 usr  0.04 sys +  1.49 cusr  0.26 csys =  1.96 CPU&#41;
Result: FAIL
Failed 2/14 test programs. 1/2110 subtests failed.
make: *** [test_dynamic] Error 255
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1817356" href="/Public/Bug/Display.html?id=127516#txn-1817356">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;29&nbsp;18:31:12&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1817356/977787/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/977787">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">here is a suggested patch to fix this 

On Mon Oct 29 18:22:07 2018, atoomic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Devel::NYTProf should be listed as a Test::Recommends and the test
&gt; using it should skip if not there...
&gt;  otherwise this is breaking for example the installation of Moose on a
&gt; fresh perl 5.26.2
&gt; 
<div class="message-stanza open">&gt; &gt; make test
</div>&gt; PERL_DL_NONLAZY=1 &#34;/usr/local/perl/perls/perl-5.26.2/bin/perl&#34; &#34;-
&gt; MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef
&gt; *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34;
&gt; t/*.t
&gt; t/00-basic.t ................ ok
&gt; t/01-function-wipeout.t ..... ok
&gt; t/02-inheritance.t .......... ok
&gt; t/03-unimport.t ............. ok
&gt; t/04-except.t ............... ok
&gt; t/05-explicit-cleanee.t ..... ok
&gt; t/05-syntax-error.t ......... ok
&gt; t/06-other-types.t .......... ok
&gt; t/07-debugger.t ............. Can&#39;t locate Devel/NYTProf.pm in @INC
&gt; &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC contains:
&gt; /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-
&gt; 0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-
&gt; clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-
&gt; have/lib /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t
&gt; line 1.
&gt; BEGIN failed--compilation aborted at t/07-debugger.t line 1.
&gt; # Looks like your test exited with 2 before it could output anything.
&gt; t/07-debugger.t ............. Dubious, test returned 2 &#40;wstat 512,
&gt; 0x200&#41;
&gt; Failed 4/4 subtests
&gt; t/07-pseudo-debugger.t ...... ok
&gt; t/08-const-sub.t ............ ok
&gt; t/09-fiddle-hinthash.t ...... ok
&gt; t/10-pure-perl.t ............ 10/15 Can&#39;t locate Devel/NYTProf.pm in
&gt; @INC &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC
&gt; contains: /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-
&gt; 0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-
&gt; clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-
&gt; have/lib /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t
&gt; line 1.
&gt; BEGIN failed--compilation aborted at t/07-debugger.t line 1.
&gt; # Looks like your test exited with 2 before it could output anything.
&gt; 
&gt; #   Failed test &#39;Exit 512 from: /usr/local/perl/perls/perl-
&gt; 5.26.2/bin/perl t/07-debugger.t&#39;
&gt; #   at t/10-pure-perl.t line 71.
&gt; # Looks like you failed 1 test of 15.
&gt; t/10-pure-perl.t ............ Dubious, test returned 1 &#40;wstat 256,
&gt; 0x100&#41;
&gt; Failed 1/15 subtests
&gt; t/11-multiclean-in-scope.t .. ok
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/07-debugger.t           &#40;Wstat: 512 Tests: 0 Failed: 0&#41;
&gt;   Non-zero exit status: 2
&gt;   Parse errors: Bad plan.  You planned 4 tests but ran 0.
&gt; t/10-pure-perl.t          &#40;Wstat: 256 Tests: 15 Failed: 1&#41;
&gt;   Failed test:  11
&gt;   Non-zero exit status: 1
&gt; Files=14, Tests=2110,  2 wallclock secs &#40; 0.17 usr  0.04 sys +  1.49
&gt; cusr  0.26 csys =  1.96 CPU&#41;
&gt; Result: FAIL
&gt; Failed 2/14 test programs. 1/2110 subtests failed.
&gt; make: *** [test_dynamic] Error 255
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1817517" href="/Public/Bug/Display.html?id=127516#txn-1817517">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;11:34:14&nbsp;2018</span>
    <span class="description">me [...] eboxr.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1817517/977898/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/977898">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">previous message was missing the link, here it is
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/p5sagit/namespace-clean/pull/1">https://github.com/p5sagit/namespace-clean/pull/1</a></span>

The problem comes from PERL5DB being set with one missing module... so this is mainly my mistake
but the unit test can probably skip when PERL5DB is set.

thanks

On Mon Oct 29 18:31:12 2018, atoomic wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; here is a suggested patch to fix this 
&gt; 
&gt; On Mon Oct 29 18:22:07 2018, atoomic wrote:
<div class="message-stanza open">&gt; &gt; Devel::NYTProf should be listed as a Test::Recommends and the test
&gt; &gt; using it should skip if not there...
&gt; &gt;  otherwise this is breaking for example the installation of Moose on a
&gt; &gt; fresh perl 5.26.2
&gt; &gt; 
<div class="message-stanza open">&gt; &gt; &gt; make test
</div>&gt; &gt; PERL_DL_NONLAZY=1 &#34;/usr/local/perl/perls/perl-5.26.2/bin/perl&#34; &#34;-
&gt; &gt; MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef
&gt; &gt; *Test::Harness::Switches; test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34;
&gt; &gt; t/*.t
&gt; &gt; t/00-basic.t ................ ok
&gt; &gt; t/01-function-wipeout.t ..... ok
&gt; &gt; t/02-inheritance.t .......... ok
&gt; &gt; t/03-unimport.t ............. ok
&gt; &gt; t/04-except.t ............... ok
&gt; &gt; t/05-explicit-cleanee.t ..... ok
&gt; &gt; t/05-syntax-error.t ......... ok
&gt; &gt; t/06-other-types.t .......... ok
&gt; &gt; t/07-debugger.t ............. Can&#39;t locate Devel/NYTProf.pm in @INC
&gt; &gt; &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC contains:
&gt; &gt; /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-
&gt; &gt; 0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-
&gt; &gt; clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; &gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-
&gt; &gt; have/lib /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; &gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t
&gt; &gt; line 1.
&gt; &gt; BEGIN failed--compilation aborted at t/07-debugger.t line 1.
&gt; &gt; # Looks like your test exited with 2 before it could output anything.
&gt; &gt; t/07-debugger.t ............. Dubious, test returned 2 &#40;wstat 512,
&gt; &gt; 0x200&#41;
&gt; &gt; Failed 4/4 subtests
&gt; &gt; t/07-pseudo-debugger.t ...... ok
&gt; &gt; t/08-const-sub.t ............ ok
&gt; &gt; t/09-fiddle-hinthash.t ...... ok
&gt; &gt; t/10-pure-perl.t ............ 10/15 Can&#39;t locate Devel/NYTProf.pm in
&gt; &gt; @INC &#40;you may need to install the Devel::NYTProf module&#41; &#40;@INC
&gt; &gt; contains: /Users/nicolas/.cpanm/work/1540851573.11991/namespace-clean-
&gt; &gt; 0.27/blib/lib /Users/nicolas/.cpanm/work/1540851573.11991/namespace-
&gt; &gt; clean-0.27/blib/arch /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; &gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/.dotfiles/perl-must-
&gt; &gt; have/lib /Users/nicolas/.dotfiles/perl-must-have/lib
&gt; &gt; /Users/nicolas/perl5/lib/perl5/ /Users/nicolas/perl5/lib/perl5/
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/site_perl/5.26.2
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2/darwin-2level
&gt; &gt; /usr/local/perl/perls/perl-5.26.2/lib/5.26.2 .&#41; at t/07-debugger.t
&gt; &gt; line 1.
&gt; &gt; BEGIN failed--compilation aborted at t/07-debugger.t line 1.
&gt; &gt; # Looks like your test exited with 2 before it could output anything.
&gt; &gt; 
&gt; &gt; #   Failed test &#39;Exit 512 from: /usr/local/perl/perls/perl-
&gt; &gt; 5.26.2/bin/perl t/07-debugger.t&#39;
&gt; &gt; #   at t/10-pure-perl.t line 71.
&gt; &gt; # Looks like you failed 1 test of 15.
&gt; &gt; t/10-pure-perl.t ............ Dubious, test returned 1 &#40;wstat 256,
&gt; &gt; 0x100&#41;
&gt; &gt; Failed 1/15 subtests
&gt; &gt; t/11-multiclean-in-scope.t .. ok
&gt; &gt; 
&gt; &gt; Test Summary Report
&gt; &gt; -------------------
&gt; &gt; t/07-debugger.t           &#40;Wstat: 512 Tests: 0 Failed: 0&#41;
&gt; &gt;   Non-zero exit status: 2
&gt; &gt;   Parse errors: Bad plan.  You planned 4 tests but ran 0.
&gt; &gt; t/10-pure-perl.t          &#40;Wstat: 256 Tests: 15 Failed: 1&#41;
&gt; &gt;   Failed test:  11
&gt; &gt;   Non-zero exit status: 1
&gt; &gt; Files=14, Tests=2110,  2 wallclock secs &#40; 0.17 usr  0.04 sys +  1.49
&gt; &gt; cusr  0.26 csys =  1.96 CPU&#41;
&gt; &gt; Result: FAIL
&gt; &gt; Failed 2/14 test programs. 1/2110 subtests failed.
&gt; &gt; make: *** [test_dynamic] Error 255
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.246498</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
