<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #52689 for Crypt-RSA: consider moving Crypt::RSA to Math::BigInt?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #52689 for Crypt-RSA: consider moving Crypt::RSA to Math::BigInt?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Crypt-RSA">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Crypt-RSA">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Crypt-RSA">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Crypt-RSA">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Crypt-RSA">Crypt-RSA CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">52689</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Crypt-RSA">Crypt-RSA</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dkg [...] fifthhorseman.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
CARNIL [...] cpan.org

<br />
kmx [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8624-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8625-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/897064/465093/signature.asc">
Mon Feb 14 23:42:01 2011 (1k) by dkg [...] fifthhorseman.net
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/896939/465017/signature.asc">
Mon Feb 14 17:46:00 2011 (1k) by dkg [...] fifthhorseman.net
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/864486/447608/signature.asc">
Sun Dec 05 21:52:06 2010 (900b) by dkg [...] fifthhorseman.net
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/705431/363825/signature.asc">
Fri Dec 11 18:25:21 2009 (891b) by dkg [...] fifthhorseman.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=52689">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-705431" href="/Public/Bug/Display.html?id=52689#txn-705431">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;11&nbsp;18:25:21&nbsp;2009</span>
    <span class="description">dkg [...] fifthhorseman.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 11 Dec 2009 18:24:51 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Crypt-RSA [...] rt.cpan.org,  Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;, Benjamin Trott &lt;cpan [...] stupidfool.org&gt;, Vipul Ved Prakash &lt;mail [...] vipul.net&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Kahn Gillmor &lt;dkg [...] fifthhorseman.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/705431/363824/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/363824">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Vipul--

Would you consider patches &#40;if i could provide them&#41; that would make it
so that Crypt::RSA used Math::BigInt instead of Math::Pari?

Math::BigInt can use either GMP or Math::Pari as a backend, so a change
like this could make Crypt::RSA a bit more versatile.

My ultimate reason for this is that Math::Pari has proven very difficult
to get into binary-distributed operating systems like debian because of
upstream&#39;s preference for building from source everywhere.

And i&#39;d really like to see Crypt::RSA become available in debian.

I&#39;m Cc&#39;ing Salvatore Bonaccorso here, who has indicated an intent to
package Crypt::RSA for debian, if we can arrange to have the
dependencies sorted out [0].

Also, i&#39;m CC&#39;ing Benjamin Trott &#40;upstream of Crypt::OpenPGP, which
relies on Crypt::RSA, has indicated a willingness to accept patches for
Crypt::OpenPGP to move to Math::BigInt if i can get Crypt::RSA to do the
same [1].  He also had some experience in porting Crypt::DSA to
Math::BigInt several years ago.

So what do you say?  i&#39;m willing to take a stab at the work, if a change
like this is something you&#39;d consider accepting.  I suppose if you&#39;re
dead set against it, forking is an option, but i&#39;d much prefer to have
your guidance and oversight on an undertaking like this.

What do you think?  is this doable?  is it a good idea?  is it madness?

Are there a further dependency chains we&#39;d need to follow &#40;e.g.
Crypt::Random, etc&#41; to be able to use a Math::BigInt-based Crypt::RSA?

Regards,

        --dkg

[0] <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/532839">http://bugs.debian.org/532839</a></span>
[1] <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=44174">https://rt.cpan.org/Public/Bug/Display.html?id=44174</a></span>
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/705431/363825/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 891b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-864391" href="/Public/Bug/Display.html?id=52689#txn-864391">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;19:27:19&nbsp;2010</span>
    <span class="description">mutant.nz [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mutant.nz [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/864391/447545/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/447545">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 240b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve had a stab at this, and made some progress. However, there are
possibly some performance issues I&#39;d like to discuss. Vipul, if you&#39;re
interested in this, can you please contact me? I&#39;ve tried emailing you,
but it bounced.

Thanks,
Sam.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-864394" href="/Public/Bug/Display.html?id=52689#txn-864394">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;19:27:20&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-864486" href="/Public/Bug/Display.html?id=52689#txn-864486">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;05&nbsp;21:52:06&nbsp;2010</span>
    <span class="description">dkg [...] fifthhorseman.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #52689] consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 05 Dec 2010 21:51:45 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Crypt-RSA [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Kahn Gillmor &lt;dkg [...] fifthhorseman.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/864486/447607/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/447607">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 597b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 12/05/2010 07:27 PM, Sam Crawley via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=52689">https://rt.cpan.org/Ticket/Display.html?id=52689</a></span> &gt;
&gt; 
&gt; I&#39;ve had a stab at this, and made some progress. However, there are
&gt; possibly some performance issues I&#39;d like to discuss. Vipul, if you&#39;re
&gt; interested in this, can you please contact me? I&#39;ve tried emailing you,
&gt; but it bounced.
</div>
Sam, i&#39;d be interested in your progress, and in what the performance
issues are that you&#39;re concerned about.  If you&#39;d care to share notes, i
would be happy to look at it with you.  I hope Vipul will weigh in soon
too, of course.

Regards,

        --dkg
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/864486/447608/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 900b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-896939" href="/Public/Bug/Display.html?id=52689#txn-896939">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;14&nbsp;17:46:00&nbsp;2011</span>
    <span class="description">dkg [...] fifthhorseman.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #52689] consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 14 Feb 2011 17:45:41 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> mutant.nz [...] gmail.com, bug-Crypt-RSA [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Kahn Gillmor &lt;dkg [...] fifthhorseman.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/896939/465016/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/465016">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 407b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">What is the status of CPAN&#39;s RT #52689 &#40;consider moving Crypt::RSA to
Math::BigInt&#41;?

I&#39;d really like to see this possibility happen.  Sam, you say you have
patches?  Would you mind publishing them?  if there are any performance
issues to be sorted out, i&#39;d like to be able to evaluate them.

I would really like to see Crypt::RSA available without the Math::PARI
dependency if possible.

Regards,

        --dkg
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/896939/465017/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-896941" href="/Public/Bug/Display.html?id=52689#txn-896941">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;14&nbsp;18:02:45&nbsp;2011</span>
    <span class="description">mutant.nz [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mutant.nz [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/896941/465019/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/465019">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It&#39;s been a few months since I worked on this, so I can&#39;t quite remember
all the details. I think there were a couple of issues. First,
Crypt::RSA depends on other modules that also need Math::Pari, so it
would be necessary to convert those as well &#40;and they weren&#39;t completely
trivial to convert&#41;. Secondly, Crypt::RSA &#40;and dependencies&#41; were using
parts of the Math::Pari API that didn&#39;t necessarily have a corresponding
call in Math::BigInt. This could be because those things aren&#39;t
implemented by the other Math::BigInt backends. 

I think my attempted workaround to these problems was the cause of the
performance issues &#40;i.e. I was using APIs in the wrong way&#41;. I didn&#39;t
really get anything to a stage where it could be released as a patch. It
was really just a semi-functional prototype. I don&#39;t really have any
more time to contribute at this point.

However, I think it should be possible. It would need someone who really
understands the code and Math::BigInt &#40;and probably Math::Pari&#41;. I was
really floundering around trying to guess how to make changes, but
someone who knew what they were doing could probably do that easily, and
code around any performance problems. It might require a fairly
significant re-write though.

Sorry I can&#39;t be of more help.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-897064" href="/Public/Bug/Display.html?id=52689#txn-897064">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;14&nbsp;23:42:01&nbsp;2011</span>
    <span class="description">dkg [...] fifthhorseman.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #52689] consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 14 Feb 2011 23:41:50 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Crypt-RSA [...] rt.cpan.org, mutant.nz [...] gmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Kahn Gillmor &lt;dkg [...] fifthhorseman.net&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/897064/465092/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/465092">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 02/14/2011 06:02 PM, Sam Crawley via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=52689">https://rt.cpan.org/Ticket/Display.html?id=52689</a></span> &gt;
&gt; 
&gt; It&#39;s been a few months since I worked on this, so I can&#39;t quite remember
&gt; all the details. I think there were a couple of issues. First,
&gt; Crypt::RSA depends on other modules that also need Math::Pari, 
</div>
Those seem to be Crypt::Primes and Crypt::Random, right?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; so it
&gt; would be necessary to convert those as well &#40;and they weren&#39;t completely
&gt; trivial to convert&#41;. Secondly, Crypt::RSA &#40;and dependencies&#41; were using
&gt; parts of the Math::Pari API that didn&#39;t necessarily have a corresponding
&gt; call in Math::BigInt. This could be because those things aren&#39;t
&gt; implemented by the other Math::BigInt backends. 
&gt; 
&gt; I think my attempted workaround to these problems was the cause of the
&gt; performance issues &#40;i.e. I was using APIs in the wrong way&#41;. I didn&#39;t
&gt; really get anything to a stage where it could be released as a patch. It
&gt; was really just a semi-functional prototype. I don&#39;t really have any
&gt; more time to contribute at this point.
&gt; 
&gt; However, I think it should be possible. It would need someone who really
&gt; understands the code and Math::BigInt &#40;and probably Math::Pari&#41;. I was
&gt; really floundering around trying to guess how to make changes, but
&gt; someone who knew what they were doing could probably do that easily, and
&gt; code around any performance problems. It might require a fairly
&gt; significant re-write though.
</div>
hm, ok.

I&#39;m unable to see either MX or A records for vipul.net, so i&#39;m not sure
how to contact Vipul, other than these tickets.  Vipul, are you out there?

        --dkg
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/897064/465093/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-897289" href="/Public/Bug/Display.html?id=52689#txn-897289">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;15&nbsp;08:28:10&nbsp;2011</span>
    <span class="description">CARNIL [...] cpan.org -  Cc CARNIL added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086374" href="/Public/Bug/Display.html?id=52689#txn-1086374">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;14:52:22&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086374/571001/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/571001">with headers</a>
<br />
<span class="downloadcontenttype">text/html 195b</span>
</div>
<div class="messagebody">
<div class="message-stanza">Hi,<br>

<br>

just want to support this RT as Math::PARI does not work on 64-bit MS Windows and therefore there in no chance to have Crypt::RSA on MS Win/64bit.<br>

<br>

--<br>

kmx<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086377" href="/Public/Bug/Display.html?id=52689#txn-1086377">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;14:52:46&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Cc KMX added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1154085" href="/Public/Bug/Display.html?id=52689#txn-1154085">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;12&nbsp;02:30:31&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1154085/606946/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/606946">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Feb 14 23:42:01 2011, dkg@fifthhorseman.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 02/14/2011 06:02 PM, Sam Crawley via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=52689">https://rt.cpan.org/Ticket/Display.html?id=52689</a></span> &gt;
&gt; &gt; 
&gt; &gt; It&#39;s been a few months since I worked on this, so I can&#39;t quite remember
&gt; &gt; all the details. I think there were a couple of issues. First,
&gt; &gt; Crypt::RSA depends on other modules that also need Math::Pari, 
</div>&gt; 
&gt; Those seem to be Crypt::Primes and Crypt::Random, right?
</div>
Shameless plug, but Math::Prime::Util includes a random Maurer prime
generator, which is most of Crypt::Primes.  It requires only
Math::BigInt &#40;it&#39;s faster with Math::BigInt::GMP or Math::BigInt::Pari,
but works fine without&#41;.  I should adjust the interface to provide a
little easier way to plug in RNGs while part of a library.

It looks like Bytes::Random::Secure can provide all the functionality
currently being provided by Crypt::Random.  It&#39;s also much easier on
system entropy use while still being secure &#40;it uses
Crypt::Random::Source for seeding, and Math::Random::ISAAC for the RNG&#41;.

This still leaves all the Pari code in the module proper.  It&#39;s
certainly possible to do if this is still something wanted.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1154134" href="/Public/Bug/Display.html?id=52689#txn-1154134">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;12&nbsp;03:42:41&nbsp;2012</span>
    <span class="description">dkg [...] fifthhorseman.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> CARNIL [...] cpan.org, kmx [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #52689] consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Dec 2012 03:42:22 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Crypt-RSA [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Daniel Kahn Gillmor &lt;dkg [...] fifthhorseman.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1154134/606968/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/606968">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 974b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 12/12/2012 02:30 AM, Dana Jacobsen via RT wrote:
\&gt; Shameless plug, but Math::Prime::Util includes a random Maurer prime
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; generator, which is most of Crypt::Primes.  It requires only
&gt; Math::BigInt &#40;it&#39;s faster with Math::BigInt::GMP or Math::BigInt::Pari,
&gt; but works fine without&#41;.  I should adjust the interface to provide a
&gt; little easier way to plug in RNGs while part of a library.
&gt; 
&gt; It looks like Bytes::Random::Secure can provide all the functionality
&gt; currently being provided by Crypt::Random.  It&#39;s also much easier on
&gt; system entropy use while still being secure &#40;it uses
&gt; Crypt::Random::Source for seeding, and Math::Random::ISAAC for the RNG&#41;.
</div>
This all sounds reasonable to me.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This still leaves all the Pari code in the module proper.  It&#39;s
&gt; certainly possible to do if this is still something wanted.
</div>
yes, it&#39;s still wanted!  I would be happy to see this happen :&#41;  I&#39;m
sorry i&#39;m not able to spend much time on it myself right now.

        --dkg
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157653" href="/Public/Bug/Display.html?id=52689#txn-1157653">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;19:57:10&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157653/608785/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608785">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have a module now that:

  1. Passes the current test suite.

  2. Has no references or requirements for Pari.  Everything is done
with Math::BigInt.

  3. Replaces Crypt::Primes with Math::Prime::Util, and Crypt::Random
with Bytes::Random::Secure.  Hence no more Pari requirements at all.

  4. Uses exactly the same interface.  Anything that relied on numbers
being Math::Pari objects would no longer work, but if it was nice and
treated it as a number it should be fine.  Math::BigInts are also a bit
more portable.

  5. If either GMP or Pari are available, it runs at about the same speed.

  6. Switched to ExtUtils::MakeMaker.  Uses Devel::CheckLib to check for
GMP.  If found, adds Math::BigInt::GMP and Math::Prime::Util::GMP to the
prereq list.  If GMP isn&#39;t found, it looks for Pari and adds
Math::BigInt::Pari if so.  If neither are found, it spits out a message
explaining that things might be really slow, but will continue.

  7. Fixes RTs:  4877, 52689, 61392, 63007, 64883, 76655.  I may fix
45533 and 69376 as well but those will take a little more research.  RTs
50356 and 59923 aren&#39;t clear, but the former may be an HP/UX+Pari issue.

  8. Should still work back to 5.6.2, but this will take a little more
digging.

I want to add more tests and spend some time with Devel::Cover, but so
far things look good.  I also have some documentation changes I&#39;d like
to make.


I&#39;m thinking I&#39;ll try Ingy&#39;s Alt module, so:

  cpan Alt::Crypt::RSA::BigInt

would get this version, all packaged as Crypt::RSA so it just plugs
right in.  Discussions about whether to replace the current Crypt::RSA
can then proceed at leisure.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157662" href="/Public/Bug/Display.html?id=52689#txn-1157662">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;20:48:38&nbsp;2012</span>
    <span class="description">vipulved [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #52689] consider moving Crypt::RSA to Math::BigInt?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 20 Dec 2012 17:48:24 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Crypt-RSA [...] rt.cpan.org&#34; &lt;bug-Crypt-RSA [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Vipul Ved Prakash &lt;vipulved [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157662/608793/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608793">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Awesome. How&#39;s relative performance? I am open to just replacing crypt::rsa if that sounds ok to you. 

Vipul Ved Prakash, via IPhone

On Dec 20, 2012, at 4:57 PM, &#34;Dana Jacobsen via RT&#34; &lt;bug-Crypt-RSA@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=52689">https://rt.cpan.org/Ticket/Display.html?id=52689</a></span> &gt;
&gt; 
&gt; I have a module now that:
&gt; 
&gt;  1. Passes the current test suite.
&gt; 
&gt;  2. Has no references or requirements for Pari.  Everything is done
&gt; with Math::BigInt.
&gt; 
&gt;  3. Replaces Crypt::Primes with Math::Prime::Util, and Crypt::Random
&gt; with Bytes::Random::Secure.  Hence no more Pari requirements at all.
&gt; 
&gt;  4. Uses exactly the same interface.  Anything that relied on numbers
&gt; being Math::Pari objects would no longer work, but if it was nice and
&gt; treated it as a number it should be fine.  Math::BigInts are also a bit
&gt; more portable.
&gt; 
&gt;  5. If either GMP or Pari are available, it runs at about the same speed.
&gt; 
&gt;  6. Switched to ExtUtils::MakeMaker.  Uses Devel::CheckLib to check for
&gt; GMP.  If found, adds Math::BigInt::GMP and Math::Prime::Util::GMP to the
&gt; prereq list.  If GMP isn&#39;t found, it looks for Pari and adds
&gt; Math::BigInt::Pari if so.  If neither are found, it spits out a message
&gt; explaining that things might be really slow, but will continue.
&gt; 
&gt;  7. Fixes RTs:  4877, 52689, 61392, 63007, 64883, 76655.  I may fix
&gt; 45533 and 69376 as well but those will take a little more research.  RTs
&gt; 50356 and 59923 aren&#39;t clear, but the former may be an HP/UX+Pari issue.
&gt; 
&gt;  8. Should still work back to 5.6.2, but this will take a little more
&gt; digging.
&gt; 
&gt; I want to add more tests and spend some time with Devel::Cover, but so
&gt; far things look good.  I also have some documentation changes I&#39;d like
&gt; to make.
&gt; 
&gt; 
&gt; I&#39;m thinking I&#39;ll try Ingy&#39;s Alt module, so:
&gt; 
&gt;  cpan Alt::Crypt::RSA::BigInt
&gt; 
&gt; would get this version, all packaged as Crypt::RSA so it just plugs
&gt; right in.  Discussions about whether to replace the current Crypt::RSA
&gt; can then proceed at leisure.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1157788" href="/Public/Bug/Display.html?id=52689#txn-1157788">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;05:40:19&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1157788/608862/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608862">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 20 20:48:38 2012, vipulved@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Awesome. How&#39;s relative performance? I am open to just replacing
&gt; crypt::rsa if that sounds ok to you.
</div>
Summary: With GMP, it&#39;s 2 to 5x faster.  With Pari it&#39;s 1.5 - 3x slower.
 Without either it&#39;s 100x or more slower.  I could make it dependent on
GMP, which is still a lot more portable &#40;and far more common in vendor
installs&#41; than Pari, but it&#39;s pretty handy to have something that works
even without the big number libraries.  I realize that it may just end
up with a stream of &#34;it&#39;s so slow!&#34; complaints from people who didn&#39;t
read the documentation.

On my x86_64 computer, otherwise idle, t/15-benchmark.t using -3 for count:

Crypt::RSA 1.99 &#40;Pari&#41;
 PKCS-sign:         770.19/s &#40;n=2480&#41;
PKCS-sign-CRT:     1072.78/s &#40;n=3390&#41;
PKCS-verify:       1556.92/s &#40;n=4951&#41;
PKCS-verify-CRT:   3107.21/s &#40;n=9912&#41;
  PSS-sign:         635.65/s &#40;n=2015&#41;
PSS-sign-CRT:       826.96/s &#40;n=2638&#41;
PSS-verify:        1342.06/s &#40;n=4308&#41;
PSS-verify-CRT:    3107.21/s &#40;n=9912&#41;

Crypt::RSA BigInt, using Math::BigInt::GMP:
 PKCS-sign:       4912.69/s &#40;n=15868&#41;
PKCS-sign-CRT:    3532.71/s &#40;n=11340&#41;
PKCS-verify:      6198.44/s &#40;n=19835&#41;
PKCS-verify-CRT:  7584.47/s &#40;n=24422&#41;
  PSS-sign:       2504.59/s &#40;n=8190&#41;
PSS-sign-CRT:     2083.60/s &#40;n=6605&#41;
PSS-verify:       2915.94/s &#40;n=9331&#41;
PSS-verify-CRT:   7584.47/s &#40;n=24422&#41;

With Math::BigInt::Pari:
 PKCS-sign:        324.92/s &#40;n=1043&#41;
PKCS-sign-CRT:     367.41/s &#40;n=1161&#41;
PKCS-verify:      1883.64/s &#40;n=6103&#41;
PKCS-verify-CRT:  2247.66/s &#40;n=7215&#41;
  PSS-sign:        306.54/s &#40;n=984&#41;
PSS-sign-CRT:      346.54/s &#40;n=1102&#41;
PSS-verify:       1409.29/s &#40;n=4552&#41;
PSS-verify-CRT:   2240.68/s &#40;n=7215&#41;

With Math::BigInt::Calc:
 PKCS-sign:          4.58/s &#40;n=14&#41;
PKCS-sign-CRT:      14.29/s &#40;n=44&#41;
PKCS-verify:       164.35/s &#40;n=521&#41;
PKCS-verify-CRT:   174.92/s &#40;n=558&#41;
  PSS-sign:          4.61/s &#40;n=14&#41;
PSS-sign-CRT:       14.15/s &#40;n=44&#41;
PSS-verify:        156.19/s &#40;n=492&#41;
PSS-verify-CRT:    175.62/s &#40;n=569&#41;

NYTProf indicates Calc and Pari are spending most of their time in
bmodpow, basically in core_encrypt and core_decrypt.  Interestingly,
with Math::BigInt::GMP, most of the time was spent twiddling around in
helper functions and making new objects.  The bmodpow is far, far faster
than the other two.  I got a significant amount of speedup just by
tweaking the code for some of those operations &#40;e.g. i2osp and bitsize&#41;.
 It made no difference with Calc and with Pari only the verify
operations sped up a tiny bit.  Looking at NYTProf output, the GMP code
could still be sped up &#40;e.g. we&#39;re spending a non-trivial amount of time
in octect_xor which could be quite a bit faster&#41;.  Of course this is all
dependent on the use case: signing 1M small messages, or 1 giant one.

I&#39;m a little surprised at the difference between Math::BigInt::GMP and
Math::BigInt::Pari here.  Usually I&#39;ve seen GMP a little faster, but
rarely by this much.  Note that this is using the Math::BigInt objects
in all cases, not Math::GMPz or Math::Pari objects.  Using Math::GMPz
would be a bit faster, and of course implementing things in C using gmp
directly would be faster yet.

I view all of this with some reserve, since I don&#39;t think all the
functionality is tested by the current test suite, and there are
interoperability concerns that the test suite may not cover.  Also
things like:
  - Does changing the mgf1 function to match RFC3447 cause issues?
  - Does changing the PKCS1v15 encode functions to match RFC3447 cause
issues?  Why does the SS/PKCSv15.pm encoded message not match the 2.1
specification?  &#40;same with RSAES&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160126" href="/Public/Bug/Display.html?id=52689#txn-1160126">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;12:33:10&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160126/609963/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609963">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve uploaded the first version to CPAN as Alt::Crypt::RSA::BigInt. 
Note that this uses Ingy&#39;s Alt namespace idea, so it is a direct
replacement for Crypt::RSA &#40;it installs as Crypt::RSA&#41;.

To make sure this wasn&#39;t an x86_64-specific performance effect, I ran
the same benchmark on an Itanium 2 and an HP PA-8600 machine with
similar results.  The new code using Math::BigInt::GMP runs
t/15-benchmark.t 5 to 11 times faster than Crypt::RSA 1.99.

I tried bumping the Pari code to 2.3.5, which made only a ~10%
difference on the PA-8600 machine, still leaving it 4-9x slower than the
new GMP code.

These are just the sign and verify benchmarks in t/15-benchmark.t.  I
can run other benchmarks or tests if there are some better ones &#40;e.g.
oaep with long messages&#41;

I&#39;ve tested it on various x86 Linux configurations, Cygwin, Win32
&#40;Strawberry&#41;, and a few different non-x86 Linux systems.  Thanks to
super speedy CPAN testers, it looks like x86 FreeBSD works also.  This
still leaves a lot of ground to cover.  It does *not* work on 5.6.2
because of some dependency issues.  These could be probably be solved if
this is something we really care about.  What I have not done is a lot
of testing of things such as whether we really are getting properly
random keys and the like.

For this version, I tried to leave most of the code and documentation
as-is, just removing Pari and the two modeules that used it.  I did make
some changes for performance as mentioned above.  One change that may be
a bigger issue is changing the mgf1 function to match the spec &#40;RT
45533&#41;.  This module should fix RTs 4877, 45533, 52689, 61392, 63007,
64883, and 76655.  I included the RT 69376 test in the xt/ directory
that reproduces this issue, but decided to fix it later, as I think a
proper fix will change the serialization, which would affect
interoperability.

I&#39;m not thrilled with the length of the dependency chain, a lot of which
comes from Crypt::Random::Source, which is used by
Bytes::Random::Secure.  There aren&#39;t many other good options that I see.

Let me know if this looks like the right track, and how it works.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160167" href="/Public/Bug/Display.html?id=52689#txn-1160167">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;13:26:08&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160167/609978/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609978">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 123b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve fixed an issue in RSA/Primitives.pm that I found doing an OpenPGP
test.  I&#39;ll do more tests tonight and do an update.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160627" href="/Public/Bug/Display.html?id=52689#txn-1160627">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;30&nbsp;13:45:09&nbsp;2012</span>
    <span class="description">DANAJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160627/610240/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610240">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 721b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Version 0.03 on CPAN fixes RT 69376.

I believe RT 59923&#39;s answer is:
   $pri-&gt;{Password} = &#39;my new secret&#39;;
though one has to be careful to do this while not hidden.  Perhaps this
is something a function would be better for.

The only other RT&#39;s that I haven&#39;t verified are 4877 and 50356 which are
failures on HP/UX machines.  I no longer have access to HP/UX boxes, but
they look like they were probably Math::Pari problems &#40;segfault in test 11&#41;.

It seems to work with Crypt::OpenPGP, Net::SSH::Perl, and
Data::Encrypted with no changes needed to those.  The latter not so
useful given that anything new won&#39;t be in SSH1 format.  We should
probably add a PEM module using Convert::PEM or Convert::ASN1 plus some
code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1178377" href="/Public/Bug/Display.html?id=52689#txn-1178377">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;07&nbsp;03:38:27&nbsp;2013</span>
    <span class="description">davido [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1178377/621606/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/621606">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 808b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Dec 28 09:33:10 2012, DANAJ wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not thrilled with the length of the dependency chain, 
&gt; a lot of which comes from Crypt::Random::Source, which is used by
&gt; Bytes::Random::Secure.  There aren&#39;t many other good options
&gt; that I see.
</div>
Just a follow-up:

Thanks to DANAJ&#39;s new Crypt::Random::Seed, Bytes::Random::Secure has
been able to move away from its Crypt::Random::Source dependency, and
consequently, has cut its dependency chain down to just a few non-core
modules:

Crypt::Random::Seed
Crypt::Random::TESHA256
Test::Warn

Test::Warn is the only module in that set that drags in a few non-Core
modules, and in the next few days I intend to make it an optional
dependency anyway.

All versions of Bytes::Random::Secure from 0.20+ use Crypt::Random::Seed
instead of Crypt::Random::Source.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.986703</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
