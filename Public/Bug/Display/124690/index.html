<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #124690 for FindBin-libs: Module::FromPerlVer not specified in configure_requires</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #124690 for FindBin-libs: Module::FromPerlVer not specified in configure_requires</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/FindBin-libs/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/FindBin-libs/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/FindBin-libs/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/FindBin-libs/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/FindBin-libs">FindBin-libs CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">124690</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/FindBin-libs/Active/">FindBin-libs</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
SREZIC [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-13644-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
2.016002</li>
<li>
2.016003</li>
<li>
2.016004</li>
<li>
2.017003</li>
<li>
2.017006</li>
<li>
2.017009</li>
<li>
2.017010</li>
</ul>
    </td>
  </tr>
  <tr id="CF-13645-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




findbin-libs-makefile-pl.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1777547/956519/findbin-libs-makefile-pl.patch">
Tue Mar 20 14:55:55 2018 (947b) by SREZIC [...] cpan.org
</a>
</font></li>
</ul>


Module-FromPerlVer-0.007000.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1777421/956423/Module-FromPerlVer-0.007000.tar.gz">
Mon Mar 19 21:41:22 2018 (76.6k) by lembark [...] wrkhors.com
</a>
</font></li>
</ul>


Module-FromPerlVer-0.008000.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1777425/956428/Module-FromPerlVer-0.008000.tar.gz">
Mon Mar 19 23:28:15 2018 (97.9k) by lembark [...] wrkhors.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;05&nbsp;14:58:39&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Module::FromPerlVer not specified in configure_requires</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Another possible error while running &#34;perl Makefile.PL&#34;:

...
Output from &#39;/usr/perl5.26.1p/bin/perl5.26.1 Makefile.PL&#39;:

Can&#39;t locate Module/FromPerlVer.pm in @INC &#40;you may need to install the Module::FromPerlVer module&#41; &#40;@INC contains: /var/tmp/cpansmoker-1023/2018030506/CPAN-Reporter-lib-0Fpl /home/cpansand/.cpan/build/2018030506/Locale-CLDR-Transformations-v0.32.0-TRIAL-1/blib/arch /home/cpansand/.cpan/build/2018030506/Locale-CLDR-Transformations-v0.32.0-TRIAL-1/blib/lib /home/cpansand/.cpan/build/2018030506/Locale-CLDR-v0.29.0-1/blib/arch /home/cpansand/.cpan/build/2018030506/Locale-CLDR-v0.29.0-1/blib/lib /home/cpansand/.cpan/build/2018030506/MooX-ClassAttribute-0.011-1/blib/arch /home/cpansand/.cpan/build/2018030506/MooX-ClassAttribute-0.011-1/blib/lib /usr/perl5.26.1p/lib/site_perl/5.26.1/amd64-freebsd /usr/perl5.26.1p/lib/site_perl/5.26.1 /usr/perl5.26.1p/lib/5.26.1/amd64-freebsd /usr/perl5.26.1p/lib/5.26.1 .&#41; at Makefile.PL line 6.
BEGIN failed--compilation aborted at Makefile.PL line 6.
...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;01:43:08&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.016003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;14:24:01&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.016004 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;08&nbsp;17:08:26&nbsp;2018</span>
    <span class="description">LEMBARK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">FindBin::libs removed from Module::FromPerlVer.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;08&nbsp;17:08:26&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;08&nbsp;17:08:27&nbsp;2018</span>
    <span class="description">LEMBARK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;04:02:27&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Reopened. I again see this failure with the latest release &#40;FindBin-libs-2.017003&#41;:

...
Output from &#39;/usr/perl5.26.1p/bin/perl Makefile.PL&#39;:

Can&#39;t locate Module/FromPerlVer.pm in @INC &#40;you may need to install the Module::FromPerlVer module&#41; &#40;@INC contains: ... .&#41; at Makefile.PL line 7.
BEGIN failed--compilation aborted at Makefile.PL line 7.
...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;04:02:27&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;04:02:39&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.017003 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;17&nbsp;21:38:33&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Mar 2018 20:37:13 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Q: What happens if you use:

    cpan Module::FromPerlVer;

   at this point?

You should get a working v0.5.8 of that module. The current 
Makefile.PL for FindBin::libs has the dependency, it should
install M::FPV and finish.

It does here.

There were are variety of location-specific prolems with the
M::FPV &#40;which I think I&#39;ve gotten all of at this point&#41;. 


-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;04:20:56&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-17 21:38:33, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Q: What happens if you use:
&gt; 
&gt;     cpan Module::FromPerlVer;
&gt; 
&gt;    at this point?
&gt; 
&gt; You should get a working v0.5.8 of that module. The current 
&gt; Makefile.PL for FindBin::libs has the dependency, it should
&gt; install M::FPV and finish.
</div>
Unfortunately the dependency is already required when running Makefile.PL, but CPAN.pm &#38; other installers need to run Makefile.PL to get the prerequisite list. That&#39;s why it has to go into the configure_requires in the META.* files --- the META files are examined first if there are any requirements which have to be installed before running Makefile.PL or Build.PL.

So what you need is something like this in the WriteMakefile call &#40;untested&#41;:

    META_MERGE =&gt; {
        configure_requires =&gt; {
            &#39;Module::FromPerlVer&#39; =&gt; 0.005005,
        },
    },

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; It does here.
&gt; 
&gt; There were are variety of location-specific prolems with the
&gt; M::FPV &#40;which I think I&#39;ve gotten all of at this point&#41;. 
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;14:00:00&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 18 Mar 2018 12:58:39 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 18 Mar 2018 04:20:56 -0400
&#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;     META_MERGE =&gt; {
&gt;         configure_requires =&gt; {
&gt;             &#39;Module::FromPerlVer&#39; =&gt; 0.005005,
&gt;         },
&gt;     },
</div>
Up to 0.00508 at this point :-&#41;

Thank you, I&#39;m adding it to FB::L now. Should have a new version
on CPAN in a few minutes.

That is actually version-specific to MakeMaker:

    META_MERGE
      Available in version 6.46 and above.


e.g., M::FPV uses github:
    
    my $mm_ver = ExtUtils::MakeMaker-&gt;VERSION;

    my @merge_spec
    = do
    {
        if&#40; $mm_ver &lt; 6.46 &#41;
        {
            &#40;&#41;
        }
        else
        {
            my $web = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lembark/Module-FromPerlVer&#39;">https://github.com/lembark/Module-FromPerlVer&#39;</a></span>;
            my $url = $web . &#39;.git&#39;;


            META_MERGE =&gt; 
            {
                &#39;meta-spec&#39; =&gt;
                {
                    version =&gt; 2
                },
                dynamic_config =&gt; 1,
                resources =&gt; 
                {
                    repository =&gt; 
                    {
                        web  =&gt; $web, 
                        url  =&gt; $url,
                        type =&gt; &#39;git&#39;,
                    },
                    bugtracker =&gt; 
                    {
                        web =&gt; &#39;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Dist/Display.html?Name=Module-FromPerlVer&#39;">https://rt.cpan.org/Dist/Display.html?Name=Module-FromPerlVer&#39;</a></span>,
                    },
                },
            }
        }
    };

    WriteMakefile
    &#40;
        ...

        @merge-spec,
        ...
    &#41;;

Aside: The whole thing worked using file-based versioning; Damian
made the offhand suggestion that supporting Git would be helpful.
Seemed simple enough: just check the tags. Most of the insanity has 
been related to dealing with shipping a working .git repository along 
with the distro. So much for simple ideas :-&#41;

-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;14:09:36&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 18 Mar 2018 13:08:12 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On CPAN, indexer is deaing with it now:

FindBin-libs-2.017004.tar.gz    22359  Sun, 18 Mar 2018 18:08:34 GMT


-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;18&nbsp;14:32:52&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-18 14:00:00, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, 18 Mar 2018 04:20:56 -0400
&gt; &#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt; META_MERGE =&gt; {
&gt; &gt;     configure_requires =&gt; {
&gt; &gt;         &#39;Module::FromPerlVer&#39; =&gt; 0.005005,
&gt; &gt;     },
&gt; &gt; },
</div>&gt; 
&gt; Up to 0.00508 at this point :-&#41;
&gt; 
&gt; Thank you, I&#39;m adding it to FB::L now. Should have a new version
&gt; on CPAN in a few minutes.
&gt; 
&gt; That is actually version-specific to MakeMaker:
&gt; 
&gt; META_MERGE
&gt;   Available in version 6.46 and above.
&gt; 
&gt; 
&gt; e.g., M::FPV uses github:
&gt; 
&gt; my $mm_ver = ExtUtils::MakeMaker-&gt;VERSION;
&gt; 
&gt; my @merge_spec
&gt; = do
&gt; {
&gt;     if&#40; $mm_ver &lt; 6.46 &#41;
&gt;     {
&gt;         &#40;&#41;
&gt;     }
&gt;     else
&gt;     {
&gt;         my $web = &#39;<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/lembark/Module-FromPerlVer&#39;">https://github.com/lembark/Module-FromPerlVer&#39;</a></span>;
&gt;         my $url = $web . &#39;.git&#39;;
&gt; 
&gt; 
&gt; META_MERGE =&gt;
&gt; {
&gt;    &#39;meta-spec&#39; =&gt;
&gt;    {
&gt;        version =&gt; 2
&gt;    },
&gt;    dynamic_config =&gt; 1,
&gt;     resources =&gt;
&gt;    {
&gt;         repository =&gt;
&gt;        {
&gt;             web  =&gt; $web,
&gt;            url  =&gt; $url,
&gt;            type =&gt; &#39;git&#39;,
&gt;        },
&gt;         bugtracker =&gt;
&gt;        {
&gt;            web =&gt; &#39;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Dist/Display.html?Name=Module-">https://rt.cpan.org/Dist/Display.html?Name=Module-</a></span>
&gt; FromPerlVer&#39;,
&gt;        },
&gt;    },
&gt; }
&gt; }
&gt; };
&gt; 
&gt; WriteMakefile
&gt; &#40;
&gt;     ...
&gt; 
&gt; @merge-spec,
&gt; ...
&gt; &#41;;
&gt; 
&gt; Aside: The whole thing worked using file-based versioning; Damian
&gt; made the offhand suggestion that supporting Git would be helpful.
&gt;  Seemed simple enough: just check the tags. Most of the insanity has
&gt;  been related to dealing with shipping a working .git repository along
&gt; with the distro. So much for simple ideas :-&#41;
</div>
Unfortunately this still does not work: <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/LEMBARK/FindBin-libs-2.017004/META.yml#L7">https://metacpan.org/source/LEMBARK/FindBin-libs-2.017004/META.yml#L7</a></span> --- no Module::FromPerlVer listed here. I think the problem is that you explicitly specified the meta-spec version to be 2. If you do this, then probably you have to use the different format for declaring dependencies &#40;something like { prereqs =&gt; { configure =&gt; { requires =&gt; { ... }}}} &#41;. So either just don&#39;t specify the meta-spec version, or alternatively use EUMM&#39;s CONFIGURE_REQUIRES parameter &#40;according to the documentation available since 6.52&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;15:40:48&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.017006 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;21:41:22&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Mar 2018 20:39:38 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Catch: I cannot get the output of Makefile.PL via testers, all I find
is the first test failing.

Could you please run:

    perl Makefile.PL 2&gt;&#38;1 | tee makefile.out;

on any one box of yours that this fails on and send the output back
to me? 

The insane thing about this is that it works on half the boxes with 
some distros: I cannot find *anything* consistent about the failures.
The next step will just be packaging all 1000 symlinks and micro-
modules used for testing into the MANIFEST, which would be a real
annoyance.

All of the instanity is related to running the tests, the 
module just works...

thanks

-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1777421/956423/Module-FromPerlVer-0.007000.tar.gz">Download Module-FromPerlVer-0.007000.tar.gz</a><br />
<span class="downloadcontenttype">application/gzip 76.6k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;23:28:15&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Mar 2018 22:26:23 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
If I can get one verson of the bloody thing to test then I can 
use a zero in the prereq&#39;s &#40;and not have to worry about which 
version of MakeMaker is in place...

Q: Would you be willing to see if this installs on one of your
   test systems?

All of the tests use static content &#40;vs. the dynamic generation
that has been blowing up the past week&#41;. The MANIFEST is over a
thousand lines long but I can extract the tarball here and run
Makefile.PL, make all test install without any errors. Of course,
that was true of of everything I&#39;ve released so far...&#41;.

Apologies for all of the instanity. The main problem is that the
Testers output doesn&#39;t include Makefile.PL execution so I&#39;m flying
completely blind on what is blowing up -- other than your giving
me speicfic input on things like /bin/env vs. /usr/bin/env.

So much for saving time with dynamic content, eh?

thanks.

-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1777425/956428/Module-FromPerlVer-0.008000.tar.gz">Download Module-FromPerlVer-0.008000.tar.gz</a><br />
<span class="downloadcontenttype">application/gzip 97.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;19&nbsp;23:34:14&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Mar 2018 22:32:47 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 18 Mar 2018 14:32:53 -0400
&#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:

I&#39;ve just put version 0 into the requires until I can find a 
complete working version of the spec... 

Q: Do any of your modules use the newer spec format w/ a 
   prereq requires? 

If I can see one complete layout &#40;vs. fragments in the perldoc&#41; I 
could get it right. At this point I&#39;m not in any mood to experiment.


-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;02:30:50&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-19 21:41:22, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Catch: I cannot get the output of Makefile.PL via testers, all I find
&gt; is the first test failing.
&gt; 
&gt; Could you please run:
&gt; 
&gt;     perl Makefile.PL 2&gt;&#38;1 | tee makefile.out;
&gt; 
&gt; on any one box of yours that this fails on and send the output back
&gt; to me? 
&gt; 
&gt; The insane thing about this is that it works on half the boxes with 
&gt; some distros: I cannot find *anything* consistent about the failures.
</div>
Easy explanation: it does not fail if Module::FromPerlVer is already installed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The next step will just be packaging all 1000 symlinks and micro-
&gt; modules used for testing into the MANIFEST, which would be a real
&gt; annoyance.
&gt; 
&gt; All of the instanity is related to running the tests, the 
&gt; module just works...
</div>
No. A configuration error means that the module cannot be installed automatically. So even with CPAN.pm&#39;s &#34;notest&#34; it would not work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;02:34:16&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-19 23:34:14, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, 18 Mar 2018 14:32:53 -0400
&gt; &#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:
&gt; 
&gt; I&#39;ve just put version 0 into the requires until I can find a 
&gt; complete working version of the spec... 
&gt; 
&gt; Q: Do any of your modules use the newer spec format w/ a 
&gt;    prereq requires? 
&gt; 
&gt; If I can see one complete layout &#40;vs. fragments in the perldoc&#41; I 
&gt; could get it right. At this point I&#39;m not in any mood to experiment.
</div>
Probably you can easily reproduce the problem yourself. Just deinstall Module::FromPerlVer from your system and run

    cpan -t .

in the FindBin-libs directory. Or alternatively install a fresh perlbrew system and try cpan or cpanm there.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;08:44:40&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Mar 2018 07:43:17 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Probably you can easily reproduce the problem yourself. Just
&gt; deinstall Module::FromPerlVer from your system and run
&gt; 
&gt;     cpan -t .
&gt; 
&gt; in the FindBin-libs directory. Or alternatively install a fresh
&gt; perlbrew system and try cpan or cpanm there.
</div>
I can duplicat the problem, but I don&#39;t see any complete 
examples that allow me to construct a working structure.
The verison-2 spec was suggessted by someone else who 
wanted to add a few other pieces, I&#39;ve taken it out for
now until I can see how to assemble the structure properly.

-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;08:50:27&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Mar 2018 07:48:45 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, 20 Mar 2018 02:30:50 -0400
&#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: FindBin-libs
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=124690">https://rt.cpan.org/Ticket/Display.html?id=124690</a></span> &gt;
&gt; 
&gt; On 2018-03-19 21:41:22, lembark@wrkhors.com wrote:
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; Catch: I cannot get the output of Makefile.PL via testers, all I
&gt; &gt; find is the first test failing.
&gt; &gt; 
&gt; &gt; Could you please run:
&gt; &gt; 
&gt; &gt;     perl Makefile.PL 2&gt;&#38;1 | tee makefile.out;
&gt; &gt; 
&gt; &gt; on any one box of yours that this fails on and send the output back
&gt; &gt; to me? 
&gt; &gt; 
&gt; &gt; The insane thing about this is that it works on half the boxes with 
&gt; &gt; some distros: I cannot find *anything* consistent about the
&gt; &gt; failures.  
</div>&gt; 
&gt; Easy explanation: it does not fail if Module::FromPerlVer is already
&gt; installed.
</div>
OK. So I remove the installed copy and run &#34;make disttest&#34;. It all
passes.

I run make dist, untar the dist, run Makefile.PL, then run 
&#34;make all test&#34; and it passes here. Passes on half the systems
on CPAN Testers. In one case it blows up with a syntax error 
on one system, running &#34;perl -wc&#34; here gets me OK and the same
code runs on other systems w/o warnings or errors...

This is cursed...


-- 
Steven Lembark                                       1505 National Ave
Workhorse Computing                                 Rockford, IL 61103
lembark@wrkhors.com                                    +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;14:50:09&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-20 08:50:27, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Tue, 20 Mar 2018 02:30:50 -0400
&gt; &#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:
&gt; 
<div class="message-stanza open">&gt; &gt;        Queue: FindBin-libs
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=124690">https://rt.cpan.org/Ticket/Display.html?id=124690</a></span> &gt;
&gt; &gt; 
&gt; &gt; On 2018-03-19 21:41:22, lembark@wrkhors.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; 
&gt; &gt; &gt; Catch: I cannot get the output of Makefile.PL via testers, all I
&gt; &gt; &gt; find is the first test failing.
&gt; &gt; &gt; 
&gt; &gt; &gt; Could you please run:
&gt; &gt; &gt; 
&gt; &gt; &gt;     perl Makefile.PL 2&gt;&#38;1 | tee makefile.out;
&gt; &gt; &gt; 
&gt; &gt; &gt; on any one box of yours that this fails on and send the output back
&gt; &gt; &gt; to me? 
&gt; &gt; &gt; 
&gt; &gt; &gt; The insane thing about this is that it works on half the boxes with 
&gt; &gt; &gt; some distros: I cannot find *anything* consistent about the
&gt; &gt; &gt; failures.  
</div>&gt; &gt; 
&gt; &gt; Easy explanation: it does not fail if Module::FromPerlVer is already
&gt; &gt; installed.
</div>&gt; 
&gt; OK. So I remove the installed copy
</div>
... of FindBin::libs or Module::FromPerlVer?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; and run &#34;make disttest&#34;. It all
&gt; passes.
&gt; 
&gt; I run make dist, untar the dist, run Makefile.PL
</div>
This cannot work if Module::FromPerlVer is removed. It says &#34;use Module::FromPerlVer&#34; on top.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;, then run 
&gt; &#34;make all test&#34; and it passes here.
</div>
And for a real test, you should use &#34;cpan -t .&#34; or so. Running things manually with &#34;perl Makefile.PL&#34; etc. won&#39;t install any configure_requires.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Passes on half the systems
&gt; on CPAN Testers. In one case it blows up with a syntax error 
&gt; on one system, running &#34;perl -wc&#34; here gets me OK and the same
&gt; code runs on other systems w/o warnings or errors...
&gt; 
&gt; This is cursed...
</div>
Not really. I think there was no version on CPAN that could work &#40;i.e. Module::FromPerlVer was never listed in the configure_requires section of the two META.* files&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;14:55:55&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-20 14:50:09, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2018-03-20 08:50:27, lembark@wrkhors.com wrote:
<div class="message-stanza open">&gt; &gt; On Tue, 20 Mar 2018 02:30:50 -0400
&gt; &gt; &#34;Slaven_Rezic via RT&#34; &lt;bug-FindBin-libs@rt.cpan.org&gt; wrote:
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Queue: FindBin-libs
&gt; &gt; &gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=124690">https://rt.cpan.org/Ticket/Display.html?id=124690</a></span> &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On 2018-03-19 21:41:22, lembark@wrkhors.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Catch: I cannot get the output of Makefile.PL via testers, all I
&gt; &gt; &gt; &gt; find is the first test failing.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Could you please run:
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; perl Makefile.PL 2&gt;&#38;1 | tee makefile.out;
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; on any one box of yours that this fails on and send the output
&gt; &gt; &gt; &gt; back
&gt; &gt; &gt; &gt;  to me?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; The insane thing about this is that it works on half the boxes
&gt; &gt; &gt; &gt; with
&gt; &gt; &gt; &gt; some distros: I cannot find *anything* consistent about the
&gt; &gt; &gt; &gt;  failures.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Easy explanation: it does not fail if Module::FromPerlVer is
&gt; &gt; &gt; already
&gt; &gt; &gt; installed.
</div>&gt; &gt;
&gt; &gt; OK. So I remove the installed copy
</div>&gt; 
&gt; ... of FindBin::libs or Module::FromPerlVer?
&gt; 
<div class="message-stanza open">&gt; &gt; and run &#34;make disttest&#34;. It all
&gt; &gt; passes.
&gt; &gt;
&gt; &gt; I run make dist, untar the dist, run Makefile.PL
</div>&gt; 
&gt; This cannot work if Module::FromPerlVer is removed. It says &#34;use
&gt; Module::FromPerlVer&#34; on top.
&gt; 
<div class="message-stanza open">&gt; &gt; , then run
&gt; &gt; &#34;make all test&#34; and it passes here.
</div>&gt; 
&gt; And for a real test, you should use &#34;cpan -t .&#34; or so. Running things
&gt; manually with &#34;perl Makefile.PL&#34; etc. won&#39;t install any
&gt; configure_requires.
&gt; 
<div class="message-stanza open">&gt; &gt; Passes on half the systems
&gt; &gt;  on CPAN Testers. In one case it blows up with a syntax error
&gt; &gt; on one system, running &#34;perl -wc&#34; here gets me OK and the same
&gt; &gt; code runs on other systems w/o warnings or errors...
&gt; &gt;
&gt; &gt; This is cursed...
</div>&gt; 
&gt; Not really. I think there was no version on CPAN that could work &#40;i.e.
&gt; Module::FromPerlVer was never listed in the configure_requires section
&gt; of the two META.* files&#41;.
</div>
Attached a possible patch.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> findbin-libs-makefile-pl.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git i/Makefile.PL w/Makefile.PL
index 8534170..246b4a6 100644
--- i/Makefile.PL
+++ w/Makefile.PL
@@ -10,34 +10,7 @@ use ExtUtils::MakeMaker;
 my $version = &#39;2.17.8&#39;; 
 my $mm_v    = ExtUtils::MakeMaker-&gt;VERSION;
 
-#my @merge_spec
-#= do
-#{
-#    if&#40; $mm_v &lt; 6.46 &#41;
-#    {
-#        &#40;&#41;
-#    }
-#    else
-#    {
-#        META_MERGE =&gt; 
-#        {
-#            &#39;meta-spec&#39; =&gt;
-#            {
-#                version =&gt; 2
-#            },
-#
-#            dynamic_config =&gt; 1,
-#
-#            configure_requires =&gt;
-#            {
-#                qw
-#                &#40;
-#                    Module::FromPerlVer 0.003,
-#                &#41;
-#            },
-#        }
-#    }
-#};
+my @add_opts = $mm_v &gt;= 6.46 ? &#40;&#39;CONFIGURE_REQUIRES&#39; =&gt; { &#39;ExtUtils::MakeMaker&#39; =&gt; 0, &#39;Module::FromPerlVer&#39; =&gt; 0.003 }&#41; : &#40;&#41;;
 
 WriteMakefile
 &#40;
@@ -73,7 +46,7 @@ WriteMakefile
         &#41;
     },
 
-    @merge_spec,
+    @add_opts,
 &#41;;
 
 __END__
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;18:53:32&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Mar 2018 17:53:21 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And for a real test, you should use &#34;cpan -t .&#34; or so. Running things manually with &#34;perl Makefile.PL&#34; etc. won&#39;t install any configure_requires.
</div>
Catch, so far as I know this requires uploading the module. 
The point is to try and avoid uploading errors.

That&#39;s why I untar the the distribution run make test install here
before tagging and uploading the module. 

That&#39;s why I&#39;m not sure why it&#39;s failing. There are cases where
the same set of tests fail on one copy of the same distro and
succeed on another with the same version of Perl. 

If the issues were windows or VMS vs. *NIX I&#39;d understand it.

-- 
Steven Lembark                                         1505 National Ave
Workhorse Computing                                   Rockford, IL 61103
lembark@wrkhors.com                                      +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;18:56:22&nbsp;2018</span>
    <span class="description">lembark [...] wrkhors.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> lembark [...] wrkhors.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #124690] Module::FromPerlVer not specified in configure_requires</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Mar 2018 17:56:20 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-FindBin-libs [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steven Lembark &lt;lembark [...] wrkhors.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Thank you.


-- 
Steven Lembark                                         1505 National Ave
Workhorse Computing                                   Rockford, IL 61103
lembark@wrkhors.com                                      +1 888 359 3508
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;20&nbsp;19:41:54&nbsp;2018</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 20 18:53:32 2018, lembark@wrkhors.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; And for a real test, you should use &#34;cpan -t .&#34; or so. Running things
&gt; &gt; manually with &#34;perl Makefile.PL&#34; etc. won&#39;t install any
&gt; &gt; configure_requires.
</div>&gt; 
&gt; Catch, so far as I know this requires uploading the module.
&gt; The point is to try and avoid uploading errors.
&gt; 
&gt; That&#39;s why I untar the the distribution run make test install here
&gt;  before tagging and uploading the module.
&gt; 
&gt; That&#39;s why I&#39;m not sure why it&#39;s failing. There are cases where
&gt; the same set of tests fail on one copy of the same distro and
&gt;  succeed on another with the same version of Perl.
&gt; 
&gt; If the issues were windows or VMS vs. *NIX I&#39;d understand it.
</div>
CPAN.pm treats the distribution .specially: it refers to the current directory and does not do any downloading.

I use exactly the same cpan -t . trick.  I keep a pristine copy of perl installed &#40;i.e., with no extra modules; just the bare perl installation&#41;.  Before each release I do

$ /path/to/that/cpan -t .

just to test the prerequisites.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;03&nbsp;02:41:17&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.017009 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;05&nbsp;16:08:55&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Broken in 2.017010 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;20&nbsp;02:42:40&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2018-03-05 14:58:39, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another possible error while running &#34;perl Makefile.PL&#34;:
&gt; 
&gt; ...
&gt; Output from &#39;/usr/perl5.26.1p/bin/perl5.26.1 Makefile.PL&#39;:
&gt; 
&gt; Can&#39;t locate Module/FromPerlVer.pm in @INC &#40;you may need to install
&gt; the Module::FromPerlVer module&#41; &#40;@INC contains: /var/tmp/cpansmoker-
&gt; 1023/2018030506/CPAN-Reporter-lib-0Fpl
&gt; /home/cpansand/.cpan/build/2018030506/Locale-CLDR-Transformations-
&gt; v0.32.0-TRIAL-1/blib/arch
&gt; /home/cpansand/.cpan/build/2018030506/Locale-CLDR-Transformations-
&gt; v0.32.0-TRIAL-1/blib/lib /home/cpansand/.cpan/build/2018030506/Locale-
&gt; CLDR-v0.29.0-1/blib/arch /home/cpansand/.cpan/build/2018030506/Locale-
&gt; CLDR-v0.29.0-1/blib/lib /home/cpansand/.cpan/build/2018030506/MooX-
&gt; ClassAttribute-0.011-1/blib/arch
&gt; /home/cpansand/.cpan/build/2018030506/MooX-ClassAttribute-0.011-
&gt; 1/blib/lib /usr/perl5.26.1p/lib/site_perl/5.26.1/amd64-freebsd
&gt; /usr/perl5.26.1p/lib/site_perl/5.26.1
&gt; /usr/perl5.26.1p/lib/5.26.1/amd64-freebsd /usr/perl5.26.1p/lib/5.26.1
&gt; .&#41; at Makefile.PL line 6.
&gt; BEGIN failed--compilation aborted at Makefile.PL line 6.
&gt; ...
</div>
Does not happen anymore in newer versions.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;20&nbsp;02:42:40&nbsp;2018</span>
    <span class="description">SREZIC [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
