<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #68579 for File-ReadBackwards: horrible non-killable test process when not enough disk space</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #68579 for File-ReadBackwards: horrible non-killable test process when not enough disk space</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/File-ReadBackwards/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/File-ReadBackwards/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/File-ReadBackwards/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/File-ReadBackwards/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/File-ReadBackwards">File-ReadBackwards CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">68579</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/File-ReadBackwards/Active/">File-ReadBackwards</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
rmb32 [...] cornell.edu

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-13048-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.04    </td>
  </tr>
  <tr id="CF-13049-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.04    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;17:10:17&nbsp;2011</span>
    <span class="description">rmb32 [...] cornell.edu -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> horrible non-killable test process when not enough disk space</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">rob@nightshade ~$ cpanm --look File::ReadBackwards
--&gt; Working on File::ReadBackwards
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/U/UR/URI/File-">http://search.cpan.org/CPAN/authors/id/U/UR/URI/File-</a></span>
ReadBackwards-1.04.tar.gz ... OK
Entering /home/rob/.cpanm/work/1306875756.2886/File-ReadBackwards-1.04 
with /bin/bash
rob@nightshade File-ReadBackwards-1.04$ df
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda1              71G   66G  903M  99% /
none                  1.5G  320K  1.5G   1% /dev
none                  1.5G  2.1M  1.5G   1% /dev/shm
none                  1.5G  224K  1.5G   1% /var/run
none                  1.5G     0  1.5G   0% /var/lock
/home/rob/.Private     71G   66G  903M  99% /home/rob
rob@nightshade File-ReadBackwards-1.04$ perl Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for File::ReadBackwards
rob@nightshade File-ReadBackwards-1.04$ make test
cp ReadBackwards.pm blib/lib/File/ReadBackwards.pm
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/bw.t .......... ok     
t/large_file.t .. 


and hangs.  Looking at the processes:

rob@nightshade ~$ ps aux | grep perl
rob       2886  0.0  0.3  15144 11548 pts/0    S    14:02   0:00 
/usr/bin/perl /home/rob/cpan-lib/bin/cpanm --look File::ReadBackwards
rob       2969  0.0  0.0   1900   512 pts/0    S+   14:02   0:00 /bin/sh 
-c PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; 
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
rob       2970  0.0  0.1   9448  5764 pts/0    S+   14:02   0:00 
/usr/bin/perl -MExtUtils::Command::MM -e test_harness&#40;0, &#39;blib/lib&#39;, 
&#39;blib/arch&#39;&#41; t/bw.t t/large_file.t
rob       2974  0.0  0.1   6876  3316 pts/0    S+   14:02   0:00 
/usr/bin/perl -w t/large_file.t
rob       2975 92.1  0.0   5664  1440 pts/0    R+   14:02   3:50 
/usr/bin/perl -e open&#40;BIG, &#34;&gt;bw.data&#34;&#41;;?seek&#40;BIG, 5_000_000_000, 0&#41;;?
print BIG &#34;3rd from last line?2nd from last?last line?&#34; ;?exit 0;?


In there, it&#39;s the &#34;open&#40;BIG&#34; one-liner that&#39;s doing it.  And it&#39;s using 
100% CPU.  My lap is getting hot.  Try to kill -9 it.  Over and over.  
Does not die.  Only way to kill it that I&#39;ve found is to reboot.

No fun!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;17:22:45&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 May 2011 17:22:34 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
i have heard about the BIG test problem. the large_file.t test was
copied from the perl core tests and modified to use
ReadFileBackwards. it doesn&#39;t create a 5GB file but just seeks out there
and should create a file which looks that large. what OS are you one?
there is a list of them which skip this test and it currently is set
to this:
        qw&#40; MSWin32 NetWare VMS unicos &#41; ;

i can add more entries to that list to skip if the os doesn&#39;t support
this test.

the newest perl has redone the test and it is called op/lfs.t. it does a
real check on whether sparse files are supported and not just a check on
OS names. i will steal that part and hopefully it will fix this issue.

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;17:22:46&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;17:40:13&nbsp;2011</span>
    <span class="description">rmb32 [...] cornell.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 May 2011 14:40:03 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Robert Buels &lt;rmb32 [...] cornell.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 05/31/2011 02:22 PM, Uri Guttman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; i have heard about the BIG test problem. the large_file.t test was
&gt; copied from the perl core tests and modified to use
&gt; ReadFileBackwards. it doesn&#39;t create a 5GB file but just seeks out there
&gt; and should create a file which looks that large. what OS are you one?
&gt; there is a list of them which skip this test and it currently is set
&gt; to this:
</div>
This is Ubuntu 10.04, not exactly anything exotic.  The only 
possibly-exotic thing is that my home dir &#40;and thus ~/.cpanm&#41; is on an 
ecryptfs volume, which might be getting pissed off about the seek that 
calls for more space than it has?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;17:47:42&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 May 2011 17:47:21 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; &#34;RBvR&#34; == Robert Buels via RT &lt;bug-File-ReadBackwards@rt.cpan.org&gt; writes:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt;        Queue: File-ReadBackwards
  RBvR&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68579">https://rt.cpan.org/Ticket/Display.html?id=68579</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; On 05/31/2011 02:22 PM, Uri Guttman via RT wrote:
</div><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;&gt; i have heard about the BIG test problem. the large_file.t test was
  &gt;&gt; copied from the perl core tests and modified to use
  &gt;&gt; ReadFileBackwards. it doesn&#39;t create a 5GB file but just seeks out there
  &gt;&gt; and should create a file which looks that large. what OS are you one?
  &gt;&gt; there is a list of them which skip this test and it currently is set
  &gt;&gt; to this:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; This is Ubuntu 10.04, not exactly anything exotic.  The only
  RBvR&gt; possibly-exotic thing is that my home dir &#40;and thus ~/.cpanm&#41; is
  RBvR&gt; on an ecryptfs volume, which might be getting pissed off about
  RBvR&gt; the seek that calls for more space than it has?
</div>
that is likely the culprit. i run ubuntu as well but not encryptfs. try
building/installing it by hand in a regular fs if you have one
mounted. it is the usual untar, perl Makefile.PL and make install. note
that it isn&#39;t a seek for more then it has but more likely the fs doesn&#39;t
support sparse files. try running that core test &#40;t/ops/lfs.t&#41; by hand
on that fs and see what it does. since you are using a packaged perl it
never ran the core tests. if there is nothing you can do, i will steal
the better sparse checking code and patch my test with it. then it
should skip the test on your fs.

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;18:40:11&nbsp;2011</span>
    <span class="description">rmb32 [...] cornell.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 May 2011 15:40:00 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Robert Buels &lt;rmb32 [...] cornell.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 05/31/2011 02:47 PM, Uri Guttman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; mounted. it is the usual untar, perl Makefile.PL and make install. note
&gt; that it isn&#39;t a seek for more then it has but more likely the fs doesn&#39;t
</div>
Yep, running it on the regular ext4 FS works OK, even with only 200MB free.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; support sparse files. try running that core test &#40;t/ops/lfs.t&#41; by hand
&gt; on that fs and see what it does. since you are using a packaged perl it
&gt; never ran the core tests. if there is nothing you can do, i will steal
&gt; the better sparse checking code and patch my test with it. then it
&gt; should skip the test on your fs.
</div>
Yep, the t/op/lfs.t in the perl 5.14.0 release skips on the ecryptfs volume:

rob@nightshade perl-5.14.0$ ./perl t/op/lfs.t
# checking whether we have sparse files...
# s1 = 20 3052238 33188 1 1000 1000 0 1000003 1306881462 1306881462 
1306881462 4096 1976
# s2 = 20 3052324 33188 1 1000 1000 0 2000003 1306881462 1306881462 
1306881462 4096 3928
1..0 # Skip no sparse files?

also, it runs when I move the compiled dist to /tmp.  So yep, sounds 
reasonable to swipe that sparse-checking code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;31&nbsp;19:58:05&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 May 2011 19:57:35 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; &#34;RBvR&#34; == Robert Buels via RT &lt;bug-File-ReadBackwards@rt.cpan.org&gt; writes:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt;        Queue: File-ReadBackwards
  RBvR&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=68579">http://rt.cpan.org/Ticket/Display.html?id=68579</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; On 05/31/2011 02:47 PM, Uri Guttman via RT wrote:
</div><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;&gt; mounted. it is the usual untar, perl Makefile.PL and make install. note
  &gt;&gt; that it isn&#39;t a seek for more then it has but more likely the fs doesn&#39;t
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; Yep, running it on the regular ext4 FS works OK, even with only 200MB free.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;&gt; support sparse files. try running that core test &#40;t/ops/lfs.t&#41; by hand
  &gt;&gt; on that fs and see what it does. since you are using a packaged perl it
  &gt;&gt; never ran the core tests. if there is nothing you can do, i will steal
  &gt;&gt; the better sparse checking code and patch my test with it. then it
  &gt;&gt; should skip the test on your fs.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; Yep, the t/op/lfs.t in the perl 5.14.0 release skips on the ecryptfs volume:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; rob@nightshade perl-5.14.0$ ./perl t/op/lfs.t
  RBvR&gt; # checking whether we have sparse files...
  RBvR&gt; # s1 = 20 3052238 33188 1 1000 1000 0 1000003 1306881462 1306881462 
  RBvR&gt; 1306881462 4096 1976
  RBvR&gt; # s2 = 20 3052324 33188 1 1000 1000 0 2000003 1306881462 1306881462 
  RBvR&gt; 1306881462 4096 3928
  RBvR&gt; 1..0 # Skip no sparse files?
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; also, it runs when I move the compiled dist to /tmp.  So yep, sounds 
  RBvR&gt; reasonable to swipe that sparse-checking code.
</div>
ok, that&#39;s the answer. i bet they changed the code from OS checking to
real sparse checking with fs&#39;s came out that didn&#39;t do sparse. so it
isn&#39;t my fault about the module! :&#41;

i don&#39;t when i will get to this and i am busy with other stuff. maybe
later this week is possible. if you want to go ahead and do this it and
send me a rewrite, i would appreciate it and then i can just release the
new version.

thanx,

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;01&nbsp;17:31:07&nbsp;2011</span>
    <span class="description">rmb32 [...] cornell.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 01 Jun 2011 14:30:53 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Robert Buels &lt;rmb32 [...] cornell.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 05/31/2011 04:58 PM, Uri Guttman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; i don&#39;t when i will get to this and i am busy with other stuff. maybe
&gt; later this week is possible. if you want to go ahead and do this it and
&gt; send me a rewrite, i would appreciate it and then i can just release the
&gt; new version.
</div>
Here&#39;s a rewrite, with the sparse-files-detection code lifted from 
t/op/lfs.t.  Look OK?

-----------------------------------

#!/usr/local/bin/perl -ws

use strict ;

use Carp ;
use Config ;
use Fcntl qw&#40; :seek &#41; ;
use File::Temp qw&#40; tempfile &#41;;
use Test::More ;

use File::ReadBackwards ;

# NOTE: much of this code was taken from the core perl test script
# ops/lfs.t. it was modified to test File::ReadBackwards and large files

my $test_file = &#39;bw.data&#39; ;

my @test_lines = &#40;
        &#34;3rd from last line\n&#34;,
        &#34;2nd from last\n&#34;,
        &#34;last line\n&#34;,
&#41; ;

my $test_text = join &#39;&#39;, @test_lines ;


sub skip_all_tests {

        my&#40; $skip_text &#41; = @_ ;

#       unlink $test_file ;
        plan skip_all =&gt; $skip_text ;
}

if&#40; $Config{lseeksize} &lt; 8 &#41; {
        skip_all_tests&#40; &#34;no 64-bit file offsets\n&#34; &#41; ;
}

unless&#40; $Config{uselargefiles} &#41; {
        skip_all_tests&#40; &#34;no large file support\n&#34; &#41; ;
}

unless &#40; have_sparse_files&#40;&#41; &#41; {
        skip_all_tests&#40; &#34;no sparse file support\n&#34; &#41; ;
}

# run the long seek code below in a subprocess in case it exits with a
# signal

my $rc = system $^X, &#39;-e&#39;, &lt;&lt;&#34;EOF&#34;;
open&#40;BIG, &#34;&gt;$test_file&#34;&#41;;
seek&#40;BIG, 5_000_000_000, 0&#41;;
print BIG &#34;$test_text&#34; ;
exit 0;
EOF

if&#40; $rc &#41; {

        my $error = &#39;signal &#39; . &#40;$rc &#38; 0x7f&#41; ;
        skip_all_tests&#40; &#34;seeking past 2GB failed: $error&#34; &#41; ;
}

open&#40;BIG, &#34;&gt;$test_file&#34;&#41;;

unless&#40; seek&#40;BIG, 5_000_000_000, 0&#41; &#41; {
        skip_all_tests&#40; &#34;seeking past 2GB failed: $!&#34; &#41; ;
}


# Either the print or &#40;more likely, thanks to buffering&#41; the close will
# fail if there are are filesize limitations &#40;process or fs&#41;.

my $print = print BIG $test_text ;
my $close = close BIG;

unless &#40;$print &#38;&#38; $close&#41; {

        print &#34;# print failed: $!\n&#34; unless $print;
        print &#34;# close failed: $!\n&#34; unless $close;

        if&#40; $! =~/too large/i &#41; {
                skip_all_tests&#40; &#39;writing past 2GB failed: process limits?&#39; &#41; ;
        }

        if&#40; $! =~ /quota/i &#41; {
                skip_all_tests&#40; &#39;filesystem quota limits?&#39; &#41; ;
        }

        skip_all_tests&#40; &#34;large file error: $!&#34; &#41; ;
}

plan tests =&gt; 2 ;

my $bw = File::ReadBackwards-&gt;new&#40; $test_file &#41; or
        die &#34;can&#39;t open $test_file: $!&#34; ;

my $line = $bw-&gt;readline&#40;&#41; ;
is&#40; $line, $test_lines[-1], &#39;last line&#39; &#41; ;

$line = $bw-&gt;readline&#40;&#41; ;
is&#40; $line, $test_lines[-2], &#39;next to last line&#39; &#41; ;

unlink $test_file ;

exit ;


######## subroutines

# this is lifted wholesale from t/op/lfs.t in perl.  Also, Uri is the
# wind beneath my wings.
sub have_sparse_files {

     # don&#39;t even try for spare files on some OSs
     return 0 if {
         map { $_ =&gt; 1 } qw&#40; MSWin32 NetWare VMS unicos &#41;
     }-&gt;{ $^O };
     # take that, readability.

     my &#40;undef,$big0&#41; = tempfile&#40;&#41;;
     my &#40;undef,$big1&#41; = tempfile&#40;&#41;;
     my &#40;undef,$big2&#41; = tempfile&#40;&#41;;

     # We&#39;ll start off by creating a one megabyte file which has
     # only three &#34;true&#34; bytes.  If we have sparseness, we should
     # consume less blocks than one megabyte &#40;assuming nobody has
     # one megabyte blocks...&#41;

     open&#40;BIG, &#34;&gt;$big1&#34;&#41; or
         die &#34;open $big1 failed: $!&#34;;
     binmode&#40;BIG&#41; or
         die &#34;binmode $big1 failed: $!&#34;;
     seek&#40;BIG, 1_000_000, SEEK_SET&#41; or
         die &#34;seek $big1 failed: $!&#34;;
     print BIG &#34;big&#34; or
         die &#34;print $big1 failed: $!&#34;;
     close&#40;BIG&#41; or
         die &#34;close $big1 failed: $!&#34;;

     my @s1 = stat&#40;$big1&#41;;

     diag &#34;s1 = @s1&#34;;

     open&#40;BIG, &#34;&gt;$big2&#34;&#41; or
         die &#34;open $big2 failed: $!&#34;;
     binmode&#40;BIG&#41; or
         die &#34;binmode $big2 failed: $!&#34;;
     seek&#40;BIG, 2_000_000, SEEK_SET&#41; or
         die &#34;seek $big2 failed: $!&#34;;
     print BIG &#34;big&#34; or
         die &#34;print $big2 failed: $!&#34;;
     close&#40;BIG&#41; or
         die &#34;close $big2 failed: $!&#34;;

     my @s2 = stat&#40;$big2&#41;;

     diag &#34;s2 = @s2&#34;;

     unless &#40;
         $s1[7] == 1_000_003 &#38;&#38; $s2[7] == 2_000_003 &#38;&#38;
        $s1[11] == $s2[11] &#38;&#38; $s1[12] == $s2[12] &#38;&#38;
         $s1[12] &gt; 0 &#41; {
         diag &#39;no sparse files.  sad face.&#39;;
         return 0;
     }

     diag &#39;we seem to have sparse files...&#39;;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;01&nbsp;21:52:22&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 01 Jun 2011 21:52:10 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
i will check this in the next day or two. did it work on your encrypted
fs?

and am i really the wind beneath your wings? who will ever read that but
me?! :&#41;

thanx,

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;02&nbsp;12:46:06&nbsp;2011</span>
    <span class="description">rmb32 [...] cornell.edu -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 02 Jun 2011 09:45:54 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Robert Buels &lt;rmb32 [...] cornell.edu&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 06/01/2011 06:52 PM, Uri Guttman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; i will check this in the next day or two. did it work on your encrypted
&gt; fs?
</div>
Yep, test skips on my encrypted fs, and runs on my regular fs, as desired.

R
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;02&nbsp;12:51:44&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 02 Jun 2011 12:51:15 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; &#34;RBvR&#34; == Robert Buels via RT &lt;bug-File-ReadBackwards@rt.cpan.org&gt; writes:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt;        Queue: File-ReadBackwards
  RBvR&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=68579">http://rt.cpan.org/Ticket/Display.html?id=68579</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; On 06/01/2011 06:52 PM, Uri Guttman via RT wrote:
</div><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;&gt; i will check this in the next day or two. did it work on your encrypted
  &gt;&gt; fs?
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  RBvR&gt; Yep, test skips on my encrypted fs, and runs on my regular fs,
  RBvR&gt; as desired.
</div>
great. as i said, i am somewhat jammed these days. i will try to get
that in and uploaded to cpan as soon as i can. possibly this weekend as
it looks clearer.

thanx,

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;04&nbsp;02:37:54&nbsp;2011</span>
    <span class="description">uri [...] stemsystems.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> undisclosed-recipients: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68579] horrible non-killable test process when not enough disk space</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 04 Jun 2011 02:37:36 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-File-ReadBackwards [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Uri Guttman&#34; &lt;uri [...] StemSystems.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
hi robert,

i have uploaded the new backwards to 

        <span class="clickylink"><a target="new" rel="nofollow" href="http://sysarch.com/File-ReadBackwards-1.05.tar.gz">http://sysarch.com/File-ReadBackwards-1.05.tar.gz</a></span>

i made one minor change in your test, i have the have_sparse_files sub
return 1 at the end. it was saying it had sparse files but it didn&#39;t run
the planned tests since the boolean test of that call failed. also i
commented out the diag calls.

if this works for you let me know.

thanx for your help here. you are acked in the Changes file.

also i plan to post on blogs.perl.org about this. note that i haven&#39;t
touched this module in 6&#40;!!&#41; years until the sparse file issue came up.

thanx,

uri

-- 
Uri Guttman  ------  uri@stemsystems.com  --------  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.sysarch.com">http://www.sysarch.com</a></span> --
-----  Perl Code Review , Architecture, Development, Training, Support ------
---------  Gourmet Hot Cocoa Mix  ----  <span class="clickylink"><a target="new" rel="nofollow" href="http://bestfriendscocoa.com">http://bestfriendscocoa.com</a></span> ---------
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
