<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #68702 for POE-Component-Client-Ping: Undefined filehandle in select_read&#40;&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #68702 for POE-Component-Client-Ping: Undefined filehandle in select_read&#40;&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=POE-Component-Client-Ping">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=POE-Component-Client-Ping">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=POE-Component-Client-Ping">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=POE-Component-Client-Ping">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/POE-Component-Client-Ping">POE-Component-Client-Ping CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">68702</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=POE-Component-Client-Ping">POE-Component-Client-Ping</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
iulia.bublea [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-26434-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.163    </td>
  </tr>
  <tr id="CF-26435-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




error.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/943402/490508/error.txt">
Wed Jun 08 10:12:51 2011 (2.1k) by iulia.bublea [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=68702">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-943402" href="/Public/Bug/Display.html?id=68702#txn-943402">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;08&nbsp;10:12:51&nbsp;2011</span>
    <span class="description">iulia.bublea [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Undefined filehandle in select_read&#40;&#41;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/943402/490507/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/490507">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

The configuration is: 

Linux satmanage 2.6.18-164.el5 #1 SMP Thu Sep 3 03:28:30 EDT 2009 x86_64 
x86_64 x86_64 GNU/Linux

This is perl, v5.10.0 built for x86_64-linux-thread-multi

I have used the POE::Component::Client::Ping, in the context of having 
several remotes &#40;from 1000 - 300000&#41; with the parallelism varying from 
500 - 2000. At around 10000 remotes with the parallelism of 500 there 
seemed to come up an error: 

Can&#39;t use an undefined value as a symbol reference at 
POE/Resource/FileHandles.pm line 467.

This seemed to be due to the fact that there was no reference to the 
handle. Digging some more, it got me to the point where I noticed that 
in POE/Component/Client/Ping.pm the _check_for_close method was called 
in some cases twice, once within _send_packet method and another time 
immediately after the latter method. 

I guess, closing the socket the first time is going well because the 
reference to the handler exists, but the second time, this gives an 
error as the handler reference does not exist anymore. 

My temporary solution was to comment out the second call of the 
_check_for_close function.


My question is if you consider this to be a bug? And what can I do about 
it?

I have attached a file with the error I managed to output. 


Thanks in advance,

Iulia Bublea
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> error.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/943402/490508/error.txt">Download error.txt</a><br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">sending packet sequence number 8659
stopping raw socket watcher at /opt/Intra/lib/CPAN/lib/perl5//POE/Component/Client/Ping.pm line 501.
closing raw socket at /opt/Intra/lib/CPAN/lib/perl5//POE/Component/Client/Ping.pm line 504.
stopping raw socket watcher at /opt/Intra/lib/CPAN/lib/perl5//POE/Component/Client/Ping.pm line 501.
&lt;us&gt; undefined filehandle in select_read&#40;&#41; at /opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm line 2189
  POE::Kernel::select_read&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;, undef&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Component/Client/Ping.pm line 502
  POE::Component::Client::Ping::_check_for_close&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;, &#39;HASH&#40;0x12990540&#41;&#39;&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Component/Client/Ping.pm line 639
  POE::Component::Client::Ping::poco_ping_default&#40;undef, &#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, &#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;, &#39;HASH&#40;0x12990540&#41;&#39;, &#39;_default&#39;, &#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, undef, &#39;/opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm&#39;, 1892, ...&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Session.pm line 463
  POE::Session::_invoke_state&#40;&#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, &#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, 8658, &#39;ARRAY&#40;0x134062d0&#41;&#39;, &#39;/opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm&#39;, 1892, 8657&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm line 1100
  eval {...} called at /opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm line 1099
  POE::Kernel::_dispatch_event&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;, &#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, &#39;POE::Session=ARRAY&#40;0x12990630&#41;&#39;, 8658, 512, &#39;ARRAY&#40;0x134062d0&#41;&#39;, &#39;/opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm&#39;, 1892, 8657, ...&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Resource/Events.pm line 266
  POE::Kernel::_data_ev_dispatch_due&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Loop/Select.pm line 315
  POE::Kernel::loop_do_timeslice&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Loop/Select.pm line 323
  POE::Kernel::loop_run&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;&#41; called at /opt/Intra/lib/CPAN/lib/perl5//POE/Kernel.pm line 1276
  POE::Kernel::run&#40;&#39;POE::Kernel=ARRAY&#40;0x11e0c7e8&#41;&#39;&#41; called at test_latency_poller_proxy.pl line 110
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-943451" href="/Public/Bug/Display.html?id=68702#txn-943451">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;08&nbsp;12:39:37&nbsp;2011</span>
    <span class="description">iulia.bublea [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> iulia.bublea [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/943451/490533/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/490533">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Commenting the subroutines was not the best solution. The clean solution 
that I found was to test whether the socket handler is defined or not, 
each time before trying to close it. And only if it is defined we should 
attempt to close it.

I provide here the piece of code with my fix:


sub _check_for_close {
  my &#40;$kernel, $heap&#41; = @_;
  if &#40; $heap-&gt;{socket_handle} &#41; {
    unless &#40;scalar&#40;keys %{$heap-&gt;{ping_by_seq}}&#41;&#41; {
      DEBUG_SOCKET and warn &#34;stopping raw socket watcher&#34;;
      $kernel-&gt;select_read&#40; $heap-&gt;{socket_handle} &#41;;
      unless &#40;$heap-&gt;{keep_socket}&#41; {
        DEBUG_SOCKET and warn &#34;closing raw socket&#34;;
        delete $heap-&gt;{socket_handle};
      }
    }
  }
}

In POE/Component/Client/Ping.pm at line 499, the if test was added.

This probably happens that the $heap-&gt;{ping_by_seq} hash is sometimes 
empty the first time when there is an attempt to close the socket and 
sometimes it&#39;s not.


Regards,
Iulia Bublea


On Wed Jun 08 10:12:51 2011, iuliabublea wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; The configuration is: 
&gt; 
&gt; Linux satmanage 2.6.18-164.el5 #1 SMP Thu Sep 3 03:28:30 EDT 2009 
</div>x86_64 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; x86_64 x86_64 GNU/Linux
&gt; 
&gt; This is perl, v5.10.0 built for x86_64-linux-thread-multi
&gt; 
&gt; I have used the POE::Component::Client::Ping, in the context of having 
&gt; several remotes &#40;from 1000 - 300000&#41; with the parallelism varying from 
&gt; 500 - 2000. At around 10000 remotes with the parallelism of 500 there 
&gt; seemed to come up an error: 
&gt; 
&gt; Can&#39;t use an undefined value as a symbol reference at 
&gt; POE/Resource/FileHandles.pm line 467.
&gt; 
&gt; This seemed to be due to the fact that there was no reference to the 
&gt; handle. Digging some more, it got me to the point where I noticed that 
&gt; in POE/Component/Client/Ping.pm the _check_for_close method was called 
&gt; in some cases twice, once within _send_packet method and another time 
&gt; immediately after the latter method. 
&gt; 
&gt; I guess, closing the socket the first time is going well because the 
&gt; reference to the handler exists, but the second time, this gives an 
&gt; error as the handler reference does not exist anymore. 
&gt; 
&gt; My temporary solution was to comment out the second call of the 
&gt; _check_for_close function.
&gt; 
&gt; 
&gt; My question is if you consider this to be a bug? And what can I do 
</div>about 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it?
&gt; 
&gt; I have attached a file with the error I managed to output. 
&gt; 
&gt; 
&gt; Thanks in advance,
&gt; 
&gt; Iulia Bublea
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-961844" href="/Public/Bug/Display.html?id=68702#txn-961844">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;30&nbsp;17:39:35&nbsp;2011</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/961844/500507/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/500507">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 475b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello, Iulia.

Has your fix worked well for you?  I&#39;d just like to know before applying
the change to the next release.

On Wed Jun 08 12:39:37 2011, iuliabublea wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Commenting the subroutines was not the best solution. The clean solution 
&gt; that I found was to test whether the socket handler is defined or not, 
&gt; each time before trying to close it. And only if it is defined we should 
&gt; attempt to close it.
&gt; 
&gt; I provide here the piece of code with my fix:
</div>[....]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-961847" href="/Public/Bug/Display.html?id=68702#txn-961847">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jul&nbsp;30&nbsp;17:39:37&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-961978" href="/Public/Bug/Display.html?id=68702#txn-961978">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;31&nbsp;08:24:53&nbsp;2011</span>
    <span class="description">iulia.bublea [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68702] Undefined filehandle in select_read&#40;&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 31 Jul 2011 05:24:41 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE-Component-Client-Ping [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Iulia Bublea &lt;iulia.bublea [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/961978/500564/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/500564">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 732b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Yes it worked great, solved all my problems.

Regards,
Iulia

On Sat, Jul 30, 2011 at 2:39 PM, Rocco Caputo via RT &lt;
bug-POE-Component-Client-Ping@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68702">https://rt.cpan.org/Ticket/Display.html?id=68702</a></span> &gt;
&gt;
&gt; Hello, Iulia.
&gt;
&gt; Has your fix worked well for you?  I&#39;d just like to know before applying
&gt; the change to the next release.
&gt;
&gt; On Wed Jun 08 12:39:37 2011, iuliabublea wrote:
<div class="message-stanza open">&gt; &gt; Commenting the subroutines was not the best solution. The clean solution
&gt; &gt; that I found was to test whether the socket handler is defined or not,
&gt; &gt; each time before trying to close it. And only if it is defined we should
&gt; &gt; attempt to close it.
&gt; &gt;
&gt; &gt; I provide here the piece of code with my fix:
</div>&gt; [....]
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/961978/500565/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/500565">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1018798" href="/Public/Bug/Display.html?id=68702#txn-1018798">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;05&nbsp;01:50:52&nbsp;2012</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1018798/531269/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/531269">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 127b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for reporting and testing this.  I am committing your fix as
part of change 27c7a7d.  It will be in the next release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1018801" href="/Public/Bug/Display.html?id=68702#txn-1018801">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;05&nbsp;01:50:54&nbsp;2012</span>
    <span class="description">RCAPUTO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.376354</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
