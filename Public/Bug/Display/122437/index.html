<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #122437 for HTTP-XSCookies: HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #122437 for HTTP-XSCookies: HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=HTTP-XSCookies">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=HTTP-XSCookies">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=HTTP-XSCookies">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=HTTP-XSCookies">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/HTTP-XSCookies">HTTP-XSCookies CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">122437</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=HTTP-XSCookies">HTTP-XSCookies</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nanis [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-262934-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-262935-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=122437">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738309" href="/Public/Bug/Display.html?id=122437#txn-1738309">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;11&nbsp;10:22:40&nbsp;2017</span>
    <span class="description">nanis [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 11 Jul 2017 10:22:25 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;A. Sinan Unur&#34; &lt;nanis [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738309/934862/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/934862">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 918b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is due to:

1. Use of strcasecmp in baker.xs. [_stricmp][1] might help. Also,
`strings.h` does not exist on Windows.

2. Inclusion of `unistd.h` in `gmem.c`. Interestingly, with that line
commented out, the file still compiles OK. I am not sure why it is
needed.

3. Use of `gmtime_r`. I believe Windows&#39; [_gmtime64][2] provides
equivalent functionality &#40;but with a different interface&#41;.

I am reporting this because, currently, failing to build
`HTTP::XSCookies` breaks the Dancer build on this system as well[3].

I am not sure if I will have the time to put together a patch, but, at
the very least bailing out of the installation on unsupported
platforms might be something to add to your module&#39;s Makefile.PL.

Thank you.

-- Sinan

[1]: <span class="clickylink"><a target="new" rel="nofollow" href="https://msdn.microsoft.com/en-us/library/k59z8dwe.aspx">https://msdn.microsoft.com/en-us/library/k59z8dwe.aspx</a></span>
[2]: <span class="clickylink"><a target="new" rel="nofollow" href="https://msdn.microsoft.com/en-us/library/0z9czt0w.aspx">https://msdn.microsoft.com/en-us/library/0z9czt0w.aspx</a></span>
[3]: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/PerlDancer/Dancer2/issues/1358">https://github.com/PerlDancer/Dancer2/issues/1358</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738502" href="/Public/Bug/Display.html?id=122437#txn-1738502">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;12&nbsp;02:59:40&nbsp;2017</span>
    <span class="description">gonzalo.diethelm [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Jul 2017 08:59:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Gonzalo Diethelm &lt;gonzalo.diethelm [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738502/934977/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/934977">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have uploaded HTTP-XSCookies-0.000008.tar.gz to CPAN with &#40;I hope&#41; fixes
for all these issues when compiling on Windows.

I don&#39;t have a Windows environment to try my changes, so please let me know
if you find anything else. And thanks for the bug report!

Cheers,
Gonzo


On Tue, Jul 11, 2017 at 4:22 PM, nanis@cpan.org via RT &lt;
bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Jul 11 10:22:40 2017: Request 122437 was acted upon.
&gt; Transaction: Ticket created by nanis@cpan.org
&gt;        Queue: HTTP-XSCookies
&gt;      Subject: HTTP::XSCookies 0.000007 fails to build on Windows with
&gt; Visual Studio built perl
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: nanis@cpan.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt;
&gt;
&gt; This is due to:
&gt;
&gt; 1. Use of strcasecmp in baker.xs. [_stricmp][1] might help. Also,
&gt; `strings.h` does not exist on Windows.
&gt;
&gt; 2. Inclusion of `unistd.h` in `gmem.c`. Interestingly, with that line
&gt; commented out, the file still compiles OK. I am not sure why it is
&gt; needed.
&gt;
&gt; 3. Use of `gmtime_r`. I believe Windows&#39; [_gmtime64][2] provides
&gt; equivalent functionality &#40;but with a different interface&#41;.
&gt;
&gt; I am reporting this because, currently, failing to build
&gt; `HTTP::XSCookies` breaks the Dancer build on this system as well[3].
&gt;
&gt; I am not sure if I will have the time to put together a patch, but, at
&gt; the very least bailing out of the installation on unsupported
&gt; platforms might be something to add to your module&#39;s Makefile.PL.
&gt;
&gt; Thank you.
&gt;
&gt; -- Sinan
&gt;
&gt; [1]: <span class="clickylink"><a target="new" rel="nofollow" href="https://msdn.microsoft.com/en-us/library/k59z8dwe.aspx">https://msdn.microsoft.com/en-us/library/k59z8dwe.aspx</a></span>
&gt; [2]: <span class="clickylink"><a target="new" rel="nofollow" href="https://msdn.microsoft.com/en-us/library/0z9czt0w.aspx">https://msdn.microsoft.com/en-us/library/0z9czt0w.aspx</a></span>
&gt; [3]: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/PerlDancer/Dancer2/issues/1358">https://github.com/PerlDancer/Dancer2/issues/1358</a></span>
&gt;
</div>


-- 
Gonzalo Diethelm
gonzalo.diethelm@gmail.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738502/934978/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/934978">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738503" href="/Public/Bug/Display.html?id=122437#txn-1738503">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;12&nbsp;02:59:40&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738548" href="/Public/Bug/Display.html?id=122437#txn-1738548">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;12&nbsp;07:09:16&nbsp;2017</span>
    <span class="description">nanis [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Jul 2017 07:09:01 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;A. Sinan Unur&#34; &lt;nanis [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738548/934995/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/934995">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jul 12, 2017 at 2:59 AM, Gonzalo Diethelm via RT
&lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt;
&gt; I have uploaded HTTP-XSCookies-0.000008.tar.gz to CPAN with &#40;I hope&#41; fixes
&gt; for all these issues when compiling on Windows.
</div>
Unfortunately, I get:

t\10_bake_crush.t .......... 1/? Free to wrong pool 152b7f9dc30 not
90000e528263e02a at t\10_bake_crush.t line 98.
t\10_bake_crush.t .......... Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
All 29 subtests passed
t\20_cookie_baker_bake.t ... ok
t\20_cookie_baker_crush.t .. 1/? Free to wrong pool 1a37e17df10 not
100090cac79f7771 at t\20_cookie_baker_crush.t line 37.
t\20_cookie_baker_crush.t .. Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
All 10 subtests passed
t\30_cookie_baker_xs.t ..... 1/? Free to wrong pool 13ca71a3cf0 not
1000238fdfb1a6c7 at t\30_cookie_baker_xs.t line 37.
t\30_cookie_baker_xs.t ..... Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
All 10 subtests passed
t\80_memory_leak.t ......... skipped: Test::MemoryGrowth is needed for this test

I am afraid I am going to have to spend some &#34;quality&#34; time with the
debugger to see what&#39;s going on, but I am not sure when I am going to
be able to do that. Of course, these problems may be due to something
that is wrong with my perl build as well.

If it is any consolation, all the tests pass, but the &#34;free to wrong
pool&#34; messes things up.

Thank you.

-- Sinan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738598" href="/Public/Bug/Display.html?id=122437#txn-1738598">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;12&nbsp;11:07:08&nbsp;2017</span>
    <span class="description">gonzalo.diethelm [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Jul 2017 17:06:47 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Gonzalo Diethelm &lt;gonzalo.diethelm [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738598/935020/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935020">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">From what little I remember, these errors happen when using malloc /
realloc / free on Windows, instead of Perl&#39;s &#34;native&#34; memory allocation /
deallocation functions. Sob. I had forgotten how much I hate developing in
Windows.

I will try to find out how this is supposed to be handled.

Cheers,
Gonzo


On Wed, Jul 12, 2017 at 1:09 PM, nanis@cpan.org via RT &lt;
bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: HTTP-XSCookies
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt;
&gt; On Wed, Jul 12, 2017 at 2:59 AM, Gonzalo Diethelm via RT
&gt; &lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt; &gt;
&gt; &gt; I have uploaded HTTP-XSCookies-0.000008.tar.gz to CPAN with &#40;I hope&#41;
</div>&gt; fixes
<div class="message-stanza open">&gt; &gt; for all these issues when compiling on Windows.
</div>&gt;
&gt; Unfortunately, I get:
&gt;
&gt; t\10_bake_crush.t .......... 1/? Free to wrong pool 152b7f9dc30 not
&gt; 90000e528263e02a at t\10_bake_crush.t line 98.
&gt; t\10_bake_crush.t .......... Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
&gt; All 29 subtests passed
&gt; t\20_cookie_baker_bake.t ... ok
&gt; t\20_cookie_baker_crush.t .. 1/? Free to wrong pool 1a37e17df10 not
&gt; 100090cac79f7771 at t\20_cookie_baker_crush.t line 37.
&gt; t\20_cookie_baker_crush.t .. Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
&gt; All 10 subtests passed
&gt; t\30_cookie_baker_xs.t ..... 1/? Free to wrong pool 13ca71a3cf0 not
&gt; 1000238fdfb1a6c7 at t\30_cookie_baker_xs.t line 37.
&gt; t\30_cookie_baker_xs.t ..... Dubious, test returned 5 &#40;wstat 1280, 0x500&#41;
&gt; All 10 subtests passed
&gt; t\80_memory_leak.t ......... skipped: Test::MemoryGrowth is needed for
&gt; this test
&gt;
&gt; I am afraid I am going to have to spend some &#34;quality&#34; time with the
&gt; debugger to see what&#39;s going on, but I am not sure when I am going to
&gt; be able to do that. Of course, these problems may be due to something
&gt; that is wrong with my perl build as well.
&gt;
&gt; If it is any consolation, all the tests pass, but the &#34;free to wrong
&gt; pool&#34; messes things up.
&gt;
&gt; Thank you.
&gt;
&gt; -- Sinan
&gt;
</div>


-- 
Gonzalo Diethelm
gonzalo.diethelm@gmail.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738598/935021/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935021">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738601" href="/Public/Bug/Display.html?id=122437#txn-1738601">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;12&nbsp;11:15:55&nbsp;2017</span>
    <span class="description">nanis [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Jul 2017 11:15:41 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;A. Sinan Unur&#34; &lt;nanis [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738601/935024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 257b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Jul 12, 2017 at 11:07 AM, Gonzalo Diethelm via RT
&lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt; I will try to find out how this is supposed to be handled.
</div>
Thank you for all your work on this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738794" href="/Public/Bug/Display.html?id=122437#txn-1738794">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;13&nbsp;02:53:34&nbsp;2017</span>
    <span class="description">gonzalo.diethelm [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Jul 2017 08:53:25 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Gonzalo Diethelm &lt;gonzalo.diethelm [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738794/935105/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935105">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey, no worries. I avoided returning to the crazy world of Win32
development for as long as I could, but now that other stuff depends on
this, I need to do the right thing. Someone here had been nagging me about
this for a long time anyway...

I just uploaded HTTP-XSCookies-0.000009.tar.gz to CPAN, where I replaced
all the memory management with Perl&#39;s macros &#40;Newx, Safefree and friends&#41;.
All tests still pass on my laptop; I am now curious to see if this fixes
the Win32 problems.

You can also grab the latest from <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/gonzus/http-xscookies">https://github.com/gonzus/http-xscookies</a></span>

Please let me know how it goes! Cheers,
Gonzo


On Wed, Jul 12, 2017 at 5:15 PM, nanis@cpan.org via RT &lt;
bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: HTTP-XSCookies
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt;
&gt; On Wed, Jul 12, 2017 at 11:07 AM, Gonzalo Diethelm via RT
&gt; &lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt; &gt; I will try to find out how this is supposed to be handled.
</div>&gt;
&gt; Thank you for all your work on this.
&gt;
</div>


-- 
Gonzalo Diethelm
gonzalo.diethelm@gmail.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738794/935106/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935106">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738798" href="/Public/Bug/Display.html?id=122437#txn-1738798">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;13&nbsp;06:27:03&nbsp;2017</span>
    <span class="description">nanis [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Jul 2017 06:26:46 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;A. Sinan Unur&#34; &lt;nanis [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738798/935109/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935109">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 905b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Jul 13, 2017 at 2:53 AM, Gonzalo Diethelm via RT
&lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just uploaded HTTP-XSCookies-0.000009.tar.gz to CPAN, where I replaced
&gt; all the memory management with Perl&#39;s macros &#40;Newx, Safefree and friends&#41;.
&gt; All tests still pass on my laptop; I am now curious to see if this fixes
&gt; the Win32 problems.
</div>
Yup, that did the trick:

C:\&gt; cpanm <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz</a></span>
--&gt; Working on <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz</a></span>
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-XSCookies-0.000009.tar.gz</a></span>
... OK
Configuring HTTP-XSCookies-0.000009 ... OK
Building and testing HTTP-XSCookies-0.000009 ... OK
Successfully installed HTTP-XSCookies-0.000009
1 distribution installed

Thank you.

-- Sinan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1738800" href="/Public/Bug/Display.html?id=122437#txn-1738800">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;13&nbsp;06:49:08&nbsp;2017</span>
    <span class="description">gonzalo.diethelm [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #122437] HTTP::XSCookies 0.000007 fails to build on Windows with Visual Studio built perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Jul 2017 12:48:56 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-HTTP-XSCookies [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Gonzalo Diethelm &lt;gonzalo.diethelm [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738800/935112/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935112">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oh, awesome. Thanks for confirming. It&#39;s a keeper, then!

Cheers,
Gonzo


On Thu, Jul 13, 2017 at 12:27 PM, nanis@cpan.org via RT &lt;
bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: HTTP-XSCookies
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
&gt;
&gt; On Thu, Jul 13, 2017 at 2:53 AM, Gonzalo Diethelm via RT
&gt; &lt;bug-HTTP-XSCookies@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=122437">https://rt.cpan.org/Ticket/Display.html?id=122437</a></span> &gt;
</div>&gt;
<div class="message-stanza open">&gt; &gt; I just uploaded HTTP-XSCookies-0.000009.tar.gz to CPAN, where I replaced
&gt; &gt; all the memory management with Perl&#39;s macros &#40;Newx, Safefree and
</div>&gt; friends&#41;.
<div class="message-stanza open">&gt; &gt; All tests still pass on my laptop; I am now curious to see if this fixes
&gt; &gt; the Win32 problems.
</div>&gt;
&gt; Yup, that did the trick:
&gt;
&gt; C:\&gt; cpanm <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-</a></span>
&gt; XSCookies-0.000009.tar.gz
&gt; --&gt; Working on <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-</a></span>
&gt; XSCookies-0.000009.tar.gz
&gt; Fetching <span class="clickylink"><a target="new" rel="nofollow" href="https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-">https://cpan.metacpan.org/authors/id/G/GO/GONZUS/HTTP-</a></span>
&gt; XSCookies-0.000009.tar.gz
&gt; ... OK
&gt; Configuring HTTP-XSCookies-0.000009 ... OK
&gt; Building and testing HTTP-XSCookies-0.000009 ... OK
&gt; Successfully installed HTTP-XSCookies-0.000009
&gt; 1 distribution installed
&gt;
&gt; Thank you.
&gt;
&gt; -- Sinan
&gt;
</div>


-- 
Gonzalo Diethelm
gonzalo.diethelm@gmail.com
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1738800/935113/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/935113">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.6k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.594036</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
