<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57075 for IO-Lambda: unexpected behaviour</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57075 for IO-Lambda: unexpected behaviour</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IO-Lambda">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IO-Lambda">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IO-Lambda">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IO-Lambda">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-Lambda">IO-Lambda CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57075</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IO-Lambda">IO-Lambda</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KES [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-219628-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.15    </td>
  </tr>
  <tr id="CF-219629-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/770371/398638/test.pl">
Fri Apr 30 02:57:47 2010 (764b) by KES [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=57075">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-770371" href="/Public/Bug/Display.html?id=57075#txn-770371">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;30&nbsp;02:57:47&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> unexpected behaviour</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/770371/398637/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/398637">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 116b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Why obj lambda is runned, it is not expected.
Also notice - it is runned but is not finished completely.
Two bugs =&#40;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/770371/398638/test.pl">Download test.pl</a><br />
<span class="downloadcontenttype">text/x-perl 764b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl

   use IO::Lambda qw&#40;:constants&#41;;

   my $obj = IO::Lambda-&gt; new;

   # Either 3 or time + 3 will do. See &#34;Time&#34; section for more info
   $obj-&gt; watch_timer&#40; 3, sub { print &#34;I&#39;ve slept 3 seconds!\n&#34; }&#41;;

   $obj-&gt; watch_io&#40; IO_READ, \*STDIN, 15, sub {
        my &#40; $self, $ok&#41; = @_;
        print $ok ?
            &#34;stdin is readable!\n&#34; :
            &#34;stdin is not readable within 5 seconds\n&#34;;
   }&#41;;



   my $a = IO::Lambda-&gt; new;
   $a-&gt; watch_timer&#40; 3, sub { print &#34;3 seconds!\n&#34; }&#41;;

   my $b = IO::Lambda-&gt; new;
   # A lambda can wait for more than one event or lambda.
   # A lambda can be awaited by more than one lambda.
   $b-&gt; watch_lambda&#40; $a, sub { print &#34;lambda #1 is finished!\n&#34;}&#41;;

#IO::Lambda::run;
#IO::Lambda::run;
$b-&gt;wait;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-770385" href="/Public/Bug/Display.html?id=57075#txn-770385">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;30&nbsp;06:47:42&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/770385/398648/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/398648">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 564b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Why obj lambda runs, it is not expected.
</div>
wait&#40;&#41; doesn&#39;t prevent other lambdas from running, it&#39;s only synchronous
with regard to the caller lambda

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also notice - it runs but is not finished completely.
</div>
Also correct, it&#39;s not forbidden to abort a program while some lambdas
are still running. Either use $obj-&gt;wait to wait for that particular
lambda, or IO::Lambda::run&#40;&#41; that stops only when there are no more lambdas.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Two bugs =&#40;
</div>
The test script works as it should, so no bugs confirmed. You&#39;re welcome
to close the ticket if there&#39;s no more about it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-770387" href="/Public/Bug/Display.html?id=57075#txn-770387">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;30&nbsp;06:47:43&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-770876" href="/Public/Bug/Display.html?id=57075#txn-770876">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;01&nbsp;12:03:24&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/770876/398931/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/398931">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 240b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">ok. How to create lambda and do not run it at this moment while other
lambdas are normally running?

if this is not possible at current design then that is design bug

Also I have many notices at doc. Write to ICQ#235367958 after 04.05.2010
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771037" href="/Public/Bug/Display.html?id=57075#txn-771037">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;01&nbsp;17:07:18&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771037/399046/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399046">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 270b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Суб Май 01 12:03:24 2010, KES писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok. How to create lambda and do not run it at this moment while other
&gt; lambdas are normally running?
</div>
It is not possible to pause a lambda once it has started.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also I have many notices at doc. 
</div>
patches are welcome
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771275" href="/Public/Bug/Display.html?id=57075#txn-771275">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;02&nbsp;09:37:26&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771275/399212/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399212">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 536b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Суб Май 01 17:07:18 2010, KARASIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Суб Май 01 12:03:24 2010, KES писал:
<div class="message-stanza open">&gt; &gt; ok. How to create lambda and do not run it at this moment while other
&gt; &gt; lambdas are normally running?
</div>&gt; 
&gt; It is not possible to pause a lambda once it has started.
</div>
I do not start obj lambda at all.

Ok. See this test case:
Some module uses your IO::Lambda: it craete lambda, run, wait and etc.
I &#39;use that::module;&#39; and wanna create my own lambda but got
unexpectedly it is runned becase of &#39;that::module&#39; ran its own lambda.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771295" href="/Public/Bug/Display.html?id=57075#txn-771295">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;02&nbsp;11:05:49&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771295/399226/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399226">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; It is not possible to pause a lambda once it has started.
</div>&gt; I do not start obj lambda at all.
</div>
Well, you do actually. Registering a callback and registering a timeout
is an atomic operation.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ok. See this test case:
&gt; Some module uses your IO::Lambda: it craete lambda, run, wait and etc.
&gt; I &#39;use that::module;&#39; and wanna create my own lambda but got
&gt; unexpectedly it is runned becase of &#39;that::module&#39; ran its own lambda.
</div>
I don&#39;t think there would be any problem, because the optimal way to use
lambda is asynchronous, and neither module A nor B would call blocking
wait&#40;&#41;, that&#39;s for the main program to do. Much like creating two
windows in a GUI program: no matter what module creates a window, they
run together in parallel.

I agree though that IO::Lambda lacks finer control of event dispatch,
also including event filtering. OTOH, consider the following code:

$a-&gt; wait_timer&#40;3, ..&#41;;
$b-&gt; wait_timer&#40;6, ..&#41;;
$b-&gt; wait;

Here, programmer expects that $a&#39;s callback will be fired off in 3
seconds, however, if lambdas would run as you suggest, it would take 9
seconds, which I think is not good for the default behavior.

If you really need to postpone a lambda until some external condition is
triggered, I&#39;d recommend to change the concept, like the following:

  $b-&gt; watch_timer&#40;...&#41;
  $b-&gt; wait;
  $obj-&gt; watch_io&#40;...&#41;
  $obj-&gt; wait

Note though that blocking waiters are not that interesting to use, much
like it is not so interesting to write GUI programs in blocking style.
Ideally, your program would look like this:

  $a-&gt; watch...;
  $b-&gt; watch...;
  $obj-&gt; watch...;
  IO::Lambda::run;

So the cooperation runs to the fullest.

Also you might find it useful to look at IO::Lambda::Mutex that can
stop/start the flow until some external event is triggered.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771297" href="/Public/Bug/Display.html?id=57075#txn-771297">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;02&nbsp;11:07:52&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771297/399228/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399228">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 75b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">you&#39;re also welcome to contact me off-list as McFist on #efnet and #rusnet 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771611" href="/Public/Bug/Display.html?id=57075#txn-771611">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:22:00&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771611/399405/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399405">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 836b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Вск Май 02 11:07:52 2010, KARASIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; you&#39;re also welcome to contact me off-list as McFist on #efnet and
</div>#rusnet 

what is this? =&#41;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; $a-&gt; wait_timer&#40;3, ..&#41;;
&gt; $b-&gt; wait_timer&#40;6, ..&#41;;
&gt; $b-&gt; wait;
&gt; 
&gt; Here, programmer expects that $a&#39;s callback will be fired off in 3
&gt; seconds, however, if lambdas would run as you suggest, it would take 9
&gt; seconds, which I think is not good for the default behavior.
</div>
Here, programmer expects that $a&#39;s callback will NOT be fired at all!

You must not use this: IO::Lambda::run; this is EVIL
as like Application-&gt;form-&gt;show&#40;&#41; show only one form and does not show
all Applications forms ;-&#41;

as though,  you can do this:  IO::Lambda::runall


So also. 
Application-&gt;TFormA-&gt;Create;
Application-&gt;TFormB-&gt;Create;
Application-&gt;TFormB-&gt;Show;
will not show TFormA, TFormC, .... TFormY
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771615" href="/Public/Bug/Display.html?id=57075#txn-771615">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:30:00&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771615/399409/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399409">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 135b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The behavior is correct and expected, the bug is not confirmed. Further
discussion is welcome but off rt.cpan.org, please don&#39;t reopen.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771617" href="/Public/Bug/Display.html?id=57075#txn-771617">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:30:11&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771623" href="/Public/Bug/Display.html?id=57075#txn-771623">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:54:05&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771623/399415/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399415">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 256b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Пнд Май 03 05:30:00 2010, KARASIK писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The behavior is correct and expected, the bug is not confirmed. Further
&gt; discussion is welcome but off rt.cpan.org, please don&#39;t reopen.
</div>
can you give me address where that that irc channel is located?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771625" href="/Public/Bug/Display.html?id=57075#txn-771625">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:54:07&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771626" href="/Public/Bug/Display.html?id=57075#txn-771626">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:54:54&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771626/399417/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399417">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 316b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Пнд Май 03 05:54:05 2010, KES писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Пнд Май 03 05:30:00 2010, KARASIK писал:
<div class="message-stanza open">&gt; &gt; The behavior is correct and expected, the bug is not confirmed. Further
&gt; &gt; discussion is welcome but off rt.cpan.org, please don&#39;t reopen.
</div>&gt; 
&gt; can you give me address where that that irc channel is located?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771628" href="/Public/Bug/Display.html?id=57075#txn-771628">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;05:54:56&nbsp;2010</span>
    <span class="description">KES [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771649" href="/Public/Bug/Display.html?id=57075#txn-771649">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;06:44:22&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/771649/399433/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/399433">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 26b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="http://tinyurl.com/yzuub55">http://tinyurl.com/yzuub55</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771651" href="/Public/Bug/Display.html?id=57075#txn-771651">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;06:44:22&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-771652" href="/Public/Bug/Display.html?id=57075#txn-771652">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;May&nbsp;03&nbsp;06:44:58&nbsp;2010</span>
    <span class="description">KARASIK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.650036</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
