<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #70844 for Class-Data-Inheritable: CPAN documentation does not clearly specify inheritance</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #70844 for Class-Data-Inheritable: CPAN documentation does not clearly specify inheritance</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Class-Data-Inheritable">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Class-Data-Inheritable">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Class-Data-Inheritable">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Class-Data-Inheritable">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Class-Data-Inheritable">Class-Data-Inheritable CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">70844</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Class-Data-Inheritable">Class-Data-Inheritable</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
AlanHamilton [...] pobox.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-6672-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-6673-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=70844">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-975790" href="/Public/Bug/Display.html?id=70844#txn-975790">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;09&nbsp;08:48:52&nbsp;2011</span>
    <span class="description">AlanHamilton [...] pobox.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CPAN documentation does not clearly specify inheritance</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 9 Sep 2011 08:48:38 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Class-Data-Inheritable [...] rt.cpan.org&#34; &lt;bug-Class-Data-Inheritable [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Alan Hamilton &lt;alanhamilton [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/975790/507861/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/507861">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The Class::Data perldoc seems to leave out a lot of details.
Please consider the following elaboration for your consideration.

--Alan



__END__

=head1 NAME

Class::Data::Inheritable - Inheritable, overridable class data

=head1 SYNOPSIS

  package Stuff;
  use base qw&#40;Class::Data::Inheritable&#41;;

  # Set up DataFile as inheritable class data.
  Stuff-&gt;mk_classdata&#40;&#39;DataFile&#39;&#41;;

  # Declare the location of the data file for this class.
  Stuff-&gt;DataFile&#40;&#39;/etc/stuff/data&#39;&#41;;

  # Or, all in one shot:
  Stuff-&gt;mk_classdata&#40;DataFile =&gt; &#39;/etc/stuff/data&#39;&#41;;

=head1 DESCRIPTION

Class::Data::Inheritable is for creating accessor/mutators to inherited
class data.  That is, if you want to store something about your class as
a whole &#40;instead of about a single object&#41;.  That class&#39;s data are then
inherited by its subclasses and can be individually overridden by any
subclass, just like inherited methods.

For example, if you want to keep count of how many objects are created in
Pere::Ubu:

  Pere::Ubu-&gt;mk_classdata&#40;&#39;Object_count&#39;&#41;;

You can define other class variables as well:

  Pere::Ubu-&gt;mk_classdata&#40;&#39;Trunk&#39;&#41;;
  Pere::Ubu-&gt;mk_classdata&#40;&#39;Suitcase&#39;&#41;;

Each of these will generate a get/set method in the class Pere::Ubu.
Object_count&#40;&#41;, Trunk&#40;&#41; and Suitcase&#40;&#41;.

Each of the new methods can be used to get and set a piece of class data.

  Pere::Ubu-&gt;Object_count&#40;0&#41;;
  $object_count = Pere::Ubu-&gt;Object_count;

  Pere::Ubu-&gt;Trunk&#40;&#39;Black&#39;&#41;;
  $trunk = Pere::Ubu-&gt;Trunk;

  Pere::Ubu-&gt;Suitcase&#40;&#39;Red&#39;&#41;;
  $suitcase = Pere::Ubu-&gt;Suitcase;

Inheritance of class data works analogous to method inheritance. It gets
interesting when a class inherits from Pere::Ubu:

  package Raygun;
  use base qw&#40;Pere::Ubu&#41;;

  # Raygun wants to keep its own count of Raygun objects,
  # so it overrides Object_count:
  Raygun-&gt;Object_count&#40;0&#41;;

As long as Raygun does not &#34;override&#34; its inherited class data &#40;by using
Suitcase&#40;&#41; to set a new value&#41; it will continue to use whatever is set
in Pere::Ubu and inherit further changes:

  Pere::Ubu-&gt;Suitcase&#40;&#39;Blue&#39;&#41;;
  # Both Raygun&#39;s and Pere::Ubu&#39;s suitcases are now Blue

However, should Raygun decide to set its own Suitcase&#40;&#41; it has now
&#34;overridden&#34; Pere::Ubu&#39;s Suitcase. From here on, Raygun&#39;s Suitcase is
separate from Pere::Ubu&#39;s Suitcase, just like if it had overriden a method:

  Raygun-&gt;Suitcase&#40;&#39;Orange&#39;&#41;;
  # Raygun now has an orange suitcase, and Pere::Ubu&#39;s is still Blue.

Now that Raygun has overridden Pere::Ubu::Suitcase&#40;&#41; futher changes by
Pere::Ubu::Suitcase&#40;&#41; no longer effect Raygun.

  Pere::Ubu-&gt;Suitcase&#40;&#39;Samsonite&#39;&#41;;
  # Raygun still has an orange suitcase, but Pere::Ubu is using Samsonite.

  # But Raygun still uses Pere::Ubu-&gt;Trunk
  $trunk = Raygun::Trunk&#40;&#41;;

Subclasses of Raygun inherit class data from Raygun and any class data from
Pere::Ubu that has not been overridden by Raygun.

  package Laser_pistol;
  use base qw&#40;Raygun&#41;;

  # Laser_pistol also wants to count its objects
  Laser_pistol-&gt;Object_count&#40;0&#41;;

Unless class Laser_pistol overrides them, it inherits Suitcase&#40;&#41; from Raygun
and Trunk&#40;&#41; from Pere::Ubu. Changes made by Raygun-&gt;Suitcase&#40;&#41; will change
the value of Suitcase for classes Raygun and Laser_pistol. Changes made by
Pere::Ubu-&gt;Trunk&#40;&#41; will change the value of Trunk for Pere::Ubu, Raygun and
Laser_pistol. Changes made by Raygun-&gt;Suitcase&#40;&#41; will change the value of
Suitcase for Raygun and Laser_pistol. Changes made by Pere::Ubu-&gt;Suitcase&#40;&#41;
will change the value of Suitcase for Pere::Ubu only.

Note that if Laser_pistol did not override Object_count it would continue to
see the Object_count of Raygun.


=head1 Methods

=head2 mk_classdata

  Class-&gt;mk_classdata&#40;$data_accessor_name&#41;;
  Class-&gt;mk_classdata&#40;$data_accessor_name =&gt; $value&#41;;

This is a class method used to declare new class data get/set accessors.
A new accessor will be created in the Class using the name from
$data_accessor_name, and optionally initially setting it to the given
value.

To facilitate overriding, mk_classdata creates an alias to the
accessor, _field_accessor&#40;&#41;.  So Suitcase&#40;&#41; would have an alias
_Suitcase_accessor&#40;&#41; that does the exact same thing as Suitcase&#40;&#41;.
This is useful if you want to alter the behavior of a single accessor
yet still get the benefits of inheritable class data.  For example.

  sub Suitcase {
      my&#40;$self&#41; = shift;
      warn &#34;Fashion tragedy&#34; if @_ and $_[0] eq &#39;Plaid&#39;;

      $self-&gt;_Suitcase_accessor&#40;@_&#41;;
  }

=head1 AUTHOR

Original code by Damian Conway.

Maintained by Michael G Schwern until September 2005.

Now maintained by Tony Bowden.

=head1 BUGS and QUERIES

Please direct all correspondence regarding this module to:
  bug-Class-Data-Inheritable@rt.cpan.org

=head1 COPYRIGHT and LICENSE

Copyright &#40;c&#41; 2000-2005, Damian Conway and Michael G Schwern.
All Rights Reserved.

This module is free software. It may be used, redistributed and/or
modified under the same terms as Perl itself.

=head1 SEE ALSO

L&lt;perltooc&gt; has a very elaborate discussion of class data in Perl.


-- 
.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/975790/507862/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/507862">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.22426</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
