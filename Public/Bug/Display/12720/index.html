<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #12720 for Net-DNS: Net::DNS::Resolver::Recurse</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #12720 for Net-DNS: Net::DNS::Resolver::Recurse</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-DNS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-DNS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-DNS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-DNS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">12720</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">deleted</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-DNS">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">OLAF [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
lorenzo.luconi [...] iit.cnr.it

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.49    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Recurse loop.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/131106/34687/Recurse%20loop.txt">
Sun May 08 15:14:56 2005 (9.2k) by 
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=12720">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131105" href="/Public/Bug/Display.html?id=12720#txn-131105">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;08&nbsp;09:11:11&nbsp;2005</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::DNS::Resolver::Recurse</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/131105/34679/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/34679">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m developping a dns check module based on Net::DNS.
In these days I&#39;m doing massive tests of my module, checking more than 30.000 domain names, but I found a problem with Net::DNS::Resolver:Recurse. Sometime my &#34;massive check&#34; script dies at line 125 of ..../Net/DNS/Resolver/Recurse.pm.

Looking source code at line 125 I found this:
die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;

This happens when there are to many depth in recursion process. At present  I don&#39;t know if the problem occur for an error on nameserver configuration  or for some bugs somewhere &#40;i tried many times to reproduce this error without, at present, any result&#41;. Anyway I think a &#39;die&#39; instruction here is not the best idea. Probably it would be better to generate some kind of error code and return it to the application or return a false value &#40;_dorecursion function&#41;.

What you think about this?

I started again my test for 20.000 domains and is running now. I have modifed my script for storing debug information generated by Net::DNS. If the problem accour I&#39;ll be able to send to you the debug output.

Thank you.

Ciao,
Lorenzo
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131106" href="/Public/Bug/Display.html?id=12720#txn-131106">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;08&nbsp;15:14:56&nbsp;2005</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> lorenzo.luconi [...] iit.cnr.it</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/131106/34686/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/34686">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

after about 5.000 domains checked i found a recurse query that goes in loop.

Please see the attached debug output for more details.

Ciao,
Lorenzo



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I&#39;m developping a dns check module based on Net::DNS.
&gt; In these days I&#39;m doing massive tests of my module, checking more than
&gt;    30.000 domain names, but I found a problem with
&gt;    Net::DNS::Resolver:Recurse. Sometime my &#34;massive check&#34; script dies
&gt;    at line 125 of ..../Net/DNS/Resolver/Recurse.pm.
&gt; 
&gt; Looking source code at line 125 I found this:
&gt; die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
&gt; 
&gt; This happens when there are to many depth in recursion process. At
&gt;    present  I don&#39;t know if the problem occur for an error on
&gt;    nameserver configuration  or for some bugs somewhere &#40;i tried many
&gt;    times to reproduce this error without, at present, any result&#41;.
&gt;    Anyway I think a &#39;die&#39; instruction here is not the best idea.
&gt;    Probably it would be better to generate some kind of error code and
&gt;    return it to the application or return a false value &#40;_dorecursion
&gt;    function&#41;.
&gt; 
&gt; What you think about this?
&gt; 
&gt; I started again my test for 20.000 domains and is running now. I have
&gt;    modifed my script for storing debug information generated by
&gt;    Net::DNS. If the problem accour I&#39;ll be able to send to you the
&gt;    debug output.
&gt; 
&gt; Thank you.
&gt; 
&gt; Ciao,
&gt; Lorenzo
&gt; 
&gt; 
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/131106/34687/Recurse%20loop.txt">Download Recurse loop.txt</a><br />
<span class="downloadcontenttype">text/plain 9.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[... skip ...]

;; _dorecursion&#40;&#41; depth=[0] known_zone=[.]
;; _dorecursion&#40;&#41; cutting deck of &#40;13&#41; authorities...
;; _dorecursion&#40;&#41; First nameserver [192.228.79.201]
;; send_udp&#40;192.228.79.201:53&#41;
;; answer from 192.228.79.201:53 : 378 bytes
;; HEADER SECTION
;; id = 35295
;; qr = 1    opcode = QUERY    aa = 0    tc = 0    rd = 0
;; ra = 0    ad = 0    cd = 0    rcode  = NOERROR
;; qdcount = 1  ancount = 0  nscount = 8  arcount = 8

;; QUESTION SECTION &#40;1 record&#41;
;; b.ns.californiture.it.   IN  A

;; ANSWER SECTION &#40;0 records&#41;

;; AUTHORITY SECTION &#40;8 records&#41;
it. 172800  IN  NS  NAMESERVER.CNR.it.
it. 172800  IN  NS  DNS.NIC.it.
it. 172800  IN  NS  DNS2.IT.NET.
it. 172800  IN  NS  NS.RIPE.NET.
it. 172800  IN  NS  SERVER2.INFN.it.
it. 172800  IN  NS  DNS2.IUNET.it.
it. 172800  IN  NS  AUTH2.DNS.COGENTCO.COM.
it. 172800  IN  NS  IT2.MIX-IT.NET.

;; ADDITIONAL SECTION &#40;8 records&#41;
NAMESERVER.CNR.it.  172800  IN  A   194.119.192.34
DNS.NIC.it. 172800  IN  A   193.205.245.5
DNS2.IT.NET.    172800  IN  A   151.1.2.1
NS.RIPE.NET.    172800  IN  A   193.0.0.193
SERVER2.INFN.it.    172800  IN  A   131.154.1.3
DNS2.IUNET.it.  172800  IN  A   192.106.1.31
AUTH2.DNS.COGENTCO.COM. 172800  IN  A   66.28.0.30
IT2.MIX-IT.NET. 172800  IN  A   217.29.76.4
;; _dorecursion&#40;&#41; Response received from [192.228.79.201]
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [nameserver.cnr.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [nameserver.cnr.it.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns.nic.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [dns.nic.it.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.it.net.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [dns2.it.net.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [ns.ripe.net.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [ns.ripe.net.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [server2.infn.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [server2.infn.it.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.iunet.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [dns2.iunet.it.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [auth2.dns.cogentco.com.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [auth2.dns.cogentco.com.].
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [it2.mix-it.net.]
;; _dorecursion&#40;&#41; FOUND closer authority for [it.] at [it2.mix-it.net.].
;; _dorecursion&#40;&#41; STORING: nameserver.cnr.it. IN A 194.119.192.34
;; _dorecursion&#40;&#41; STORING: dns.nic.it. IN A 193.205.245.5
;; _dorecursion&#40;&#41; STORING: dns2.it.net. IN A 151.1.2.1
;; _dorecursion&#40;&#41; STORING: ns.ripe.net. IN A 193.0.0.193
;; _dorecursion&#40;&#41; STORING: server2.infn.it. IN A 131.154.1.3
;; _dorecursion&#40;&#41; STORING: dns2.iunet.it. IN A 192.106.1.31
;; _dorecursion&#40;&#41; STORING: auth2.dns.cogentco.com. IN A 66.28.0.30
;; _dorecursion&#40;&#41; STORING: it2.mix-it.net. IN A 217.29.76.4
;; _dorecursion&#40;&#41; depth=[1] known_zone=[it.]
;; _dorecursion&#40;&#41; cutting deck of &#40;8&#41; authorities...
;; _dorecursion&#40;&#41; First nameserver [131.154.1.3]
;; send_udp&#40;131.154.1.3:53&#41;
;; answer from 131.154.1.3:53 : 119 bytes
;; HEADER SECTION
;; id = 35295
;; qr = 1    opcode = QUERY    aa = 0    tc = 0    rd = 0
;; ra = 1    ad = 0    cd = 0    rcode  = NOERROR
;; qdcount = 1  ancount = 0  nscount = 2  arcount = 2

;; QUESTION SECTION &#40;1 record&#41;
;; b.ns.californiture.it.   IN  A

;; ANSWER SECTION &#40;0 records&#41;

;; AUTHORITY SECTION &#40;2 records&#41;
californiture.it.   86400   IN  NS  scirocco.tiscalinet.it.
californiture.it.   86400   IN  NS  b.ns.californiture.it.

;; ADDITIONAL SECTION &#40;2 records&#41;
b.ns.californiture.it.  86400   IN  A   195.130.225.81
scirocco.tiscalinet.it. 9639    IN  A   195.130.225.42
;; _dorecursion&#40;&#41; Response received from [131.154.1.3]
;; _dorecursion&#40;&#41; Received authority [californiture.it.] [NS] [scirocco.tiscalinet.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [californiture.it.] at [scirocco.tiscalinet.it.].
;; _dorecursion&#40;&#41; Received authority [californiture.it.] [NS] [b.ns.californiture.it.]
;; _dorecursion&#40;&#41; FOUND closer authority for [californiture.it.] at [b.ns.californiture.it.].
;; _dorecursion&#40;&#41; STORING: b.ns.californiture.it. IN A 195.130.225.81
;; _dorecursion&#40;&#41; STORING: scirocco.tiscalinet.it. IN A 195.130.225.42
;; _dorecursion&#40;&#41; depth=[2] known_zone=[californiture.it.]
;; _dorecursion&#40;&#41; cutting deck of &#40;2&#41; authorities...
;; _dorecursion&#40;&#41; First nameserver [195.130.225.81]
;; send_udp&#40;195.130.225.81:53&#41;
;; answer from 195.130.225.81:53 : 266 bytes
;; HEADER SECTION
;; id = 35295
;; qr = 1    opcode = QUERY    aa = 0    tc = 0    rd = 0
;; ra = 0    ad = 0    cd = 0    rcode  = NOERROR
;; qdcount = 1  ancount = 0  nscount = 8  arcount = 1

;; QUESTION SECTION &#40;1 record&#41;
;; b.ns.californiture.it.   IN  A

;; ANSWER SECTION &#40;0 records&#41;

;; AUTHORITY SECTION &#40;8 records&#41;
it. 64379   IN  NS  IT2.MIX-IT.NET.
it. 64379   IN  NS  DNS2.IT.NET.
it. 64379   IN  NS  DNS2.IUNET.it.
it. 64379   IN  NS  AUTH2.DNS.COGENTCO.COM.
it. 64379   IN  NS  SERVER2.INFN.it.
it. 64379   IN  NS  NAMESERVER.CNR.it.
it. 64379   IN  NS  NS.RIPE.NET.
it. 64379   IN  NS  DNS.NIC.it.

;; ADDITIONAL SECTION &#40;1 record&#41;
NS.RIPE.NET.    64379   IN  A   193.0.0.193
;; _dorecursion&#40;&#41; Response received from [195.130.225.81]
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [it2.mix-it.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.it.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.iunet.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [auth2.dns.cogentco.com.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [server2.infn.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [nameserver.cnr.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [ns.ripe.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns.nic.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Ignoring useless: NS.RIPE.NET.    64379   IN  A   193.0.0.193
;; _dorecursion&#40;&#41; depth=[3] known_zone=[californiture.it.]
;; _dorecursion&#40;&#41; cutting deck of &#40;2&#41; authorities...
;; _dorecursion&#40;&#41; First nameserver [195.130.225.81]
;; send_udp&#40;195.130.225.81:53&#41;
;; answer from 195.130.225.81:53 : 266 bytes
;; HEADER SECTION
;; id = 35295
;; qr = 1    opcode = QUERY    aa = 0    tc = 0    rd = 0
;; ra = 0    ad = 0    cd = 0    rcode  = NOERROR
;; qdcount = 1  ancount = 0  nscount = 8  arcount = 1

;; QUESTION SECTION &#40;1 record&#41;
;; b.ns.californiture.it.   IN  A

;; ANSWER SECTION &#40;0 records&#41;

;; AUTHORITY SECTION &#40;8 records&#41;
it. 64379   IN  NS  NAMESERVER.CNR.it.
it. 64379   IN  NS  NS.RIPE.NET.
it. 64379   IN  NS  DNS.NIC.it.
it. 64379   IN  NS  IT2.MIX-IT.NET.
it. 64379   IN  NS  DNS2.IT.NET.
it. 64379   IN  NS  DNS2.IUNET.it.
it. 64379   IN  NS  AUTH2.DNS.COGENTCO.COM.
it. 64379   IN  NS  SERVER2.INFN.it.

;; ADDITIONAL SECTION &#40;1 record&#41;
NS.RIPE.NET.    64379   IN  A   193.0.0.193
;; _dorecursion&#40;&#41; Response received from [195.130.225.81]
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [nameserver.cnr.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [ns.ripe.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns.nic.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [it2.mix-it.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.it.net.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [dns2.iunet.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [auth2.dns.cogentco.com.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Received authority [it.] [NS] [server2.infn.it.]
;; _dorecursion&#40;&#41; Deadbeat name server did not provide new information.
;; _dorecursion&#40;&#41; Ignoring useless: NS.RIPE.NET.    64379   IN  A   193.0.0.193
;; _dorecursion&#40;&#41; depth=[4] known_zone=[californiture.it.]
;; _dorecursion&#40;&#41; cutting deck of &#40;2&#41; authorities...
;; _dorecursion&#40;&#41; First nameserver [195.130.225.42]
;; send_udp&#40;195.130.225.42:53&#41;
;; answer from 195.130.225.42:53 : 282 bytes
;; HEADER SECTION
;; id = 35295
;; qr = 1    opcode = QUERY    aa = 0    tc = 0    rd = 0
;; ra = 0    ad = 0    cd = 0    rcode  = NOERROR
;; qdcount = 1  ancount = 0  nscount = 8  arcount = 2

;; QUESTION SECTION &#40;1 record&#41;
;; b.ns.californiture.it.   IN  A

.... the same until depth 255 and then dies.</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131107" href="/Public/Bug/Display.html?id=12720#txn-131107">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;08&nbsp;16:02:37&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/131107/34688/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/34688">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 457b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Sun May  8 15:14:56 2005]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; after about 5.000 domains checked i found a recurse query that goes in
</div>loop.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Please see the attached debug output for more details.
&gt; 
</div>
Thanks this helps.

Its clear that californiture.it has some kind of broken DNS setup.

I&#39;ve glanced over the debug info but to properly analyze this needs more
time than I have now. I hope I can reproduce the bug when I get around
to looking at this in more detail.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131108" href="/Public/Bug/Display.html?id=12720#txn-131108">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;08&nbsp;16:02:43&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131109" href="/Public/Bug/Display.html?id=12720#txn-131109">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;08&nbsp;16:02:48&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131111" href="/Public/Bug/Display.html?id=12720#txn-131111">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;09&nbsp;07:22:49&nbsp;2005</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> lorenzo.luconi [...] iit.cnr.it</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/131111/34705/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/34705">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks to you for your reply and for the support to Net::DNS! :-&#41;

I look deeper at the source code of Resolver.pm and probably I found the
problem.

First of all I changed the &#39;die&#39; instruction to something like this
&#40;line 125&#41;:

# die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
if &#40; $depth &gt; 255 &#41; {
    print &#34;;; _dorecursion&#40;&#41; Recursion too deep, aborting...\n&#34; if
$self-&gt;{&#39;debug&#39;};
    return undef;
}

With this change my script report the error but it doesn&#39;t die anymore! :-&#41;

The domain californiture.it has two delegated ns servers:

b.ns.californiture.it
scirocco.tiscalinet.it

Both this two ns return a not authoritative answer for californiture.it
and return in the authority section information about the domain IT.
The problem during resolution happens when we ask for A RR of
b.ns.californiture.it.

I found the problem located in this portion of source code of Recurse.pm
&#40;line 432&#41;:

if &#40;$of =~ /$known_zone$/&#41; {
    return $self-&gt;_dorecursion&#40; $query_packet, $of, \%auth, $depth+1 &#41;;
} else {
    return $self-&gt;_dorecursion&#40; $query_packet, $known_zone,
$known_authorities, $depth+1 &#41;;
}

If the recursive process is ok &#40;no lame delegation, or other&#41; it use
always the true portion.
The problem is in the false portion:
when the &#39;if test&#39; is false it means that we got an &#34;answer&#34; from
querried nameserver that is useless for our recursion process.
For example for californiture.it we go in loop because:
- $of = &#39;it.&#39; &#40;is equal to &#39;it.&#39; because this is the $rr-&gt;name from
authority section RR&#41;
- $known_zone = &#39;californiture.it.&#39;

So the &#39;if test&#39; is false and we call _dorecursion with:
- $known_zone = &#39;californiture.it.&#39;
- $known_authorities = {
&#39;scirocco.tiscalinet.it&#39; =&gt; [&#39;195.130.225.42&#39;],
&#39;b.ns.californiture.it&#39; =&gt; [&#39;195.130.225.81&#39;] }

The problem is $known_authorities that never changes. Both ns are not
authoritative for domain so I can query them and I&#39;ll get always the
same answer &#40;useless answer&#41;.
So we have to remove from $known_authorities the nameserver that give us
the no-good answer and if none of auth nameservers return a usefull
answer we have to stop the recursive resolution process when
$known_authorities is empty.

Unfortunely we don&#39;t know the name of the nameserver that answered to
query but only the ip address &#40;$self-&gt;answerform&#41;.
So I make these changes to the &#39;if&#39;:

if &#40;$of =~ /$known_zone$/&#41; {
    return $self-&gt;_dorecursion&#40; $query_packet, $of, \%auth, $depth+1 &#41;;
} else {
    while &#40; my &#40;$nsname, $nsarray&#41; =  each %{$known_authorities}  &#41; {
        if  &#40; grep { $_ eq $self-&gt;answerfrom} @{$nsarray} &#41; {
            delete $known_authorities-&gt;{$nsname};
            print &#34;;; _dorecursion&#40;&#41; remove $nsname &#40;&#34;,
join&#40;&#39;,&#39;,@{$nsarray}&#41; ,&#34;&#41; from known_authorities\n&#34; if $self-&gt;{&#39;debug&#39;};
        }
    }

    if &#40; keys %{$known_authorities} &#41; {
        return $self-&gt;_dorecursion&#40; $query_packet, $known_zone,
$known_authorities, $depth+1 &#41;;
    } 
}



My english is not good, but I hope is clear enough for you and this help
you to fix the problem.

Ciao,
Lorenzo Luconi Trombacchi









<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks this helps.
&gt; 
&gt; Its clear that californiture.it has some kind of broken DNS setup.
&gt; 
&gt; I&#39;ve glanced over the debug info but to properly analyze this needs more
&gt; time than I have now. I hope I can reproduce the bug when I get around
&gt; to looking at this in more detail.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131112" href="/Public/Bug/Display.html?id=12720#txn-131112">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;16&nbsp;09:17:53&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131113" href="/Public/Bug/Display.html?id=12720#txn-131113">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;16&nbsp;09:17:53&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/131113/43830/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/43830">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 813b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; # die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
&gt; if &#40; $depth &gt; 255 &#41; {
&gt;     print &#34;;; _dorecursion&#40;&#41; Recursion too deep, aborting...\n&#34; if
&gt; $self-&gt;{&#39;debug&#39;};
&gt;     return undef;
&gt; }
</div>
I did apply this particular patch.

The other patch I did not apply because I had a problem with really understanding &#40;and 
reproducing the particular problem&#41; It is not very clear what the servers at each level 
returned. 

If you could point me to the server setup where this problem occurs or could provide me with 
the exact description of what happens on each level &#40;what servers provide which information&#41; 
than I can reproduce the error and try to fix it. 

Without a test case I am reluctant to make any changes.

I stall the ticket for now. If I do not see follow up I will at some point close the ticket.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131114" href="/Public/Bug/Display.html?id=12720#txn-131114">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;18&nbsp;03:44:56&nbsp;2005</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/131114/44022/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/44022">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[OLAF - Wed Nov 16 09:17:53 2005]:

Hi,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; # die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
&gt; &gt; if &#40; $depth &gt; 255 &#41; {
&gt; &gt;     print &#34;;; _dorecursion&#40;&#41; Recursion too deep, aborting...\n&#34; if
&gt; &gt; $self-&gt;{&#39;debug&#39;};
&gt; &gt;     return undef;
&gt; &gt; }
</div>&gt; 
&gt; I did apply this particular patch.
</div>
thank you for this patch.... 

After some months I don&#39;t remember a lot about the problem. I tried to
answer to the question &#34;why recursion goes in loop and reach 255 depth&#34;.
I&#39;ll try to refresh my memory and I&#39;ll send to you more information as
soon as possibile.

Lorenzo


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; The other patch I did not apply because I had a problem with really
&gt; understanding &#40;and
&gt; reproducing the particular problem&#41; It is not very clear what the
&gt; servers at each level
&gt; returned.
&gt; 
&gt; If you could point me to the server setup where this problem occurs or
&gt; could provide me with
&gt; the exact description of what happens on each level &#40;what servers
&gt; provide which information&#41;
&gt; than I can reproduce the error and try to fix it.
&gt; 
&gt; Without a test case I am reluctant to make any changes.
&gt; 
&gt; I stall the ticket for now. If I do not see follow up I will at some
&gt; point close the ticket.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131115" href="/Public/Bug/Display.html?id=12720#txn-131115">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;18&nbsp;03:44:57&nbsp;2005</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-131116" href="/Public/Bug/Display.html?id=12720#txn-131116">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;24&nbsp;06:03:14&nbsp;2005</span>
    <span class="description">OLAF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-881670" href="/Public/Bug/Display.html?id=12720#txn-881670">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;14&nbsp;12:10:53&nbsp;2011</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/881670/456806/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/456806">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 16 09:17:53 2005, OLAF wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; # die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
&gt; &gt; if &#40; $depth &gt; 255 &#41; {
&gt; &gt;     print &#34;;; _dorecursion&#40;&#41; Recursion too deep, aborting...\n&#34; if
&gt; &gt; $self-&gt;{&#39;debug&#39;};
&gt; &gt;     return undef;
&gt; &gt; }
</div>&gt; 
&gt; I did apply this particular patch.
&gt; 
&gt; The other patch I did not apply because I had a problem with really
&gt; understanding &#40;and
&gt; reproducing the particular problem&#41; It is not very clear what the
&gt; servers at each level
&gt; returned.
&gt; 
&gt; If you could point me to the server setup where this problem occurs or
&gt; could provide me with
&gt; the exact description of what happens on each level &#40;what servers
&gt; provide which information&#41;
&gt; than I can reproduce the error and try to fix it.
&gt; 
&gt; Without a test case I am reluctant to make any changes.
&gt; 
&gt; I stall the ticket for now. If I do not see follow up I will at some
&gt; point close the ticket.
&gt; 
</div>
Five years on, californiture.it is as bad as ever!

[rwf@tosh net-dns]$ time contrib/check_soa californiture.it
### SERVFAIL:   californiture.it.       IN      SOA
----

[1]     b.ns.californiture.it
### unresolved server name

[2]     scirocco.tiscalinet.it &#40;195.130.225.42&#41;
### no response

Unsatisfactory response from 2 nameservers


real    2m21.499s
user    0m0.120s
sys     0m0.017s
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-881673" href="/Public/Bug/Display.html?id=12720#txn-881673">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;14&nbsp;12:10:54&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-881921" href="/Public/Bug/Display.html?id=12720#txn-881921">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;15&nbsp;04:15:35&nbsp;2011</span>
    <span class="description">lorenzo.luconi [...] iit.cnr.it -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #12720] Net::DNS::Resolver::Recurse </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 15 Jan 2011 10:15:13 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Lorenzo Luconi Trombacchi &lt;lorenzo.luconi [...] iit.cnr.it&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/881921/456944/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/456944">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I submitted this bug long time ago. 
Sorry but I can&#39;t help you.

You can close the ticket, for me.

Lorenzo



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=12720">https://rt.cpan.org/Ticket/Display.html?id=12720</a></span> &gt;
&gt; 
&gt; On Wed Nov 16 09:17:53 2005, OLAF wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; # die &#34;Recursion too deep, aborting...&#34; if $depth &gt; 255;
&gt;&gt;&gt; if &#40; $depth &gt; 255 &#41; {
&gt;&gt;&gt;    print &#34;;; _dorecursion&#40;&#41; Recursion too deep, aborting...\n&#34; if
&gt;&gt;&gt; $self-&gt;{&#39;debug&#39;};
&gt;&gt;&gt;    return undef;
&gt;&gt;&gt; }
</div>&gt;&gt; 
&gt;&gt; I did apply this particular patch.
&gt;&gt; 
&gt;&gt; The other patch I did not apply because I had a problem with really
&gt;&gt; understanding &#40;and
&gt;&gt; reproducing the particular problem&#41; It is not very clear what the
&gt;&gt; servers at each level
&gt;&gt; returned.
&gt;&gt; 
&gt;&gt; If you could point me to the server setup where this problem occurs or
&gt;&gt; could provide me with
&gt;&gt; the exact description of what happens on each level &#40;what servers
&gt;&gt; provide which information&#41;
&gt;&gt; than I can reproduce the error and try to fix it.
&gt;&gt; 
&gt;&gt; Without a test case I am reluctant to make any changes.
&gt;&gt; 
&gt;&gt; I stall the ticket for now. If I do not see follow up I will at some
&gt;&gt; point close the ticket.
&gt;&gt; 
</div>&gt; 
&gt; Five years on, californiture.it is as bad as ever!
&gt; 
&gt; [rwf@tosh net-dns]$ time contrib/check_soa californiture.it
&gt; ### SERVFAIL: californiture.it.       IN      SOA
&gt; ----
&gt; 
&gt; [1]   b.ns.californiture.it
&gt; ### unresolved server name
&gt; 
&gt; [2]   scirocco.tiscalinet.it &#40;195.130.225.42&#41;
&gt; ### no response
&gt; 
&gt; Unsatisfactory response from 2 nameservers
&gt; 
&gt; 
&gt; real  2m21.499s
&gt; user  0m0.120s
&gt; sys   0m0.017s
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-884719" href="/Public/Bug/Display.html?id=12720#txn-884719">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;21&nbsp;04:02:11&nbsp;2011</span>
    <span class="description">willem [...] cpan.org -  Ticket deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.348251</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
