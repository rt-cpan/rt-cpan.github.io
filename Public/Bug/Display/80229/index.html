<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80229 for XML-LibXML: Fails to create Makefile on windows due to include path having spaces</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80229 for XML-LibXML: Fails to create Makefile on windows due to include path having spaces</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=XML-LibXML">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=XML-LibXML">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=XML-LibXML">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=XML-LibXML">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-LibXML">XML-LibXML CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80229</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=XML-LibXML">XML-LibXML</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
desmond.daignault [...] oneil.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37350-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37351-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=80229">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129742" href="/Public/Bug/Display.html?id=80229#txn-1129742">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;16:44:49&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails to create Makefile on windows due to include path having spaces</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 16 Oct 2012 20:44:37 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129742/594308/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594308">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Windows, check_lib_or_exit always fails. No matter what I set INC= to be on the command line.

When using Visual Studio, it looks at the environment variable INCLUDE to find include headers and the environment variable LIB to find library files.

eg:
INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft SDKs\Windows\v6.0A\include;
LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio 9.0\VC\LIB;C:\P
rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;

In the example above, the libxml2 library was installed in c:\project\win32\install\lib and c:\project\win32\install\include.

If I remove the check_lib_or_exit function from Makefile.PL it builds just fine when the environment has INCLUDE and LIB set correctly. 

Additionally a warning can be removed when checking to see if LIBS was passed on the command line.


patch follows:

*** Makefile.PL.orig    2012-10-13 16:30:39.000000000 -0400
--- Makefile.PL 2012-10-16 15:06:28.347500000 -0400
***************
*** 286,292 ****
  # -------------------------------------------------------------------------- #
  # fix the ld flags
  # -------------------------------------------------------------------------- #
! if &#40;$config{LIBS} !~ /\-l&#40;?:lib&#41;?xml2\b/&#41; {
      # in this case we are not able to run xml2-config. therefore we need to
      # expand the libz as well.
    if &#40;$is_Win32&#41; {
--- 286,292 ----
  # -------------------------------------------------------------------------- #
  # fix the ld flags
  # -------------------------------------------------------------------------- #
! if &#40;!defined $config{LIBS} || $config{LIBS} !~ /\-l&#40;?:lib&#41;?xml2\b/&#41; {
      # in this case we are not able to run xml2-config. therefore we need to
      # expand the libz as well.
    if &#40;$is_Win32&#41; {
***************
*** 356,365 ****
      $config{dynamic_lib} = { OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
  }
  
! my $incpath = $config{INC};
! $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
  
! check_lib_or_exit&#40;
      # fill in what you prompted the user for here
      lib =&gt; [qw&#40;xml2&#41;],
      incpath =&gt; [split&#40;/\s/,$incpath&#41;],
--- 356,366 ----
      $config{dynamic_lib} = { OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
  }
  
! unless &#40;$^O =~ /MSWin/&#41; {
!   my $incpath = $config{INC};
!   $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
  
!   check_lib_or_exit&#40;
      # fill in what you prompted the user for here
      lib =&gt; [qw&#40;xml2&#41;],
      incpath =&gt; [split&#40;/\s/,$incpath&#41;],
***************
*** 389,395 ****
          &#39;libxml/xpath.h&#39;,
          &#39;libxml/xpathInternals.h&#39;,
      ],
! &#41;;
  
  WriteMakefile&#40;
                %INFOS,
--- 390,397 ----
          &#39;libxml/xpath.h&#39;,
          &#39;libxml/xpathInternals.h&#39;,
      ],
!   &#41;;
! }
  
  WriteMakefile&#40;
                %INFOS,

--
Sincerely,
Desmond Daignault
Senior Software Engineer
 
O&#39;NEIL &#38; ASSOCIATES, INC.
495 Byers Rd.
Miamisburg, Ohio 45342-3662

Office: &#40;937&#41; 865-0846 ext. 3504
Fax: &#40;937&#41; 865-5858
E-mail: desmond.daignault@oneil.com
REVOLUTIONIZING DOCUMENTATION &gt;&gt;&gt; POWERING PRODUCT SUPPORT


**********************************************************************
Confidentiality Notice
The information contained in this e-mail is confidential and intended for use only by the person&#40;s&#41; or organization listed in the address. If you have received this communication in error, please contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any copying, dissemination, or distribution of this communication, other than by the intended recipient, is strictly prohibited.
**********************************************************************
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129750" href="/Public/Bug/Display.html?id=80229#txn-1129750">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;18:02:32&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1129750/594311/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594311">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Desmond,

On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Windows, check_lib_or_exit always fails. No matter what I set INC=
&gt;    to be on the command line.
&gt; 
</div>
Devel::CheckLib should support Microsoft Visual C++ &#40;CL.EXE&#41; pretty
well, and so you should see where this is going wrong and fix it. You
can use perl -d &#40;the perl debugger&#41; to assist you.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When using Visual Studio, it looks at the environment variable INCLUDE
&gt;    to find include headers and the environment variable LIB to find
&gt;    library files.
</div>
Well, UNIX compilers are using different variables &#40;see the gcc man
page&#41;. The question is which env vars CL.EXE supports.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; eg:
&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
&gt;    SDKs\Windows\v6.0A\include;
&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
&gt;    Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
&gt;    9.0\VC\LIB;C:\P
&gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; 
&gt; In the example above, the libxml2 library was installed in
&gt;    c:\project\win32\install\lib and c:\project\win32\install\include.
&gt; 
&gt; If I remove the check_lib_or_exit function from Makefile.PL it builds
&gt;    just fine when the environment has INCLUDE and LIB set correctly.
&gt; 
&gt; Additionally a warning can be removed when checking to see if LIBS was
&gt;    passed on the command line.
&gt; 
</div>
the check_lib_or_exit call was added to prevent cases where the shared
library can be found, but the headers cannot be found, which makes the
build fails later. I&#39;d rather not avoid it anywhere.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; patch follows:
&gt; 
</div>
The patch has two issues:

1. It is not in unified format - use diff -u next time &#40;you can also
send us a bitbucket pull request&#41;.

2. The second is:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; **********************************************************************
&gt; Confidentiality Notice
&gt; The information contained in this e-mail is confidential and intended
&gt;    for use only by the person&#40;s&#41; or organization listed in the
&gt;    address. If you have received this communication in error, please
&gt;    contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any
&gt;    copying, dissemination, or distribution of this communication,
&gt;    other than by the intended recipient, is strictly prohibited.
&gt; **********************************************************************
&gt; 
</div>
this disclaimer prevents us from using the patch for our FOSS project.

Regards,

-- Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1129753" href="/Public/Bug/Display.html?id=80229#txn-1129753">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;16&nbsp;18:02:33&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130004" href="/Public/Bug/Display.html?id=80229#txn-1130004">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;09:35:15&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 13:34:57 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130004/594484/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594484">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Went through it with the debugger, and it is failing on checking the LIB, even though you already checked it in the Makefile.PL and it passed.  How should I call Makefile.PL so that it doesn&#39;t fail the 2nd check of linking to xml2?

--
Dez.



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Shlomi Fish via RT [mailto:bug-XML-LibXML@rt.cpan.org] 
Sent: Tuesday, October 16, 2012 6:03 PM
To: Desmond Daignault
Subject: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80229">https://rt.cpan.org/Ticket/Display.html?id=80229</a></span> &gt;

Hi Desmond,

On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<div class="message-stanza open">&gt; On Windows, check_lib_or_exit always fails. No matter what I set INC=
&gt;    to be on the command line.
&gt; 
</div>
Devel::CheckLib should support Microsoft Visual C++ &#40;CL.EXE&#41; pretty well, and so you should see where this is going wrong and fix it. You can use perl -d &#40;the perl debugger&#41; to assist you.

<div class="message-stanza open">&gt; When using Visual Studio, it looks at the environment variable INCLUDE
&gt;    to find include headers and the environment variable LIB to find
&gt;    library files.
</div>
Well, UNIX compilers are using different variables &#40;see the gcc man page&#41;. The question is which env vars CL.EXE supports.

<div class="message-stanza open">&gt; 
&gt; eg:
&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
&gt;    SDKs\Windows\v6.0A\include;
&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
&gt;    Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
&gt;    9.0\VC\LIB;C:\P
&gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; 
&gt; In the example above, the libxml2 library was installed in
&gt;    c:\project\win32\install\lib and c:\project\win32\install\include.
&gt; 
&gt; If I remove the check_lib_or_exit function from Makefile.PL it builds
&gt;    just fine when the environment has INCLUDE and LIB set correctly.
&gt; 
&gt; Additionally a warning can be removed when checking to see if LIBS was
&gt;    passed on the command line.
&gt; 
</div>
the check_lib_or_exit call was added to prevent cases where the shared library can be found, but the headers cannot be found, which makes the build fails later. I&#39;d rather not avoid it anywhere.

<div class="message-stanza open">&gt; 
&gt; patch follows:
&gt; 
</div>
The patch has two issues:

1. It is not in unified format - use diff -u next time &#40;you can also send us a bitbucket pull request&#41;.

2. The second is:

<div class="message-stanza open">&gt; 
&gt; **********************************************************************
&gt; Confidentiality Notice
&gt; The information contained in this e-mail is confidential and intended
&gt;    for use only by the person&#40;s&#41; or organization listed in the
&gt;    address. If you have received this communication in error, please
&gt;    contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any
&gt;    copying, dissemination, or distribution of this communication,
&gt;    other than by the intended recipient, is strictly prohibited.
&gt; **********************************************************************
&gt; 
</div>
this disclaimer prevents us from using the patch for our FOSS project.

Regards,

-- Shlomi Fish

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130006" href="/Public/Bug/Display.html?id=80229#txn-1130006">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;09:44:19&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 13:44:10 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130006/594486/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594486">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok. I got it to work by commenting out line 364 of Makefile.PL.  You are already checking to see if linking works so there is no need to do it again in the check_lib_or_exit call.

--
Dez.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Shlomi Fish via RT [mailto:bug-XML-LibXML@rt.cpan.org] 
Sent: Tuesday, October 16, 2012 6:03 PM
To: Desmond Daignault
Subject: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80229">https://rt.cpan.org/Ticket/Display.html?id=80229</a></span> &gt;

Hi Desmond,

On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<div class="message-stanza open">&gt; On Windows, check_lib_or_exit always fails. No matter what I set INC=
&gt;    to be on the command line.
&gt; 
</div>
Devel::CheckLib should support Microsoft Visual C++ &#40;CL.EXE&#41; pretty well, and so you should see where this is going wrong and fix it. You can use perl -d &#40;the perl debugger&#41; to assist you.

<div class="message-stanza open">&gt; When using Visual Studio, it looks at the environment variable INCLUDE
&gt;    to find include headers and the environment variable LIB to find
&gt;    library files.
</div>
Well, UNIX compilers are using different variables &#40;see the gcc man page&#41;. The question is which env vars CL.EXE supports.

<div class="message-stanza open">&gt; 
&gt; eg:
&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
&gt;    SDKs\Windows\v6.0A\include;
&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
&gt;    Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
&gt;    9.0\VC\LIB;C:\P
&gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; 
&gt; In the example above, the libxml2 library was installed in
&gt;    c:\project\win32\install\lib and c:\project\win32\install\include.
&gt; 
&gt; If I remove the check_lib_or_exit function from Makefile.PL it builds
&gt;    just fine when the environment has INCLUDE and LIB set correctly.
&gt; 
&gt; Additionally a warning can be removed when checking to see if LIBS was
&gt;    passed on the command line.
&gt; 
</div>
the check_lib_or_exit call was added to prevent cases where the shared library can be found, but the headers cannot be found, which makes the build fails later. I&#39;d rather not avoid it anywhere.

<div class="message-stanza open">&gt; 
&gt; patch follows:
&gt; 
</div>
The patch has two issues:

1. It is not in unified format - use diff -u next time &#40;you can also send us a bitbucket pull request&#41;.

2. The second is:

<div class="message-stanza open">&gt; 
&gt; **********************************************************************
&gt; Confidentiality Notice
&gt; The information contained in this e-mail is confidential and intended
&gt;    for use only by the person&#40;s&#41; or organization listed in the
&gt;    address. If you have received this communication in error, please
&gt;    contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any
&gt;    copying, dissemination, or distribution of this communication,
&gt;    other than by the intended recipient, is strictly prohibited.
&gt; **********************************************************************
&gt; 
</div>
this disclaimer prevents us from using the patch for our FOSS project.

Regards,

-- Shlomi Fish

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130008" href="/Public/Bug/Display.html?id=80229#txn-1130008">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;09:56:29&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 13:56:16 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130008/594488/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594488">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Also, it works if I change line 364 to show qw&#40;libxml2&#41;.
Not sure how to fix this so that it works all the time for everybody.  If you want to use check_lib_or_exit to check linking too, and deprecate your own have_library function, it needs to check for both xml2 and libxml2 as well.  I tried putting both xml2 and libxml2 in the libs[] for check_lib_or_exit but it fails on xml2.  So it needs to be wrapped in an eval and called twice, once for xml2 and once for libxml2.  This will allow you to deprecate your have_library function.

--
Dez.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Shlomi Fish via RT [mailto:bug-XML-LibXML@rt.cpan.org] 
Sent: Tuesday, October 16, 2012 6:03 PM
To: Desmond Daignault
Subject: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80229">https://rt.cpan.org/Ticket/Display.html?id=80229</a></span> &gt;

Hi Desmond,

On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<div class="message-stanza open">&gt; On Windows, check_lib_or_exit always fails. No matter what I set INC=
&gt;    to be on the command line.
&gt; 
</div>
Devel::CheckLib should support Microsoft Visual C++ &#40;CL.EXE&#41; pretty well, and so you should see where this is going wrong and fix it. You can use perl -d &#40;the perl debugger&#41; to assist you.

<div class="message-stanza open">&gt; When using Visual Studio, it looks at the environment variable INCLUDE
&gt;    to find include headers and the environment variable LIB to find
&gt;    library files.
</div>
Well, UNIX compilers are using different variables &#40;see the gcc man page&#41;. The question is which env vars CL.EXE supports.

<div class="message-stanza open">&gt; 
&gt; eg:
&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
&gt;    SDKs\Windows\v6.0A\include;
&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
&gt;    Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
&gt;    9.0\VC\LIB;C:\P
&gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; 
&gt; In the example above, the libxml2 library was installed in
&gt;    c:\project\win32\install\lib and c:\project\win32\install\include.
&gt; 
&gt; If I remove the check_lib_or_exit function from Makefile.PL it builds
&gt;    just fine when the environment has INCLUDE and LIB set correctly.
&gt; 
&gt; Additionally a warning can be removed when checking to see if LIBS was
&gt;    passed on the command line.
&gt; 
</div>
the check_lib_or_exit call was added to prevent cases where the shared library can be found, but the headers cannot be found, which makes the build fails later. I&#39;d rather not avoid it anywhere.

<div class="message-stanza open">&gt; 
&gt; patch follows:
&gt; 
</div>
The patch has two issues:

1. It is not in unified format - use diff -u next time &#40;you can also send us a bitbucket pull request&#41;.

2. The second is:

<div class="message-stanza open">&gt; 
&gt; **********************************************************************
&gt; Confidentiality Notice
&gt; The information contained in this e-mail is confidential and intended
&gt;    for use only by the person&#40;s&#41; or organization listed in the
&gt;    address. If you have received this communication in error, please
&gt;    contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any
&gt;    copying, dissemination, or distribution of this communication,
&gt;    other than by the intended recipient, is strictly prohibited.
&gt; **********************************************************************
&gt; 
</div>
this disclaimer prevents us from using the patch for our FOSS project.

Regards,

-- Shlomi Fish

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130010" href="/Public/Bug/Display.html?id=80229#txn-1130010">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;10:24:38&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 14:24:23 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130010/594490/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594490">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 9.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry for all the spam.  Here is a patch that doesn&#39;t use your have_library function and only uses Devel-CheckLib.

It should work for everybody.


*** Makefile.PL.orig    2012-10-13 16:30:39.000000000 -0400
--- Makefile.PL 2012-10-17 09:13:57.972500000 -0400
***************
*** 286,292 ****
  # -------------------------------------------------------------------------- #
  # fix the ld flags
  # -------------------------------------------------------------------------- #
! if &#40;$config{LIBS} !~ /\-l&#40;?:lib&#41;?xml2\b/&#41; {
      # in this case we are not able to run xml2-config. therefore we need to
      # expand the libz as well.
    if &#40;$is_Win32&#41; {
--- 286,292 ----
  # -------------------------------------------------------------------------- #
  # fix the ld flags
  # -------------------------------------------------------------------------- #
! if &#40;!defined $config{LIBS} || $config{LIBS} !~ /\-l&#40;?:lib&#41;?xml2\b/&#41; {
      # in this case we are not able to run xml2-config. therefore we need to
      # expand the libz as well.
    if &#40;$is_Win32&#41; {
***************
*** 327,365 ****
  # if the Build Target is set correctly. Otherwise we have to set it by
  # hand
  
- # -------------------------------------------------------------------------- #
- 
- # -------------------------------------------------------------------------- #
- # test if the libraries are really installed!
- unless &#40;have_library&#40;&#34;xml2&#34;&#41; or have_library&#40;&#34;libxml2&#34;&#41;&#41; {
-     print STDERR &lt;&lt;&#34;DEATH&#34;;
- libxml2, zlib, and/or the Math library &#40;-lm&#41; have not been found.
- Try setting LIBS and INC values on the command line
- Or get libxml2 from
-   <span class="clickylink"><a target="new" rel="nofollow" href="http://xmlsoft.org/">http://xmlsoft.org/</a></span>
- If you install via RPMs, make sure you also install the -devel
- RPMs, as this is where the headers &#40;.h files&#41; are.
- 
- Also, you may try to run perl Makefile.PL with the DEBUG=1 parameter
- to see the exact reason why the detection of libxml2 installation
- failed or why Makefile.PL was not able to compile a test program.
- DEATH
- exit 0; # 0 recommended by <span class="clickylink"><a target="new" rel="nofollow" href="http://cpantest.grango.org">http://cpantest.grango.org</a></span> &#40;Notes for CPAN Authors&#41;
- }
- # -------------------------------------------------------------------------- #
- 
- # -------------------------------------------------------------------------- #
- # _NOW_ write the Makefile
- 
  my $ldflags = delete $config{LDFLAGS};
  if &#40;$ldflags&#41; {
      $config{dynamic_lib} = { OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
  }
  
! my $incpath = $config{INC};
  $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
  
! check_lib_or_exit&#40;
      # fill in what you prompted the user for here
      lib =&gt; [qw&#40;xml2&#41;],
      incpath =&gt; [split&#40;/\s/,$incpath&#41;],
--- 327,344 ----
  # if the Build Target is set correctly. Otherwise we have to set it by
  # hand
  
  my $ldflags = delete $config{LDFLAGS};
  if &#40;$ldflags&#41; {
      $config{dynamic_lib} = { OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
  }
  
! my $incpath = $config{INC} || &#34;&#34;;
  $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
  
! 
! print &#34;Checking for ability to link against xml2...&#34;;
! if&#40;
!   check_lib&#40;
      # fill in what you prompted the user for here
      lib =&gt; [qw&#40;xml2&#41;],
      incpath =&gt; [split&#40;/\s/,$incpath&#41;],
***************
*** 389,395 ****
          &#39;libxml/xpath.h&#39;,
          &#39;libxml/xpathInternals.h&#39;,
      ],
! &#41;;
  
  WriteMakefile&#40;
                %INFOS,
--- 368,430 ----
          &#39;libxml/xpath.h&#39;,
          &#39;libxml/xpathInternals.h&#39;,
      ],
!   &#41;&#41; {
!   print &#34;yes\n&#34;;
! } else {
!   print &#34;no\n&#34;;
!   print &#34;Checking for ability to link against libxml2...&#34;;
!   if&#40;
!     check_lib&#40;
!       # fill in what you prompted the user for here
!       lib =&gt; [qw&#40;libxml2&#41;],
!       incpath =&gt; [split&#40;/\s/,$incpath&#41;],
!       header =&gt;
!       [
!         &#39;libxml/c14n.h&#39;,
!         &#39;libxml/catalog.h&#39;,
!         &#39;libxml/entities.h&#39;,
!         &#39;libxml/globals.h&#39;,
!         &#39;libxml/HTMLparser.h&#39;,
!         &#39;libxml/HTMLtree.h&#39;,
!         &#39;libxml/parser.h&#39;,
!         &#39;libxml/parserInternals.h&#39;,
!         &#39;libxml/pattern.h&#39;,
!         &#39;libxml/relaxng.h&#39;,
!         &#39;libxml/tree.h&#39;,
!         &#39;libxml/uri.h&#39;,
!         &#39;libxml/valid.h&#39;,
!         &#39;libxml/xinclude.h&#39;,
!         &#39;libxml/xmlerror.h&#39;,
!         &#39;libxml/xmlIO.h&#39;,
!         &#39;libxml/xmlmemory.h&#39;,
!         &#39;libxml/xmlreader.h&#39;,
!         &#39;libxml/xmlregexp.h&#39;,
!         &#39;libxml/xmlschemas.h&#39;,
!         &#39;libxml/xmlversion.h&#39;,
!         &#39;libxml/xpath.h&#39;,
!         &#39;libxml/xpathInternals.h&#39;,
!       ],
!     &#41;&#41; {
!     print &#34;yes\n&#34;;
!   } else {
!     print STDERR &lt;&lt;&#34;DEATH&#34;;
! libxml2, zlib, and/or the Math library &#40;-lm&#41; have not been found.
! Try setting LIBS and INC values on the command line
! Or get libxml2 from
!   <span class="clickylink"><a target="new" rel="nofollow" href="http://xmlsoft.org/">http://xmlsoft.org/</a></span>
! If you install via RPMs, make sure you also install the -devel
! RPMs, as this is where the headers &#40;.h files&#41; are.
! 
! Also, you may try to run perl Makefile.PL with the DEBUG=1 parameter
! to see the exact reason why the detection of libxml2 installation
! failed or why Makefile.PL was not able to compile a test program.
! DEATH
!     exit 0; # 0 recommended by <span class="clickylink"><a target="new" rel="nofollow" href="http://cpantest.grango.org">http://cpantest.grango.org</a></span> &#40;Notes for CPAN Authors&#41;
!   }
! }
! 
! # -------------------------------------------------------------------------- #
! # _NOW_ write the Makefile
  
  WriteMakefile&#40;
                %INFOS,
***************
*** 681,732 ****
      return $result;
  }
  
- sub have_library {
-     my &#40;$lib, $func&#41; = &#40;@_, &#34;blank&#34;&#41;;
-     printf&#40;&#34;checking for %s&#40;&#41; in -l%s... &#34;, $func, $lib&#41; if $func ne &#34;blank&#34;;
-     printf&#40;&#34;looking for -l%s... &#34;, $lib&#41; if $func eq &#34;blank&#34;;
- 
-     my $result;
-     if &#40;$func&#41; {
-         my $libs = $is_Win32 ? &#34; $lib.lib  &#34; : &#34;-l$lib&#34;;
- #        my $libs = &#34;-l$lib&#34;;
-         if &#40;$is_Win32&#41; {
-             $result = try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
- #include &lt;windows.h&gt;
- #include &lt;winsock.h&gt;
- blank&#40;&#41; { return 0; }
- int t&#40;&#41; { ${func}&#40;&#41;; return 0; }
- SRC
-             unless &#40;$result&#41; {
-                 $result = try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
- #include &lt;windows.h&gt;
- #include &lt;winsock.h&gt;
- blank&#40;&#41; { return 0; }
- int t&#40;&#41; { void &#40;&#40;*p&#41;&#40;&#41;&#41;; p = &#40;void &#40;&#40;*&#41;&#40;&#41;&#41;&#41;${func}; return 0; }
- SRC
-             }
-         }
-         else {
-             $result = try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
- blank&#40;&#41; { return 0; }
- int t&#40;&#41; { ${func}&#40;&#41;; return 0; }
- SRC
-         }
-     }
- 
-     unless &#40;$result&#41; {
-         print &#34;no\n&#34;;
-         return 0;
-     }
- 
-     if &#40;$func ne &#34;main&#34;&#41; {
-         $config{DEFINE} .= uc&#40;&#34; -Dhave_$func&#34;&#41;;
-     }
- 
-     print &#34;yes\n&#34;;
-     return 1;
- }
- 
  # -------------------------------------------------------------------------- #
  # try_libconfig class a generic config file and requests --version, --libs and
  # --cflags
--- 716,721 ----


--
Dez.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Shlomi Fish via RT [mailto:bug-XML-LibXML@rt.cpan.org] 
Sent: Tuesday, October 16, 2012 6:03 PM
To: Desmond Daignault
Subject: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80229">https://rt.cpan.org/Ticket/Display.html?id=80229</a></span> &gt;

Hi Desmond,

On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<div class="message-stanza open">&gt; On Windows, check_lib_or_exit always fails. No matter what I set INC=
&gt;    to be on the command line.
&gt; 
</div>
Devel::CheckLib should support Microsoft Visual C++ &#40;CL.EXE&#41; pretty well, and so you should see where this is going wrong and fix it. You can use perl -d &#40;the perl debugger&#41; to assist you.

<div class="message-stanza open">&gt; When using Visual Studio, it looks at the environment variable INCLUDE
&gt;    to find include headers and the environment variable LIB to find
&gt;    library files.
</div>
Well, UNIX compilers are using different variables &#40;see the gcc man page&#41;. The question is which env vars CL.EXE supports.

<div class="message-stanza open">&gt; 
&gt; eg:
&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
&gt;    Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
&gt;    SDKs\Windows\v6.0A\include;
&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
&gt;    Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
&gt;    9.0\VC\LIB;C:\P
&gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; 
&gt; In the example above, the libxml2 library was installed in
&gt;    c:\project\win32\install\lib and c:\project\win32\install\include.
&gt; 
&gt; If I remove the check_lib_or_exit function from Makefile.PL it builds
&gt;    just fine when the environment has INCLUDE and LIB set correctly.
&gt; 
&gt; Additionally a warning can be removed when checking to see if LIBS was
&gt;    passed on the command line.
&gt; 
</div>
the check_lib_or_exit call was added to prevent cases where the shared library can be found, but the headers cannot be found, which makes the build fails later. I&#39;d rather not avoid it anywhere.

<div class="message-stanza open">&gt; 
&gt; patch follows:
&gt; 
</div>
The patch has two issues:

1. It is not in unified format - use diff -u next time &#40;you can also send us a bitbucket pull request&#41;.

2. The second is:

<div class="message-stanza open">&gt; 
&gt; **********************************************************************
&gt; Confidentiality Notice
&gt; The information contained in this e-mail is confidential and intended
&gt;    for use only by the person&#40;s&#41; or organization listed in the
&gt;    address. If you have received this communication in error, please
&gt;    contact the sender at O&#39;Neil &#38; Associates, Inc., immediately. Any
&gt;    copying, dissemination, or distribution of this communication,
&gt;    other than by the intended recipient, is strictly prohibited.
&gt; **********************************************************************
&gt; 
</div>
this disclaimer prevents us from using the patch for our FOSS project.

Regards,

-- Shlomi Fish

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130026" href="/Public/Bug/Display.html?id=80229#txn-1130026">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;11:11:35&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130026/594506/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594506">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 10.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 17 10:24:38 2012, desmond.daignault@oneil.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry for all the spam.  Here is a patch that doesn&#39;t use your
&gt; have_library function and only uses Devel-CheckLib.
&gt; 
&gt; It should work
&gt; for everybody.
</div>
Thanks! However this patch is not in unfied diff format, and so I find
it delightfully hard to follow. Please include a patch in that format -
you can use gnudiff -u to generate it. You can find gnudiff in cygwin or
in <span class="clickylink"><a target="new" rel="nofollow" href="http://gnuwin32.sourceforge.net/packages/diffutils.htm">http://gnuwin32.sourceforge.net/packages/diffutils.htm</a></span> &#40;old version,
but should work fine&#41;.

As an alternative, you can send me a Bitbcuket pull request. Finally, I
should note that it is possible you are listing all the headers and
other parameters for check_lib&#40;&#41; twice. If os, please extract them into
a function or a variable. 

Regards,

     Shlomi Fish 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 
&gt; *** Makefile.PL.orig  2012-10-13 16:30:39.000000000
&gt; -0400
&gt; --- Makefile.PL       2012-10-17 09:13:57.972500000 -0400
&gt; ***************
&gt; *** 286,292 ****
&gt;   #
&gt; --------------------------------------------------------------------------
&gt; #
&gt;   # fix the ld flags
&gt;   #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; ! if &#40;$config{LIBS} !~ /\-l&#40;?:lib&#41;?xml2\b/&#41; {
&gt;       # in this case
&gt; we are not able to run xml2-config. therefore we need to
&gt;       #
&gt; expand the libz as well.
&gt;     if &#40;$is_Win32&#41; {
&gt; --- 286,292 ----
&gt;   #
&gt; --------------------------------------------------------------------------
&gt; #
&gt;   # fix the ld flags
&gt;   #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; ! if &#40;!defined $config{LIBS} || $config{LIBS} !~ /\-
&gt; l&#40;?:lib&#41;?xml2\b/&#41; {
&gt;       # in this case we are not able to run xml2-
&gt; config. therefore we need to
&gt;       # expand the libz as well.
&gt;     if
&gt; &#40;$is_Win32&#41; {
&gt; ***************
&gt; *** 327,365 ****
&gt;   # if the Build
&gt; Target is set correctly. Otherwise we have to set it by
&gt;   # hand
&gt; - #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; - 
&gt; - #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; - # test if the libraries are really installed!
&gt; - unless
&gt; &#40;have_library&#40;&#34;xml2&#34;&#41; or have_library&#40;&#34;libxml2&#34;&#41;&#41; {
&gt; -     print
&gt; STDERR &lt;&lt;&#34;DEATH&#34;;
&gt; - libxml2, zlib, and/or the Math library &#40;-lm&#41; have
&gt; not been found.
&gt; - Try setting LIBS and INC values on the command line
&gt; - Or get libxml2 from
&gt; -   <span class="clickylink"><a target="new" rel="nofollow" href="http://xmlsoft.org/">http://xmlsoft.org/</a></span>
&gt; - If you install via
&gt; RPMs, make sure you also install the -devel
&gt; - RPMs, as this is where
&gt; the headers &#40;.h files&#41; are.
&gt; - 
&gt; - Also, you may try to run perl
&gt; Makefile.PL with the DEBUG=1 parameter
&gt; - to see the exact reason why
&gt; the detection of libxml2 installation
&gt; - failed or why Makefile.PL was
&gt; not able to compile a test program.
&gt; - DEATH
&gt; - exit 0; # 0
&gt; recommended by <span class="clickylink"><a target="new" rel="nofollow" href="http://cpantest.grango.org">http://cpantest.grango.org</a></span> &#40;Notes for CPAN Authors&#41;
&gt; -
&gt; }
&gt; - #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; - 
&gt; - #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; - # _NOW_ write the Makefile
&gt; - 
&gt;   my $ldflags = delete
&gt; $config{LDFLAGS};
&gt;   if &#40;$ldflags&#41; {
&gt;       $config{dynamic_lib} = {
&gt; OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
&gt;   }
&gt;   
&gt; ! my $incpath =
&gt; $config{INC};
&gt;   $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
&gt;   
&gt; !
&gt; check_lib_or_exit&#40;
&gt;       # fill in what you prompted the user for
&gt; here
&gt;       lib =&gt; [qw&#40;xml2&#41;],
&gt;       incpath =&gt;
&gt; [split&#40;/\s/,$incpath&#41;],
&gt; --- 327,344 ----
&gt;   # if the Build Target is
&gt; set correctly. Otherwise we have to set it by
&gt;   # hand
&gt;   
&gt;   my
&gt; $ldflags = delete $config{LDFLAGS};
&gt;   if &#40;$ldflags&#41; {
&gt; $config{dynamic_lib} = { OTHERLDFLAGS =&gt; &#34; $ldflags &#34; };
&gt;   }
&gt;   
&gt; !
&gt; my $incpath = $config{INC} || &#34;&#34;;
&gt;   $incpath =~ s#&#40;\A|\s&#41;\s*-I#$1#g;
&gt; ! 
&gt; ! print &#34;Checking for ability to link against xml2...&#34;;
&gt; ! if&#40;
&gt; !
&gt; check_lib&#40;
&gt;       # fill in what you prompted the user for here
&gt; lib =&gt; [qw&#40;xml2&#41;],
&gt;       incpath =&gt; [split&#40;/\s/,$incpath&#41;],
&gt; ***************
&gt; *** 389,395 ****
&gt;           &#39;libxml/xpath.h&#39;,
&gt; &#39;libxml/xpathInternals.h&#39;,
&gt;       ],
&gt; ! &#41;;
&gt;   
&gt;   WriteMakefile&#40;
&gt; %INFOS,
&gt; --- 368,430 ----
&gt;           &#39;libxml/xpath.h&#39;,
&gt; &#39;libxml/xpathInternals.h&#39;,
&gt;       ],
&gt; !   &#41;&#41; {
&gt; !   print &#34;yes\n&#34;;
&gt; !
&gt; } else {
&gt; !   print &#34;no\n&#34;;
&gt; !   print &#34;Checking for ability to link
&gt; against libxml2...&#34;;
&gt; !   if&#40;
&gt; !     check_lib&#40;
&gt; !       # fill in
&gt; what you prompted the user for here
&gt; !       lib =&gt; [qw&#40;libxml2&#41;],
&gt; !
&gt; incpath =&gt; [split&#40;/\s/,$incpath&#41;],
&gt; !       header =&gt;
&gt; !       [
&gt; !
&gt; &#39;libxml/c14n.h&#39;,
&gt; !         &#39;libxml/catalog.h&#39;,
&gt; !
&gt; &#39;libxml/entities.h&#39;,
&gt; !         &#39;libxml/globals.h&#39;,
&gt; !
&gt; &#39;libxml/HTMLparser.h&#39;,
&gt; !         &#39;libxml/HTMLtree.h&#39;,
&gt; !
&gt; &#39;libxml/parser.h&#39;,
&gt; !         &#39;libxml/parserInternals.h&#39;,
&gt; !
&gt; &#39;libxml/pattern.h&#39;,
&gt; !         &#39;libxml/relaxng.h&#39;,
&gt; !
&gt; &#39;libxml/tree.h&#39;,
&gt; !         &#39;libxml/uri.h&#39;,
&gt; !
&gt; &#39;libxml/valid.h&#39;,
&gt; !         &#39;libxml/xinclude.h&#39;,
&gt; !
&gt; &#39;libxml/xmlerror.h&#39;,
&gt; !         &#39;libxml/xmlIO.h&#39;,
&gt; !
&gt; &#39;libxml/xmlmemory.h&#39;,
&gt; !         &#39;libxml/xmlreader.h&#39;,
&gt; !
&gt; &#39;libxml/xmlregexp.h&#39;,
&gt; !         &#39;libxml/xmlschemas.h&#39;,
&gt; !
&gt; &#39;libxml/xmlversion.h&#39;,
&gt; !         &#39;libxml/xpath.h&#39;,
&gt; !
&gt; &#39;libxml/xpathInternals.h&#39;,
&gt; !       ],
&gt; !     &#41;&#41; {
&gt; !     print
&gt; &#34;yes\n&#34;;
&gt; !   } else {
&gt; !     print STDERR &lt;&lt;&#34;DEATH&#34;;
&gt; ! libxml2,
&gt; zlib, and/or the Math library &#40;-lm&#41; have not been found.
&gt; ! Try
&gt; setting LIBS and INC values on the command line
&gt; ! Or get libxml2 from
&gt; !   <span class="clickylink"><a target="new" rel="nofollow" href="http://xmlsoft.org/">http://xmlsoft.org/</a></span>
&gt; ! If you install via RPMs, make sure you also
&gt; install the -devel
&gt; ! RPMs, as this is where the headers &#40;.h files&#41;
&gt; are.
&gt; ! 
&gt; ! Also, you may try to run perl Makefile.PL with the DEBUG=1
&gt; parameter
&gt; ! to see the exact reason why the detection of libxml2
&gt; installation
&gt; ! failed or why Makefile.PL was not able to compile a
&gt; test program.
&gt; ! DEATH
&gt; !     exit 0; # 0 recommended by
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpantest.grango.org">http://cpantest.grango.org</a></span> &#40;Notes for CPAN Authors&#41;
&gt; !   }
&gt; ! }
&gt; ! 
&gt; !
&gt; #
&gt; --------------------------------------------------------------------------
&gt; #
&gt; ! # _NOW_ write the Makefile
&gt;   
&gt;   WriteMakefile&#40;
&gt; %INFOS,
&gt; ***************
&gt; *** 681,732 ****
&gt;       return $result;
&gt;   }
&gt; - sub have_library {
&gt; -     my &#40;$lib, $func&#41; = &#40;@_, &#34;blank&#34;&#41;;
&gt; -
&gt; printf&#40;&#34;checking for %s&#40;&#41; in -l%s... &#34;, $func, $lib&#41; if $func ne
&gt; &#34;blank&#34;;
&gt; -     printf&#40;&#34;looking for -l%s... &#34;, $lib&#41; if $func eq
&gt; &#34;blank&#34;;
&gt; - 
&gt; -     my $result;
&gt; -     if &#40;$func&#41; {
&gt; -         my
&gt; $libs = $is_Win32 ? &#34; $lib.lib  &#34; : &#34;-l$lib&#34;;
&gt; - #        my $libs =
&gt; &#34;-l$lib&#34;;
&gt; -         if &#40;$is_Win32&#41; {
&gt; -             $result =
&gt; try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
&gt; - #include &lt;windows.h&gt;
&gt; - #include
&gt; &lt;winsock.h&gt;
&gt; - blank&#40;&#41; { return 0; }
&gt; - int t&#40;&#41; { ${func}&#40;&#41;; return 0;
&gt; }
&gt; - SRC
&gt; -             unless &#40;$result&#41; {
&gt; -                 $result
&gt; = try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
&gt; - #include &lt;windows.h&gt;
&gt; - #include
&gt; &lt;winsock.h&gt;
&gt; - blank&#40;&#41; { return 0; }
&gt; - int t&#40;&#41; { void &#40;&#40;*p&#41;&#40;&#41;&#41;; p =
&gt; &#40;void &#40;&#40;*&#41;&#40;&#41;&#41;&#41;${func}; return 0; }
&gt; - SRC
&gt; -             }
&gt; -
&gt; }
&gt; -         else {
&gt; -             $result = try_link&#40;&lt;&lt;&#34;SRC&#34;, undef&#41;;
&gt; - blank&#40;&#41; { return 0; }
&gt; - int t&#40;&#41; { ${func}&#40;&#41;; return 0; }
&gt; - SRC
&gt; -
&gt; }
&gt; -     }
&gt; - 
&gt; -     unless &#40;$result&#41; {
&gt; -         print &#34;no\n&#34;;
&gt; -
&gt; return 0;
&gt; -     }
&gt; - 
&gt; -     if &#40;$func ne &#34;main&#34;&#41; {
&gt; -
&gt; $config{DEFINE} .= uc&#40;&#34; -Dhave_$func&#34;&#41;;
&gt; -     }
&gt; - 
&gt; -     print
&gt; &#34;yes\n&#34;;
&gt; -     return 1;
&gt; - }
&gt; - 
&gt;   #
&gt; --------------------------------------------------------------------------
&gt; #
&gt;   # try_libconfig class a generic config file and requests
&gt; --version, --libs and
&gt;   # --cflags
&gt; --- 716,721 ----
&gt; 
&gt; 
&gt; --
&gt; Dez.
&gt; -----Original Message-----
&gt; From: Shlomi Fish via RT [mailto:bug-XML-
&gt; LibXML@rt.cpan.org] 
&gt; Sent: Tuesday, October 16, 2012 6:03 PM
&gt; To:
&gt; Desmond Daignault
&gt; Subject: [rt.cpan.org #80229] Fails to create
&gt; Makefile on windows due to include path having spaces 
&gt; 
&gt; &lt;URL:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=80229">https://rt.cpan.org/Ticket/Display.html?id=80229</a></span> &gt;
&gt; 
&gt; Hi Desmond,
&gt; On Tue Oct 16 16:44:49 2012, desmond.daignault@oneil.com wrote:
<div class="message-stanza open">&gt; &gt; On
</div>&gt; Windows, check_lib_or_exit always fails. No matter what I set INC=
<div class="message-stanza open">&gt; &gt;
</div>&gt; to be on the command line.
<div class="message-stanza open">&gt; &gt; 
</div>&gt; 
&gt; Devel::CheckLib should support
&gt; Microsoft Visual C++ &#40;CL.EXE&#41; pretty well, and so you should see where
&gt; this is going wrong and fix it. You can use perl -d &#40;the perl
&gt; debugger&#41; to assist you.
&gt; 
<div class="message-stanza open">&gt; &gt; When using Visual Studio, it looks at
</div>&gt; the environment variable INCLUDE
<div class="message-stanza open">&gt; &gt;    to find include headers and the
</div>&gt; environment variable LIB to find
<div class="message-stanza open">&gt; &gt;    library files.
</div>&gt; 
&gt; Well, UNIX
&gt; compilers are using different variables &#40;see the gcc man page&#41;. The
&gt; question is which env vars CL.EXE supports.
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; eg:
&gt; &gt;
</div>&gt; INCLUDE=C:\project\win32\install\include;C:\Program Files\Microsoft
<div class="message-stanza open">&gt; &gt;
</div>&gt; Visual Studio 9.0\VC\ATLMFC\INCLUDE;C:\Program Files\Microsoft
<div class="message-stanza open">&gt; &gt;
</div>&gt; Visual Studio 9.0\VC\INCLUDE;C:\Program Files\\Microsoft
<div class="message-stanza open">&gt; &gt;
</div>&gt; SDKs\Windows\v6.0A\include;
<div class="message-stanza open">&gt; &gt;
</div>&gt; LIB=C:\project\win32\install\lib;C:\Program Files\Microsoft Visual
<div class="message-stanza open">&gt; &gt;
</div>&gt; Studio 9.0\VC\ATLMFC\LIB;C:\Program Files\Microsoft Visual Studio
<div class="message-stanza open">&gt; &gt;
</div>&gt; 9.0\VC\LIB;C:\P
<div class="message-stanza open">&gt; &gt; rogram Files\\Microsoft SDKs\Windows\v6.0A\lib;
&gt; &gt;
&gt; &gt; In the example above, the libxml2 library was installed in
&gt; &gt;
</div>&gt; c:\project\win32\install\lib and c:\project\win32\install\include.
<div class="message-stanza open">&gt; &gt;
&gt; &gt; If I remove the check_lib_or_exit function from Makefile.PL it
</div>&gt; builds
<div class="message-stanza open">&gt; &gt;    just fine when the environment has INCLUDE and LIB set
</div>&gt; correctly.
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; Additionally a warning can be removed when checking
</div>&gt; to see if LIBS was
<div class="message-stanza open">&gt; &gt;    passed on the command line.
&gt; &gt; 
</div>&gt; 
&gt; the
&gt; check_lib_or_exit call was added to prevent cases where the shared
&gt; library can be found, but the headers cannot be found, which makes the
&gt; build fails later. I&#39;d rather not avoid it anywhere.
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; patch
</div>&gt; follows:
<div class="message-stanza open">&gt; &gt; 
</div>&gt; 
&gt; The patch has two issues:
&gt; 
&gt; 1. It is not in unified
&gt; format - use diff -u next time &#40;you can also send us a bitbucket pull
&gt; request&#41;.
&gt; 
&gt; 2. The second is:
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt;
</div>&gt; **********************************************************************
<div class="message-stanza open">&gt; &gt; Confidentiality Notice
&gt; &gt; The information contained in this e-mail
</div>&gt; is confidential and intended
<div class="message-stanza open">&gt; &gt;    for use only by the person&#40;s&#41; or
</div>&gt; organization listed in the
<div class="message-stanza open">&gt; &gt;    address. If you have received this
</div>&gt; communication in error, please
<div class="message-stanza open">&gt; &gt;    contact the sender at O&#39;Neil &#38;
</div>&gt; Associates, Inc., immediately. Any
<div class="message-stanza open">&gt; &gt;    copying, dissemination, or
</div>&gt; distribution of this communication,
<div class="message-stanza open">&gt; &gt;    other than by the intended
</div>&gt; recipient, is strictly prohibited.
<div class="message-stanza open">&gt; &gt;
</div>&gt; **********************************************************************
<div class="message-stanza open">&gt; &gt; 
</div>&gt; 
&gt; this disclaimer prevents us from using the patch for our FOSS
&gt; project.
&gt; 
&gt; Regards,
&gt; 
&gt; -- Shlomi Fish
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130029" href="/Public/Bug/Display.html?id=80229#txn-1130029">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;11:14:26&nbsp;2012</span>
    <span class="description">desmond.daignault [...] oneil.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #80229] Fails to create Makefile on windows due to include path having spaces </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 17 Oct 2012 15:13:43 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-XML-LibXML [...] rt.cpan.org&#34; &lt;bug-XML-LibXML [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Desmond Daignault &lt;desmond.daignault [...] oneil.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130029/594509/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594509">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 17.1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130074" href="/Public/Bug/Display.html?id=80229#txn-1130074">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;13:06:57&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1130074/594532/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/594532">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 248b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I applied a modified version of this patch and released it as
XML-LibXML-2.0007. Thanks for the report and the patch.

A few notes:

1. You should have avoided the duplicate code. I fixed it.

2. Please use 4-whitespace indents instead of 2.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1130077" href="/Public/Bug/Display.html?id=80229#txn-1130077">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;13:06:58&nbsp;2012</span>
    <span class="description">SHLOMIF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.569492</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
