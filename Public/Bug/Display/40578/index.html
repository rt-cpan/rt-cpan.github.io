<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #40578 for App-Rad: help with more data on each command</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #40578 for App-Rad: help with more data on each command</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=App-Rad">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=App-Rad">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=App-Rad">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=App-Rad">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/App-Rad">App-Rad CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">40578</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=App-Rad">App-Rad</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">garu [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
notbenh [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-224362-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-224363-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=40578">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-527160" href="/Public/Bug/Display.html?id=40578#txn-527160">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;31&nbsp;18:18:47&nbsp;2008</span>
    <span class="description">notbenh [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> help with more data on each command</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/527160/263791/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/263791">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 583b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">it would be nice to have more context docs in your commands:

cmd help 
...
hello : will print out &#39;hello world&#39;


then in your command, something that allows you to export your docs, the
only two things that I can think of are messy but would work:

- have a seperate sub &#40;would require them being pulled from $c-&gt;commands
though :
sub hello {...};
sub hello_doc { return q{...} }

- use PPI to parse out POD
sub hello {
return &#39;hello world&#39;;
=for help 
...
= end help
}

Other then that I&#39;m loving having something else write up the 80% drudge
code for the small things. 

--
benh~
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-528093" href="/Public/Bug/Display.html?id=40578#txn-528093">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;23:15:49&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/528093/264317/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/264317">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Oct 31 18:18:47 2008, NOTBENH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it would be nice to have more context docs in your commands:
&gt; 
&gt; cmd help 
&gt; ...
&gt; hello : will print out &#39;hello world&#39;
&gt; 
</div>
I&#39;ve thought about it, and you&#39;re absolutely right! Unfortunately, I&#39;ve
only thought of somewhat messy solutions for it &#40;just like you said&#41;.
The elegant one will be a couple of releases away when you&#39;ll be able to
have a single module as a single command &#40;e.g.: Myapp::Commands::Cmd or
whatever&#41; and then we can have some special-purpose subroutines just for
that. On the other hand, this leads to bigger applications and may just
not be suitable for small &#34;single .pl&#34; apps, so it&#39;s still an issue for me.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; then in your command, something that allows you to export your docs, the
&gt; only two things that I can think of are messy but would work:
&gt; 
&gt; - have a seperate sub &#40;would require them being pulled from $c-&gt;commands
&gt; though :
&gt; sub hello {...};
&gt; sub hello_doc { return q{...} }
&gt; 
&gt; - use PPI to parse out POD
&gt; sub hello {
&gt; return &#39;hello world&#39;;
&gt; =for help 
&gt; ...
&gt; = end help
&gt; }
</div>
I&#39;m trying to give the greatest amount of freedom possible to the
developer, so I&#39;ll try to keep &#34;reserved&#34; subroutine names to a minimum.
On the other hand, I kinda liked your &#34;=for&#34; POD approach &#40;it&#39;s way
better than the ones I thought of so far&#41;. 

I&#39;ll give that a try right away &#40;too bad I didn&#39;t caught your report
until after I released 0.6&#41;, probably with Pod::Parser instead of PPI -
since I&#39;m trying to keep dependencies to a minimum and Pod::Parser is
5.8 core.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Other then that I&#39;m loving having something else write up the 80% drudge
&gt; code for the small things. 
&gt; 
</div>
Thanks! That&#39;s the general idea :&#41;

Please let me know if you have any more ideas, comments or requests for
App::Rad &#40;on this or any other subject to easen and improve it&#41;. It&#39;s
great to have feedback!

I&#39;ll update this ticket as soon as your request is implemented.

Best regards,

-b

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; --
&gt; benh~
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-528094" href="/Public/Bug/Display.html?id=40578#txn-528094">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;23:15:52&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-528096" href="/Public/Bug/Display.html?id=40578#txn-528096">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;23:15:54&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Given to GARU</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-532228" href="/Public/Bug/Display.html?id=40578#txn-532228">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;21:14:55&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/532228/266784/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/266784">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.7!

Now the register_commands&#40;&#41; method accepts not only rules but also a
list of commands with their help text. This way you can code like this:

sub setup {
   my $c = shift;

   $c-&gt;register_commands&#40;{
          &#39;hello&#39; =&gt; &#39;will print hello world&#39;,
          &#39;foo&#39;   =&gt; &#39;will do foo&#39;,
          &#39;bar&#39;   =&gt; &#39;will do bar&#39;,
      }&#41;;
}

and now &#39;hello&#39;, &#39;foo&#39; and &#39;bar&#39; have embedded help information :&#41;

./myapp.pl
Usage: myapp.pl command [arguments]

Available Commands:
    bar         will do bar
    foo         will do foo
    hello       will print hello world
    help        show syntax and available commands

Note that, in this example, I can have as many internal subs as I like,
as App::Rad will only register as commands the ones you told him to.

This version register_commands&#40;&#41; is a lot more powerful and can add
commands by rules, rule exceptions, or simple command listing. Please
refer to the documentation for advanced usage examples.

One small catch, though, is that I had to do a minor API change:

Now, &#34;ignore_suffix&#34;, &#34;ignore_prefix&#34; and &#34;ignore_regexp&#34; *must* start
with a dash &#40;&#34;-ignore_*&#41;, otherwise App::Rad will try to include a
command named &#34;ignore_prefix&#34;, etc.

I hope this is what you expected! Please let me know if this fulfills
your needs properly. And thanks again for the report!

-b

On Sun Nov 02 23:15:49 2008, GARU wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Oct 31 18:18:47 2008, NOTBENH wrote:
<div class="message-stanza open">&gt; &gt; it would be nice to have more context docs in your commands:
&gt; &gt; 
&gt; &gt; cmd help 
&gt; &gt; ...
&gt; &gt; hello : will print out &#39;hello world&#39;
&gt; &gt; 
</div>&gt; 
&gt; I&#39;ve thought about it, and you&#39;re absolutely right! Unfortunately, I&#39;ve
&gt; only thought of somewhat messy solutions for it &#40;just like you said&#41;.
&gt; The elegant one will be a couple of releases away when you&#39;ll be able to
&gt; have a single module as a single command &#40;e.g.: Myapp::Commands::Cmd or
&gt; whatever&#41; and then we can have some special-purpose subroutines just for
&gt; that. On the other hand, this leads to bigger applications and may just
&gt; not be suitable for small &#34;single .pl&#34; apps, so it&#39;s still an issue
</div>for me.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; then in your command, something that allows you to export your docs, the
&gt; &gt; only two things that I can think of are messy but would work:
&gt; &gt; 
&gt; &gt; - have a seperate sub &#40;would require them being pulled from $c-&gt;commands
&gt; &gt; though :
&gt; &gt; sub hello {...};
&gt; &gt; sub hello_doc { return q{...} }
&gt; &gt; 
&gt; &gt; - use PPI to parse out POD
&gt; &gt; sub hello {
&gt; &gt; return &#39;hello world&#39;;
&gt; &gt; =for help 
&gt; &gt; ...
&gt; &gt; = end help
&gt; &gt; }
</div>&gt; 
&gt; I&#39;m trying to give the greatest amount of freedom possible to the
&gt; developer, so I&#39;ll try to keep &#34;reserved&#34; subroutine names to a minimum.
&gt; On the other hand, I kinda liked your &#34;=for&#34; POD approach &#40;it&#39;s way
&gt; better than the ones I thought of so far&#41;. 
&gt; 
&gt; I&#39;ll give that a try right away &#40;too bad I didn&#39;t caught your report
&gt; until after I released 0.6&#41;, probably with Pod::Parser instead of PPI -
&gt; since I&#39;m trying to keep dependencies to a minimum and Pod::Parser is
&gt; 5.8 core.
&gt; 
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; Other then that I&#39;m loving having something else write up the 80% drudge
&gt; &gt; code for the small things. 
&gt; &gt; 
</div>&gt; 
&gt; Thanks! That&#39;s the general idea :&#41;
&gt; 
&gt; Please let me know if you have any more ideas, comments or requests for
&gt; App::Rad &#40;on this or any other subject to easen and improve it&#41;. It&#39;s
&gt; great to have feedback!
&gt; 
&gt; I&#39;ll update this ticket as soon as your request is implemented.
&gt; 
&gt; Best regards,
&gt; 
&gt; -b
&gt; 
<div class="message-stanza open">&gt; &gt; --
&gt; &gt; benh~
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-532230" href="/Public/Bug/Display.html?id=40578#txn-532230">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;21:14:58&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-532609" href="/Public/Bug/Display.html?id=40578#txn-532609">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;13&nbsp;15:51:25&nbsp;2008</span>
    <span class="description">ben.hengst [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40578] help with more data on each command</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Nov 2008 12:50:36 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-App-Rad [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> benh &lt;ben.hengst [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/532609/266989/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/266989">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">very cool. thanks.

On Wed, Nov 12, 2008 at 6:14 PM, Breno G. de Oliveira via RT
&lt;bug-App-Rad@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=40578">http://rt.cpan.org/Ticket/Display.html?id=40578</a></span> &gt;
&gt;
&gt; Fixed in 0.7!
&gt;
&gt; Now the register_commands&#40;&#41; method accepts not only rules but also a
&gt; list of commands with their help text. This way you can code like this:
&gt;
&gt; sub setup {
&gt;   my $c = shift;
&gt;
&gt;   $c-&gt;register_commands&#40;{
&gt;          &#39;hello&#39; =&gt; &#39;will print hello world&#39;,
&gt;          &#39;foo&#39;   =&gt; &#39;will do foo&#39;,
&gt;          &#39;bar&#39;   =&gt; &#39;will do bar&#39;,
&gt;      }&#41;;
&gt; }
&gt;
&gt; and now &#39;hello&#39;, &#39;foo&#39; and &#39;bar&#39; have embedded help information :&#41;
&gt;
&gt; ./myapp.pl
&gt; Usage: myapp.pl command [arguments]
&gt;
&gt; Available Commands:
&gt;    bar         will do bar
&gt;    foo         will do foo
&gt;    hello       will print hello world
&gt;    help        show syntax and available commands
&gt;
&gt; Note that, in this example, I can have as many internal subs as I like,
&gt; as App::Rad will only register as commands the ones you told him to.
&gt;
&gt; This version register_commands&#40;&#41; is a lot more powerful and can add
&gt; commands by rules, rule exceptions, or simple command listing. Please
&gt; refer to the documentation for advanced usage examples.
&gt;
&gt; One small catch, though, is that I had to do a minor API change:
&gt;
&gt; Now, &#34;ignore_suffix&#34;, &#34;ignore_prefix&#34; and &#34;ignore_regexp&#34; *must* start
&gt; with a dash &#40;&#34;-ignore_*&#41;, otherwise App::Rad will try to include a
&gt; command named &#34;ignore_prefix&#34;, etc.
&gt;
&gt; I hope this is what you expected! Please let me know if this fulfills
&gt; your needs properly. And thanks again for the report!
&gt;
&gt; -b
&gt;
&gt; On Sun Nov 02 23:15:49 2008, GARU wrote:
<div class="message-stanza open">&gt;&gt; On Fri Oct 31 18:18:47 2008, NOTBENH wrote:
<div class="message-stanza open">&gt;&gt; &gt; it would be nice to have more context docs in your commands:
&gt;&gt; &gt;
&gt;&gt; &gt; cmd help
&gt;&gt; &gt; ...
&gt;&gt; &gt; hello : will print out &#39;hello world&#39;
&gt;&gt; &gt;
</div>&gt;&gt;
&gt;&gt; I&#39;ve thought about it, and you&#39;re absolutely right! Unfortunately, I&#39;ve
&gt;&gt; only thought of somewhat messy solutions for it &#40;just like you said&#41;.
&gt;&gt; The elegant one will be a couple of releases away when you&#39;ll be able to
&gt;&gt; have a single module as a single command &#40;e.g.: Myapp::Commands::Cmd or
&gt;&gt; whatever&#41; and then we can have some special-purpose subroutines just for
&gt;&gt; that. On the other hand, this leads to bigger applications and may just
&gt;&gt; not be suitable for small &#34;single .pl&#34; apps, so it&#39;s still an issue
</div>&gt; for me.
<div class="message-stanza open">&gt;&gt;
<div class="message-stanza open">&gt;&gt; &gt;
&gt;&gt; &gt; then in your command, something that allows you to export your docs, the
&gt;&gt; &gt; only two things that I can think of are messy but would work:
&gt;&gt; &gt;
&gt;&gt; &gt; - have a seperate sub &#40;would require them being pulled from $c-&gt;commands
&gt;&gt; &gt; though :
&gt;&gt; &gt; sub hello {...};
&gt;&gt; &gt; sub hello_doc { return q{...} }
&gt;&gt; &gt;
&gt;&gt; &gt; - use PPI to parse out POD
&gt;&gt; &gt; sub hello {
&gt;&gt; &gt; return &#39;hello world&#39;;
&gt;&gt; &gt; =for help
&gt;&gt; &gt; ...
&gt;&gt; &gt; = end help
&gt;&gt; &gt; }
</div>&gt;&gt;
&gt;&gt; I&#39;m trying to give the greatest amount of freedom possible to the
&gt;&gt; developer, so I&#39;ll try to keep &#34;reserved&#34; subroutine names to a minimum.
&gt;&gt; On the other hand, I kinda liked your &#34;=for&#34; POD approach &#40;it&#39;s way
&gt;&gt; better than the ones I thought of so far&#41;.
&gt;&gt;
&gt;&gt; I&#39;ll give that a try right away &#40;too bad I didn&#39;t caught your report
&gt;&gt; until after I released 0.6&#41;, probably with Pod::Parser instead of PPI -
&gt;&gt; since I&#39;m trying to keep dependencies to a minimum and Pod::Parser is
&gt;&gt; 5.8 core.
&gt;&gt;
<div class="message-stanza open">&gt;&gt; &gt;
&gt;&gt; &gt; Other then that I&#39;m loving having something else write up the 80% drudge
&gt;&gt; &gt; code for the small things.
&gt;&gt; &gt;
</div>&gt;&gt;
&gt;&gt; Thanks! That&#39;s the general idea :&#41;
&gt;&gt;
&gt;&gt; Please let me know if you have any more ideas, comments or requests for
&gt;&gt; App::Rad &#40;on this or any other subject to easen and improve it&#41;. It&#39;s
&gt;&gt; great to have feedback!
&gt;&gt;
&gt;&gt; I&#39;ll update this ticket as soon as your request is implemented.
&gt;&gt;
&gt;&gt; Best regards,
&gt;&gt;
&gt;&gt; -b
&gt;&gt;
<div class="message-stanza open">&gt;&gt; &gt; --
&gt;&gt; &gt; benh~
</div>&gt;&gt;
</div>&gt;
&gt;
&gt;
&gt;
</div>


-- 
benh~

<span class="clickylink"><a target="new" rel="nofollow" href="http://three.sentenc.es/">http://three.sentenc.es/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-532611" href="/Public/Bug/Display.html?id=40578#txn-532611">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;13&nbsp;15:53:12&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-532932" href="/Public/Bug/Display.html?id=40578#txn-532932">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;14&nbsp;10:22:30&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-546816" href="/Public/Bug/Display.html?id=40578#txn-546816">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;23&nbsp;09:34:56&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/546816/275059/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/275059">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Some people complained about having to setup&#40;&#41; first in order to set the
help string for each command, so as of version 0.8 of App::Rad you can
also use the &#39;Help&#40;&#41;&#39; attribute:

   use strict;
   use warnings;
   use App::Rad;
   App::Rad-&gt;run&#40;&#41;;

   sub mycmd :Help&#40;this is my help string&#41; {
      ...
   }

   sub myothercmd
   :Help&#40;this is another help string&#41;
   {
      ...
   }

The default output would go something like this:

$ perl myapp.pl
Usage: myapp.pl command [arguments]

Available Commands:
    help        show syntax and available commands
    mycmd       this is my help string
    myothercmd  this is another help string


This way the command help text is near the command declaration itself,
so it&#39;s probably even easier to maintain.

Note that Perl attribute syntax is a little strict so you cannot put any
spaces between &#34;Help&#34; and &#34;&#40;&#34;. And I used &#34;Help&#40;&#41;&#34; instead of &#34;help&#40;&#41;&#34;
&#40;with lower &#34;h&#34;&#41; to avoid ambiguity with the &#39;help&#39; command and a name
clash with a possible &#40;but unlikely&#41; future built-in function of perl
itself.

Hope this improves the experience :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-546817" href="/Public/Bug/Display.html?id=40578#txn-546817">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;23&nbsp;09:34:57&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-546819" href="/Public/Bug/Display.html?id=40578#txn-546819">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;23&nbsp;09:35:59&nbsp;2008</span>
    <span class="description">garu [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.466454</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
