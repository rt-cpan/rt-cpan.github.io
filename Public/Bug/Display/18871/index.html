<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18871 for CPANPLUS: CPANPLUS sudo&#39;ing pollutes</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18871 for CPANPLUS: CPANPLUS sudo&#39;ing pollutes</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CPANPLUS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CPANPLUS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CPANPLUS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CPANPLUS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPANPLUS">CPANPLUS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18871</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CPANPLUS">CPANPLUS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
adamk [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-8270-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.061    </td>
  </tr>
  <tr id="CF-8271-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=18871">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-189168" href="/Public/Bug/Display.html?id=18871#txn-189168">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;22&nbsp;07:21:22&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CPANPLUS sudo&#39;ing pollutes</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/189168/68089/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/68089">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">When used with Module::AutoInstall to install a dependency &#40;as a
non-root user&#41;, CPANPLUS prompted to sudo the installation step.

Unfortunately, it resulted in creating some files owned by root, that
later on in the script could not be cleaned up properly.

Whenever CPANPLUS changes over to root, it should ensure that it doesn&#39;t
pollute the build directory with root-owned files, so that the build
directory can be cleaned up automatically as normal.

Adam K

/usr/bin/perl &#34;-Iinc&#34; &#34;-MExtUtils::Manifest=manicopy,maniread&#34; \
        -e &#34;manicopy&#40;maniread&#40;&#41;,&#39;Perl-MinimumVersion-0.13&#39;, &#39;best&#39;&#41;;&#34;
mkdir Perl-MinimumVersion-0.13
mkdir Perl-MinimumVersion-0.13/inc
mkdir Perl-MinimumVersion-0.13/inc/Module
mkdir Perl-MinimumVersion-0.13/inc/Module/Install
mkdir Perl-MinimumVersion-0.13/bin
mkdir Perl-MinimumVersion-0.13/t
mkdir Perl-MinimumVersion-0.13/lib
mkdir Perl-MinimumVersion-0.13/lib/Perl
cd Perl-MinimumVersion-0.13 &#38;&#38; /usr/bin/perl &#34;-Iinc&#34; Makefile.PL
*** Module::AutoInstall version 1.02
*** Checking for Perl dependencies...
[Core Features]
- Test::More       ...loaded. &#40;0.62 &gt;= 0.47&#41;
- File::Spec       ...loaded. &#40;3.16 &gt;= 0.80&#41;
- Carp             ...loaded. &#40;1.02&#41;
- version          ...missing. &#40;would need 0.59&#41;
- List::Util       ...loaded. &#40;1.180 &gt;= 1.17&#41;
- Params::Util     ...loaded. &#40;0.110 &gt;= 0.06&#41;
- File::Find::Rule ...loaded. &#40;0.280&#41;
- PPI              ...loaded. &#40;1.111 &gt;= 1.109&#41;
==&gt; Auto-install the 1 mandatory module&#40;s&#41; from CPAN? [y] y
*** Dependencies will be installed the next time you type &#39;make&#39;.
    &#40;You may need to do that as the &#39;root&#39; user.&#41;
*** Module::AutoInstall configuration finished.
Checking if your kit is complete...
Looks good
Warning: prerequisite version 0.59 not found. We have 0.500.
Writing Makefile for Perl::MinimumVersion
cd Perl-MinimumVersion-0.13 &#38;&#38; /usr/bin/make LIB=&#34;&#34;
LIBPERL_A=&#34;libperl.a&#34; LINKTYPE=&#34;dynamic&#34; PREFIX=&#34;/usr&#34; OPTIMIZE=&#34;&#34;
PASTHRU_DEFINE=&#34;&#34; PASTHRU_INC=&#34;&#34;
make[1]: Entering directory
`/tmp/cpan2/Perl-MinimumVersion/Perl-MinimumVersion-0.13&#39;
/usr/bin/perl &#34;-Iinc&#34; Makefile.PL --config= --installdeps=version,0.59
*** Installing dependencies...
[MSG] Checking if source files are up to date
[MSG] Updating source file &#39;01mailrc.txt.gz&#39;
[MSG] Trying to get &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.kernel.org/cpan/authors/01mailrc.txt.gz&#39;">http://mirrors.kernel.org/cpan/authors/01mailrc.txt.gz&#39;</a></span>
[MSG] Updating source file &#39;03modlist.data.gz&#39;
[MSG] Trying to get
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.kernel.org/cpan/modules/03modlist.data.gz&#39;">http://mirrors.kernel.org/cpan/modules/03modlist.data.gz&#39;</a></span>
[MSG] Updating source file &#39;02packages.details.txt.gz&#39;
[MSG] Trying to get
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.kernel.org/cpan/modules/02packages.details.txt.gz&#39;">http://mirrors.kernel.org/cpan/modules/02packages.details.txt.gz&#39;</a></span>
[MSG] Rebuilding author tree, this might take a while
[MSG] Rebuilding module tree, this might take a while
*** Installing version...
[MSG] Trying to get
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.kernel.org/cpan/authors/id/J/JP/JPEACOCK/version-0.59.tar.gz&#39;">http://mirrors.kernel.org/cpan/authors/id/J/JP/JPEACOCK/version-0.59.tar.gz&#39;</a></span>
[MSG] Trying to get
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.kernel.org/cpan/authors/id/J/JP/JPEACOCK/CHECKSUMS&#39;">http://mirrors.kernel.org/cpan/authors/id/J/JP/JPEACOCK/CHECKSUMS&#39;</a></span>
[MSG] Checksum matches for &#39;version-0.59.tar.gz&#39;
[MSG] Extracted &#39;version-0.59/&#39;
[MSG] Extracted &#39;version-0.59/t/&#39;
[MSG] Extracted &#39;version-0.59/t/02derived.t&#39;
[MSG] Extracted &#39;version-0.59/t/coretests.pm&#39;
[MSG] Extracted &#39;version-0.59/t/01base.t&#39;
[MSG] Extracted &#39;version-0.59/lib/&#39;
[MSG] Extracted &#39;version-0.59/lib/version.pod&#39;
[MSG] Extracted &#39;version-0.59/lib/version/&#39;
[MSG] Extracted &#39;version-0.59/lib/version/typemap&#39;
[MSG] Extracted &#39;version-0.59/lib/version.pm&#39;
[MSG] Extracted &#39;version-0.59/vperl/&#39;
[MSG] Extracted &#39;version-0.59/vperl/vpp.pm&#39;
[MSG] Extracted &#39;version-0.59/vutil/&#39;
[MSG] Extracted &#39;version-0.59/vutil/ppport.h&#39;
[MSG] Extracted &#39;version-0.59/vutil/vxs.pm&#39;
[MSG] Extracted &#39;version-0.59/vutil/vxs.xs&#39;
[MSG] Extracted &#39;version-0.59/vutil/vutil.c&#39;
[MSG] Extracted &#39;version-0.59/vutil/vutil.h&#39;
[MSG] Extracted &#39;version-0.59/README&#39;
[MSG] Extracted &#39;version-0.59/Changes&#39;
[MSG] Extracted &#39;version-0.59/Build.PL&#39;
[MSG] Extracted &#39;version-0.59/Makefile.PL&#39;
[MSG] Extracted &#39;version-0.59/META.yml&#39;
[MSG] Extracted &#39;version-0.59/MANIFEST&#39;
[MSG] Extracted &#39;version&#39; to &#39;/home/adam/.cpanplus/5.8.4/build/version-0.59&#39;
/usr/bin/perl -Iinc -I/usr/local/share/perl/5.8.4/ Build.PL --uninst 1
Creating custom builder _build/lib/version/Builder.pm in _build/lib/version
Checking whether your kit is complete...
Looks good
cc -I/usr/lib/perl/5.8/CORE -fPIC -c -D_REENTRANT -D_GNU_SOURCE
-DTHREADS_HAVE_PIDS -DDEBIAN -fno-strict-aliasing -I/usr/local/include
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -o _build/compilet.o
_build/compilet.c
cc -shared -L/usr/local/lib -o _build/compilet.so _build/compilet.o
Checking whether your kit is complete...
Looks good
Creating new &#39;Build&#39; script for &#39;version&#39; version &#39;0.59&#39;
cc -I./vutil -I/usr/lib/perl/5.8/CORE -fPIC -c -D_REENTRANT
-D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN -fno-strict-aliasing
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -o
./vutil/vutil.o ./vutil/vutil.c
lib/version.pm -&gt; blib/lib/version.pm
vutil/vxs.pm -&gt; blib/lib/version/vxs.pm
vutil/vxs.xs -&gt; lib/version/vxs.xs
lib/version/vxs.xs -&gt; lib/version/vxs.c
cc -I./vutil -I/usr/lib/perl/5.8/CORE -fPIC -c -D_REENTRANT
-D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN -fno-strict-aliasing
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -o
lib/version/vxs.o lib/version/vxs.c
ExtUtils::Mkbootstrap::Mkbootstrap&#40;&#39;lib/version/vxs&#39;&#41;
cc -shared -L/usr/local/lib -o blib/arch/auto/version/vxs/vxs.so
lib/version/vxs.o ./vutil/vutil.o
lib/version.pod -&gt; blib/lib/version.pod
Manifying blib/lib/version.pod -&gt; blib/libdoc/version.3pm
t/01base.......ok
t/02derived....ok
All tests successful.
Files=2, Tests=217,  1 wallclock secs &#40; 0.36 cusr +  0.07 csys =  0.43 CPU&#41;
Running [/usr/bin/sudo /usr/bin/perl
/home/adam/.cpanplus/5.8.4/build/version-0.59/Build install uninst=1]...
Password:
Skipping /usr/local/lib/perl/5.8.4/auto/version/vxs/vxs.bs &#40;unchanged&#41;
Installing /usr/local/lib/perl/5.8.4/auto/version/vxs/vxs.so
Files found in blib/arch: installing files in blib/lib into architecture
dependent library tree
Installing /usr/local/lib/perl/5.8.4/version.pm
Installing /usr/local/lib/perl/5.8.4/version.pod
Installing /usr/local/lib/perl/5.8.4/version/vxs.pm
Installing /usr/local/man/man3/version.3pm
Writing /usr/local/lib/perl/5.8.4/auto/version/vxs/.packlist
*** version successfully installed.
*** Module::AutoInstall installation finished.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-189171" href="/Public/Bug/Display.html?id=18871#txn-189171">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;22&nbsp;07:32:38&nbsp;2006</span>
    <span class="description">kane [...] xs4all.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #18871] CPANPLUS sudo&#39;ing pollutes </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 22 Apr 2006 13:30:59 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPANPLUS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] xs4all.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/189171/68092/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/68092">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Apr 22, 2006, at 1:21 PM, Guest via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When used with Module::AutoInstall to install a dependency &#40;as a
&gt; non-root user&#41;, CPANPLUS prompted to sudo the installation step.
&gt;
&gt; Unfortunately, it resulted in creating some files owned by root, that
&gt; later on in the script could not be cleaned up properly.
</div>
I dont see which files you&#39;re referring to in the output below :&#40;
The only part that seems to be run with sudo is this:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Running [/usr/bin/sudo /usr/bin/perl
&gt; /home/adam/.cpanplus/5.8.4/build/version-0.59/Build install  
&gt; uninst=1]...
</div>
And that technically shouldn&#39;t create *new* files, it should just copy
files to its intallation directory.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Whenever CPANPLUS changes over to root, it should ensure that it  
&gt; doesn&#39;t
&gt; pollute the build directory with root-owned files, so that the build
&gt; directory can be cleaned up automatically as normal.
</div>
Hmm, i dont know how it would do that, as it&#39;s running a &#39;make&#39; or  
&#39;build&#39;
command, of which we dont know the contents... so we can&#39;t know which  
files
have been created either that should have a differend owner than they  
have
now... but, still.. i dont know which &#39;offensive&#39; files have been  
created.

--

Jos Boumans

        How do I prove I am not crazy to people who are?

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-189172" href="/Public/Bug/Display.html?id=18871#txn-189172">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;22&nbsp;07:32:39&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-190193" href="/Public/Bug/Display.html?id=18871#txn-190193">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;26&nbsp;04:32:11&nbsp;2006</span>
    <span class="description">kane [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.295743</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
