<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #76379 for DBIx-Class-Migration: migration-sqlite.t test failure</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #76379 for DBIx-Class-Migration: migration-sqlite.t test failure</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DBIx-Class-Migration/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DBIx-Class-Migration/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DBIx-Class-Migration/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DBIx-Class-Migration/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/jjn1056/DBIx-Class-Migration/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBIx-Class-Migration">DBIx-Class-Migration CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">76379</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DBIx-Class-Migration/Active/">DBIx-Class-Migration</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
lxp [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242612-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.020    </td>
  </tr>
  <tr id="CF-242613-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;07&nbsp;09:22:54&nbsp;2012</span>
    <span class="description">lxp [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> migration-sqlite.t test failure</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">While attempting to install via cpanminus:

$ cpanm DBIx::Class::Migration
--&gt; Working on DBIx::Class::Migration
Fetching
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/J/JJ/JJNAPIORK/DBIx-Class-Migration-0.020.tar.gz">http://search.cpan.org/CPAN/authors/id/J/JJ/JJNAPIORK/DBIx-Class-Migration-0.020.tar.gz</a></span>
... OK
Configuring DBIx-Class-Migration-0.020 ... OK
Building and testing DBIx-Class-Migration-0.020 ... FAIL
! Installing DBIx::Class::Migration failed. See .../.cpanm/build.log for
details.

cpanminus build log is attached.

A quick Googling turns up this result, which may or may not be
relevant to the failure I have experienced:

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/module/DBD::SQLite#Transaction-and-Database-Locking">https://metacpan.org/module/DBD::SQLite#Transaction-and-Database-Locking</a></span>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> build.log</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">cpanm &#40;App::cpanminus&#41; 1.5010 on perl 5.012003 built for x86_64-linux
Work directory is /home/lx/.cpanm/work/1333804669.16878
You have make /usr/bin/make
You have LWP 6.04
You have /bin/tar: tar &#40;GNU tar&#41; 1.25
Copyright &#40;C&#41; 2010 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a></span>&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
You have /usr/bin/unzip
Searching DBIx::Class::Migration on cpanmetadb ...
--&gt; Working on DBIx::Class::Migration
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/J/JJ/JJNAPIORK/DBIx-Class-Migration-0.020.tar.gz">http://search.cpan.org/CPAN/authors/id/J/JJ/JJNAPIORK/DBIx-Class-Migration-0.020.tar.gz</a></span>
-&gt; OK
Unpacking DBIx-Class-Migration-0.020.tar.gz
Entering DBIx-Class-Migration-0.020
Checking configure dependencies from META.yml
Checking if you have ExtUtils::MakeMaker 6.30 ... Yes &#40;6.62&#41;
Configuring DBIx-Class-Migration-0.020
Running Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for DBIx::Class::Migration
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have Test::Requires 0 ... Yes &#40;0.06&#41;
Checking if you have Test::Most 0 ... Yes &#40;0.25&#41;
Checking if you have File::Path 0 ... Yes &#40;2.08_01&#41;
Checking if you have File::Spec::Functions 0 ... Yes &#40;3.33&#41;
Checking if you have DBD::SQLite 1.35 ... Yes &#40;1.35&#41;
Checking if you have MooseX::Traits::Pluggable 0 ... Yes &#40;0.10&#41;
Checking if you have File::Spec 0 ... Yes &#40;3.33&#41;
Checking if you have Config::MySQL 0.02 ... Yes &#40;0.02&#41;
Checking if you have JSON::XS 2.32 ... Yes &#40;2.32&#41;
Checking if you have DBIx::Class::DeploymentHandler 0.002100 ... Yes &#40;0.002112&#41;
Checking if you have MooseX::Getopt 0 ... Yes &#40;0.39&#41;
Checking if you have DBIx::Class::Fixtures 1.001014 ... Yes &#40;1.001015&#41;
Checking if you have MooseX::Types::LoadableClass 0 ... Yes &#40;0.008&#41;
Checking if you have File::Path 0 ... Yes &#40;2.08_01&#41;
Checking if you have DBIx::Class::Schema::Loader 0.07017 ... Yes &#40;0.07021&#41;
Checking if you have Moose 0 ... Yes &#40;2.0403&#41;
Checking if you have File::Copy 0 ... Yes &#40;2.18&#41;
Checking if you have SQL::Translator 0.11010 ... Yes &#40;0.11010&#41;
Checking if you have version 0.77 ... Yes &#40;0.97&#41;
Checking if you have Class::Load 0 ... Yes &#40;0.19&#41;
Checking if you have Pod::Parser 1.51 ... Yes &#40;1.51&#41;
Checking if you have File::ShareDir::ProjectDistDir 0.003001 ... Yes &#40;0.3.1&#41;
Checking if you have MooseX::Attribute::ENV 0.02 ... Yes &#40;0.02&#41;
Checking if you have File::Temp 0 ... Yes &#40;0.22&#41;
Checking if you have Devel::PartialDump 0 ... Yes &#40;0.15&#41;
Building and testing DBIx-Class-Migration-0.020
cp lib/DBIx/Class/Migration/Sandbox.pm blib/lib/DBIx/Class/Migration/Sandbox.pm
cp lib/DBIx/Class/Migration/MySQLSandbox.pm blib/lib/DBIx/Class/Migration/MySQLSandbox.pm
cp lib/DBIx/Class/Migration/Tutorial/AddMySQL.pod blib/lib/DBIx/Class/Migration/Tutorial/AddMySQL.pod
cp lib/DBIx/Class/Migration/SqliteSandbox.pm blib/lib/DBIx/Class/Migration/SqliteSandbox.pm
cp lib/DBIx/Class/Migration/RunScript/Trait/SchemaLoader.pm blib/lib/DBIx/Class/Migration/RunScript/Trait/SchemaLoader.pm
cp lib/Catalyst/TraitFor/Model/DBIC/Schema/FromMigration.pm blib/lib/Catalyst/TraitFor/Model/DBIC/Schema/FromMigration.pm
cp lib/DBIx/Class/Migration/Tutorial.pod blib/lib/DBIx/Class/Migration/Tutorial.pod
cp lib/DBIx/Class/Migration/TargetDirSandboxBuilder.pm blib/lib/DBIx/Class/Migration/TargetDirSandboxBuilder.pm
cp lib/DBIx/Class/Migration/ShareDirBuilder.pm blib/lib/DBIx/Class/Migration/ShareDirBuilder.pm
cp lib/Catalyst/TraitFor/Model/DBIC/Schema/FromMigration/_MigrationHelper.pm blib/lib/Catalyst/TraitFor/Model/DBIC/Schema/FromMigration/_MigrationHelper.pm
cp lib/DBIx/Class/Migration/Script.pm blib/lib/DBIx/Class/Migration/Script.pm
cp lib/DBIx/Class/Migration/Tutorial/SecondMigration.pod blib/lib/DBIx/Class/Migration/Tutorial/SecondMigration.pod
cp lib/DBIx/Class/Migration/Tutorial/FirstMigration.pod blib/lib/DBIx/Class/Migration/Tutorial/FirstMigration.pod
cp lib/DBIx/Class/Migration/TempDirSandboxBuilder.pm blib/lib/DBIx/Class/Migration/TempDirSandboxBuilder.pm
cp lib/DBIx/Class/Migration/SchemaLoader.pm blib/lib/DBIx/Class/Migration/SchemaLoader.pm
cp lib/DBIx/Class/Migration.pm blib/lib/DBIx/Class/Migration.pm
cp lib/DBIx/Class/Migration/Population.pm blib/lib/DBIx/Class/Migration/Population.pm
cp lib/DBIx/Class/Migration/Tutorial/Conclusion.pod blib/lib/DBIx/Class/Migration/Tutorial/Conclusion.pod
cp lib/DBIx/Class/Migration/Tutorial/ThirdMigration.pod blib/lib/DBIx/Class/Migration/Tutorial/ThirdMigration.pod
cp lib/DBIx/Class/Migration/PostgresqlSandbox.pm blib/lib/DBIx/Class/Migration/PostgresqlSandbox.pm
cp lib/DBIx/Class/Migration/Tutorial/Catalyst.pod blib/lib/DBIx/Class/Migration/Tutorial/Catalyst.pod
cp lib/DBIx/Class/Migration/FAQ.pod blib/lib/DBIx/Class/Migration/FAQ.pod
cp lib/DBIx/Class/Migration/TempDirBuilder.pm blib/lib/DBIx/Class/Migration/TempDirBuilder.pm
cp lib/Test/DBIx/Class/FixtureCommand/Population.pm blib/lib/Test/DBIx/Class/FixtureCommand/Population.pm
cp lib/DBIx/Class/Migration/Tutorial/Setup.pod blib/lib/DBIx/Class/Migration/Tutorial/Setup.pod
cp lib/DBIx/Class/Migration/Tutorial/Testing.pod blib/lib/DBIx/Class/Migration/Tutorial/Testing.pod
cp lib/DBIx/Class/Migration/Features.pod blib/lib/DBIx/Class/Migration/Features.pod
cp lib/DBIx/Class/Migration/RunScript.pm blib/lib/DBIx/Class/Migration/RunScript.pm
cp bin/dbic-migration blib/script/dbic-migration
/home/lx/perl5/perlbrew/perls/perl-5.12.3/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/dbic-migration
Manifying blib/man1/dbic-migration.1
Manifying blib/man3/DBIx::Class::Migration::Sandbox.3
Manifying blib/man3/DBIx::Class::Migration::MySQLSandbox.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::AddMySQL.3
Manifying blib/man3/DBIx::Class::Migration::RunScript::Trait::SchemaLoader.3
Manifying blib/man3/DBIx::Class::Migration::SqliteSandbox.3
Manifying blib/man3/Catalyst::TraitFor::Model::DBIC::Schema::FromMigration.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::SecondMigration.3
Manifying blib/man3/DBIx::Class::Migration::Script.3
Manifying blib/man3/Catalyst::TraitFor::Model::DBIC::Schema::FromMigration::_MigrationHelper.3
Manifying blib/man3/DBIx::Class::Migration::ShareDirBuilder.3
Manifying blib/man3/DBIx::Class::Migration::TargetDirSandboxBuilder.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::FirstMigration.3
Manifying blib/man3/DBIx::Class::Migration::SchemaLoader.3
Manifying blib/man3/DBIx::Class::Migration::TempDirSandboxBuilder.3
Manifying blib/man3/DBIx::Class::Migration::Population.3
Manifying blib/man3/DBIx::Class::Migration.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::Conclusion.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::ThirdMigration.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::Catalyst.3
Manifying blib/man3/DBIx::Class::Migration::PostgresqlSandbox.3
Manifying blib/man3/DBIx::Class::Migration::FAQ.3
Manifying blib/man3/Test::DBIx::Class::FixtureCommand::Population.3
Manifying blib/man3/DBIx::Class::Migration::TempDirBuilder.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::Testing.3
Manifying blib/man3/DBIx::Class::Migration::Tutorial::Setup.3
Manifying blib/man3/DBIx::Class::Migration::Features.3
Manifying blib/man3/DBIx::Class::Migration::RunScript.3
PERL_DL_NONLAZY=1 /home/lx/perl5/perlbrew/perls/perl-5.12.3/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-clean.t .............. ok
t/help.t .................. skipped: Test requires module &#39;Test::Trap&#39; but it&#39;s not found
t/migration-mysql.t ....... skipped: DBICM_TEST_MYSQL not set
t/migration-postgresql.t .. skipped: DBICM_TEST_PG not set
DBIx::Class::ResultSet::populate&#40;&#41;: execute_array&#40;&#41; aborted with &#39;database is locked&#39; at populate slice:
{
  code =&gt; &#34;bel&#34;
} at /home/lx/.cpanm/work/1333804669.16878/DBIx-Class-Migration-0.020/t/share/migrations/SQLite/deploy/1/002-artists.pl line 8
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
SV = IV&#40;0x5238818&#41; at 0x5238820
  REFCNT = 1
  FLAGS = &#40;ROK,READONLY&#41;
  RV = 0x5240938
    SV = PVHV&#40;0x518ae60&#41; at 0x5240938
      REFCNT = 1
      FLAGS = &#40;OBJECT,SHAREKEYS&#41;
      STASH = 0x36e1f00	&#34;DBI::db&#34;
      ARRAY = 0x0
      KEYS = 0
      FILL = 0
      MAX = 7
      RITER = -1
      EITER = 0x0
SV = IV&#40;0x52039c8&#41; at 0x52039d0
  REFCNT = 1
  FLAGS = &#40;ROK,READONLY&#41;
  RV = 0x521ebf8
    SV = PVHV&#40;0x5221850&#41; at 0x521ebf8
      REFCNT = 1
      FLAGS = &#40;OBJECT,SHAREKEYS&#41;
      STASH = 0x36e1f00	&#34;DBI::db&#34;
      ARRAY = 0x0
      KEYS = 0
      FILL = 0
      MAX = 7
      RITER = -1
      EITER = 0x0
t/migration-sqlite.t ...... 
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
All 13 subtests passed 
SV = IV&#40;0x458bcc0&#41; at 0x458bcc8
  REFCNT = 1
  FLAGS = &#40;ROK,READONLY&#41;
  RV = 0x45871e8
    SV = PVHV&#40;0x45a22e0&#41; at 0x45871e8
      REFCNT = 1
      FLAGS = &#40;OBJECT,SHAREKEYS&#41;
      STASH = 0x29e9720	&#34;DBI::db&#34;
      ARRAY = 0x0
      KEYS = 0
      FILL = 0
      MAX = 7
      RITER = -1
      EITER = 0x0
SV = IV&#40;0x457efe0&#41; at 0x457efe8
  REFCNT = 1
  FLAGS = &#40;ROK,READONLY&#41;
  RV = 0x4556460
    SV = PVHV&#40;0x4582d60&#41; at 0x4556460
      REFCNT = 1
      FLAGS = &#40;OBJECT,SHAREKEYS&#41;
      STASH = 0x29e9720	&#34;DBI::db&#34;
      ARRAY = 0x0
      KEYS = 0
      FILL = 0
      MAX = 7
      RITER = -1
      EITER = 0x0
t/runscript.t ............. ok
t/use.t ................... ok

Test Summary Report
-------------------
t/migration-sqlite.t    &#40;Wstat: 512 Tests: 13 Failed: 0&#41;
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
Files=7, Tests=37, 108 wallclock secs &#40; 0.07 usr  0.03 sys + 10.22 cusr  0.87 csys = 11.19 CPU&#41;
Result: FAIL
Failed 1/7 test programs. 0/37 subtests failed.
make: *** [test_dynamic] Error 255
-&gt; FAIL Installing DBIx::Class::Migration failed. See /home/lx/.cpanm/build.log for details.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;09&nbsp;01:32:38&nbsp;2012</span>
    <span class="description">lxp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Further information on this failure:

The failure is occurring on the $migration-&gt;install line within
the NEW_SCOPE_FOR_SCHEMA block of t/migration-sqlite.t, which
is line 95 in my copy of the file.

When this line is executed, the process hangs for 30 seconds
and then dies with the errors shown in the previous message of
this ticket.

This message makes specific reference to a 30-second timeout in
SQLite:

<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.scsys.co.uk/pipermail/dbd-sqlite/2009-April/000021.html">http://lists.scsys.co.uk/pipermail/dbd-sqlite/2009-April/000021.html</a></span>

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; SQLite doesn&#39;t really do locking.. It just runs a sort of
&gt; busy-wait loop, with a 30 second time-out. So if one process
&gt; holds a transaction for &gt;30 seconds, other processes will
&gt; fail with the error you&#39;re seeing.
</div>
This suggests that a previous transaction in this test is not
completing before the next one begins.

Without a proper understanding of DBIx::Class::Migration at
this stage, and therefore without an understanding of what is
occurring in this test, I can&#39;t determine whether this problem
is due to how SQLite is being used or due to DBD::SQLite &#40;or
SQLite&#41; itself.

Hope this helps!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;09&nbsp;01:32:39&nbsp;2012</span>
    <span class="description">lxp [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;11&nbsp;16:43:21&nbsp;2012</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">There was a small change in the newer release of DBIC:DeploymentHandler
which caused this problem to become evident.  I&#39;ve patch this code and
will send it on to CPAN in a bit.

Great debugging work, this did help me figure it out.  If you can&#39;t wait
til version 0.021 you can downgrade DBIC:DH to 0.002111 &#40;this regression
was caused by a code improvement in 0.002112&#41; in the meantime.

thanks for the report!

John

On Mon Apr 09 01:32:38 2012, LXP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Further information on this failure:
&gt; 
&gt; The failure is occurring on the $migration-&gt;install line within
&gt; the NEW_SCOPE_FOR_SCHEMA block of t/migration-sqlite.t, which
&gt; is line 95 in my copy of the file.
&gt; 
&gt; When this line is executed, the process hangs for 30 seconds
&gt; and then dies with the errors shown in the previous message of
&gt; this ticket.
&gt; 
&gt; This message makes specific reference to a 30-second timeout in
&gt; SQLite:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://lists.scsys.co.uk/pipermail/dbd-sqlite/2009-April/000021.html">http://lists.scsys.co.uk/pipermail/dbd-sqlite/2009-April/000021.html</a></span>
&gt; 
<div class="message-stanza open">&gt; &gt; SQLite doesn&#39;t really do locking.. It just runs a sort of
&gt; &gt; busy-wait loop, with a 30 second time-out. So if one process
&gt; &gt; holds a transaction for &gt;30 seconds, other processes will
&gt; &gt; fail with the error you&#39;re seeing.
</div>&gt; 
&gt; This suggests that a previous transaction in this test is not
&gt; completing before the next one begins.
&gt; 
&gt; Without a proper understanding of DBIx::Class::Migration at
&gt; this stage, and therefore without an understanding of what is
&gt; occurring in this test, I can&#39;t determine whether this problem
&gt; is due to how SQLite is being used or due to DBD::SQLite &#40;or
&gt; SQLite&#41; itself.
&gt; 
&gt; Hope this helps!
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;24&nbsp;07:51:11&nbsp;2012</span>
    <span class="description">lxp [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, John!  Version 0.021 solved the problem for me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other SystemError even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;24&nbsp;07:51:13&nbsp;2012</span>
    <span class="description">The RT System itself -  System error</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sending the previous mail has failed.  Please contact your admin, they can find more details in the logs.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;02&nbsp;13:44:51&nbsp;2012</span>
    <span class="description">jjnapiork [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
