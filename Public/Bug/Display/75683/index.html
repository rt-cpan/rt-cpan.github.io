<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75683 for Perl-Dist-Strawberry: gcc in perl is broken compared to mingw.org gcc</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75683 for Perl-Dist-Strawberry: gcc in perl is broken compared to mingw.org gcc</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Perl-Dist-Strawberry/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Dist-Strawberry">Perl-Dist-Strawberry CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75683</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Perl-Dist-Strawberry/Active/">Perl-Dist-Strawberry</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bulk88 [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-40214-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40215-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;21:12:50&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> gcc in perl is broken compared to mingw.org gcc</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The GCC 4.4.3 in Strawberry Perl 5.12.3 32 bit and the GCC 4.4.7 in
Strawberry Perl 5.14.2 are broken. The latest Mingw.org release which
has GCC 4.6.2 isn&#39;t broken.

The strawberry perl GCCs are incapable of using GCC builtins under -O0
optimization level preventing the creation of any PEs which do not link
to the CRT. GCC builtins are functionally identical to #pragma intrinsic
on MSVC. A sample program is included. It is called memcpy.c.

It was compiled with &#34;gcc memcpy.c -nostdlib -lkernel32  -o memcpy.exe
-v -Wall -O0&#34; using the 2 different Strawberry Perl GCCs mentioned
above. Each time the S. Perl GCCs converted the __builtin_memcpy
function to memcpy, which is a CRT function, then fail when they can&#39;t
link to the CRT. Mingw.org GCC does NOT exhibit this.

I brought the problem up on the mingw mailing list here previous
<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/mailarchive/message.php?msg_id=28930444">http://sourceforge.net/mailarchive/message.php?msg_id=28930444</a></span> They
determined it was a problem with Strawberry Perl GCC, not Mingw.org GCC.

Reading through the Changelogs from 4.4 to 4.6 of GCC here
<span class="clickylink"><a target="new" rel="nofollow" href="http://gcc.gnu.org/gcc-4.4/changes.html">http://gcc.gnu.org/gcc-4.4/changes.html</a></span> does not reveal anything about
this problem.



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_________________________________________________________________
C:\&gt;gcc -v
Using built-in specs.
Target: i686-w64-mingw32
Configured with: ../gcc44-svn/configure --target=i686-w64-mingw32
--host=i686-w6
4-mingw32 --disable-multilib --disable-nls --disable-win32-registry
--prefix=/mi
ngw32 --with-gmp=/mingw32 --with-mpfr=/mingw32 --enable-languages=c,c++
Thread model: win32
gcc version 4.4.3 &#40;GCC&#41;

C:\&gt;perl -V
Summary of my perl5 &#40;revision 5 version 12 subversion 3&#41; configuration:

  Platform:
    osname=MSWin32, osvers=5.1, archname=MSWin32-x86-multi-thread
    uname=&#39;Win32 strawberryperl 5.12.3.0 #1 Sun May 15 09:44:53 2011 i386&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39; -s -O2 -DWIN32 -DHAVE_DES_FCRYPT 
-DUSE_SITECUSTOMIZE -
DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing
-mms-bitfields -
DPERL_MSVCRT_READFIX&#39;,
    optimize=&#39;-s -O2&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.3&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=undef, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;long
long&#39;, lseek
size=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++&#39;, ldflags =&#39;-s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c\lib&#34;&#39;
    libpth=C:\sperl\c\lib C:\sperl\c\i686-w64-mingw32\lib
    libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32
-ladvapi32
 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm
-lversion
 -lodbc32 -lodbccp32 -lcomctl32
    perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool
-lcomdlg32 -ladva
pi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr
-lwinmm -lver
sion -lodbc32 -lodbccp32 -lcomctl32
    libc=, so=dll, useshrplib=true, libperl=libperl512.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-mdll -s -L&#34;C:\sperl\perl\lib\CORE&#34;
-L&#34;C:\sperl\c
\lib&#34;&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
                        PERL_MALLOC_WRAP PL_OP_SLAB_ALLOC USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_PERL_ATOF
                        USE_SITECUSTOMIZE
  Built under MSWin32
  Compiled at May 15 2011 17:02:01
  %ENV:
    PERL_JSON_BACKEND=&#34;JSON::XS&#34;
    PERL_YAML_BACKEND=&#34;YAML&#34;
  @INC:
    C:/sperl/perl/site/lib
    C:/sperl/perl/vendor/lib
    C:/sperl/perl/lib
    .

C:\&gt;

and 

C:\&gt;gcc -v
Using built-in specs.
Target: x86_64-w64-mingw32
Configured with: ../gcc44-svn/configure --host=x86_64-w64-mingw32
--target=x86_6
4-w64-mingw32 --disable-multilib --enable-checking=release
--prefix=/opt/mingw64
 --enable-languages=c,c++,fortran --enable-libgomp
--with-gmp=/opt/mingw64 --wit
h-mpfr=/opt/mingw64 --disable-nls --disable-win32-registry
Thread model: win32
gcc version 4.4.7 20111023 &#40;prerelease&#41; [svn/rev.180339 - mingw-w64/oz]
&#40;GCC&#41;

C:\&gt;perl -V
Summary of my perl5 &#40;revision 5 version 14 subversion 2&#41; configuration:

  Platform:
    osname=MSWin32, osvers=4.0, archname=MSWin32-x64-multi-thread
    uname=&#39;Win32 strawberryperl 5.14.2.1 #1 Tue Nov 22 22:40:59 2011 x64&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39; -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE 
-DPERL_TEXTMODE_
SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS
-fno-str
ict-aliasing -mms-bitfields&#39;,
    optimize=&#39;-s -O2&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.7&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;long
long&#39;,
lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++&#39;, ldflags =&#39;-s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c\lib&#34;&#39;
    libpth=C:\sperl\c\lib C:\sperl\c\x86_64-w64-mingw32\lib
    libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32
-ladvapi32
 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm
-lversion
 -lodbc32 -lodbccp32 -lcomctl32
    perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool
-lcomdlg32 -ladva
pi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr
-lwinmm -lver
sion -lodbc32 -lodbccp32 -lcomctl32
    libc=, so=dll, useshrplib=true, libperl=libperl514.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-mdll -s -L&#34;C:\sperl\perl\lib\CORE&#34;
-L&#34;C:\sperl\c
\lib&#34;&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
                        PERL_MALLOC_WRAP PERL_PRESERVE_IVUV PL_OP_SLAB_ALLOC
                        USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES
                        USE_PERLIO USE_PERL_ATOF USE_SITECUSTOMIZE
  Built under MSWin32
  Compiled at Nov 22 2011 22:53:05
  %ENV:
    PERL_JSON_BACKEND=&#34;JSON::XS&#34;
    PERL_YAML_BACKEND=&#34;YAML&#34;
  @INC:
    C:/sperl/perl/site/lib
    C:/sperl/perl/vendor/lib
    C:/sperl/perl/lib
    .

C:\&gt;


<div class="message-stanza open">_________________________________________________________________
mingw GCC

$ gcc -v
Using built-in specs.
COLLECT_GCC=C:\sources\MinGW\bin\gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw/bin/../libexec/gcc/mingw32/4.6.2/lto-wrappe
r.exe
Target: mingw32
Configured with: ../gcc-4.6.2/configure
--enable-languages=c,c++,ada,fortran,obj
c,obj-c++ --disable-sjlj-exceptions --with-dwarf2 --enable-shared
--enable-libgo
mp --disable-win32-registry --enable-libstdcxx-debug
--enable-version-specific-r
untime-libs --build=mingw32 --prefix=/mingw
Thread model: win32
gcc version 4.6.2 &#40;GCC&#41;

$
</div></div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> memcpy.c</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#include &lt;windows.h&gt;

int CALLBACK WinMain&#40; HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nCmdShow &#41;
{
    char * str2  = &#34;Hello World from memcpy Line 2&#34;;
    int sizestr2 = sizeof&#40;&#34;Hello World from memcpy Line 2&#34;&#41;;
    char * str = HeapAlloc&#40;GetProcessHeap&#40;&#41;, 0, 1000&#41;;
    char * str3 = HeapAlloc&#40;GetProcessHeap&#40;&#41;, HEAP_ZERO_MEMORY, 1000&#41;;
    __builtin_memcpy&#40;str, str3, 1000&#41;;
    __builtin_memcpy&#40;str, str2, sizestr2&#41;;
    WriteFile&#40;GetStdHandle&#40;STD_OUTPUT_HANDLE&#41;, &#34;Hello World from memcpy\n&#34;, sizeof&#40;&#34;Hello World from memcpy\n&#34;&#41;, NULL, NULL&#41;;
    WriteFile&#40;GetStdHandle&#40;STD_OUTPUT_HANDLE&#41;, str, sizestr2, NULL, NULL&#41;;
    return 1;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;15:59:41&nbsp;2012</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75683] gcc in perl is broken compared to mingw.org gcc</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 Mar 2012 20:59:25 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for your report.

The upcoming strawberry perl 5.16.0 will be probably bundled with 
gcc-4.6.3 I&#39;ll check whether the new compiler still suffers from this issue.

However keep in mind that we are not using gcc+c-runtime from 
<span class="clickylink"><a target="new" rel="nofollow" href="http://mingw.org">http://mingw.org</a></span> project but from <span class="clickylink"><a target="new" rel="nofollow" href="http://mingw-w64.sf.net">http://mingw-w64.sf.net</a></span> project &#40;it is 
mostly due to the much better 64bit support&#41;.

So for us it would be better if you can bring this issue to 
mingw-w64-public@lists.sourceforge.net mailing list &#40;see 
<span class="clickylink"><a target="new" rel="nofollow" href="https://lists.sourceforge.net/lists/listinfo/mingw-w64-public&#41;">https://lists.sourceforge.net/lists/listinfo/mingw-w64-public&#41;</a></span>

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;15:59:42&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;11&nbsp;22:27:27&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88 [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 11 15:59:41 2012, kmx@volny.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for your report.
&gt; 
&gt; The upcoming strawberry perl 5.16.0 will be probably bundled with 
&gt; gcc-4.6.3 I&#39;ll check whether the new compiler still suffers from this
</div>issue.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; However keep in mind that we are not using gcc+c-runtime from 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://mingw.org">http://mingw.org</a></span> project but from <span class="clickylink"><a target="new" rel="nofollow" href="http://mingw-w64.sf.net">http://mingw-w64.sf.net</a></span> project &#40;it is 
&gt; mostly due to the much better 64bit support&#41;.
&gt; 
&gt; So for us it would be better if you can bring this issue to 
&gt; mingw-w64-public@lists.sourceforge.net mailing list &#40;see 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://lists.sourceforge.net/lists/listinfo/mingw-w64-public&#41;">https://lists.sourceforge.net/lists/listinfo/mingw-w64-public&#41;</a></span>
&gt; 
&gt; --
&gt; kmx
</div>

I downloaded mingw64, mingw-w32-bin_i686-mingw_20111219.zip to be
specific. The no builtins under -O0 bug is in
mingw-w32-bin_i686-mingw_20111219.zip .
_________________________________________________-
C:\&gt;i686-w64-mingw32-gcc.exe -v
Using built-in specs.
COLLECT_GCC=i686-w64-mingw32-gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0
/lto-wrapper.exe
Target: i686-w64-mingw32
Configured with: ../../../build/gcc/src/configure
--target=i686-w64-mingw32 --pr
efix=/c/bb/vista64-mingw32/mingw-x86-x86/build/build/root
--with-sysroot=/c/bb/v
ista64-mingw32/mingw-x86-x86/build/build/root
--enable-languages=all,obj-c++ --e
nable-fully-dynamic-string --disable-multilib
Thread model: win32
gcc version 4.7.0 20111219 &#40;experimental&#41; &#40;GCC&#41;

C:\&gt;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">________________________________________________________


C:\&gt;i686-w64-mingw32-gcc.exe  memcpy.c -nostdlib -lkernel32 -o
memcpy.exe -v -Wall -O0
Using built-in specs.
COLLECT_GCC=i686-w64-mingw32-gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0
/lto-wrapper.exe
Target: i686-w64-mingw32
Configured with: ../../../build/gcc/src/configure
--target=i686-w64-mingw32 --pr
efix=/c/bb/vista64-mingw32/mingw-x86-x86/build/build/root
--with-sysroot=/c/bb/v
ista64-mingw32/mingw-x86-x86/build/build/root
--enable-languages=all,obj-c++ --e
nable-fully-dynamic-string --disable-multilib
Thread model: win32
gcc version 4.7.0 20111219 &#40;experimental&#41; &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/cc1.exe
-quiet -v
-iprefix c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/
-U_REENTRANT
memcpy.c -quiet -dumpbase memcpy.c -mtune=generic -march=pentiumpro
-auxbase mem
cpy -O0 -Wall -version -o C:\WINDOWS\TEMP\cck8k7EP.s
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version
2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include&#34;
ignoring nonexistent directory
&#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/bb/vista64-mingw32/mingw-x86-x86/build/build/root/lib/gcc/i686-w64-mingw3
2/4.7.0/../../../../include&#34;
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include-fixed&#34;
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/../../../../i686-w64-mingw32/include&#34;
ignoring nonexistent directory
&#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include-fixed
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/include
End of search list.
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version
2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
Compiler executable checksum: 8c5ba8a77bffe2fbf96ff9655da73258
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/bin/as.exe -o C:\WINDOWS\TEMP\ccn4o83d.o C:\WINDOWS\TEMP\cck8k7EP.s
COMPILER_PATH=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/;c:/s
ources/mingw64/bin/../libexec/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mi
ngw32/4.7.0/../../../../i686-w64-mingw32/bin/
LIBRARY_PATH=c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/;c:/source
s/mingw64/bin/../lib/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7
.0/../../../../i686-w64-mingw32/lib/../lib/;c:/sources/mingw64/bin/../lib/gcc/i6
86-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib/
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/collect2.exe --sys
root=c:/bb/vista64-mingw32/mingw-x86-x86/build/build/root -m i386pe
-Bdynamic -o
 memcpy.exe -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0
-Lc:/sour
ces/mingw64/bin/../lib/gcc
-Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/
4.7.0/../../../../i686-w64-mingw32/lib/../lib
-Lc:/sources/mingw64/bin/../lib/gc
c/i686-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib
C:\WINDOWS\TEMP\ccn4o8
3d.o -lkernel32
C:\WINDOWS\TEMP\ccn4o83d.o:memcpy.c:&#40;.text+0xea&#41;: undefined reference to
`_memcp
y&#39;
collect2.exe: error: ld returned 1 exit status

C:\&gt;i686-w64-mingw32-gcc.exe  memcpy.c -nostdlib -lkernel32 -o
memcpy.exe -v -Wall -O1
Using built-in specs.
COLLECT_GCC=i686-w64-mingw32-gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0
/lto-wrapper.exe
Target: i686-w64-mingw32
Configured with: ../../../build/gcc/src/configure
--target=i686-w64-mingw32 --pr
efix=/c/bb/vista64-mingw32/mingw-x86-x86/build/build/root
--with-sysroot=/c/bb/v
ista64-mingw32/mingw-x86-x86/build/build/root
--enable-languages=all,obj-c++ --e
nable-fully-dynamic-string --disable-multilib
Thread model: win32
gcc version 4.7.0 20111219 &#40;experimental&#41; &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O1&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/cc1.exe
-quiet -v
-iprefix c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/
-U_REENTRANT
memcpy.c -quiet -dumpbase memcpy.c -mtune=generic -march=pentiumpro
-auxbase mem
cpy -O1 -Wall -version -o C:\WINDOWS\TEMP\ccwlIPkV.s
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version
2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include&#34;
ignoring nonexistent directory
&#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/bb/vista64-mingw32/mingw-x86-x86/build/build/root/lib/gcc/i686-w64-mingw3
2/4.7.0/../../../../include&#34;
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include-fixed&#34;
ignoring duplicate directory
&#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/../../../../i686-w64-mingw32/include&#34;
ignoring nonexistent directory
&#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include-fixed
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/include
End of search list.
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version
2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
Compiler executable checksum: 8c5ba8a77bffe2fbf96ff9655da73258
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O1&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/bin/as.exe -o C:\WINDOWS\TEMP\cc9gUDWs.o C:\WINDOWS\TEMP\ccwlIPkV.s
COMPILER_PATH=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/;c:/s
ources/mingw64/bin/../libexec/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mi
ngw32/4.7.0/../../../../i686-w64-mingw32/bin/
LIBRARY_PATH=c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/;c:/source
s/mingw64/bin/../lib/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7
.0/../../../../i686-w64-mingw32/lib/../lib/;c:/sources/mingw64/bin/../lib/gcc/i6
86-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib/
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O1&#39;
&#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/collect2.exe --sys
root=c:/bb/vista64-mingw32/mingw-x86-x86/build/build/root -m i386pe
-Bdynamic -o
 memcpy.exe -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0
-Lc:/sour
ces/mingw64/bin/../lib/gcc
-Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/
4.7.0/../../../../i686-w64-mingw32/lib/../lib
-Lc:/sources/mingw64/bin/../lib/gc
c/i686-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib
C:\WINDOWS\TEMP\cc9gUD
Ws.o -lkernel32

C:\&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;04:45:32&nbsp;2012</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75683] gcc in perl is broken compared to mingw.org gcc</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Mar 2012 09:45:21 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">unfortunately gcc-4.6.3+mingw-w64 runtime &#40;which is a candidate to be 
bundled with upcoming strawberry perl&#41; seems to throw an error:

c:\test&gt; gcc memcpy.c -nostdlib -lkernel32 -o memcpy.exe -v -Wall -O0
...
memcpy.c:&#40;.text+0xea&#41;: undefined reference to `memcpy&#39;

Which is - if I understand correctly - the buggy behaviour, right?

I will try to investigate what I can do about that &#40;to be honest I do 
not want to jump directly to gcc-4.7.0&#41;

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;10:30:10&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88 [...] hotmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 12 04:45:32 2012, kmx@volny.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; unfortunately gcc-4.6.3+mingw-w64 runtime &#40;which is a candidate to be 
&gt; bundled with upcoming strawberry perl&#41; seems to throw an error:
&gt; 
&gt; c:\test&gt; gcc memcpy.c -nostdlib -lkernel32 -o memcpy.exe -v -Wall -O0
&gt; ...
&gt; memcpy.c:&#40;.text+0xea&#41;: undefined reference to `memcpy&#39;
&gt; 
&gt; Which is - if I understand correctly - the buggy behaviour, right?
&gt; 
&gt; I will try to investigate what I can do about that &#40;to be honest I do 
&gt; not want to jump directly to gcc-4.7.0&#41;
&gt; 
&gt; --
&gt; kmx
</div>
Correct.

Mingw64 refused to fix it claiming its a problem with GCC. Then why does
it compile fine with Mingw.org GCC? 
<span class="clickylink"><a target="new" rel="nofollow" href="https://sourceforge.net/tracker/?func=detail&#38;atid=983354&#38;aid=3502290&#38;group_id=202880">https://sourceforge.net/tracker/?func=detail&#38;atid=983354&#38;aid=3502290&#38;group_id=202880</a></span>

I included the 2 build logs from mingw.org gcc and mingw64 gcc as
attachments.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mingw64.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
C:\Documents and Settings\Owner\Desktop\memcpy&gt;i686-w64-mingw32-gcc.exe memcpy.c
 -nostdlib -lkernel32 -o memcpy.exe -v -Wall -O0
Using built-in specs.
COLLECT_GCC=i686-w64-mingw32-gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0
/lto-wrapper.exe
Target: i686-w64-mingw32
Configured with: ../../../build/gcc/src/configure --target=i686-w64-mingw32 --pr
efix=/c/bb/vista64-mingw32/mingw-x86-x86/build/build/root --with-sysroot=/c/bb/v
ista64-mingw32/mingw-x86-x86/build/build/root --enable-languages=all,obj-c++ --e
nable-fully-dynamic-string --disable-multilib
Thread model: win32
gcc version 4.7.0 20111219 &#40;experimental&#41; &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/cc1.exe -quiet -v
-iprefix c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/ -U_REENTRANT
memcpy.c -quiet -dumpbase memcpy.c -mtune=generic -march=pentiumpro -auxbase mem
cpy -O0 -Wall -version -o C:\WINDOWS\TEMP\ccTOOrc5.s
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version 2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include&#34;
ignoring nonexistent directory &#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/bb/vista64-mingw32/mingw-x86-x86/build/build/root/lib/gcc/i686-w64-mingw3
2/4.7.0/../../../../include&#34;
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include-fixed&#34;
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/../../../../i686-w64-mingw32/include&#34;
ignoring nonexistent directory &#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include-fixed
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/include
End of search list.
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version 2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
Compiler executable checksum: 8c5ba8a77bffe2fbf96ff9655da73258
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/bin/as.exe -o C:\WINDOWS\TEMP\ccXTDQrL.o C:\WINDOWS\TEMP\ccTOOrc5.s
COMPILER_PATH=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/;c:/s
ources/mingw64/bin/../libexec/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mi
ngw32/4.7.0/../../../../i686-w64-mingw32/bin/
LIBRARY_PATH=c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/;c:/source
s/mingw64/bin/../lib/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7
.0/../../../../i686-w64-mingw32/lib/../lib/;c:/sources/mingw64/bin/../lib/gcc/i6
86-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib/
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=gen
eric&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/collect2.exe --sys
root=c:/bb/vista64-mingw32/mingw-x86-x86/build/build/root -m i386pe -Bdynamic -o
 memcpy.exe -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0 -Lc:/sour
ces/mingw64/bin/../lib/gcc -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/
4.7.0/../../../../i686-w64-mingw32/lib/../lib -Lc:/sources/mingw64/bin/../lib/gc
c/i686-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib C:\WINDOWS\TEMP\ccXTDQ
rL.o -lkernel32
C:\WINDOWS\TEMP\ccXTDQrL.o:memcpy.c:&#40;.text+0xea&#41;: undefined reference to `_memcp
y&#39;
collect2.exe: error: ld returned 1 exit status

C:\Documents and Settings\Owner\Desktop\memcpy&gt;</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mingworg.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">C:\Documents and Settings\Owner\Desktop\memcpy&gt;gcc memcpy.c -nostdlib -lkernel32
 -o memcpy.exe -v -Wall -O0
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=c:/sources/mingw/bin/../libexec/gcc/mingw32/4.6.2/lto-wrappe
r.exe
Target: mingw32
Configured with: ../gcc-4.6.2/configure --enable-languages=c,c++,ada,fortran,obj
c,obj-c++ --disable-sjlj-exceptions --with-dwarf2 --enable-shared --enable-libgo
mp --disable-win32-registry --enable-libstdcxx-debug --enable-version-specific-r
untime-libs --build=mingw32 --prefix=/mingw
Thread model: win32
gcc version 4.6.2 &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=i38
6&#39; &#39;-march=i386&#39;
 c:/sources/mingw/bin/../libexec/gcc/mingw32/4.6.2/cc1.exe -quiet -v -iprefix c:
\sources\mingw\bin\../lib/gcc/mingw32/4.6.2/ memcpy.c -quiet -dumpbase memcpy.c
-mtune=i386 -march=i386 -auxbase memcpy -O0 -Wall -version -o C:\WINDOWS\TEMP\cc
gVjZfc.s
GNU C &#40;GCC&#41; version 4.6.2 &#40;mingw32&#41;
        compiled by GNU C version 4.6.2, GMP version 5.0.1, MPFR version 2.4.1,
MPC version 0.8.1
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
ignoring nonexistent directory &#34;c:\sources\mingw\bin\../lib/gcc/mingw32/4.6.2/..
/../../../mingw32/include&#34;
ignoring duplicate directory &#34;c:/sources/mingw/lib/gcc/../../lib/gcc/mingw32/4.6
.2/include&#34;
ignoring nonexistent directory &#34;/mingw/include&#34;
ignoring duplicate directory &#34;c:/sources/mingw/lib/gcc/../../include&#34;
ignoring duplicate directory &#34;c:/sources/mingw/lib/gcc/../../lib/gcc/mingw32/4.6
.2/include-fixed&#34;
ignoring nonexistent directory &#34;c:/sources/mingw/lib/gcc/../../lib/gcc/mingw32/4
.6.2/../../../../mingw32/include&#34;
ignoring nonexistent directory &#34;/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sources\mingw\bin\../lib/gcc/mingw32/4.6.2/include
 c:\sources\mingw\bin\../lib/gcc/mingw32/4.6.2/../../../../include
 c:\sources\mingw\bin\../lib/gcc/mingw32/4.6.2/include-fixed
End of search list.
GNU C &#40;GCC&#41; version 4.6.2 &#40;mingw32&#41;
        compiled by GNU C version 4.6.2, GMP version 5.0.1, MPFR version 2.4.1,
MPC version 0.8.1
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
Compiler executable checksum: c20aed7c018482d7b62efcd5dcab2a9d
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=i38
6&#39; &#39;-march=i386&#39;
 c:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../../mingw32/bin/as.exe -o
 C:\WINDOWS\TEMP\cccGyX7k.o C:\WINDOWS\TEMP\ccgVjZfc.s
COMPILER_PATH=c:/sources/mingw/bin/../libexec/gcc/mingw32/4.6.2/;c:/sources/ming
w/bin/../libexec/gcc/;c:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../../
mingw32/bin/
LIBRARY_PATH=c:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/;c:/sources/mingw/bin
/../lib/gcc/;c:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../../mingw32/l
ib/;c:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=i38
6&#39; &#39;-march=i386&#39;
 c:/sources/mingw/bin/../libexec/gcc/mingw32/4.6.2/collect2.exe -Bdynamic -o mem
cpy.exe -Lc:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2 -Lc:/sources/mingw/bin/.
./lib/gcc -Lc:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../../../mingw32/li
b -Lc:/sources/mingw/bin/../lib/gcc/mingw32/4.6.2/../../.. C:\WINDOWS\TEMP\cccGy
X7k.o -lkernel32

C:\Documents and Settings\Owner\Desktop\memcpy&gt;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;12&nbsp;15:12:52&nbsp;2012</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75683] gcc in perl is broken compared to mingw.org gcc</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Mar 2012 20:12:41 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Perl-Dist-Strawberry [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

a hint from Mark Dootson &#40;his gcc-4.6.3 binaries are about to be used in 
strawberry perl 5.16.0&#41; - try the following workaround with mingw-w64:

c:\test&gt; i686-w64-mingw32-gcc.exe memcpy.c -nostdlib -lkernel32 -o 
memcpy.exe -v -Wall -O0 -mtune=pentiumpro

It really seems to be a gcc issue in in the target specific 
specification files which are different for mingw.org and mingw-w64.sf.net

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;02:05:02&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88 [...] hotmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; c:\test&gt; i686-w64-mingw32-gcc.exe memcpy.c -nostdlib -lkernel32 -o 
&gt; memcpy.exe -v -Wall -O0 -mtune=pentiumpro
&gt; 
&gt; It really seems to be a gcc issue in in the target specific 
&gt; specification files which are different for mingw.org and mingw-w64.sf.net
&gt; 
&gt; --
&gt; kmx
&gt; 
</div>
On S Perl 5.14 x64, mtune=native failed, tried to link to CRT
On S Perl 5.12 x86, mtune=pentiumpro failed, tried to link to CRT
On Mingw64 latest x86 &#40;mingw-w32-bin_i686-mingw_20111219.zip&#41;,
mtune=pentiumpro success but it tried to link to crt if mtune is removed

Basically, -O0 is useful for step through debugging. MS Intrinsics
always work. Mingw.org builtins always work. Mingw64 builtins never
under -O0. I&#39;ll guess the mtune in newer Mingw64s somehow becomes a -O
under the hood, but is there a magic -fturn-me-on option for mingw64
that fixes everything?  Whats a &#34;target specific specification files&#34;?
Do mingw.org and mingw64 &#34;patch&#34; or &#34;change&#34; the compile time settings
or the C code of their GCCs?

I compared the -dumpspecs of latest .org and latest w64, I see nothing
relevant to builtins. But im not a gcc person.

Thanks for the work around, but it doesn&#39;t work on existing Strawberry
Perls, only yet to be born ones.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> w64latest_vs_orglatest.diff</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- C:\Documents and Settings\Owner\Desktop\memcpy\specsw64 latest.txt 
+++ C:\Documents and Settings\Owner\Desktop\memcpy\specs.org. latest.txt 
@@ -1,5 +1,5 @@
 *asm:
-%{m32:--32} %{m64:--64}
+
 
 *asm_debug:
 %{!g0:%{gstabs*:--gstabs}%{!gstabs*:%{g*:--gdwarf2}}} %{fdebug-prefix-map=*:--debug-prefix-map %*}
@@ -15,7 +15,7 @@
  as %&#40;asm_options&#41; %m.s %A }  }
 
 *cpp:
-%{posix:-D_POSIX_SOURCE} %{mthreads:-D_MT} %{municode:-DUNICODE} %{pthread:-D_REENTRANT} %{!no-pthread:-U_REENTRANT} 
+%{posix:-D_POSIX_SOURCE} %{mthreads:-D_MT}
 
 *cpp_options:
 %&#40;cpp_unique_options&#41; %1 %{m*} %{std*&#38;ansi&#38;trigraphs} %{W*&#38;pedantic*} %{w} %{f*} %{g*:%{!g0:%{g*} %{!fno-working-directory:-fworking-directory}}} %{O*} %{undef} %{save-temps*:-fpch-preprocess}
@@ -48,13 +48,13 @@
 %{Ofast|ffast-math|funsafe-math-optimizations:crtfastmath.o%s}   crtend.o%s
 
 *link:
-%{m64:-m i386pep} %{!m64:-m i386pe} %{mwindows:--subsystem windows}   %{mconsole:--subsystem console}   %{shared: %{mdll: %eshared and mdll are not compatible}}   %{shared: --shared} %{mdll:--dll}   %{static:-Bstatic} %{!static:-Bdynamic}   %{shared|mdll: %{m64:-e DllMainCRTStartup} %{!m64:-e _DllMainCRTStartup@12} --enable-auto-image-base}   %&#40;shared_libgcc_undefs&#41;
+%{mwindows:--subsystem windows}   %{mconsole:--subsystem console}   %{shared: %{mdll: %eshared and mdll are not compatible}}   %{shared: --shared} %{mdll:--dll}   %{static:-Bstatic} %{!static:-Bdynamic}   %{shared|mdll: -e _DllMainCRTStartup@12 --enable-auto-image-base}   %&#40;shared_libgcc_undefs&#41;
 
 *lib:
-%{pg:-lgmon} %{pthread:-lpthread} %{!no-pthread: } %{mwindows:-lgdi32 -lcomdlg32} -ladvapi32 -lshell32 -luser32 -lkernel32
+%{pg:-lgmon} %{mwindows:-lgdi32 -lcomdlg32}                   -ladvapi32 -lshell32 -luser32 -lkernel32
 
 *mfwrap:
- %{static: %{fmudflap|fmudflapth:  --wrap=malloc --wrap=free --wrap=calloc --wrap=realloc --wrap=mmap --wrap=mmap64 --wrap=munmap --wrap=alloca} %{fmudflapth: --wrap=pthread_create}} %{fmudflap|fmudflapth: --wrap=main}
+ %{static: %{fmudflap|fmudflapth:  --wrap=malloc --wrap=free --wrap=calloc --wrap=realloc --wrap=mmap --wrap=munmap --wrap=alloca} %{fmudflapth: --wrap=pthread_create}} %{fmudflap|fmudflapth: --wrap=main}
 
 *mflib:
 %{fmudflap|fmudflapth: -export-dynamic}
@@ -66,31 +66,31 @@
 %{mthreads:-lmingwthrd} -lmingw32    %{shared-libgcc:-lgcc_s} %{!shared-libgcc:-lgcc_eh}    -lgcc    -lmoldname -lmingwex -lmsvcrt
 
 *startfile:
-%{shared|mdll:dllcrt2%O%s}   %{!shared:%{!mdll:%{!municode:crt2%O%s}}}   %{!shared:%{!mdll:%{municode:crt2u%O%s}}}   %{pg:gcrt2%O%s}   crtbegin.o%s
+%{shared|mdll:dllcrt2%O%s}   %{!shared:%{!mdll:crt2%O%s}} %{pg:gcrt2%O%s}   crtbegin.o%s
 
 *cross_compile:
-1
+0
 
 *version:
-4.7.0
+4.6.2
 
 *multilib:
-. !m64 !m32;.:../lib64 m64 !m32;.:../lib !m64 m32;
+. ;
 
 *multilib_defaults:
-m32
+
 
 *multilib_extra:
 
 
 *multilib_matches:
-m64 m64;m32 m32;
+
 
 *multilib_exclusions:
 
 
 *multilib_options:
-m64/m32
+
 
 *linker:
 collect2
@@ -128,15 +128,12 @@
 *sysroot_hdrs_suffix_spec:
 
 
-*self_spec:
-
-
 *cc1_cpu:
 %{march=native:%&gt;march=native %:local_cpu_detect&#40;arch&#41;   %{!mtune=*:%&gt;mtune=native %:local_cpu_detect&#40;tune&#41;}} %{mtune=native:%&gt;mtune=native %:local_cpu_detect&#40;tune&#41;}
 
 *shared_libgcc_undefs:
-
+%{shared-libgcc: -u ___register_frame_info -u ___deregister_frame_info}
 
 *link_command:
-%{!fsyntax-only:%{!c:%{!M:%{!MM:%{!E:%{!S:    %&#40;linker&#41; %{!fno-use-linker-plugin:%{flto|flto=*|fuse-linker-plugin:     -plugin %&#40;linker_plugin_file&#41;     -plugin-opt=%&#40;lto_wrapper&#41;     -plugin-opt=-fresolution=%u.res     %{!nostdlib:%{!nodefaultlibs:%:pass-through-libs&#40;%&#40;link_gcc_c_sequence&#41;&#41;}}     }}%{flto|flto=*:%&lt;fcompare-debug*}     %{flto} %{flto=*} %l %{pie:-pie} %X %{o*} %{e*} %{N} %{n} %{r}    %{s} %{t} %{u*} %{z} %{Z} %{!nostdlib:%{!nostartfiles:%S}}    %{static:} %{L*} %&#40;mfwrap&#41; %&#40;link_libgcc&#41; %o    %{fopenmp|ftree-parallelize-loops=*:%:include&#40;libgomp.spec&#41;%&#40;link_gomp&#41;}    %&#40;mflib&#41;  %{fsplit-stack: --wrap=pthread_create}    %{fprofile-arcs|fprofile-generate*|coverage:-lgcov}    %{!nostdlib:%{!nodefaultlibs:%&#40;link_ssp&#41; %&#40;link_gcc_c_sequence&#41;}}    %{!nostdlib:%{!nostartfiles:%E}} %{T*} }}}}}}
+%{!fsyntax-only:%{!c:%{!M:%{!MM:%{!E:%{!S:    %&#40;linker&#41;     %{!fno-use-linker-plugin:%{flto|flto=*|fuse-linker-plugin:     -plugin %&#40;linker_plugin_file&#41;     -plugin-opt=%&#40;lto_wrapper&#41;     -plugin-opt=-fresolution=%u.res     %{!nostdlib:%{!nodefaultlibs:%:pass-through-libs&#40;%&#40;link_gcc_c_sequence&#41;&#41;}}     }}     %{flto|flto=*:%&lt;fcompare-debug*}     %{flto} %{flto=*} %l %{pie:-pie} %X %{o*} %{e*} %{N} %{n} %{r}    %{s} %{t} %{u*} %{z} %{Z} %{!nostdlib:%{!nostartfiles:%S}}    %{static:} %{L*} %&#40;mfwrap&#41; %&#40;link_libgcc&#41; %o    %{fopenmp|ftree-parallelize-loops=*:%:include&#40;libgomp.spec&#41;%&#40;link_gomp&#41;}    %&#40;mflib&#41;  %{fsplit-stack: --wrap=pthread_create}    %{fprofile-arcs|fprofile-generate*|coverage:-lgcov}    %{!nostdlib:%{!nodefaultlibs:%&#40;link_ssp&#41; %&#40;link_gcc_c_sequence&#41;}}    %{!nostdlib:%{!nostartfiles:%E}} %{T*} }}}}}}
 </div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> sperl512x86mtune.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
C:\Documents and Settings\Owner\Desktop\memcpy&gt;gcc memcpy.c -nostdlib -lkernel32
 -o memcpy.exe -v -Wall -O0 -mtune=pentiumpro
Using built-in specs.
Target: i686-w64-mingw32
Configured with: ../gcc44-svn/configure --target=i686-w64-mingw32 --host=i686-w6
4-mingw32 --disable-multilib --disable-nls --disable-win32-registry --prefix=/mi
ngw32 --with-gmp=/mingw32 --with-mpfr=/mingw32 --enable-languages=c,c++
Thread model: win32
gcc version 4.4.3 &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=pen
tiumpro&#39;
 c:/sperl/c/bin/../libexec/gcc/i686-w64-mingw32/4.4.3/cc1.exe -quiet -v -iprefix
 c:\sperl\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/ memcpy.c -quiet -dumpbase mem
cpy.c -mtune=pentiumpro -auxbase memcpy -O0 -Wall -version -o C:\WINDOWS\TEMP\cc
grbbre.s
ignoring nonexistent directory &#34;/mingw32/include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/i686-w64-mingw32/
4.4.3/include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/i686-w64-mingw32/
4.4.3/include-fixed&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/i686-w64-mingw32/
4.4.3/../../../../i686-w64-mingw32/include&#34;
ignoring nonexistent directory &#34;/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sperl\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/../../../../include
 c:\sperl\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/include
 c:\sperl\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/include-fixed
 c:\sperl\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64-mingw32/i
nclude
End of search list.
GNU C &#40;GCC&#41; version 4.4.3 &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.4.3, GMP version 4.3.2, MPFR version 2.4.2-p
3.
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
Compiler executable checksum: 4728d1fc720cf46696475c98813fbdef
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=pen
tiumpro&#39;
 c:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64-mingw32/b
in/as.exe -v -o C:\WINDOWS\TEMP\ccJvUqJG.o C:\WINDOWS\TEMP\ccgrbbre.s
GNU assembler version 2.20.51 &#40;i686-w64-mingw32&#41; using BFD version &#40;GNU Binutils
&#41; 2.20.51.20100123
COMPILER_PATH=c:/sperl/c/bin/../libexec/gcc/i686-w64-mingw32/4.4.3/;c:/sperl/c/b
in/../libexec/gcc/;c:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../../
i686-w64-mingw32/bin/
LIBRARY_PATH=c:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/;c:/sperl/c/bin/..
/lib/gcc/;c:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../../lib32/;c:
/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64-mingw32/lib/
;c:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39; &#39;-mtune=pen
tiumpro&#39;
 c:/sperl/c/bin/../libexec/gcc/i686-w64-mingw32/4.4.3/collect2.exe -m i386pe -Bd
ynamic -o memcpy.exe -Lc:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3 -Lc:/spe
rl/c/bin/../lib/gcc -Lc:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../
../lib32 -Lc:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64
-mingw32/lib -Lc:/sperl/c/bin/../lib/gcc/i686-w64-mingw32/4.4.3/../../.. C:\WIND
OWS\TEMP\ccJvUqJG.o -lkernel32
C:\WINDOWS\TEMP\ccJvUqJG.o:memcpy.c:&#40;.text+0x79&#41;: undefined reference to `memcpy
&#39;
C:\WINDOWS\TEMP\ccJvUqJG.o:memcpy.c:&#40;.text+0x92&#41;: undefined reference to `memcpy
&#39;
collect2: ld returned 1 exit status

C:\Documents and Settings\Owner\Desktop\memcpy&gt;perl -V
Summary of my perl5 &#40;revision 5 version 12 subversion 3&#41; configuration:

  Platform:
    osname=MSWin32, osvers=5.1, archname=MSWin32-x86-multi-thread
    uname=&#39;Win32 strawberryperl 5.12.3.0 #1 Sun May 15 09:44:53 2011 i386&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39; -s -O2 -DWIN32 -DHAVE_DES_FCRYPT  -DUSE_SITECUSTOMIZE -
DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -
DPERL_MSVCRT_READFIX&#39;,
    optimize=&#39;-s -O2&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.3&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=undef, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;long long&#39;, lseek
size=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++&#39;, ldflags =&#39;-s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c\lib&#34;&#39;
    libpth=C:\sperl\c\lib C:\sperl\c\i686-w64-mingw32\lib
    libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32
 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion
 -lodbc32 -lodbccp32 -lcomctl32
    perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladva
pi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lver
sion -lodbc32 -lodbccp32 -lcomctl32
    libc=, so=dll, useshrplib=true, libperl=libperl512.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-mdll -s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c
\lib&#34;&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
                        PERL_MALLOC_WRAP PL_OP_SLAB_ALLOC USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_PERL_ATOF
                        USE_SITECUSTOMIZE
  Built under MSWin32
  Compiled at May 15 2011 17:02:01
  %ENV:
    PERL_JSON_BACKEND=&#34;JSON::XS&#34;
    PERL_YAML_BACKEND=&#34;YAML&#34;
  @INC:
    C:/sperl/perl/site/lib
    C:/sperl/perl/vendor/lib
    C:/sperl/perl/lib
    .

C:\Documents and Settings\Owner\Desktop\memcpy&gt;</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mingw64 latest-mtune.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">C:\Documents and Settings\Owner\Desktop\memcpy&gt;i686-w64-mingw32-gcc.exe memcpy.c
 -nostdlib -lkernel32 -o memcpy.exe -v -Wall  -mtune=pentiumpro
Using built-in specs.
COLLECT_GCC=i686-w64-mingw32-gcc.exe
COLLECT_LTO_WRAPPER=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0
/lto-wrapper.exe
Target: i686-w64-mingw32
Configured with: ../../../build/gcc/src/configure --target=i686-w64-mingw32 --pr
efix=/c/bb/vista64-mingw32/mingw-x86-x86/build/build/root --with-sysroot=/c/bb/v
ista64-mingw32/mingw-x86-x86/build/build/root --enable-languages=all,obj-c++ --e
nable-fully-dynamic-string --disable-multilib
Thread model: win32
gcc version 4.7.0 20111219 &#40;experimental&#41; &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-mtune=pentiumpr
o&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/cc1.exe -quiet -v
-iprefix c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/ -U_REENTRANT
memcpy.c -quiet -dumpbase memcpy.c -mtune=pentiumpro -march=pentiumpro -auxbase
memcpy -Wall -version -o C:\WINDOWS\TEMP\ccYCATxZ.s
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version 2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include&#34;
ignoring nonexistent directory &#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/bb/vista64-mingw32/mingw-x86-x86/build/build/root/lib/gcc/i686-w64-mingw3
2/4.7.0/../../../../include&#34;
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/include-fixed&#34;
ignoring duplicate directory &#34;c:/sources/mingw64/lib/gcc/../../lib/gcc/i686-w64-
mingw32/4.7.0/../../../../i686-w64-mingw32/include&#34;
ignoring nonexistent directory &#34;c:/bb/vista64-mingw32/mingw-x86-x86/build/build/
rootc:/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/include-fixed
 c:\sources\mingw64\bin\../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/include
End of search list.
GNU C &#40;GCC&#41; version 4.7.0 20111219 &#40;experimental&#41; &#40;i686-w64-mingw32&#41;
        compiled by GNU C version 4.5.2, GMP version 5.0.1, MPFR version 2.4.2,
MPC version 0.8.2
GGC heuristics: --param ggc-min-expand=30 --param ggc-min-heapsize=4096
Compiler executable checksum: 8c5ba8a77bffe2fbf96ff9655da73258
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-mtune=pentiumpr
o&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/../../../../i686-w64-m
ingw32/bin/as.exe -o C:\WINDOWS\TEMP\cco1nERa.o C:\WINDOWS\TEMP\ccYCATxZ.s
COMPILER_PATH=c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/;c:/s
ources/mingw64/bin/../libexec/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mi
ngw32/4.7.0/../../../../i686-w64-mingw32/bin/
LIBRARY_PATH=c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0/;c:/source
s/mingw64/bin/../lib/gcc/;c:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7
.0/../../../../i686-w64-mingw32/lib/../lib/;c:/sources/mingw64/bin/../lib/gcc/i6
86-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib/
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-mtune=pentiumpr
o&#39; &#39;-march=pentiumpro&#39;
 c:/sources/mingw64/bin/../libexec/gcc/i686-w64-mingw32/4.7.0/collect2.exe --sys
root=c:/bb/vista64-mingw32/mingw-x86-x86/build/build/root -m i386pe -Bdynamic -o
 memcpy.exe -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/4.7.0 -Lc:/sour
ces/mingw64/bin/../lib/gcc -Lc:/sources/mingw64/bin/../lib/gcc/i686-w64-mingw32/
4.7.0/../../../../i686-w64-mingw32/lib/../lib -Lc:/sources/mingw64/bin/../lib/gc
c/i686-w64-mingw32/4.7.0/../../../../i686-w64-mingw32/lib C:\WINDOWS\TEMP\cco1nE
Ra.o -lkernel32

C:\Documents and Settings\Owner\Desktop\memcpy&gt;</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> sperl514x64mtune.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">C:\Documents and Settings\Administrator\Desktop\memcpy&gt;gcc.exe memcpy.c -nostdli
b -lkernel32 -o memcpy.exe -v -Wall -O0 -mtune=native
Using built-in specs.
Target: x86_64-w64-mingw32
Configured with: ../gcc44-svn/configure --host=x86_64-w64-mingw32 --target=x86_6
4-w64-mingw32 --disable-multilib --enable-checking=release --prefix=/opt/mingw64
 --enable-languages=c,c++,fortran --enable-libgomp --with-gmp=/opt/mingw64 --wit
h-mpfr=/opt/mingw64 --disable-nls --disable-win32-registry
Thread model: win32
gcc version 4.4.7 20111023 &#40;prerelease&#41; [svn/rev.180339 - mingw-w64/oz] &#40;GCC&#41;
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
 c:/sperl/c/bin/../libexec/gcc/x86_64-w64-mingw32/4.4.7/cc1.exe -quiet -v -ipref
ix c:\sperl\c\bin\../lib/gcc/x86_64-w64-mingw32/4.4.7/ memcpy.c --param l1-cache
-size=64 --param l1-cache-line-size=64 --param l2-cache-size=1024 -mtune=k8 -qui
et -dumpbase memcpy.c -auxbase memcpy -O0 -Wall -version -o C:\DOCUME~1\ADMINI~1
\LOCALS~1\Temp\ccecwpRy.s
ignoring nonexistent directory &#34;/opt/mingw64/include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/x86_64-w64-mingw3
2/4.4.7/include&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/x86_64-w64-mingw3
2/4.4.7/include-fixed&#34;
ignoring duplicate directory &#34;c:/sperl/c/lib/gcc/../../lib/gcc/x86_64-w64-mingw3
2/4.4.7/../../../../x86_64-w64-mingw32/include&#34;
ignoring nonexistent directory &#34;/mingw/include&#34;
#include &#34;...&#34; search starts here:
#include &lt;...&gt; search starts here:
 c:\sperl\c\bin\../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../../include
 c:\sperl\c\bin\../lib/gcc/x86_64-w64-mingw32/4.4.7/include
 c:\sperl\c\bin\../lib/gcc/x86_64-w64-mingw32/4.4.7/include-fixed
 c:\sperl\c\bin\../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../../x86_64-w64-mingw
32/include
End of search list.
GNU C &#40;GCC&#41; version 4.4.7 20111023 &#40;prerelease&#41; [svn/rev.180339 - mingw-w64/oz]
&#40;x86_64-w64-mingw32&#41;
        compiled by GNU C version 4.4.7 20111023 &#40;prerelease&#41; [svn/rev.180339 -
mingw-w64/oz], GMP version 4.3.2, MPFR version 2.4.2-p3.
GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072
Compiler executable checksum: 7f003b2e17f55850125668526349529b
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
 c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../../x86_64-w64-mingw
32/bin/as.exe -v -o C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\cc5szT7z.o C:\DOCUME~1\AD
MINI~1\LOCALS~1\Temp\ccecwpRy.s
GNU assembler version 2.21.90 &#40;x86_64-w64-mingw32&#41; using BFD version &#40;GNU Binuti
ls&#41; 2.21.90.20111031
COMPILER_PATH=c:/sperl/c/bin/../libexec/gcc/x86_64-w64-mingw32/4.4.7/;c:/sperl/c
/bin/../libexec/gcc/;c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../..
/../x86_64-w64-mingw32/bin/
LIBRARY_PATH=c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/;c:/sperl/c/bin/
../lib/gcc/;c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../../lib64
/;c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../../x86_64-w64-ming
w32/lib/;c:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../
COLLECT_GCC_OPTIONS=&#39;-nostdlib&#39; &#39;-o&#39; &#39;memcpy.exe&#39; &#39;-v&#39; &#39;-Wall&#39; &#39;-O0&#39;
 c:/sperl/c/bin/../libexec/gcc/x86_64-w64-mingw32/4.4.7/collect2.exe -m i386pep
-Bdynamic -o memcpy.exe -Lc:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7 -Lc
:/sperl/c/bin/../lib/gcc -Lc:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/..
/../../../lib64 -Lc:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../../../..
/x86_64-w64-mingw32/lib -Lc:/sperl/c/bin/../lib/gcc/x86_64-w64-mingw32/4.4.7/../
../.. C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\cc5szT7z.o -lkernel32
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\cc5szT7z.o:memcpy.c:&#40;.text+0x85&#41;: undefined r
eference to `memcpy&#39;
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\cc5szT7z.o:memcpy.c:&#40;.text+0x9e&#41;: undefined r
eference to `memcpy&#39;
collect2: ld returned 1 exit status

C:\Documents and Settings\Administrator\Desktop\memcpy&gt;perl -V
Summary of my perl5 &#40;revision 5 version 14 subversion 2&#41; configuration:

  Platform:
    osname=MSWin32, osvers=4.0, archname=MSWin32-x64-multi-thread
    uname=&#39;Win32 strawberryperl 5.14.2.1 #1 Tue Nov 22 22:40:59 2011 x64&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39; -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE  -DPERL_TEXTMODE_
SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-str
ict-aliasing -mms-bitfields&#39;,
    optimize=&#39;-s -O2&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.7&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;long long&#39;,
lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++&#39;, ldflags =&#39;-s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c\lib&#34;&#39;
    libpth=C:\sperl\c\lib C:\sperl\c\x86_64-w64-mingw32\lib
    libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32
 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion
 -lodbc32 -lodbccp32 -lcomctl32
    perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladva
pi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lver
sion -lodbc32 -lodbccp32 -lcomctl32
    libc=, so=dll, useshrplib=true, libperl=libperl514.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-mdll -s -L&#34;C:\sperl\perl\lib\CORE&#34; -L&#34;C:\sperl\c
\lib&#34;&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
                        PERL_MALLOC_WRAP PERL_PRESERVE_IVUV PL_OP_SLAB_ALLOC
                        USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES
                        USE_PERLIO USE_PERL_ATOF USE_SITECUSTOMIZE
  Built under MSWin32
  Compiled at Nov 22 2011 22:53:05
  %ENV:
    PERL_JSON_BACKEND=&#34;JSON::XS&#34;
    PERL_YAML_BACKEND=&#34;YAML&#34;
  @INC:
    C:/sperl/perl/site/lib
    C:/sperl/perl/vendor/lib
    C:/sperl/perl/lib
    .

C:\Documents and Settings\Administrator\Desktop\memcpy&gt;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;08:02:20&nbsp;2012</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

This is a gcc feature / issue.

mingw.org always passes -mtune=i386 as a default.

So, with 4.6.3 compiler from perlmingw.sf.net if you also pass -
mtune=i386 then that &#39;works&#39; fine too.

Likewise, if you pass -mtune=pentium4 to mingw.org &#40; so overriding the 
default &#41; then that will fail. &#40;as will -mtune=generic and a number of 
other processor options&#41;

mingw.org passing &#39;-i386&#39; is the odd behaviour. According to gcc docs, 
the default behaviour should be -mtune=generic

Anyhow, it is a gcc issue and you may not get any joy getting this fixed 
as it may be a feature rather than a &#39;bug&#39;. Using builtins is regarded 
as an optimization so by default is switched off by gcc if you pass -O0.

gcc should allow you to override the behaviour by calling 
__builtin_memcpy - but this bit of gcc seems to fail. But it is a gcc 
issue, not a mingw issue. Mingw code doesn&#39;t mess miss the __builtins_ 
prefix.

I suspect that in the gcc code, specifying certain -mtune params counts 
as an optimization - hence the unintentional side effect of passing -
mtune=i386 meaning gcc compiles builtins for you.

There is no workaround for 64 bit mingw.

I realise this isn&#39;t helpful but is is the answer.

On a wider note, why would you want to avoid linking to msvcrt in a 
debugging app?

regards

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;09:56:33&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88 [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I realise this isn&#39;t helpful but is is the answer.
&gt; 
&gt; On a wider note, why would you want to avoid linking to msvcrt in a 
&gt; debugging app?
&gt; 
&gt; regards
&gt; 
&gt; Mark
</div>
The Windows API is so feature loaded, its quite easy to write windows
perl XS mods, or optimize perl XS mods, to NOT use the CRT. Not using
the CRT saves 1KB in the PE image because of the various static linked
configuration code and data of the CRT &#40;signals/callbacks, C level TLS,
C++ object support, C++ exception/SEH marriage&#41;. Kernel32 has some
string processing functions. User32 has a sprintf and charupper. Shlwapi
has more string processing, but pre 5.12 perls dont link to it and it
has no byte processing. But unless you will runtime link with ntdll,
there is no non-CRT memcpy anywhere in the windows api AFAIK. CopyMemory
is a macro for memcpy, not a Kernel32 func. MoveMemory is only available
on Win NT. MSVC intrinsics fit the job perfectly. GCC builtins would
too, except for everything above :-&#40;

I think you explain correctly why .org and w64 are different, .org
selects a &#34;i386&#34; processor target optimization level. I guess there is
no way around finding a CRT or pseudo CRT &#40;ntdll&#41; at runtime to avoid
the overload of using the CRT directly on GCC, unless you test compile
something using builtins with the current $Config{ccflags} and
$Config{optimize} key and/or the user&#39;s makefile.pl overrides in the
WriteMakefile hash. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;13&nbsp;10:44:53&nbsp;2012</span>
    <span class="description">mdootson [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Well, it is still a bug in GCC I think.
In the GCC source in gcc/builtins.c is the following code

  /* When not optimizing, generate calls to library functions for a 
certain
     set of builtins.  */
  if &#40;!optimize
      &#38;&#38; !called_as_built_in &#40;fndecl&#41;
      &#38;&#38; DECL_ASSEMBLER_NAME_SET_P &#40;fndecl&#41;
      &#38;&#38; fcode != BUILT_IN_ALLOCA
      &#38;&#38; fcode != BUILT_IN_FREE&#41;
    return expand_call &#40;exp, target, ignore&#41;;


The &#39;called_as_built_in&#40;&#41;&#39; function should return true if you called the 
function as __builtin_memcpy, but I think it probably does not work on 
Windows at all. You should note that __builtin_memcpy is ALWAYS 
translated to &#39;memcpy&#39; - it just depends on whether gcc includes the 
implementation for linking or not. For any -O level other than -O0, 
&#39;optimize&#39; is true. I think some settings for mtune must set one of the 
other options to return true &#40;or maybe change &#39;optimize&#39;, but I didn&#39;t 
have the time to track gcc option setting through the source.


As I understand your reply, the benefit you seek is a 1k saving in PE 
image size? If I were you I&#39;d live with it and add -O0 -lmsvcrt to your 
flags. Alternatively take up the potential bug above with the gcc folks.

Regards

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;16&nbsp;12:20:49&nbsp;2012</span>
    <span class="description">bulk88 [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bulk88 [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As I understand your reply, the benefit you seek is a 1k saving in PE 
&gt; image size? If I were you I&#39;d live with it and add -O0 -lmsvcrt to your 
&gt; flags. Alternatively take up the potential bug above with the gcc folks.
&gt; 
&gt; Regards
&gt; 
&gt; Mark
&gt; 
</div>The builtins are so buggy and unpredictable  &#40;pentium4 vs generic vs
i386 vs x64 mtune flags&#41; I declare they are unusable in a XS library.
The only safe way I see to do this is to parse the makemaker makefile
macros then do test compiles with those flags on that particular gcc
build to see if the builtins work without a C Lib at a particular
combination of flags, which seems too complicated and too easy to break.
Instead I made a solution of finding an existing C loaded in the process
and then runtime linking to it. Much less than 1 KB in the PE file. You
can close this bug now.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;10&nbsp;08:07:27&nbsp;2012</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
