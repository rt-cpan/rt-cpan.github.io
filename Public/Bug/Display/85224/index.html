<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #85224 for Enbugger: Fails to build with perl-5.18.0-RC2</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #85224 for Enbugger: Fails to build with perl-5.18.0-RC2</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Enbugger">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Enbugger">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Enbugger">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Enbugger">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Enbugger">Enbugger CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">85224</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Enbugger">Enbugger</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
peter [...] makholm.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44528-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44529-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




build.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1211191/639615/build.log">
Mon May 13 06:05:36 2013 (10.4k) by peter [...] makholm.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=85224">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1211191" href="/Public/Bug/Display.html?id=85224#txn-1211191">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;13&nbsp;06:05:36&nbsp;2013</span>
    <span class="description">peter [...] makholm.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails to build with perl-5.18.0-RC2</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1211191/639614/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/639614">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Trying to install Enbugger on perl-5.18.0-RC2 fails with the following error in t/11load.t:

Can&#39;t use an undefined value as a symbol reference at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 6141.
 at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 6141.
        DB::print_lineinfo&#40;&#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 4285
        DB::depth_print_lineinfo&#40;1, &#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 3248
        DB::Obj::_my_print_lineinfo&#40;&#39;DB::Obj=HASH&#40;0x15c8f90&#41;&#39;, 157, &#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 3336
        DB::Obj::_DB__grab_control&#40;&#39;DB::Obj=HASH&#40;0x15c8f90&#41;&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 2644
        DB::DB called at t/11load.pl line 157
Failed to run /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -Mblib t/11load.pl /tmp/OHODr42ySy: exit: 255 at t/Test/Enbugger.pm line 104.

Full build.log attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> build.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1211191/639615/build.log">Download build.log</a><br />
<span class="downloadcontenttype">text/x-log 10.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">cpanm &#40;App::cpanminus&#41; 1.5017 on perl 5.018000 built for x86_64-linux
Work directory is /home/makholm/.cpanm/work/1368439070.17306
You have make /usr/bin/make
You have LWP 6.05
You have /bin/tar: tar &#40;GNU tar&#41; 1.26
Copyright &#40;C&#41; 2011 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a></span>&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
You have /usr/bin/unzip
--&gt; Working on <span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz">http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz</a></span>
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz">http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz</a></span>
-&gt; OK
Unpacking Enbugger-2.013.tar.gz
Entering Enbugger-2.013
Checking configure dependencies from META.yml
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;6.66&#41;
Configuring Enbugger-2.013
Running Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for Enbugger
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;6.66&#41;
Checking if you have B::Utils 0 ... Yes &#40;0.21&#41;
Checking if you have Test::More 0 ... Yes &#40;0.98&#41;
Building and testing Enbugger-2.013
cp lib/Enbugger/NYTProf.pm blib/lib/Enbugger/NYTProf.pm
cp lib/Enbugger/perl5db.pm blib/lib/Enbugger/perl5db.pm
cp lib/Enbugger.pm blib/lib/Enbugger.pm
cp lib/Enbugger/sdb.pm blib/lib/Enbugger/sdb.pm
cp lib/Enbugger/ptkdb.pm blib/lib/Enbugger/ptkdb.pm
cp lib/Enbugger/ebug.pm blib/lib/Enbugger/ebug.pm
cp lib/Enbugger/OnError.pm blib/lib/Enbugger/OnError.pm
cp lib/Enbugger/trepan.pm blib/lib/Enbugger/trepan.pm
cp lib/Enbugger.pod blib/lib/Enbugger.pod
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/ExtUtils/xsubpp  -typemap /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/ExtUtils/typemap  Enbugger.xs &gt; Enbugger.xsc &#38;&#38; mv Enbugger.xsc Enbugger.c
cc -c   -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\&#34;2.013\&#34; -DXS_VERSION=\&#34;2.013\&#34; -fPIC &#34;-I/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/x86_64-linux/CORE&#34;   Enbugger.c
Running Mkbootstrap for Enbugger &#40;&#41;
chmod 644 Enbugger.bs
rm -f blib/arch/auto/Enbugger/Enbugger.so
cc  -shared -O2 -L/usr/local/lib -fstack-protector Enbugger.o  -o blib/arch/auto/Enbugger/Enbugger.so 	\
	     	\
	  
chmod 755 blib/arch/auto/Enbugger/Enbugger.so
cp Enbugger.bs blib/arch/auto/Enbugger/Enbugger.bs
chmod 644 blib/arch/auto/Enbugger/Enbugger.bs
cp bin/screen-server-backend blib/script/screen-server-backend
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/screen-server-backend
cp bin/tmux-server-backend blib/script/tmux-server-backend
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/tmux-server-backend
cp bin/xterm-server-backend blib/script/xterm-server-backend
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/xterm-server-backend
cp bin/tmux-server blib/script/tmux-server
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/tmux-server
cp bin/xterm-server blib/script/xterm-server
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/xterm-server
cp bin/screen-server blib/script/screen-server
/home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/screen-server
Manifying blib/man1/tmux-server-backend.1
Manifying blib/man1/xterm-server-backend.1
Manifying blib/man1/tmux-server.1
Manifying blib/man1/xterm-server.1
Manifying blib/man1/screen-server.1
Manifying blib/man1/screen-server-backend.1
Manifying blib/man3/Enbugger::NYTProf.3
Manifying blib/man3/Enbugger::trepan.3
Manifying blib/man3/Enbugger::perl5db.3
Manifying blib/man3/Enbugger::ebug.3
Manifying blib/man3/Enbugger.3
PERL_DL_NONLAZY=1 /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/10load.t ...... ok
#!perl

# COPYRIGHT AND LICENCE
#
# Copyright &#40;C&#41; 2007,2008 WhitePages.com, Inc. with primary
# development by Joshua ben Jore.
#
# This program is distributed WITHOUT ANY WARRANTY, including but not
# limited to the implied warranties of merchantability or fitness for
# a particular purpose.
#
# The program is free software.  You may distribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation &#40;either version 2 or any later version&#41;
# and the Perl Artistic License as published by OÃ¢Â€Â™Reilly Media, Inc.
# Please open the files named gpl-2.0.txt and Artistic for a copy of
# these licenses.

use strict;
use warnings;
use Getopt::Long qw&#40; GetOptions &#41;;
use vars         qw&#40; $Ok &#41;;
use lib          qw&#40; ./t/ &#41;;

BEGIN {

=head1 DESCRIPTION

This test attempts to run the perl5db debugger, gives it some
commands, then tests that the commands occurred. In general the idea
is that depending on how the Enbugger.xs code is modifying COP nodes,
it could have either removed instrumentation from code that should be
instrumented or done the reverse and instrumented the debugger itself.

The output of this program can be read by another program and used in
a test.

=head1 OPTIONS

=over

=item --noimport

Enbugger will be loaded without calling C&lt;&lt; -&gt;import &gt;&gt;.

=item --import ELT

Adds an item to the C&lt;&lt; -&gt;import &gt;&gt; argument list.

=item --help

Runs perldoc on this program.

=item --load_perl5db

After loading Enbugger, C&lt;&lt; Enbugger-&gt;load_perl5db &gt;&gt; will also be called.

=back

=cut


    $ENV{PERLDB_OPTS} = &#39;noTTY&#39;;

    # Option parsing.
    my $import      = 1;
    my @import      = &#40;&#41;;
    my $loadPerl5Db = 0;
    my $onError     = 0;
    GetOptions&#40;
        help         =&gt; sub { exec {&#39;perldoc&#39;} &#39;perldoc&#39;, $0 },
        noimport     =&gt; sub { $import = 0 },
        &#39;import=s&#39;   =&gt; \@import,
        load_perl5db =&gt; \ $loadPerl5Db,
        onerror      =&gt; \ $onError,
    &#41;
      or exec {&#39;perldoc&#39;} &#39;perldoc&#39;, $0;

    # Promote some options into constants.
    require constant;
    constant-&gt;import&#40; LoadPerl5Db =&gt; !! $loadPerl5Db &#41;;


    # The test is whether the debugger runs and is controlled by my
    # test commands here.
    {
        no warnings &#39;once&#39;;
        push @DB::typeahead, &#39;$main::Ok = 1&#39;, &#39;c&#39;, &#39;q&#39;;
    }


    # All our output will go to *OUT. If this program was given a
    # paramter, we accept it as file that we should write our output too.
    {
        my &#40; $file &#41; = shift @ARGV;
        if &#40; defined $file &#41; {
            open OUT, &#39;&gt;&#39;, $file
              or die &#34;Can&#39;t open $file for writing: $!&#34;;
        }
        else {
            *OUT = *STDOUT;
        }

        # OUTPUT is HOT.
        select *OUT;
        $| = 1;

        # Things written to STDERR should also go to our single *OUT.
        no warnings &#39;once&#39;;
        *STDERR = $DB::OUT = $DB::LINEINFO = *OUT;
    }


    # Look to see if the debugger is on. Before I go and load
    # Enbugger, I figure I can at least count on being able to examine
    # $^P to see if we were started with the -d debugger flag.
    constant-&gt;import&#40; UnderTheDebugger =&gt; !! $^P &#41;;



    # Load Enbugger and completely knacker our process. This little
    # snippet used to just be a static `use Enbugger;&#39; but I moved it
    # up here when it became obvious that I wanted to optionally avoid
    # importing anything.
    if &#40; $onError &#41; {
        require Enbugger::OnError;
        Enbugger::OnError-&gt;import;
    }
    else {
        require Enbugger;
        if &#40; $import &#41; {
            Enbugger-&gt;import&#40; @import &#41;;
        }
    }

    # Now dropping into normal run-time.
}


# Load the perl5db debugger if the user asked for us to do it
# manually. Normally the -&gt;stop method call will also do this for us.
if &#40; LoadPerl5Db &#41; {
    Enbugger-&gt;load_perl5db;
}


# Trigger a breakpoint.
#
# At this point, I already supplied some commands to the debugger so
# it should go set our $ok variable and then continue on
# automatically.
Enbugger-&gt;stop unless $Ok;


# Check that the debugger was stopped and it processed the commands
# requested of it.
$Ok = &#39;undef&#39; if not defined $Ok;
print &#34;\$ok = $Ok.\n&#34;;

## Local Variables:
## mode: cperl
## mode: auto-fill
## cperl-indent-level: 4
## tab-width: 8
## End:
Can&#39;t use an undefined value as a symbol reference at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 6141.
 at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 6141.
	DB::print_lineinfo&#40;&#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 4285
	DB::depth_print_lineinfo&#40;1, &#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 3248
	DB::Obj::_my_print_lineinfo&#40;&#39;DB::Obj=HASH&#40;0x15c8f90&#41;&#39;, 157, &#39;main::&#40;t/11load.pl:157&#41;:\x{9}$Ok = \&#39;undef\&#39; if not defined $Ok;\x{a}&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 3336
	DB::Obj::_DB__grab_control&#40;&#39;DB::Obj=HASH&#40;0x15c8f90&#41;&#39;&#41; called at /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/lib/5.18.0/perl5db.pl line 2644
	DB::DB called at t/11load.pl line 157
Failed to run /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/perl -Mblib t/11load.pl /tmp/OHODr42ySy: exit: 255 at t/Test/Enbugger.pm line 104.
# Looks like your test exited with 255 before it could output anything.
t/11load.t ...... 
Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
Failed 12/12 subtests 
t/20error.t ..... ok
t/21error.t ..... ok
t/22signal.t .... ok
# report_file: t/nytprof.out
# report_dir: t/nytprof
# nytprofcsv: /home/makholm/perl5/perlbrew/perls/perl-5.18.0-RC2/bin/nytprofcsv
t/nytprof.t ..... ok
t/trepantest.t .. skipped: Skipped because Devel::Trepan isn&#39;t installed

Test Summary Report
-------------------
t/11load.t    &#40;Wstat: 65280 Tests: 0 Failed: 0&#41;
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 12 tests but ran 0.
Files=7, Tests=19,  1 wallclock secs &#40; 0.02 usr  0.02 sys +  1.16 cusr  0.07 csys =  1.27 CPU&#41;
Result: FAIL
Failed 1/7 test programs. 0/19 subtests failed.
make: *** [test_dynamic] Error 255
-&gt; FAIL Installing <span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz">http://cpan.metacpan.org/authors/id/J/JJ/JJORE/Enbugger-2.013.tar.gz</a></span> failed. See /home/makholm/.cpanm/build.log for details.
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.226649</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
