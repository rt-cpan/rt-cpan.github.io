<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #32727 for DBD-Oracle: DBD::1.20 won&#39;t install on cygwin</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #32727 for DBD-Oracle: DBD::1.20 won&#39;t install on cygwin</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DBD-Oracle/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DBD-Oracle/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DBD-Oracle/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DBD-Oracle/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/pythian/DBD-Oracle/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-Oracle">DBD-Oracle CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">32727</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">45 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DBD-Oracle/Active/">DBD-Oracle</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">champoux [...] pythian.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
michael.virnstein [...] brodos.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-10192-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.20    </td>
  </tr>
  <tr id="CF-10193-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;03:02:22&nbsp;2008</span>
    <span class="description">michael.virnstein [...] brodos.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> DBD::1.20 won&#39;t install on cygwin</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Installing 1.19 has worked on cygwin, but when i try to install
DBD::Oracle 1.20, i get the following error:
-----------------------------------------------------------------------
  CPAN.pm: Going to build P/PY/PYTHIAN/DBD-Oracle-1.20.tar.gz

Using DBI 1.601 &#40;for perl 5.008008 on cygwin-thread-multi-64int&#41;
installed in /u
sr/lib/perl5/site_perl/5.8/cygwin/auto/DBI/

Configuring DBD::Oracle for perl 5.008008 on cygwin
&#40;cygwin-thread-multi-64int&#41;

Remember to actually *READ* the README file! Especially if you have any
problems
.

Using Oracle in C:/oracle/product/10.2.0/client
DEFINE _SQLPLUS_RELEASE = &#34;1002000100&#34; &#40;CHAR&#41;
Oracle version 10.2.0.1 &#40;10.2&#41;
Found oci directory
Using OCI directory &#39;oci&#39;

Checking for functioning wait.ph


System: perl5.008008 cygwin_nt-5.1 reini 1.5.24&#40;0.15642&#41; 2007-01-31
10:57 i686 c
ygwin
Compiler:   gcc -O3 -DPERL_USE_SAFE_PUTENV -fno-strict-aliasing -pipe
-Wdeclarat
ion-after-statement
Linker:     /usr/bin/ld
Sysliblist:

Checking if your kit is complete...
Looks good
LD_RUN_PATH=C:/oracle/product/10.2.0/client/lib:C:/oracle/product/10.2.0/client/
rdbms/lib
Using DBD::Oracle 1.20.
Using DBD::Oracle 1.20.
Using DBI 1.601 &#40;for perl 5.008008 on cygwin-thread-multi-64int&#41;
installed in /u
sr/lib/perl5/site_perl/5.8/cygwin/auto/DBI/
Writing Makefile for DBD::Oracle

***  If you have problems...
     read all the log printed above, and the README and README.help.txt
files.
     &#40;Of course, you have read README by now anyway, haven&#39;t you?&#41;

cp Oracle.pm blib/lib/DBD/Oracle.pm
cp mkta.pl blib/lib/DBD/mkta.pl
cp oraperl.ph blib/lib/oraperl.ph
cp dbdimp.h blib/arch/auto/DBD/Oracle/dbdimp.h
cp ocitrace.h blib/arch/auto/DBD/Oracle/ocitrace.h
cp Oraperl.pm blib/lib/Oraperl.pm
cp Oracle.h blib/arch/auto/DBD/Oracle/Oracle.h
cp mk.pm blib/arch/auto/DBD/Oracle/mk.pm
cp lib/DBD/Oracle/GetInfo.pm blib/lib/DBD/Oracle/GetInfo.pm
/usr/bin/perl.exe -p -e &#34;s/~DRIVER~/Oracle/g&#34;
/usr/lib/perl5/site_perl/5.8/cygwi
n/auto/DBI/Driver.xst &gt; Oracle.xsi
/usr/bin/perl.exe /usr/lib/perl5/5.8/ExtUtils/xsubpp  -typemap
/usr/lib/perl5/5.
8/ExtUtils/typemap -typemap typemap  Oracle.xs &gt; Oracle.xsc &#38;&#38; mv
Oracle.xsc Ora
cle.c
gcc -c  -IC:/oracle/product/10.2.0/client/oci/include
-IC:/oracle/product/10.2.0
/client/rdbms/demo -I/usr/lib/perl5/site_perl/5.8/cygwin/auto/DBI
-DPERL_USE_SAF
E_PUTENV -fno-strict-aliasing -pipe -Wdeclaration-after-statement
-DUSEIMPORTLIB
 -O3   -DVERSION=\&#34;1.20\&#34; -DXS_VERSION=\&#34;1.20\&#34; 
&#34;-I/usr/lib/perl5/5.8/cygwin/CO
RE&#34;  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0
.1\&#34; Oracle.c
gcc -c  -IC:/oracle/product/10.2.0/client/oci/include
-IC:/oracle/product/10.2.0
/client/rdbms/demo -I/usr/lib/perl5/site_perl/5.8/cygwin/auto/DBI
-DPERL_USE_SAF
E_PUTENV -fno-strict-aliasing -pipe -Wdeclaration-after-statement
-DUSEIMPORTLIB
 -O3   -DVERSION=\&#34;1.20\&#34; -DXS_VERSION=\&#34;1.20\&#34; 
&#34;-I/usr/lib/perl5/5.8/cygwin/CO
RE&#34;  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0
.1\&#34; dbdimp.c
dbdimp.c: In function `ora_db_login6&#39;:
dbdimp.c:398: warning: cast to pointer from integer of different size
dbdimp.c:412: warning: cast to pointer from integer of different size
dbdimp.c:422: warning: cast to pointer from integer of different size
dbdimp.c:426: warning: cast to pointer from integer of different size
dbdimp.c: In function `dbd_rebind_ph_char&#39;:
dbdimp.c:2091: warning: cast from pointer to integer of different size
gcc -c  -IC:/oracle/product/10.2.0/client/oci/include
-IC:/oracle/product/10.2.0
/client/rdbms/demo -I/usr/lib/perl5/site_perl/5.8/cygwin/auto/DBI
-DPERL_USE_SAF
E_PUTENV -fno-strict-aliasing -pipe -Wdeclaration-after-statement
-DUSEIMPORTLIB
 -O3   -DVERSION=\&#34;1.20\&#34; -DXS_VERSION=\&#34;1.20\&#34; 
&#34;-I/usr/lib/perl5/5.8/cygwin/CO
RE&#34;  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0
.1\&#34; oci8.c
oci8.c: In function `get_attr_val&#39;:
oci8.c:1359: warning: long int format, int arg &#40;arg 3&#41;
oci8.c:1359: warning: long int format, int arg &#40;arg 3&#41;
oci8.c:1361: warning: long int format, int arg &#40;arg 3&#41;
oci8.c:1361: warning: long int format, int arg &#40;arg 3&#41;
oci8.c:1364: warning: long int format, int arg &#40;arg 3&#41;
oci8.c:1364: warning: long int format, int arg &#40;arg 3&#41;
Running Mkbootstrap for DBD::Oracle &#40;&#41;
chmod 644 Oracle.bs
rm -f blib/arch/auto/DBD/Oracle/Oracle.dll
LD_RUN_PATH=&#34;C:/oracle/product/10.2.0/client/lib:C:/oracle/product/10.2.0/client
/rdbms/lib&#34; ld2  -s -L/usr/local/lib Oracle.o dbdimp.o oci8.o  -o
blib/arch/auto
/DBD/Oracle/Oracle.dll  \
          /usr/lib/perl5/5.8/cygwin/CORE/libperl.dll.a
-L/home/Administrator/.cp
an/build/DBD-Oracle-1.20-vWbORz -loci   \

gcc -shared -o  Oracle.dll -Wl,--out-implib=libOracle.dll.a
-Wl,--export-all-sym
bols -Wl,--enable-auto-import -Wl,--stack,8388608
-Wl,--enable-auto-image-base \

-s -L/usr/local/lib Oracle.o dbdimp.o oci8.o 
/usr/lib/perl5/5.8/cygwin/CORE/lib
perl.dll.a -L/home/Administrator/.cpan/build/DBD-Oracle-1.20-vWbORz -loci
dbdimp.o:dbdimp.c:&#40;.text+0xc7d1&#41;: undefined reference to `_OCIStmtFetch2&#39;
oci8.o:oci8.c:&#40;.text+0x59eb&#41;: undefined reference to `_OCIDateTimeToText&#39;
oci8.o:oci8.c:&#40;.text+0x5b42&#41;: undefined reference to `_OCIIntervalToText&#39;
oci8.o:oci8.c:&#40;.text+0x5f5b&#41;: undefined reference to
`_OCIDateTimeGetTimeZoneOff
set&#39;
oci8.o:oci8.c:&#40;.text+0xf6b5&#41;: undefined reference to `_OCIStmtFetch2&#39;
Creating library file: libOracle.dll.a
collect2: ld returned 1 exit status
perlld: *** system&#40;&#41; failed to execute
gcc -shared -o  Oracle.dll -Wl,--out-implib=libOracle.dll.a
-Wl,--export-all-sym
bols -Wl,--enable-auto-import -Wl,--stack,8388608
-Wl,--enable-auto-image-base \

-s -L/usr/local/lib Oracle.o dbdimp.o oci8.o 
/usr/lib/perl5/5.8/cygwin/CORE/lib
perl.dll.a -L/home/Administrator/.cpan/build/DBD-Oracle-1.20-vWbORz -loci

make: *** [blib/arch/auto/DBD/Oracle/Oracle.dll] Error 2
  PYTHIAN/DBD-Oracle-1.20.tar.gz
  /usr/bin/make -- NOT OK
Running make test
  Can&#39;t test without successful make
Running make install
  Make had returned bad status, install seems impossible
Failed during this command:
 PYTHIAN/DBD-Oracle-1.20.tar.gz               : make NO
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;07:30:09&nbsp;2008</span>
    <span class="description">champoux [...] pythian.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;07:32:06&nbsp;2008</span>
    <span class="description">champoux [...] pythian.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I will have a look into this this week hopefully today, 28th Jan,

Might require you help on this because I do not have access to a cygwin
box directly.

Cheers
John S
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;07:32:08&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;08:22:05&nbsp;2008</span>
    <span class="description">champoux [...] pythian.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Looks like a simple casting problem  try the follow patch 

Index: dbdimp.c
===================================================================
--- dbdimp.c    &#40;revision 10654&#41;
+++ dbdimp.c    &#40;working copy&#41;
@@ -391,7 +391,7 @@
            imp_dbh-&gt;envhp = NULL; /* force new environment */
        }
        else {
-           IV tmp;
+           UV tmp;
            if &#40;!sv_isa&#40;*svp, &#34;ExtProc::OCIEnvHandle&#34;&#41;&#41;
                croak&#40;&#34;ora_envhp value is not of type ExtProc::OCIEnvHandle&#34;&#41;;
            tmp = SvIV&#40;&#40;SV*&#41;SvRV&#40;*svp&#41;&#41;;
@@ -401,7 +401,7 @@
 
     /* &#34;extproc&#34; dbname is special if &#34;ora_context&#34; attribute also given */
     if &#40;strEQ&#40;dbname,&#34;extproc&#34;&#41; &#38;&#38; &#40;svp=DBD_ATTRIB_GET_SVP&#40;attr,
&#34;ora_context&#34;, 11&#41;&#41;&#41; {
-       IV tmp;
+       UV tmp;
        SV **svcsvp;
        SV **errsvp;
        if &#40;!svp&#41;
@@ -2088,10 +2088,10 @@
     phs-&gt;alen = value_len + phs-&gt;alen_incnull;
 
     if &#40;DBIS-&gt;debug &gt;= 3&#41; {
-       UV neatsvpvlen = &#40;UV&#41;DBIc_DBISTATE&#40;imp_sth&#41;-&gt;neatsvpvlen;
-       PerlIO_printf&#40;DBILOGFP, &#34;dbd_rebind_ph_char&#40;&#41; &#40;2&#41;: bind %s &lt;== &#39;%.*s&#39;
&#40;size %ld/%ld, otype %d, indp %d, at_exec %d&#41;\n&#34;,
+           unsigned int neatsvpvlen = &#40;unsigned
int&#41;DBIc_DBISTATE&#40;imp_sth&#41;-&gt;neatsvpvlen;
+           PerlIO_printf&#40;DBILOGFP, &#34;dbd_rebind_ph_char&#40;&#41; &#40;2&#41;: bind %s &lt;==
&#39;%.*s&#39; &#40;size %ld/%ld, otype %d, indp %d, at_exec %d&#41;\n&#34;,
            phs-&gt;name,
-           &#40;int&#41;&#40;phs-&gt;alen &gt; neatsvpvlen ? neatsvpvlen : phs-&gt;alen&#41;,
+           &#40;unsigned int&#41;&#40;phs-&gt;alen &gt; neatsvpvlen ? neatsvpvlen : phs-&gt;alen&#41;,
            &#40;phs-&gt;progv&#41; ? phs-&gt;progv : &#34;&#34;,
            &#40;long&#41;phs-&gt;alen, &#40;long&#41;phs-&gt;maxlen, phs-&gt;ftype, phs-&gt;indp, at_exec&#41;;
     }
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;28&nbsp;08:26:49&nbsp;2008</span>
    <span class="description">champoux [...] pythian.com -  Correspondence added</span>
    <span class="time-taken">45 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I also noticed that you are using &#34;cygwin-thread-multi-64int&#34;  is this
on a 64bit windows box if it is you may be using the 32bin oracle client
which could cause your problems as well?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;00:01:34&nbsp;2008</span>
    <span class="description">mailtomanish.sharma [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mailtomanish.sharma [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">My setup:

  ,----
  | Windows XP SP2
  | 
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ uname -a
  | CYGWIN_NT-5.1 326001553L 1.5.25&#40;0.156/4/2&#41; 2008-02-27 19:14 i686 Cygwin
  | 
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ perl -v
  | This is perl, v5.10.0 built for i686-cygwin-thread-multi-64int
  | 
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ perl -V:cc
  | cc=&#39;gcc&#39;;
  | 
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ perl -e &#39;use DBI; print
&#34;DBI Version: &#34;.$DBI::VERSION.&#34;\n&#34;;
  | DBI Version: 1.602
  `----

Following snippent shows that the patch you provided has been applied.

  ,----
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ diff -u
dbdimp.c.orig.prepatch dbdimp.c
  | --- dbdimp.c.orig.prepatch      2007-12-21 21:33:55.000000000 +0530
  | +++ dbdimp.c    2008-03-01 01:58:49.043993600 +0530
  | @@ -391,7 +391,7 @@
  |             imp_dbh-&gt;envhp = NULL; /* force new environment */
  |         }
  |         else {
  | -           IV tmp;
  | +           UV tmp;
  |             if &#40;!sv_isa&#40;*svp, &#34;ExtProc::OCIEnvHandle&#34;&#41;&#41;
  |                 croak&#40;&#34;ora_envhp value is not of type
ExtProc::OCIEnvHandle&#34;&#41;;
  |             tmp = SvIV&#40;&#40;SV*&#41;SvRV&#40;*svp&#41;&#41;;
  | @@ -401,7 +401,7 @@
  | 
  |      /* &#34;extproc&#34; dbname is special if &#34;ora_context&#34; attribute also
given */
  |      if &#40;strEQ&#40;dbname,&#34;extproc&#34;&#41; &#38;&#38; &#40;svp=DBD_ATTRIB_GET_SVP&#40;attr,
&#34;ora_context&#34;, 11&#41;&#41;&#41; {
  | -       IV tmp;
  | +       UV tmp;
  |         SV **svcsvp;
  |         SV **errsvp;
  |         if &#40;!svp&#41;
  | @@ -2088,10 +2088,10 @@
  |      phs-&gt;alen = value_len + phs-&gt;alen_incnull;
  | 
  |      if &#40;DBIS-&gt;debug &gt;= 3&#41; {
  | -       UV neatsvpvlen = &#40;UV&#41;DBIc_DBISTATE&#40;imp_sth&#41;-&gt;neatsvpvlen;
  | -       PerlIO_printf&#40;DBILOGFP, &#34;dbd_rebind_ph_char&#40;&#41; &#40;2&#41;: bind %s
&lt;== &#39;%.*s&#39; &#40;size %ld/%ld, otype %d, indp %d, at_exec %d&#41;\n&#34;,
  | +           unsigned int neatsvpvlen = &#40;unsigned
int&#41;DBIc_DBISTATE&#40;imp_sth&#41;-&gt;neatsvpvlen;
  | +           PerlIO_printf&#40;DBILOGFP, &#34;dbd_rebind_ph_char&#40;&#41; &#40;2&#41;: bind
%s &lt;== &#39;%.*s&#39; &#40;size %ld/%ld, otype %d, indp %d, at_exec %d&#41;\n&#34;,
  |             phs-&gt;name,
  | -           &#40;int&#41;&#40;phs-&gt;alen &gt; neatsvpvlen ? neatsvpvlen : phs-&gt;alen&#41;,
  | +           &#40;unsigned int&#41;&#40;phs-&gt;alen &gt; neatsvpvlen ? neatsvpvlen :
phs-&gt;alen&#41;,
  |             &#40;phs-&gt;progv&#41; ? phs-&gt;progv : &#34;&#34;,
  |             &#40;long&#41;phs-&gt;alen, &#40;long&#41;phs-&gt;maxlen, phs-&gt;ftype,
phs-&gt;indp, at_exec&#41;;
  |      }
  `----

Setting up for compile:

  ,----
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ export
ORACLE_HOME=/cygdrive/d/home/installations/instantclient102/
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ export
ORACLE_USERID=&#34;manish/manish@xe&#34;
  `----

Creating makefile:

  ,----
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ perl Makefile.PL
  | Using DBI 1.602 &#40;for perl 5.010000 on
i686-cygwin-thread-multi-64int&#41; installed in
/usr/lib/perl5/site_perl/5.10/i686-cygwin/auto/DBI/
  | 
  | Configuring DBD::Oracle for perl 5.010000 on cygwin
&#40;i686-cygwin-thread-multi-64int&#41;
  | 
  | Remember to actually *READ* the README file! Especially if you have
any problems.
  | 
  | Using Oracle in /cygdrive/d/home/installations/instantclient102
  | DEFINE _SQLPLUS_RELEASE = &#34;1002000300&#34; &#40;CHAR&#41;
  | Oracle version 10.2.0.3 &#40;10.2&#41;
  | Using OCI directory &#39;sdk&#39;
  | 
  | Checking for functioning wait.ph
  | 
  | 
  | System: perl5.010000 cygwin_nt-5.1 reini 1.5.25&#40;0.15642&#41; 2007-12-14
19:21 i686 cygwin
  | Compiler:   gcc -O3 -DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__
-fno-strict-aliasing -pipe -I/usr/local/include
  | Linker:     /bin/ld
  | Sysliblist:
  | 
  | 
  | WARNING: If you have problems you may need to rebuild perl with
-Uusemymalloc.
  |
LD_RUN_PATH=/cygdrive/d/home/installations/instantclient102/lib:/cygdrive/d/home/installations/instantclient102/rdbms/lib
  | Using DBD::Oracle 1.20.
  | Using DBD::Oracle 1.20.
  | Using DBI 1.602 &#40;for perl 5.010000 on
i686-cygwin-thread-multi-64int&#41; installed in
/usr/lib/perl5/site_perl/5.10/i686-cygwin/auto/DBI/
  | Writing Makefile for DBD::Oracle
  | 
  | ***  If you have problems...
  |      read all the log printed above, and the README and
README.help.txt files.
  |      &#40;Of course, you have read README by now anyway, haven&#39;t you?&#41;
  `----

Apprently successful.  Now compiling:

  ,----
  | /cygdrive/d/home/softwares/DBD-Oracle-1.20 $ make
  | Skip blib/lib/DBD/Oracle.pm &#40;unchanged&#41;
  | Skip blib/lib/DBD/mkta.pl &#40;unchanged&#41;
  | Skip blib/lib/oraperl.ph &#40;unchanged&#41;
  | Skip blib/arch/auto/DBD/Oracle/dbdimp.h &#40;unchanged&#41;
  | Skip blib/arch/auto/DBD/Oracle/ocitrace.h &#40;unchanged&#41;
  | Skip blib/lib/Oraperl.pm &#40;unchanged&#41;
  | Skip blib/arch/auto/DBD/Oracle/Oracle.h &#40;unchanged&#41;
  | Skip blib/arch/auto/DBD/Oracle/mk.pm &#40;unchanged&#41;
  | Skip blib/lib/DBD/Oracle/GetInfo.pm &#40;unchanged&#41;
  | gcc -c 
-I/cygdrive/d/home/installations/instantclient102/sdk/include
-I/cygdrive/d/home/installations/instantclient102/rdbms/demo
-I/usr/lib/perl5/site_perl/5.10/i686-cygwin/auto/DBI
-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -fno-strict-aliasing -pipe
-I/usr/local/include -DUSEIMPORTLIB -O3   -DVERSION=\&#34;1.20\&#34;
-DXS_VERSION=\&#34;1.20\&#34;  &#34;-I/usr/lib/perl5/5.10/i686-cygwin/CORE&#34;  -Wall
-Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0.3\&#34; Oracle.c
  | gcc -c 
-I/cygdrive/d/home/installations/instantclient102/sdk/include
-I/cygdrive/d/home/installations/instantclient102/rdbms/demo
-I/usr/lib/perl5/site_perl/5.10/i686-cygwin/auto/DBI
-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -fno-strict-aliasing -pipe
-I/usr/local/include -DUSEIMPORTLIB -O3   -DVERSION=\&#34;1.20\&#34;
-DXS_VERSION=\&#34;1.20\&#34;  &#34;-I/usr/lib/perl5/5.10/i686-cygwin/CORE&#34;  -Wall
-Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0.3\&#34; dbdimp.c
  | dbdimp.c: In function `ora_db_login6&#39;:
  | dbdimp.c:398: warning: cast to pointer from integer of different size
  | dbdimp.c:412: warning: cast to pointer from integer of different size
  | dbdimp.c:422: warning: cast to pointer from integer of different size
  | dbdimp.c:426: warning: cast to pointer from integer of different size
  | dbdimp.c: In function `dbd_rebind_ph_char&#39;:
  | dbdimp.c:2041: warning: long int format, different type arg &#40;arg 5&#41;
  | dbdimp.c: In function `ora_bind_ph&#39;:
  | dbdimp.c:2468: warning: int format, different type arg &#40;arg 2&#41;
  | dbdimp.c:2477: warning: int format, different type arg &#40;arg 2&#41;
  | dbdimp.c:2509: warning: int format, different type arg &#40;arg 3&#41;
  | dbdimp.c:2519: warning: unknown conversion type character `_&#39; in format
  | gcc -c 
-I/cygdrive/d/home/installations/instantclient102/sdk/include
-I/cygdrive/d/home/installations/instantclient102/rdbms/demo
-I/usr/lib/perl5/site_perl/5.10/i686-cygwin/auto/DBI
-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -fno-strict-aliasing -pipe
-I/usr/local/include -DUSEIMPORTLIB -O3   -DVERSION=\&#34;1.20\&#34;
-DXS_VERSION=\&#34;1.20\&#34;  &#34;-I/usr/lib/perl5/5.10/i686-cygwin/CORE&#34;  -Wall
-Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT
-DORA_OCI_VERSION=\&#34;10.2.0.3\&#34; oci8.c
  | oci8.c: In function `dbd_rebind_ph_lob&#39;:
  | oci8.c:761: warning: long int format, ub4 arg &#40;arg 2&#41;
  | oci8.c: In function `ora_blob_read_mb_piece&#39;:
  | oci8.c:953: warning: long int format, different type arg &#40;arg 6&#41;
  | oci8.c: In function `get_attr_val&#39;:
  | oci8.c:1325: warning: unknown conversion type character `O&#39; in format
  | oci8.c:1325: warning: char format, different type arg &#40;arg 6&#41;
  | oci8.c:1325: warning: too many arguments for format
  | oci8.c:1342: warning: unknown conversion type character `O&#39; in format
  | oci8.c:1342: warning: char format, different type arg &#40;arg 6&#41;
  | oci8.c:1342: warning: too many arguments for format
  | oci8.c:1359: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c:1359: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c:1361: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c:1361: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c:1364: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c:1364: warning: long int format, int arg &#40;arg 3&#41;
  | oci8.c: In function `get_object&#39;:
  | oci8.c:1550: warning: int format, pointer arg &#40;arg 6&#41;
  | oci8.c: In function `ora_describe&#39;:
  | oci8.c:2160: warning: long int format, ub4 arg &#40;arg 2&#41;
  | oci8.c:2275: warning: int format, pointer arg &#40;arg 6&#41;
  | oci8.c: In function `init_lob_refetch&#39;:
  | oci8.c:2809: warning: long int format, ub4 arg &#40;arg 2&#41;
  | oci8.c:2852: warning: long int format, int arg &#40;arg 2&#41;
  | oci8.c:2870: warning: int format, long int arg &#40;arg 3&#41;
  | rm -f blib/arch/auto/DBD/Oracle/Oracle.dll
  |
LD_RUN_PATH=&#34;/cygdrive/d/home/installations/instantclient102/lib:/cygdrive/d/home/installations/instantclient102/rdbms/lib&#34;
g++  --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols
-Wl,--stack,8388608 -Wl,--enable-auto-image-base -L/usr/local/lib
Oracle.o dbdimp.o oci8.o  -o blib/arch/auto/DBD/Oracle/Oracle.dll    \
  |           /usr/lib/perl5/5.10/i686-cygwin/CORE/libperl.dll.a
-L/cygdrive/d/home/softwares/DBD-Oracle-1.20 -loci         \
  | 
  | dbdimp.o:dbdimp.c:&#40;.text+0xcb31&#41;: undefined reference to
`_OCIStmtFetch2&#39;
  | oci8.o:oci8.c:&#40;.text+0x5a9c&#41;: undefined reference to
`_OCIDateTimeToText&#39;
  | oci8.o:oci8.c:&#40;.text+0x5bf2&#41;: undefined reference to
`_OCIIntervalToText&#39;
  | oci8.o:oci8.c:&#40;.text+0x6028&#41;: undefined reference to
`_OCIDateTimeGetTimeZoneOffset&#39;
  | oci8.o:oci8.c:&#40;.text+0xf7f2&#41;: undefined reference to `_OCIStmtFetch2&#39;
  | collect2: ld returned 1 exit status
  | make: *** [blib/arch/auto/DBD/Oracle/Oracle.dll] Error 1
  `----

It fails with the same error as without the patch.

I have tried to format clearly but it line width may cause it to look
bad.  Do let me know if you need me to repost/email.

-- Manish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;05&nbsp;13:54:22&nbsp;2012</span>
    <span class="description">champoux [...] pythian.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing as it&#39;s an old ticket.

If it&#39;s still pertinent, please retry using the most recent release of
DBD::Oracle &#40;v1.50 at the time of this writing&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;05&nbsp;13:54:23&nbsp;2012</span>
    <span class="description">champoux [...] pythian.com -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
