<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #105008 for TAP: TAP changes</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #105008 for TAP: TAP changes</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=TAP">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=TAP">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=TAP">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=TAP">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/TAP">TAP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">105008</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=TAP">TAP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
aschwarz1309 [...] att.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40088-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40089-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=105008">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1504480" href="/Public/Bug/Display.html?id=105008#txn-1504480">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;05&nbsp;18:53:22&nbsp;2015</span>
    <span class="description">aschwarz1309 [...] att.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TAP changes</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 5 Jun 2015 15:52:59 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-TAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Arthur Schwarz&#34; &lt;aschwarz1309 [...] att.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1504480/801757/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/801757">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
These comments are made with respect to the TAP version 13 Specification

Please don&#39;t take the comments amiss. I intend to state them succinctly
without apology or caveat. This will, unfortunately, make them appear as a
criticism and that my view should prevail. Neither viewpoints are correct.
All of the comments can be viewed as &#34;I&#39;d like to see ...&#34;, or &#34;gosh darn,
it would be nice if ...&#34;.

A clear exposition of the syntax for TAP statements should precede their use
and explanation. This will reduce ambiguity in interpretation. That having
been said, I think an interpretation of the current syntax is:
   ^1..N[ # comment]
   ^1..0[ # comment]
   ^ok[ [N [comment ][# directiver [comment]]
   ^not ok[ [N [comment ][# directiver [comment]]
   ^Bail out!
   ^#[ Diagnostic]
   ^ +---
   ^ *...
   ^ YAML comment
   
 where ^ means the beginning of the line
       &#39; &#39; is exactly on blank
       [ ] are optional entries
        +  one or more
       N   a test line number
           test line comments can not have an embedded #

I would be nice if this syntax was broadened
   ^&lt;ws&gt;*1..N[&lt;ws&gt;+comment]
   ^&lt;ws&gt;*1..0[&lt;ws&gt;+comment]
   ^&lt;ws&gt;*ok[&lt;ws&gt;+N[[&lt;ws&gt;+comment] | [&lt;ws&gt;+#[&lt;ws&gt;*comment]]]
   ^&lt;ws&gt;*not ok[&lt;ws&gt;+N[&lt;ws&gt;+comment]]
   ^&lt;ws&gt;*Bail out![&lt;ws&gt;*comment]
   ^&lt;ws&gt;*#&lt;ws&gt;*Diagnostic
   ^&lt;ws&gt;*---
   ^&lt;ws&gt;*...
   ^&lt;ws&gt;*YAML comment
   
where &lt;ws&gt; is &#39; &#39; or \t
      *    is 0 or more
      +    one or more
      |    is alternation &#40;this or that&#41;
      
&#40;I can provide syntax equations if this suits your purposes&#41;.

There are several reasons this alternate may be desirable:
1: Checking for TAP Protocol compliance is burdensome. 
   Every violation of a spacing requirement makes the statement 
   incorrect. This is needless if the standard is changed 
   so that if it says that if one &lt;ws&gt; is valid then many
   can be used.
2: Requiring that TAP statement begin in column one is 
   Burdensome to check and has no useful functionality. 
3: Allowing both a test line and a Directive comment seems 
   Counter-intuitive. It seems more sensible to either have
   a comment followed by a Directive, or a Directive followed
   by a comment, but not both. 
3: The requirement that one or more &lt;ws&gt; characters follow a
   Directive prefix is unnecessary &#40;but attractive&#41;.
   
   
In the &#39;new&#39; syntax the following tests are acceptable.
   1..N
  ok
     not ok   123
     # Diagnostic
  # Diagnostic
   ok comment
   ok 123 # SKIP comment
  ---
     jabbering YAML
  YAML
      ...
      
   ok N comment # SKIP is not acceptable
   
The use and placement of 1..N needs to be better addressed.
1: If 1..N occurs before the test lines then ok 123 can be verified.
2: If 1..N follows all test line then ok 123 can not be check using 
   a single pass analyzer. Output results have to be deferred.
3: If 1..N is missing then no checks are possible. This can&#39;t
   be determined until all test lines are input since 1..N may
   be at the end of the TAP Protocol file.
   
Building an analyzer becomes more difficult 1..N can be missing
or at the end of the file. If deference is to be given to the TAP 
output process then maybe 1..N should be removed as a requirement.

Some words should be stated concering the placement of Diagnostics.
For example:
  Can zero or more Diagnostics precede the first test line
  Can zero or more Diagnostics follow the last test line
  Is there a relationship between a Diagnosic and a preceding
     or following test line which has to be observed.
     
The same comments apply to YAML code.

There are no examples of an inline YAML block. In particular the
syntax specifies that the only format for a YAML block is:

ssss---

and .../

Do you mean: /^[[:blank:]]+---/ and /^[[:blank:]]+.../

The meaning of TODO has not been stated. My interpretation is that
it is a SKIP.

The use of blank lines is  not stated.

I think that the current specification is very clear &#40;except 
TODO&#41; and simple. I am building a little TAP converter and,
for the most part, have little difficulty. But, protocol 
checking would be easier if some of the &#39;start on column&#39; one
conditions where lifted, and a better explanation of 1..N was
included.

thanks
art

The failure of the past is the challenge of the present and the success of
the future.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1504488" href="/Public/Bug/Display.html?id=105008#txn-1504488">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;05&nbsp;19:17:45&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1504488/801760/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/801760">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 623b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
If you&#39;re asking for clarifications to the documentation, patches are welcome.

However, with regards to changing the specification itself:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 1: Checking for TAP Protocol compliance is burdensome. 
</div>
Yes, well, that&#39;s a specification for you.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 2: Requiring that TAP statement begin in column one is 
&gt;    Burdensome to check and has no useful functionality. 
</div>
Not so. Consider subtests.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 3: Allowing both a test line and a Directive comment seems 
&gt;    Counter-intuitive. It seems more sensible to either have
&gt;    a comment followed by a Directive, or a Directive followed
&gt;    by a comment, but not both. 
</div>
How so?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1504489" href="/Public/Bug/Display.html?id=105008#txn-1504489">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;05&nbsp;19:17:45&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1505206" href="/Public/Bug/Display.html?id=105008#txn-1505206">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;07&nbsp;18:52:05&nbsp;2015</span>
    <span class="description">aschwarz1309 [...] att.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;&#39;Arthur Schwarz&#39;&#34; &lt;aschwarz1309 [...] att.net&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #105008] TAP changes</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 7 Jun 2015 15:51:25 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-TAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Arthur Schwarz&#34; &lt;aschwarz1309 [...] att.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1505206/802127/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802127">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">

Take anything I say seriously and we are in serious difficulty. Some of the
responses are whimsical &#40;but accurate maybe&#41; and some are pointed &#40;maybe not
so accurate&#41;. Read and enjoy.


If you&#39;re asking for clarifications to the documentation, patches are
welcome.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  
&gt;  However, with regards to changing the specification itself:
&gt;  
<div class="message-stanza open">&gt;  &gt; 1: Checking for TAP Protocol compliance is burdensome. 
</div>&gt;  
&gt;  Yes, well, that&#39;s a specification for you.
</div>
Taking the gloves off are we?

Specifications have a difficult job in saying &#39;exactly what is meant&#39; and
paying attention to the implementers needs. This specification does not say
&#39;exactly what is meant&#39; and does not cater to its audience. It leaves unsaid
the exact meaning of most of its constructs and then provides an example
which is misleading as being the specification. 

To be specific, there are no syntax diagrams or Backus Naur Form &#40;BNF&#41;
equations or any other formal description of this language. What there is is
contradictory seeming to be a meld of vim and regular expressions.

There are four different style comments represented &#40;only some are
described&#41;:
   1: Comments preceded with a # on a line, called Diagnostics
   2: Comments following not ok/ok which must not have a leading number
&#40;Descriptor&#41;
   3: Comments following a Directives which can have a leading number
   4: Comments following a test plan which must have a &#39;#&#39; prefix
   
There is no indication whether a separator is required nor what that
separator should be. Without that specification the following is legal

    okis a fine day#TODO anything
    
Other than a number prefix being reprehensible, there is no indication of
what a Descriptor comment can have. The following is legal.

     okis a fi##ne day##TODO anything

The use of \s to mean &#39; &#39; is not standard and &#40;I believe&#41; is vim specific.
The exclusion of a tab, \t, is inexplicable and doesn&#39;t allow [:blank:]&#39; or
[ \t] to be used.

The use of SKIP\S is clearly wrong. The escape character, &#39;\&#39;, is not
explained and options are not represented in this way. What this Directive
says is that SKIP is written as:

   ok #SKIP\S

The specification clearly specifies that the test plan format is 1..N but if
there are k test cases you have not clearly specified how to treat k &lt; N and
k &gt; N. Your statements of an abrupt test termination is not sufficient to
describe the exact meaning of k &lt; N.

The specification uses a regular expression to define ok, /^ok/, and not ok,
/^not ok/ without specifying either that it is a regular expression or where
to find an explanation of regular expressions, or to have defined the
regular expressions used. And this definition is in conflict with the use of
\s+ in describing Directives and YAML initiators and terminators.

The specification specifies that ok and not ok are case sensitive, and TODO
and SKIP are not.  There is no specification of form or format of the
Descriptor following the keyword. The following are legal:

    Bail Out!# you scurvy rat
    Bail Out!1 fine day to go fishing

&#34;#, which the harness must ignore&#34; a semantic meaning expressed here but
missing through most of the document {test line, test plan errors,
Directives, and so on}.

Errors are not explained. If an error is detected does it invalidate all
tests? What is an &#39;error&#39;?

Does a test line with a SKIP or TODO Directive count toward the N in the
test plan?

The YAML block initiators can not start in column one. By the by, the
regular expression written to describe the YAML block closing operator
should be /\s+.../ in the formalism chosen, not \s+.../. The following
appears legal.

   ---
 ---  this begins in column 1
 ...  this begins in column 1
   ...
   
Since there is no specification of YAML contents except for the wish &#40;not
specification&#41; that &#34;The YAML document is indented ...&#34;. The statement &#34;make
it easier for the parser to recover if the trailing ...&#34; is demonstrably
incorrect for a lot of reasons.

The statement concerning the PERL test harness is clearly incorrect and
unexplained. There is a big difference between a specification of content
and the processing of content and the document nowhere addresses this. 

TODO: &#34;Should a todo test point begin succeeding...&#34; What mechanism is
provided in the specification to identify that TODO has succeeded or failed?
Directives are only associated with a &#39;not ok&#39;.

TODO: &#34;...the harness should report it as a bonus&#34; does this mean that TODO
is not counted as a test line with respect to either the test plan nor
counting each test line as seen? How does the test harness report a bonus?

SKIP: &#34;... emitted if the test file is skipped completely&#34;. Test files
retain artifacts of test execution. If the test file is skipped then no
artifacts are reported and this document is moot. Do you mean to say that no
test is reported? Suppose the test plan is 1..0 and there are k test lines,
each one with a SKIP directive. Is this legal? Suppose the test plan is 1..k
and there are k test lines each one with a SKIP directive. Is this different
from a test plan of 1..0?

Bail Out! There is no regular expression defining its &#39;formal&#39; format and
the separator between &#39;Bail&#39; and &#39;Out!&#39;.

Bail Out! &#34;As an emergency measure a test script ...&#34; do you mean Harness?
If not, what is a test script and what are its requirements. Is there a
scripting language to be used? Can a PERL program be a test script &#40;as in
#!/bin/perl&#41;?

Bail Out! &#34;... to standard output&#34; What does this mean? Is this document
describing the TAP language, the TAP Producer, the TAP Consumer, and how
does this relate to Bail Out!? Are you saying that when a Bail Out is seen
by the TAP Consumer the following ... is done? If so, can&#39;t Bail Out! be in
a generated test file? If it is in a generated test file, does Bail Out&#34;
have to be in column 1 of a line?

Bail Out! &#34;... interpreter ...&#34; What interpreter? Are you talking about the
semantics of Bail Out! with respect to a particular TAP Consumer?

Bail Out! There is no requirement that Bail Out! be put in column 1
&#40;mentioned above&#41; but there is an indication that Bail Out! be output to
stdout. Does this mean that all statements can be output to stdout or only
Bail Out!? If all statements can be output to stdout then are they required
to be put into column 1, and what does column 1 mean in this context?

Diagnostics: &#34; ... which the harness must ignore ...&#34;. Suppose my harness
chooses not to ignore the comment, what happens? Since the TAP Specification
specifies the contents of a test file &#40;although note the comments in Bail
Out!&#41; does this preclude &#39;structured Diagnostic comments&#34; suitable for
analysis?

Diagnostics: &#34;TAP13&#39;s YAML blocks are intended to replace diagnostics ...&#34;.
Is there any particular subset of YAML which is interesting? Suppose I just
wanted to make a comment:

   # this is a wonderful day

How do I say this in YAML?
   
Diagnostics: Does the TAP Specification require that a full YAML parser be
provided?
   
How would I do this in YAML? What part of a YAML block should the harness be
responsible for processing? Suppose test files are &#40;just&#41; handed around, and
I get a test file and am interested in comments. How do I treat YAML? 

Anything else: &#34;How a harness handles the incorrect line is undefined.&#34;
Shouldn&#39;t the specification tell about correct and incorrect handling of all
statements? If an incorrect statement is seen, does this invalidate all test
results in the file &#40;one error leads to total failure&#41; because test intent
can not be established?

Anything else: a little example

  ok starts in a column &gt; 1
  
This statement is not TAP compliant. It belongs in the Anything else
category. What should be done with it?


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  
<div class="message-stanza open">&gt;  &gt; 2: Requiring that TAP statement begin in column one is 
&gt;  &gt;    Burdensome to check and has no useful functionality. 
</div>&gt;  
&gt;  Not so. Consider subtests.
</div>
What is a subtest? Where is it defined? My current understanding is that
test results are reported in test lines w/wo Directives, and that all tests
have equal merit. What is a subtest and how is it distinguished?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  
<div class="message-stanza open">&gt;  &gt; 3: Allowing both a test line and a Directive comment seems 
&gt;  &gt;    Counter-intuitive. It seems more sensible to either have
&gt;  &gt;    a comment followed by a Directive, or a Directive followed
&gt;  &gt;    by a comment, but not both. 
</div>&gt;  
&gt;  How so?
</div>
Because there are two comments describing the same event. Consider two
cases:
1: A computer generated file, and
2: A human generated file.

A computer has to be &#39;told&#39; what to do. That being said, when a test is
skipped all information concerning the test can be described after the
Descriptive. That is, &#34;This is a test. It has been skipped because&#34;.

A human has to insert a skip and comment. If makes some sense that his job
is made easier if the SKIP and comment are just appended. 

Now, does the specification mean to address manually generated/modified test
files?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  
&gt;  
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1506060" href="/Public/Bug/Display.html?id=105008#txn-1506060">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;09&nbsp;12:18:48&nbsp;2015</span>
    <span class="description">aschwarz1309 [...] att.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #105008] TAP changes</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 9 Jun 2015 09:18:07 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;Arthur Schwarz&#39;&#34; &lt;aschwarz1309 [...] att.net&gt;, &lt;bug-TAP [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Arthur Schwarz&#34; &lt;aschwarz1309 [...] att.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1506060/802653/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/802653">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Do you want me to rewrite the TAP Specification?

art

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----

Take anything I say seriously and we are in serious difficulty. Some of the
responses are whimsical &#40;but accurate maybe&#41; and some are pointed &#40;maybe not
so accurate&#41;. Read and enjoy.


If you&#39;re asking for clarifications to the documentation, patches are
welcome.
<div class="message-stanza open">&gt;  
&gt;  However, with regards to changing the specification itself:
&gt;  
<div class="message-stanza open">&gt;  &gt; 1: Checking for TAP Protocol compliance is burdensome. 
</div>&gt;  
&gt;  Yes, well, that&#39;s a specification for you.
</div>
Taking the gloves off are we?

Specifications have a difficult job in saying &#39;exactly what is meant&#39; and
paying attention to the implementers needs. This specification does not say
&#39;exactly what is meant&#39; and does not cater to its audience. It leaves unsaid
the exact meaning of most of its constructs and then provides an example
which is misleading as being the specification. 

To be specific, there are no syntax diagrams or Backus Naur Form &#40;BNF&#41;
equations or any other formal description of this language. What there is is
contradictory seeming to be a meld of vim and regular expressions.

There are four different style comments represented &#40;only some are
described&#41;:
   1: Comments preceded with a # on a line, called Diagnostics
   2: Comments following not ok/ok which must not have a leading number
&#40;Descriptor&#41;
   3: Comments following a Directives which can have a leading number
   4: Comments following a test plan which must have a &#39;#&#39; prefix
   
There is no indication whether a separator is required nor what that
separator should be. Without that specification the following is legal

    okis a fine day#TODO anything
    
Other than a number prefix being reprehensible, there is no indication of
what a Descriptor comment can have. The following is legal.

     okis a fi##ne day##TODO anything

The use of \s to mean &#39; &#39; is not standard and &#40;I believe&#41; is vim specific.
The exclusion of a tab, \t, is inexplicable and doesn&#39;t allow [:blank:]&#39; or
[ \t] to be used.

The use of SKIP\S is clearly wrong. The escape character, &#39;\&#39;, is not
explained and options are not represented in this way. What this Directive
says is that SKIP is written as:

   ok #SKIP\S

The specification clearly specifies that the test plan format is 1..N but if
there are k test cases you have not clearly specified how to treat k &lt; N and
k &gt; N. Your statements of an abrupt test termination is not sufficient to
describe the exact meaning of k &lt; N.

The specification uses a regular expression to define ok, /^ok/, and not ok,
/^not ok/ without specifying either that it is a regular expression or where
to find an explanation of regular expressions, or to have defined the
regular expressions used. And this definition is in conflict with the use of
\s+ in describing Directives and YAML initiators and terminators.

The specification specifies that ok and not ok are case sensitive, and TODO
and SKIP are not.  There is no specification of form or format of the
Descriptor following the keyword. The following are legal:

    Bail Out!# you scurvy rat
    Bail Out!1 fine day to go fishing

&#34;#, which the harness must ignore&#34; a semantic meaning expressed here but
missing through most of the document {test line, test plan errors,
Directives, and so on}.

Errors are not explained. If an error is detected does it invalidate all
tests? What is an &#39;error&#39;?

Does a test line with a SKIP or TODO Directive count toward the N in the
test plan?

The YAML block initiators can not start in column one. By the by, the
regular expression written to describe the YAML block closing operator
should be /\s+.../ in the formalism chosen, not \s+.../. The following
appears legal.

   ---
 ---  this begins in column 1
 ...  this begins in column 1
   ...
   
Since there is no specification of YAML contents except for the wish &#40;not
specification&#41; that &#34;The YAML document is indented ...&#34;. The statement &#34;make
it easier for the parser to recover if the trailing ...&#34; is demonstrably
incorrect for a lot of reasons.


The statement concerning the PERL test harness is clearly incorrect and
unexplained. There is a big difference between a specification of content
and the processing of content and the document nowhere addresses this. 

TODO: &#34;Should a todo test point begin succeeding...&#34; What mechanism is
provided in the specification to identify that TODO has succeeded or failed?
Directives are only associated with a &#39;not ok&#39;.

TODO: &#34;...the harness should report it as a bonus&#34; does this mean that TODO
is not counted as a test line with respect to either the test plan nor
counting each test line as seen? How does the test harness report a bonus?

SKIP: &#34;... emitted if the test file is skipped completely&#34;. Test files
retain artifacts of test execution. If the test file is skipped then no
artifacts are reported and this document is moot. Do you mean to say that no
test is reported? Suppose the test plan is 1..0 and there are k test lines,
each one with a SKIP directive. Is this legal? Suppose the test plan is 1..k
and there are k test lines each one with a SKIP directive. Is this different
from a test plan of 1..0?

Bail Out! There is no regular expression defining its &#39;formal&#39; format and
the separator between &#39;Bail&#39; and &#39;Out!&#39;.

Bail Out! &#34;As an emergency measure a test script ...&#34; do you mean Harness?
If not, what is a test script and what are its requirements. Is there a
scripting language to be used? Can a PERL program be a test script &#40;as in
#!/bin/perl&#41;?

Bail Out! &#34;... to standard output&#34; What does this mean? Is this document
describing the TAP language, the TAP Producer, the TAP Consumer, and how
does this relate to Bail Out!? Are you saying that when a Bail Out is seen
by the TAP Consumer the following ... is done? If so, can&#39;t Bail Out! be in
a generated test file? If it is in a generated test file, does Bail Out&#34;
have to be in column 1 of a line?

Bail Out! &#34;... interpreter ...&#34; What interpreter? Are you talking about the
semantics of Bail Out! with respect to a particular TAP Consumer?

Bail Out! There is no requirement that Bail Out! be put in column 1
&#40;mentioned above&#41; but there is an indication that Bail Out! be output to
stdout. Does this mean that all statements can be output to stdout or only
Bail Out!? If all statements can be output to stdout then are they required
to be put into column 1, and what does column 1 mean in this context?

Diagnostics: &#34; ... which the harness must ignore ...&#34;. Suppose my harness
chooses not to ignore the comment, what happens? Since the TAP Specification
specifies the contents of a test file &#40;although note the comments in Bail
Out!&#41; does this preclude &#39;structured Diagnostic comments&#34; suitable for
analysis?

Diagnostics: &#34;TAP13&#39;s YAML blocks are intended to replace diagnostics ...&#34;.
Is there any particular subset of YAML which is interesting? Suppose I just
wanted to make a comment:

   # this is a wonderful day

How do I say this in YAML?
   
Diagnostics: Does the TAP Specification require that a full YAML parser be
provided?
   
How would I do this in YAML? What part of a YAML block should the harness be
responsible for processing? Suppose test files are &#40;just&#41; handed around, and
I get a test file and am interested in comments. How do I treat YAML? 

Anything else: &#34;How a harness handles the incorrect line is undefined.&#34;
Shouldn&#39;t the specification tell about correct and incorrect handling of all
statements? If an incorrect statement is seen, does this invalidate all test
results in the file &#40;one error leads to total failure&#41; because test intent
can not be established?

Anything else: a little example

  ok starts in a column &gt; 1
  
This statement is not TAP compliant. It belongs in the Anything else
category. What should be done with it?


<div class="message-stanza open">&gt;  
<div class="message-stanza open">&gt;  &gt; 2: Requiring that TAP statement begin in column one is 
&gt;  &gt;    Burdensome to check and has no useful functionality. 
</div>&gt;  
&gt;  Not so. Consider subtests.
</div>
What is a subtest? Where is it defined? My current understanding is that
test results are reported in test lines w/wo Directives, and that all tests
have equal merit. What is a subtest and how is it distinguished?

<div class="message-stanza open">&gt;  
<div class="message-stanza open">&gt;  &gt; 3: Allowing both a test line and a Directive comment seems 
&gt;  &gt;    Counter-intuitive. It seems more sensible to either have
&gt;  &gt;    a comment followed by a Directive, or a Directive followed
&gt;  &gt;    by a comment, but not both. 
</div>&gt;  
&gt;  How so?
</div>
Because there are two comments describing the same event. Consider two
cases:
1: A computer generated file, and
2: A human generated file.

A computer has to be &#39;told&#39; what to do. That being said, when a test is
skipped all information concerning the test can be described after the
Descriptive. That is, &#34;This is a test. It has been skipped because&#34;.

A human has to insert a skip and comment. If makes some sense that his job
is made easier if the SKIP and comment are just appended. 

Now, does the specification mean to address manually generated/modified test
files?

<div class="message-stanza open">&gt;  
&gt;  
</div></div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.331159</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
