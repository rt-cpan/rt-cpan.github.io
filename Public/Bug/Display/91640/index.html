<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #91640 for REST-Neo4p: UTF-8 in REST::Neo4p::Query doesn&#39;t work? What I&#39;m doing wrong?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #91640 for REST-Neo4p: UTF-8 in REST::Neo4p::Query doesn&#39;t work? What I&#39;m doing wrong?</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=REST-Neo4p">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=REST-Neo4p">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=REST-Neo4p">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=REST-Neo4p">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/REST-Neo4p">REST-Neo4p CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">91640</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=REST-Neo4p">REST-Neo4p</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">maj.fortinbras [...] gmail.com
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
stesin [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-245446-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-245447-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




Sample_UTF-8_test.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1305438/691724/Sample_UTF-8_test.pl">
Thu Dec 26 03:47:19 2013 (2.3k) by stesin [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=91640">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305097" href="/Public/Bug/Display.html?id=91640#txn-1305097">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;24&nbsp;12:48:02&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> UTF-8 in REST::Neo4p::Query doesn&#39;t work? What I&#39;m doing wrong?</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305097/691545/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691545">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Mark Allen Jensen,

Merry Christmas and thank you so much for really useful module REST::Neo4p!

I have some question which is not covered by documentation. As you certainly know, UTF-8 is somewhat &#34;native&#34; encoding for Perl, so I write my Perl scripts in Windows using the UTF-8 capable text editor. I reopen console with

open STDERR, &#39;&gt;:encoding&#40;cp1251&#41;&#39;, &#39;CON:&#39; or die...

it does the job, and naturally, all Cyrillic string literals in my scripts are UTF-8 and this works Ok for me.

But as soon as I started learning Neo4j and playing with it, I discovered the following. Suppose I have a perfectly valid Cypher query wich contains Cyrillic literals UTF-8 encoded. As soon as I use it by mouse Ctrl-C+Ctrl-V into Neo4j web interface, it works.

As soon as I pack my query into text string, and pass it to
REST::Neo4p::Query-&gt;new&#40;&#41; constructor works Ok. But as soon as I perform $qry-&gt;execute&#40;&#41; program fails with dubious non-informative message in stderr:

HTTP::Message content must be bytes at D:/Strawberry_Perl_5.18.1.1_x64/perl/site/lib/HTTP/Request/Common.pm line 94.

As soon as I remove all Cyrillics from literals in the query, it works perfectly Ok. Same goes when I try to use REST::Neo4p::Node methods, BTW.

Would you please mind giving me an advice for this matter? Shall I do something special with my Cypher querys? Is is a bug in HTTP::Request module? What shall I do in order to get REST interface UTF-8 transparent it both directions?

Thank you so much for your work and your kind attention!

With best regards,
Andrii Stesin
Kyiv, Ukraine &#40;it&#39;s where Maidan goes now&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305324" href="/Public/Bug/Display.html?id=91640#txn-1305324">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;25&nbsp;13:04:25&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305325" href="/Public/Bug/Display.html?id=91640#txn-1305325">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;25&nbsp;13:06:47&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305325/691649/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691649">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Andrii- I will look into this. I&#39;m sure I am not handling non-UTF-8 very well. I appreciate the report; I hope I can fix it soon.
best! Mark
On Tue Dec 24 12:48:02 2013, stesin@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Dear Mark Allen Jensen,
&gt; 
&gt; Merry Christmas and thank you so much for really useful module
&gt; REST::Neo4p!
&gt; 
&gt; I have some question which is not covered by documentation. As you
&gt; certainly know, UTF-8 is somewhat &#34;native&#34; encoding for Perl, so I
&gt; write my Perl scripts in Windows using the UTF-8 capable text editor.
&gt; I reopen console with
&gt; 
&gt; open STDERR, &#39;&gt;:encoding&#40;cp1251&#41;&#39;, &#39;CON:&#39; or die...
&gt; 
&gt; it does the job, and naturally, all Cyrillic string literals in my
&gt; scripts are UTF-8 and this works Ok for me.
&gt; 
&gt; But as soon as I started learning Neo4j and playing with it, I
&gt; discovered the following. Suppose I have a perfectly valid Cypher
&gt; query wich contains Cyrillic literals UTF-8 encoded. As soon as I use
&gt; it by mouse Ctrl-C+Ctrl-V into Neo4j web interface, it works.
&gt; 
&gt; As soon as I pack my query into text string, and pass it to
&gt; REST::Neo4p::Query-&gt;new&#40;&#41; constructor works Ok. But as soon as I
&gt; perform $qry-&gt;execute&#40;&#41; program fails with dubious non-informative
&gt; message in stderr:
&gt; 
&gt; HTTP::Message content must be bytes at
&gt; D:/Strawberry_Perl_5.18.1.1_x64/perl/site/lib/HTTP/Request/Common.pm
&gt; line 94.
&gt; 
&gt; As soon as I remove all Cyrillics from literals in the query, it works
&gt; perfectly Ok. Same goes when I try to use REST::Neo4p::Node methods,
&gt; BTW.
&gt; 
&gt; Would you please mind giving me an advice for this matter? Shall I do
&gt; something special with my Cypher querys? Is is a bug in HTTP::Request
&gt; module? What shall I do in order to get REST interface UTF-8
&gt; transparent it both directions?
&gt; 
&gt; Thank you so much for your work and your kind attention!
&gt; 
&gt; With best regards,
&gt; Andrii Stesin
&gt; Kyiv, Ukraine &#40;it&#39;s where Maidan goes now&#41;.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305326" href="/Public/Bug/Display.html?id=91640#txn-1305326">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;25&nbsp;13:06:47&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305425" href="/Public/Bug/Display.html?id=91640#txn-1305425">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;02:47:43&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305425/691715/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691715">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 819b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Seems that the root of the problem lies inside <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/HTTP::Message">https://metacpan.org/pod/HTTP::Message</a></span> namely:

$mess-&gt;content&#40; $bytes &#41; ... Note that the content should be a string of bytes. Strings in perl can contain characters outside the range of a byte. The Encode module can be used to turn such strings into a string of bytes.

Probably the best way to ensure that $bytes is a string of bytes is force the conversion inside REST::Neo4p module where appropriate?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; REST::Neo4p::Query-&gt;new&#40;&#41; constructor works Ok. But as soon as I perform $qry-&gt;execute&#40;&#41; program fails with dubious non-informative message in stderr:
&gt; 
&gt; HTTP::Message content must be bytes at D:/Strawberry_Perl_5.18.1.1_x64/perl/site/lib/HTTP/Request/Common.pm line 94.
&gt; 
&gt; As soon as I remove all Cyrillics from literals in the query, it works perfectly Ok.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305427" href="/Public/Bug/Display.html?id=91640#txn-1305427">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;02:58:48&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305427/691717/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691717">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">In HTTP::Message  they also have this:

$mess-&gt;add_content_utf8&#40; $string &#41;
The add_content_utf8&#40;&#41; method appends the UTF-8 bytes representing the string to the end of the current content buffer.

$mess-&gt;content_charset
This returns the charset used by the content in the message. The charset is either found as the charset attribute of the Content-Type header or by guessing.

and finally:

$mess-&gt;decoded_content&#40; %options &#41;
Returns the content with any Content-Encoding undone and for textual content the raw content encoded to Perl&#39;s Unicode strings. If the Content-Encoding or charset of the message is unknown this method will fail by returning undef. ...

It seems to me that there will be Ok to add some parameter to REST::Neo4p which explicitly initialises it into &#34;utf8 only&#34; mode. Or maybe even better way, just to make it iteract with http service always in utf8. No matter which language your strings are in, make sure they always are utf8-encoded and be happy with REST::Neo4p :&#41; Is it an option?

Thank you once again for your kind attention! Please forgive me for being too perseverant; my whole project critically depends on this issue.

With best regards,
Andrii Stesin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305438" href="/Public/Bug/Display.html?id=91640#txn-1305438">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;03:47:19&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305438/691723/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691723">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 891b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yet more news. I nailed the problem even deeper. Here is test script &#40;utf8 .pl file&#41; and it&#39;s output at console:

Neo4j v.2.0.0 ready to serve
Creating index.

Zero node created with payload e43b2e72.

Test qry for mouse copy-paste test from screen:
        MATCH &#40;i:Attic { payload: &#39;e43b2e72&#39; } &#41; RETURN i, i.payload
Test qry returned 0 rows.

If I copy-paste test qry with mouse into web interface, it returns 0 also. Same does test script imported through web interface and run with green round button: 0

But my test node with payload e43b2e72 IS here in database! I see it with my eyes in web interface. Even more, the same test query typed by hands from the keyboard in web interface interpreter line, does not work either.

At the same time,
match &#40;i:Attic&#41; return i.payload  
i.payload
d6335ad8
3391776b
e6335ad8
7cf07a09
e43b2e72
Returned 5 rows in 94 ms

What I am doing wrong? :&#40;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Sample_UTF-8_test.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305438/691724/Sample_UTF-8_test.pl">Download Sample_UTF-8_test.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#
# when I use utf-8 encoded .pl file, I can&#39;t even correctly MATCH nodes with ASCII payload
# this is sample UTF-8 cyrillic string, just for test: ÐÑÐ¸Ð²ÐµÑ ÑÑÐ°ÑÑÐ½Ð¸ÐºÐ°Ð¼ ÑÐ¾ÑÐµÐ²Ð½Ð¾Ð²Ð°Ð½Ð¸Ð¹! :&#41;
#

use utf8;
use POSIX;
use Encode;
use REST::Neo4p;
use Data::GUID;
use Digest::CRC qw&#40;crc64 crc32 crc16 crcccitt crc crc8 crcopenpgparmor&#41;;

system&#40; &#34;chcp 1251&#34; &#41; ; # this sets ccmd.exe console to a known state, 1251 is Ok for me
STDOUT-&gt;flush; STDERR-&gt;flush;
close STDERR;
open STDERR, &#39;&gt;:encoding&#40;cp1251&#41;&#39;, &#39;CON:&#39; or die &#34;Open STDERR failed: &#34; . $! . &#34;\n&#34;;
close STDOUT;
open STDOUT, &#39;&gt;:encoding&#40;utf8&#41;&#39;, &#39;TestScript.cypher&#39; or die &#34;Open STDOUT failed: &#34; . $! . &#34;\n&#34;;
close STDIN;

REST::Neo4p-&gt;connect&#40;&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://127.0.0.1:7474">http://127.0.0.1:7474</a></span>&#39;&#41; or die &#34;Neo4j connect failed: &#34; . $! . &#34;\n&#34;;
$version = REST::Neo4p-&gt;neo4j_version;
print STDERR &#34;Neo4j v.&#34; . $version . &#34; ready to serve\n&#34; ;

$payload0 = sprintf&#40; &#34;%08x&#34;, crc32&#40; Data::GUID-&gt;new &#41; &#41;; # just some random but certainly ASCII value

print STDERR &#34;Creating index.\n&#34;;
$node_idx = REST::Neo4p::Index-&gt;new&#40;&#39;node&#39;, &#39;Attic_node_index&#39;&#41; or die &#34;Failed to create node index.\n&#34;;

$node0 = $node_idx-&gt;create_unique&#40; payload =&gt; qq&#40; $payload0 &#41; , { payload =&gt; qq&#40; $payload0 &#41; }, &#39;fail&#39; &#41; or die &#34;Failed to create node with payload $i\n&#34;;
$node0-&gt;add_labels&#40; &#39;Attic&#39;&#41; or die &#34;Failed to set label at node 0\n&#34;;
print STDERR &#34;\nZero node created with payload $payload0.\n\n&#34;;

#
# Now I want to MATCH it
#
$test_match_qry = sprintf &#40; &#34;MATCH &#40;i:Attic { payload: &#39;%s&#39; } &#41; RETURN i, i.payload&#34;, $payload0 &#41;;
print STDERR &#34;Test qry for mouse copy-paste test from screen:\n\t&#34; . $test_match_qry . &#34;\n&#34;;
print STDOUT $test_match_qry . &#34;\n&#34;; # this is to test as a script through neo4j web interface

$qry_test_match = REST::Neo4p::Query-&gt;new&#40; $test_match_qry &#41; or die &#34;Qry compile failed\n$test_match_qry\n&#34;;
$numrows = $qry_test_match-&gt;execute&#40;&#41;;
if &#40;$qry_test_match-&gt;err&#41; {
	print  STDERR &#34;DIED $test_match_qry\t\n&#34;;
	printf STDERR &#34;status code: &#39;%s&#39;\t&#34;, $qry_test_match-&gt;err;
	printf STDERR &#34;error message: %s\n&#34;, $qry_test_match-&gt;errstr;
	die $! . &#34;\n&#34;;
};
print STDERR &#34;Test qry returned &#34; . $numrows . &#34; rows.\n&#34;;

while&#40; --$numrows &gt;= 0 &#41; { print STDERR $qry_test_match-&gt;fetch-&gt;[$numrows] ;  } ; 

$node_idx-&gt;remove or die &#34;Failed to remove index.\n&#34;;

exit $!</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305451" href="/Public/Bug/Display.html?id=91640#txn-1305451">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;05:13:04&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305451/691732/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691732">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 225b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please discard all my additions as of 03:47:19 Dec. 26, 2013 and later till now. My test script contains elementary misprint: qq&#40;$a&#41; != qq&#40; $a &#41; because the latter also catches two &#39; &#39; spaces :&#41;

Sorry for that :&#41;
WBR,
Andrii
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305453" href="/Public/Bug/Display.html?id=91640#txn-1305453">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;05:16:00&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305453/691734/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691734">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 150b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-Text">http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-Text</a></span> there is a nice simple sub nice_string which helps to catch the invisible :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305557" href="/Public/Bug/Display.html?id=91640#txn-1305557">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;12:58:35&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305557/691794/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691794">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Andrii-- Awesome work, this is really helpful for me &#40;a poor American with a simple uninteresting alphabet!&#41;. I think your solution to just make sure everything is encoded would work. I also found this : <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/2951466/httpmessage-content-must-be-bytes-error-when-trying-to-post">http://stackoverflow.com/questions/2951466/httpmessage-content-must-be-bytes-error-when-trying-to-post</a></span>, which pinpoints the issue in HTTP::Message. There, a possible solution is to just

use utf8;

as a pragma. But I&#39;m not sure-- this pragma tells the compiler that the *script* is written in UTF-8, but may not do the conversion of the contents of the variables automatically. There are methods in the utf8 module to do that explicitly, and maybe &#39;nice_string&#39; is a way to go as well.

I agree that the code &#40;or the option&#41; should be in Neo4p, rather than making you work around it in your code.

I think we are very close! Mark
On Thu Dec 26 05:16:00 2013, stesin@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-">http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-</a></span>
&gt; Text there is a nice simple sub nice_string which helps to catch the
&gt; invisible :&#41;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305567" href="/Public/Bug/Display.html?id=91640#txn-1305567">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;13:00:49&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305567/691800/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691800">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Also I will try to replicate that strangeness you saw in your direct queries to the server. It would be worth understanding that --
 
On Thu Dec 26 12:58:35 2013, MAJENSEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Andrii-- Awesome work, this is really helpful for me &#40;a poor American
&gt; with a simple uninteresting alphabet!&#41;. I think your solution to just
&gt; make sure everything is encoded would work. I also found this :
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/2951466/httpmessage-content-must-">http://stackoverflow.com/questions/2951466/httpmessage-content-must-</a></span>
&gt; be-bytes-error-when-trying-to-post, which pinpoints the issue in
&gt; HTTP::Message. There, a possible solution is to just
&gt; 
&gt; use utf8;
&gt; 
&gt; as a pragma. But I&#39;m not sure-- this pragma tells the compiler that
&gt; the *script* is written in UTF-8, but may not do the conversion of the
&gt; contents of the variables automatically. There are methods in the utf8
&gt; module to do that explicitly, and maybe &#39;nice_string&#39; is a way to go
&gt; as well.
&gt; 
&gt; I agree that the code &#40;or the option&#41; should be in Neo4p, rather than
&gt; making you work around it in your code.
&gt; 
&gt; I think we are very close! Mark
&gt; On Thu Dec 26 05:16:00 2013, stesin@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Here <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-">http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-</a></span>
&gt; &gt; Text there is a nice simple sub nice_string which helps to catch the
&gt; &gt; invisible :&#41;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305573" href="/Public/Bug/Display.html?id=91640#txn-1305573">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;14:17:19&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305573/691805/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691805">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry Andrii-- now I&#39;m starting to read carefully- Thanks for the nice_string advice, I see that will help me make sense of what I&#39;m seeing! And I see you are useing utf8. What I found so far is that 

 use utf8;
 use HTTP::Message;
 use strict;
 use warnings;
 my $s = &#39;Сохранить&#39;;
 utf8::encode&#40;$s&#41;;
 my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;;

will create message $m without throwing the &#34;must be bytes&#34; error. Also, the following &#40;without utf8 at all&#41; creates the message without error:

 use HTTP::Message;
 use strict;
 use warnings;
 my $s = &#39;Сохранить&#39;;
 my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;;

But, if you use utf8, and do NOT encode, HTTP::Message throws:

 use utf8;
 use HTTP::Message;
 use strict;
 use warnings;
 my $s = &#39;Сохранить&#39;;
 # utf8::encode&#40;$s&#41;;
 my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;; # throws &#39;must be bytes&#39;

More as I continue exploring-
MAJ

On Thu Dec 26 12:58:35 2013, MAJENSEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Andrii-- Awesome work, this is really helpful for me &#40;a poor American
&gt; with a simple uninteresting alphabet!&#41;. I think your solution to just
&gt; make sure everything is encoded would work. I also found this :
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/2951466/httpmessage-content-must-">http://stackoverflow.com/questions/2951466/httpmessage-content-must-</a></span>
&gt; be-bytes-error-when-trying-to-post, which pinpoints the issue in
&gt; HTTP::Message. There, a possible solution is to just
&gt; 
&gt; use utf8;
&gt; 
&gt; as a pragma. But I&#39;m not sure-- this pragma tells the compiler that
&gt; the *script* is written in UTF-8, but may not do the conversion of the
&gt; contents of the variables automatically. There are methods in the utf8
&gt; module to do that explicitly, and maybe &#39;nice_string&#39; is a way to go
&gt; as well.
&gt; 
&gt; I agree that the code &#40;or the option&#41; should be in Neo4p, rather than
&gt; making you work around it in your code.
&gt; 
&gt; I think we are very close! Mark
&gt; On Thu Dec 26 05:16:00 2013, stesin@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Here <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-">http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-As-</a></span>
&gt; &gt; Text there is a nice simple sub nice_string which helps to catch the
&gt; &gt; invisible :&#41;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305678" href="/Public/Bug/Display.html?id=91640#txn-1305678">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;22:27:53&nbsp;2013</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305678/691872/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691872">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Andrii -
I believe I have solved the problem. I have uploaded v0.2230 to CPAN-- please give it a try.

The solution was to make sure that the JSON created for the HTTP requests was encoded as utf8. This was a very small change. 

I&#39;m still trying to figure out exactly why it works. Please let me know if the fix works for you-
thanks Mark


On Thu Dec 26 14:17:19 2013, MAJENSEN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry Andrii-- now I&#39;m starting to read carefully- Thanks for the
&gt; nice_string advice, I see that will help me make sense of what I&#39;m
&gt; seeing! And I see you are useing utf8. What I found so far is that
&gt; 
&gt; use utf8;
&gt; use HTTP::Message;
&gt; use strict;
&gt; use warnings;
&gt; my $s = &#39;Сохранить&#39;;
&gt; utf8::encode&#40;$s&#41;;
&gt; my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;;
&gt; 
&gt; will create message $m without throwing the &#34;must be bytes&#34; error.
&gt; Also, the following &#40;without utf8 at all&#41; creates the message without
&gt; error:
&gt; 
&gt; use HTTP::Message;
&gt; use strict;
&gt; use warnings;
&gt; my $s = &#39;Сохранить&#39;;
&gt; my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;;
&gt; 
&gt; But, if you use utf8, and do NOT encode, HTTP::Message throws:
&gt; 
&gt; use utf8;
&gt; use HTTP::Message;
&gt; use strict;
&gt; use warnings;
&gt; my $s = &#39;Сохранить&#39;;
&gt; # utf8::encode&#40;$s&#41;;
&gt; my $m = HTTP::Message-&gt;new&#40;[ Content_type =&gt; &#39;text/plain&#39; ], $s&#41;; #
&gt; throws &#39;must be bytes&#39;
&gt; 
&gt; More as I continue exploring-
&gt; MAJ
&gt; 
&gt; On Thu Dec 26 12:58:35 2013, MAJENSEN wrote:
<div class="message-stanza open">&gt; &gt; Andrii-- Awesome work, this is really helpful for me &#40;a poor American
&gt; &gt; with a simple uninteresting alphabet!&#41;. I think your solution to just
&gt; &gt; make sure everything is encoded would work. I also found this :
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/2951466/httpmessage-content-must-">http://stackoverflow.com/questions/2951466/httpmessage-content-must-</a></span>
&gt; &gt; be-bytes-error-when-trying-to-post, which pinpoints the issue in
&gt; &gt; HTTP::Message. There, a possible solution is to just
&gt; &gt;
&gt; &gt; use utf8;
&gt; &gt;
&gt; &gt; as a pragma. But I&#39;m not sure-- this pragma tells the compiler that
&gt; &gt; the *script* is written in UTF-8, but may not do the conversion of
&gt; &gt; the
&gt; &gt; contents of the variables automatically. There are methods in the
&gt; &gt; utf8
&gt; &gt; module to do that explicitly, and maybe &#39;nice_string&#39; is a way to go
&gt; &gt; as well.
&gt; &gt;
&gt; &gt; I agree that the code &#40;or the option&#41; should be in Neo4p, rather than
&gt; &gt; making you work around it in your code.
&gt; &gt;
&gt; &gt; I think we are very close! Mark
&gt; &gt; On Thu Dec 26 05:16:00 2013, stesin@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Here <span class="clickylink"><a target="new" rel="nofollow" href="http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-">http://perldoc.perl.org/perluniintro.html#Displaying-Unicode-</a></span>
&gt; &gt; &gt; As-
&gt; &gt; &gt; Text there is a nice simple sub nice_string which helps to catch
&gt; &gt; &gt; the
&gt; &gt; &gt; invisible :&#41;
</div></div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1305680" href="/Public/Bug/Display.html?id=91640#txn-1305680">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;26&nbsp;23:00:57&nbsp;2013</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1305680/691874/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/691874">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 119b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Mark, thank you for your effort! I&#39;ll try it ASAP, most probably just today, and report.
With best regards,
Andrii
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1310754" href="/Public/Bug/Display.html?id=91640#txn-1310754">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;11&nbsp;16:39:27&nbsp;2014</span>
    <span class="description">stesin [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> stesin [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1310754/694682/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/694682">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 256b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Mark,

thank you so much for your help. As of 0.2230, utf8 strings are working Ok &#40;sorry, didn&#39;t have time to check this during the New Year vacation&#41;. Great job! I think &#40;sincerely hope ;&#41; that this issue is closed already.

With best regards,
Andrii
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1311353" href="/Public/Bug/Display.html?id=91640#txn-1311353">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;12&nbsp;23:40:01&nbsp;2014</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1311353/694939/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/694939">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 46b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Andrii-- I will mark this resolved. MAJ
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1311355" href="/Public/Bug/Display.html?id=91640#txn-1311355">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;12&nbsp;23:40:02&nbsp;2014</span>
    <span class="description">maj.fortinbras [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.734665</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
