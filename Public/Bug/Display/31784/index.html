<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #31784 for Pod-HtmlEasy: only_content option doesn&#39;t work</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #31784 for Pod-HtmlEasy: only_content option doesn&#39;t work</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Pod-HtmlEasy">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Pod-HtmlEasy">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Pod-HtmlEasy">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Pod-HtmlEasy">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Pod-HtmlEasy">Pod-HtmlEasy CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">31784</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">20 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Pod-HtmlEasy">Pod-HtmlEasy</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">GLEACH [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
banb [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-26086-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.09</li>
<li>
0.091</li>
</ul>
    </td>
  </tr>
  <tr id="CF-26087-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.0912    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




phe.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/402504/188459/phe.patch">
Thu Dec 27 03:44:12 2007 (1.8k) by banb [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=31784">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-400079" href="/Public/Bug/Display.html?id=31784#txn-400079">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;20&nbsp;22:20:31&nbsp;2007</span>
    <span class="description">banb [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> only_content option doesn&#39;t work</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/400079/187482/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/187482">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 172b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">At least prior to release 0.07, pod2html&#40;&#41; option &#39;only_content&#39; works fine.

In current release, this option does not work properly.
It only removes the first &lt;body&gt; tag.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-400553" href="/Public/Bug/Display.html?id=31784#txn-400553">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;18:29:30&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-400554" href="/Public/Bug/Display.html?id=31784#txn-400554">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;18:36:45&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/400554/187684/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/187684">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 509b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 20 22:20:31 2007, BANB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; At least prior to release 0.07, pod2html&#40;&#41; option &#39;only_content&#39; works
</div>fine.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; In current release, this option does not work properly.
&gt; It only removes the first &lt;body&gt; tag.
</div>

Yow! A user! And here I thought that nobody cared :-&#41;

The &#40;current&#41; definition of only_content is:
    If set only generate the HTML content &#40;between &lt;body&gt;...&lt;/body&gt;&#41;.
so I don&#39;t understand what this problem is. Perhaps a &#40;small&#41; example of
what is not working would be possible?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-400555" href="/Public/Bug/Display.html?id=31784#txn-400555">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;21&nbsp;18:36:47&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-401636" href="/Public/Bug/Display.html?id=31784#txn-401636">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;24&nbsp;19:43:31&nbsp;2007</span>
    <span class="description">banb [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/401636/187980/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/187980">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 984b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">GLEACH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The &#40;current&#41; definition of only_content is:
&gt;     If set only generate the HTML content &#40;between &lt;body&gt;...&lt;/body&gt;&#41;.
&gt; so I don&#39;t understand what this problem is. Perhaps a &#40;small&#41; example of
&gt; what is not working would be possible?
</div>
OK.  Let me figure it out.

[Simplified output in normal condition]
&lt;html&gt;
&lt;head&gt;&lt;title&gt;foo bar&lt;/title&gt;&lt;/head&gt;
&lt;body bgcolor=&#34;white&#34;&gt;
blah blah blah ...
&lt;/body&gt;&lt;/html&gt;

[Output of older versions &#40;just work fine&#41;]
blah blah blah ...

[Current version &#40;invalid output&#41;]
&lt;html&gt;
&lt;head&gt;&lt;title&gt;foo bar&lt;/title&gt;&lt;/head&gt;
blah blah blah ...
&lt;/body&gt;&lt;/html&gt;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yow! A user! And here I thought that nobody cared :-&#41;
</div>
I love this module because of two advantages over other modules.
One is that it can process POD in on-memory interface without temporary
file. The other reason is ability for output customization.

At least one person &#40;not me&#41; cares about and admires this fancy module ;-&#41;
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpanratings.perl.org/dist/Pod-HtmlEasy">http://cpanratings.perl.org/dist/Pod-HtmlEasy</a></span>


Regards.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402213" href="/Public/Bug/Display.html?id=31784#txn-402213">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;26&nbsp;12:30:31&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/402213/188308/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/188308">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 806b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Dec 24 19:43:31 2007, BANB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; GLEACH wrote:
<div class="message-stanza open">&gt; &gt; The &#40;current&#41; definition of only_content is:
&gt; &gt;     If set only generate the HTML content &#40;between &lt;body&gt;...&lt;/body&gt;&#41;.
&gt; &gt; so I don&#39;t understand what this problem is. Perhaps a &#40;small&#41; example of
&gt; &gt; what is not working would be possible?
</div>&gt; 
&gt; OK.  Let me figure it out.
&gt; 
&gt; [Simplified output in normal condition]
&gt; &lt;html&gt;
&gt; &lt;head&gt;&lt;title&gt;foo bar&lt;/title&gt;&lt;/head&gt;
&gt; &lt;body bgcolor=&#34;white&#34;&gt;
&gt; blah blah blah ...
&gt; &lt;/body&gt;&lt;/html&gt;
&gt; 
&gt; [Output of older versions &#40;just work fine&#41;]
&gt; blah blah blah ...
&gt; 
&gt; [Current version &#40;invalid output&#41;]
&gt; &lt;html&gt;
&gt; &lt;head&gt;&lt;title&gt;foo bar&lt;/title&gt;&lt;/head&gt;
&gt; blah blah blah ...
&gt; &lt;/body&gt;&lt;/html&gt;
</div>
Fixed. FWIW, I&#39;m curious as to the context of the problem. Firefox for
example does not care about the mismatchd close tag.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402216" href="/Public/Bug/Display.html?id=31784#txn-402216">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;26&nbsp;12:30:36&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402504" href="/Public/Bug/Display.html?id=31784#txn-402504">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;03:44:12&nbsp;2007</span>
    <span class="description">banb [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/402504/188456/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/188456">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 656b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On æ°´æ›œæ—¥ 12æœˆ 26 12:30:31 2007, GLEACH wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fixed. FWIW, I&#39;m curious as to the context of the problem. Firefox for
&gt; example does not care about the mismatchd close tag.
</div>
Thank you for quick response.
But unfortunately the bug still exists.

Sorry for lack of information on the first bug report.
The most important point of the problem is that an output with
&#34;only_content&#34; option still contains &#39;&lt;!DOCTYPE&gt;&#39;, &#39;&lt;html&gt;&#39;, &#39;&lt;head&gt;&#39;
tags, and so on.

&#40;Or am I misunderstand specification?&#41;


I&#39;ve attached the patch against 0.0911.
This patch is just a quick hack, so simply appling it breaks
indendations of the code.  Just for reference.

Regards.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/402504/188459/phe.patch">Download phe.patch</a><br />
<span class="downloadcontenttype">text/x-diff 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Pod-HtmlEasy-0.0911/lib/Pod/HtmlEasy.pm	2007-12-26 05:42:36.000000000 +0900
+++ Pod-HtmlEasy-dev/lib/Pod/HtmlEasy.pm	2007-12-27 17:29:53.000000000 +0900
@@ -332,6 +332,8 @@
 
     # Build the header to the HTML file
     my @html;
+    my $title_line_ref;
+    if &#40; not exists $args{only_content} &#41; {     # [31784]
     push @html,
         qq{&lt;!DOCTYPE HTML PUBLIC &#34;-//W3C//DTD HTML 4.01 Transitional//EN&#34;&gt;$NL};
     push @html, qq{&lt;html&gt;&lt;head&gt;$NL};
@@ -343,11 +345,10 @@
             qq{&lt;meta name=&#34;GENERATOR&#34; content=&#34;Pod::HtmlEasy/$VERSION Pod::Parser/$Pod::Parser::VERSION Perl/$] [$^O]&#34;&gt;$NL};
     }
     push @html, qq{&lt;title&gt;$title&lt;/title&gt;$NL};
-    my $title_line_ref = \$html[-1];
+    $title_line_ref = \$html[-1];
     push @html, _organize_css&#40; \%args &#41;;
     push @html, qq{&lt;/head&gt;$NL};
-    if &#40; not exists $args{only_content} &#41; {
-        push @html, _organize_body&#40; \%args &#41;;
+    push @html, _organize_body&#40; \%args &#41;;
     }
 
     delete $this-&gt;{UPARROW};
@@ -375,7 +376,9 @@
 
     # If there&#39;s a head1 NAME, we&#39;ve picked this up during processing
     if &#40; defined $this-&gt;{TITLE} &#38;&#38; length $this-&gt;{TITLE} &gt; 0 &#41; {
-        ${$title_line_ref} = qq{&lt;title&gt;$this-&gt;{TITLE}&lt;/title&gt;$NL};
+        if &#40;defined $title_line_ref&#41; {
+            ${$title_line_ref} = qq{&lt;title&gt;$this-&gt;{TITLE}&lt;/title&gt;$NL};
+        }
     }
 
   # Note conflict here: user can specify an index, and no_index; no_index wins
@@ -386,8 +389,9 @@
     push @html, qq{&lt;div class=&#39;pod&#39;&gt;&lt;div&gt;$NL};
     push @html, @{$output};                      # The pod converted to HTML
     push @html, q{&lt;/div&gt;};
-    if &#40; not defined $args{only_content} &#41;{ push @html, q{&lt;/body&gt;}; } # [31784]
-    push @html, qq{&lt;/html&gt;$NL};
+    if &#40; not exists $args{only_content} &#41; {     # [31784]
+        push @html, qq{&lt;/body&gt;&lt;/html&gt;$NL};
+    }
 
     delete $this-&gt;{TIEDOUTPUT};
     close $html or carp q{Could not close html};

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402505" href="/Public/Bug/Display.html?id=31784#txn-402505">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;03:44:15&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402507" href="/Public/Bug/Display.html?id=31784#txn-402507">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;03:44:19&nbsp;2007</span>
    <span class="description">banb [...] cpan.org -  Status changed from &#39;open&#39; to &#39;new&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402650" href="/Public/Bug/Display.html?id=31784#txn-402650">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;14:54:18&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/402650/188546/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/188546">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 808b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 27 03:44:12 2007, BANB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On æ°´æ›œæ—¥ 12æœˆ 26 12:30:31 2007, GLEACH wrote:
<div class="message-stanza open">&gt; &gt; Fixed. FWIW, I&#39;m curious as to the context of the problem. Firefox for
&gt; &gt; example does not care about the mismatchd close tag.
</div>&gt; 
&gt; Thank you for quick response.
&gt; But unfortunately the bug still exists.
&gt; 
&gt; Sorry for lack of information on the first bug report.
&gt; The most important point of the problem is that an output with
&gt; &#34;only_content&#34; option still contains &#39;&lt;!DOCTYPE&gt;&#39;, &#39;&lt;html&gt;&#39;, &#39;&lt;head&gt;&#39;
&gt; tags, and so on.
&gt; 
&gt; &#40;Or am I misunderstand specification?&#41;
&gt; 
&gt; 
&gt; I&#39;ve attached the patch against 0.0911.
&gt; This patch is just a quick hack, so simply appling it breaks
&gt; indendations of the code.  Just for reference.
&gt; 
&gt; Regards.
</div>
Amazing how a patch can focus the mind! :-&#41; 0.9212 has been uploaded.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402651" href="/Public/Bug/Display.html?id=31784#txn-402651">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;14:54:21&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-402654" href="/Public/Bug/Display.html?id=31784#txn-402654">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;14:54:23&nbsp;2007</span>
    <span class="description">GLEACH [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-408977" href="/Public/Bug/Display.html?id=31784#txn-408977">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;15&nbsp;13:01:07&nbsp;2008</span>
    <span class="description">GLEACH [...] cpan.org -  Fixed in 0.0912 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.610602</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
