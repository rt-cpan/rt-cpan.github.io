<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #98979 for Alien-ImageMagick: the installed shared libs link against build directory</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #98979 for Alien-ImageMagick: the installed shared libs link against build directory</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Alien-ImageMagick/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Alien-ImageMagick/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Alien-ImageMagick/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Alien-ImageMagick/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Alien-ImageMagick">Alien-ImageMagick CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">98979</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Alien-ImageMagick/Active/">Alien-ImageMagick</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">JETEVE [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
l.mai [...] web.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-254760-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.01</li>
<li>
0.02</li>
</ul>
    </td>
  </tr>
  <tr id="CF-254761-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.03    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;19&nbsp;05:06:29&nbsp;2014</span>
    <span class="description">l.mai [...] web.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> the installed shared libs link against build directory</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Alien::ImageMagick installs some shared libraries that end up using the MagicCore library from the build directory. Cleaning up after the build breaks the installed module.

This is especially fun with cpanm, because the module seems to work, until 7 days later when cpanm autocleans its work directories.

$ perl Build.PL
Creating new &#39;MYMETA.yml&#39; with configuration results
Creating new &#39;Build&#39; script for &#39;Alien-ImageMagick&#39; version &#39;0.02&#39;

$ ./Build
...snip...

$ ./Build test
...snip...

$ ./Build install
...snip...

$ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
ok

$ ldd ~/perl5/perlbrew/perls/perl-5.12.5-ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so
        linux-vdso.so.1 =&gt;  &#40;0x00007fffe11ff000&#41;
        libMagickCore-6.Q16.so.2 =&gt; /home/jep/src/Alien-ImageMagick-0.02/_alien/ImageMagick-6.8.9-7/PerlMagick/quantum/../../magick/.libs/libMagickCore-6.Q16.so.2 &#40;0x00007f4203768000&#41;
...snip...

$ ./Build clean
Cleaning up build files

$ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
Can&#39;t load &#39;/home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so&#39; for module Image::Magick::Q16: libMagickCore-6.Q16.so.2: cannot open shared object file: No such file or directory at /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/x86_64-linux/DynaLoader.pm line 200.
 at /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/parent.pm line 20
Compilation failed in require at /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/parent.pm line 20.
BEGIN failed--compilation aborted at /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/site_perl/5.12.5/x86_64-linux/Image/Magick.pm line 22.
Compilation failed in require at -e line 1.
BEGIN failed--compilation aborted at -e line 1.
&#38;Image::Magick::Q16::constant not defined. The required ImageMagick libraries are not installed or not installed properly.
END failed--call queue aborted at -e line 1.

:-&#40;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> build.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> install.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ldd.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;19&nbsp;07:43:39&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is critical indeed.

Thanks a lot for the detailed report.

Will address as soon as I can.

Any patch you can thing of, since the issue is fresh in your brain?

Cheers,

J.

On Fri Sep 19 05:06:29 2014, l.mai@web.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Alien::ImageMagick installs some shared libraries that end up using
&gt; the MagicCore library from the build directory. Cleaning up after the
&gt; build breaks the installed module.
&gt; 
&gt; This is especially fun with cpanm, because the module seems to work,
&gt; until 7 days later when cpanm autocleans its work directories.
&gt; 
&gt; $ perl Build.PL
&gt; Creating new &#39;MYMETA.yml&#39; with configuration results
&gt; Creating new &#39;Build&#39; script for &#39;Alien-ImageMagick&#39; version &#39;0.02&#39;
&gt; 
&gt; $ ./Build
&gt; ...snip...
&gt; 
&gt; $ ./Build test
&gt; ...snip...
&gt; 
&gt; $ ./Build install
&gt; ...snip...
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; ok
&gt; 
&gt; $ ldd ~/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so
&gt;         linux-vdso.so.1 =&gt;  &#40;0x00007fffe11ff000&#41;
&gt;         libMagickCore-6.Q16.so.2 =&gt; /home/jep/src/Alien-ImageMagick-
&gt; 0.02/_alien/ImageMagick-6.8.9-
&gt; 7/PerlMagick/quantum/../../magick/.libs/libMagickCore-6.Q16.so.2
&gt; &#40;0x00007f4203768000&#41;
&gt; ...snip...
&gt; 
&gt; $ ./Build clean
&gt; Cleaning up build files
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; Can&#39;t load &#39;/home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so&#39;
&gt; for module Image::Magick::Q16: libMagickCore-6.Q16.so.2: cannot open
&gt; shared object file: No such file or directory at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/x86_64-
&gt; linux/DynaLoader.pm line 200.
&gt;  at /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/5.12.5/parent.pm line 20
&gt; Compilation failed in require at /home/jep/perl5/perlbrew/perls/perl-
&gt; 5.12.5-ext/lib/5.12.5/parent.pm line 20.
&gt; BEGIN failed--compilation aborted at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/Image/Magick.pm line 22.
&gt; Compilation failed in require at -e line 1.
&gt; BEGIN failed--compilation aborted at -e line 1.
&gt; &#38;Image::Magick::Q16::constant not defined. The required ImageMagick
&gt; libraries are not installed or not installed properly.
&gt; END failed--call queue aborted at -e line 1.
&gt; 
&gt; :-&#40;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;19&nbsp;07:43:40&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;20&nbsp;13:28:20&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patched in V0.03

On Fri Sep 19 05:06:29 2014, l.mai@web.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Alien::ImageMagick installs some shared libraries that end up using
&gt; the MagicCore library from the build directory. Cleaning up after the
&gt; build breaks the installed module.
&gt; 
&gt; This is especially fun with cpanm, because the module seems to work,
&gt; until 7 days later when cpanm autocleans its work directories.
&gt; 
&gt; $ perl Build.PL
&gt; Creating new &#39;MYMETA.yml&#39; with configuration results
&gt; Creating new &#39;Build&#39; script for &#39;Alien-ImageMagick&#39; version &#39;0.02&#39;
&gt; 
&gt; $ ./Build
&gt; ...snip...
&gt; 
&gt; $ ./Build test
&gt; ...snip...
&gt; 
&gt; $ ./Build install
&gt; ...snip...
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; ok
&gt; 
&gt; $ ldd ~/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so
&gt;         linux-vdso.so.1 =&gt;  &#40;0x00007fffe11ff000&#41;
&gt;         libMagickCore-6.Q16.so.2 =&gt; /home/jep/src/Alien-ImageMagick-
&gt; 0.02/_alien/ImageMagick-6.8.9-
&gt; 7/PerlMagick/quantum/../../magick/.libs/libMagickCore-6.Q16.so.2
&gt; &#40;0x00007f4203768000&#41;
&gt; ...snip...
&gt; 
&gt; $ ./Build clean
&gt; Cleaning up build files
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; Can&#39;t load &#39;/home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so&#39;
&gt; for module Image::Magick::Q16: libMagickCore-6.Q16.so.2: cannot open
&gt; shared object file: No such file or directory at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/x86_64-
&gt; linux/DynaLoader.pm line 200.
&gt;  at /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/5.12.5/parent.pm line 20
&gt; Compilation failed in require at /home/jep/perl5/perlbrew/perls/perl-
&gt; 5.12.5-ext/lib/5.12.5/parent.pm line 20.
&gt; BEGIN failed--compilation aborted at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/Image/Magick.pm line 22.
&gt; Compilation failed in require at -e line 1.
&gt; BEGIN failed--compilation aborted at -e line 1.
&gt; &#38;Image::Magick::Q16::constant not defined. The required ImageMagick
&gt; libraries are not installed or not installed properly.
&gt; END failed--call queue aborted at -e line 1.
&gt; 
&gt; :-&#40;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;20&nbsp;13:28:20&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Sep&nbsp;20&nbsp;13:28:20&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;22&nbsp;15:46:01&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Fixed in 0.03 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;23&nbsp;10:42:33&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, this should be fixed in V0.03.

Can you confirm?

Cheers,

J.

On Fri Sep 19 05:06:29 2014, l.mai@web.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Alien::ImageMagick installs some shared libraries that end up using
&gt; the MagicCore library from the build directory. Cleaning up after the
&gt; build breaks the installed module.
&gt; 
&gt; This is especially fun with cpanm, because the module seems to work,
&gt; until 7 days later when cpanm autocleans its work directories.
&gt; 
&gt; $ perl Build.PL
&gt; Creating new &#39;MYMETA.yml&#39; with configuration results
&gt; Creating new &#39;Build&#39; script for &#39;Alien-ImageMagick&#39; version &#39;0.02&#39;
&gt; 
&gt; $ ./Build
&gt; ...snip...
&gt; 
&gt; $ ./Build test
&gt; ...snip...
&gt; 
&gt; $ ./Build install
&gt; ...snip...
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; ok
&gt; 
&gt; $ ldd ~/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so
&gt;         linux-vdso.so.1 =&gt;  &#40;0x00007fffe11ff000&#41;
&gt;         libMagickCore-6.Q16.so.2 =&gt; /home/jep/src/Alien-ImageMagick-
&gt; 0.02/_alien/ImageMagick-6.8.9-
&gt; 7/PerlMagick/quantum/../../magick/.libs/libMagickCore-6.Q16.so.2
&gt; &#40;0x00007f4203768000&#41;
&gt; ...snip...
&gt; 
&gt; $ ./Build clean
&gt; Cleaning up build files
&gt; 
&gt; $ perl -wE &#39;use Image::Magick; say &#34;ok&#34;&#39;
&gt; Can&#39;t load &#39;/home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/auto/Image/Magick/Q16/Q16.so&#39;
&gt; for module Image::Magick::Q16: libMagickCore-6.Q16.so.2: cannot open
&gt; shared object file: No such file or directory at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-ext/lib/5.12.5/x86_64-
&gt; linux/DynaLoader.pm line 200.
&gt;  at /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/5.12.5/parent.pm line 20
&gt; Compilation failed in require at /home/jep/perl5/perlbrew/perls/perl-
&gt; 5.12.5-ext/lib/5.12.5/parent.pm line 20.
&gt; BEGIN failed--compilation aborted at
&gt; /home/jep/perl5/perlbrew/perls/perl-5.12.5-
&gt; ext/lib/site_perl/5.12.5/x86_64-linux/Image/Magick.pm line 22.
&gt; Compilation failed in require at -e line 1.
&gt; BEGIN failed--compilation aborted at -e line 1.
&gt; &#38;Image::Magick::Q16::constant not defined. The required ImageMagick
&gt; libraries are not installed or not installed properly.
&gt; END failed--call queue aborted at -e line 1.
&gt; 
&gt; :-&#40;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;14&nbsp;08:48:00&nbsp;2014</span>
    <span class="description">JETEVE [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
