<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79180 for Pod-Simple: New warning about missing =encoding probably not justified</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79180 for Pod-Simple: New warning about missing =encoding probably not justified</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Pod-Simple/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Pod-Simple/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Pod-Simple/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Pod-Simple/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/perl-pod/pod-simple/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Pod-Simple">Pod-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79180</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Pod-Simple/Active/">Pod-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
DAMI [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-26176-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.23    </td>
  </tr>
  <tr id="CF-26177-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;00:18:53&nbsp;2012</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> DAMI [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> New warning about missing =encoding probably not justified</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79079">https://rt.cpan.org/Ticket/Display.html?id=79079</a></span>

Here Laurent Dami cites from perlpod manpage and to me this reads like a
clear unambiguous spec. I wish I would have read this earlier.

I case you did not notice, I wrote tickets against the following
distros, all due to the new warning:

        Mail-Transport-Dbx Games-Pentago Lingua-HU-Numbers Math-Symbolic
        Test-Regression Finnigan Finance-Currency-Convert-XE
        DateTime-Event-Easter Locale-Maketext-Lexicon-DBI Net-Radius
        Catalyst-View-PDF-Reuse Lingua-StarDict-Gen Math-Polynomial-Solve
        SVG-Sparkline LaTeX-Decode Shell-Perl WWW-3Taps-API Music-Tag
        Text-Capitalize IO-Util Config-Model-OpenSsh XML-Compare Geo-Postcodes
        Lingua-LO-Romanize CGI-Auth-Basic Data-UUID-Base64URLSafe
        Lingua-PT-Words2Nums Regexp-Grammars PGXN-Site Device-TLSPrinter
        DBIx-Connect-FromConfig Perl6-Perldoc Regexp-Log-Common
        Lingua-PT-ProperNames Pod-POM-Web

There will probably be many more users affected by the warning. Not
really justified, I believe.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;00:44:28&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> Grant McLean &lt;grant [...] catalyst.net.nz&gt;, Ricardo Signes &lt;rjbs [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79180] New warning about missing =encoding probably not justified </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Aug 2012 21:44:18 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Aug 23, 2012, at 9:18 PM, Andreas Koenig via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here Laurent Dami cites from perlpod manpage and to me this reads like a
&gt; clear unambiguous spec. I wish I would have read this earlier.
</div>
FYI, the relevant bit for Grant and Rik, copied from <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79079">https://rt.cpan.org/Ticket/Display.html?id=79079</a></span>:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;perlpod : &#34;but if your encoding isn&#39;t US-
&gt; ASCII or Latin-1, then put a =encoding encodingname command early in 
&gt; the document so that pod formatters will know how to decode the 
&gt; document. &#34;&#41;
</div>
Overall though, I find the warning useful. I am not sure if there is a way to reliable detect that the encoding is Latin-1. Maybe complain only if it is not Latin-1? I think that might be a bit too permissive.

Or we can just suck it up, let people complain for a few more months, and then just live with it from here on in, after everybody has already fixed their Pod.

Thoughts?

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;00:44:31&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;02:23:16&nbsp;2012</span>
    <span class="description">grant [...] catalyst.net.nz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org, Ricardo Signes &lt;rjbs [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79180] New warning about missing =encoding probably not justified</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 24 Aug 2012 18:22:58 +1200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Grant McLean &lt;grant [...] catalyst.net.nz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, 2012-08-23 at 21:44 -0700, David E. Wheeler wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Aug 23, 2012, at 9:18 PM, Andreas Koenig via RT wrote:
<div class="message-stanza open">&gt; &gt; Here Laurent Dami cites from perlpod manpage and to me this reads
</div></div>like a
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; clear unambiguous spec. I wish I would have read this earlier.
</div>&gt; 
&gt; FYI, the relevant bit for Grant and Rik, copied from
</div><span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=79079">https://rt.cpan.org/Ticket/Display.html?id=79079</a></span>:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; &#40;perlpod : &#34;but if your encoding isn&#39;t US-ASCII or Latin-1, then put
&gt; &gt; a =encoding encodingname command early in the document so that pod
&gt; &gt; formatters will know how to decode the document. &#34;&#41;
</div></div>
The perlpodspec also has this to say:

  &#34;=encoding encodingname&#34;

    This command, which should occur early in the document &#40;at least
before any
    non-US-ASCII data!&#41;.

Which quietly omits any reference to Latin-1.  But using non-ASCII data
in any case without declaring an encoding seems unwise.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Overall though, I find the warning useful. I am not sure if there is a
</div>way
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; to reliable detect that the encoding is Latin-1. Maybe complain only
</div>if it is
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; not Latin-1? I think that might be a bit too permissive.
</div>
No it&#39;s not really possible.  The heuristic which is applied on
encountering non-ASCII bytes will choose UTF-8 only if it sees a valid
UTF-8 byte sequence &#40;which is extremely unlikely to occur in actual
Latin-1 text&#41; and defaults to Latin-1 otherwise.

The old behaviour of Pod::Simple was to return Perl character strings
for any POD source which declared an encoding &#40;even if that encoding was
Latin-1&#41; and raw bytes if no encoding was declared.  This inconsistent
behaviour is what caused POD rendering issues on metacpan.org which in
turn triggered my involvement.

The new behaviour is to consistently return Perl character strings
unless encoding processing is disabled with the new parse_characters
option.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Or we can just suck it up, let people complain for a few more months,
</div>and
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; then just live with it from here on in, after everybody has already
</div>fixed
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; their Pod.
</div> 
Yeah I vote for this :-&#41;

It sounds like you &#40;David&#41; have copped a bit of flack over this and I
certainly never meant for that to happen.  If I&#39;d been able to foresee
all the issues that eventually arose I would certainly have wanted some
more discussion on the POD mailing list to get buy-in.  I&#39;d hope however
that the new consistent behaviour would still have been the result.

So sorry for the pain and where possible please blame me.

Regards
Grant
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;03:28:51&nbsp;2012</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Ven 24 Aoû 2012 02:23:16, grant@catalyst.net.nz a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The perlpodspec also has this to say:
&gt; 
&gt;   &#34;=encoding encodingname&#34;
&gt; 
&gt;     This command, which should occur early in the document &#40;at least
&gt; before any
&gt;     non-US-ASCII data!&#41;.
&gt; 
&gt; Which quietly omits any reference to Latin-1.  But using non-ASCII 
</div>data
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; in any case without declaring an encoding seems unwise.
&gt; 
</div>
OK, but speaking of perlpodspec, there is also this bit, where Latin-1 
is mentioned as a kind of implicit default :
 
&#34;Since Perl recognizes a Unicode Byte Order Mark at the start of files 
as signaling that the file is Unicode encoded as in UTF-16 &#40;whether big-
endian or little-endian&#41; or UTF-8, Pod parsers should do the same. 
Otherwise, the character encoding should be understood as being UTF-8 
if the first highbit byte sequence in the file seems valid as a UTF-8 
sequence, or otherwise as Latin-1.&#34;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;03:53:23&nbsp;2012</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> rjbs [...] cpan.org, grant [...] catalyst.net.nz, dwheeler [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, I messed up with the &#34;Cc&#34; fields in RT, so here is my comment 
again.

Le Ven 24 Aoû 2012 03:28:51, DAMI a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Ven 24 Aoû 2012 02:23:16, grant@catalyst.net.nz a écrit :
<div class="message-stanza open">&gt; &gt; The perlpodspec also has this to say:
&gt; &gt; 
&gt; &gt;   &#34;=encoding encodingname&#34;
&gt; &gt; 
&gt; &gt;     This command, which should occur early in the document &#40;at least
&gt; &gt; before any
&gt; &gt;     non-US-ASCII data!&#41;.
&gt; &gt; 
&gt; &gt; Which quietly omits any reference to Latin-1.  But using non-ASCII 
</div>&gt; data
<div class="message-stanza open">&gt; &gt; in any case without declaring an encoding seems unwise.
&gt; &gt; 
</div>&gt; 
&gt; OK, but speaking of perlpodspec, there is also this bit, where Latin-
</div>1 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; is mentioned as a kind of implicit default :
&gt;  
&gt; &#34;Since Perl recognizes a Unicode Byte Order Mark at the start of 
</div>files 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; as signaling that the file is Unicode encoded as in UTF-16 &#40;whether 
</div>big-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; endian or little-endian&#41; or UTF-8, Pod parsers should do the same. 
&gt; Otherwise, the character encoding should be understood as being UTF-8 
&gt; if the first highbit byte sequence in the file seems valid as a UTF-8 
&gt; sequence, or otherwise as Latin-1.&#34;
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;24&nbsp;22:44:10&nbsp;2012</span>
    <span class="description">grant [...] catalyst.net.nz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> rjbs [...] cpan.org, dwheeler [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79180] New warning about missing =encoding probably not justified</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Aug 2012 14:43:56 +1200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Grant McLean &lt;grant [...] catalyst.net.nz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 2012-08-24 at 03:53 -0400, Laurent Dami via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; OK, but speaking of perlpodspec, there is also this bit, where
&gt; &gt; Latin-1 is mentioned as a kind of implicit default :
&gt; &gt;  
&gt; &gt; &#34;Since Perl recognizes a Unicode Byte Order Mark at the start of 
&gt; &gt; files as signaling that the file is Unicode encoded as in UTF-16
&gt; &gt; &#40;whether big-endian or little-endian&#41; or UTF-8, Pod parsers should
&gt; &gt; do the same.  Otherwise, the character encoding should be understood
&gt; &gt; as being UTF-8  if the first highbit byte sequence in the file seems
&gt; &gt; valid as a UTF-8 sequence, or otherwise as Latin-1.&#34;
</div>
Indeed, that is the heuristic that Pod::Simple was missing which is now
implemented. But those are simply the rules that the parser should use
to guess the encoding if none is specified in the POD source. I agree
that in the absence of evidence of UTF-* then Latin-1 is a good fallback
&#40;although experience has shown that CP1252 would have been a better
choice than ISO8859-1&#41;. I&#39;m not sure what is to be gained by elevating
the last guess in the absence of other evidence to &#34;implicit default&#34;.

The warning seems useful for people who want their POD to be interpreted
in an unambiguous way and those who don&#39;t care for warnings can turn
them off.

Test::POD does elevate all warning to fatal test failures and I did
offer to write a patch to make Test::Pod downgrade this particular
message to a warning only. The overwhelming response on the POD mailing
list was that this was not necessary and that people should simply
declare encodings.

Regards
Grant
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Aug&nbsp;25&nbsp;04:41:07&nbsp;2012</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;1&#41; this is not about Test::Pod; Test::Pod is involved, yes, but it
does not deserve attention in this ticket because it was not changed,
it is working as it always has been

&#40;2&#41; this is not about changing the specs; my impression is the specs
are good and they are implemented correctly as far as I can tell;
cudos to the implementors!

&#40;3&#41; CPAN has already 35 distros broken and every day I discover new
ones; few of them are really broken, they just are broken due to a
newly invented warning that has no justification; those that are
really broken do no harm anyway; they can be analysed offline and get
their bugreport from those who care enough

&#40;4&#41; the new warning is of the type lint; people who want to do it 105%
right are happy to add an =encoding line even if the specs do not
mandate it. In such a context it is useful. It should be only visible
in a context chosen specifically to get some *extra* warnings

&#40;5&#41; the new warning violates RFC 1958, Architectural Principles of the
Internet: 3.9 Be strict when sending and tolerant when receiving

&#40;6&#41; I do not think that &#39;just sucking it up&#39; is a polite way of
causing people worthless extra work

&#40;7&#41; one answer to &#34;those who don&#39;t care for warnings can turn them
off&#34;. Yes, &#34;they&#34; can. No, &#34;they&#34; can&#39;t. Depends on who &#34;they&#34; are. In
any case it is extra work and makes the CPAN a less comfortable place
to work with

&#40;99&#41; educative link, a noop release:
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/diff?from=Regexp-Grammars-1.020&#38;to=Regexp-Grammars-1.021">http://search.cpan.org/diff?from=Regexp-Grammars-1.020&#38;to=Regexp-Grammars-1.021</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;27&nbsp;12:56:36&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #79180] New warning about missing =encoding probably not justified </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 27 Aug 2012 09:56:30 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;David E. Wheeler&#34; &lt;dwheeler [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Aug 25, 2012, at 1:41 AM, Andreas Koenig via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;4&#41; the new warning is of the type lint; people who want to do it 105%
&gt; right are happy to add an =encoding line even if the specs do not
&gt; mandate it. In such a context it is useful. It should be only visible
&gt; in a context chosen specifically to get some *extra* warnings
</div>
There is no such context in Pod::Simple. I am loathe to introduce one. Folks can set `no_whining` if they don&#39;t want warnings.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;5&#41; the new warning violates RFC 1958, Architectural Principles of the
&gt; Internet: 3.9 Be strict when sending and tolerant when receiving
</div>
It&#39;s a warning, not an error.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;6&#41; I do not think that &#39;just sucking it up&#39; is a polite way of
&gt; causing people worthless extra work
</div>
It is not worthless, IMO. Encodings are more important every day. I, for one, have been grateful for the reports you sent me for modules that included non-ASCII characters I had not intended to be there.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;7&#41; one answer to &#34;those who don&#39;t care for warnings can turn them
&gt; off&#34;. Yes, &#34;they&#34; can. No, &#34;they&#34; can&#39;t. Depends on who &#34;they&#34; are. In
&gt; any case it is extra work and makes the CPAN a less comfortable place
&gt; to work with
</div>
Yeah, but who is this hurting?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;99&#41; educative link, a noop release:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/diff?from=Regexp-Grammars-1.020&#38;to=Regexp-Grammars-1.021">http://search.cpan.org/diff?from=Regexp-Grammars-1.020&#38;to=Regexp-Grammars-1.021</a></span>
</div>
I personally did not release a new version of my module that fixed this one warning. And I got no complaint from the Regexp::Grammar maintainers about this, either.

Look, new versions of Perl introduce new warnings, too. I had to go through all my code and replace instances of `for qw&#40;...&#41; {}` with `for &#40;qw&#40;...&#41;&#41; {}` when 5.14 came out. Those were no-op fixes, but I was glad to have been made aware of the issue so I could fix it.

So, I have seen some complaints about the warning from Test::Pod users, but those have dwindled to nothing. I have seen no complaints about Pod::Simple &#40;other than legitimate bugs&#41; until this weekend &#40;RT#79232&#41;, and it has been months. I, personally, am not convinced that this warning was a mistake.

I am going to close this ticket, as RT#79232 now dupes it, and that one is more specific about the issue to be addressed.

Best,

David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;27&nbsp;12:58:24&nbsp;2012</span>
    <span class="description">dwheeler [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
