<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #73236 for Pod-Perldoc: Raw postscript output under Mac OS 10.5.8 Leopard and Ubuntu 10.4 Lucid. No output under OpenBSD 5.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #73236 for Pod-Perldoc: Raw postscript output under Mac OS 10.5.8 Leopard and Ubuntu 10.4 Lucid. No output under OpenBSD 5.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Pod-Perldoc/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Pod-Perldoc/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Pod-Perldoc">Pod-Perldoc CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">73236</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Pod-Perldoc/Active/">Pod-Perldoc</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">bdfoy [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
wyant [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-26136-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.15_12    </td>
  </tr>
  <tr id="CF-26137-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




openbsd-5.0.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1011566/527294/openbsd-5.0.log">
Wed Dec 14 12:51:04 2011 (2.9k) by wyant [...] cpan.org
</a>
</font></li>
</ul>


openbsd-5.0.log0<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1011634/527335/openbsd-5.0.log0">
Wed Dec 14 17:02:24 2011 (309.9k) by wyant [...] cpan.org
</a>
</font></li>
</ul>


openbsd-5.0.log2<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1011634/527336/openbsd-5.0.log2">
Wed Dec 14 17:02:24 2011 (3k) by wyant [...] cpan.org
</a>
</font></li>
</ul>


perldoc-perlfunc.output<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1011350/527188/perldoc-perlfunc.output">
Tue Dec 13 23:45:02 2011 (577.5k) by wyant [...] cpan.org
</a>
</font></li>
</ul>


ubuntu-10.04.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1011566/527293/ubuntu-10.04.log">
Wed Dec 14 12:51:03 2011 (1162.7k) by wyant [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;11:42:33&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Raw postscript output under Mac OS 10.5.8 Leopard and Ubuntu 10.4
 Lucid. No output under OpenBSD 5.0</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the opportunity to test-drive the new Pod::Perldoc
functionality. Under a couple different operating systems &#40;none
brand-new&#41; the perldoc command gave me what looked like raw PDF. Scrolled.

Additionally, it failed completely under OpenBSD 5.0, which is the
current release. Everything but the Mac OS stuff was run under Oracle
VirtualBox.

I don&#39;t often call something &#39;Critical&#39;; I&#39;m using it in this case
because under Ubuntu 10.04 and OpenBSD 5.0 the update appears to be
unusable.

Please let me know what further information I can provide. A comparison
of the behavior under Mac OS 10.5 Leopard before and after upgrading
groff, and of the behavior under Ubuntu 10.04 Lucid Lynx &#40;the current
Long Term Support release&#41; and Ubuntu 11.10 Oneiric Ocelot &#40;the current
release&#41; suggests that some helper application is involved, but I have
no idea which one.

--------------- Mac OS 10.5.8 Leopard -------------------

Mac OS 10.5.8 Leopard is no longer new &#40;current is 10.7 Lion&#41;. Under
this, perldoc warned

You have an old groff. Update to version 1.20.1 to good Unicode support.
If you don&#39;t upgrade, wide characters may come out oddly.
 at /usr/local/perl/5.15.5/lib/5.15.5/Pod/Perldoc.pm line 1325

$ groff -v
GNU groff version 1.19.2
Copyright &#40;C&#41; 2004 Free Software Foundation, Inc.
GNU groff comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of groff and its subprograms
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING.

called subprograms:

GNU grops &#40;groff&#41; version 1.19.2
GNU troff &#40;groff&#41; version 1.19.2

I was able to get going by installing the Darwin Ports groff, which has
a _bunch_ of dependencies, including ghostscript. Post-install I got

$ groff -v
GNU groff version 1.21
Copyright &#40;C&#41; 2009 Free Software Foundation, Inc.
GNU groff comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of groff and its subprograms
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING.

called subprograms:

GNU grops &#40;groff&#41; version 1.21
GNU troff &#40;groff&#41; version 1.21

Notwithstanding the fact that Darwin Ports says it installed ghostscript
9.04_1, there was no &#39;ghostscript&#39; executable in my path either before
or after the Darwin Ports installation. But it must be there because
printing works.

----------------------- Ubuntu 10.04 Lucid Lynx -------------------

This is the current long-term-support version of Ubuntu. The perldoc
command displayed what looked like raw postscript after upgrading to
3.15_12.

$ groff -v
GNU groff version 1.20.1
Copyright &#40;C&#41; 2009 Free Software Foundation, Inc.
GNU groff comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of groff and its subprograms
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING.

called subprograms:

GNU grops &#40;groff&#41; version 1.20.1
GNU troff &#40;groff&#41; version 1.20.1

$ ghostscript -v
GPL Ghostscript 8.71 &#40;2010-02-10&#41;
Copyright &#40;C&#41; 2010 Artifex Software, Inc.  All rights reserved.

Since I appeared to have the version of groff called for, I tried
various permutations of the command line options &#40;e.g. -oman&#41; without
being able to get anything but postscript. I finally force-installed
Pod::Perldoc 3.15 to get myself going again.

-------------------- Ubuntu 11.10 Oneiric Ocelot -------------------

Works beautifully.
﻿
$ groff -v
GNU groff version 1.21
Copyright &#40;C&#41; 2009 Free Software Foundation, Inc.
GNU groff comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of groff and its subprograms
under the terms of the GNU General Public License.
For more information about these matters, see the file named COPYING.

called subprograms:

GNU grops &#40;groff&#41; version 1.21
GNU troff &#40;groff&#41; version 1.21

$ ghostscript -v

GPL Ghostscript 9.04 &#40;2011-08-05&#41;
Copyright &#40;C&#41; 2011 Artifex Software, Inc.  All rights reserved.

------------------------ OpenBSD 5.0 ----------------------------

This is the current OpenBSD, released November 1, 2011.

$ perldoc perlfunc
Can&#39;t exec &#34;groff&#34;: No such file or directory at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 161.
Use of uninitialized value $version_string in pattern match &#40;m//&#41; at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 162.
Use of uninitialized value $version in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 163.
Use of uninitialized value $version in string lt at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 166.
You have an old groff. Update to version 1.20.1 to good Unicode support.
If you don&#39;t upgrade, wide characters may come out oddly.
 at /usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc.pm line 1325
Use of uninitialized value $version in string gt at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 174.
Error while formatting with Pod::Perldoc::ToMan:
 open3: exec of groff -man failed at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 213


 at /usr/local/perl/5.14.2/bin/perldoc line 9
Got a 0-length file from
/usr/local/perl/5.14.2/lib/5.14.2/pod/perlfunc.pod via Pod::Perldoc::ToMan!?

 at /usr/local/perl/5.14.2/bin/perldoc line 9

A force install of Pod::Perldoc got me raw POD output, with the warning
&#39;sh: nroff: not found&#39;. I suppose this is what I got before I installed
Pod-Perldoc-3.15_12, but to tell the truth I don&#39;t use OpenBSD much, and
can&#39;t actually remember.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;12:53:27&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Forgot a key piece of information:

The Mac OS 10.5 Leopard tests were done under Perl 5.15.5. All others
were done under Perl 5.14.2.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;12:55:15&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Fixed in 3.15_12 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;12:55:15&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Broken in 3.15_12 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;22:16:15&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Why do you think it&#39;s PostScript? Please include the commands you ran, the actual output you 
got, and any PERL* environment settings you might have. Which Perl versions are you using?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;22:16:17&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;13&nbsp;23:45:01&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Dec 13 22:16:15 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Why do you think it&#39;s PostScript? Please include the commands you ran,
&gt; the actual output you
&gt; got, and any PERL* environment settings you might have. Which Perl
&gt; versions are you using?
</div>
From Ubuntu 10.04 &#40;Long Term Support&#41; Lucid Lynx:

Command:

$ perldoc perlfunc

Output &#40;first 20 lines or so - entire output attached&#41;:

%!PS-Adobe-3.0
%%Creator: groff version 1.20.1
%%CreationDate: Tue Dec 13 23:36:43 2011
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%+ font Courier-Oblique
%%+ font Courier-Bold
%%DocumentSuppliedResources: procset grops 1.20 1
%%Pages: 105
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 &#40;&#41; &#40;&#41;
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.20 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{

Environment:

$ printenv
ORBIT_SOCKETDIR=/tmp/orbit-tom
SSH_AGENT_PID=1208
TERM=xterm
SHELL=/bin/bash
XDG_SESSION_COOKIE=ff13eeb0437b7203691d1cca4e400ed1-1323837294.346502-2089201608
WINDOWID=12582915
GNOME_KEYRING_CONTROL=/tmp/keyring-iyBlck
GTK_MODULES=canberra-gtk-module
USER=tom
LS_COLORS=rs=0:di=01;34:ln=01;36:hl=44;37:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:
SSH_AUTH_SOCK=/tmp/keyring-iyBlck/ssh
DEFAULTS_PATH=/usr/share/gconf/gnome.default.path
SESSION_MANAGER=local/ubuntu-1004:@/tmp/.ICE-unix/1141,unix/ubuntu-1004:/tmp/.ICE-unix/1141
USERNAME=tom
XDG_CONFIG_DIRS=/etc/xdg/xdg-gnome:/etc/xdg
DESKTOP_SESSION=gnome
PATH=/usr/local/perl/5.14.2/bin:/home/tom/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
PWD=/home/tom
GDM_KEYBOARD_LAYOUT=us
LANG=en_US.utf8
GNOME_KEYRING_PID=1123
MANDATORY_PATH=/usr/share/gconf/gnome.mandatory.path
GDM_LANG=en_US.utf8
GDMSESSION=gnome
SPEECHD_PORT=7061
SHLVL=1
HOME=/home/tom
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
LOGNAME=tom
XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-qx4aRF7BaK,guid=fbfa43a2de275e419a247be64ee8276f
LESSOPEN=| /usr/bin/lesspipe %s
DISPLAY=:0.0
LESSCLOSE=/usr/bin/lesspipe %s %s
XAUTHORITY=/var/run/gdm/auth-for-tom-H1oWVw/database
COLORTERM=gnome-terminal
_=/usr/bin/printenv

Perl:

$ perl -V
Summary of my perl5 &#40;revision 5 version 14 subversion 2&#41; configuration:
   
  Platform:
    osname=linux, osvers=2.6.32-33-generic, archname=i686-linux
    uname=&#39;linux ubuntu-1004 2.6.32-33-generic #72-ubuntu smp fri jul 29
21:08:37 utc 2011 i686 gnulinux &#39;
    config_args=&#39;-Dprefix=/usr/local/perl/5.14.2&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=undef, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-fno-strict-aliasing -pipe -fstack-protector
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-fno-strict-aliasing -pipe -fstack-protector
-I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.3&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /lib/../lib /usr/lib/../lib /lib /usr/lib
/usr/lib/i486-linux-gnu /usr/lib64
    libs=-lnsl -ldl -lm -lcrypt -lutil -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lc
    libc=/lib/libc-2.11.1.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;2.11.1&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/usr/local/lib
-fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: PERL_DONT_CREATE_GVSV PERL_MALLOC_WRAP
                        PERL_PRESERVE_IVUV USE_LARGE_FILES USE_PERLIO
                        USE_PERL_ATOF
  Built under linux
  Compiled at Oct  1 2011 20:33:26
  @INC:
    /usr/local/perl/5.14.2/lib/site_perl/5.14.2/i686-linux
    /usr/local/perl/5.14.2/lib/site_perl/5.14.2
    /usr/local/perl/5.14.2/lib/5.14.2/i686-linux
    /usr/local/perl/5.14.2/lib/5.14.2
    .

System:

$ uname -a
Linux ubuntu-1004 2.6.32-36-generic #79-Ubuntu SMP Tue Nov 8 22:29:26
UTC 2011 i686 GNU/Linux
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perldoc-perlfunc.output</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1011350/527188/perldoc-perlfunc.output">Download perldoc-perlfunc.output</a><br />
<span class="downloadcontenttype">application/octet-stream 577.5k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;05:14:48&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I guess I snuck in some weird changes before I released everything. If groff gets confused, it 
falls back to PostScript.

I think I&#39;ve fixed that in 3.15_13, now on it&#39;s way to CPAN. You can also try the sources in 
github:  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/briandfoy/Pod-Perldoc">https://github.com/briandfoy/Pod-Perldoc</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;05:14:49&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;05:14:49&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Given to BDFOY</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:08:46&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 05:14:48 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I guess I snuck in some weird changes before I released everything. If
&gt; groff gets confused, it
&gt; falls back to PostScript.
&gt; 
&gt; I think I&#39;ve fixed that in 3.15_13, now on it&#39;s way to CPAN. You can
&gt; also try the sources in
&gt; github:  <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/briandfoy/Pod-Perldoc">https://github.com/briandfoy/Pod-Perldoc</a></span>
</div>
The short answer is that I see no substantial change with 3.15_13:

* Ubuntu 10.04 Lucid with Perl 5.14.2 still generates Postscript, with
some uninitialized value warnings. Details appended.

* Ubuntu 11.10 Oneiric with Perl 5.14.2 still works, with warning
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 50.

* OpenBSD 5.0 with 5.14.2 still fails. Details appended.

* Mac OS 10.5.8 with Perl 5.15.4 and upgraded groff still works, with
the same warning seen in Ubuntu 11.10. I have not had the gumption to
back out my groff upgrade to see what happens, but I am willing to do
this once we see Ubuntu 10.04 behave better.

The Ubuntu and OpenBSD systems are running under Oracle VirtualBox. If
things get truly desperate I could send you the virtual machines some
way &#40;how?&#41;. OpenBSD is 1.5 Gig, but Ubuntu 10.04 Lucid is 7.6 Gig.

-------------- Ubuntu 10.04 Lucid Lynx ------------------

Perl version:

tom@ubuntu-1004:~$ perl -v

This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for i686-linux

Perldoc version:

tom@ubuntu-1004:~$ perl -MPod::Perldoc -E &#39;say Pod::Perldoc-&gt;VERSION&#39;
3.15_13

Command:

tom@ubuntu-1004:~$ perldoc perlfunc
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 50.

Output &#40;first 20 lines or so&#41;:

%!PS-Adobe-3.0
%%Creator: groff version 1.20.1
%%CreationDate: Wed Dec 14 10:34:37 2011
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%+ font Courier-Oblique
%%+ font Courier-Bold
%%DocumentSuppliedResources: procset grops 1.20 1
%%Pages: 105
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 &#40;&#41; &#40;&#41;
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.20 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop

---------------------- OpenBSD 5.0 ---------------------

System:

$ uname -a
OpenBSD openbsd50.my.domain 5.0 GENERIC#43 i386


Perl:

$ perl -v
This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for
OpenBSD.i386-openbsd


Pod::Perldoc:

$ perl -MPod::Perldoc -E &#39;say Pod::Perldoc-&gt;VERSION&#39;
3.15_13


perldoc perlvar output:

$ perldoc perlvar
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 50.
Use of uninitialized value $roffer in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 53.
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 221.
Error while formatting with Pod::Perldoc::ToMan:
 no nroffer set!?
 at /usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc.pm line 1328


 at /usr/local/perl/5.14.2/bin/perldoc line 9
Got a 0-length file from
/usr/local/perl/5.14.2/lib/5.14.2/pod/perlvar.pod via Pod::Perldoc::ToMan!?

 at /usr/local/perl/5.14.2/bin/perldoc line 9
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:08:46&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:18:53&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you set PERLDOCDEBUG=1 and try those again?

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;11:19:56&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">If you want to send me those VMs, can you share a Dropbox folder with me, or create a public 
folder and send me the links?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:49:01&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Output from both Ubuntu 10.04 and OpenBSD 5.0 attached. The command in
both cases was

$ env PERLDOCDEBUG=1 perldoc perlfunc

Maybe I should pick a shorter document to test with?

As for drop boxes - I have none set up, and I don&#39;t think Comcast will
allow 7 gig. Can you suggest something?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:51:02&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 12:49:01 2011, WYANT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Output from both Ubuntu 10.04 and OpenBSD 5.0 attached.
</div>
Only I forgot to attach the attachments. Duh!
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ubuntu-10.04.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1011566/527293/ubuntu-10.04.log">Download ubuntu-10.04.log</a><br />
<span class="downloadcontenttype">application/octet-stream 1.1m</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> openbsd-5.0.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1011566/527294/openbsd-5.0.log">Download openbsd-5.0.log</a><br />
<span class="downloadcontenttype">application/octet-stream 2.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:51:05&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I didn&#39;t get any attachments. The perlnumber manage is pretty short, by the way.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;12:51:43&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 12:51:05 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I didn&#39;t get any attachments. The perlnumber manage is pretty short,
&gt; by the way.
</div>

Ah, never mind, RT just showed them.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;14:14:25&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for doing all of this work. I&#39;ve changed the sources around a bit. So far, I was only 
specifying a device for groff if it could handle UTF-8. I&#39;ve adjusted it to specify a device in the 
alternate case. I don&#39;t know if I&#39;ve chosen the right default device, but it&#39;s easy to change if I 
haven&#39;t. :&#41;

Instead of releasing a new version, you can try it directly from the repo:

% git clone git://github.com/briandfoy/Pod-Perldoc.git
% cd Pod-Perldoc
% perl Makefile.PL
% make
% perl -Mblib perldoc perlnumber
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;17:02:24&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 14:14:25 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for doing all of this work.
</div>
Not a problem. I look on it as enlightened self-interest.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve changed the sources around a
&gt; bit. So far, I was only
&gt; specifying a device for groff if it could handle UTF-8. I&#39;ve adjusted
&gt; it to specify a device in the
&gt; alternate case. I don&#39;t know if I&#39;ve chosen the right default device,
&gt; but it&#39;s easy to change if I
&gt; haven&#39;t. :&#41;
&gt; 
&gt; Instead of releasing a new version, you can try it directly from the
&gt; repo:
&gt; 
&gt; % git clone git://github.com/briandfoy/Pod-Perldoc.git
&gt; % cd Pod-Perldoc
&gt; % perl Makefile.PL
&gt; % make
&gt; % perl -Mblib perldoc perlnumber
</div>
The bottom line is that it still fails under OpenBSD 5.0, but it works
under all other circumstances I have tried, including some I added to
the mix. Details follow, as well as a packaging nit-pick as a postscript
&#40;but not Postscript&#41;.

Working from

commit d8055e10212a285331aac1aef00e9675d0d8d88a
Author: brian d foy &lt;brian.d.foy@gmail.com&gt;
Date:   Wed Dec 14 12:48:40 2011 -0600

    Try harder to specify a device for groff
    
    We have to specify some device or it uses
    PostScript. I guess the default should be -Tlatin1.


* Ubuntu 10.04 Lucid, Perl 5.14.2:

Both &#39;perldoc perlfunc&#39; and &#39;perl -f open&#39; work with the github version,
though they did not with 5.15_13. They do give the following warning:
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 50.

* Ubuntu 11.10 Oneiric, Perl 5.14.2:

Same as 10.04. This one always worked, but I thought I would check for
regressions.

* Fedora 16 Verne

This always worked, and still does with the github version.

* OpenBSD 5.0, Perl 5.14.2:

Still fails. I have attached &#40;really, this time&#41; two logs of
env PERLDOCDEBUG=1 perldoc perlfunc

The .log0 file is with Mod::Perldoc 3.15 from CPAN, which produces raw
POD, but scrolls it. The .log2 file is with Mod::Perldoc from github.

* Mac OS 10.5.8, Perl 5.15.5:

I dropped back to the &#39;groff&#39; that came with the system &#40;1.19.2&#41;, and
confirmed that Pod::Perldoc 3.15_13 still gave me Postscript. Then I
installed the github version, and that worked. It still gives the usual
&#39;uninitialized&#39; warning, but that&#39;s presumably cosmetic. It also still
warns about having an old groff, which I believe is a feature.

* Mac OS 10.5.8, Perl 5.6.2:

Won&#39;t build, because it needs Pod::Man 2.18. The current Pod::Man wants
Encode, and the current Encode wants at least Perl 5.7.3. I have not
looked into this any further.

* Mac OS 10.5.8, Perl 5.8.8:

Works fine, except for the warning previously noted.

PS - the threatened packaging nit-pick. Makefile.PL emits the message
Warning: the following files are missing in your kit:
        MYMETA.yml
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> openbsd-5.0.log0</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1011634/527335/openbsd-5.0.log0">Download openbsd-5.0.log0</a><br />
<span class="downloadcontenttype">application/octet-stream 309.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> openbsd-5.0.log2</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1011634/527336/openbsd-5.0.log2">Download openbsd-5.0.log2</a><br />
<span class="downloadcontenttype">application/octet-stream 3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;18:03:56&nbsp;2011</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">OpenBSD uses a formatter called &#34;mandoc&#34; instead of GNU groff, or the BSD inherited troff.  In 
the perl distribution bundled with OpenBSD 5.0 &#40;perl 5.12.2&#41; Pod::Perldoc has been modified to 
use mandoc on that specific platform &#40;presumably by whomever maintains perl for that 
platform.&#41;

We could potentially add &#34;mandoc&#34; to the list of candidate formatters. In the meantime, if you

   env &#34;PERLDOC=-n mandoc&#34; perldoc perlnumber 

the CPAN 3.15_13 release works fine on OpenBSD.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;18:06:03&nbsp;2011</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Use of uninitialized value in concatenation &#40;.&#41; or string at
&gt; /usr/local/perl/5.14.2/lib/5.14.2/Pod/Perldoc/ToMan.pm line 50.
</div>
Note to Brian: This is because $self-&gt;__nroffer is undef.  If you add an else clause to the 
unless&#40;&#41; at line 50, the warning goes away.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;18:12:29&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #73236] Raw postscript output under Mac OS 10.5.8 Leopard and Ubuntu 10.4 Lucid. No output under OpenBSD 5.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 14 Dec 2011 17:12:01 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Pod-Perldoc [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> brian d foy &lt;bdfoy [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Dec 14, 2011 at 5:03 PM, Mark Allen via RT
&lt;bug-Pod-Perldoc@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Pod-Perldoc
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=73236">https://rt.cpan.org/Ticket/Display.html?id=73236</a></span> &gt;
&gt;
&gt; OpenBSD uses a formatter called &#34;mandoc&#34; instead of GNU groff, or the BSD inherited troff.  In
&gt; the perl distribution bundled with OpenBSD 5.0 &#40;perl 5.12.2&#41; Pod::Perldoc has been modified to
&gt; use mandoc on that specific platform &#40;presumably by whomever maintains perl for that
&gt; platform.&#41;
</div>
Can you send me the ToMan.pm for OpenBSD? I&#39;ll see about incorporating
their changes somehow.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;18:25:31&nbsp;2011</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you send me the ToMan.pm for OpenBSD? I&#39;ll see about incorporating
&gt; their changes somehow.
</div>
This is all we should have to do:

diff --git a/lib/Pod/Perldoc/ToMan.pm b/lib/Pod/Perldoc/ToMan.pm
index 3c4531b..9f830a0 100644
--- a/lib/Pod/Perldoc/ToMan.pm
+++ b/lib/Pod/Perldoc/ToMan.pm
@@ -59,7 +59,7 @@ sub init {
        $self-&gt;_check_nroffer;
        }
 
-sub roffer_candidates {  &#40; &#39;groff&#39;, &#39;nroff&#39; &#41; }
+sub roffer_candidates {  &#40; &#39;groff&#39;, &#39;nroff&#39;, &#39;mandoc&#39; &#41; }
 
 sub find_roffer {
        my&#40; $self, @candidates &#41; = @_;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;21:45:46&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 18:25:31 2011, mallen wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Can you send me the ToMan.pm for OpenBSD? I&#39;ll see about incorporating
&gt; &gt; their changes somehow.
</div>&gt; 
&gt; This is all we should have to do:
&gt; 
&gt; diff --git a/lib/Pod/Perldoc/ToMan.pm b/lib/Pod/Perldoc/ToMan.pm
&gt; index 3c4531b..9f830a0 100644
&gt; --- a/lib/Pod/Perldoc/ToMan.pm
&gt; +++ b/lib/Pod/Perldoc/ToMan.pm
&gt; @@ -59,7 +59,7 @@ sub init {
&gt;         $self-&gt;_check_nroffer;
&gt;         }
&gt;  
&gt; -sub roffer_candidates {  &#40; &#39;groff&#39;, &#39;nroff&#39; &#41; }
&gt; +sub roffer_candidates {  &#40; &#39;groff&#39;, &#39;nroff&#39;, &#39;mandoc&#39; &#41; }
&gt;  
&gt;  sub find_roffer {
&gt;         my&#40; $self, @candidates &#41; = @_;
&gt; 
</div>
Interesting. I was _not_ using the Perl that comes with OpenBSD, because
I have been bitten enough by modifying the system Perl. So I was using a
custom-built one. The custom-built Perl &#40;5.14.2&#41;. With this custom-built
Perl and Pod::Perldoc 3.15:

$ perldoc perlfunc             # produces raw POD
$ perldoc -n mandoc perlfunc   # produces formatted POD

However, with the same Perl and the github Pod::Perldoc, to wit

commit d8055e10212a285331aac1aef00e9675d0d8d88a
Author: brian d foy &lt;brian.d.foy@gmail.com&gt;
Date: Wed Dec 14 12:48:40 2011 -0600

    Try harder to specify a device for groff
    We have to specify some device or it uses PostScript. I guess the
default should be -Tlatin1.

I still got an outright failure both with both of

$ perldoc perlfunc
$ perldoc -n mandoc perlfunc

So there may be something else going on as well.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;14&nbsp;22:30:47&nbsp;2011</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 21:45:46 2011, WYANT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I still got an outright failure both with both of
&gt; 
&gt; $ perldoc perlfunc
&gt; $ perldoc -n mandoc perlfunc
&gt; 
&gt; So there may be something else going on as well.
</div>
Yes, now that I think about it, we probably need to pass the -man flag
to mandoc as well.  I will test another patch tomorrow - my OpenBSD VM
is on my work laptop &#40;which is at $DAYJOB.&#41;

--Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;15&nbsp;11:50:38&nbsp;2011</span>
    <span class="description">mrallen1 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Dec 14 18:12:29 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you send me the ToMan.pm for OpenBSD? I&#39;ll see about incorporating
&gt; their changes somehow.
</div>

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/briandfoy/Pod-Perldoc/pull/3">https://github.com/briandfoy/Pod-Perldoc/pull/3</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;11:12:25&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think I&#39;ve fixed the issues with OpenBSD. I&#39;ve tested it on 4.9 and 5.0. The support for UTF-8 
sucks, but it doesn&#39;t suck more than it did with prior versions. At least you get output. 

I&#39;ve also tested this with Ubuntu 11.10. The UTF-8 support there seems to be fine.

I&#39;ve released 3.15_14 to CPAN, and I want that one to be the version the goes into Perl 5.16.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;11:12:26&nbsp;2011</span>
    <span class="description">bdfoy [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;15:55:57&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Dec 18 11:12:25 2011, BDFOY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think I&#39;ve fixed the issues with OpenBSD. I&#39;ve tested it on 4.9 and
&gt; 5.0. The support for UTF-8
&gt; sucks, but it doesn&#39;t suck more than it did with prior versions. At
&gt; least you get output.
&gt; 
&gt; I&#39;ve also tested this with Ubuntu 11.10. The UTF-8 support there seems
&gt; to be fine.
&gt; 
&gt; I&#39;ve released 3.15_14 to CPAN, and I want that one to be the version
&gt; the goes into Perl 5.16.
&gt; 
</div>
Here&#39;s my take on Pod::Perldoc-3.15_14:

* Mac OS 10.5.8, Perl 5.15.5: Works nicely. The &#34;You have an old groff
... &#34; warning from Pod/Perldoc.pm line 1328 is doubled.

* Fedora 16, Perl 5.14.2: Works nicely. No warnings.

* OpenBSD 5, Perl 5.14.2: Works very well. No warnings, and unlike
version 3.15 produces formatted POD rather than raw POD.

* Ubuntu 10.04 LTS Lucid: Works nicely. No Warnings.

* Ubuntu 11.10 Oneiric: Works nicely. No warnings.

An observation:

When you issue &#39;perldoc -f open&#39;, Pod::Perldoc 3.15_14 displays the
&#34;User Contributed Perl Documentation&#34; header, with the name of the
temporary file left and right. Pod::Perldoc 3.15_04 &#40;which comes with
Perl 5.14.2&#41; displays no header.

This was observed under Ubuntu 10.04, and confirmed under Ubuntu 11.10
and Mac OS 10.5.8. I was too lazy to go back and check Fedora and
OpenBSD, but I can if you want.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;18&nbsp;15:55:58&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;06&nbsp;11:58:04&nbsp;2012</span>
    <span class="description">mrallen1 [...] yahoo.com -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;16&nbsp;23:41:54&nbsp;2012</span>
    <span class="description">mrallen1 [...] yahoo.com -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
