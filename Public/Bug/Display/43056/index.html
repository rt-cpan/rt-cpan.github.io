<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #43056 for Hash-Merge: Ability to use from different places with different behaviours</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #43056 for Hash-Merge: Ability to use from different places with different behaviours</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Hash-Merge">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Hash-Merge">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Hash-Merge">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Hash-Merge">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Hash-Merge">Hash-Merge CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">43056</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Hash-Merge">Hash-Merge</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
MONS [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-15288-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.10    </td>
  </tr>
  <tr id="CF-15289-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




changes.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/564054/284930/changes.diff">
Fri Feb 06 11:54:24 2009 (16.3k) by MONS [...] cpan.org
</a>
</font></li>
</ul>


Hash-Merge-0.11.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/564054/284927/Hash-Merge-0.11.tar.gz">
Fri Feb 06 11:54:24 2009 (7.8k) by MONS [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=43056">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563722" href="/Public/Bug/Display.html?id=43056#txn-563722">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;09:20:06&nbsp;2009</span>
    <span class="description">MONS [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Ability to use from different places with different behaviours</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563722/284745/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284745">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 725b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">There is such a problem

In one place we do specify_behavior&#40;{...}, &#39;Behaviour1&#39;&#41;
in another place we do specify_behavior&#40;{...}, &#39;Behaviour2&#39;&#41;

Later we call merge&#40;&#41; many times from both places.
As could be seen, Behaviour1 would be ignored, and all merges would be
done using Behaviour2.

The fix could be done in at least 2 ways:
1. add OO interface, and keep merge matrix inside object
2. make $behaviors, $merge_behavior, $merge_matrix global, and store the
value of additionally specified behaviors into them &#40;later we could use:
restore = get_behavior; set_behavior&#40;own&#41;; merge; set_behavior&#40;restore&#41;;
or { local $Hash::Merge::behavior = &#39;own&#39;; merge&#40;&#41; }&#41;

Will you accept from me a version 0.11 with fix of this issue?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563737" href="/Public/Bug/Display.html?id=43056#txn-563737">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;10:30:00&nbsp;2009</span>
    <span class="description">webmaster [...] simplemood.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #43056] Ability to use from different places with different behaviours </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 5 Feb 2009 09:19:56 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Hash-Merge [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dan Muey &lt;webmaster [...] simplemood.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563737/284752/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284752">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">yeah, globals are bad &#40;which is what the set-by-function is really&#41;.  
Unfortunately that&#39;s the way they were done before I inherited it.

I&#39;m thinking an alternate object interface would be nice

On Feb 5, 2009, at 8:20 AM, Mons Anderson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Feb 05 09:20:06 2009: Request 43056 was acted upon.
&gt; Transaction: Ticket created by MONS
&gt;       Queue: Hash-Merge
&gt;     Subject: Ability to use from different places with different  
&gt; behaviours
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: Important
&gt;       Owner: Nobody
&gt;  Requestors: MONS@cpan.org
&gt;      Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=43056">https://rt.cpan.org/Ticket/Display.html?id=43056</a></span> &gt;
&gt;
&gt;
&gt; There is such a problem
&gt;
&gt; In one place we do specify_behavior&#40;{...}, &#39;Behaviour1&#39;&#41;
&gt; in another place we do specify_behavior&#40;{...}, &#39;Behaviour2&#39;&#41;
&gt;
&gt; Later we call merge&#40;&#41; many times from both places.
&gt; As could be seen, Behaviour1 would be ignored, and all merges would be
&gt; done using Behaviour2.
&gt;
&gt; The fix could be done in at least 2 ways:
&gt; 1. add OO interface, and keep merge matrix inside object
&gt; 2. make $behaviors, $merge_behavior, $merge_matrix global, and store  
&gt; the
&gt; value of additionally specified behaviors into them &#40;later we could  
&gt; use:
&gt; restore = get_behavior; set_behavior&#40;own&#41;; merge;  
&gt; set_behavior&#40;restore&#41;;
&gt; or { local $Hash::Merge::behavior = &#39;own&#39;; merge&#40;&#41; }&#41;
&gt;
&gt; Will you accept from me a version 0.11 with fix of this issue?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563738" href="/Public/Bug/Display.html?id=43056#txn-563738">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;10:30:04&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563754" href="/Public/Bug/Display.html?id=43056#txn-563754">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;10:57:46&nbsp;2009</span>
    <span class="description">webmaster [...] simplemood.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #43056] Ability to use from different places with different behaviours </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 5 Feb 2009 09:19:56 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Hash-Merge [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dan Muey &lt;webmaster [...] simplemood.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563754/284760/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284760">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">yeah, globals are bad &#40;which is what the set-by-function is really&#41;.  
Unfortunately that&#39;s the way they were done before I inherited it.

I&#39;m thinking an alternate object interface would be nice

On Feb 5, 2009, at 8:20 AM, Mons Anderson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Feb 05 09:20:06 2009: Request 43056 was acted upon.
&gt; Transaction: Ticket created by MONS
&gt;       Queue: Hash-Merge
&gt;     Subject: Ability to use from different places with different  
&gt; behaviours
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: Important
&gt;       Owner: Nobody
&gt;  Requestors: MONS@cpan.org
&gt;      Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=43056">https://rt.cpan.org/Ticket/Display.html?id=43056</a></span> &gt;
&gt;
&gt;
&gt; There is such a problem
&gt;
&gt; In one place we do specify_behavior&#40;{...}, &#39;Behaviour1&#39;&#41;
&gt; in another place we do specify_behavior&#40;{...}, &#39;Behaviour2&#39;&#41;
&gt;
&gt; Later we call merge&#40;&#41; many times from both places.
&gt; As could be seen, Behaviour1 would be ignored, and all merges would be
&gt; done using Behaviour2.
&gt;
&gt; The fix could be done in at least 2 ways:
&gt; 1. add OO interface, and keep merge matrix inside object
&gt; 2. make $behaviors, $merge_behavior, $merge_matrix global, and store  
&gt; the
&gt; value of additionally specified behaviors into them &#40;later we could  
&gt; use:
&gt; restore = get_behavior; set_behavior&#40;own&#41;; merge;  
&gt; set_behavior&#40;restore&#41;;
&gt; or { local $Hash::Merge::behavior = &#39;own&#39;; merge&#40;&#41; }&#41;
&gt;
&gt; Will you accept from me a version 0.11 with fix of this issue?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-563769" href="/Public/Bug/Display.html?id=43056#txn-563769">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;05&nbsp;11:44:24&nbsp;2009</span>
    <span class="description">webmaster [...] simplemood.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #43056] Ability to use from different places with different behaviours </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 5 Feb 2009 09:19:56 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Hash-Merge [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dan Muey &lt;webmaster [...] simplemood.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/563769/284767/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284767">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">yeah, globals are bad &#40;which is what the set-by-function is really&#41;.  
Unfortunately that&#39;s the way they were done before I inherited it.

I&#39;m thinking an alternate object interface would be nice

On Feb 5, 2009, at 8:20 AM, Mons Anderson via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thu Feb 05 09:20:06 2009: Request 43056 was acted upon.
&gt; Transaction: Ticket created by MONS
&gt;       Queue: Hash-Merge
&gt;     Subject: Ability to use from different places with different  
&gt; behaviours
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: Important
&gt;       Owner: Nobody
&gt;  Requestors: MONS@cpan.org
&gt;      Status: new
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=43056">https://rt.cpan.org/Ticket/Display.html?id=43056</a></span> &gt;
&gt;
&gt;
&gt; There is such a problem
&gt;
&gt; In one place we do specify_behavior&#40;{...}, &#39;Behaviour1&#39;&#41;
&gt; in another place we do specify_behavior&#40;{...}, &#39;Behaviour2&#39;&#41;
&gt;
&gt; Later we call merge&#40;&#41; many times from both places.
&gt; As could be seen, Behaviour1 would be ignored, and all merges would be
&gt; done using Behaviour2.
&gt;
&gt; The fix could be done in at least 2 ways:
&gt; 1. add OO interface, and keep merge matrix inside object
&gt; 2. make $behaviors, $merge_behavior, $merge_matrix global, and store  
&gt; the
&gt; value of additionally specified behaviors into them &#40;later we could  
&gt; use:
&gt; restore = get_behavior; set_behavior&#40;own&#41;; merge;  
&gt; set_behavior&#40;restore&#41;;
&gt; or { local $Hash::Merge::behavior = &#39;own&#39;; merge&#40;&#41; }&#41;
&gt;
&gt; Will you accept from me a version 0.11 with fix of this issue?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-564054" href="/Public/Bug/Display.html?id=43056#txn-564054">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;06&nbsp;11:54:24&nbsp;2009</span>
    <span class="description">MONS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/564054/284924/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/284924">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 737b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Чтв. Фев. 05 10:30:00 2009, webmaster@simplemood.com писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; yeah, globals are bad &#40;which is what the set-by-function is really&#41;.  
&gt; Unfortunately that&#39;s the way they were done before I inherited it.
&gt; 
&gt; I&#39;m thinking an alternate object interface would be nice
</div>
I&#39;ve attached the archive and the diff.
The changes are:
1. Added OO interface.
By default all calls are done &#40;implicitly&#41; on default, $GLOBAL object

2. Cloning were extended to use also Clone::PP or Storable::dclone
&#40;Storable is present more often, than Clone or Clone::PP, and it is very
fast&#41;

3. User specified matrix saved into $behaviors list, so it can be
restored by get_behavior/set_behavior

4. Added tests for nested calls with different behaviors.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/564054/284927/Hash-Merge-0.11.tar.gz">Download Hash-Merge-0.11.tar.gz</a><br />
<span class="downloadcontenttype">application/gzip 7.8k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/564054/284930/changes.diff">Download changes.diff</a><br />
<span class="downloadcontenttype">text/x-diff 16.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-733643" href="/Public/Bug/Display.html?id=43056#txn-733643">#</a>      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;05:56:06&nbsp;2010</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> webmaster [...] simplemood.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/733643/379077/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/379077">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 295b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 05 11:44:24 2009, webmaster@simplemood.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; yeah, globals are bad &#40;which is what the set-by-function is really&#41;.  
&gt; Unfortunately that&#39;s the way they were done before I inherited it.
</div>
A patch has been sitting in this queue for over a year, any plans of
releasing a new H::M ?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-734118" href="/Public/Bug/Display.html?id=43056#txn-734118">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;15&nbsp;06:02:13&nbsp;2010</span>
    <span class="description">MONS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/734118/379353/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/379353">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 114b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Peter, I can upload my version as unauthorized release.
If you need it, I&#39;ll do it and will support future changes
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-734127" href="/Public/Bug/Display.html?id=43056#txn-734127">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;15&nbsp;06:14:32&nbsp;2010</span>
    <span class="description">MONS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/734127/379358/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/379358">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 306b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Пнд Фев 15 06:02:13 2010, MONS писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Peter, I can upload my version as unauthorized release.
&gt; If you need it, I&#39;ll do it and will support future changes
</div>
Hm, sorry, I think this module was forgotten at all by an author.
It&#39;s not so. I may propose you to look at Hash::Union as an alternative
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-734131" href="/Public/Bug/Display.html?id=43056#txn-734131">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;15&nbsp;07:56:56&nbsp;2010</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/734131/379364/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/379364">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 250b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello all,

No I havn&#39;t forgotten about this, I&#39;ve just been busy :&#41; These emails 
yesterday and today are the first interest I&#39;ve seen regarding this addition, 
not sure if rt was sending them out or not, regardless I&#39;ll look it over ASAP.

thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-734238" href="/Public/Bug/Display.html?id=43056#txn-734238">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;15&nbsp;11:16:03&nbsp;2010</span>
    <span class="description">dmuey [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/734238/379427/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/379427">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 681b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Feb 15 06:02:13 2010, MONS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Peter, I can upload my version as unauthorized release.
&gt; If you need it, I&#39;ll do it and will support future changes
</div>
I&#39;ve just uploaded 0.12 to CPAN. Thanks for the patch, I modified it
quite a bit and added tests for the OO interface.

Side note: It&#39;s never a good idea to upload unauthorized releases. This
one especially, adding tests for the new OO revealed problems with it
and it needed adjusted.

If an author seems unresponsive then there is a process you should
follow to get the issue resolved. You&#39;ll often find the author is
responsive they are just busy and havn&#39;t gotten around to it since there
was no demand for it. 

HTH
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-734241" href="/Public/Bug/Display.html?id=43056#txn-734241">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;15&nbsp;11:16:08&nbsp;2010</span>
    <span class="description">dmuey [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.677833</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
