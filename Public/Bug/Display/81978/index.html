<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #81978 for TryCatch: t/invalid.t fails</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #81978 for TryCatch: t/invalid.t fails</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/TryCatch/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/TryCatch/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/TryCatch/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/TryCatch/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/TryCatch">TryCatch CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">81978</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">55 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/TryCatch/Active/">TryCatch</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
aar [...] cpan.org

<br />
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-225940-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-225941-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;14&nbsp;05:36:36&nbsp;2012</span>
    <span class="description">aar [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/invalid.t fails</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/A/AS/ASH/TryCatch-1.003000.tar.gz">http://search.cpan.org/CPAN/authors/id/A/AS/ASH/TryCatch-1.003000.tar.gz</a></span>
-&gt; OK
Unpacking TryCatch-1.003000.tar.gz
Entering TryCatch-1.003000
Checking configure dependencies from META.yml
Checking if you have B::Hooks::OP::Check 0.18 ... Yes &#40;0.19&#41;
Checking if you have ExtUtils::MakeMaker 6.42 ... Yes &#40;6.62&#41;
Checking if you have ExtUtils::Depends 0.302 ... Yes &#40;0.304&#41;
Checking if you have B::Hooks::OP::PPAddr 0.03 ... Yes &#40;0.03&#41;
Configuring TryCatch-1.003000
Running Makefile.PL
*** Module::AutoInstall version 1.03
*** Checking for Perl dependencies...
*** Since we&#39;re running under CPAN, I&#39;ll just let it take care
    of the dependency&#39;s installation later.
[Core Features]
- Test::More                ...loaded. &#40;0.98 &gt;= 0.88&#41;
- Test::Exception           ...loaded. &#40;0.31&#41;
- B::Hooks::OP::Check       ...loaded. &#40;0.19 &gt;= 0.18&#41;
- B::Hooks::OP::PPAddr      ...loaded. &#40;0.03 &gt;= 0.03&#41;
- Parse::Method::Signatures ...loaded. &#40;1.003014 &gt;= 1.003012&#41;
- B::Hooks::EndOfScope      ...loaded. &#40;0.12 &gt;= 0.08&#41;
- Devel::Declare            ...loaded. &#40;0.006011 &gt;= 0.005007&#41;
- Moose                     ...loaded. &#40;2.0604&#41;
- MooseX::Types             ...loaded. &#40;0.35&#41;
- Scope::Upper              ...loaded. &#40;0.21 &gt;= 0.06&#41;
- Variable::Magic           ...loaded. &#40;0.52 &gt;= 0.28&#41;
- Sub::Exporter             ...loaded. &#40;0.982 &gt;= 0.979&#41;
- XSLoader                  ...loaded. &#40;0.13&#41;
*** Module::AutoInstall configuration finished.
Checking if your kit is complete...
Looks good
Writing Makefile for TryCatch
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have Test::More 0.88 ... Yes &#40;0.98&#41;
Checking if you have B::Hooks::OP::Check 0.18 ... Yes &#40;0.19&#41;
Checking if you have Test::Exception 0 ... Yes &#40;0.31&#41;
Checking if you have ExtUtils::MakeMaker 6.42 ... Yes &#40;6.62&#41;
Checking if you have ExtUtils::Depends 0.302 ... Yes &#40;0.304&#41;
Checking if you have B::Hooks::OP::PPAddr 0.03 ... Yes &#40;0.03&#41;
Checking if you have XSLoader 0 ... Yes &#40;0.13&#41;
Checking if you have Test::Exception 0 ... Yes &#40;0.31&#41;
Checking if you have Scope::Upper 0.06 ... Yes &#40;0.21&#41;
Checking if you have Parse::Method::Signatures 1.003012 ... Yes &#40;1.003014&#41;
Checking if you have Sub::Exporter 0.979 ... Yes &#40;0.982&#41;
Checking if you have B::Hooks::EndOfScope 0.08 ... Yes &#40;0.12&#41;
Checking if you have Test::More 0.88 ... Yes &#40;0.98&#41;
Checking if you have B::Hooks::OP::Check 0.18 ... Yes &#40;0.19&#41;
Checking if you have MooseX::Types 0 ... Yes &#40;0.35&#41;
Checking if you have B::Hooks::OP::PPAddr 0.03 ... Yes &#40;0.03&#41;
Checking if you have Variable::Magic 0.28 ... Yes &#40;0.52&#41;
Checking if you have Devel::Declare 0.005007 ... Yes &#40;0.006011&#41;
Checking if you have Moose 0 ... Yes &#40;2.0604&#41;
Building and testing TryCatch-1.003000
cp bench_ok.pl blib/lib/bench_ok.pl
cp bench.pl blib/lib/bench.pl
cp lib/TryCatch.pm blib/lib/TryCatch.pm
/usr/bin/perl &#34;-Iinc&#34; /usr/share/perl/5.14/ExtUtils/xsubpp  -typemap 
/usr/share/perl/5.14/ExtUtils/typemap  TryCatch.xs &gt; TryCatch.xsc &#38;&#38; mv TryCatch.xsc 
TryCatch.c
cc -c  -I/root/.cpanm/work/1355481259.24099/TryCatch-
1.003000/inc/EUDeps/B/Hooks/OP/Check/Install -
I/root/.cpanm/work/1355481259.24099/TryCatch-
1.003000/inc/EUDeps/B/Hooks/OP/PPAddr/Install -D_REENTRANT -D_GNU_SOURCE -
DDEBIAN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -
D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g   -DVERSION=\&#34;1.003000\&#34; -
DXS_VERSION=\&#34;1.003000\&#34; -fPIC &#34;-I/usr/lib/perl/5.14/CORE&#34;   TryCatch.c
TryCatch.xs: In function ‘try_return’:
TryCatch.xs:72:7: warning: format ‘%d’ expects argument of type ‘int’, but argument 2 has 
type ‘IV’ [-Wformat]
TryCatch.c: In function ‘XS_TryCatch__XS_uninstall_op_checks’:
TryCatch.xs:263:5: warning: ignoring return value of ‘Perl_av_shift’, declared with attribute 
warn_unused_result [-Wunused-result]
Running Mkbootstrap for TryCatch &#40;&#41;
chmod 644 TryCatch.bs
rm -f blib/arch/auto/TryCatch/TryCatch.so
cc  -shared -O2 -g -L/usr/local/lib -fstack-protector TryCatch.o  -o 
blib/arch/auto/TryCatch/TryCatch.so     \
                \
          
chmod 755 blib/arch/auto/TryCatch/TryCatch.so
cp TryCatch.bs blib/arch/auto/TryCatch/TryCatch.bs
chmod 644 blib/arch/auto/TryCatch/TryCatch.bs
Manifying blib/man3/TryCatch.3pm
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, 
&#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/catch_01.t t/context.t t/destroy.t t/handwritten.t t/invalid.t 
t/method.t t/mx_types_structured.t t/nested.t t/simple.t t/types.t
t/catch_01.t ............. ok
t/context.t .............. ok
t/destroy.t .............. ok
t/handwritten.t .......... ok

#   Failed test &#39;no block after catch&#39;
#   at t/invalid.t line 25.
#                   &#39;block required after catch at 
/usr/local/share/perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# syntax error at &#40;eval 355&#41; line 7, near &#34;}
#  
# my &#34;
# Global symbol &#34;$foo&#34; requires explicit package name at &#40;eval 355&#41; line 7.
# Missing right curly or square bracket at &#40;eval 355&#41; line 9, at end of line
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^block required after catch at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b&#41;&#39;

#   Failed test &#39;Error from line 5&#39;
#   at t/invalid.t line 36.
#          got: undef
#     expected: &#39;5&#39;

#   Failed test &#39;invalid catch signature&#39;
#   at t/invalid.t line 38.
#                   &#39;Parameter expected near &#39;^&#39; in &#39;^Err $e&#39; at 
/usr/local/share/perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# syntax error at &#40;eval 357&#41; line 5, near &#34;}
#   {&#34;
# Missing right curly or square bracket at &#40;eval 357&#41; line 8, at end of line
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^Parameter expected near &#39;\^&#39; in &#39;\^Err \$e&#39; at \&#40;eval \d+\&#41; line 
&#40;\d+&#41;\b&#41;&#39;

#   Failed test &#39;Error from line 4&#39;
#   at t/invalid.t line 50.
#          got: undef
#     expected: &#39;4&#39;

#   Failed test &#39;invalid catch signature &#40;missing parenthesis&#41;&#39;
#   at t/invalid.t line 52.
#                   &#39;Run-away catch signature at 
/usr/local/share/perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# Missing right curly or square bracket at &#40;eval 363&#41; line 5, at end of line
# syntax error at &#40;eval 363&#41; line 5, at EOF
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^Run-away catch signature at \&#40;eval \d+\&#41; line &#40;\d+&#41;&#41;&#39;

#   Failed test &#39;Error from line 4&#39;
#   at t/invalid.t line 68.
#          got: undef
#     expected: &#39;4&#39;
# Looks like you failed 6 tests of 15.
t/invalid.t .............. 
Dubious, test returned 6 &#40;wstat 1536, 0x600&#41;
Failed 6/15 subtests 
t/method.t ............... ok
t/mx_types_structured.t .. ok
t/nested.t ............... ok
t/simple.t ............... ok
t/types.t ................ ok

Test Summary Report
-------------------
t/invalid.t            &#40;Wstat: 1536 Tests: 15 Failed: 6&#41;
  Failed tests:  3-8
  Non-zero exit status: 6
Files=10, Tests=58,  7 wallclock secs &#40; 0.05 usr  0.09 sys +  6.00 cusr  0.76 csys =  6.90 
CPU&#41;
Result: FAIL
Failed 1/10 test programs. 6/58 subtests failed.
make: *** [test_dynamic] Error 255
-&gt; FAIL Installing TryCatch failed. See /root/.cpanm/build.log for details.
root:~# perl -v

This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for x86_64-linux-gnu-thread-multi
&#40;with 53 registered patches, see perl -V for more detail&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;17:58:29&nbsp;2012</span>
    <span class="description">d.thomas [...] its.uq.edu.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> d.thomas [...] its.uq.edu.au</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Dec 14 05:36:36 2012, AAR wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; #   Failed test &#39;no block after catch&#39;
&gt; #   at t/invalid.t line 25.
&gt; #                   &#39;block required after catch at
&gt; /usr/local/share/perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
&gt; # syntax error at &#40;eval 355&#41; line 7, near &#34;}
</div>same thing for me with perl 5.16.2
all tests pass when rolling B::Hooks::EndOfScope back 0.12 -&gt; 0.11
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;17:58:30&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;28&nbsp;18:20:17&nbsp;2012</span>
    <span class="description">d.thomas [...] its.uq.edu.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> d.thomas [...] its.uq.edu.au</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">NB both pure-perl and XS versions of 0.12 fail, but differently

# export B_HOOKS_ENDOFSCOPE_IMPLEMENTATION=PP
# make test
PERL_DL_NONLAZY=1 /opt/perl/uq.cis.perl-base2.rhel6-5.16.2-20121228/bin/perl ...
t/catch_01.t ............. ok    
t/context.t .............. ok   
t/destroy.t .............. ok   
t/handwritten.t .......... ok   
t/invalid.t .............. 1/? 
#   Failed test &#39;no block after catch&#39;
#   at t/invalid.t line 25.
#                   &#39;syntax error at &#40;eval 423&#41; line 7, near &#34;}
#  
# my &#34;
# Global symbol &#34;$foo&#34; requires explicit package name at &#40;eval 423&#41; line 7.
# Missing right curly or square bracket at &#40;eval 423&#41; line 9, at end of line
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^block required after catch at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b&#41;&#39;



# export B_HOOKS_ENDOFSCOPE_IMPLEMENTATION=XS
# make test
PERL_DL_NONLAZY=1 /opt/perl/uq.cis.perl-base2.rhel6-5.16.2-20121228/bin/perl ...
t/catch_01.t ............. ok    
t/context.t .............. ok   
t/destroy.t .............. ok   
t/handwritten.t .......... ok   
t/invalid.t .............. 1/? 
#   Failed test &#39;no block after catch&#39;
#   at t/invalid.t line 25.
#                   &#39;block required after catch at /opt/perl/uq.cis.perl-base2.rhel6-5.16.2-
20121228/lib/site_perl/5.16.2/B/Hooks/EndOfScope/XS.pm line 26.
# syntax error at &#40;eval 423&#41; line 7, near &#34;}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;17:17:42&nbsp;2012</span>
    <span class="description">d.thomas [...] its.uq.edu.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> d.thomas [...] its.uq.edu.au</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Dec 28 18:20:17 2012, d.thomas@its.uq.edu.au wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; NB both pure-perl and XS versions of 0.12 fail, but differently
</div>my workaround was to use 0.11, but namespace-clean-0.24 fails
a test

  Warning: prerequisite B::Hooks::EndOfScope 0.12 not found. We have 0.11.

  
t/10-pure-perl.t ......... 1/? 
#   Failed test &#39;PP BHEOS loaded properly&#39;
#   at t/10-pure-perl.t line 13.
t/10-pure-perl.t ......... 7/? # Looks like you failed 1 test of 12.

Looks like I&#39;ll have to disable t/invalid.t from running
during my automated build
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;02&nbsp;07:32:44&nbsp;2013</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;18&nbsp;06:07:48&nbsp;2013</span>
    <span class="description">chisel [...] chizography.net -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t/invalid.t fails &#40;with B::Hooks::EndOfScope 0.12&#41;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It&#39;s definitely triggered by the upgrade of B::Hooks::EndOfScope from 0.11 to 0.12.

I&#39;ve attached a &#39;perl Makefile.PL; make test&#39; with both versions of the module.

Passes with 0.11. Fails with 0.12.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TryCatch+Hooks-0.11.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[5134][c.wright@fulcrum-chz:DAVE][CPAN-updates]➔ perlversion B::Hooks::EndOfScope
[B::Hooks::EndOfScope] 0.11
[5135][c.wright@fulcrum-chz:DAVE][CPAN-updates]➔ tar xf src/CPAN_MODULES_ORIGIN/Try
Try-Tiny-0.12.tar.gz      TryCatch-1.003000.tar.gz  
[5135][c.wright@fulcrum-chz:DAVE][CPAN-updates]➔ tar xf src/CPAN_MODULES_ORIGIN/Try
Try-Tiny-0.12.tar.gz      TryCatch-1.003000.tar.gz  
[5135][c.wright@fulcrum-chz:DAVE][CPAN-updates]➔ tar xf src/CPAN_MODULES_ORIGIN/TryCatch-1.003000.tar.gz 
[5136][c.wright@fulcrum-chz:DAVE][CPAN-updates⚡]➔ cd TryCatch-1.003000/
[5137][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ perl Makefile.PL 
*** Module::AutoInstall version 1.03
*** Checking for Perl dependencies...
[Core Features]
- Test::More                ...loaded. &#40;0.98 &gt;= 0.88&#41;
- Test::Exception           ...loaded. &#40;0.31&#41;
- B::Hooks::OP::Check       ...loaded. &#40;0.19 &gt;= 0.18&#41;
- B::Hooks::OP::PPAddr      ...loaded. &#40;0.03 &gt;= 0.03&#41;
- Parse::Method::Signatures ...loaded. &#40;1.003014 &gt;= 1.003012&#41;
- B::Hooks::EndOfScope      ...loaded. &#40;0.11 &gt;= 0.08&#41;
- Devel::Declare            ...loaded. &#40;0.006011 &gt;= 0.005007&#41;
- Moose                     ...loaded. &#40;2.0604&#41;
- MooseX::Types             ...loaded. &#40;0.35&#41;
- Scope::Upper              ...loaded. &#40;0.21 &gt;= 0.06&#41;
- Variable::Magic           ...loaded. &#40;0.51 &gt;= 0.28&#41;
- Sub::Exporter             ...loaded. &#40;0.984 &gt;= 0.979&#41;
- XSLoader                  ...loaded. &#40;0.13&#41;
*** Module::AutoInstall configuration finished.
Checking if your kit is complete...
Looks good
Writing Makefile for TryCatch
Writing MYMETA.yml and MYMETA.json
[5138][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ make test
cp bench_ok.pl blib/lib/bench_ok.pl
cp bench.pl blib/lib/bench.pl
cp lib/TryCatch.pm blib/lib/TryCatch.pm
/opt/xt/xt-perl/bin/perl &#34;-Iinc&#34; /opt/xt/xt-perl/lib/5.14.2/ExtUtils/xsubpp  -typemap /opt/xt/xt-perl/lib/5.14.2/ExtUtils/typemap  TryCatch.xs &gt; TryCatch.xsc &#38;&#38; mv TryCatch.xsc TryCatch.c
gcc -c  -I/home/c.wright/development/DAVE/TryCatch-1.003000/inc/EUDeps/B/Hooks/OP/Check/Install -I/home/c.wright/development/DAVE/TryCatch-1.003000/inc/EUDeps/B/Hooks/OP/PPAddr/Install -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\&#34;1.003000\&#34; -DXS_VERSION=\&#34;1.003000\&#34; -fpic &#34;-I/opt/xt/xt-perl/lib/5.14.2/x86_64-linux/CORE&#34;   TryCatch.c
TryCatch.xs: In function &#39;try_return&#39;:
TryCatch.xs:72: warning: format &#39;%d&#39; expects type &#39;int&#39;, but argument 3 has type &#39;IV&#39;
TryCatch.c: In function &#39;XS_TryCatch__XS_uninstall_op_checks&#39;:
TryCatch.xs:263: warning: ignoring return value of &#39;Perl_av_shift&#39;, declared with attribute warn_unused_result
Running Mkbootstrap for TryCatch &#40;&#41;
chmod 644 TryCatch.bs
rm -f blib/arch/auto/TryCatch/TryCatch.so
gcc  -shared -L/usr/local/lib -L/usr/lib64 -L/lib64 -fstack-protector TryCatch.o  -o blib/arch/auto/TryCatch/TryCatch.so 	\
	     	\
	  
chmod 755 blib/arch/auto/TryCatch/TryCatch.so
cp TryCatch.bs blib/arch/auto/TryCatch/TryCatch.bs
chmod 644 blib/arch/auto/TryCatch/TryCatch.bs
PERL_DL_NONLAZY=1 /opt/xt/xt-perl/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/catch_01.t t/context.t t/destroy.t t/handwritten.t t/invalid.t t/method.t t/mx_types_structured.t t/nested.t t/simple.t t/types.t
t/catch_01.t ............. ok    
t/context.t .............. ok   
t/destroy.t .............. ok   
t/handwritten.t .......... ok   
t/invalid.t .............. ok    
t/method.t ............... ok   
t/mx_types_structured.t .. ok   
t/nested.t ............... ok   
t/simple.t ............... ok   
t/types.t ................ ok   
All tests successful.
Files=10, Tests=58,  7 wallclock secs &#40; 0.06 usr  0.02 sys +  5.23 cusr  0.53 csys =  5.84 CPU&#41;
Result: PASS
[5139][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ 
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> TryCatch+Hooks-0.12.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[5141][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ perlversion B::Hooks::EndOfScope
[B::Hooks::EndOfScope] 0.12
[5142][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ perl Makefile.PL 
*** Module::AutoInstall version 1.03
*** Checking for Perl dependencies...
[Core Features]
- Test::More                ...loaded. &#40;0.98 &gt;= 0.88&#41;
- Test::Exception           ...loaded. &#40;0.31&#41;
- B::Hooks::OP::Check       ...loaded. &#40;0.19 &gt;= 0.18&#41;
- B::Hooks::OP::PPAddr      ...loaded. &#40;0.03 &gt;= 0.03&#41;
- Parse::Method::Signatures ...loaded. &#40;1.003014 &gt;= 1.003012&#41;
- B::Hooks::EndOfScope      ...loaded. &#40;0.12 &gt;= 0.08&#41;
- Devel::Declare            ...loaded. &#40;0.006011 &gt;= 0.005007&#41;
- Moose                     ...loaded. &#40;2.0604&#41;
- MooseX::Types             ...loaded. &#40;0.35&#41;
- Scope::Upper              ...loaded. &#40;0.21 &gt;= 0.06&#41;
- Variable::Magic           ...loaded. &#40;0.51 &gt;= 0.28&#41;
- Sub::Exporter             ...loaded. &#40;0.984 &gt;= 0.979&#41;
- XSLoader                  ...loaded. &#40;0.13&#41;
*** Module::AutoInstall configuration finished.
Checking if your kit is complete...
Looks good
Writing Makefile for TryCatch
Writing MYMETA.yml and MYMETA.json
[5143][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ make test
cp bench_ok.pl blib/lib/bench_ok.pl
cp bench.pl blib/lib/bench.pl
cp lib/TryCatch.pm blib/lib/TryCatch.pm
/opt/xt/xt-perl/bin/perl &#34;-Iinc&#34; /opt/xt/xt-perl/lib/5.14.2/ExtUtils/xsubpp  -typemap /opt/xt/xt-perl/lib/5.14.2/ExtUtils/typemap  TryCatch.xs &gt; TryCatch.xsc &#38;&#38; mv TryCatch.xsc TryCatch.c
gcc -c  -I/home/c.wright/development/DAVE/TryCatch-1.003000/inc/EUDeps/B/Hooks/OP/Check/Install -I/home/c.wright/development/DAVE/TryCatch-1.003000/inc/EUDeps/B/Hooks/OP/PPAddr/Install -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\&#34;1.003000\&#34; -DXS_VERSION=\&#34;1.003000\&#34; -fpic &#34;-I/opt/xt/xt-perl/lib/5.14.2/x86_64-linux/CORE&#34;   TryCatch.c
TryCatch.xs: In function &#39;try_return&#39;:
TryCatch.xs:72: warning: format &#39;%d&#39; expects type &#39;int&#39;, but argument 3 has type &#39;IV&#39;
TryCatch.c: In function &#39;XS_TryCatch__XS_uninstall_op_checks&#39;:
TryCatch.xs:263: warning: ignoring return value of &#39;Perl_av_shift&#39;, declared with attribute warn_unused_result
Running Mkbootstrap for TryCatch &#40;&#41;
chmod 644 TryCatch.bs
rm -f blib/arch/auto/TryCatch/TryCatch.so
gcc  -shared -L/usr/local/lib -L/usr/lib64 -L/lib64 -fstack-protector TryCatch.o  -o blib/arch/auto/TryCatch/TryCatch.so 	\
	     	\
	  
chmod 755 blib/arch/auto/TryCatch/TryCatch.so
cp TryCatch.bs blib/arch/auto/TryCatch/TryCatch.bs
chmod 644 blib/arch/auto/TryCatch/TryCatch.bs
PERL_DL_NONLAZY=1 /opt/xt/xt-perl/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/catch_01.t t/context.t t/destroy.t t/handwritten.t t/invalid.t t/method.t t/mx_types_structured.t t/nested.t t/simple.t t/types.t
t/catch_01.t ............. ok    
t/context.t .............. ok   
t/destroy.t .............. ok   
t/handwritten.t .......... ok   
t/invalid.t .............. 1/? 
#   Failed test &#39;no block after catch&#39;
#   at t/invalid.t line 25.
#                   &#39;block required after catch at /opt/xt/xt-perl/lib/site_perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# syntax error at &#40;eval 358&#41; line 7, near &#34;}
#  
# my &#34;
# Global symbol &#34;$foo&#34; requires explicit package name at &#40;eval 358&#41; line 7.
# Missing right curly or square bracket at &#40;eval 358&#41; line 9, at end of line
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^block required after catch at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b&#41;&#39;

#   Failed test &#39;Error from line 5&#39;
#   at t/invalid.t line 36.
#          got: undef
#     expected: &#39;5&#39;

#   Failed test &#39;invalid catch signature&#39;
#   at t/invalid.t line 38.
#                   &#39;Parameter expected near &#39;^&#39; in &#39;^Err $e&#39; at /opt/xt/xt-perl/lib/site_perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# syntax error at &#40;eval 360&#41; line 5, near &#34;}
#   {&#34;
# Missing right curly or square bracket at &#40;eval 360&#41; line 8, at end of line
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^Parameter expected near &#39;\^&#39; in &#39;\^Err \$e&#39; at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b&#41;&#39;

#   Failed test &#39;Error from line 4&#39;
#   at t/invalid.t line 50.
#          got: undef
#     expected: &#39;4&#39;

#   Failed test &#39;invalid catch signature &#40;missing parenthesis&#41;&#39;
#   at t/invalid.t line 52.
#                   &#39;Run-away catch signature at /opt/xt/xt-perl/lib/site_perl/5.14.2/B/Hooks/EndOfScope/XS.pm line 26.
# Missing right curly or square bracket at &#40;eval 366&#41; line 5, at end of line
# syntax error at &#40;eval 366&#41; line 5, at EOF
# &#39;
#     doesn&#39;t match &#39;&#40;?^:^Run-away catch signature at \&#40;eval \d+\&#41; line &#40;\d+&#41;&#41;&#39;

#   Failed test &#39;Error from line 4&#39;
#   at t/invalid.t line 68.
#          got: undef
#     expected: &#39;4&#39;
# Looks like you failed 6 tests of 15.
t/invalid.t .............. Dubious, test returned 6 &#40;wstat 1536, 0x600&#41;
Failed 6/15 subtests 
t/method.t ............... ok   
t/mx_types_structured.t .. ok   
t/nested.t ............... ok   
t/simple.t ............... ok   
t/types.t ................ ok   

Test Summary Report
-------------------
t/invalid.t            &#40;Wstat: 1536 Tests: 15 Failed: 6&#41;
  Failed tests:  3-8
  Non-zero exit status: 6
Files=10, Tests=58,  6 wallclock secs &#40; 0.05 usr  0.02 sys +  5.68 cusr  0.38 csys =  6.13 CPU&#41;
Result: FAIL
Failed 1/10 test programs. 6/58 subtests failed.
make: *** [test_dynamic] Error 255
[5144][c.wright@fulcrum-chz:TryCatch-1.003000][CPAN-updates⚡]➔ 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;18&nbsp;07:02:24&nbsp;2013</span>
    <span class="description">chisel [...] chizography.net -  Correspondence added</span>
    <span class="time-taken">45 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It&#39;s not the nicest look code I&#39;ve ever written, but here&#39;s a t/invalid.t that *should* still work with 
0.11 &#40;untested&#41; and also pass under 0.12 &#40;tested&#41;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> invalid.t</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use warnings;

use Test::More;
use Test::Exception;
use TryCatch;

require B::Hooks::EndOfScope;
# after 0.11 &#39;Hooks&#39; changed some of our messages
my $hooks_post_011 = &#40;$B::Hooks::EndOfScope::VERSION &gt; 0.11&#41;;

my &#40;$line, $expected_line, $regexp&#41;;

test_for_error&#40;
  qr/^block required after try at .*? line &#40;\d+&#41;\b/, 
  &#34;no block after try&#34;,
  &lt;&lt;&#39;EOC&#39; &#41;;
use TryCatch;

sub foo { }
try \&#38;foo
EOC

is&#40;$line, 4, &#34;Error from line 4&#34;&#41;;

# Its really *really* wierd that this &#39;fixes&#39; things. I blame string evals
eval &#34;use TryCatch; try {} catch&#34; if $] &gt;= 5.011000;

if &#40;$hooks_post_011&#41; {
  $regexp = qr/block required after catch .+at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/ms;
  $expected_line = 9;
}
else {
  $regexp = qr/^block required after catch at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/;
  $expected_line = 5;
}
test_for_error&#40;
  $regexp,
  &#34;no block after catch&#34;,
  &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

try { 1 }
catch 
my $foo = 2;
EOC

is&#40;$line, $expected_line, &#34;Error from line $expected_line&#34;&#41;;

if &#40;$hooks_post_011&#41; {
   $regexp = qr/Parameter expected near &#39;\^&#39; in &#39;\^Err \$e&#39;.+\nsyntax error at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/ms;
   $expected_line = 5;
}
else {
   $regexp = qr/^Parameter expected near &#39;\^&#39; in &#39;\^Err \$e&#39; at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/;
   $expected_line = 4;
}
test_for_error&#40;
   $regexp,
   &#34;invalid catch signature&#34;,
  &lt;&lt;&#39;EOC&#39;&#41;;
# line 1
use TryCatch;

try { }
catch &#40;^Err $e&#41; {}
next;
EOC

is&#40;$line, $expected_line, &#34;Error from line $expected_line&#34;&#41;;

if &#40;$hooks_post_011&#41; {
  $regexp = qr/Run-away catch signature at.+\nMissing right curly or square bracket at \&#40;eval \d+\&#41; line &#40;\d+&#41;/;
  $expected_line = 5;
}
else {
  $regexp = qr/^Run-away catch signature at \&#40;eval \d+\&#41; line &#40;\d+&#41;/;
  $expected_line = 4;
}
test_for_error&#40;
  $regexp,
  &#34;invalid catch signature &#40;missing parenthesis&#41;&#34;,
  &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

try { }
catch &#40; 



{}

1;
EOC

is&#40;$line, $expected_line, &#34;Error from line $expected_line&#34;&#41;;


test_for_error&#40;
  qr/^Can&#39;t locate object method &#34;bar&#34; via package &#34;catch&#34; .*?at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/,
  &#34;bareword between try and catch&#34;,
  &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

try { } bar
catch {}

EOC
is&#40;$line, 3, &#34;Error from line 3&#34;&#41;;

test_for_error&#40;
  qr/^Bareword &#34;catch&#34; not allowed while &#34;strict subs&#34; in use at \&#40;eval \d+\&#41; line &#40;\d+&#41;\b/,
  &#34;catch is not special&#34;, 
  &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

catch;
EOC
is&#40;$line, 3, &#34;Error from line 3&#34;&#41;;


compile_ok&#40;&#34;try is not too reserved&#34;, &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

try =&gt; 1;
EOC


compile_ok&#40;
  &#34;catch is not special&#34;, 
  &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

catch =&gt; 3;
EOC

{
local $TODO = &#39;Sort out POD&#39;;
compile_ok&#40;&#34;POD doesn&#39;t interfer with things.&#34;, &lt;&lt;&#39;EOC&#39;&#41;;
use TryCatch;

try {
}

=head1 POD

=cut
EOC
}

done_testing;

sub test_for_error {
  local $Test::Builder::Level = $Test::Builder::Level + 1;
  local $TODO;
  local $SIG{__WARN__} = sub {};
  my &#40;$re, $msg, $code&#41; = @_;
  try {
    eval $code;
    die $@ if $@;
    fail&#40;$msg&#41;;
  }
  catch &#40;$e&#41; {
    like&#40;$e, $re, $msg&#41;;
    &#40;$line&#41; = &#40;$e =~ /$re/&#41;;
  }
}

sub compile_ok {
  local $Test::Builder::Level = $Test::Builder::Level + 1;
  my &#40;$msg, $code&#41; = @_;
  try {
    eval $code;
    die $@ if $@;
    pass&#40;$msg&#41;;
  }
  catch &#40;$e&#41; {
    diag&#40;$e&#41;;
    fail&#40;$msg&#41;;
  }
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;09&nbsp;08:59:26&nbsp;2013</span>
    <span class="description">KOORCHIK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The same issue. Does not work with B::Hooks::EndOfScope@0.12
With B::Hooks::EndOfScope@0.11 works fine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;11&nbsp;15:59:39&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Requestor ETHER added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;12&nbsp;14:17:20&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Reference by ticket #82312 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;15&nbsp;09:58:27&nbsp;2013</span>
    <span class="description">tomas.zemres [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> tnt [...] netsafe.cz</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">There is fix for this issue

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/tomas-">https://github.com/tomas-</a></span>
zemres/trycatch/commit/789b762743eaab7e90b345296ec0200a3f5be84a
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;24&nbsp;12:33:44&nbsp;2013</span>
    <span class="description">d.thomas [...] its.uq.edu.au -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> d.thomas [...] its.uq.edu.au</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">as indicated in the 1.003001 Change entry
I can confirm now passes tests successfully:
  TryCatch 1.003002
  B-Hooks-EndOfScope-0.12
  perl-5.16.3
  RHEL5 &#38; RHEL6
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
