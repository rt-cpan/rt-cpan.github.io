<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #93358 for Mac-Pasteboard: Parallel tests fail due to clipboard contention</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #93358 for Mac-Pasteboard: Parallel tests fail due to clipboard contention</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Mac-Pasteboard">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Mac-Pasteboard">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Mac-Pasteboard">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Mac-Pasteboard">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please email the <a href="mailto:wyant@cpan.org">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mac-Pasteboard">Mac-Pasteboard CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">93358</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">patched</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Mac-Pasteboard">Mac-Pasteboard</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ether [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-220996-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.006    </td>
  </tr>
  <tr id="CF-220997-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.006_01    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=93358">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1330903" href="/Public/Bug/Display.html?id=93358#txn-1330903">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;13:18:09&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> tests fail: temp files being reused</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1330903/705988/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/705988">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Tests fail when HARNESS_OPTIONS=j9. It looks like you&#39;re re-using the same temp files/directories between tests, which is bad when there is more than one test running at once.  You should create a new tempdir each time, such as what is provided for you in File::Temp.


    --&gt; Working on Mac::Pasteboard
    Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://mirrors.gossamer-threads.com/CPAN/authors/id/W/WY/WYANT/Mac-Pasteboard-0.006.tar.gz">http://mirrors.gossamer-threads.com/CPAN/authors/id/W/WY/WYANT/Mac-Pasteboard-0.006.tar.gz</a></span>
    -&gt; OK
    Unpacking Mac-Pasteboard-0.006.tar.gz
    Entering Mac-Pasteboard-0.006
    Checking configure dependencies from META.json
    Checking if you have Module::Build 0.36 ... Yes &#40;0.4204&#41;
    Configuring Mac-Pasteboard-0.006
    Running Build.PL

    The pbtool script is a front-end for Mac::Pasteboard, for ad-hoc
    manipulation of Mac OS X pasteboards.

    Do you want to install pbtool? [n ]n 
    Created MYMETA.yml and MYMETA.json
    Creating new &#39;Build&#39; script for &#39;Mac-Pasteboard&#39; version &#39;0.006&#39;
    -&gt; OK
    Checking dependencies from MYMETA.json ...
    Checking if you have ExtUtils::CBuilder 0 ... Yes &#40;0.280210&#41;
    Checking if you have strict 0 ... Yes &#40;1.07&#41;
    Checking if you have Carp 0 ... Yes &#40;1.29&#41;
    Checking if you have Encode 0 ... Yes &#40;2.49&#41;
    Checking if you have warnings 0 ... Yes &#40;1.18&#41;
    Checking if you have Scalar::Util 1.01 ... Yes &#40;1.35&#41;
    Checking if you have Test::More 0.88 ... Yes &#40;1.001002&#41;
    Building and testing Mac-Pasteboard-0.006
    Building Mac-Pasteboard
    Pasteboard.xs -&gt; lib/Mac/Pasteboard.xs
    constant-c.inc -&gt; lib/Mac/constant-c.inc
    constant-h.inc -&gt; lib/Mac/constant-h.inc
    constant-xs.inc -&gt; lib/Mac/constant-xs.inc
    pbl.c -&gt; lib/Mac/pbl.c
    pbl.h -&gt; lib/Mac/pbl.h
    ppport.h -&gt; lib/Mac/ppport.h
    cc -Ilib/Mac -I/Users/ether/perl5/perlbrew/perls/18.2/lib/5.18.2/darwin-2level/CORE -DTIGER -c -fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -I/opt/local/include -O3 -o lib/Mac/pbl.o lib/Mac/pbl.c
    cc -Ilib/Mac -I/Users/ether/perl5/perlbrew/perls/18.2/lib/5.18.2/darwin-2level/CORE -DXS_VERSION=&#34;0.006&#34; -DVERSION=&#34;0.006&#34; -DTIGER -c -fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -I/opt/local/include -O3 -o lib/Mac/Pasteboard.o lib/Mac/Pasteboard.c
    ExtUtils::Mkbootstrap::Mkbootstrap&#40;&#39;blib/arch/auto/Mac/Pasteboard/Pasteboard.bs&#39;&#41;
    env MACOSX_DEPLOYMENT_TARGET=10.3 cc -bundle -undefined dynamic_lookup -L/usr/local/lib -L/opt/local/lib -fstack-protector -framework ApplicationServices -o blib/arch/auto/Mac/Pasteboard/Pasteboard.bundle lib/Mac/Pasteboard.o lib/Mac/pbl.o
    t/error.t .. ok
    t/basic.t .. ok
    Pasteboard error -25130 &#40;badPasteboardSyncErr&#41;: The pasteboard has been modified and must be synchronized before use at t/misc.t line 27.
    # Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
    # Looks like your test exited with 2 just after 1.
    t/misc.t ... 
    Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
    All 1 subtests passed 
    t/paste.t .. ok
    t/synch.t .. ok

    #   Failed test &#39;Place text data on the default pasteboard.&#39;
    #   at t/copy.t line 66.
    #          got: &#39;&#39;
    #     expected: &#39;There was a young lady named Bright&#39;

    #   Failed test &#39;Flavor com.apple.traditional-mac-plain-text should be present on the default pasteboard&#39;
    #   at t/copy.t line 69.
    # Looks like you failed 2 tests of 18.
    t/copy.t ... 
    Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
    Failed 2/18 subtests 

    Test Summary Report
    -------------------
    t/misc.t &#40;Wstat: 512 Tests: 1 Failed: 0&#41;
      Non-zero exit status: 2
      Parse errors: No plan found in TAP output
    t/copy.t &#40;Wstat: 512 Tests: 18 Failed: 2&#41;
      Failed tests:  2-3
      Non-zero exit status: 2
    Files=6, Tests=44,  1 wallclock secs &#40; 0.05 usr  0.03 sys +  0.48 cusr  0.28 csys =  0.84 CPU&#41;
    Result: FAIL
    Failed 2/6 test programs. 2/44 subtests failed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331122" href="/Public/Bug/Display.html?id=93358#txn-1331122">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;22:21:29&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1331122/706122/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706122">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 245b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you very much for your report. The reuse was a misguided attempt to be clever in code that needed to be simple and direct. Can&#39;t work on this right away, but it should be days, rather than weeks or months. Feel free to rattle my cage.

Tom
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331123" href="/Public/Bug/Display.html?id=93358#txn-1331123">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;22:21:29&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331125" href="/Public/Bug/Display.html?id=93358#txn-1331125">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;25&nbsp;22:21:57&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Broken in 0.006 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331514" href="/Public/Bug/Display.html?id=93358#txn-1331514">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;26&nbsp;22:58:52&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1331514/706345/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706345">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I initially accepted your temp file diagnosis because I seem to remember playing games with temp files somewhere along the line. But unless it&#39;s deeper than I can see, it&#39;s not this distribution.

What I think is happening is that the purpose of the module is to modify the clipboard using system services, and the different tests all use the same clipboards.

Apple supports multiple clipboards, and even custom and arbitrarily-named ones. But the tests tend to use the Apple-supplied command-line programs &#39;pbcopy&#39; and &#39;pbpaste&#39; to make sure my code did the right thing, and these guys do NOT support arbitrary clipboards. Moreover, each test rings the changes on the clipboards that &#39;pbcopy&#39; and &#39;pbpaste&#39; DO support.

At least sometimes I have been able to identify the source of the faulty data as coming from another of the test files. Yes, this would happen if I were reusing temp files, but reusing system-supplied clipboards would have the same effect, and I don&#39;t see any way around using them to test code that modifies clipboards.

In short, I am pretty sure that the tests of this module do not use temp files at any level accessible to your suggested File::Temp solution. If you can come up with a patch that demonstrates otherwise, I would certainly give it serious consideration.

Failing that, the only thing I can think of to do at the moment is to combine everything &#40;except maybe basic.t&#41; into one test file, which I would prefer not to do for reasons of code organization. But I&#39;m not writing any code tonight. Maybe tomorrow or the next day I will come up with something better, or maybe you can make clear to me what I do not see at the moment.

Tom
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331727" href="/Public/Bug/Display.html?id=93358#txn-1331727">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;27&nbsp;11:59:45&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93358] tests fail: temp files being reused</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 27 Feb 2014 08:59:34 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Tom Wyant via RT &lt;bug-Mac-Pasteboard [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1331727/706473/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706473">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 478b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Feb 26, 2014 at 10:58:53PM -0500, Tom Wyant via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What I think is happening is that the purpose of the module is to modify the clipboard using system services, and the different tests all use the same clipboards.
</div>
There is a newish mechanism in Test::Harness to indicate in tests &#34;these
tests should not be run in parallel&#34;; I&#39;ll update this ticket when I find
out more &#40;it may not be fully functional yet, but this is a good
opportunity to help make it so!&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1331731" href="/Public/Bug/Display.html?id=93358#txn-1331731">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;27&nbsp;12:05:15&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1331731/706477/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706477">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 145b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">leont on #toolchain also made a very intelligent suggestion that I hadn&#39;t thought of: use a lock file around the places where you must go serial.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332152" href="/Public/Bug/Display.html?id=93358#txn-1332152">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;28&nbsp;16:13:23&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1332152/706705/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706705">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 441b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I looked at the stuff in TAP::Harness, but could not find any way to influence the &#39;rules&#39; setting, short of writing my own Makefile fragments and overloading the relevant Module::Build functionality.

As for the lock file thing, there&#39;s no archive of #toolchain that I can find, and using a lock file seems like overkill anyway.

What I&#39;m leaning toward right now is just consolidating all the tests that touch the clipboard into one file.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332225" href="/Public/Bug/Display.html?id=93358#txn-1332225">#</a>      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;28&nbsp;19:52:17&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93358] tests fail: temp files being reused</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 Feb 2014 16:52:07 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Tom Wyant via RT &lt;bug-Mac-Pasteboard [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1332225/706736/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706736">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 333b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Feb 28, 2014 at 04:13:23PM -0500, Tom Wyant via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As for the lock file thing, there&#39;s no archive of #toolchain that I can find, and using a lock file seems like overkill anyway.
&gt; What I&#39;m leaning toward right now is just consolidating all the tests that touch the clipboard into one file.
</div>
That would work too :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332652" href="/Public/Bug/Display.html?id=93358#txn-1332652">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;10:35:38&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1332652/706978/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706978">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 288b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Low tech fix went to PAUSE yesterday as version 0.006_01. There&#39;s a subsequent version &#40;_02&#41; which was because I wanted to serve notice of intent to get rid of the question in the configuration scripts, and I figure fiddling with the tool chain needs to go through a development release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332654" href="/Public/Bug/Display.html?id=93358#txn-1332654">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;10:35:38&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332655" href="/Public/Bug/Display.html?id=93358#txn-1332655">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;10:35:39&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Fixed in 0.006_01 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1332683" href="/Public/Bug/Display.html?id=93358#txn-1332683">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;02&nbsp;12:09:01&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #93358] tests fail: temp files being reused</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 2 Mar 2014 09:08:48 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Tom Wyant via RT &lt;bug-Mac-Pasteboard [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Karen Etheridge &lt;ether [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1332683/706994/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/706994">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 487b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Mar 02, 2014 at 10:35:38AM -0500, Tom Wyant via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93358">https://rt.cpan.org/Ticket/Display.html?id=93358</a></span> &gt;
&gt; 
&gt; Low tech fix went to PAUSE yesterday as version 0.006_01. There&#39;s a subsequent version &#40;_02&#41; which was because I wanted to serve notice of intent to get rid of the question in the configuration scripts, and I figure fiddling with the tool chain needs to go through a development release.
</div>
Awesome, it looks good and the install proceeded smoothly! thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1333605" href="/Public/Bug/Display.html?id=93358#txn-1333605">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;15:37:48&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1333605/707477/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/707477">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 742b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 02 12:09:01 2014, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun, Mar 02, 2014 at 10:35:38AM -0500, Tom Wyant via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=93358">https://rt.cpan.org/Ticket/Display.html?id=93358</a></span> &gt;
&gt; &gt;
&gt; &gt; Low tech fix went to PAUSE yesterday as version 0.006_01. There&#39;s a
&gt; &gt; subsequent version &#40;_02&#41; which was because I wanted to serve notice
&gt; &gt; of intent to get rid of the question in the configuration scripts,
&gt; &gt; and I figure fiddling with the tool chain needs to go through a
&gt; &gt; development release.
</div>&gt; 
&gt; Awesome, it looks good and the install proceeded smoothly! thanks!
</div>
You&#39;re welcome, and thank you for reporting this. I typically let development versions sit for a week so see if the CPAN testers turn up anything, and then release a production version.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1333607" href="/Public/Bug/Display.html?id=93358#txn-1333607">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;04&nbsp;15:38:35&nbsp;2014</span>
    <span class="description">wyant [...] cpan.org -  Subject changed from &#39;tests fail: temp files being reused&#39; to &#39;Parallel tests fail due to clipboard contention&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.466505</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
