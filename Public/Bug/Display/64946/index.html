<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #64946 for Email-Abstract: Fails if MIME::Entity 5.500 is installed</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #64946 for Email-Abstract: Fails if MIME::Entity 5.500 is installed</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Email-Abstract/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Email-Abstract/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Email-Abstract/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Email-Abstract/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/rjbs/Email-Abstract/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Email-Abstract">Email-Abstract CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">64946</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Email-Abstract/Active/">Email-Abstract</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-11900-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
3.003    </td>
  </tr>
  <tr id="CF-11901-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;20&nbsp;00:50:52&nbsp;2011</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails if MIME::Entity 5.500 is installed</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As per subject.

It would be helpful to declare an optional dependency whenever this
optional dependency is already installed. Then analysis.cpantesters.org
would unveil the correlation between version numbers and fails.

Anyway, it&#39;s my personal observation which I just verified on one of my
smokers.

HTH, Best,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;25&nbsp;18:59:59&nbsp;2011</span>
    <span class="description">rt.cpan [...] sartak.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can confirm that installing the previous release of MIME-tools &#40;5.428&#41;
fixes the test failures. I&#39;ve attached the output of the test results
with 5.500. Seems that there are spurious \r in strings returned by
MIME::Entity, but I&#39;m not sure whose bug it is.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> abstract-fails.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">You have make /usr/bin/make
You have LWP 5.837
You have /usr/bin/tar: bsdtar 2.6.2 - libarchive 2.6.2
You have /usr/bin/unzip
Searching Email::Abstract on cpanmetadb ...
--&gt; Working on Email::Abstract
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Email-Abstract-3.003.tar.gz">http://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Email-Abstract-3.003.tar.gz</a></span> ... OK
Unpacking Email-Abstract-3.003.tar.gz
x Email-Abstract-3.003/
x Email-Abstract-3.003/Changes
x Email-Abstract-3.003/lib/
x Email-Abstract-3.003/LICENSE
x Email-Abstract-3.003/Makefile.PL
x Email-Abstract-3.003/MANIFEST
x Email-Abstract-3.003/META.yml
x Email-Abstract-3.003/t/
x Email-Abstract-3.003/t/abstractions.t
x Email-Abstract-3.003/t/example.msg
x Email-Abstract-3.003/t/lib/
x Email-Abstract-3.003/t/subclass.t
x Email-Abstract-3.003/t/unknown.t
x Email-Abstract-3.003/t/lib/Test/
x Email-Abstract-3.003/t/lib/Test/EmailAbstract.pm
x Email-Abstract-3.003/lib/Email/
x Email-Abstract-3.003/lib/Email/Abstract/
x Email-Abstract-3.003/lib/Email/Abstract.pm
x Email-Abstract-3.003/lib/Email/Abstract/EmailMIME.pm
x Email-Abstract-3.003/lib/Email/Abstract/EmailSimple.pm
x Email-Abstract-3.003/lib/Email/Abstract/MailInternet.pm
x Email-Abstract-3.003/lib/Email/Abstract/MailMessage.pm
x Email-Abstract-3.003/lib/Email/Abstract/MIMEEntity.pm
x Email-Abstract-3.003/lib/Email/Abstract/Plugin.pm
Entering Email-Abstract-3.003
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;6.56&#41;
Configuring Email-Abstract-3.003 ... Running Makefile.PL
Checking if your kit is complete...
Looks good
Writing Makefile for Email::Abstract
OK
Finding PREREQ from Makefile ...
Checking if you have Scalar::Util 0 ... Yes &#40;1.22&#41;
Checking if you have Test::More 0.47 ... Yes &#40;0.96&#41;
Checking if you have Module::Pluggable 1.5 ... Yes &#40;3.9&#41;
Checking if you have Email::Simple 1.91 ... Yes &#40;2.100&#41;
Checking if you have MRO::Compat 0 ... Yes &#40;0.11&#41;
Building and testing Email-Abstract-3.003 ... cp lib/Email/Abstract/Plugin.pm blib/lib/Email/Abstract/Plugin.pm
cp lib/Email/Abstract/MailInternet.pm blib/lib/Email/Abstract/MailInternet.pm
cp lib/Email/Abstract/EmailMIME.pm blib/lib/Email/Abstract/EmailMIME.pm
cp lib/Email/Abstract/EmailSimple.pm blib/lib/Email/Abstract/EmailSimple.pm
cp lib/Email/Abstract/MailMessage.pm blib/lib/Email/Abstract/MailMessage.pm
cp lib/Email/Abstract/MIMEEntity.pm blib/lib/Email/Abstract/MIMEEntity.pm
cp lib/Email/Abstract.pm blib/lib/Email/Abstract.pm
Manifying blib/man3/Email::Abstract::Plugin.3
Manifying blib/man3/Email::Abstract::MailInternet.3
Manifying blib/man3/Email::Abstract::EmailSimple.3
Manifying blib/man3/Email::Abstract::EmailMIME.3
Manifying blib/man3/Email::Abstract::MIMEEntity.3
Manifying blib/man3/Email::Abstract::MailMessage.3
Manifying blib/man3/Email::Abstract.3
PERL_DL_NONLAZY=1 /Users/sartak/.perl/perls/perl-5.12.3/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
# testing Email::MIME with 1.906
# testing Email::Simple with 2.100
# testing MIME::Entity with 5.500

#   Failed test &#39;Subject OK with MIME::Entity&#39;
#   at t/lib/Test/EmailAbstract.pm line 40.
#          got: &#39;Re: Defect in XBD lround&#39;
#     expected: &#39;Re: Defect in XBD lround&#39;

#   Failed test &#39;MIME::Entity: received headers match up list context get_header&#39;
#   at t/lib/Test/EmailAbstract.pm line 61.
#     Structures begin differing at:
#          $got-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;
#     $expected-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;

#   Failed test &#39;Subject OK with MIME::Entity&#39;
#   at t/lib/Test/EmailAbstract.pm line 40.
#          got: &#39;Re: Defect in XBD lround&#39;
#     expected: &#39;Re: Defect in XBD lround&#39;

#   Failed test &#39;MIME::Entity: received headers match up list context get_header&#39;
#   at t/lib/Test/EmailAbstract.pm line 61.
#     Structures begin differing at:
#          $got-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;
#     $expected-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;

#   Failed test &#39;Subject OK with MIME::Entity&#39;
#   at t/lib/Test/EmailAbstract.pm line 40.
#          got: &#39;Re: Defect in XBD lround&#39;
#     expected: &#39;Re: Defect in XBD lround&#39;

#   Failed test &#39;MIME::Entity: received headers match up list context get_header&#39;
#   at t/lib/Test/EmailAbstract.pm line 61.
#     Structures begin differing at:
#          $got-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;
#     $expected-&gt;[0] = &#39;from mailman.opengroup.org &#40;[192.153.166.9]&#41; by deep-dark-truthful-mirror.pad with smtp &#40;Exim 3.36 #1 &#40;Debian&#41;&#41; id 18Buh5-0006Zr-00 for &lt;posix@simon-cozens.org&gt;; Wed, 13 Nov 2002 10:24:23 +0000&#39;
# testing Mail::Internet with 2.07
# Looks like you failed 6 tests of 163.
t/abstractions.t .. 
Dubious, test returned 6 &#40;wstat 1536, 0x600&#41;
Failed 6/163 subtests 
	&#40;less 23 skipped subtests: 134 okay&#41;
t/subclass.t ...... ok
t/unknown.t ....... ok

Test Summary Report
-------------------
t/abstractions.t &#40;Wstat: 1536 Tests: 163 Failed: 6&#41;
  Failed tests:  50, 52, 58, 60, 65, 67
  Non-zero exit status: 6
Files=3, Tests=171,  1 wallclock secs &#40; 0.04 usr  0.01 sys +  0.35 cusr  0.05 csys =  0.45 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 6/171 subtests failed.
make: *** [test_dynamic] Error 255
FAIL
! Testing Email-Abstract-3.003 failed but installing it anyway.
Manifying blib/man3/Email::Abstract::Plugin.3
Manifying blib/man3/Email::Abstract::MailInternet.3
Manifying blib/man3/Email::Abstract::EmailSimple.3
Manifying blib/man3/Email::Abstract::EmailMIME.3
Manifying blib/man3/Email::Abstract::MIMEEntity.3
Manifying blib/man3/Email::Abstract::MailMessage.3
Manifying blib/man3/Email::Abstract.3
Appending installation info to /Users/sartak/.perl/perls/perl-5.12.3/lib/5.12.3/darwin-2level/perllocal.pod
Successfully reinstalled Email-Abstract-3.003
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;25&nbsp;19:00:01&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;12&nbsp;14:58:08&nbsp;2011</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I believe this may be a regression in MIME::Entity and will contact the maintainer.

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;17&nbsp;13:26:07&nbsp;2011</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-02-12 14:58:08, RJBS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I believe this may be a regression in MIME::Entity and will contact
&gt; the maintainer.
</div>
Confirmed.  MIME::Entity 5.501 will correct the problem.

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;02&nbsp;22:08:31&nbsp;2011</span>
    <span class="description">rjbs [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">fixed in 3.004

-- 
rjbs
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;02&nbsp;22:08:32&nbsp;2011</span>
    <span class="description">rjbs [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
