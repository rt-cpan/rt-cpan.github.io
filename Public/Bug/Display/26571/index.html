<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #26571 for PAR-Packer: [PAR  0973] Create an exe including image::magick, Dll problem</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #26571 for PAR-Packer: [PAR  0973] Create an exe including image::magick, Dll problem</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PAR-Packer">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PAR-Packer">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PAR-Packer">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PAR-Packer">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">26571</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PAR-Packer">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
djibrilo [...] yahoo.fr

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=26571">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-312361" href="/Public/Bug/Display.html?id=26571#txn-312361">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;23&nbsp;06:32:43&nbsp;2007</span>
    <span class="description">djibrilo [...] yahoo.fr -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [PAR  0973] Create an exe including image::magick, Dll problem </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 Apr 2007 12:22:36 +0200 &#40;CEST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> djibril ousmanou &lt;djibrilo [...] yahoo.fr&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/312361/142262/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/142262">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
I am using PAR module [PAR-0.973 ] and I have a problem when I try to build an exe of a perl script wich use Image::Magick Module.
perl -v :
This is perl, v5.8.8 built for MSWin32-x86-multi-thread
&#40;with 33 registered patches, see perl -V for more detail&#41;

Copyright 1987-2006, Larry Wall

Binary build 819 [267479] provided by ActiveState <span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Aug 29 2006 12:42:41

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
OS :
I have the problem on Win2000, Windows Vista
windows 2000 , uname -a :
CYGWIN_NT-5.0 CEZEMBRE 1.5.24&#40;0.156/4/2&#41; 2007-01-31 10:57 i686 Cygwin

That&#39;s the script convert.pl :
#!/usr/bin/perl -w

use strict;
use Carp;
use Image::Magick;
use Cwd;

my $rep = getcwd&#40;&#41;;
my @fic_pdf = lister_fichiers&#40;$rep&#41;;


foreach my $file_pdf &#40;@fic_pdf&#41; {
    my $image = new Image::Magick;
    if &#40;$file_pdf =~/&#40;.+&#41;\.pdf$/i&#41;{
      my $name_jpg = $1.&#34;.jpg&#34;;
        $image-&gt;Read&#40;$file_pdf&#41;;
        my &#40;$largeur,$hauteur&#41; = $image-&gt;Get&#40;qw&#40;width height&#41;&#41;;    #Recupere les dimensions de l&#39;image
        $image-&gt;Annotate&#40;x =&gt; $largeur, y =&gt; $hauteur,
                         pointsize =&gt; 10, 
                         fill      =&gt; &#39;black&#39;, 
                         text      =&gt; &#39;IMAXIO, division Diagnogene&#39;
                         &#41;;
        $image-&gt;Write&#40;$name_jpg&#41;;
    }
}

perl convert.pl is working but when I make an exe when this command :
pp -o convert.exe convert.pl
The exe in create but When I click on the exe, I have this error message :
dynamic link library CORE_RL_magick_.dll is not find in .....&#40;environment variable&#41;.

If I execute this command, 
pp -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_magick_.dll -l C:\Perl\site\lib\auto\Image\Magick\X11.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_zlib_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_bzlib_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_lcms_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_tiff_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_jpeg_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_ttf_.dll -o toto.exe convert_pdf.pl

I don&#39;t have error message but the exe doesn&#39;t make anything.

Best Regards

Djibril







             
---------------------------------
 Découvrez une nouvelle façon d&#39;obtenir des réponses à toutes vos questions ! Profitez des connaissances, des opinions et des expériences des internautes sur Yahoo! Questions/Réponses.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/312361/142263/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/142263">with headers</a>
<br />
<span class="downloadcontenttype">text/html 6.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-312364" href="/Public/Bug/Display.html?id=26571#txn-312364">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;23&nbsp;06:42:48&nbsp;2007</span>
    <span class="description">djibrilo [...] yahoo.fr -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE : [rt.cpan.org #26571] AutoReply: [PAR  0973] Create an exe including image::magick, Dll problem </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 23 Apr 2007 12:42:16 +0200 &#40;CEST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> djibril ousmanou &lt;djibrilo [...] yahoo.fr&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/312364/142267/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/142267">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just want to say that I had not problem on Debian linux. Just on windows2000 and vista.

Bugs in PAR via RT &lt;bug-PAR@rt.cpan.org&gt; a écrit : 
Greetings,

This message has been automatically generated in response to the
creation of a trouble ticket regarding:
 &#34;[PAR  0973] Create an exe including image::magick, Dll problem&#34;, 
a summary of which appears below.

There is no need to reply to this message right now.  Your ticket has been
assigned an ID of [rt.cpan.org #26571].  Your ticket is accessible
on the web at:

    <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26571">http://rt.cpan.org/Ticket/Display.html?id=26571</a></span>

Please include the string:

         [rt.cpan.org #26571]

in the subject line of all future correspondence about this issue. To do so, 
you may reply to this message.

                        Thank you,
                        bug-PAR@rt.cpan.org

-------------------------------------------------------------------------
Hi,
I am using PAR module [PAR-0.973 ] and I have a problem when I try to build an exe of a perl script wich use Image::Magick Module.
perl -v :
This is perl, v5.8.8 built for MSWin32-x86-multi-thread
&#40;with 33 registered patches, see perl -V for more detail&#41;

Copyright 1987-2006, Larry Wall

Binary build 819 [267479] provided by ActiveState <span class="clickylink"><a target="new" rel="nofollow" href="http://www.ActiveState.com">http://www.ActiveState.com</a></span>
Built Aug 29 2006 12:42:41

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.
OS :
I have the problem on Win2000, Windows Vista
windows 2000 , uname -a :
CYGWIN_NT-5.0 CEZEMBRE 1.5.24&#40;0.156/4/2&#41; 2007-01-31 10:57 i686 Cygwin

That&#39;s the script convert.pl :
#!/usr/bin/perl -w

use strict;
use Carp;
use Image::Magick;
use Cwd;

my $rep = getcwd&#40;&#41;;
my @fic_pdf = lister_fichiers&#40;$rep&#41;;


foreach my $file_pdf &#40;@fic_pdf&#41; {
    my $image = new Image::Magick;
    if &#40;$file_pdf =~/&#40;.+&#41;\.pdf$/i&#41;{
      my $name_jpg = $1.&#34;.jpg&#34;;
        $image-&gt;Read&#40;$file_pdf&#41;;
        my &#40;$largeur,$hauteur&#41; = $image-&gt;Get&#40;qw&#40;width height&#41;&#41;;    #Recupere les dimensions de l&#39;image
        $image-&gt;Annotate&#40;x =&gt; $largeur, y =&gt; $hauteur,
                         pointsize =&gt; 10, 
                         fill      =&gt; &#39;black&#39;, 
                         text      =&gt; &#39;IMAXIO, division Diagnogene&#39;
                         &#41;;
        $image-&gt;Write&#40;$name_jpg&#41;;
    }
}

perl convert.pl is working but when I make an exe when this command :
pp -o convert.exe convert.pl
The exe in create but When I click on the exe, I have this error message :
dynamic link library CORE_RL_magick_.dll is not find in .....&#40;environment variable&#41;.

If I execute this command, 
pp -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_magick_.dll -l C:\Perl\site\lib\auto\Image\Magick\X11.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_zlib_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_bzlib_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_lcms_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_tiff_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_jpeg_.dll -l C:\Perl\site\lib\auto\Image\Magick\CORE_RL_ttf_.dll -o toto.exe convert_pdf.pl

I don&#39;t have error message but the exe doesn&#39;t make anything.

Best Regards

Djibril







             
---------------------------------
 Découvrez une nouvelle façon d&#39;obtenir des réponses à toutes vos questions ! Profitez des connaissances, des opinions et des expériences des internautes sur Yahoo! Questions/Réponses.


             
---------------------------------
 Découvrez une nouvelle façon d&#39;obtenir des réponses à toutes vos questions ! Profitez des connaissances, des opinions et des expériences des internautes sur Yahoo! Questions/Réponses.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/312364/142268/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/142268">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-328807" href="/Public/Bug/Display.html?id=26571#txn-328807">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;24&nbsp;12:37:32&nbsp;2007</span>
    <span class="description">smueller [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/328807/151024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/151024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I don&#39;t have a copy of Windows on any of my computers any more, so I
can&#39;t actually track down what&#39;s happening.

However, I remember that you are certainly not the first person to have
problems with packaging ImageMagick using PAR. Many problems encountered
are related to how ImageMagick loads its DLLs from other DLLs. PAR can&#39;t
track down the DLL dependencies and you have to give them by hand using
-l. But I guess you got that far yourself since you tried using -l with
the ImageMagick DLLs.

Now, another problem might be what happens upon extraction from the
archive. The file name or directory structure or location of the DLLs
might be somehow not what ImageMagick expects.

There has been quite some discussion on the PAR at perl dot org mailing
list some time ago. I remember that specifically Glenn Linderman had
been doing some significant research, but I can&#39;t recall whether he
finally made it work or not. Perhaps you can search the archive of the
mailing list for help.

If you find out what&#39;s going wrong, please send a quick summary to this
place or add it to the PAR FAQ at <span class="clickylink"><a target="new" rel="nofollow" href="http://par.perl.org">http://par.perl.org</a></span> so others can benefit.

Good luck!

Best regards,
Steffen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-328808" href="/Public/Bug/Display.html?id=26571#txn-328808">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;24&nbsp;12:37:33&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-344561" href="/Public/Bug/Display.html?id=26571#txn-344561">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;15&nbsp;09:29:24&nbsp;2007</span>
    <span class="description">smueller [...] cpan.org -  Queue changed from PAR to PAR-Packer</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-464489" href="/Public/Bug/Display.html?id=26571#txn-464489">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;22&nbsp;02:51:40&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> PJF [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/464489/228713/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/228713">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Image::Magick is notoriously difficult to package up with pp.  That&#39;s
because the code that scans dependencies can&#39;t pick up all the .dlls
required.  I&#39;ve also seen reports that the default Image::Magick install
depends upon registry keys under Windows, and there&#39;s no easy way to
pack these into a .par file.

Luckily, there&#39;s a solution to both.

If you&#39;re using ActiveState Perl, you&#39;ll want to grab the Image-Magick
distribution from <span class="clickylink"><a target="new" rel="nofollow" href="http://www.bribes.org/perl/ppmdir.html">http://www.bribes.org/perl/ppmdir.html</a></span> .  This doesn&#39;t
depend upon registry values, and puts all the .dll files into
c:/perl/... where they&#39;re easier to find.

Secondly, you&#39;ll need to tell pp to include those extra .dll files using
the -l switch when you package your program.  In my experience all the
CORE_RL_ files, as well as the X11.dll files are required for
Image::Magick to work.  You may also need to include some of the
IM_MOD_RL_ .dlls, depending upon which image formats you&#39;re using.

If you want an example build-script, see
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/src/PJF/App-SweeperBot-0.02/MakeExe.pl">http://search.cpan.org/src/PJF/App-SweeperBot-0.02/MakeExe.pl</a></span> which is
what I use to build my minesweeper playing robot &#40;
<span class="clickylink"><a target="new" rel="nofollow" href="http://sweeperbot.org/&#41;">http://sweeperbot.org/&#41;</a></span> , which uses Image::Magick as part of its
image-recognition routines.

Since this seems to come up regularly, it would be lovely if pp/scandeps
had a way of realising that Image::Magick depends upon the extra files,
but unfortunately I won&#39;t have the opportunity to write a patch in the
foreseeable future. ;&#40;

Cheerio,

   Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-756712" href="/Public/Bug/Display.html?id=26571#txn-756712">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;31&nbsp;14:28:09&nbsp;2010</span>
    <span class="description">DJIBEL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/756712/391277/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/391277">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 527b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Another Way to resolv this problem is to download PAR::Packer and
compile it using gcc for example &#40;In Windows&#41;.
you have to download the latest version of Image::magick in the website
and during the installation, install the Perl Image Magick too.

NB : You have to use the latest version of ActivePerl that PerlMagick
use in the web site.

Website : <span class="clickylink"><a target="new" rel="nofollow" href="http://www.imagemagick.org/script/binary-releases.php#windows">http://www.imagemagick.org/script/binary-releases.php#windows</a></span>
Use ImageMagick-6.6.0-10-Q16-windows-dll.exe for example.

After that, the packaging with PAR::Packer will be OK.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.435207</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
