<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #120748 for Net-DNS: Net::DNS::Resolver::MSWin32 critical issue</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #120748 for Net-DNS: Net::DNS::Resolver::MSWin32 critical issue</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-DNS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-DNS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-DNS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-DNS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">120748</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-DNS">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ZDM [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=120748">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712366" href="/Public/Bug/Display.html?id=120748#txn-1712366">#</a>      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;24&nbsp;21:57:06&nbsp;2017</span>
    <span class="description">ZDM [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712366/919984/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/919984">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 185b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">require Net::DNS::Resolver::MSWin32;
Bareword &#34;KEY_READ&#34; not allowed while &#34;strict subs&#34; in use at d:/devel/perl/perl/site/lib/Net/DNS/Resolver/MSWin32.pm line 66.

Please, fix imports.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712385" href="/Public/Bug/Display.html?id=120748#txn-1712385">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;05:57:04&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712385/919995/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/919995">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 356b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Mar 24 21:57:06 2017, ZDM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; require Net::DNS::Resolver::MSWin32;
&gt; Bareword &#34;KEY_READ&#34; not allowed while &#34;strict subs&#34; in use at
&gt; d:/devel/perl/perl/site/lib/Net/DNS/Resolver/MSWin32.pm line 66.
&gt; 
&gt; Please, fix imports.
</div>
OS version ?
Compiler ?
Perl version ?
Net::DNS version ?
Win32::TieRegistry version ?

All relevant, none specified
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712386" href="/Public/Bug/Display.html?id=120748#txn-1712386">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;05:57:05&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712389" href="/Public/Bug/Display.html?id=120748#txn-1712389">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:04:03&nbsp;2017</span>
    <span class="description">dzagashev [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #120748] Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Mar 2017 12:03:34 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;dzagashev [...] gmail.com&#34; &lt;dzagashev [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712389/919998/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/919998">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 781b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OS - windows 10 x64;
compiler - mingw gcc 4.9.2;
perl - strawberry perl 5.24.1 x64;
Net::DNS - 1.09;
TieRegistry - latest;

you just need to use full constant name $Win32::TieRegistry:: in lines
66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
constants wasn&#39;t imported.

On 25.03.2017 11:57, Dick Franks via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt; 
&gt; On Fri Mar 24 21:57:06 2017, ZDM wrote:
<div class="message-stanza open">&gt;&gt; require Net::DNS::Resolver::MSWin32;
&gt;&gt; Bareword &#34;KEY_READ&#34; not allowed while &#34;strict subs&#34; in use at
&gt;&gt; d:/devel/perl/perl/site/lib/Net/DNS/Resolver/MSWin32.pm line 66.
&gt;&gt;
&gt;&gt; Please, fix imports.
</div>&gt; 
&gt; OS version ?
&gt; Compiler ?
&gt; Perl version ?
&gt; Net::DNS version ?
&gt; Win32::TieRegistry version ?
&gt; 
&gt; All relevant, none specified
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712392" href="/Public/Bug/Display.html?id=120748#txn-1712392">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:26:39&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712392/920001/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920001">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 561b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Mar 25 06:04:03 2017, dzagashev@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OS - windows 10 x64;
&gt; compiler - mingw gcc 4.9.2;
&gt; perl - strawberry perl 5.24.1 x64;
&gt; Net::DNS - 1.09;
&gt; TieRegistry - latest;
&gt; 
&gt; you just need to use full constant name $Win32::TieRegistry:: in lines
&gt; 66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
&gt; constants wasn&#39;t imported.
</div>
Are you telling me that the import at line 28 no longer works?

Even if we steer round the problem in the way you suggest, I would like to know why we are doing so.

Thanks for rapid response.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712395" href="/Public/Bug/Display.html?id=120748#txn-1712395">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:46:17&nbsp;2017</span>
    <span class="description">dzagashev [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #120748] Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Mar 2017 12:45:55 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;dzagashev [...] gmail.com&#34; &lt;dzagashev [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712395/920004/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920004">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 779b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Error message says, that imported constant is not available.
So, problem in import.

On 25.03.2017 12:26, Dick Franks via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt; 
&gt; On Sat Mar 25 06:04:03 2017, dzagashev@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; OS - windows 10 x64;
&gt;&gt; compiler - mingw gcc 4.9.2;
&gt;&gt; perl - strawberry perl 5.24.1 x64;
&gt;&gt; Net::DNS - 1.09;
&gt;&gt; TieRegistry - latest;
&gt;&gt;
&gt;&gt; you just need to use full constant name $Win32::TieRegistry:: in lines
&gt;&gt; 66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
&gt;&gt; constants wasn&#39;t imported.
</div>&gt; 
&gt; Are you telling me that the import at line 28 no longer works?
&gt; 
&gt; Even if we steer round the problem in the way you suggest, I would like to know why we are doing so.
&gt; 
&gt; Thanks for rapid response.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712398" href="/Public/Bug/Display.html?id=120748#txn-1712398">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:48:52&nbsp;2017</span>
    <span class="description">dzagashev [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #120748] Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Mar 2017 12:48:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;dzagashev [...] gmail.com&#34; &lt;dzagashev [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712398/920007/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920007">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 922b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">the problem is, that you call import method manually, this happens on
execution phase, but in compilation phase this constant is not available.
You should put require and import call in BEGIN block or use full
constants names.

On 25.03.2017 12:26, Dick Franks via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt; 
&gt; On Sat Mar 25 06:04:03 2017, dzagashev@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; OS - windows 10 x64;
&gt;&gt; compiler - mingw gcc 4.9.2;
&gt;&gt; perl - strawberry perl 5.24.1 x64;
&gt;&gt; Net::DNS - 1.09;
&gt;&gt; TieRegistry - latest;
&gt;&gt;
&gt;&gt; you just need to use full constant name $Win32::TieRegistry:: in lines
&gt;&gt; 66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
&gt;&gt; constants wasn&#39;t imported.
</div>&gt; 
&gt; Are you telling me that the import at line 28 no longer works?
&gt; 
&gt; Even if we steer round the problem in the way you suggest, I would like to know why we are doing so.
&gt; 
&gt; Thanks for rapid response.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712401" href="/Public/Bug/Display.html?id=120748#txn-1712401">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:51:21&nbsp;2017</span>
    <span class="description">dzagashev [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #120748] Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Mar 2017 12:51:00 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;dzagashev [...] gmail.com&#34; &lt;dzagashev [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712401/920010/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920010">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 790b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">or write KEY_READ&#40;&#41; instead of bareword KEY_READ.
compiler can;t understand, what you mean ;-&#41;

On 25.03.2017 12:26, Dick Franks via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt; 
&gt; On Sat Mar 25 06:04:03 2017, dzagashev@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; OS - windows 10 x64;
&gt;&gt; compiler - mingw gcc 4.9.2;
&gt;&gt; perl - strawberry perl 5.24.1 x64;
&gt;&gt; Net::DNS - 1.09;
&gt;&gt; TieRegistry - latest;
&gt;&gt;
&gt;&gt; you just need to use full constant name $Win32::TieRegistry:: in lines
&gt;&gt; 66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
&gt;&gt; constants wasn&#39;t imported.
</div>&gt; 
&gt; Are you telling me that the import at line 28 no longer works?
&gt; 
&gt; Even if we steer round the problem in the way you suggest, I would like to know why we are doing so.
&gt; 
&gt; Thanks for rapid response.
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712404" href="/Public/Bug/Display.html?id=120748#txn-1712404">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;06:58:58&nbsp;2017</span>
    <span class="description">dzagashev [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #120748] Net::DNS::Resolver::MSWin32 critical issue</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 25 Mar 2017 12:58:33 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-DNS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;dzagashev [...] gmail.com&#34; &lt;dzagashev [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712404/920013/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920013">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">better will be to not call import, but use full names
Win32::TieRegistry::KEY_READ&#40;&#41;.

this will be faster.

On 25.03.2017 12:51, dzagashev@gmail.com via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt; 
&gt; or write KEY_READ&#40;&#41; instead of bareword KEY_READ.
&gt; compiler can;t understand, what you mean ;-&#41;
&gt; 
&gt; On 25.03.2017 12:26, Dick Franks via RT wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=120748">https://rt.cpan.org/Ticket/Display.html?id=120748</a></span> &gt;
&gt;&gt;
&gt;&gt; On Sat Mar 25 06:04:03 2017, dzagashev@gmail.com wrote:
<div class="message-stanza open">&gt;&gt;&gt; OS - windows 10 x64;
&gt;&gt;&gt; compiler - mingw gcc 4.9.2;
&gt;&gt;&gt; perl - strawberry perl 5.24.1 x64;
&gt;&gt;&gt; Net::DNS - 1.09;
&gt;&gt;&gt; TieRegistry - latest;
&gt;&gt;&gt;
&gt;&gt;&gt; you just need to use full constant name $Win32::TieRegistry:: in lines
&gt;&gt;&gt; 66, 70 and 78 of MSWin32.pm, this works. Or clarify, why TieRegistry
&gt;&gt;&gt; constants wasn&#39;t imported.
</div>&gt;&gt;
&gt;&gt; Are you telling me that the import at line 28 no longer works?
&gt;&gt;
&gt;&gt; Even if we steer round the problem in the way you suggest, I would like to know why we are doing so.
&gt;&gt;
&gt;&gt; Thanks for rapid response.
&gt;&gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712407" href="/Public/Bug/Display.html?id=120748#txn-1712407">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;25&nbsp;07:23:02&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712407/920016/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920016">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 54b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I will send you a modified version for you to test.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712662" href="/Public/Bug/Display.html?id=120748#txn-1712662">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;27&nbsp;09:39:29&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712662/920155/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920155">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Mar 24 21:57:06 2017, ZDM wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; require Net::DNS::Resolver::MSWin32;
&gt; Bareword &#34;KEY_READ&#34; not allowed while &#34;strict subs&#34; in use at
&gt; d:/devel/perl/perl/site/lib/Net/DNS/Resolver/MSWin32.pm line 66.
&gt; 
&gt; Please, fix imports.
</div>
The compiler elects to treat the bare word as a quoted string. Tie::Registry, for reasons of its own, accepts {Access =&gt; &#39;KEY_READ&#39;} as an alternative to the value of the imported constant. Although obviously wrong, the failed import therefore has no material effect beyond creating unwelcome compiler noise.

Testing and subsequent analysis exposed four further bugs:

1&#41; The local domain name is retrieved but never appears in the searchlist.

2&#41; Search list entries differing only by the trailing &#39;.&#39; are not recognised as duplicates.

3&#41; The same code fragment appears in cygwin.pm and in that context, searchlist entries differing only by upper/lower case are not recognised as duplicates.

4&#41; A search list entry with a trailing &#39;.&#39; causes the &#34;devolution&#34; loop to add an unadorned TLD label to the searchlist.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1712665" href="/Public/Bug/Display.html?id=120748#txn-1712665">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;27&nbsp;09:55:24&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1712665/920158/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/920158">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 673b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 27 09:39:29 2017, rwfranks@acm.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Mar 24 21:57:06 2017, ZDM wrote:
<div class="message-stanza open">&gt; &gt; require Net::DNS::Resolver::MSWin32;
&gt; &gt; Bareword &#34;KEY_READ&#34; not allowed while &#34;strict subs&#34; in use at
&gt; &gt; d:/devel/perl/perl/site/lib/Net/DNS/Resolver/MSWin32.pm line 66.
&gt; &gt;
&gt; &gt; Please, fix imports.
</div>&gt; 
&gt; The compiler elects to treat the bare word as a quoted string.
&gt; Tie::Registry, for reasons of its own, accepts {Access =&gt; &#39;KEY_READ&#39;}
&gt; as an alternative to the value of the imported constant. Although
&gt; obviously wrong, the failed import therefore has no material effect
&gt; beyond creating unwelcome compiler noise.
</div>
I take that back. That only happens if no strict.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1724535" href="/Public/Bug/Display.html?id=120748#txn-1724535">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;06&nbsp;11:46:35&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1724535/927104/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/927104">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 24b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in Net::DNS 1.10
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1724576" href="/Public/Bug/Display.html?id=120748#txn-1724576">#</a>      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;07&nbsp;02:19:59&nbsp;2017</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.642368</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
