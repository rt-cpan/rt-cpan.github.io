<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75225 for Module-Install: Should not depend on whatever EUMM version it was released with</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75225 for Module-Install: Should not depend on whatever EUMM version it was released with</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Module-Install/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Module-Install/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Module-Install/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Module-Install/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Module-Install">Module-Install CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75225</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Module-Install/Active/">Module-Install</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
bobtfish [...] bobtfish.net

<br />
MIYAGAWA [...] cpan.org

<br />
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-21632-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.04    </td>
  </tr>
  <tr id="CF-21633-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:20:17&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Should not depend on whatever EUMM version it was released with</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza"><p>I&nbsp;discovered today that:&nbsp;</p>

<p><a href="https://metacpan.org/source/BOBTFISH/Catalyst-Action-REST-0.98/META.yml" target="_blank"><span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/BOBTFISH/Catalyst-Action-REST-0.98/META.yml">https://metacpan.org/source/BOBTFISH/Catalyst-Action-REST-0.98/META.yml</a></span></a></p>

<p>Unintentionally infers a dependency on ExtUtils::MakeMaker 6.63_02 , due to Tom releasing his dist under perl 5.15.8 . </p>

<p>This is decidedly unwanted behaviour, as the latest stable version on ExtUtils::MakeMaker on CPAN is version 6.59, and there's nothing intrinsically special about his dist that makes it need 6.59, and there's nothing magical being done by MI&nbsp;that would suggest EUMM&nbsp;6.63_02 is really necessary. </p>

<p>So, as a result of discussing this with tom, ribasushi and leont&nbsp; (&nbsp;on <em>#catalyst</em> and <em>#toolchain</em> ), I&nbsp;was placed under the impression that the &quot;sane&quot;&nbsp;thing to do here is place a fixed requirement on 6.59 , both in the generated build_requires / configure_requires , and in the 'requires' for MI itself.</p>

<p><br>

There was a little umming and aahing as to whether or not to completely strip out the perl 5.005 and lower back-compat code and just state the sane mentality that that platform now is pretty much deemed &quot;broken&quot;&nbsp;anyway, but its been left in anyway. </p>

<p>&nbsp;</p>

<p>Attached Patch replaces the &quot;use the current&nbsp;EUMM&quot;&nbsp;logic with &quot;use 6.59&quot;&nbsp;and also places an install dep on EUMM&nbsp;6.59.</p>

<p>The patch is in git format vs a git-svn'd copy of <span class="clickylink"><a target="new" rel="nofollow" href="http://svn.ali.as/cpan/trunk/Module-Install@14948&#38;nbsp">http://svn.ali.as/cpan/trunk/Module-Install@14948&#38;nbsp</a></span>; , but hopefully that doesn't pose any complications. </p>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Modify-it-so-if-developers-are-not-explicitly-statin.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From ac653519b70a7c6051357f89a301bee07c49b5bf Mon Sep 17 00:00:00 2001
From: Kent Fredric &lt;kentfredric@gmail.com&gt;
Date: Thu, 23 Feb 2012 09:56:03 +1300
Subject: [PATCH] Modify it so if developers are not explicitly stating support for perl 5.005 or lower, then EUMM 5.59 is mandated, instead of mandating that the end user install whatever version of EUMM the developer happened to be using

---
 Makefile.PL                    |    1 +
 lib/Module/Install/Makefile.pm |   12 +++++++-----
 2 files changed, 8 insertions&#40;+&#41;, 5 deletions&#40;-&#41;

diff --git a/Makefile.PL b/Makefile.PL
index 48862ee..fee61e3 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -35,6 +35,7 @@ requires      &#39;ExtUtils::ParseXS&#39; =&gt; &#39;2.19&#39;;
 requires      &#39;Module::Build&#39;     =&gt; &#39;0.29&#39;;
 requires      &#39;LWP::UserAgent&#39;    =&gt; &#39;5.812&#39;;
 requires       &#39;Module::Metadata&#39; =&gt; &#39;1.000007&#39;;
+requires      &#39;ExtUtils::MakeMaker&#39; =&gt; &#39;6.59&#39;;
 test_requires &#39;Test::Harness&#39;     =&gt; &#39;3.13&#39;;
 test_requires &#39;Test::More&#39;        =&gt; &#39;0.86&#39;;
 
diff --git a/lib/Module/Install/Makefile.pm b/lib/Module/Install/Makefile.pm
index 52df806..b321c82 100644
--- a/lib/Module/Install/Makefile.pm
+++ b/lib/Module/Install/Makefile.pm
@@ -214,11 +214,13 @@ sub write {
 	require ExtUtils::MakeMaker;
 
 	if &#40; $perl_version and $self-&gt;_cmp&#40;$perl_version, &#39;5.006&#39;&#41; &gt;= 0 &#41; {
-		# MakeMaker can complain about module versions that include
-		# an underscore, even though its own version may contain one!
-		# Hence the funny regexp to get rid of it.  See RT #35800
-		# for details.
-		my &#40;$v&#41; = $ExtUtils::MakeMaker::VERSION =~ /^&#40;\d+\.\d+&#41;/;
+
+		# Previously the MakeMaker version required was determined based
+		# on whatever you were using when you released the dist, but this is
+		# not sensible, as Module::Install really is the single arbiter
+		# of what version of ExtUtils::MakeMaker we really should need.
+
+		my &#40;$v&#41; = &#39;6.59&#39;; # Minium Version of ExtUtils::MakeMaker
 		$self-&gt;build_requires&#40;     &#39;ExtUtils::MakeMaker&#39; =&gt; $v &#41;;
 		$self-&gt;configure_requires&#40; &#39;ExtUtils::MakeMaker&#39; =&gt; $v &#41;;
 	} else {
-- 
1.7.3.4

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:21:07&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Cc BOBTFISH added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:21:20&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:21:38&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Cc MIYAGAWA added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:36:25&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><p>Whoops, a few editorial mistakes:</p>


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><blockquote>

<p>latest stable version on ExtUtils::MakeMaker on CPAN is version 6.59</p>

</blockquote>
</div><p>Latest stable is 6.62, but 6.59 is, to quote ribasushi: &quot;not terminally fucked, and tested enough&quot; <br>

<br>

</p>


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><blockquote>

<p>and there's nothing intrinsically special about his dist that makes it need 6.59</p>

</blockquote>
</div><p>I&nbsp;obviously meant to say 6.63_02&nbsp; here.&nbsp;<br>

&nbsp;</p>

<p>&nbsp;</p>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:36:27&nbsp;2012</span>
    <span class="description">KENTNL [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;22&nbsp;16:41:06&nbsp;2012</span>
    <span class="description">miyagawa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> KENTNL [...] cpan.org, MIYAGAWA [...] cpan.org, bobtfish [...] bobtfish.net,  ribasushi [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #75225] Should not depend on whatever EUMM version it was released with</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 22 Feb 2012 13:40:56 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Module-Install [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Tatsuhiko Miyagawa &lt;miyagawa [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Just for a note: this behavior has been broken for a long time and my patch &#40;r14804&#41; fixed the other related issue that was meant for 5.005 and older and introducing this behavior. 

+1 that the current behavior is annoying and unwanted and it should be fixed. 

-- 
Tatsuhiko Miyagawa


On Wednesday, February 22, 2012 at 1:36 PM, Kent Fredric via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75225">https://rt.cpan.org/Ticket/Display.html?id=75225</a></span> &gt;
&gt; 
&gt; Whoops, a few editorial mistakes:
&gt; 
&gt; latest stable version on ExtUtils::MakeMaker on CPAN is version 6.59
&gt; 
&gt; Latest stable is 6.62, but 6.59 is, to quote ribasushi: &#34;not terminally fucked,
&gt; and tested enough&#34;
&gt; 
&gt; and there&#39;s nothing intrinsically special about his dist that makes it need
&gt; 6.59
&gt; 
&gt; I obviously meant to say 6.63_02 here. 
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;18:33:47&nbsp;2012</span>
    <span class="description">adamk [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> MIYAGAWA [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 1.05.

Miyagawa: I also removed the use of Module::Metadata as inc&#39;ing it
imposed an implicit Perl 5.10 dependency. I moved to EU:MM version
detection with a hand-rolled @INC walker instead.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;27&nbsp;18:33:48&nbsp;2012</span>
    <span class="description">adamk [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
