<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #68290 for Event: Build Broken on OS X &#40;no PPC emulator&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #68290 for Event: Build Broken on OS X &#40;no PPC emulator&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Event/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Event/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Event/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Event/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Event">Event CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">68290</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Event/Active/">Event</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dtanabe [...] lab49.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-12298-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.15    </td>
  </tr>
  <tr id="CF-12299-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;11:07:25&nbsp;2011</span>
    <span class="description">dtanabe [...] lab49.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I couldn&#39;t install Event until I removed &#34;-arch ppc&#34; from the Makefile.

I was initially puzzled because I just installed it yesterday
successfully on an older Mac &#40;but still running 10.6.7&#41;. I also *only*
have the XCode 4 set of development tools installed on the newer Mac;
not sure if that contributes to the problem. --DKT
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;11:23:09&nbsp;2011</span>
    <span class="description">jpritikin [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 18 11:07:25 2011, dtanabe wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I couldn&#39;t install Event until I removed &#34;-arch ppc&#34; from the Makefile.
</div>
Hm, you don&#39;t provide much information about the failure. Can you include 
as much as possible? Also, does the attached patch help?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> p1</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;11:23:10&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;11:48:20&nbsp;2011</span>
    <span class="description">dtanabe [...] lab49.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 11:48:07 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Event [...] rt.cpan.org&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Davin Tanabe &lt;dtanabe [...] lab49.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No luck with the patch; it actually didn&#39;t match what was in 1.15, so I patched it manually, but with no luck.

My t/io.t:89 if &#40;$Config{osname} eq &#39;darwin&#39; or $Config{archname} =~ m/^armv5tejl/&#41; {
Patch &#40;orig&#41;: if &#40;$Config{osname} eq &#39;darwin&#39; or $Config{osname} eq &#39;gnu&#39; or

And sorry about the lack of detail—here&#39;s the output. Somewhere in the middle, you&#39;ll see it whining about the PPC assembler not being found. Hope this is more helpful! —DKT


This email and any attachments may contain information which is confidential and/or privileged. The information is intended exclusively for the addressee and the views expressed may not be official policy, but the personal views of the originator. If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents is prohibited. If you have received this email and any file transmitted with it in error, please notify the sender by telephone or return email immediately and delete the material from your computer. Internet communications are not secure and Lab49 is not responsible for their abuse by third parties, nor for any alteration or corruption in transmission, nor for any damage or loss caused by any virus or other defect. Lab49 accepts no liability or responsibility arising out of or in any way connected to this email.
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;13:12:11&nbsp;2011</span>
    <span class="description">jpritikin [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 10:11:59 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Davin K. Tanabe via RT&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Joshua N Pritikin &lt;jpritikin [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, May 18, 2011 at 11:48:21AM -0400, Davin K. Tanabe via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; lipo: can&#39;t open input file: /var/tmp//ccefkSW1.out &#40;No such file or directory&#41;
</div>
Hm, I don&#39;t see any errors except for here. The problem may not be due 
to Event. Is your compiler toolchain able to compile other perl modules?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;13:46:25&nbsp;2011</span>
    <span class="description">dtanabe [...] lab49.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 13:46:15 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Event [...] rt.cpan.org&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Davin Tanabe &lt;dtanabe [...] lab49.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Towards the middle:

c/generic.c:62: warning: format not a string literal and no format arguments
/usr/libexec/gcc/powerpc-apple-darwin10/4.2.1/as: assembler &#40;/usr/bin/../libexec/gcc/darwin/ppc/as or /usr/bin/../local/libexec/gcc/darwin/ppc/as&#41; for architecture ppc not installed
Installed assemblers are:
/usr/bin/../libexec/gcc/darwin/x86_64/as for architecture x86_64
/usr/bin/../libexec/gcc/darwin/i386/as for architecture i386

That&#39;s what clued me in to the potential problem.

It&#39;s a fresh build, OS 10.6.7 with the included Perl &#40;5.10.0&#41; and gcc 4.2.1. It&#39;s only the CPAN module I needed that wouldn&#39;t compile; everything else &#40;including IO::Event, which is what I actually needed&#41; seems fine. And again, removing &#34;-arch ppc&#34; from the three lines where it appears in the Makefile seems to cure all my ills—it compiles and installs without problems after that.

My older Mac still had the PPC Rosetta emulator installed. That&#39;s probably why it works there and it doesn&#39;t work on newer Macs now that they don&#39;t install PPC emulator support by default, and I&#39;d be surprised if the XCode 4 toolchain includes any support for it either. On all my other machines, I upgraded XCode 3 to XCode 4; not sure what version of gcc, et al it comes with, but I always also installed support for older SDKs, which generally also meant PPC support. I guess XCode 4 doesn&#39;t allow for that any more. —DKT

On May 18, 2011, at 1:12 PM, Joshua Pritikin via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=68290">http://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt;
&gt; On Wed, May 18, 2011 at 11:48:21AM -0400, Davin K. Tanabe via RT wrote:
<div class="message-stanza open">&gt;&gt; lipo: can&#39;t open input file: /var/tmp//ccefkSW1.out &#40;No such file or directory&#41;
</div>&gt;
&gt; Hm, I don&#39;t see any errors except for here. The problem may not be due
&gt; to Event. Is your compiler toolchain able to compile other perl modules?
&gt;
</div>

This email and any attachments may contain information which is confidential and/or privileged. The information is intended exclusively for the addressee and the views expressed may not be official policy, but the personal views of the originator. If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents is prohibited. If you have received this email and any file transmitted with it in error, please notify the sender by telephone or return email immediately and delete the material from your computer. Internet communications are not secure and Lab49 is not responsible for their abuse by third parties, nor for any alteration or corruption in transmission, nor for any damage or loss caused by any virus or other defect. Lab49 accepts no liability or responsibility arising out of or in any way connected to this email.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;13:54:40&nbsp;2011</span>
    <span class="description">jpritikin [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 10:54:27 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Davin K. Tanabe via RT&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Joshua N Pritikin &lt;jpritikin [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, May 18, 2011 at 01:46:25PM -0400, Davin K. Tanabe via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Event
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt; 
&gt; Towards the middle:
&gt; 
&gt; c/generic.c:62: warning: format not a string literal and no format arguments
&gt; /usr/libexec/gcc/powerpc-apple-darwin10/4.2.1/as: assembler &#40;/usr/bin/../libexec/gcc/darwin/ppc/as or /usr/bin/../local/libexec/gcc/darwin/ppc/as&#41; for architecture ppc not installed
&gt; Installed assemblers are:
&gt; /usr/bin/../libexec/gcc/darwin/x86_64/as for architecture x86_64
&gt; /usr/bin/../libexec/gcc/darwin/i386/as for architecture i386
&gt; 
&gt; That&#39;s what clued me in to the potential problem.
&gt; 
&gt; It&#39;s a fresh build, OS 10.6.7 with the included Perl &#40;5.10.0&#41; and gcc 4.2.1. It&#39;s only the CPAN module I needed that wouldn&#39;t compile; everything else &#40;including IO::Event, which is what I actually needed&#41; seems fine. And again, removing &#34;-arch ppc&#34; from the three lines where it appears in the Makefile seems to cure all my ills—it compiles and installs without problems after that.
&gt; 
&gt; My older Mac still had the PPC Rosetta emulator installed. That&#39;s probably why it works there and it doesn&#39;t work on newer Macs now that they don&#39;t install PPC emulator support by default, and I&#39;d be surprised if the XCode 4 toolchain includes any support for it either. On all my other machines, I upgraded XCode 3 to XCode 4; not sure what version of gcc, et al it comes with, but I always also installed support for older SDKs, which generally also meant PPC support. I guess XCode 4 doesn&#39;t allow for that any more. —DKT
</div>
Drat, well, I don&#39;t really have any idea. If you can narrow it down to a 
patch to Event, I will happily apply it.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;14:16:45&nbsp;2011</span>
    <span class="description">dtanabe [...] lab49.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 14:16:31 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Event [...] rt.cpan.org&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Davin Tanabe &lt;dtanabe [...] lab49.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Looks like there are a few things out there that suffer from the same problem:

<span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/5256397/osx-10-6-6-cant-install-appscript">http://stackoverflow.com/questions/5256397/osx-10-6-6-cant-install-appscript</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://lists.apple.com/archives/xcode-users/2011/Mar/msg00215.html">http://lists.apple.com/archives/xcode-users/2011/Mar/msg00215.html</a></span>

I&#39;m trying to figure out how this translates into a patch &#40;I would never be confused as a Perl expert&#41;, but hopefully that means more to you than it does to me. —DKT

On May 18, 2011, at 1:54 PM, Joshua Pritikin via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt;
&gt; On Wed, May 18, 2011 at 01:46:25PM -0400, Davin K. Tanabe via RT wrote:
<div class="message-stanza open">&gt;&gt;       Queue: Event
&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt;&gt;
&gt;&gt; Towards the middle:
&gt;&gt;
&gt;&gt; c/generic.c:62: warning: format not a string literal and no format arguments
&gt;&gt; /usr/libexec/gcc/powerpc-apple-darwin10/4.2.1/as: assembler &#40;/usr/bin/../libexec/gcc/darwin/ppc/as or /usr/bin/../local/libexec/gcc/darwin/ppc/as&#41; for architecture ppc not installed
&gt;&gt; Installed assemblers are:
&gt;&gt; /usr/bin/../libexec/gcc/darwin/x86_64/as for architecture x86_64
&gt;&gt; /usr/bin/../libexec/gcc/darwin/i386/as for architecture i386
&gt;&gt;
&gt;&gt; That&#39;s what clued me in to the potential problem.
&gt;&gt;
&gt;&gt; It&#39;s a fresh build, OS 10.6.7 with the included Perl &#40;5.10.0&#41; and gcc 4.2.1. It&#39;s only the CPAN module I needed that wouldn&#39;t compile; everything else &#40;including IO::Event, which is what I actually needed&#41; seems fine. And again, removing &#34;-arch ppc&#34; from the three lines where it appears in the Makefile seems to cure all my ills—it compiles and installs without problems after that.
&gt;&gt;
&gt;&gt; My older Mac still had the PPC Rosetta emulator installed. That&#39;s probably why it works there and it doesn&#39;t work on newer Macs now that they don&#39;t install PPC emulator support by default, and I&#39;d be surprised if the XCode 4 toolchain includes any support for it either. On all my other machines, I upgraded XCode 3 to XCode 4; not sure what version of gcc, et al it comes with, but I always also installed support for older SDKs, which generally also meant PPC support. I guess XCode 4 doesn&#39;t allow for that any more. —DKT
</div>&gt;
&gt; Drat, well, I don&#39;t really have any idea. If you can narrow it down to a
&gt; patch to Event, I will happily apply it.
&gt;
</div>

This email and any attachments may contain information which is confidential and/or privileged. The information is intended exclusively for the addressee and the views expressed may not be official policy, but the personal views of the originator. If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents is prohibited. If you have received this email and any file transmitted with it in error, please notify the sender by telephone or return email immediately and delete the material from your computer. Internet communications are not secure and Lab49 is not responsible for their abuse by third parties, nor for any alteration or corruption in transmission, nor for any damage or loss caused by any virus or other defect. Lab49 accepts no liability or responsibility arising out of or in any way connected to this email.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;14:22:44&nbsp;2011</span>
    <span class="description">dtanabe [...] lab49.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;bug-Event [...] rt.cpan.org&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 14:22:34 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Davin Tanabe &lt;dtanabe [...] lab49.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Davin Tanabe &lt;dtanabe [...] lab49.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Definitely not an Event problem.

More to the point:

<span class="clickylink"><a target="new" rel="nofollow" href="http://mjo.tc/atelier/2011/03/xcode4-perl.html">http://mjo.tc/atelier/2011/03/xcode4-perl.html</a></span>

It&#39;s definitely more than just this library that&#39;s broken, and certainly the &#34;fix&#34; for this would be for Apple to fix their broken distribution of Perl. Not sure why some packages work and some don&#39;t, but luck of the draw caused this particular one to break for me. Sorry for the false alarm! —DKT

On May 18, 2011, at 2:16 PM, Davin Tanabe wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looks like there are a few things out there that suffer from the same problem:
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/5256397/osx-10-6-6-cant-install-appscript">http://stackoverflow.com/questions/5256397/osx-10-6-6-cant-install-appscript</a></span>
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://lists.apple.com/archives/xcode-users/2011/Mar/msg00215.html">http://lists.apple.com/archives/xcode-users/2011/Mar/msg00215.html</a></span>
&gt;
&gt; I&#39;m trying to figure out how this translates into a patch &#40;I would never be confused as a Perl expert&#41;, but hopefully that means more to you than it does to me. —DKT
&gt;
&gt; On May 18, 2011, at 1:54 PM, Joshua Pritikin via RT wrote:
&gt;
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt;&gt;
&gt;&gt; On Wed, May 18, 2011 at 01:46:25PM -0400, Davin K. Tanabe via RT wrote:
<div class="message-stanza open">&gt;&gt;&gt;      Queue: Event
&gt;&gt;&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Towards the middle:
&gt;&gt;&gt;
&gt;&gt;&gt; c/generic.c:62: warning: format not a string literal and no format arguments
&gt;&gt;&gt; /usr/libexec/gcc/powerpc-apple-darwin10/4.2.1/as: assembler &#40;/usr/bin/../libexec/gcc/darwin/ppc/as or /usr/bin/../local/libexec/gcc/darwin/ppc/as&#41; for architecture ppc not installed
&gt;&gt;&gt; Installed assemblers are:
&gt;&gt;&gt; /usr/bin/../libexec/gcc/darwin/x86_64/as for architecture x86_64
&gt;&gt;&gt; /usr/bin/../libexec/gcc/darwin/i386/as for architecture i386
&gt;&gt;&gt;
&gt;&gt;&gt; That&#39;s what clued me in to the potential problem.
&gt;&gt;&gt;
&gt;&gt;&gt; It&#39;s a fresh build, OS 10.6.7 with the included Perl &#40;5.10.0&#41; and gcc 4.2.1. It&#39;s only the CPAN module I needed that wouldn&#39;t compile; everything else &#40;including IO::Event, which is what I actually needed&#41; seems fine. And again, removing &#34;-arch ppc&#34; from the three lines where it appears in the Makefile seems to cure all my ills—it compiles and installs without problems after that.
&gt;&gt;&gt;
&gt;&gt;&gt; My older Mac still had the PPC Rosetta emulator installed. That&#39;s probably why it works there and it doesn&#39;t work on newer Macs now that they don&#39;t install PPC emulator support by default, and I&#39;d be surprised if the XCode 4 toolchain includes any support for it either. On all my other machines, I upgraded XCode 3 to XCode 4; not sure what version of gcc, et al it comes with, but I always also installed support for older SDKs, which generally also meant PPC support. I guess XCode 4 doesn&#39;t allow for that any more. —DKT
</div>&gt;&gt;
&gt;&gt; Drat, well, I don&#39;t really have any idea. If you can narrow it down to a
&gt;&gt; patch to Event, I will happily apply it.
&gt;&gt;
</div>&gt;
</div>

This email and any attachments may contain information which is confidential and/or privileged. The information is intended exclusively for the addressee and the views expressed may not be official policy, but the personal views of the originator. If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents is prohibited. If you have received this email and any file transmitted with it in error, please notify the sender by telephone or return email immediately and delete the material from your computer. Internet communications are not secure and Lab49 is not responsible for their abuse by third parties, nor for any alteration or corruption in transmission, nor for any damage or loss caused by any virus or other defect. Lab49 accepts no liability or responsibility arising out of or in any way connected to this email.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;15:04:30&nbsp;2011</span>
    <span class="description">jpritikin [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #68290] Build Broken on OS X &#40;no PPC emulator&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 18 May 2011 12:04:17 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Davin K. Tanabe via RT&#34; &lt;bug-Event [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Joshua N Pritikin &lt;jpritikin [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, May 18, 2011 at 02:22:45PM -0400, Davin K. Tanabe via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Event
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=68290">https://rt.cpan.org/Ticket/Display.html?id=68290</a></span> &gt;
&gt; 
&gt; Definitely not an Event problem.
&gt; 
&gt; More to the point:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://mjo.tc/atelier/2011/03/xcode4-perl.html">http://mjo.tc/atelier/2011/03/xcode4-perl.html</a></span>
&gt; 
&gt; It&#39;s definitely more than just this library that&#39;s broken, and certainly the &#34;fix&#34; for this would be for Apple to fix their broken distribution of Perl. Not sure why some packages work and some don&#39;t, but luck of the draw caused this particular one to break for me. Sorry for the false alarm! —DKT
</div>
Ah great. Thanks for tracking that down.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;18&nbsp;16:15:55&nbsp;2011</span>
    <span class="description">jpritikin [...] pobox.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
